var Ele=Object.create;var E7=Object.defineProperty,Dle=Object.defineProperties,Ile=Object.getOwnPropertyDescriptor,Lle=Object.getOwnPropertyDescriptors,Ale=Object.getOwnPropertyNames,T7=Object.getOwnPropertySymbols,zle=Object.getPrototypeOf,gx=Object.prototype.hasOwnProperty,TP=Object.prototype.propertyIsEnumerable;var MP=(n,t,e)=>t in n?E7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Q=(n,t)=>{for(var e in t||={})gx.call(t,e)&&MP(n,e,t[e]);if(T7)for(var e of T7(t))TP.call(t,e)&&MP(n,e,t[e]);return n},De=(n,t)=>Dle(n,Lle(t));var vx=(n,t)=>{var e={};for(var i in n)gx.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&T7)for(var i of T7(n))t.indexOf(i)<0&&TP.call(n,i)&&(e[i]=n[i]);return e};var Re=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Ko=(n,t)=>{for(var e in t)E7(n,e,{get:t[e],enumerable:!0})},kle=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Ale(t))!gx.call(n,r)&&r!==e&&E7(n,r,{get:()=>t[r],enumerable:!(i=Ile(t,r))||i.enumerable});return n};var D7=(n,t,e)=>(e=n!=null?Ele(zle(n)):{},kle(t||!n||!n.__esModule?E7(e,"default",{value:n,enumerable:!0}):e,n));var Jo=(n,t,e)=>new Promise((i,r)=>{var o=l=>{try{s(e.next(l))}catch(c){r(c)}},a=l=>{try{s(e.throw(l))}catch(c){r(c)}},s=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(n,t)).next())});var ZW=Re((f2t,SE)=>{"use strict";global.crypto&&global.crypto.getRandomValues?SE.exports.randomBytes=function(n){var t=new Uint8Array(n);return global.crypto.getRandomValues(t),t}:SE.exports.randomBytes=function(n){for(var t=new Array(n),e=0;e<n;e++)t[e]=Math.floor(Math.random()*256);return t}});var r3=Re((p2t,QW)=>{"use strict";var Wme=ZW(),XW="abcdefghijklmnopqrstuvwxyz012345";QW.exports={string:function(n){for(var t=XW.length,e=Wme.randomBytes(n),i=[],r=0;r<n;r++)i.push(XW.substr(e[r]%t,1));return i.join("")},number:function(n){return Math.floor(Math.random()*n)},numberString:function(n){var t=(""+(n-1)).length,e=new Array(t+1).join("0");return(e+this.number(n)).slice(-t)}}});var E2=Re((m2t,Xg)=>{"use strict";var qme=r3(),fu={},wE=!1,KW=global.chrome&&global.chrome.app&&global.chrome.app.runtime;Xg.exports={attachEvent:function(n,t){typeof global.addEventListener<"u"?global.addEventListener(n,t,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+n,t),global.attachEvent("on"+n,t))},detachEvent:function(n,t){typeof global.addEventListener<"u"?global.removeEventListener(n,t,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+n,t),global.detachEvent("on"+n,t))},unloadAdd:function(n){if(KW)return null;var t=qme.string(8);return fu[t]=n,wE&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(n){n in fu&&delete fu[n]},triggerUnloadCallbacks:function(){for(var n in fu)fu[n](),delete fu[n]}};var $me=function(){wE||(wE=!0,Xg.exports.triggerUnloadCallbacks())};KW||Xg.exports.attachEvent("unload",$me)});var eq=Re((h2t,JW)=>{"use strict";JW.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var iq=Re(ME=>{"use strict";var Yme=Object.prototype.hasOwnProperty,Zme;function tq(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch{return null}}function nq(n){try{return encodeURIComponent(n)}catch{return null}}function Xme(n){for(var t=/([^=?#&]+)=?([^&]*)/g,e={},i;i=t.exec(n);){var r=tq(i[1]),o=tq(i[2]);r===null||o===null||r in e||(e[r]=o)}return e}function Qme(n,t){t=t||"";var e=[],i,r;typeof t!="string"&&(t="?");for(r in n)if(Yme.call(n,r)){if(i=n[r],!i&&(i===null||i===Zme||isNaN(i))&&(i=""),r=nq(r),i=nq(i),r===null||i===null)continue;e.push(r+"="+i)}return e.length?t+e.join("&"):""}ME.stringify=Qme;ME.parse=Xme});var DE=Re((v2t,uq)=>{"use strict";var oq=eq(),Qg=iq(),Kme=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,aq=/[\n\r\t]/g,Jme=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,sq=/:\d+$/,ehe=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,the=/^[a-zA-Z]:/;function EE(n){return(n||"").toString().replace(Kme,"")}var TE=[["#","hash"],["?","query"],function(t,e){return vs(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],rq={hash:1,query:1};function lq(n){var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t={};var e=t.location||{};n=n||e;var i={},r=typeof n,o;if(n.protocol==="blob:")i=new ys(unescape(n.pathname),{});else if(r==="string"){i=new ys(n,{});for(o in rq)delete i[o]}else if(r==="object"){for(o in n)o in rq||(i[o]=n[o]);i.slashes===void 0&&(i.slashes=Jme.test(n.href))}return i}function vs(n){return n==="file:"||n==="ftp:"||n==="http:"||n==="https:"||n==="ws:"||n==="wss:"}function cq(n,t){n=EE(n),n=n.replace(aq,""),t=t||{};var e=ehe.exec(n),i=e[1]?e[1].toLowerCase():"",r=!!e[2],o=!!e[3],a=0,s;return r?o?(s=e[2]+e[3]+e[4],a=e[2].length+e[3].length):(s=e[2]+e[4],a=e[2].length):o?(s=e[3]+e[4],a=e[3].length):s=e[4],i==="file:"?a>=2&&(s=s.slice(2)):vs(i)?s=e[4]:i?r&&(s=s.slice(2)):a>=2&&vs(t.protocol)&&(s=e[4]),{protocol:i,slashes:r||vs(i),slashesCount:a,rest:s}}function nhe(n,t){if(n==="")return t;for(var e=(t||"/").split("/").slice(0,-1).concat(n.split("/")),i=e.length,r=e[i-1],o=!1,a=0;i--;)e[i]==="."?e.splice(i,1):e[i]===".."?(e.splice(i,1),a++):a&&(i===0&&(o=!0),e.splice(i,1),a--);return o&&e.unshift(""),(r==="."||r==="..")&&e.push(""),e.join("/")}function ys(n,t,e){if(n=EE(n),n=n.replace(aq,""),!(this instanceof ys))return new ys(n,t,e);var i,r,o,a,s,l,c=TE.slice(),u=typeof t,d=this,f=0;for(u!=="object"&&u!=="string"&&(e=t,t=null),e&&typeof e!="function"&&(e=Qg.parse),t=lq(t),r=cq(n||"",t),i=!r.protocol&&!r.slashes,d.slashes=r.slashes||i&&t.slashes,d.protocol=r.protocol||t.protocol||"",n=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||the.test(n))||!r.slashes&&(r.protocol||r.slashesCount<2||!vs(d.protocol)))&&(c[3]=[/(.*)/,"pathname"]);f<c.length;f++){if(a=c[f],typeof a=="function"){n=a(n,d);continue}o=a[0],l=a[1],o!==o?d[l]=n:typeof o=="string"?(s=o==="@"?n.lastIndexOf(o):n.indexOf(o),~s&&(typeof a[2]=="number"?(d[l]=n.slice(0,s),n=n.slice(s+a[2])):(d[l]=n.slice(s),n=n.slice(0,s)))):(s=o.exec(n))&&(d[l]=s[1],n=n.slice(0,s.index)),d[l]=d[l]||i&&a[3]&&t[l]||"",a[4]&&(d[l]=d[l].toLowerCase())}e&&(d.query=e(d.query)),i&&t.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||t.pathname!=="")&&(d.pathname=nhe(d.pathname,t.pathname)),d.pathname.charAt(0)!=="/"&&vs(d.protocol)&&(d.pathname="/"+d.pathname),oq(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(s=d.auth.indexOf(":"),~s?(d.username=d.auth.slice(0,s),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(s+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&vs(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function ihe(n,t,e){var i=this;switch(n){case"query":typeof t=="string"&&t.length&&(t=(e||Qg.parse)(t)),i[n]=t;break;case"port":i[n]=t,oq(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[n]="");break;case"hostname":i[n]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[n]=t,sq.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!e;break;case"pathname":case"hash":if(t){var r=n==="pathname"?"/":"#";i[n]=t.charAt(0)!==r?r+t:t}else i[n]=t;break;case"username":case"password":i[n]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(i.username=t.slice(0,o),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(o+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<TE.length;a++){var s=TE[a];s[4]&&(i[s[1]]=i[s[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&vs(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function rhe(n){(!n||typeof n!="function")&&(n=Qg.stringify);var t,e=this,i=e.host,r=e.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var o=r+(e.protocol&&e.slashes||vs(e.protocol)?"//":"");return e.username?(o+=e.username,e.password&&(o+=":"+e.password),o+="@"):e.password?(o+=":"+e.password,o+="@"):e.protocol!=="file:"&&vs(e.protocol)&&!i&&e.pathname!=="/"&&(o+="@"),(i[i.length-1]===":"||sq.test(e.hostname)&&!e.port)&&(i+=":"),o+=i+e.pathname,t=typeof e.query=="object"?n(e.query):e.query,t&&(o+=t.charAt(0)!=="?"?"?"+t:t),e.hash&&(o+=e.hash),o}ys.prototype={set:ihe,toString:rhe};ys.extractProtocol=cq;ys.location=lq;ys.trimLeft=EE;ys.qs=Qg;uq.exports=ys});var la=Re((y2t,dq)=>{"use strict";var ohe=DE(),ahe=function(){};dq.exports={getOrigin:function(n){if(!n)return null;var t=new ohe(n);if(t.protocol==="file:")return null;var e=t.port;return e||(e=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+e},isOriginEqual:function(n,t){var e=this.getOrigin(n)===this.getOrigin(t);return ahe("same",n,t,e),e},isSchemeEqual:function(n,t){return n.split(":")[0]===t.split(":")[0]},addPath:function(n,t){var e=n.split("?");return e[0]+t+(e[1]?"?"+e[1]:"")},addQuery:function(n,t){return n+(n.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(n){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(n)||/^\[::1\]$/.test(n)}}});var Xt=Re((_2t,IE)=>{"use strict";typeof Object.create=="function"?IE.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:IE.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}});var LE=Re((b2t,fq)=>{"use strict";function Kg(){this._listeners={}}Kg.prototype.addEventListener=function(n,t){n in this._listeners||(this._listeners[n]=[]);var e=this._listeners[n];e.indexOf(t)===-1&&(e=e.concat([t])),this._listeners[n]=e};Kg.prototype.removeEventListener=function(n,t){var e=this._listeners[n];if(e){var i=e.indexOf(t);if(i!==-1){e.length>1?this._listeners[n]=e.slice(0,i).concat(e.slice(i+1)):delete this._listeners[n];return}}};Kg.prototype.dispatchEvent=function(){var n=arguments[0],t=n.type,e=arguments.length===1?[n]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,e),t in this._listeners)for(var i=this._listeners[t],r=0;r<i.length;r++)i[r].apply(this,e)};fq.exports=Kg});var Hr=Re((x2t,pq)=>{"use strict";var she=Xt(),Jg=LE();function l0(){Jg.call(this)}she(l0,Jg);l0.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}};l0.prototype.once=function(n,t){var e=this,i=!1;function r(){e.removeListener(n,r),i||(i=!0,t.apply(this,arguments))}this.on(n,r)};l0.prototype.emit=function(){var n=arguments[0],t=this._listeners[n];if(t){for(var e=arguments.length,i=new Array(e-1),r=1;r<e;r++)i[r-1]=arguments[r];for(var o=0;o<t.length;o++)t[o].apply(this,i)}};l0.prototype.on=l0.prototype.addListener=Jg.prototype.addEventListener;l0.prototype.removeListener=Jg.prototype.removeEventListener;pq.exports.EventEmitter=l0});var hq=Re((C2t,AE)=>{"use strict";var mq=global.WebSocket||global.MozWebSocket;mq?AE.exports=function(t){return new mq(t)}:AE.exports=void 0});var bq=Re((S2t,_q)=>{"use strict";var gq=E2(),lhe=la(),che=Xt(),vq=Hr().EventEmitter,yq=hq(),D2=function(){};function I2(n,t,e){if(!I2.enabled())throw new Error("Transport created when disabled");vq.call(this),D2("constructor",n);var i=this,r=lhe.addPath(n,"/websocket");r.slice(0,5)==="https"?r="wss"+r.slice(5):r="ws"+r.slice(4),this.url=r,this.ws=new yq(this.url,[],e),this.ws.onmessage=function(o){D2("message event",o.data),i.emit("message",o.data)},this.unloadRef=gq.unloadAdd(function(){D2("unload"),i.ws.close()}),this.ws.onclose=function(o){D2("close event",o.code,o.reason),i.emit("close",o.code,o.reason),i._cleanup()},this.ws.onerror=function(o){D2("error event",o),i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}che(I2,vq);I2.prototype.send=function(n){var t="["+n+"]";D2("send",t),this.ws.send(t)};I2.prototype.close=function(){D2("close");var n=this.ws;this._cleanup(),n&&n.close()};I2.prototype._cleanup=function(){D2("_cleanup");var n=this.ws;n&&(n.onmessage=n.onclose=n.onerror=null),gq.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};I2.enabled=function(){return D2("enabled"),!!yq};I2.transportName="websocket";I2.roundTrips=2;_q.exports=I2});var Sq=Re((w2t,Cq)=>{"use strict";var uhe=Xt(),xq=Hr().EventEmitter,L2=function(){};function o3(n,t){L2(n),xq.call(this),this.sendBuffer=[],this.sender=t,this.url=n}uhe(o3,xq);o3.prototype.send=function(n){L2("send",n),this.sendBuffer.push(n),this.sendStop||this.sendSchedule()};o3.prototype.sendScheduleWait=function(){L2("sendScheduleWait");var n=this,t;this.sendStop=function(){L2("sendStop"),n.sendStop=null,clearTimeout(t)},t=setTimeout(function(){L2("timeout"),n.sendStop=null,n.sendSchedule()},25)};o3.prototype.sendSchedule=function(){L2("sendSchedule",this.sendBuffer.length);var n=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(e){n.sendStop=null,e?(L2("error",e),n.emit("close",e.code||1006,"Sending error: "+e),n.close()):n.sendScheduleWait()}),this.sendBuffer=[]}};o3.prototype._cleanup=function(){L2("_cleanup"),this.removeAllListeners()};o3.prototype.close=function(){L2("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};Cq.exports=o3});var Tq=Re((M2t,Mq)=>{"use strict";var dhe=Xt(),wq=Hr().EventEmitter,J5=function(){};function ev(n,t,e){J5(t),wq.call(this),this.Receiver=n,this.receiveUrl=t,this.AjaxObject=e,this._scheduleReceiver()}dhe(ev,wq);ev.prototype._scheduleReceiver=function(){J5("_scheduleReceiver");var n=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(e){J5("message",e),n.emit("message",e)}),t.once("close",function(e,i){J5("close",e,i,n.pollIsClosing),n.poll=t=null,n.pollIsClosing||(i==="network"?n._scheduleReceiver():(n.emit("close",e||1006,i),n.removeAllListeners()))})};ev.prototype.abort=function(){J5("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};Mq.exports=ev});var NE=Re((T2t,Eq)=>{"use strict";var fhe=Xt(),phe=la(),zE=Sq(),mhe=Tq(),tv=function(){};function kE(n,t,e,i,r){var o=phe.addPath(n,t);tv(o);var a=this;zE.call(this,n,e),this.poll=new mhe(i,o,r),this.poll.on("message",function(s){tv("poll message",s),a.emit("message",s)}),this.poll.once("close",function(s,l){tv("poll close",s,l),a.poll=null,a.emit("close",s,l),a.close()})}fhe(kE,zE);kE.prototype.close=function(){zE.prototype.close.call(this),tv("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};Eq.exports=kE});var a3=Re((E2t,Lq)=>{"use strict";var hhe=Xt(),ghe=la(),Dq=NE(),PE=function(){};function vhe(n){return function(t,e,i){PE("create ajax sender",t,e);var r={};typeof e=="string"&&(r.headers={"Content-type":"text/plain"});var o=ghe.addPath(t,"/xhr_send"),a=new n("POST",o,e,r);return a.once("finish",function(s){if(PE("finish",s),a=null,s!==200&&s!==204)return i(new Error("http status "+s));i()}),function(){PE("abort"),a.close(),a=null;var s=new Error("Aborted");s.code=1e3,i(s)}}}function Iq(n,t,e,i){Dq.call(this,n,t,vhe(i),e,i)}hhe(Iq,Dq);Lq.exports=Iq});var t8=Re((D2t,zq)=>{"use strict";var yhe=Xt(),Aq=Hr().EventEmitter,c0=function(){};function e8(n,t){c0(n),Aq.call(this);var e=this;this.bufferPosition=0,this.xo=new t("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(i,r){c0("finish",i,r),e._chunkHandler(i,r),e.xo=null;var o=i===200?"network":"permanent";c0("close",o),e.emit("close",null,o),e._cleanup()})}yhe(e8,Aq);e8.prototype._chunkHandler=function(n,t){if(c0("_chunkHandler",n),!(n!==200||!t))for(var e=-1;;this.bufferPosition+=e+1){var i=t.slice(this.bufferPosition);if(e=i.indexOf(`
`),e===-1)break;var r=i.slice(0,e);r&&(c0("message",r),this.emit("message",r))}};e8.prototype._cleanup=function(){c0("_cleanup"),this.removeAllListeners()};e8.prototype.abort=function(){c0("abort"),this.xo&&(this.xo.close(),c0("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()};zq.exports=e8});var OE=Re((I2t,Rq)=>{"use strict";var Nq=Hr().EventEmitter,_he=Xt(),Pq=E2(),bhe=la(),n8=global.XMLHttpRequest,Po=function(){};function _s(n,t,e,i){Po(n,t);var r=this;Nq.call(this),setTimeout(function(){r._start(n,t,e,i)},0)}_he(_s,Nq);_s.prototype._start=function(n,t,e,i){var r=this;try{this.xhr=new n8}catch{}if(!this.xhr){Po("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}t=bhe.addQuery(t,"t="+ +new Date),this.unloadRef=Pq.unloadAdd(function(){Po("unload cleanup"),r._cleanup(!0)});try{this.xhr.open(n,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Po("xhr timeout"),r.emit("finish",0,""),r._cleanup(!1)})}catch(a){Po("exception",a),this.emit("finish",0,""),this._cleanup(!1);return}if((!i||!i.noCredentials)&&_s.supportsCORS&&(Po("withCredentials"),this.xhr.withCredentials=!0),i&&i.headers)for(var o in i.headers)this.xhr.setRequestHeader(o,i.headers[o]);this.xhr.onreadystatechange=function(){if(r.xhr){var a=r.xhr,s,l;switch(Po("readyState",a.readyState),a.readyState){case 3:try{l=a.status,s=a.responseText}catch{}Po("status",l),l===1223&&(l=204),l===200&&s&&s.length>0&&(Po("chunk"),r.emit("chunk",l,s));break;case 4:l=a.status,Po("status",l),l===1223&&(l=204),(l===12005||l===12029)&&(l=0),Po("finish",l,a.responseText),r.emit("finish",l,a.responseText),r._cleanup(!1);break}}};try{r.xhr.send(e)}catch{r.emit("finish",0,""),r._cleanup(!1)}};_s.prototype._cleanup=function(n){if(Po("cleanup"),!!this.xhr){if(this.removeAllListeners(),Pq.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),n)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};_s.prototype.close=function(){Po("close"),this._cleanup(!0)};_s.enabled=!!n8;var kq=["Active"].concat("Object").join("X");!_s.enabled&&kq in global&&(Po("overriding xmlhttprequest"),n8=function(){try{return new global[kq]("Microsoft.XMLHTTP")}catch{return null}},_s.enabled=!!new n8);var Oq=!1;try{Oq="withCredentials"in new n8}catch{}_s.supportsCORS=Oq;Rq.exports=_s});var i8=Re((L2t,Fq)=>{"use strict";var xhe=Xt(),nv=OE();function RE(n,t,e,i){nv.call(this,n,t,e,i)}xhe(RE,nv);RE.enabled=nv.enabled&&nv.supportsCORS;Fq.exports=RE});var pu=Re((A2t,Bq)=>{"use strict";var Che=Xt(),FE=OE();function BE(n,t,e){FE.call(this,n,t,e,{noCredentials:!0})}Che(BE,FE);BE.enabled=FE.enabled;Bq.exports=BE});var mu=Re((z2t,Vq)=>{"use strict";Vq.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch{return!1}}}});var jq=Re((k2t,Hq)=>{"use strict";var She=Xt(),Uq=a3(),whe=t8(),VE=i8(),Mhe=pu(),The=mu();function hu(n){if(!Mhe.enabled&&!VE.enabled)throw new Error("Transport created when disabled");Uq.call(this,n,"/xhr_streaming",whe,VE)}She(hu,Uq);hu.enabled=function(n){return n.nullOrigin||The.isOpera()?!1:VE.enabled};hu.transportName="xhr-streaming";hu.roundTrips=2;hu.needBody=!!global.document;Hq.exports=hu});var iv=Re((N2t,qq)=>{"use strict";var Gq=Hr().EventEmitter,Ehe=Xt(),Wq=E2(),Dhe=mu(),Ihe=la(),u0=function(){};function s3(n,t,e){u0(n,t);var i=this;Gq.call(this),setTimeout(function(){i._start(n,t,e)},0)}Ehe(s3,Gq);s3.prototype._start=function(n,t,e){u0("_start");var i=this,r=new global.XDomainRequest;t=Ihe.addQuery(t,"t="+ +new Date),r.onerror=function(){u0("onerror"),i._error()},r.ontimeout=function(){u0("ontimeout"),i._error()},r.onprogress=function(){u0("progress",r.responseText),i.emit("chunk",200,r.responseText)},r.onload=function(){u0("load"),i.emit("finish",200,r.responseText),i._cleanup(!1)},this.xdr=r,this.unloadRef=Wq.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(n,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(e)}catch{this._error()}};s3.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};s3.prototype._cleanup=function(n){if(u0("cleanup",n),!!this.xdr){if(this.removeAllListeners(),Wq.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,n)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};s3.prototype.close=function(){u0("close"),this._cleanup(!0)};s3.enabled=!!(global.XDomainRequest&&Dhe.hasDomain());qq.exports=s3});var HE=Re((P2t,Yq)=>{"use strict";var Lhe=Xt(),$q=a3(),Ahe=t8(),UE=iv();function r8(n){if(!UE.enabled)throw new Error("Transport created when disabled");$q.call(this,n,"/xhr_streaming",Ahe,UE)}Lhe(r8,$q);r8.enabled=function(n){return n.cookie_needed||n.nullOrigin?!1:UE.enabled&&n.sameScheme};r8.transportName="xdr-streaming";r8.roundTrips=2;Yq.exports=r8});var jE=Re((O2t,Zq)=>{"use strict";Zq.exports=global.EventSource});var Kq=Re((R2t,Qq)=>{"use strict";var zhe=Xt(),Xq=Hr().EventEmitter,khe=jE(),gu=function(){};function o8(n){gu(n),Xq.call(this);var t=this,e=this.es=new khe(n);e.onmessage=function(i){gu("message",i.data),t.emit("message",decodeURI(i.data))},e.onerror=function(i){gu("error",e.readyState,i);var r=e.readyState!==2?"network":"permanent";t._cleanup(),t._close(r)}}zhe(o8,Xq);o8.prototype.abort=function(){gu("abort"),this._cleanup(),this._close("user")};o8.prototype._cleanup=function(){gu("cleanup");var n=this.es;n&&(n.onmessage=n.onerror=null,n.close(),this.es=null)};o8.prototype._close=function(n){gu("close",n);var t=this;setTimeout(function(){t.emit("close",null,n),t.removeAllListeners()},200)};Qq.exports=o8});var GE=Re((F2t,e$)=>{"use strict";var Nhe=Xt(),Jq=a3(),Phe=Kq(),Ohe=i8(),Rhe=jE();function vu(n){if(!vu.enabled())throw new Error("Transport created when disabled");Jq.call(this,n,"/eventsource",Phe,Ohe)}Nhe(vu,Jq);vu.enabled=function(){return!!Rhe};vu.transportName="eventsource";vu.roundTrips=2;e$.exports=vu});var WE=Re((B2t,t$)=>{"use strict";t$.exports="1.6.1"});var yu=Re((V2t,A2)=>{"use strict";var rv=E2(),Fhe=mu(),l3=function(){};A2.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){A2.exports.WPrefix in global||(global[A2.exports.WPrefix]={})},postMessage:function(n,t){global.parent!==global?global.parent.postMessage(JSON.stringify({windowId:A2.exports.currentWindowId,type:n,data:t||""}),"*"):l3("Cannot postMessage, no parent window.",n,t)},createIframe:function(n,t){var e=global.document.createElement("iframe"),i,r,o=function(){l3("unattach"),clearTimeout(i);try{e.onload=null}catch{}e.onerror=null},a=function(){l3("cleanup"),e&&(o(),setTimeout(function(){e&&e.parentNode.removeChild(e),e=null},0),rv.unloadDel(r))},s=function(c){l3("onerror",c),e&&(a(),t(c))},l=function(c,u){l3("post",c,u),setTimeout(function(){try{e&&e.contentWindow&&e.contentWindow.postMessage(c,u)}catch{}},0)};return e.src=n,e.style.display="none",e.style.position="absolute",e.onerror=function(){s("onerror")},e.onload=function(){l3("onload"),clearTimeout(i),i=setTimeout(function(){s("onload timeout")},2e3)},global.document.body.appendChild(e),i=setTimeout(function(){s("timeout")},15e3),r=rv.unloadAdd(a),{post:l,cleanup:a,loaded:o}},createHtmlfile:function(n,t){var e=["Active"].concat("Object").join("X"),i=new global[e]("htmlfile"),r,o,a,s=function(){clearTimeout(r),a.onerror=null},l=function(){i&&(s(),rv.unloadDel(o),a.parentNode.removeChild(a),a=i=null,CollectGarbage())},c=function(f){l3("onerror",f),i&&(l(),t(f))},u=function(f,m){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(f,m)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[A2.exports.WPrefix]=global[A2.exports.WPrefix];var d=i.createElement("div");return i.body.appendChild(d),a=i.createElement("iframe"),d.appendChild(a),a.src=n,a.onerror=function(){c("onerror")},r=setTimeout(function(){c("timeout")},15e3),o=rv.unloadAdd(l),{post:u,cleanup:l,loaded:s}}};A2.exports.iframeEnabled=!1;global.document&&(A2.exports.iframeEnabled=(typeof global.postMessage=="function"||typeof global.postMessage=="object")&&!Fhe.isKonqueror())});var $E=Re((U2t,o$)=>{"use strict";var Bhe=Xt(),n$=Hr().EventEmitter,Vhe=WE(),qE=la(),i$=yu(),r$=E2(),Uhe=r3(),bs=function(){};function xs(n,t,e){if(!xs.enabled())throw new Error("Transport created when disabled");n$.call(this);var i=this;this.origin=qE.getOrigin(e),this.baseUrl=e,this.transUrl=t,this.transport=n,this.windowId=Uhe.string(8);var r=qE.addPath(e,"/iframe.html")+"#"+this.windowId;bs(n,t,r),this.iframeObj=i$.createIframe(r,function(o){bs("err callback"),i.emit("close",1006,"Unable to load an iframe ("+o+")"),i.close()}),this.onmessageCallback=this._message.bind(this),r$.attachEvent("message",this.onmessageCallback)}Bhe(xs,n$);xs.prototype.close=function(){if(bs("close"),this.removeAllListeners(),this.iframeObj){r$.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};xs.prototype._message=function(n){if(bs("message",n.data),!qE.isOriginEqual(n.origin,this.origin)){bs("not same origin",n.origin,this.origin);return}var t;try{t=JSON.parse(n.data)}catch{bs("bad json",n.data);return}if(t.windowId!==this.windowId){bs("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([Vhe,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var e;try{e=JSON.parse(t.data)}catch{bs("bad json",t.data);return}this.emit("close",e[0],e[1]),this.close();break}};xs.prototype.postMessage=function(n,t){bs("postMessage",n,t),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:n,data:t||""}),this.origin)};xs.prototype.send=function(n){bs("send",n),this.postMessage("m",n)};xs.enabled=function(){return i$.iframeEnabled};xs.transportName="iframe";xs.roundTrips=2;o$.exports=xs});var ov=Re((H2t,a$)=>{"use strict";a$.exports={isObject:function(n){var t=typeof n;return t==="function"||t==="object"&&!!n},extend:function(n){if(!this.isObject(n))return n;for(var t,e,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n}}});var sv=Re((j2t,s$)=>{"use strict";var Hhe=Xt(),av=$E(),jhe=ov();s$.exports=function(n){function t(e,i){av.call(this,n.transportName,e,i)}return Hhe(t,av),t.enabled=function(e,i){if(!global.document)return!1;var r=jhe.extend({},i);return r.sameOrigin=!0,n.enabled(r)&&av.enabled()},t.transportName="iframe-"+n.transportName,t.needBody=!0,t.roundTrips=av.roundTrips+n.roundTrips-1,t.facadeTransport=n,t}});var d$=Re((G2t,u$)=>{"use strict";var Ghe=Xt(),c3=yu(),Whe=la(),c$=Hr().EventEmitter,qhe=r3(),z2=function(){};function M1(n){z2(n),c$.call(this);var t=this;c3.polluteGlobalNamespace(),this.id="a"+qhe.string(6),n=Whe.addQuery(n,"c="+decodeURIComponent(c3.WPrefix+"."+this.id)),z2("using htmlfile",M1.htmlfileEnabled);var e=M1.htmlfileEnabled?c3.createHtmlfile:c3.createIframe;global[c3.WPrefix][this.id]={start:function(){z2("start"),t.iframeObj.loaded()},message:function(i){z2("message",i),t.emit("message",i)},stop:function(){z2("stop"),t._cleanup(),t._close("network")}},this.iframeObj=e(n,function(){z2("callback"),t._cleanup(),t._close("permanent")})}Ghe(M1,c$);M1.prototype.abort=function(){z2("abort"),this._cleanup(),this._close("user")};M1.prototype._cleanup=function(){z2("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[c3.WPrefix][this.id]};M1.prototype._close=function(n){z2("_close",n),this.emit("close",null,n),this.removeAllListeners()};M1.htmlfileEnabled=!1;var l$=["Active"].concat("Object").join("X");if(l$ in global)try{M1.htmlfileEnabled=!!new global[l$]("htmlfile")}catch{}M1.enabled=M1.htmlfileEnabled||c3.iframeEnabled;u$.exports=M1});var ZE=Re((W2t,p$)=>{"use strict";var $he=Xt(),YE=d$(),Yhe=pu(),f$=a3();function a8(n){if(!YE.enabled)throw new Error("Transport created when disabled");f$.call(this,n,"/htmlfile",YE,Yhe)}$he(a8,f$);a8.enabled=function(n){return YE.enabled&&n.sameOrigin};a8.transportName="htmlfile";a8.roundTrips=2;p$.exports=a8});var QE=Re((q2t,g$)=>{"use strict";var Zhe=Xt(),m$=a3(),Xhe=t8(),XE=i8(),h$=pu();function s8(n){if(!h$.enabled&&!XE.enabled)throw new Error("Transport created when disabled");m$.call(this,n,"/xhr",Xhe,XE)}Zhe(s8,m$);s8.enabled=function(n){return n.nullOrigin?!1:h$.enabled&&n.sameOrigin?!0:XE.enabled};s8.transportName="xhr-polling";s8.roundTrips=2;g$.exports=s8});var b$=Re(($2t,_$)=>{"use strict";var Qhe=Xt(),y$=a3(),Khe=HE(),Jhe=t8(),v$=iv();function l8(n){if(!v$.enabled)throw new Error("Transport created when disabled");y$.call(this,n,"/xhr",Jhe,v$)}Qhe(l8,y$);l8.enabled=Khe.enabled;l8.transportName="xdr-polling";l8.roundTrips=2;_$.exports=l8});var w$=Re((Y2t,S$)=>{"use strict";var c8=yu(),x$=r3(),e9e=mu(),t9e=la(),n9e=Xt(),C$=Hr().EventEmitter,T1=function(){};function Ra(n){T1(n);var t=this;C$.call(this),c8.polluteGlobalNamespace(),this.id="a"+x$.string(6);var e=t9e.addQuery(n,"c="+encodeURIComponent(c8.WPrefix+"."+this.id));global[c8.WPrefix][this.id]=this._callback.bind(this),this._createScript(e),this.timeoutId=setTimeout(function(){T1("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Ra.timeout)}n9e(Ra,C$);Ra.prototype.abort=function(){if(T1("abort"),global[c8.WPrefix][this.id]){var n=new Error("JSONP user aborted read");n.code=1e3,this._abort(n)}};Ra.timeout=35e3;Ra.scriptErrorTimeout=1e3;Ra.prototype._callback=function(n){T1("_callback",n),this._cleanup(),!this.aborting&&(n&&(T1("message",n),this.emit("message",n)),this.emit("close",null,"network"),this.removeAllListeners())};Ra.prototype._abort=function(n){T1("_abort",n),this._cleanup(),this.aborting=!0,this.emit("close",n.code,n.message),this.removeAllListeners()};Ra.prototype._cleanup=function(){if(T1("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var n=this.script;n.parentNode.removeChild(n),n.onreadystatechange=n.onerror=n.onload=n.onclick=null,this.script=null}delete global[c8.WPrefix][this.id]};Ra.prototype._scriptError=function(){T1("_scriptError");var n=this;this.errorTimer||(this.errorTimer=setTimeout(function(){n.loadedOkay||n._abort(new Error("JSONP script loaded abnormally (onerror)"))},Ra.scriptErrorTimeout))};Ra.prototype._createScript=function(n){T1("_createScript",n);var t=this,e=this.script=global.document.createElement("script"),i;if(e.id="a"+x$.string(8),e.src=n,e.type="text/javascript",e.charset="UTF-8",e.onerror=this._scriptError.bind(this),e.onload=function(){T1("onload"),t._abort(new Error("JSONP script loaded abnormally (onload)"))},e.onreadystatechange=function(){if(T1("onreadystatechange",e.readyState),/loaded|closed/.test(e.readyState)){if(e&&e.htmlFor&&e.onclick){t.loadedOkay=!0;try{e.onclick()}catch{}}e&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof e.async>"u"&&global.document.attachEvent)if(e9e.isOpera())i=this.script2=global.document.createElement("script"),i.text="try{var a = document.getElementById('"+e.id+"'); if(a)a.onerror();}catch(x){};",e.async=i.async=!1;else{try{e.htmlFor=e.id,e.event="onclick"}catch{}e.async=!0}typeof e.async<"u"&&(e.async=!0);var r=global.document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild),i&&r.insertBefore(i,r.firstChild)};S$.exports=Ra});var E$=Re((Z2t,T$)=>{"use strict";var i9e=r3(),M$=la(),k2=function(){},ca,u8;function r9e(n){k2("createIframe",n);try{return global.document.createElement('<iframe name="'+n+'">')}catch{var t=global.document.createElement("iframe");return t.name=n,t}}function o9e(){k2("createForm"),ca=global.document.createElement("form"),ca.style.display="none",ca.style.position="absolute",ca.method="POST",ca.enctype="application/x-www-form-urlencoded",ca.acceptCharset="UTF-8",u8=global.document.createElement("textarea"),u8.name="d",ca.appendChild(u8),global.document.body.appendChild(ca)}T$.exports=function(n,t,e){k2(n,t),ca||o9e();var i="a"+i9e.string(8);ca.target=i,ca.action=M$.addQuery(M$.addPath(n,"/jsonp_send"),"i="+i);var r=r9e(i);r.id=i,r.style.display="none",ca.appendChild(r);try{u8.value=t}catch{}ca.submit();var o=function(a){k2("completed",i,a),r.onerror&&(r.onreadystatechange=r.onerror=r.onload=null,setTimeout(function(){k2("cleaning up",i),r.parentNode.removeChild(r),r=null},500),u8.value="",e(a))};return r.onerror=function(){k2("onerror",i),o()},r.onload=function(){k2("onload",i),o()},r.onreadystatechange=function(a){k2("onreadystatechange",i,r.readyState,a),r.readyState==="complete"&&o()},function(){k2("aborted",i),o(new Error("Aborted"))}}});var L$=Re((X2t,I$)=>{"use strict";var a9e=Xt(),D$=NE(),s9e=w$(),l9e=E$();function u3(n){if(!u3.enabled())throw new Error("Transport created when disabled");D$.call(this,n,"/jsonp",l9e,s9e)}a9e(u3,D$);u3.enabled=function(){return!!global.document};u3.transportName="jsonp-polling";u3.roundTrips=1;u3.needBody=!0;I$.exports=u3});var z$=Re((Q2t,A$)=>{"use strict";A$.exports=[bq(),jq(),HE(),GE(),sv()(GE()),ZE(),sv()(ZE()),QE(),b$(),sv()(QE()),L$()]});var B$=Re(()=>{"use strict";var d8=Array.prototype,tD=Object.prototype,c9e=Function.prototype,f8=String.prototype,KE=d8.slice,nD=tD.toString,P$=function(n){return tD.toString.call(n)==="[object Function]"},u9e=function(t){return nD.call(t)==="[object Array]"},O$=function(t){return nD.call(t)==="[object String]"},d9e=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),eD;d9e?eD=function(n,t,e,i){!i&&t in n||Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:!0,value:e})}:eD=function(n,t,e,i){!i&&t in n||(n[t]=e)};var p8=function(n,t,e){for(var i in t)tD.hasOwnProperty.call(t,i)&&eD(n,i,t[i],e)},R$=function(n){if(n==null)throw new TypeError("can't convert "+n+" to object");return Object(n)};function f9e(n){var t=+n;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function p9e(n){return n>>>0}function JE(){}p8(c9e,{bind:function(t){var e=this;if(!P$(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var i=KE.call(arguments,1),r=function(){if(this instanceof l){var c=e.apply(this,i.concat(KE.call(arguments)));return Object(c)===c?c:this}else return e.apply(t,i.concat(KE.call(arguments)))},o=Math.max(0,e.length-i.length),a=[],s=0;s<o;s++)a.push("$"+s);var l=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(JE.prototype=e.prototype,l.prototype=new JE,JE.prototype=null),l}});p8(Array,{isArray:u9e});var k$=Object("a"),F$=k$[0]!=="a"||!(0 in k$),m9e=function(t){var e=!0,i=!0;return t&&(t.call("foo",function(r,o,a){typeof a!="object"&&(e=!1)}),t.call([1],function(){"use strict";i=typeof this=="string"},"x")),!!t&&e&&i};p8(d8,{forEach:function(t){var e=R$(this),i=F$&&O$(this)?this.split(""):e,r=arguments[1],o=-1,a=i.length>>>0;if(!P$(t))throw new TypeError;for(;++o<a;)o in i&&t.call(r,i[o],o,e)}},!m9e(d8.forEach));var h9e=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;p8(d8,{indexOf:function(t){var e=F$&&O$(this)?this.split(""):R$(this),i=e.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=f9e(arguments[1])),r=r>=0?r:Math.max(0,i+r);r<i;r++)if(r in e&&e[r]===t)return r;return-1}},h9e);var N$=f8.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var n=/()??/.exec("")[1]===void 0;f8.split=function(t,e){var i=this;if(t===void 0&&e===0)return[];if(nD.call(t)!=="[object RegExp]")return N$.call(this,t,e);var r=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,s,l,c,u;for(t=new RegExp(t.source,o+"g"),i+="",n||(s=new RegExp("^"+t.source+"$(?!\\s)",o)),e=e===void 0?-1>>>0:p9e(e);(l=t.exec(i))&&(c=l.index+l[0].length,!(c>a&&(r.push(i.slice(a,l.index)),!n&&l.length>1&&l[0].replace(s,function(){for(var d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(l[d]=void 0)}),l.length>1&&l.index<i.length&&d8.push.apply(r,l.slice(1)),u=l[0].length,a=c,r.length>=e)));)t.lastIndex===l.index&&t.lastIndex++;return a===i.length?(u||!t.test(""))&&r.push(""):r.push(i.slice(a)),r.length>e?r.slice(0,e):r}})():"0".split(void 0,0).length&&(f8.split=function(t,e){return t===void 0&&e===0?[]:N$.call(this,t,e)});var g9e=f8.substr,v9e="".substr&&"0b".substr(-1)!=="b";p8(f8,{substr:function(t,e){return g9e.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},v9e)});var U$=Re((elt,V$)=>{"use strict";var lv=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,iD,y9e=function(n){var t,e={},i=[];for(t=0;t<65536;t++)i.push(String.fromCharCode(t));return n.lastIndex=0,i.join("").replace(n,function(r){return e[r]="\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,e};V$.exports={quote:function(n){var t=JSON.stringify(n);return lv.lastIndex=0,lv.test(t)?(iD||(iD=y9e(lv)),t.replace(lv,function(e){return iD[e]})):t}}});var j$=Re((tlt,H$)=>{"use strict";var cv=function(){};H$.exports=function(n){return{filterToEnabled:function(t,e){var i={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],n.forEach(function(r){if(r){if(r.transportName==="websocket"&&e.websocket===!1){cv("disabled from server","websocket");return}if(t.length&&t.indexOf(r.transportName)===-1){cv("not in whitelist",r.transportName);return}r.enabled(e)?(cv("enabled",r.transportName),i.main.push(r),r.facadeTransport&&i.facade.push(r.facadeTransport)):cv("disabled",r.transportName)}}),i}}}});var W$=Re((nlt,G$)=>{"use strict";var rD={};["log","debug","warn"].forEach(function(n){var t;try{t=global.console&&global.console[n]&&global.console[n].apply}catch{}rD[n]=t?function(){return global.console[n].apply(global.console,arguments)}:n==="log"?function(){}:rD.log});G$.exports=rD});var uv=Re((ilt,q$)=>{"use strict";function d3(n){this.type=n}d3.prototype.initEvent=function(n,t,e){return this.type=n,this.bubbles=t,this.cancelable=e,this.timeStamp=+new Date,this};d3.prototype.stopPropagation=function(){};d3.prototype.preventDefault=function(){};d3.CAPTURING_PHASE=1;d3.AT_TARGET=2;d3.BUBBLING_PHASE=3;q$.exports=d3});var oD=Re((rlt,$$)=>{"use strict";$$.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}});var Q$=Re((olt,X$)=>{"use strict";var _9e=Xt(),Y$=uv();function Z$(){Y$.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}_9e(Z$,Y$);X$.exports=Z$});var tY=Re((alt,eY)=>{"use strict";var b9e=Xt(),K$=uv();function J$(n){K$.call(this),this.initEvent("message",!1,!1),this.data=n}b9e(J$,K$);eY.exports=J$});var rY=Re((slt,iY)=>{"use strict";var nY=Hr().EventEmitter,x9e=Xt();function m8(){var n=this;nY.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},m8.timeout)}x9e(m8,nY);m8.prototype.close=function(){clearTimeout(this.to)};m8.timeout=2e3;iY.exports=m8});var sD=Re((llt,aY)=>{"use strict";var oY=Hr().EventEmitter,C9e=Xt(),S9e=ov(),w9e=function(){};function aD(n,t){oY.call(this);var e=this,i=+new Date;this.xo=new t("GET",n),this.xo.once("finish",function(r,o){var a,s;if(r===200){if(s=+new Date-i,o)try{a=JSON.parse(o)}catch{w9e("bad json",o)}S9e.isObject(a)||(a={})}e.emit("finish",a,s),e.removeAllListeners()})}C9e(aD,oY);aD.prototype.close=function(){this.removeAllListeners(),this.xo.close()};aY.exports=aD});var lD=Re((clt,lY)=>{"use strict";var M9e=Xt(),sY=Hr().EventEmitter,T9e=pu(),E9e=sD();function dv(n){var t=this;sY.call(this),this.ir=new E9e(n,T9e),this.ir.once("finish",function(e,i){t.ir=null,t.emit("message",JSON.stringify([e,i]))})}M9e(dv,sY);dv.transportName="iframe-info-receiver";dv.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()};lY.exports=dv});var fY=Re((ult,dY)=>{"use strict";var cY=Hr().EventEmitter,D9e=Xt(),I9e=E2(),uY=$E(),L9e=lD(),A9e=function(){};function fv(n,t){var e=this;cY.call(this);var i=function(){var r=e.ifr=new uY(L9e.transportName,t,n);r.once("message",function(o){if(o){var a;try{a=JSON.parse(o)}catch{A9e("bad json",o),e.emit("finish"),e.close();return}var s=a[0],l=a[1];e.emit("finish",s,l)}e.close()}),r.once("close",function(){e.emit("finish"),e.close()})};global.document.body?i():I9e.attachEvent("load",i)}D9e(fv,cY);fv.enabled=function(){return uY.enabled()};fv.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};dY.exports=fv});var yY=Re((dlt,vY)=>{"use strict";var gY=Hr().EventEmitter,z9e=Xt(),k9e=la(),pY=iv(),mY=i8(),N9e=pu(),P9e=rY(),hY=fY(),pv=sD(),_u=function(){};function N2(n,t){_u(n);var e=this;gY.call(this),setTimeout(function(){e.doXhr(n,t)},0)}z9e(N2,gY);N2._getReceiver=function(n,t,e){return e.sameOrigin?new pv(t,N9e):mY.enabled?new pv(t,mY):pY.enabled&&e.sameScheme?new pv(t,pY):hY.enabled()?new hY(n,t):new pv(t,P9e)};N2.prototype.doXhr=function(n,t){var e=this,i=k9e.addPath(n,"/info");_u("doXhr",i),this.xo=N2._getReceiver(n,i,t),this.timeoutRef=setTimeout(function(){_u("timeout"),e._cleanup(!1),e.emit("finish")},N2.timeout),this.xo.once("finish",function(r,o){_u("finish",r,o),e._cleanup(!0),e.emit("finish",r,o)})};N2.prototype._cleanup=function(n){_u("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!n&&this.xo&&this.xo.close(),this.xo=null};N2.prototype.close=function(){_u("close"),this.removeAllListeners(),this._cleanup(!1)};N2.timeout=8e3;vY.exports=N2});var xY=Re((flt,bY)=>{"use strict";var _Y=yu();function h8(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}h8.prototype._transportClose=function(n,t){_Y.postMessage("c",JSON.stringify([n,t]))};h8.prototype._transportMessage=function(n){_Y.postMessage("t",n)};h8.prototype._send=function(n){this._transport.send(n)};h8.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()};bY.exports=h8});var MY=Re((plt,wY)=>{"use strict";var CY=la(),O9e=E2(),R9e=xY(),SY=lD(),cD=yu(),mv=oD(),uD=function(){};wY.exports=function(n,t){var e={};t.forEach(function(r){r.facadeTransport&&(e[r.facadeTransport.transportName]=r.facadeTransport)}),e[SY.transportName]=SY;var i;n.bootstrap_iframe=function(){var r;cD.currentWindowId=mv.hash.slice(1);var o=function(a){if(a.source===parent&&(typeof i>"u"&&(i=a.origin),a.origin===i)){var s;try{s=JSON.parse(a.data)}catch{uD("bad json",a.data);return}if(s.windowId===cD.currentWindowId)switch(s.type){case"s":var l;try{l=JSON.parse(s.data)}catch{uD("bad json",s.data);break}var c=l[0],u=l[1],d=l[2],f=l[3];if(uD(c,u,d,f),c!==n.version)throw new Error('Incompatible SockJS! Main site uses: "'+c+'", the iframe: "'+n.version+'".');if(!CY.isOriginEqual(d,mv.href)||!CY.isOriginEqual(f,mv.href))throw new Error("Can't connect to different domain from within an iframe. ("+mv.href+", "+d+", "+f+")");r=new R9e(new e[u](d,f));break;case"m":r._send(s.data);break;case"c":r&&r._close(),r=null;break}}};O9e.attachEvent("message",o),cD.postMessage("s")}}});var zY=Re((mlt,AY)=>{"use strict";B$();var F9e=DE(),B9e=Xt(),TY=r3(),V9e=U$(),g8=la(),U9e=E2(),H9e=j$(),j9e=ov(),G9e=mu(),W9e=W$(),dD=uv(),DY=LE(),hv=oD(),q9e=Q$(),EY=tY(),$9e=yY(),Oi=function(){},IY;function Qt(n,t,e){if(!(this instanceof Qt))return new Qt(n,t,e);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");DY.call(this),this.readyState=Qt.CONNECTING,this.extensions="",this.protocol="",e=e||{},e.protocols_whitelist&&W9e.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=e.transports,this._transportOptions=e.transportOptions||{},this._timeout=e.timeout||0;var i=e.sessionId||8;if(typeof i=="function")this._generateSessionId=i;else if(typeof i=="number")this._generateSessionId=function(){return TY.string(i)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=e.server||TY.numberString(1e3);var r=new F9e(n);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+n+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if(r.protocol!=="http:"&&r.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var o=r.protocol==="https:";if(hv.protocol==="https:"&&!o&&!g8.isLoopbackAddr(r.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(l,c){if(!l)throw new SyntaxError("The protocols entry '"+l+"' is invalid.");if(c<a.length-1&&l===a[c+1])throw new SyntaxError("The protocols entry '"+l+"' is duplicated.")});var s=g8.getOrigin(hv.href);this._origin=s?s.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,Oi("using url",this.url),this._urlInfo={nullOrigin:!G9e.hasDomain(),sameOrigin:g8.isOriginEqual(this.url,hv.href),sameScheme:g8.isSchemeEqual(this.url,hv.href)},this._ir=new $9e(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}B9e(Qt,DY);function LY(n){return n===1e3||n>=3e3&&n<=4999}Qt.prototype.close=function(n,t){if(n&&!LY(n))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Qt.CLOSING||this.readyState===Qt.CLOSED)){var e=!0;this._close(n||1e3,t||"Normal closure",e)}};Qt.prototype.send=function(n){if(typeof n!="string"&&(n=""+n),this.readyState===Qt.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Qt.OPEN&&this._transport.send(V9e.quote(n))};Qt.version=WE();Qt.CONNECTING=0;Qt.OPEN=1;Qt.CLOSING=2;Qt.CLOSED=3;Qt.prototype._receiveInfo=function(n,t){if(Oi("_receiveInfo",t),this._ir=null,!n){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=n.base_url?n.base_url:this.url,n=j9e.extend(n,this._urlInfo),Oi("info",n);var e=IY.filterToEnabled(this._transportsWhitelist,n);this._transports=e.main,Oi(this._transports.length+" enabled transports"),this._connect()};Qt.prototype._connect=function(){for(var n=this._transports.shift();n;n=this._transports.shift()){if(Oi("attempt",n.transportName),n.needBody&&(!global.document.body||typeof global.document.readyState<"u"&&global.document.readyState!=="complete"&&global.document.readyState!=="interactive")){Oi("waiting for body"),this._transports.unshift(n),U9e.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*n.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),Oi("using timeout",t);var e=g8.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[n.transportName];Oi("transport url",e);var r=new n(e,this._transUrl,i);r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=n.transportName,this._transport=r;return}this._close(2e3,"All transports failed",!1)};Qt.prototype._transportTimeout=function(){Oi("_transportTimeout"),this.readyState===Qt.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Qt.prototype._transportMessage=function(n){Oi("_transportMessage",n);var t=this,e=n.slice(0,1),i=n.slice(1),r;switch(e){case"o":this._open();return;case"h":this.dispatchEvent(new dD("heartbeat")),Oi("heartbeat",this.transport);return}if(i)try{r=JSON.parse(i)}catch{Oi("bad json",i)}if(typeof r>"u"){Oi("empty payload",i);return}switch(e){case"a":Array.isArray(r)&&r.forEach(function(o){Oi("message",t.transport,o),t.dispatchEvent(new EY(o))});break;case"m":Oi("message",this.transport,r),this.dispatchEvent(new EY(r));break;case"c":Array.isArray(r)&&r.length===2&&this._close(r[0],r[1],!0);break}};Qt.prototype._transportClose=function(n,t){if(Oi("_transportClose",this.transport,n,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!LY(n)&&n!==2e3&&this.readyState===Qt.CONNECTING){this._connect();return}this._close(n,t)};Qt.prototype._open=function(){Oi("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Qt.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Qt.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new dD("open")),Oi("connected",this.transport)):this._close(1006,"Server lost session")};Qt.prototype._close=function(n,t,e){Oi("_close",this.transport,n,t,e,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Qt.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Qt.CLOSING,setTimeout((function(){this.readyState=Qt.CLOSED,i&&this.dispatchEvent(new dD("error"));var r=new q9e("close");r.wasClean=e||!1,r.code=n||1e3,r.reason=t,this.dispatchEvent(r),this.onmessage=this.onclose=this.onerror=null,Oi("disconnected")}).bind(this),0)};Qt.prototype.countRTO=function(n){return n>100?4*n:300+n};AY.exports=function(n){return IY=H9e(n),MY()(Qt,n),Qt}});var NY=Re((hlt,kY)=>{"use strict";var Y9e=z$();kY.exports=zY()(Y9e);"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)});var rZ=Re((ws,MD)=>{"use strict";(function(n,t){typeof ws=="object"&&typeof MD<"u"?MD.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=t())})(ws,function(){"use strict";function n(S,T,I){if(typeof S=="function"?S===T:S.has(T))return arguments.length<3?T:I;throw new TypeError("Private element is not present on this object")}function t(S,T){if(T.has(S))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(S,T){return S.get(n(S,T))}function i(S,T,I){t(S,T),T.set(S,I)}function r(S,T,I){return S.set(n(S,T),I),I}let o=100,a={},s=()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus()},l=S=>new Promise(T=>{if(!S)return T();let I=window.scrollX,U=window.scrollY;a.restoreFocusTimeout=setTimeout(()=>{s(),T()},o),window.scrollTo(I,U)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((S,T)=>(S[T]=c+T,S),{}),m=["success","warning","info","question","error"].reduce((S,T)=>(S[T]=c+T,S),{}),v="SweetAlert2:",_=S=>S.charAt(0).toUpperCase()+S.slice(1),b=S=>{console.warn(`${v} ${typeof S=="object"?S.join(" "):S}`)},C=S=>{console.error(`${v} ${S}`)},w=[],E=S=>{w.includes(S)||(w.push(S),b(S))},D=(S,T=null)=>{E(`"${S}" is deprecated and will be removed in the next major release.${T?` Use "${T}" instead.`:""}`)},L=S=>typeof S=="function"?S():S,P=S=>S&&typeof S.toPromise=="function",F=S=>P(S)?S.toPromise():Promise.resolve(S),G=S=>S&&Promise.resolve(S)===S,q=()=>document.body.querySelector(`.${d.container}`),Y=S=>{let T=q();return T?T.querySelector(S):null},W=S=>Y(`.${S}`),Z=()=>W(d.popup),te=()=>W(d.icon),re=()=>W(d["icon-content"]),ce=()=>W(d.title),ne=()=>W(d["html-container"]),he=()=>W(d.image),oe=()=>W(d["progress-steps"]),ve=()=>W(d["validation-message"]),Ee=()=>Y(`.${d.actions} .${d.confirm}`),Ge=()=>Y(`.${d.actions} .${d.cancel}`),Ye=()=>Y(`.${d.actions} .${d.deny}`),Rt=()=>W(d["input-label"]),Xe=()=>Y(`.${d.loader}`),Jt=()=>W(d.actions),Mr=()=>W(d.footer),_n=()=>W(d["timer-progress-bar"]),Qi=()=>W(d.close),Sn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,kn=()=>{let S=Z();if(!S)return[];let T=S.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),I=Array.from(T).sort((Se,St)=>{let jt=parseInt(Se.getAttribute("tabindex")||"0"),Ln=parseInt(St.getAttribute("tabindex")||"0");return jt>Ln?1:jt<Ln?-1:0}),U=S.querySelectorAll(Sn),J=Array.from(U).filter(Se=>Se.getAttribute("tabindex")!=="-1");return[...new Set(I.concat(J))].filter(Se=>Co(Se))},ot=()=>ya(document.body,d.shown)&&!ya(document.body,d["toast-shown"])&&!ya(document.body,d["no-backdrop"]),Ft=()=>{let S=Z();return S?ya(S,d.toast):!1},Ws=()=>{let S=Z();return S?S.hasAttribute("data-loading"):!1},bn=(S,T)=>{if(S.textContent="",T){let U=new DOMParser().parseFromString(T,"text/html"),J=U.querySelector("head");J&&Array.from(J.childNodes).forEach(St=>{S.appendChild(St)});let Se=U.querySelector("body");Se&&Array.from(Se.childNodes).forEach(St=>{St instanceof HTMLVideoElement||St instanceof HTMLAudioElement?S.appendChild(St.cloneNode(!0)):S.appendChild(St)})}},ya=(S,T)=>{if(!T)return!1;let I=T.split(/\s+/);for(let U=0;U<I.length;U++)if(!S.classList.contains(I[U]))return!1;return!0},m7=(S,T)=>{Array.from(S.classList).forEach(I=>{!Object.values(d).includes(I)&&!Object.values(m).includes(I)&&!Object.values(T.showClass||{}).includes(I)&&S.classList.remove(I)})},Qo=(S,T,I)=>{if(m7(S,T),!T.customClass)return;let U=T.customClass[I];if(U){if(typeof U!="string"&&!U.forEach){b(`Invalid type of customClass.${I}! Expected string or iterable object, got "${typeof U}"`);return}en(S,U)}},h7=(S,T)=>{if(!T)return null;switch(T){case"select":case"textarea":case"file":return S.querySelector(`.${d.popup} > .${d[T]}`);case"checkbox":return S.querySelector(`.${d.popup} > .${d.checkbox} input`);case"radio":return S.querySelector(`.${d.popup} > .${d.radio} input:checked`)||S.querySelector(`.${d.popup} > .${d.radio} input:first-child`);case"range":return S.querySelector(`.${d.popup} > .${d.range} input`);default:return S.querySelector(`.${d.popup} > .${d.input}`)}},IN=S=>{if(S.focus(),S.type!=="file"){let T=S.value;S.value="",S.value=T}},LN=(S,T,I)=>{!S||!T||(typeof T=="string"&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(U=>{Array.isArray(S)?S.forEach(J=>{I?J.classList.add(U):J.classList.remove(U)}):I?S.classList.add(U):S.classList.remove(U)}))},en=(S,T)=>{LN(S,T,!0)},_a=(S,T)=>{LN(S,T,!1)},ul=(S,T)=>{let I=Array.from(S.children);for(let U=0;U<I.length;U++){let J=I[U];if(J instanceof HTMLElement&&ya(J,T))return J}},ec=(S,T,I)=>{I===`${parseInt(`${I}`)}`&&(I=parseInt(I)),I||parseInt(`${I}`)===0?S.style.setProperty(T,typeof I=="number"?`${I}px`:I):S.style.removeProperty(T)},Ki=(S,T="flex")=>{S&&(S.style.display=T)},Tr=S=>{S&&(S.style.display="none")},nx=(S,T="block")=>{S&&new MutationObserver(()=>{Rd(S,S.innerHTML,T)}).observe(S,{childList:!0,subtree:!0})},AN=(S,T,I,U)=>{let J=S.querySelector(T);J&&J.style.setProperty(I,U)},Rd=(S,T,I="flex")=>{T?Ki(S,I):Tr(S)},Co=S=>!!(S&&(S.offsetWidth||S.offsetHeight||S.getClientRects().length)),tse=()=>!Co(Ee())&&!Co(Ye())&&!Co(Ge()),ix=S=>S.scrollHeight>S.clientHeight,nse=(S,T)=>{let I=S;for(;I&&I!==T;){if(ix(I))return!0;I=I.parentElement}return!1},zN=S=>{let T=window.getComputedStyle(S),I=parseFloat(T.getPropertyValue("animation-duration")||"0"),U=parseFloat(T.getPropertyValue("transition-duration")||"0");return I>0||U>0},rx=(S,T=!1)=>{let I=_n();I&&Co(I)&&(T&&(I.style.transition="none",I.style.width="100%"),setTimeout(()=>{I.style.transition=`width ${S/1e3}s linear`,I.style.width="0%"},10))},ise=()=>{let S=_n();if(!S)return;let T=parseInt(window.getComputedStyle(S).width);S.style.removeProperty("transition"),S.style.width="100%";let I=parseInt(window.getComputedStyle(S).width),U=T/I*100;S.style.width=`${U}%`},rse=()=>typeof window>"u"||typeof document>"u",ose=`
 <div aria-labelledby="${d.title}" aria-describedby="${d["html-container"]}" class="${d.popup}" tabindex="-1">
   <button type="button" class="${d.close}"></button>
   <ul class="${d["progress-steps"]}"></ul>
   <div class="${d.icon}"></div>
   <img class="${d.image}" />
   <h2 class="${d.title}" id="${d.title}"></h2>
   <div class="${d["html-container"]}" id="${d["html-container"]}"></div>
   <input class="${d.input}" id="${d.input}" />
   <input type="file" class="${d.file}" />
   <div class="${d.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${d.select}" id="${d.select}"></select>
   <div class="${d.radio}"></div>
   <label class="${d.checkbox}">
     <input type="checkbox" id="${d.checkbox}" />
     <span class="${d.label}"></span>
   </label>
   <textarea class="${d.textarea}" id="${d.textarea}"></textarea>
   <div class="${d["validation-message"]}" id="${d["validation-message"]}"></div>
   <div class="${d.actions}">
     <div class="${d.loader}"></div>
     <button type="button" class="${d.confirm}"></button>
     <button type="button" class="${d.deny}"></button>
     <button type="button" class="${d.cancel}"></button>
   </div>
   <div class="${d.footer}"></div>
   <div class="${d["timer-progress-bar-container"]}">
     <div class="${d["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ase=()=>{let S=q();return S?(S.remove(),_a([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0):!1},tc=()=>{a.currentInstance&&a.currentInstance.resetValidationMessage()},sse=()=>{let S=Z();if(!S)return;let T=ul(S,d.input),I=ul(S,d.file),U=S.querySelector(`.${d.range} input`),J=S.querySelector(`.${d.range} output`),Se=ul(S,d.select),St=S.querySelector(`.${d.checkbox} input`),jt=ul(S,d.textarea);T&&(T.oninput=tc),I&&(I.onchange=tc),Se&&(Se.onchange=tc),St&&(St.onchange=tc),jt&&(jt.oninput=tc),U&&J&&(U.oninput=()=>{tc(),J.value=U.value},U.onchange=()=>{tc(),J.value=U.value})},lse=S=>{if(typeof S=="string"){let T=document.querySelector(S);if(!T)throw new Error(`Target element "${S}" not found`);return T}return S},cse=S=>{let T=Z();T&&(T.setAttribute("role",S.toast?"alert":"dialog"),T.setAttribute("aria-live",S.toast?"polite":"assertive"),S.toast||T.setAttribute("aria-modal","true"))},use=S=>{window.getComputedStyle(S).direction==="rtl"&&(en(q(),d.rtl),a.isRTL=!0)},dse=S=>{let T=ase();if(rse()){C("SweetAlert2 requires document to initialize");return}let I=document.createElement("div");I.className=d.container,T&&en(I,d["no-transition"]),bn(I,ose),I.dataset.swal2Theme=S.theme;let U=lse(S.target||"body");U.appendChild(I),S.topLayer&&(I.setAttribute("popover",""),I.showPopover()),cse(S),use(U),sse()},ox=(S,T)=>{S instanceof HTMLElement?T.appendChild(S):typeof S=="object"?fse(S,T):S&&bn(T,S)},fse=(S,T)=>{"jquery"in S?pse(T,S):bn(T,S.toString())},pse=(S,T)=>{if(S.textContent="",0 in T)for(let I=0;I in T;I++)S.appendChild(T[I].cloneNode(!0));else S.appendChild(T.cloneNode(!0))},mse=(S,T)=>{let I=Jt(),U=Xe();!I||!U||(!T.showConfirmButton&&!T.showDenyButton&&!T.showCancelButton?Tr(I):Ki(I),Qo(I,T,"actions"),hse(I,U,T),bn(U,T.loaderHtml||""),Qo(U,T,"loader"))};function hse(S,T,I){let U=Ee(),J=Ye(),Se=Ge();!U||!J||!Se||(sx(U,"confirm",I),sx(J,"deny",I),sx(Se,"cancel",I),gse(U,J,Se,I),I.reverseButtons&&(I.toast?(S.insertBefore(Se,U),S.insertBefore(J,U)):(S.insertBefore(Se,T),S.insertBefore(J,T),S.insertBefore(U,T))))}function gse(S,T,I,U){if(!U.buttonsStyling){_a([S,T,I],d.styled);return}en([S,T,I],d.styled),U.confirmButtonColor&&S.style.setProperty("--swal2-confirm-button-background-color",U.confirmButtonColor),U.denyButtonColor&&T.style.setProperty("--swal2-deny-button-background-color",U.denyButtonColor),U.cancelButtonColor&&I.style.setProperty("--swal2-cancel-button-background-color",U.cancelButtonColor),ax(S),ax(T),ax(I)}function ax(S){let T=window.getComputedStyle(S);if(T.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let I=T.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");S.style.setProperty("--swal2-action-button-focus-box-shadow",T.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${I}`))}function sx(S,T,I){let U=_(T);Rd(S,I[`show${U}Button`],"inline-block"),bn(S,I[`${T}ButtonText`]||""),S.setAttribute("aria-label",I[`${T}ButtonAriaLabel`]||""),S.className=d[T],Qo(S,I,`${T}Button`)}let vse=(S,T)=>{let I=Qi();I&&(bn(I,T.closeButtonHtml||""),Qo(I,T,"closeButton"),Rd(I,T.showCloseButton),I.setAttribute("aria-label",T.closeButtonAriaLabel||""))},yse=(S,T)=>{let I=q();I&&(_se(I,T.backdrop),bse(I,T.position),xse(I,T.grow),Qo(I,T,"container"))};function _se(S,T){typeof T=="string"?S.style.background=T:T||en([document.documentElement,document.body],d["no-backdrop"])}function bse(S,T){T&&(T in d?en(S,d[T]):(b('The "position" parameter is not valid, defaulting to "center"'),en(S,d.center)))}function xse(S,T){T&&en(S,d[`grow-${T}`])}var Nn={innerParams:new WeakMap,domCache:new WeakMap};let Cse=["input","file","range","select","radio","checkbox","textarea"],Sse=(S,T)=>{let I=Z();if(!I)return;let U=Nn.innerParams.get(S),J=!U||T.input!==U.input;Cse.forEach(Se=>{let St=ul(I,d[Se]);St&&(Tse(Se,T.inputAttributes),St.className=d[Se],J&&Tr(St))}),T.input&&(J&&wse(T),Ese(T))},wse=S=>{if(!S.input)return;if(!hi[S.input]){C(`Unexpected type of input! Expected ${Object.keys(hi).join(" | ")}, got "${S.input}"`);return}let T=kN(S.input);if(!T)return;let I=hi[S.input](T,S);Ki(T),S.inputAutoFocus&&setTimeout(()=>{IN(I)})},Mse=S=>{for(let T=0;T<S.attributes.length;T++){let I=S.attributes[T].name;["id","type","value","style"].includes(I)||S.removeAttribute(I)}},Tse=(S,T)=>{let I=Z();if(!I)return;let U=h7(I,S);if(U){Mse(U);for(let J in T)U.setAttribute(J,T[J])}},Ese=S=>{if(!S.input)return;let T=kN(S.input);T&&Qo(T,S,"input")},lx=(S,T)=>{!S.placeholder&&T.inputPlaceholder&&(S.placeholder=T.inputPlaceholder)},Fd=(S,T,I)=>{if(I.inputLabel){let U=document.createElement("label"),J=d["input-label"];U.setAttribute("for",S.id),U.className=J,typeof I.customClass=="object"&&en(U,I.customClass.inputLabel),U.innerText=I.inputLabel,T.insertAdjacentElement("beforebegin",U)}},kN=S=>{let T=Z();if(T)return ul(T,d[S]||d.input)},g7=(S,T)=>{["string","number"].includes(typeof T)?S.value=`${T}`:G(T)||b(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof T}"`)},hi={};hi.text=hi.email=hi.password=hi.number=hi.tel=hi.url=hi.search=hi.date=hi["datetime-local"]=hi.time=hi.week=hi.month=(S,T)=>{let I=S;return g7(I,T.inputValue),Fd(I,I,T),lx(I,T),I.type=T.input,I},hi.file=(S,T)=>{let I=S;return Fd(I,I,T),lx(I,T),I},hi.range=(S,T)=>{let I=S,U=I.querySelector("input"),J=I.querySelector("output");return U&&(g7(U,T.inputValue),U.type=T.input,Fd(U,S,T)),J&&g7(J,T.inputValue),S},hi.select=(S,T)=>{let I=S;if(I.textContent="",T.inputPlaceholder){let U=document.createElement("option");bn(U,T.inputPlaceholder),U.value="",U.disabled=!0,U.selected=!0,I.appendChild(U)}return Fd(I,I,T),I},hi.radio=S=>{let T=S;return T.textContent="",S},hi.checkbox=(S,T)=>{let I=Z();if(!I)throw new Error("Popup not found");let U=h7(I,"checkbox");if(!U)throw new Error("Checkbox input not found");U.value="1",U.checked=!!T.inputValue;let Se=S.querySelector("span");if(Se){let St=T.inputPlaceholder||T.inputLabel;St&&bn(Se,St)}return U},hi.textarea=(S,T)=>{let I=S;g7(I,T.inputValue),lx(I,T),Fd(I,I,T);let U=J=>parseInt(window.getComputedStyle(J).marginLeft)+parseInt(window.getComputedStyle(J).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let J=Z();if(!J)return;let Se=parseInt(window.getComputedStyle(J).width),St=()=>{if(!document.body.contains(I))return;let jt=I.offsetWidth+U(I),Ln=Z();Ln&&(jt>Se?Ln.style.width=`${jt}px`:ec(Ln,"width",T.width))};new MutationObserver(St).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};let Dse=(S,T)=>{let I=ne();I&&(nx(I),Qo(I,T,"htmlContainer"),T.html?(ox(T.html,I),Ki(I,"block")):T.text?(I.textContent=T.text,Ki(I,"block")):Tr(I),Sse(S,T))},Ise=(S,T)=>{let I=Mr();I&&(nx(I),Rd(I,!!T.footer,"block"),T.footer&&ox(T.footer,I),Qo(I,T,"footer"))},Lse=(S,T)=>{let I=Nn.innerParams.get(S),U=te();if(!U)return;if(I&&T.icon===I.icon){ON(U,T),NN(U,T);return}if(!T.icon&&!T.iconHtml){Tr(U);return}if(T.icon&&Object.keys(m).indexOf(T.icon)===-1){C(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${T.icon}"`),Tr(U);return}Ki(U),ON(U,T),NN(U,T),en(U,T.showClass&&T.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",PN)},NN=(S,T)=>{for(let[I,U]of Object.entries(m))T.icon!==I&&_a(S,U);en(S,T.icon&&m[T.icon]),kse(S,T),PN(),Qo(S,T,"icon")},PN=()=>{let S=Z();if(!S)return;let T=window.getComputedStyle(S).getPropertyValue("background-color"),I=S.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let U=0;U<I.length;U++)I[U].style.backgroundColor=T},Ase=S=>`
  ${S.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${S.animation?'<div class="swal2-success-fix"></div>':""}
  ${S.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,zse=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ON=(S,T)=>{if(!T.icon&&!T.iconHtml)return;let I=S.innerHTML,U="";T.iconHtml?U=RN(T.iconHtml):T.icon==="success"?(U=Ase(T),I=I.replace(/ style=".*?"/g,"")):T.icon==="error"?U=zse:T.icon&&(U=RN({question:"?",warning:"!",info:"i"}[T.icon])),I.trim()!==U.trim()&&bn(S,U)},kse=(S,T)=>{if(T.iconColor){S.style.color=T.iconColor,S.style.borderColor=T.iconColor;for(let I of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])AN(S,I,"background-color",T.iconColor);AN(S,".swal2-success-ring","border-color",T.iconColor)}},RN=S=>`<div class="${d["icon-content"]}">${S}</div>`,Nse=(S,T)=>{let I=he();if(I){if(!T.imageUrl){Tr(I);return}Ki(I,""),I.setAttribute("src",T.imageUrl),I.setAttribute("alt",T.imageAlt||""),ec(I,"width",T.imageWidth),ec(I,"height",T.imageHeight),I.className=d.image,Qo(I,T,"image")}},cx=!1,FN=0,BN=0,VN=0,UN=0,Pse=S=>{S.addEventListener("mousedown",v7),document.body.addEventListener("mousemove",y7),S.addEventListener("mouseup",_7),S.addEventListener("touchstart",v7),document.body.addEventListener("touchmove",y7),S.addEventListener("touchend",_7)},Ose=S=>{S.removeEventListener("mousedown",v7),document.body.removeEventListener("mousemove",y7),S.removeEventListener("mouseup",_7),S.removeEventListener("touchstart",v7),document.body.removeEventListener("touchmove",y7),S.removeEventListener("touchend",_7)},v7=S=>{let T=Z();if(!T)return;let I=te();if(S.target===T||I&&I.contains(S.target)){cx=!0;let U=HN(S);FN=U.clientX,BN=U.clientY,VN=parseInt(T.style.insetInlineStart)||0,UN=parseInt(T.style.insetBlockStart)||0,en(T,"swal2-dragging")}},y7=S=>{let T=Z();if(T&&cx){let{clientX:I,clientY:U}=HN(S),J=I-FN;T.style.insetInlineStart=`${VN+(a.isRTL?-J:J)}px`,T.style.insetBlockStart=`${UN+(U-BN)}px`}},_7=()=>{let S=Z();cx=!1,_a(S,"swal2-dragging")},HN=S=>{let T=0,I=0;return S.type.startsWith("mouse")?(T=S.clientX,I=S.clientY):S.type.startsWith("touch")&&(T=S.touches[0].clientX,I=S.touches[0].clientY),{clientX:T,clientY:I}},Rse=(S,T)=>{let I=q(),U=Z();if(!(!I||!U)){if(T.toast){ec(I,"width",T.width),U.style.width="100%";let J=Xe();J&&U.insertBefore(J,te())}else ec(U,"width",T.width);ec(U,"padding",T.padding),T.color&&(U.style.color=T.color),T.background&&(U.style.background=T.background),Tr(ve()),Fse(U,T),T.draggable&&!T.toast?(en(U,d.draggable),Pse(U)):(_a(U,d.draggable),Ose(U))}},Fse=(S,T)=>{let I=T.showClass||{};S.className=`${d.popup} ${Co(S)?I.popup:""}`,T.toast?(en([document.documentElement,document.body],d["toast-shown"]),en(S,d.toast)):en(S,d.modal),Qo(S,T,"popup"),typeof T.customClass=="string"&&en(S,T.customClass),T.icon&&en(S,d[`icon-${T.icon}`])},Bse=(S,T)=>{let I=oe();if(!I)return;let{progressSteps:U,currentProgressStep:J}=T;if(!U||U.length===0||J===void 0){Tr(I);return}Ki(I),I.textContent="",J>=U.length&&b("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),U.forEach((Se,St)=>{let jt=Vse(Se);if(I.appendChild(jt),St===J&&en(jt,d["active-progress-step"]),St!==U.length-1){let Ln=Use(T);I.appendChild(Ln)}})},Vse=S=>{let T=document.createElement("li");return en(T,d["progress-step"]),bn(T,S),T},Use=S=>{let T=document.createElement("li");return en(T,d["progress-step-line"]),S.progressStepsDistance&&ec(T,"width",S.progressStepsDistance),T},Hse=(S,T)=>{let I=ce();I&&(nx(I),Rd(I,!!(T.title||T.titleText),"block"),T.title&&ox(T.title,I),T.titleText&&(I.innerText=T.titleText),Qo(I,T,"title"))},jN=(S,T)=>{var I;Rse(S,T),yse(S,T),Bse(S,T),Lse(S,T),Nse(S,T),Hse(S,T),vse(S,T),Dse(S,T),mse(S,T),Ise(S,T);let U=Z();typeof T.didRender=="function"&&U&&T.didRender(U),(I=a.eventEmitter)===null||I===void 0||I.emit("didRender",U)},jse=()=>Co(Z()),GN=()=>{var S;return(S=Ee())===null||S===void 0?void 0:S.click()},Gse=()=>{var S;return(S=Ye())===null||S===void 0?void 0:S.click()},Wse=()=>{var S;return(S=Ge())===null||S===void 0?void 0:S.click()},E4=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),WN=S=>{if(S.keydownTarget&&S.keydownHandlerAdded&&S.keydownHandler){let T=S.keydownHandler;S.keydownTarget.removeEventListener("keydown",T,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!1}},qse=(S,T,I)=>{if(WN(S),!T.toast){let U=Se=>Yse(T,Se,I);S.keydownHandler=U;let J=T.keydownListenerCapture?window:Z();if(J){S.keydownTarget=J,S.keydownListenerCapture=T.keydownListenerCapture;let Se=U;S.keydownTarget.addEventListener("keydown",Se,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!0}}},ux=(S,T)=>{var I;let U=kn();if(U.length){S=S+T,S===-2&&(S=U.length-1),S===U.length?S=0:S===-1&&(S=U.length-1),U[S].focus();return}(I=Z())===null||I===void 0||I.focus()},qN=["ArrowRight","ArrowDown"],$se=["ArrowLeft","ArrowUp"],Yse=(S,T,I)=>{S&&(T.isComposing||T.keyCode===229||(S.stopKeydownPropagation&&T.stopPropagation(),T.key==="Enter"?Zse(T,S):T.key==="Tab"?Xse(T):[...qN,...$se].includes(T.key)?Qse(T.key):T.key==="Escape"&&Kse(T,S,I)))},Zse=(S,T)=>{if(!L(T.allowEnterKey))return;let I=Z();if(!I||!T.input)return;let U=h7(I,T.input);if(S.target&&U&&S.target instanceof HTMLElement&&S.target.outerHTML===U.outerHTML){if(["textarea","file"].includes(T.input))return;GN(),S.preventDefault()}},Xse=S=>{let T=S.target,I=kn(),U=-1;for(let J=0;J<I.length;J++)if(T===I[J]){U=J;break}S.shiftKey?ux(U,-1):ux(U,1),S.stopPropagation(),S.preventDefault()},Qse=S=>{let T=Jt(),I=Ee(),U=Ye(),J=Ge();if(!T||!I||!U||!J)return;let Se=[I,U,J];if(document.activeElement instanceof HTMLElement&&!Se.includes(document.activeElement))return;let St=qN.includes(S)?"nextElementSibling":"previousElementSibling",jt=document.activeElement;if(jt){for(let Ln=0;Ln<T.children.length;Ln++){if(jt=jt[St],!jt)return;if(jt instanceof HTMLButtonElement&&Co(jt))break}jt instanceof HTMLButtonElement&&jt.focus()}},Kse=(S,T,I)=>{S.preventDefault(),L(T.allowEscapeKey)&&I(E4.esc)};var D4={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Jse=()=>{let S=q();Array.from(document.body.children).forEach(I=>{I.contains(S)||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")||""),I.setAttribute("aria-hidden","true"))})},$N=()=>{Array.from(document.body.children).forEach(T=>{T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")||""),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})},YN=typeof window<"u"&&!!window.GestureEvent,e2e=()=>{if(YN&&!ya(document.body,d.iosfix)){let S=document.body.scrollTop;document.body.style.top=`${S*-1}px`,en(document.body,d.iosfix),t2e()}},t2e=()=>{let S=q();if(!S)return;let T;S.ontouchstart=I=>{T=n2e(I)},S.ontouchmove=I=>{T&&(I.preventDefault(),I.stopPropagation())}},n2e=S=>{let T=S.target,I=q(),U=ne();return!I||!U||i2e(S)||r2e(S)?!1:T===I||!ix(I)&&T instanceof HTMLElement&&!nse(T,U)&&T.tagName!=="INPUT"&&T.tagName!=="TEXTAREA"&&!(ix(U)&&U.contains(T))},i2e=S=>!!(S.touches&&S.touches.length&&S.touches[0].touchType==="stylus"),r2e=S=>S.touches&&S.touches.length>1,o2e=()=>{if(ya(document.body,d.iosfix)){let S=parseInt(document.body.style.top,10);_a(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=S*-1}},a2e=()=>{let S=document.createElement("div");S.className=d["scrollbar-measure"],document.body.appendChild(S);let T=S.getBoundingClientRect().width-S.clientWidth;return document.body.removeChild(S),T},I4=null,s2e=S=>{I4===null&&(document.body.scrollHeight>window.innerHeight||S==="scroll")&&(I4=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${I4+a2e()}px`)},l2e=()=>{I4!==null&&(document.body.style.paddingRight=`${I4}px`,I4=null)};function ZN(S,T,I,U){Ft()?QN(S,U):(l(I).then(()=>QN(S,U)),WN(a)),YN?(T.setAttribute("style","display:none !important"),T.removeAttribute("class"),T.innerHTML=""):T.remove(),ot()&&(l2e(),o2e(),$N()),c2e()}function c2e(){_a([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function dl(S){S=d2e(S);let T=D4.swalPromiseResolve.get(this),I=u2e(this);this.isAwaitingPromise?S.isDismissed||(Bd(this),T(S)):I&&T(S)}let u2e=S=>{let T=Z();if(!T)return!1;let I=Nn.innerParams.get(S);if(!I||ya(T,I.hideClass.popup))return!1;_a(T,I.showClass.popup),en(T,I.hideClass.popup);let U=q();return _a(U,I.showClass.backdrop),en(U,I.hideClass.backdrop),f2e(S,T,I),!0};function XN(S){let T=D4.swalPromiseReject.get(this);Bd(this),T&&T(S)}let Bd=S=>{S.isAwaitingPromise&&(delete S.isAwaitingPromise,Nn.innerParams.get(S)||S._destroy())},d2e=S=>typeof S>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},S),f2e=(S,T,I)=>{var U;let J=q(),Se=zN(T);typeof I.willClose=="function"&&I.willClose(T),(U=a.eventEmitter)===null||U===void 0||U.emit("willClose",T),Se&&J?p2e(S,T,J,!!I.returnFocus,I.didClose):J&&ZN(S,J,!!I.returnFocus,I.didClose)},p2e=(S,T,I,U,J)=>{a.swalCloseEventFinishedCallback=ZN.bind(null,S,I,U,J);let Se=function(St){if(St.target===T){var jt;(jt=a.swalCloseEventFinishedCallback)===null||jt===void 0||jt.call(a),delete a.swalCloseEventFinishedCallback,T.removeEventListener("animationend",Se),T.removeEventListener("transitionend",Se)}};T.addEventListener("animationend",Se),T.addEventListener("transitionend",Se)},QN=(S,T)=>{setTimeout(()=>{var I;typeof T=="function"&&T.bind(S.params)(),(I=a.eventEmitter)===null||I===void 0||I.emit("didClose"),S._destroy&&S._destroy()})},L4=S=>{let T=Z();if(T||new M7,T=Z(),!T)return;let I=Xe();Ft()?Tr(te()):m2e(T,S),Ki(I),T.setAttribute("data-loading","true"),T.setAttribute("aria-busy","true"),T.focus()},m2e=(S,T)=>{let I=Jt(),U=Xe();!I||!U||(!T&&Co(Ee())&&(T=Ee()),Ki(I),T&&(Tr(T),U.setAttribute("data-button-to-replace",T.className),I.insertBefore(U,T)),en([S,I],d.loading))},h2e=(S,T)=>{T.input==="select"||T.input==="radio"?b2e(S,T):["text","email","number","tel","textarea"].some(I=>I===T.input)&&(P(T.inputValue)||G(T.inputValue))&&(L4(Ee()),x2e(S,T))},g2e=(S,T)=>{let I=S.getInput();if(!I)return null;switch(T.input){case"checkbox":return v2e(I);case"radio":return y2e(I);case"file":return _2e(I);default:return T.inputAutoTrim?I.value.trim():I.value}},v2e=S=>S.checked?1:0,y2e=S=>S.checked?S.value:null,_2e=S=>S.files&&S.files.length?S.getAttribute("multiple")!==null?S.files:S.files[0]:null,b2e=(S,T)=>{let I=Z();if(!I)return;let U=J=>{T.input==="select"?C2e(I,b7(J),T):T.input==="radio"&&S2e(I,b7(J),T)};P(T.inputOptions)||G(T.inputOptions)?(L4(Ee()),F(T.inputOptions).then(J=>{S.hideLoading(),U(J)})):typeof T.inputOptions=="object"?U(T.inputOptions):C(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof T.inputOptions}`)},x2e=(S,T)=>{let I=S.getInput();I&&(Tr(I),F(T.inputValue).then(U=>{I.value=T.input==="number"?`${parseFloat(U)||0}`:`${U}`,Ki(I),I.focus(),S.hideLoading()}).catch(U=>{C(`Error in inputValue promise: ${U}`),I.value="",Ki(I),I.focus(),S.hideLoading()}))};function C2e(S,T,I){let U=ul(S,d.select);if(!U)return;let J=(Se,St,jt)=>{let Ln=document.createElement("option");Ln.value=jt,bn(Ln,St),Ln.selected=KN(jt,I.inputValue),Se.appendChild(Ln)};T.forEach(Se=>{let St=Se[0],jt=Se[1];if(Array.isArray(jt)){let Ln=document.createElement("optgroup");Ln.label=St,Ln.disabled=!1,U.appendChild(Ln),jt.forEach(A4=>J(Ln,A4[1],A4[0]))}else J(U,jt,St)}),U.focus()}function S2e(S,T,I){let U=ul(S,d.radio);if(!U)return;T.forEach(Se=>{let St=Se[0],jt=Se[1],Ln=document.createElement("input"),A4=document.createElement("label");Ln.type="radio",Ln.name=d.radio,Ln.value=St,KN(St,I.inputValue)&&(Ln.checked=!0);let hx=document.createElement("span");bn(hx,jt),hx.className=d.label,A4.appendChild(Ln),A4.appendChild(hx),U.appendChild(A4)});let J=U.querySelectorAll("input");J.length&&J[0].focus()}let b7=S=>{let T=[];return S instanceof Map?S.forEach((I,U)=>{let J=I;typeof J=="object"&&(J=b7(J)),T.push([U,J])}):Object.keys(S).forEach(I=>{let U=S[I];typeof U=="object"&&(U=b7(U)),T.push([I,U])}),T},KN=(S,T)=>!!T&&T!==null&&T!==void 0&&T.toString()===S.toString(),w2e=S=>{let T=Nn.innerParams.get(S);S.disableButtons(),T.input?JN(S,"confirm"):fx(S,!0)},M2e=S=>{let T=Nn.innerParams.get(S);S.disableButtons(),T.returnInputValueOnDeny?JN(S,"deny"):dx(S,!1)},T2e=(S,T)=>{S.disableButtons(),T(E4.cancel)},JN=(S,T)=>{let I=Nn.innerParams.get(S);if(!I.input){C(`The "input" parameter is needed to be set when using returnInputValueOn${_(T)}`);return}let U=S.getInput(),J=g2e(S,I);I.inputValidator?E2e(S,J,T):U&&!U.checkValidity()?(S.enableButtons(),S.showValidationMessage(I.validationMessage||U.validationMessage)):T==="deny"?dx(S,J):fx(S,J)},E2e=(S,T,I)=>{let U=Nn.innerParams.get(S);S.disableInput(),Promise.resolve().then(()=>F(U.inputValidator(T,U.validationMessage))).then(Se=>{S.enableButtons(),S.enableInput(),Se?S.showValidationMessage(Se):I==="deny"?dx(S,T):fx(S,T)})},dx=(S,T)=>{let I=Nn.innerParams.get(S);I.showLoaderOnDeny&&L4(Ye()),I.preDeny?(S.isAwaitingPromise=!0,Promise.resolve().then(()=>F(I.preDeny(T,I.validationMessage))).then(J=>{J===!1?(S.hideLoading(),Bd(S)):S.close({isDenied:!0,value:typeof J>"u"?T:J})}).catch(J=>tP(S,J))):S.close({isDenied:!0,value:T})},eP=(S,T)=>{S.close({isConfirmed:!0,value:T})},tP=(S,T)=>{S.rejectPromise(T)},fx=(S,T)=>{let I=Nn.innerParams.get(S);I.showLoaderOnConfirm&&L4(),I.preConfirm?(S.resetValidationMessage(),S.isAwaitingPromise=!0,Promise.resolve().then(()=>F(I.preConfirm(T,I.validationMessage))).then(J=>{Co(ve())||J===!1?(S.hideLoading(),Bd(S)):eP(S,typeof J>"u"?T:J)}).catch(J=>tP(S,J))):eP(S,T)};function x7(){let S=Nn.innerParams.get(this);if(!S)return;let T=Nn.domCache.get(this);Tr(T.loader),Ft()?S.icon&&Ki(te()):D2e(T),_a([T.popup,T.actions],d.loading),T.popup.removeAttribute("aria-busy"),T.popup.removeAttribute("data-loading"),T.confirmButton.disabled=!1,T.denyButton.disabled=!1,T.cancelButton.disabled=!1}let D2e=S=>{let T=S.loader.getAttribute("data-button-to-replace"),I=T?S.popup.getElementsByClassName(T):[];I.length?Ki(I[0],"inline-block"):tse()&&Tr(S.actions)};function nP(){let S=Nn.innerParams.get(this),T=Nn.domCache.get(this);return T?h7(T.popup,S.input):null}function iP(S,T,I){let U=Nn.domCache.get(S);T.forEach(J=>{U[J].disabled=I})}function rP(S,T){let I=Z();if(!(!I||!S))if(S.type==="radio"){let U=I.querySelectorAll(`[name="${d.radio}"]`);for(let J=0;J<U.length;J++)U[J].disabled=T}else S.disabled=T}function oP(){iP(this,["confirmButton","denyButton","cancelButton"],!1)}function aP(){iP(this,["confirmButton","denyButton","cancelButton"],!0)}function sP(){rP(this.getInput(),!1)}function lP(){rP(this.getInput(),!0)}function cP(S){let T=Nn.domCache.get(this),I=Nn.innerParams.get(this);bn(T.validationMessage,S),T.validationMessage.className=d["validation-message"],I.customClass&&I.customClass.validationMessage&&en(T.validationMessage,I.customClass.validationMessage),Ki(T.validationMessage);let U=this.getInput();U&&(U.setAttribute("aria-invalid","true"),U.setAttribute("aria-describedby",d["validation-message"]),IN(U),en(U,d.inputerror))}function uP(){let S=Nn.domCache.get(this);S.validationMessage&&Tr(S.validationMessage);let T=this.getInput();T&&(T.removeAttribute("aria-invalid"),T.removeAttribute("aria-describedby"),_a(T,d.inputerror))}let fl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},I2e=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],L2e={allowEnterKey:void 0},A2e=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],dP=S=>Object.prototype.hasOwnProperty.call(fl,S),fP=S=>I2e.indexOf(S)!==-1,pP=S=>L2e[S],z2e=S=>{dP(S)||b(`Unknown parameter "${S}"`)},k2e=S=>{A2e.includes(S)&&b(`The parameter "${S}" is incompatible with toasts`)},N2e=S=>{let T=pP(S);T&&D(S,T)},mP=S=>{S.backdrop===!1&&S.allowOutsideClick&&b('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),S.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(S.theme)&&b(`Invalid theme "${S.theme}"`);for(let T in S)z2e(T),S.toast&&k2e(T),N2e(T)};function hP(S){let T=q(),I=Z(),U=Nn.innerParams.get(this);if(!I||ya(I,U.hideClass.popup)){b("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let J=P2e(S),Se=Object.assign({},U,J);mP(Se),T&&(T.dataset.swal2Theme=Se.theme),jN(this,Se),Nn.innerParams.set(this,Se),Object.defineProperties(this,{params:{value:Object.assign({},this.params,S),writable:!1,enumerable:!0}})}let P2e=S=>{let T={};return Object.keys(S).forEach(I=>{if(fP(I)){let U=S;T[I]=U[I]}else b(`Invalid parameter to update: ${I}`)}),T};function gP(){var S;let T=Nn.domCache.get(this),I=Nn.innerParams.get(this);if(!I){vP(this);return}T.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),typeof I.didDestroy=="function"&&I.didDestroy(),(S=a.eventEmitter)===null||S===void 0||S.emit("didDestroy"),O2e(this)}let O2e=S=>{vP(S),delete S.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},vP=S=>{S.isAwaitingPromise?(px(Nn,S),S.isAwaitingPromise=!0):(px(D4,S),px(Nn,S),delete S.isAwaitingPromise,delete S.disableButtons,delete S.enableButtons,delete S.getInput,delete S.disableInput,delete S.enableInput,delete S.hideLoading,delete S.disableLoading,delete S.showValidationMessage,delete S.resetValidationMessage,delete S.close,delete S.closePopup,delete S.closeModal,delete S.closeToast,delete S.rejectPromise,delete S.update,delete S._destroy)},px=(S,T)=>{for(let I in S)S[I].delete(T)};var R2e=Object.freeze({__proto__:null,_destroy:gP,close:dl,closeModal:dl,closePopup:dl,closeToast:dl,disableButtons:aP,disableInput:lP,disableLoading:x7,enableButtons:oP,enableInput:sP,getInput:nP,handleAwaitingPromise:Bd,hideLoading:x7,rejectPromise:XN,resetValidationMessage:uP,showValidationMessage:cP,update:hP});let F2e=(S,T,I)=>{S.toast?B2e(S,T,I):(U2e(T),H2e(T),j2e(S,T,I))},B2e=(S,T,I)=>{T.popup.onclick=()=>{S&&(V2e(S)||S.timer||S.input)||I(E4.close)}},V2e=S=>!!(S.showConfirmButton||S.showDenyButton||S.showCancelButton||S.showCloseButton),C7=!1,U2e=S=>{S.popup.onmousedown=()=>{S.container.onmouseup=function(T){S.container.onmouseup=()=>{},T.target===S.container&&(C7=!0)}}},H2e=S=>{S.container.onmousedown=T=>{T.target===S.container&&T.preventDefault(),S.popup.onmouseup=function(I){S.popup.onmouseup=()=>{},(I.target===S.popup||I.target instanceof HTMLElement&&S.popup.contains(I.target))&&(C7=!0)}}},j2e=(S,T,I)=>{T.container.onclick=U=>{if(C7){C7=!1;return}U.target===T.container&&L(S.allowOutsideClick)&&I(E4.backdrop)}},G2e=S=>typeof S=="object"&&S.jquery,yP=S=>S instanceof Element||G2e(S),W2e=S=>{let T={};return typeof S[0]=="object"&&!yP(S[0])?Object.assign(T,S[0]):["title","html","icon"].forEach((I,U)=>{let J=S[U];typeof J=="string"||yP(J)?T[I]=J:J!==void 0&&C(`Unexpected type of ${I}! Expected "string" or "Element", got ${typeof J}`)}),T};function q2e(...S){return new this(...S)}function $2e(S){class T extends this{_main(U,J){return super._main(U,Object.assign({},S,J))}}return T}let Y2e=()=>a.timeout&&a.timeout.getTimerLeft(),_P=()=>{if(a.timeout)return ise(),a.timeout.stop()},bP=()=>{if(a.timeout){let S=a.timeout.start();return rx(S),S}},Z2e=()=>{let S=a.timeout;return S&&(S.running?_P():bP())},X2e=S=>{if(a.timeout){let T=a.timeout.increase(S);return rx(T,!0),T}},Q2e=()=>!!(a.timeout&&a.timeout.isRunning()),xP=!1,mx={};function K2e(S="data-swal-template"){mx[S]=this,xP||(document.body.addEventListener("click",J2e),xP=!0)}let J2e=S=>{for(let T=S.target;T&&T!==document;T=T.parentNode)for(let I in mx){let U=T.getAttribute&&T.getAttribute(I);if(U){mx[I].fire({template:U});return}}};class ele{constructor(){this.events={}}_getHandlersByEventName(T){return typeof this.events[T]>"u"&&(this.events[T]=[]),this.events[T]}on(T,I){let U=this._getHandlersByEventName(T);U.includes(I)||U.push(I)}once(T,I){let U=(...J)=>{this.removeListener(T,U),I.apply(this,J)};this.on(T,U)}emit(T,...I){this._getHandlersByEventName(T).forEach(U=>{try{U.apply(this,I)}catch(J){console.error(J)}})}removeListener(T,I){let U=this._getHandlersByEventName(T),J=U.indexOf(I);J>-1&&U.splice(J,1)}removeAllListeners(T){this.events[T]!==void 0&&(this.events[T].length=0)}reset(){this.events={}}}a.eventEmitter=new ele;var tle=Object.freeze({__proto__:null,argsToParams:W2e,bindClickHandler:K2e,clickCancel:Wse,clickConfirm:GN,clickDeny:Gse,enableLoading:L4,fire:q2e,getActions:Jt,getCancelButton:Ge,getCloseButton:Qi,getConfirmButton:Ee,getContainer:q,getDenyButton:Ye,getFocusableElements:kn,getFooter:Mr,getHtmlContainer:ne,getIcon:te,getIconContent:re,getImage:he,getInputLabel:Rt,getLoader:Xe,getPopup:Z,getProgressSteps:oe,getTimerLeft:Y2e,getTimerProgressBar:_n,getTitle:ce,getValidationMessage:ve,increaseTimer:X2e,isDeprecatedParameter:pP,isLoading:Ws,isTimerRunning:Q2e,isUpdatableParameter:fP,isValidParameter:dP,isVisible:jse,mixin:$2e,off:(S,T)=>{if(a.eventEmitter){if(!S){a.eventEmitter.reset();return}T?a.eventEmitter.removeListener(S,T):a.eventEmitter.removeAllListeners(S)}},on:(S,T)=>{a.eventEmitter&&a.eventEmitter.on(S,T)},once:(S,T)=>{a.eventEmitter&&a.eventEmitter.once(S,T)},resumeTimer:bP,showLoading:L4,stopTimer:_P,toggleTimer:Z2e});class nle{constructor(T,I){this.callback=T,this.remaining=I,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(T){let I=this.running;return I&&this.stop(),this.remaining+=T,I&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let CP=["swal-title","swal-html","swal-footer"],ile=S=>{let T=typeof S.template=="string"?document.querySelector(S.template):S.template;if(!T)return{};let I=T.content;return dle(I),Object.assign(rle(I),ole(I),ale(I),sle(I),lle(I),cle(I),ule(I,CP))},rle=S=>{let T={};return Array.from(S.querySelectorAll("swal-param")).forEach(U=>{nc(U,["name","value"]);let J=U.getAttribute("name"),Se=U.getAttribute("value");!J||!Se||(J in fl&&typeof fl[J]=="boolean"?T[J]=Se!=="false":J in fl&&typeof fl[J]=="object"?T[J]=JSON.parse(Se):T[J]=Se)}),T},ole=S=>{let T={};return Array.from(S.querySelectorAll("swal-function-param")).forEach(U=>{let J=U.getAttribute("name"),Se=U.getAttribute("value");!J||!Se||(T[J]=new Function(`return ${Se}`)())}),T},ale=S=>{let T={};return Array.from(S.querySelectorAll("swal-button")).forEach(U=>{nc(U,["type","color","aria-label"]);let J=U.getAttribute("type");if(!(!J||!["confirm","cancel","deny"].includes(J))){if(T[`${J}ButtonText`]=U.innerHTML,T[`show${_(J)}Button`]=!0,U.hasAttribute("color")){let Se=U.getAttribute("color");Se!==null&&(T[`${J}ButtonColor`]=Se)}if(U.hasAttribute("aria-label")){let Se=U.getAttribute("aria-label");Se!==null&&(T[`${J}ButtonAriaLabel`]=Se)}}}),T},sle=S=>{let T={},I=S.querySelector("swal-image");return I&&(nc(I,["src","width","height","alt"]),I.hasAttribute("src")&&(T.imageUrl=I.getAttribute("src")||void 0),I.hasAttribute("width")&&(T.imageWidth=I.getAttribute("width")||void 0),I.hasAttribute("height")&&(T.imageHeight=I.getAttribute("height")||void 0),I.hasAttribute("alt")&&(T.imageAlt=I.getAttribute("alt")||void 0)),T},lle=S=>{let T={},I=S.querySelector("swal-icon");return I&&(nc(I,["type","color"]),I.hasAttribute("type")&&(T.icon=I.getAttribute("type")),I.hasAttribute("color")&&(T.iconColor=I.getAttribute("color")),T.iconHtml=I.innerHTML),T},cle=S=>{let T={},I=S.querySelector("swal-input");I&&(nc(I,["type","label","placeholder","value"]),T.input=I.getAttribute("type")||"text",I.hasAttribute("label")&&(T.inputLabel=I.getAttribute("label")),I.hasAttribute("placeholder")&&(T.inputPlaceholder=I.getAttribute("placeholder")),I.hasAttribute("value")&&(T.inputValue=I.getAttribute("value")));let U=Array.from(S.querySelectorAll("swal-input-option"));return U.length&&(T.inputOptions={},U.forEach(J=>{nc(J,["value"]);let Se=J.getAttribute("value");if(!Se)return;let St=J.innerHTML;T.inputOptions[Se]=St})),T},ule=(S,T)=>{let I={};for(let U in T){let J=T[U],Se=S.querySelector(J);Se&&(nc(Se,[]),I[J.replace(/^swal-/,"")]=Se.innerHTML.trim())}return I},dle=S=>{let T=CP.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(S.children).forEach(I=>{let U=I.tagName.toLowerCase();T.includes(U)||b(`Unrecognized element <${U}>`)})},nc=(S,T)=>{Array.from(S.attributes).forEach(I=>{T.indexOf(I.name)===-1&&b([`Unrecognized attribute "${I.name}" on <${S.tagName.toLowerCase()}>.`,`${T.length?`Allowed attributes are: ${T.join(", ")}`:"To set the value, use HTML within the element."}`])})},SP=10,fle=S=>{var T,I;let U=q(),J=Z();if(!U||!J)return;typeof S.willOpen=="function"&&S.willOpen(J),(T=a.eventEmitter)===null||T===void 0||T.emit("willOpen",J);let St=window.getComputedStyle(document.body).overflowY;if(hle(U,J,S),setTimeout(()=>{ple(U,J)},SP),ot()&&(mle(U,S.scrollbarPadding!==void 0?S.scrollbarPadding:!1,St),Jse()),!Ft()&&!a.previousActiveElement&&(a.previousActiveElement=document.activeElement),typeof S.didOpen=="function"){let jt=S.didOpen;setTimeout(()=>jt(J))}(I=a.eventEmitter)===null||I===void 0||I.emit("didOpen",J)},S7=S=>{let T=Z();if(!T||S.target!==T)return;let I=q();I&&(T.removeEventListener("animationend",S7),T.removeEventListener("transitionend",S7),I.style.overflowY="auto",_a(I,d["no-transition"]))},ple=(S,T)=>{zN(T)?(S.style.overflowY="hidden",T.addEventListener("animationend",S7),T.addEventListener("transitionend",S7)):S.style.overflowY="auto"},mle=(S,T,I)=>{e2e(),T&&I!=="hidden"&&s2e(I),setTimeout(()=>{S.scrollTop=0})},hle=(S,T,I)=>{var U;(U=I.showClass)!==null&&U!==void 0&&U.backdrop&&en(S,I.showClass.backdrop),I.animation?(T.style.setProperty("opacity","0","important"),Ki(T,"grid"),setTimeout(()=>{var J;(J=I.showClass)!==null&&J!==void 0&&J.popup&&en(T,I.showClass.popup),T.style.removeProperty("opacity")},SP)):Ki(T,"grid"),en([document.documentElement,document.body],d.shown),I.heightAuto&&I.backdrop&&!I.toast&&en([document.documentElement,document.body],d["height-auto"])};var wP={email:(S,T)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(S)?Promise.resolve():Promise.resolve(T||"Invalid email address"),url:(S,T)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(S)?Promise.resolve():Promise.resolve(T||"Invalid URL")};function gle(S){S.inputValidator||(S.input==="email"&&(S.inputValidator=wP.email),S.input==="url"&&(S.inputValidator=wP.url))}function vle(S){(!S.target||typeof S.target=="string"&&!document.querySelector(S.target)||typeof S.target!="string"&&!S.target.appendChild)&&(b('Target parameter is not valid, defaulting to "body"'),S.target="body")}function yle(S){gle(S),S.showLoaderOnConfirm&&!S.preConfirm&&b(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),vle(S),typeof S.title=="string"&&(S.title=S.title.split(`
`).join("<br />")),dse(S)}let F1;var w7=new WeakMap;class gi{constructor(...T){if(i(this,w7,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;F1=this;let I=Object.freeze(this.constructor.argsToParams(T));this.params=I,this.isAwaitingPromise=!1,r(w7,this,this._main(F1.params))}_main(T,I={}){if(mP(Object.assign({},I,T)),a.currentInstance){let Se=D4.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:St}=a.currentInstance;a.currentInstance._destroy(),St||Se({isDismissed:!0}),ot()&&$N()}a.currentInstance=F1;let U=ble(T,I);yle(U),Object.freeze(U),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);let J=xle(F1);return jN(F1,U),Nn.innerParams.set(F1,U),_le(F1,J,U)}then(T){return e(w7,this).then(T)}finally(T){return e(w7,this).finally(T)}}let _le=(S,T,I)=>new Promise((U,J)=>{let Se=St=>{S.close({isDismissed:!0,dismiss:St,isConfirmed:!1,isDenied:!1})};D4.swalPromiseResolve.set(S,U),D4.swalPromiseReject.set(S,J),T.confirmButton.onclick=()=>{w2e(S)},T.denyButton.onclick=()=>{M2e(S)},T.cancelButton.onclick=()=>{T2e(S,Se)},T.closeButton.onclick=()=>{Se(E4.close)},F2e(I,T,Se),qse(a,I,Se),h2e(S,I),fle(I),Cle(a,I,Se),Sle(T,I),setTimeout(()=>{T.container.scrollTop=0})}),ble=(S,T)=>{let I=ile(S),U=Object.assign({},fl,T,I,S);return U.showClass=Object.assign({},fl.showClass,U.showClass),U.hideClass=Object.assign({},fl.hideClass,U.hideClass),U.animation===!1&&(U.showClass={backdrop:"swal2-noanimation"},U.hideClass={}),U},xle=S=>{let T={popup:Z(),container:q(),actions:Jt(),confirmButton:Ee(),denyButton:Ye(),cancelButton:Ge(),loader:Xe(),closeButton:Qi(),validationMessage:ve(),progressSteps:oe()};return Nn.domCache.set(S,T),T},Cle=(S,T,I)=>{let U=_n();Tr(U),T.timer&&(S.timeout=new nle(()=>{I("timer"),delete S.timeout},T.timer),T.timerProgressBar&&U&&(Ki(U),Qo(U,T,"timerProgressBar"),setTimeout(()=>{S.timeout&&S.timeout.running&&rx(T.timer)})))},Sle=(S,T)=>{if(!T.toast){if(!L(T.allowEnterKey)){D("allowEnterKey"),Tle();return}wle(S)||Mle(S,T)||ux(-1,1)}},wle=S=>{let T=Array.from(S.popup.querySelectorAll("[autofocus]"));for(let I of T)if(I instanceof HTMLElement&&Co(I))return I.focus(),!0;return!1},Mle=(S,T)=>T.focusDeny&&Co(S.denyButton)?(S.denyButton.focus(),!0):T.focusCancel&&Co(S.cancelButton)?(S.cancelButton.focus(),!0):T.focusConfirm&&Co(S.confirmButton)?(S.confirmButton.focus(),!0):!1,Tle=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};gi.prototype.disableButtons=aP,gi.prototype.enableButtons=oP,gi.prototype.getInput=nP,gi.prototype.disableInput=lP,gi.prototype.enableInput=sP,gi.prototype.hideLoading=x7,gi.prototype.disableLoading=x7,gi.prototype.showValidationMessage=cP,gi.prototype.resetValidationMessage=uP,gi.prototype.close=dl,gi.prototype.closePopup=dl,gi.prototype.closeModal=dl,gi.prototype.closeToast=dl,gi.prototype.rejectPromise=XN,gi.prototype.update=hP,gi.prototype._destroy=gP,Object.assign(gi,tle),Object.keys(R2e).forEach(S=>{gi[S]=function(...T){if(F1&&F1[S])return F1[S](...T)}}),gi.DismissReason=E4,gi.version="11.26.17";let M7=gi;return M7.default=M7,M7});typeof ws<"u"&&ws.Sweetalert2&&(ws.swal=ws.sweetAlert=ws.Swal=ws.SweetAlert=ws.Sweetalert2);typeof document<"u"&&(function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var SQ=Re((Y8t,ty)=>{"use strict";var iQ,rQ,oQ,aQ,sQ,lQ,cQ,uQ,dQ,Jv,fI,fQ,pQ,mQ,Au,hQ,gQ,vQ,yQ,_Q,bQ,xQ,CQ,ey;(function(n){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){n(e(t,e(i)))}):typeof ty=="object"&&typeof ty.exports=="object"?n(e(t,e(ty.exports))):n(e(t));function e(i,r){return i!==t&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(o,a){return i[o]=r?r(o,a):a}}})(function(n){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])};iQ=function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(i,r);function o(){this.constructor=i}i.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)},rQ=Object.assign||function(i){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},oQ=function(i,r){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(i);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(i,a[s])&&(o[a[s]]=i[a[s]]);return o},aQ=function(i,r,o,a){var s=arguments.length,l=s<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,o):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,r,o,a);else for(var u=i.length-1;u>=0;u--)(c=i[u])&&(l=(s<3?c(l):s>3?c(r,o,l):c(r,o))||l);return s>3&&l&&Object.defineProperty(r,o,l),l},sQ=function(i,r){return function(o,a){r(o,a,i)}},lQ=function(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)},cQ=function(i,r,o,a){function s(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(m){try{f(a.next(m))}catch(v){c(v)}}function d(m){try{f(a.throw(m))}catch(v){c(v)}}function f(m){m.done?l(m.value):s(m.value).then(u,d)}f((a=a.apply(i,r||[])).next())})},uQ=function(i,r){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return d([f,m])}}function d(f){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,s&&(l=f[0]&2?s.return:f[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,f[1])).done)return l;switch(s=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,s=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){o.label=f[1];break}if(f[0]===6&&o.label<l[1]){o.label=l[1],l=f;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(f);break}l[2]&&o.ops.pop(),o.trys.pop();continue}f=r.call(i,o)}catch(m){f=[6,m],s=0}finally{a=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},dQ=function(i,r){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&ey(r,i,o)},ey=Object.create?function(i,r,o,a){a===void 0&&(a=o),Object.defineProperty(i,a,{enumerable:!0,get:function(){return r[o]}})}:function(i,r,o,a){a===void 0&&(a=o),i[a]=r[o]},Jv=function(i){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&i[r],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},fI=function(i,r){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var a=o.call(i),s,l=[],c;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(c)throw c.error}}return l},fQ=function(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(fI(arguments[r]));return i},pQ=function(){for(var i=0,r=0,o=arguments.length;r<o;r++)i+=arguments[r].length;for(var a=Array(i),s=0,r=0;r<o;r++)for(var l=arguments[r],c=0,u=l.length;c<u;c++,s++)a[s]=l[c];return a},mQ=function(i,r,o){if(o||arguments.length===2)for(var a=0,s=r.length,l;a<s;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return i.concat(l||r)},Au=function(i){return this instanceof Au?(this.v=i,this):new Au(i)},hQ=function(i,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,r||[]),s,l=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(_){a[_]&&(s[_]=function(b){return new Promise(function(C,w){l.push([_,b,C,w])>1||u(_,b)})})}function u(_,b){try{d(a[_](b))}catch(C){v(l[0][3],C)}}function d(_){_.value instanceof Au?Promise.resolve(_.value.v).then(f,m):v(l[0][2],_)}function f(_){u("next",_)}function m(_){u("throw",_)}function v(_,b){_(b),l.shift(),l.length&&u(l[0][0],l[0][1])}},gQ=function(i){var r,o;return r={},a("next"),a("throw",function(s){throw s}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(s,l){r[s]=i[s]?function(c){return(o=!o)?{value:Au(i[s](c)),done:s==="return"}:l?l(c):c}:l}},vQ=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],o;return r?r.call(i):(i=typeof Jv=="function"?Jv(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(l){o[l]=i[l]&&function(c){return new Promise(function(u,d){c=i[l](c),s(u,d,c.done,c.value)})}}function s(l,c,u,d){Promise.resolve(d).then(function(f){l({value:f,done:u})},c)}},yQ=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i};var e=Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r};_Q=function(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var o in i)o!=="default"&&Object.prototype.hasOwnProperty.call(i,o)&&ey(r,i,o);return e(r,i),r},bQ=function(i){return i&&i.__esModule?i:{default:i}},xQ=function(i,r,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!a:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:r.get(i)},CQ=function(i,r,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!s:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(i,o):s?s.value=o:r.set(i,o),o},n("__extends",iQ),n("__assign",rQ),n("__rest",oQ),n("__decorate",aQ),n("__param",sQ),n("__metadata",lQ),n("__awaiter",cQ),n("__generator",uQ),n("__exportStar",dQ),n("__createBinding",ey),n("__values",Jv),n("__read",fI),n("__spread",fQ),n("__spreadArrays",pQ),n("__spreadArray",mQ),n("__await",Au),n("__asyncGenerator",hQ),n("__asyncDelegator",gQ),n("__asyncValues",vQ),n("__makeTemplateObject",yQ),n("__importStar",_Q),n("__importDefault",bQ),n("__classPrivateFieldGet",xQ),n("__classPrivateFieldSet",CQ)})});var QQ=Re((Cpt,cy)=>{"use strict";var AQ,zQ,kQ,NQ,PQ,OQ,RQ,FQ,BQ,sy,yI,VQ,UQ,HQ,Pu,jQ,GQ,WQ,qQ,$Q,YQ,ZQ,XQ,ly;(function(n){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){n(e(t,e(i)))}):typeof cy=="object"&&typeof cy.exports=="object"?n(e(t,e(cy.exports))):n(e(t));function e(i,r){return i!==t&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(o,a){return i[o]=r?r(o,a):a}}})(function(n){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])};AQ=function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(i,r);function o(){this.constructor=i}i.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)},zQ=Object.assign||function(i){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},kQ=function(i,r){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(i);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(i,a[s])&&(o[a[s]]=i[a[s]]);return o},NQ=function(i,r,o,a){var s=arguments.length,l=s<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,o):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,r,o,a);else for(var u=i.length-1;u>=0;u--)(c=i[u])&&(l=(s<3?c(l):s>3?c(r,o,l):c(r,o))||l);return s>3&&l&&Object.defineProperty(r,o,l),l},PQ=function(i,r){return function(o,a){r(o,a,i)}},OQ=function(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)},RQ=function(i,r,o,a){function s(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(m){try{f(a.next(m))}catch(v){c(v)}}function d(m){try{f(a.throw(m))}catch(v){c(v)}}function f(m){m.done?l(m.value):s(m.value).then(u,d)}f((a=a.apply(i,r||[])).next())})},FQ=function(i,r){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return d([f,m])}}function d(f){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,s&&(l=f[0]&2?s.return:f[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,f[1])).done)return l;switch(s=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,s=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){o.label=f[1];break}if(f[0]===6&&o.label<l[1]){o.label=l[1],l=f;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(f);break}l[2]&&o.ops.pop(),o.trys.pop();continue}f=r.call(i,o)}catch(m){f=[6,m],s=0}finally{a=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},BQ=function(i,r){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&ly(r,i,o)},ly=Object.create?function(i,r,o,a){a===void 0&&(a=o),Object.defineProperty(i,a,{enumerable:!0,get:function(){return r[o]}})}:function(i,r,o,a){a===void 0&&(a=o),i[a]=r[o]},sy=function(i){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&i[r],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},yI=function(i,r){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var a=o.call(i),s,l=[],c;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(c)throw c.error}}return l},VQ=function(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(yI(arguments[r]));return i},UQ=function(){for(var i=0,r=0,o=arguments.length;r<o;r++)i+=arguments[r].length;for(var a=Array(i),s=0,r=0;r<o;r++)for(var l=arguments[r],c=0,u=l.length;c<u;c++,s++)a[s]=l[c];return a},HQ=function(i,r,o){if(o||arguments.length===2)for(var a=0,s=r.length,l;a<s;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return i.concat(l||r)},Pu=function(i){return this instanceof Pu?(this.v=i,this):new Pu(i)},jQ=function(i,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,r||[]),s,l=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(_){a[_]&&(s[_]=function(b){return new Promise(function(C,w){l.push([_,b,C,w])>1||u(_,b)})})}function u(_,b){try{d(a[_](b))}catch(C){v(l[0][3],C)}}function d(_){_.value instanceof Pu?Promise.resolve(_.value.v).then(f,m):v(l[0][2],_)}function f(_){u("next",_)}function m(_){u("throw",_)}function v(_,b){_(b),l.shift(),l.length&&u(l[0][0],l[0][1])}},GQ=function(i){var r,o;return r={},a("next"),a("throw",function(s){throw s}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(s,l){r[s]=i[s]?function(c){return(o=!o)?{value:Pu(i[s](c)),done:s==="return"}:l?l(c):c}:l}},WQ=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],o;return r?r.call(i):(i=typeof sy=="function"?sy(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(l){o[l]=i[l]&&function(c){return new Promise(function(u,d){c=i[l](c),s(u,d,c.done,c.value)})}}function s(l,c,u,d){Promise.resolve(d).then(function(f){l({value:f,done:u})},c)}},qQ=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i};var e=Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r};$Q=function(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var o in i)o!=="default"&&Object.prototype.hasOwnProperty.call(i,o)&&ly(r,i,o);return e(r,i),r},YQ=function(i){return i&&i.__esModule?i:{default:i}},ZQ=function(i,r,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!a:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:r.get(i)},XQ=function(i,r,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!s:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(i,o):s?s.value=o:r.set(i,o),o},n("__extends",AQ),n("__assign",zQ),n("__rest",kQ),n("__decorate",NQ),n("__param",PQ),n("__metadata",OQ),n("__awaiter",RQ),n("__generator",FQ),n("__exportStar",BQ),n("__createBinding",ly),n("__values",sy),n("__read",yI),n("__spread",VQ),n("__spreadArrays",UQ),n("__spreadArray",HQ),n("__await",Pu),n("__asyncGenerator",jQ),n("__asyncDelegator",GQ),n("__asyncValues",WQ),n("__makeTemplateObject",qQ),n("__importStar",$Q),n("__importDefault",YQ),n("__classPrivateFieldGet",ZQ),n("__classPrivateFieldSet",XQ)})});var yx;function I7(){return yx}function B1(n){let t=yx;return yx=n,t}var EP=Symbol("NotFound");function z4(n){return n===EP||n?.name==="\u0275NotFound"}var Er=null,L7=!1,_x=1,Nle=null,hr=Symbol("SIGNAL");function ft(n){let t=Er;return Er=n,t}function N7(){return Er}var ic={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rc(n){if(L7)throw new Error("");if(Er===null)return;Er.consumerOnSignalRead(n);let t=Er.producersTail;if(t!==void 0&&t.producer===n)return;let e,i=Er.recomputing;if(i&&(e=t!==void 0?t.nextProducer:Er.producers,e!==void 0&&e.producer===n)){Er.producersTail=e,e.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===Er&&(!i||Ole(r,Er)))return;let o=P4(Er),a={producer:n,consumer:Er,nextProducer:e,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};Er.producersTail=a,t!==void 0?t.nextProducer=a:Er.producers=a,o&&AP(n,a)}function DP(){_x++}function P7(n){if(!(P4(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===_x)){if(!n.producerMustRecompute(n)&&!N4(n)){k7(n);return}n.producerRecomputeValue(n),k7(n)}}function bx(n){if(n.consumers===void 0)return;let t=L7;L7=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||Ple(i)}}finally{L7=t}}function xx(){return Er?.consumerAllowSignalWrites!==!1}function Ple(n){n.dirty=!0,bx(n),n.consumerMarkedDirty?.(n)}function k7(n){n.dirty=!1,n.lastCleanEpoch=_x}function oc(n){return n&&IP(n),ft(n)}function IP(n){n.producersTail=void 0,n.recomputing=!0}function k4(n,t){ft(t),n&&LP(n)}function LP(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(P4(n))do e=Cx(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function N4(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,i=t.lastReadVersion;if(i!==e.version||(P7(e),i!==e.version))return!0}return!1}function ac(n){if(P4(n)){let t=n.producers;for(;t!==void 0;)t=Cx(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function AP(n,t){let e=n.consumersTail,i=P4(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)AP(r.producer,r)}function Cx(n){let t=n.producer,e=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!P4(t)){let o=t.producers;for(;o!==void 0;)o=Cx(o)}return e}function P4(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function O7(n){Nle?.(n)}function Ole(n,t){let e=t.producersTail;if(e!==void 0){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function R7(n,t){return Object.is(n,t)}function F7(n,t){let e=Object.create(Rle);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(P7(e),rc(e),e.value===Vd)throw e.error;return e.value};return i[hr]=e,O7(e),i}var A7=Symbol("UNSET"),z7=Symbol("COMPUTING"),Vd=Symbol("ERRORED"),Rle=De(Q({},ic),{value:A7,dirty:!0,error:null,equal:R7,kind:"computed",producerMustRecompute(n){return n.value===A7||n.value===z7},producerRecomputeValue(n){if(n.value===z7)throw new Error("");let t=n.value;n.value=z7;let e=oc(n),i,r=!1;try{i=n.computation(),ft(null),r=t!==A7&&t!==Vd&&i!==Vd&&n.equal(t,i)}catch(o){i=Vd,n.error=o}finally{k4(n,e)}if(r){n.value=t;return}n.value=i,n.version++}});function Fle(){throw new Error}var zP=Fle;function kP(n){zP(n)}function Sx(n){zP=n}var Ble=null;function Mx(n,t){let e=Object.create(B7);e.value=n,t!==void 0&&(e.equal=t);let i=()=>NP(e);return i[hr]=e,O7(e),[i,a=>sc(e,a),a=>Tx(e,a)]}function NP(n){return rc(n),n.value}function sc(n,t){xx()||kP(n),n.equal(n.value,t)||(n.value=t,Vle(n))}function Tx(n,t){xx()||kP(n),sc(n,t(n.value))}var B7=De(Q({},ic),{equal:R7,value:void 0,kind:"signal"});function Vle(n){n.version++,DP(),bx(n),Ble?.(n)}function wt(n){return typeof n=="function"}function O4(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var V7=O4(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function lc(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Et=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(wt(i))try{i()}catch(o){t=o instanceof V7?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{PP(o)}catch(a){t=t??[],a instanceof V7?t=[...t,...a.errors]:t.push(a)}}if(t)throw new V7(t)}}add(t){var e;if(t&&t!==this)if(this.closed)PP(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&lc(e,t)}remove(t){let{_finalizers:e}=this;e&&lc(e,t),t instanceof n&&t._removeParent(this)}};Et.EMPTY=(()=>{let n=new Et;return n.closed=!0,n})();var Ex=Et.EMPTY;function U7(n){return n instanceof Et||n&&"closed"in n&&wt(n.remove)&&wt(n.add)&&wt(n.unsubscribe)}function PP(n){wt(n)?n():n.unsubscribe()}var l1={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var R4={setTimeout(n,t,...e){let{delegate:i}=R4;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=R4;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function H7(n){R4.setTimeout(()=>{let{onUnhandledError:t}=l1;if(t)t(n);else throw n})}function Ud(){}var OP=Dx("C",void 0,void 0);function RP(n){return Dx("E",void 0,n)}function FP(n){return Dx("N",n,void 0)}function Dx(n,t,e){return{kind:n,value:t,error:e}}var cc=null;function F4(n){if(l1.useDeprecatedSynchronousErrorHandling){let t=!cc;if(t&&(cc={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=cc;if(cc=null,e)throw i}}else n()}function BP(n){l1.useDeprecatedSynchronousErrorHandling&&cc&&(cc.errorThrown=!0,cc.error=n)}var uc=class extends Et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,U7(t)&&t.add(this)):this.destination=jle}static create(t,e,i){return new B4(t,e,i)}next(t){this.isStopped?Lx(FP(t),this):this._next(t)}error(t){this.isStopped?Lx(RP(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Lx(OP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ule=Function.prototype.bind;function Ix(n,t){return Ule.call(n,t)}var Ax=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){j7(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){j7(i)}else j7(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){j7(e)}}},B4=class extends uc{constructor(t,e,i){super();let r;if(wt(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&l1.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ix(t.next,o),error:t.error&&Ix(t.error,o),complete:t.complete&&Ix(t.complete,o)}):r=t}this.destination=new Ax(r)}};function j7(n){l1.useDeprecatedSynchronousErrorHandling?BP(n):H7(n)}function Hle(n){throw n}function Lx(n,t){let{onStoppedNotification:e}=l1;e&&R4.setTimeout(()=>e(n,t))}var jle={closed:!0,next:Ud,error:Hle,complete:Ud};var V4=typeof Symbol=="function"&&Symbol.observable||"@@observable";function io(n){return n}function zx(...n){return kx(n)}function kx(n){return n.length===0?io:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var dt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=Wle(e)?e:new B4(e,i,r);return F4(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=VP(i),new i((r,o)=>{let a=new B4({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[V4](){return this}pipe(...e){return kx(e)(this)}toPromise(e){return e=VP(e),new e((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=t=>new n(t),n})();function VP(n){var t;return(t=n??l1.Promise)!==null&&t!==void 0?t:Promise}function Gle(n){return n&&wt(n.next)&&wt(n.error)&&wt(n.complete)}function Wle(n){return n&&n instanceof uc||Gle(n)&&U7(n)}function Nx(n){return wt(n?.lift)}function Dt(n){return t=>{if(Nx(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(n,t,e,i,r){return new Px(n,t,e,i,r)}var Px=class extends uc{constructor(t,e,i,r,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){t.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function U4(){return Dt((n,t)=>{let e=null;n._refCount++;let i=ht(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var H4=class extends dt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Nx(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Et;let e=this.getSubject();t.add(this.source.subscribe(ht(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Et.EMPTY)}return t}refCount(){return U4()(this)}};var j4={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=j4;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);let r=t(o=>{e=void 0,n(o)});return new Et(()=>e?.(r))},requestAnimationFrame(...n){let{delegate:t}=j4;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:t}=j4;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var UP=O4(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class n extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new G7(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new UP}next(e){F4(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){F4(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){F4(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Ex:(this.currentObservers=null,o.push(e),new Et(()=>{this.currentObservers=null,lc(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new dt;return e.source=this,e}}return n.create=(t,e)=>new G7(t,e),n})(),G7=class extends me{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:Ex}};var Hn=class extends me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Hd={now(){return(Hd.delegate||Date).now()},delegate:void 0};var G4=class extends me{constructor(t=1/0,e=1/0,i=Hd){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let a=e.now(),s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}};var W7=class extends Et{constructor(t,e){super()}schedule(t,e=0){return this}};var jd={setInterval(n,t,...e){let{delegate:i}=jd;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=jd;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var W4=class extends W7{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return jd.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&jd.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,lc(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var q4=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};q4.now=Hd.now;var $4=class extends q4{constructor(t,e=q4.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var ba=new $4(W4),Ox=ba;var q7=class extends W4{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return i!==null&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=j4.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);let{actions:o}=t;e!=null&&e===t._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(j4.cancelAnimationFrame(e),t._scheduled=void 0)}};var $7=class extends $4{flush(t){this._active=!0;let e;t?e=t.id:(e=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;t=t||i.shift();do if(r=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}};var Y7=new $7(q7);var Bi=new dt(n=>n.complete());function Z7(n){return n&&wt(n.schedule)}function Rx(n){return n[n.length-1]}function X7(n){return wt(Rx(n))?n.pop():void 0}function V1(n){return Z7(Rx(n))?n.pop():void 0}function HP(n,t){return typeof Rx(n)=="number"?n.pop():t}function GP(n,t,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):r(u.value).then(s,l)}c((i=i.apply(n,t||[])).next())})}function jP(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dc(n){return this instanceof dc?(this.v=n,this):new dc(n)}function WP(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(m){return function(v){return Promise.resolve(v).then(m,d)}}function s(m,v){i[m]&&(r[m]=function(_){return new Promise(function(b,C){o.push([m,_,b,C])>1||l(m,_)})},v&&(r[m]=v(r[m])))}function l(m,v){try{c(i[m](v))}catch(_){f(o[0][3],_)}}function c(m){m.value instanceof dc?Promise.resolve(m.value.v).then(u,d):f(o[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function f(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function qP(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof jP=="function"?jP(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(a){return new Promise(function(s,l){a=n[o](a),r(s,l,a.done,a.value)})}}function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var Q7=n=>n&&typeof n.length=="number"&&typeof n!="function";function K7(n){return wt(n?.then)}function J7(n){return wt(n[V4])}function em(n){return Symbol.asyncIterator&&wt(n?.[Symbol.asyncIterator])}function tm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qle(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nm=qle();function im(n){return wt(n?.[nm])}function rm(n){return WP(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield dc(e.read());if(r)return yield dc(void 0);yield yield dc(i)}}finally{e.releaseLock()}})}function om(n){return wt(n?.getReader)}function Pn(n){if(n instanceof dt)return n;if(n!=null){if(J7(n))return $le(n);if(Q7(n))return Yle(n);if(K7(n))return Zle(n);if(em(n))return $P(n);if(im(n))return Xle(n);if(om(n))return Qle(n)}throw tm(n)}function $le(n){return new dt(t=>{let e=n[V4]();if(wt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Yle(n){return new dt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function Zle(n){return new dt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,H7)})}function Xle(n){return new dt(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function $P(n){return new dt(t=>{Kle(n,t).catch(e=>t.error(e))})}function Qle(n){return $P(rm(n))}function Kle(n,t){var e,i,r,o;return GP(this,void 0,void 0,function*(){try{for(e=qP(n);i=yield e.next(),!i.done;){let a=i.value;if(t.next(a),t.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function So(n,t,e,i=0,r=!1){let o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function am(n,t=0){return Dt((e,i)=>{e.subscribe(ht(i,r=>So(i,n,()=>i.next(r),t),()=>So(i,n,()=>i.complete(),t),r=>So(i,n,()=>i.error(r),t)))})}function sm(n,t=0){return Dt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function YP(n,t){return Pn(n).pipe(sm(t),am(t))}function ZP(n,t){return Pn(n).pipe(sm(t),am(t))}function XP(n,t){return new dt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function QP(n,t){return new dt(e=>{let i;return So(e,t,()=>{i=n[nm](),So(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){e.error(a);return}o?e.complete():e.next(r)},0,!0)}),()=>wt(i?.return)&&i.return()})}function lm(n,t){if(!n)throw new Error("Iterable cannot be null");return new dt(e=>{So(e,t,()=>{let i=n[Symbol.asyncIterator]();So(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function KP(n,t){return lm(rm(n),t)}function JP(n,t){if(n!=null){if(J7(n))return YP(n,t);if(Q7(n))return XP(n,t);if(K7(n))return ZP(n,t);if(em(n))return lm(n,t);if(im(n))return QP(n,t);if(om(n))return KP(n,t)}throw tm(n)}function tn(n,t){return t?JP(n,t):Pn(n)}function Me(...n){let t=V1(n);return tn(n,t)}function U1(n,t){let e=wt(n)?n:()=>n,i=r=>r.error(e());return new dt(t?r=>t.schedule(i,0,r):i)}function cm(n){return!!n&&(n instanceof dt||wt(n.lift)&&wt(n.subscribe))}var qs=O4(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function eO(n){return n instanceof Date&&!isNaN(n)}function Ke(n,t){return Dt((e,i)=>{let r=0;e.subscribe(ht(i,o=>{i.next(n.call(t,o,r++))}))})}var{isArray:Jle}=Array;function e0e(n,t){return Jle(t)?n(...t):n(t)}function um(n){return Ke(t=>e0e(n,t))}var{isArray:t0e}=Array,{getPrototypeOf:n0e,prototype:i0e,keys:r0e}=Object;function dm(n){if(n.length===1){let t=n[0];if(t0e(t))return{args:t,keys:null};if(o0e(t)){let e=r0e(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function o0e(n){return n&&typeof n=="object"&&n0e(n)===i0e}function fm(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function fc(...n){let t=V1(n),e=X7(n),{args:i,keys:r}=dm(n);if(i.length===0)return tn([],t);let o=new dt(a0e(i,t,r?a=>fm(r,a):io));return e?o.pipe(um(e)):o}function a0e(n,t,e=io){return i=>{tO(t,()=>{let{length:r}=n,o=new Array(r),a=r,s=r;for(let l=0;l<r;l++)tO(t,()=>{let c=tn(n[l],t),u=!1;c.subscribe(ht(i,d=>{o[l]=d,u||(u=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function tO(n,t,e){n?So(e,n,t):t()}function nO(n,t,e,i,r,o,a,s){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},m=_=>c<i?v(_):l.push(_),v=_=>{o&&t.next(_),c++;let b=!1;Pn(e(_,u++)).subscribe(ht(t,C=>{r?.(C),o?m(C):t.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){let C=l.shift();a?So(t,a,()=>v(C)):v(C)}f()}catch(C){t.error(C)}}))};return n.subscribe(ht(t,m,()=>{d=!0,f()})),()=>{s?.()}}function Jn(n,t,e=1/0){return wt(t)?Jn((i,r)=>Ke((o,a)=>t(i,o,r,a))(Pn(n(i,r))),e):(typeof t=="number"&&(e=t),Dt((i,r)=>nO(i,r,n,e)))}function H1(n=1/0){return Jn(io,n)}function iO(){return H1(1)}function pl(...n){return iO()(tn(n,V1(n)))}function $s(n){return new dt(t=>{Pn(n()).subscribe(t)})}function Gd(...n){let t=X7(n),{args:e,keys:i}=dm(n),r=new dt(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),l=a,c=a;for(let u=0;u<a;u++){let d=!1;Pn(e[u]).subscribe(ht(o,f=>{d||(d=!0,c--),s[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?fm(i,s):s),o.complete())}))}});return t?r.pipe(um(t)):r}function Ys(n=0,t,e=Ox){let i=-1;return t!=null&&(Z7(t)?e=t:i=t),new dt(r=>{let o=eO(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Wd(n=0,t=ba){return n<0&&(n=0),Ys(n,n,t)}function j1(...n){let t=V1(n),e=HP(n,1/0),i=n;return i.length?i.length===1?Pn(i[0]):H1(e)(tn(i,t)):Bi}function tt(n,t){return Dt((e,i)=>{let r=0;e.subscribe(ht(i,o=>n.call(t,o,r++)&&i.next(o)))})}function rO(n){return Dt((t,e)=>{let i=!1,r=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let c=r;r=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};t.subscribe(ht(e,c=>{i=!0,r=c,o||Pn(n(c)).subscribe(o=ht(e,s,l))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}function pm(n,t=ba){return rO(()=>Ys(n,t))}function Ut(n){return Dt((t,e)=>{let i=null,r=!1,o;i=t.subscribe(ht(e,void 0,void 0,a=>{o=Pn(n(a,Ut(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function oO(n,t,e,i,r){return(o,a)=>{let s=e,l=t,c=0;o.subscribe(ht(a,u=>{let d=c++;l=s?n(l,u,d):(s=!0,u),i&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}function ro(n,t){return wt(t)?Jn(n,t,1):Jn(n,1)}function ea(n,t=ba){return Dt((e,i)=>{let r=null,o=null,a=null,s=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=a+n,u=t.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}s()}e.subscribe(ht(i,c=>{o=c,a=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function ml(n){return Dt((t,e)=>{let i=!1;t.subscribe(ht(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Nt(n){return n<=0?()=>Bi:Dt((t,e)=>{let i=0;t.subscribe(ht(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function c1(n,t=io){return n=n??s0e,Dt((e,i)=>{let r,o=!0;e.subscribe(ht(i,a=>{let s=t(a);(o||!n(r,s))&&(o=!1,r=s,i.next(a))}))})}function s0e(n,t){return n===t}function mm(n=l0e){return Dt((t,e)=>{let i=!1;t.subscribe(ht(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function l0e(){return new qs}function hl(n){return Dt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Zs(n,t){let e=arguments.length>=2;return i=>i.pipe(n?tt((r,o)=>n(r,o,i)):io,Nt(1),e?ml(t):mm(()=>new qs))}function Y4(n){return n<=0?()=>Bi:Dt((t,e)=>{let i=[];t.subscribe(ht(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Fx(n,t){let e=arguments.length>=2;return i=>i.pipe(n?tt((r,o)=>n(r,o,i)):io,Y4(1),e?ml(t):mm(()=>new qs))}function Bx(n,t){return Dt(oO(n,t,arguments.length>=2,!0))}function qd(n){return tt((t,e)=>n<=e)}function Dr(...n){let t=V1(n);return Dt((e,i)=>{(t?pl(n,e,t):pl(n,e)).subscribe(i)})}function jn(n,t){return Dt((e,i)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&i.complete();e.subscribe(ht(i,l=>{r?.unsubscribe();let c=0,u=o++;Pn(n(l,u)).subscribe(r=ht(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function nn(n){return Dt((t,e)=>{Pn(n).subscribe(ht(e,()=>e.complete(),Ud)),!e.closed&&t.subscribe(e)})}function Gn(n,t,e){let i=wt(n)||t||e?{next:n,error:t,complete:e}:n;return i?Dt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let s=!0;r.subscribe(ht(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;s=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;s=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;s&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):io}function aO(n,t){return Dt((e,i)=>{let{leading:r=!0,trailing:o=!1}=t??{},a=!1,s=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,o&&(m(),c&&i.complete())},d=()=>{l=null,c&&i.complete()},f=v=>l=Pn(n(v)).subscribe(ht(i,u,d)),m=()=>{if(a){a=!1;let v=s;s=null,i.next(v),!c&&f(v)}};e.subscribe(ht(i,v=>{a=!0,s=v,!(l&&!l.closed)&&(r?m():f(v))},()=>{c=!0,!(o&&a&&l&&!l.closed)&&i.complete()}))})}function Vx(n,t=ba,e){let i=Ys(n,t);return aO(()=>i,e)}function sO(n){let t=ft(null);try{return n()}finally{ft(t)}}var lO=De(Q({},ic),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function cO(n){if(n.dirty=!1,n.version>0&&!N4(n))return;n.version++;let t=oc(n);try{n.cleanup(),n.fn()}finally{k4(n,t)}}var ym="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",se=class extends Error{code;constructor(t,e){super(xa(t,e)),this.code=t}};function c0e(n){return`NG0${Math.abs(n)}`}function xa(n,t){return`${c0e(n)}${t?": "+t:""}`}var Vi=globalThis;function dn(n){for(let t in n)if(n[t]===dn)return t;throw Error("")}function fO(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Qs(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Qs).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function _m(n,t){return n?t?`${n} ${t}`:n:t||""}var u0e=dn({__forward_ref__:dn});function Li(n){return n.__forward_ref__=Li,n.toString=function(){return Qs(this())},n}function gr(n){return Qx(n)?n():n}function Qx(n){return typeof n=="function"&&n.hasOwnProperty(u0e)&&n.__forward_ref__===Li}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Qd(n){return d0e(n,bm)}function Kx(n){return Qd(n)!==null}function d0e(n,t){return n.hasOwnProperty(t)&&n[t]||null}function f0e(n){let t=n?.[bm]??null;return t||null}function Hx(n){return n&&n.hasOwnProperty(gm)?n[gm]:null}var bm=dn({\u0275prov:dn}),gm=dn({\u0275inj:dn}),ue=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=K({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jx(n){return n&&!!n.\u0275providers}var eC=dn({\u0275cmp:dn}),tC=dn({\u0275dir:dn}),nC=dn({\u0275pipe:dn}),iC=dn({\u0275mod:dn}),Yd=dn({\u0275fac:dn}),vc=dn({__NG_ELEMENT_ID__:dn}),uO=dn({__NG_ENV_ID__:dn});function Ks(n){return typeof n=="string"?n:n==null?"":String(n)}function pO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ks(n)}var mO=dn({ngErrorCode:dn}),p0e=dn({ngErrorMessage:dn}),m0e=dn({ngTokenPath:dn});function rC(n,t){return hO("",-200,t)}function xm(n,t){throw new se(-201,!1)}function hO(n,t,e){let i=new se(t,n);return i[mO]=t,i[p0e]=n,e&&(i[m0e]=e),i}function h0e(n){return n[mO]}var jx;function gO(){return jx}function oo(n){let t=jx;return jx=n,t}function oC(n,t,e){let i=Qd(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;xm(n,"Injector")}var g0e={},pc=g0e,v0e="__NG_DI_FLAG__",Gx=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=mc(e)||0;try{return this.injector.get(t,i&8?null:pc,i)}catch(r){if(z4(r))return r;throw r}}};function y0e(n,t=0){let e=I7();if(e===void 0)throw new se(-203,!1);if(e===null)return oC(n,void 0,t);{let i=_0e(t),r=e.retrieve(n,i);if(z4(r)){if(i.optional)return null;throw r}return r}}function ae(n,t=0){return(gO()||y0e)(gr(n),t)}function B(n,t){return ae(n,mc(t))}function mc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _0e(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Wx(n){let t=[];for(let e=0;e<n.length;e++){let i=gr(n[e]);if(Array.isArray(i)){if(i.length===0)throw new se(900,!1);let r,o=0;for(let a=0;a<i.length;a++){let s=i[a],l=b0e(s);typeof l=="number"?l===-1?r=s.token:o|=l:r=s}t.push(ae(r,o))}else t.push(ae(i))}return t}function b0e(n){return n[v0e]}function gl(n,t){let e=n.hasOwnProperty(Yd);return e?n[Yd]:null}function vO(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function yO(n){return n.flat(Number.POSITIVE_INFINITY)}function Cm(n,t){n.forEach(e=>Array.isArray(e)?Cm(e,t):t(e))}function aC(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Kd(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function _O(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function bO(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function Sm(n,t,e){let i=X4(n,t);return i>=0?n[i|1]=e:(i=~i,bO(n,i,t,e)),i}function wm(n,t){let e=X4(n,t);if(e>=0)return n[e|1]}function X4(n,t){return x0e(n,t,1)}function x0e(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),a=n[o<<e];if(t===a)return o<<e;a>t?r=o:i=o+1}return~(r<<e)}var yl={},ao=[],Js=new ue(""),sC=new ue("",-1),lC=new ue(""),Zd=class{get(t,e=pc){if(e===pc){let r=hO("",-201);throw r.name="\u0275NotFound",r}return e}};function cC(n){return n[iC]||null}function G1(n){return n[eC]||null}function uC(n){return n[tC]||null}function xO(n){return n[nC]||null}function W1(n){return{\u0275providers:n}}function Mm(...n){return{\u0275providers:dC(!0,n),\u0275fromNgModule:!0}}function dC(n,...t){let e=[],i=new Set,r,o=a=>{e.push(a)};return Cm(t,a=>{let s=a;vm(s,o,[],i)&&(r||=[],r.push(s))}),r!==void 0&&CO(r,o),e}function CO(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];fC(r,o=>{t(o,i)})}}function vm(n,t,e,i){if(n=gr(n),!n)return!1;let r=null,o=Hx(n),a=!o&&G1(n);if(!o&&!a){let l=n.ngModule;if(o=Hx(l),o)r=l;else return!1}else{if(a&&!a.standalone)return!1;r=n}let s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)vm(c,t,e,i)}}else if(o){if(o.imports!=null&&!s){i.add(r);let c;try{Cm(o.imports,u=>{vm(u,t,e,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&CO(c,t)}if(!s){let c=gl(r)||(()=>new r);t({provide:r,useFactory:c,deps:ao},r),t({provide:lC,useValue:r,multi:!0},r),t({provide:Js,useValue:()=>ae(r),multi:!0},r)}let l=o.providers;if(l!=null&&!s){let c=n;fC(l,u=>{t(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function fC(n,t){for(let e of n)Jx(e)&&(e=e.\u0275providers),Array.isArray(e)?fC(e,t):t(e)}var C0e=dn({provide:String,useValue:dn});function SO(n){return n!==null&&typeof n=="object"&&C0e in n}function S0e(n){return!!(n&&n.useExisting)}function w0e(n){return!!(n&&n.useFactory)}function hc(n){return typeof n=="function"}function wO(n){return!!n.useClass}var Jd=new ue(""),hm={},dO={},Ux;function Q4(){return Ux===void 0&&(Ux=new Zd),Ux}var An=class{},gc=class extends An{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,$x(t,a=>this.processProvider(a)),this.records.set(sC,Z4(void 0,this)),r.has("environment")&&this.records.set(An,Z4(void 0,this));let o=this.records.get(Jd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lC,ao,{self:!0}))}retrieve(t,e){let i=mc(e)||0;try{return this.get(t,pc,i)}catch(r){if(z4(r))return r;throw r}}destroy(){$d(this),this._destroyed=!0;let t=ft(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ft(t)}}onDestroy(t){return $d(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){$d(this);let e=B1(this),i=oo(void 0),r;try{return t()}finally{B1(e),oo(i)}}get(t,e=pc,i){if($d(this),t.hasOwnProperty(uO))return t[uO](this);let r=mc(i),o,a=B1(this),s=oo(void 0);try{if(!(r&4)){let c=this.records.get(t);if(c===void 0){let u=I0e(t)&&Qd(t);u&&this.injectableDefInScope(u)?c=Z4(qx(t),hm):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let l=r&2?Q4():this.parent;return e=r&8&&e===pc?null:e,l.get(t,e)}catch(l){let c=h0e(l);throw c===-200||c===-201?new se(c,null):l}finally{oo(s),B1(a)}}resolveInjectorInitializers(){let t=ft(null),e=B1(this),i=oo(void 0),r;try{let o=this.get(Js,ao,{self:!0});for(let a of o)a()}finally{B1(e),oo(i),ft(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Qs(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=gr(t);let e=hc(t)?t:gr(t&&t.provide),i=T0e(t);if(!hc(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Z4(void 0,hm,!0),r.factory=()=>Wx(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let r=ft(null);try{if(e.value===dO)throw rC(Qs(t));return e.value===hm&&(e.value=dO,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&D0e(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ft(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=gr(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function qx(n){let t=Qd(n),e=t!==null?t.factory:gl(n);if(e!==null)return e;if(n instanceof ue)throw new se(204,!1);if(n instanceof Function)return M0e(n);throw new se(204,!1)}function M0e(n){if(n.length>0)throw new se(204,!1);let e=f0e(n);return e!==null?()=>e.factory(n):()=>new n}function T0e(n){if(SO(n))return Z4(void 0,n.useValue);{let t=pC(n);return Z4(t,hm)}}function pC(n,t,e){let i;if(hc(n)){let r=gr(n);return gl(r)||qx(r)}else if(SO(n))i=()=>gr(n.useValue);else if(w0e(n))i=()=>n.useFactory(...Wx(n.deps||[]));else if(S0e(n))i=(r,o)=>ae(gr(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=gr(n&&(n.useClass||n.provide));if(E0e(n))i=()=>new r(...Wx(n.deps));else return gl(r)||qx(r)}return i}function $d(n){if(n.destroyed)throw new se(205,!1)}function Z4(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function E0e(n){return!!n.deps}function D0e(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function I0e(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function $x(n,t){for(let e of n)Array.isArray(e)?$x(e,t):e&&Jx(e)?$x(e.\u0275providers,t):t(e)}function er(n,t){let e;n instanceof gc?($d(n),e=n):e=new Gx(n);let i,r=B1(e),o=oo(void 0);try{return t()}finally{B1(r),oo(o)}}function mC(){return gO()!==void 0||I7()!=null}var Ca=0,rt=1,pt=2,Ji=3,Sa=4,so=5,K4=6,J4=7,vr=8,_l=9,q1=10,wn=11,e6=12,hC=13,yc=14,wo=15,bl=16,_c=17,$1=18,ef=19,gC=20,Xs=21,Tm=22,e2=23,na=24,bc=25,tf=26,Wn=27,vC=1;var xl=7,nf=8,xc=9,Ir=10;function Y1(n){return Array.isArray(n)&&typeof n[vC]=="object"}function d1(n){return Array.isArray(n)&&n[vC]===!0}function yC(n){return(n.flags&4)!==0}function Cl(n){return n.componentOffset>-1}function t6(n){return(n.flags&1)===1}function f1(n){return!!n.template}function n6(n){return(n[pt]&512)!==0}function Cc(n){return(n[pt]&256)===256}var _C="svg",MO="math";function wa(n){for(;Array.isArray(n);)n=n[Ca];return n}function bC(n){for(;Array.isArray(n);){if(typeof n[vC]=="object")return n;n=n[Ca]}return null}function xC(n,t){return wa(t[n])}function p1(n,t){return wa(t[n.index])}function rf(n,t){return n.data[t]}function of(n,t){return n[t]}function CC(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function Ma(n,t){let e=t[n];return Y1(e)?e:e[Ca]}function TO(n){return(n[pt]&4)===4}function Em(n){return(n[pt]&128)===128}function EO(n){return d1(n[Ji])}function m1(n,t){return t==null?null:n[t]}function SC(n){n[_c]=0}function wC(n){n[pt]&1024||(n[pt]|=1024,Em(n)&&Sl(n))}function DO(n,t){for(;n>0;)t=t[yc],n--;return t}function af(n){return!!(n[pt]&9216||n[na]?.dirty)}function Dm(n){n[q1].changeDetectionScheduler?.notify(8),n[pt]&64&&(n[pt]|=1024),af(n)&&Sl(n)}function Sl(n){n[q1].changeDetectionScheduler?.notify(0);let t=vl(n);for(;t!==null&&!(t[pt]&8192||(t[pt]|=8192,!Em(t)));)t=vl(t)}function MC(n,t){if(Cc(n))throw new se(911,!1);n[Xs]===null&&(n[Xs]=[]),n[Xs].push(t)}function IO(n,t){if(n[Xs]===null)return;let e=n[Xs].indexOf(t);e!==-1&&n[Xs].splice(e,1)}function vl(n){let t=n[Ji];return d1(t)?t[Ji]:t}function TC(n){return n[J4]??=[]}function EC(n){return n.cleanup??=[]}function LO(n,t,e,i){let r=TC(t);r.push(e),n.firstCreatePass&&EC(n).push(i,r.length-1)}var It={lFrame:UO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Yx=!1;function AO(){return It.lFrame.elementDepthCount}function zO(){It.lFrame.elementDepthCount++}function DC(){It.lFrame.elementDepthCount--}function Im(){return It.bindingsEnabled}function IC(){return It.skipHydrationRootTNode!==null}function LC(n){return It.skipHydrationRootTNode===n}function AC(){It.skipHydrationRootTNode=null}function Ze(){return It.lFrame.lView}function On(){return It.lFrame.tView}function k(n){return It.lFrame.contextLView=n,n[vr]}function N(n){return It.lFrame.contextLView=null,n}function Ai(){let n=zC();for(;n!==null&&n.type===64;)n=n.parent;return n}function zC(){return It.lFrame.currentTNode}function kO(){let n=It.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function i6(n,t){let e=It.lFrame;e.currentTNode=n,e.isParent=t}function kC(){return It.lFrame.isParent}function NC(){It.lFrame.isParent=!1}function NO(){return It.lFrame.contextLView}function PC(){return Yx}function r6(n){let t=Yx;return Yx=n,t}function Z1(){let n=It.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function PO(){return It.lFrame.bindingIndex}function OO(n){return It.lFrame.bindingIndex=n}function t2(){return It.lFrame.bindingIndex++}function Lm(n){let t=It.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function RO(){return It.lFrame.inI18n}function FO(n,t){let e=It.lFrame;e.bindingIndex=e.bindingRootIndex=n,Am(t)}function BO(){return It.lFrame.currentDirectiveIndex}function Am(n){It.lFrame.currentDirectiveIndex=n}function OC(n){let t=It.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function RC(){return It.lFrame.currentQueryIndex}function zm(n){It.lFrame.currentQueryIndex=n}function L0e(n){let t=n[rt];return t.type===2?t.declTNode:t.type===1?n[so]:null}function FC(n,t,e){if(e&4){let r=t,o=n;for(;r=r.parent,r===null&&!(e&1);)if(r=L0e(o),r===null||(o=o[yc],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=It.lFrame=VO();return i.currentTNode=t,i.lView=n,!0}function km(n){let t=VO(),e=n[rt];It.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function VO(){let n=It.lFrame,t=n===null?null:n.child;return t===null?UO(n):t}function UO(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function HO(){let n=It.lFrame;return It.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var BC=HO;function Nm(){let n=HO();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jO(n){return(It.lFrame.contextLView=DO(n,It.lFrame.contextLView))[vr]}function n2(){return It.lFrame.selectedIndex}function wl(n){It.lFrame.selectedIndex=n}function o6(){let n=It.lFrame;return rf(n.tView,n.selectedIndex)}function Ht(){It.lFrame.currentNamespace=_C}function zn(){A0e()}function A0e(){It.lFrame.currentNamespace=null}function GO(){return It.lFrame.currentNamespace}var WO=!0;function Pm(){return WO}function sf(n){WO=n}function Zx(n,t=null,e=null,i){let r=VC(n,t,e,i);return r.resolveInjectorInitializers(),r}function VC(n,t=null,e=null,i,r=new Set){let o=[e||ao,Mm(n)];return i=i||(typeof n=="object"?void 0:Qs(n)),new gc(o,t||Q4(),i||null,r)}var Ve=class n{static THROW_IF_NOT_FOUND=pc;static NULL=new Zd;static create(t,e){if(Array.isArray(t))return Zx({name:""},e,t,"");{let i=t.name??"";return Zx({name:i},t.parent,t.providers,i)}}static \u0275prov=K({token:n,providedIn:"any",factory:()=>ae(sC)});static __NG_ELEMENT_ID__=-1},Te=new ue(""),yr=(()=>{class n{static __NG_ELEMENT_ID__=z0e;static __NG_ENV_ID__=e=>e}return n})(),Xd=class extends yr{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Cc(this._lView)}onDestroy(t){let e=this._lView;return MC(e,t),()=>IO(e,t)}};function z0e(){return new Xd(Ze())}var ta=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Mo=new ue("",{providedIn:"root",factory:()=>{let n=B(An),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(ta),t.handleError(e))}}}),qO={provide:Js,useValue:()=>void B(ta),multi:!0};function a6(n){return typeof n=="function"&&n[hr]!==void 0}function fn(n,t){let[e,i,r]=Mx(n,t?.equal),o=e,a=o[hr];return o.set=i,o.update=r,o.asReadonly=Om.bind(o),o}function Om(){let n=this[hr];if(n.readonlyFn===void 0){let t=()=>this();t[hr]=n,n.readonlyFn=t}return n.readonlyFn}function UC(n){return a6(n)&&typeof n.set=="function"}var s6=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=k0e}return n})();function k0e(){return new s6(Ze(),Ai())}var u1=class{},lf=new ue("",{providedIn:"root",factory:()=>!1});var HC=new ue(""),jC=new ue(""),X1=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Hn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new dt(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),l6=(()=>{class n{internalPendingTasks=B(X1);scheduler=B(u1);errorHandler=B(Mo);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})();function Sc(...n){}var cf=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new Xx})}return n})(),Xx=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}};function yf(n){return{toString:n}.toString()}function F0e(n){return typeof n=="function"}var $m=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function ER(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var rn=(()=>{let n=()=>DR;return n.ngInherit=!0,n})();function DR(n){return n.type.prototype.ngOnChanges&&(n.setInput=V0e),B0e}function B0e(){let n=LR(this),t=n?.current;if(t){let e=n.previous;if(e===yl)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function V0e(n,t,e,i,r){let o=this.declaredInputs[i],a=LR(n)||U0e(n,{previous:yl,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new $m(c&&c.currentValue,e,l===yl),ER(n,t,r,e)}var IR="__ngSimpleChanges__";function LR(n){return n[IR]||null}function U0e(n,t){return n[IR]=t}var $O=[];var xn=function(n,t=null,e){for(let i=0;i<$O.length;i++){let r=$O[i];r(n,t,e)}};function H0e(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let a=DR(t);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function AR(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(n.contentHooks??=[]).push(-e,a),s&&((n.contentHooks??=[]).push(e,s),(n.contentCheckHooks??=[]).push(e,s)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function Hm(n,t,e){zR(n,t,3,e)}function jm(n,t,e,i){(n[pt]&3)===e&&zR(n,t,e,i)}function GC(n,t){let e=n[pt];(e&3)===t&&(e&=16383,e+=1,n[pt]=e)}function zR(n,t,e,i){let r=i!==void 0?n[_c]&65535:0,o=i??-1,a=t.length-1,s=0;for(let l=r;l<a;l++)if(typeof t[l+1]=="number"){if(s=t[l],i!=null&&s>=i)break}else t[l]<0&&(n[_c]+=65536),(s<o||o==-1)&&(j0e(n,e,t,l),n[_c]=(n[_c]&4294901760)+l+2),l++}function YO(n,t){xn(4,n,t);let e=ft(null);try{t.call(n)}finally{ft(e),xn(5,n,t)}}function j0e(n,t,e,i){let r=e[i]<0,o=e[i+1],a=r?-e[i]:e[i],s=n[a];r?n[pt]>>14<n[_c]>>16&&(n[pt]&3)===t&&(n[pt]+=16384,YO(s,o)):YO(s,o)}var u6=-1,Mc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}};function G0e(n){return(n.flags&8)!==0}function W0e(n){return(n.flags&16)!==0}function q0e(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],a=e[i++],s=e[i++];n.setAttribute(t,a,s,o)}else{let o=r,a=e[++i];$0e(o)?n.setProperty(t,o,a):n.setAttribute(t,o,a),i++}}return i}function kR(n){return n===3||n===4||n===6}function $0e(n){return n.charCodeAt(0)===64}function d6(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?ZO(n,e,r,null,t[++i]):ZO(n,e,r,null,null))}}return n}function ZO(n,t,e,i,r){let o=0,a=n.length;if(t===-1)a=-1;else for(;o<n.length;){let s=n[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<n.length;){let s=n[o];if(typeof s=="number")break;if(s===e){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r)}function NR(n){return n!==u6}function Ym(n){return n&32767}function Y0e(n){return n>>16}function Zm(n,t){let e=Y0e(n),i=t;for(;e>0;)i=i[yc],e--;return i}var JC=!0;function Xm(n){let t=JC;return JC=n,t}var Z0e=256,PR=Z0e-1,OR=5,X0e=0,Q1={};function Q0e(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(vc)&&(i=e[vc]),i==null&&(i=e[vc]=X0e++);let r=i&PR,o=1<<r;t.data[n+(r>>OR)]|=o}function Qm(n,t){let e=RR(n,t);if(e!==-1)return e;let i=t[rt];i.firstCreatePass&&(n.injectorIndex=t.length,WC(i.data,n),WC(t,null),WC(i.blueprint,null));let r=zS(n,t),o=n.injectorIndex;if(NR(r)){let a=Ym(r),s=Zm(r,t),l=s[rt].data;for(let c=0;c<8;c++)t[o+c]=s[a+c]|l[a+c]}return t[o+8]=r,o}function WC(n,t){n.push(0,0,0,0,0,0,0,0,t)}function RR(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function zS(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=HR(r),i===null)return u6;if(e++,r=r[yc],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return u6}function eS(n,t,e){Q0e(n,t,e)}function K0e(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(kR(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function FR(n,t,e){if(e&8||n!==void 0)return n;xm(t,"NodeInjector")}function BR(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=n[_l],o=oo(void 0);try{return r?r.get(t,i,e&8):oC(t,i,e&8)}finally{oo(o)}}return FR(i,t,e)}function VR(n,t,e,i=0,r){if(n!==null){if(t[pt]&2048&&!(i&2)){let a=nce(n,t,e,i,Q1);if(a!==Q1)return a}let o=UR(n,t,e,i,Q1);if(o!==Q1)return o}return BR(t,e,i,r)}function UR(n,t,e,i,r){let o=ece(e);if(typeof o=="function"){if(!FC(t,n,i))return i&1?FR(r,e,i):BR(t,e,i,r);try{let a;if(a=o(i),a==null&&!(i&8))xm(e);else return a}finally{BC()}}else if(typeof o=="number"){let a=null,s=RR(n,t),l=u6,c=i&1?t[wo][so]:null;for((s===-1||i&4)&&(l=s===-1?zS(n,t):t[s+8],l===u6||!QO(i,!1)?s=-1:(a=t[rt],s=Ym(l),t=Zm(l,t)));s!==-1;){let u=t[rt];if(XO(o,s,u.data)){let d=J0e(s,t,e,a,i,c);if(d!==Q1)return d}l=t[s+8],l!==u6&&QO(i,t[rt].data[s+8]===c)&&XO(o,s,t)?(a=u,s=Ym(l),t=Zm(l,t)):s=-1}}return r}function J0e(n,t,e,i,r,o){let a=t[rt],s=a.data[n+8],l=i==null?Cl(s)&&JC:i!=a&&(s.type&3)!==0,c=r&1&&o===s,u=Gm(s,a,e,l,c);return u!==null?pf(t,a,u,s,r):Q1}function Gm(n,t,e,i,r){let o=n.providerIndexes,a=t.data,s=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=i?s:s+u,f=r?s+u:c;for(let m=d;m<f;m++){let v=a[m];if(m<l&&e===v||m>=l&&v.type===e)return m}if(r){let m=a[l];if(m&&f1(m)&&m.type===e)return l}return null}function pf(n,t,e,i,r){let o=n[e],a=t.data;if(o instanceof Mc){let s=o;if(s.resolving){let m=pO(a[e]);throw rC(m)}let l=Xm(s.canSeeViewProviders);s.resolving=!0;let c=a[e].type||a[e],u,d=s.injectImpl?oo(s.injectImpl):null,f=FC(n,i,0);try{o=n[e]=s.factory(void 0,r,a,n,i),t.firstCreatePass&&e>=i.directiveStart&&H0e(e,a[e],t)}finally{d!==null&&oo(d),Xm(l),s.resolving=!1,BC()}}return o}function ece(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(vc)?n[vc]:void 0;return typeof t=="number"?t>=0?t&PR:tce:t}function XO(n,t,e){let i=1<<n;return!!(e[t+(n>>OR)]&i)}function QO(n,t){return!(n&2)&&!(n&1&&t)}var wc=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return VR(this._tNode,this._lView,t,mc(i),e)}};function tce(){return new wc(Ai(),Ze())}function yi(n){return yf(()=>{let t=n.prototype.constructor,e=t[Yd]||tS(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Yd]||tS(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function tS(n){return Qx(n)?()=>{let t=tS(gr(n));return t&&t()}:gl(n)}function nce(n,t,e,i,r){let o=n,a=t;for(;o!==null&&a!==null&&a[pt]&2048&&!n6(a);){let s=UR(o,a,e,i|2,Q1);if(s!==Q1)return s;let l=o.parent;if(!l){let c=a[gC];if(c){let u=c.get(e,Q1,i);if(u!==Q1)return u}l=HR(a),a=a[yc]}o=l}return r}function HR(n){let t=n[rt],e=t.type;return e===2?t.declTNode:e===1?n[so]:null}function _f(n){return K0e(Ai(),n)}function ice(){return h6(Ai(),Ze())}function h6(n,t){return new st(p1(n,t))}var st=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=ice}return n})();function rce(n){return n instanceof st?n.nativeElement:n}function oce(){return this._results[Symbol.iterator]()}var i2=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new me}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=yO(t);(this._changesDetected=!vO(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=oce};function jR(n){return(n.flags&128)===128}var kS=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(kS||{}),GR=new Map,ace=0;function sce(){return ace++}function lce(n){GR.set(n[ef],n)}function nS(n){GR.delete(n[ef])}var KO="__ngContext__";function f6(n,t){Y1(t)?(n[KO]=t[ef],lce(t)):n[KO]=t}function WR(n){return $R(n[e6])}function qR(n){return $R(n[Sa])}function $R(n){for(;n!==null&&!d1(n);)n=n[Sa];return n}var iS;function NS(n){iS=n}function PS(){if(iS!==void 0)return iS;if(typeof document<"u")return document;throw new se(210,!1)}var El=new ue("",{providedIn:"root",factory:()=>cce}),cce="ng",fh=new ue(""),Ec=new ue("",{providedIn:"platform",factory:()=>"unknown"});var Dl=new ue(""),g6=new ue("",{providedIn:"root",factory:()=>PS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),ph={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},mh=new ue("",{providedIn:"root",factory:()=>ph});var uce="h",dce="b";var YR=!1,ZR=new ue("",{providedIn:"root",factory:()=>YR});var hh=new ue("");var fce=(n,t,e,i)=>{};function pce(n,t,e,i){fce(n,t,e,i)}function gh(n){return(n.flags&32)===32}var mce=()=>null;function XR(n,t,e=!1){return mce(n,t,e)}function QR(n,t){let e=n.contentQueries;if(e!==null){let i=ft(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let s=n.data[a];zm(o),s.contentQueries(2,t[a],a)}}}finally{ft(i)}}}function rS(n,t,e){zm(0);let i=ft(null);try{t(n,e)}finally{ft(i)}}function OS(n,t,e){if(yC(t)){let i=ft(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let a=r;a<o;a++){let s=n.data[a];if(s.contentQueries){let l=e[a];s.contentQueries(1,l,a)}}}finally{ft(i)}}}var r2=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(r2||{});var Rm;function hce(){if(Rm===void 0&&(Rm=null,Vi.trustedTypes))try{Rm=Vi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rm}function vh(n){return hce()?.createHTML(n)||n}var Fm;function KR(){if(Fm===void 0&&(Fm=null,Vi.trustedTypes))try{Fm=Vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fm}function JO(n){return KR()?.createHTML(n)||n}function eR(n){return KR()?.createScriptURL(n)||n}var o2=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ym})`}},oS=class extends o2{getTypeName(){return"HTML"}},aS=class extends o2{getTypeName(){return"Style"}},sS=class extends o2{getTypeName(){return"Script"}},lS=class extends o2{getTypeName(){return"URL"}},cS=class extends o2{getTypeName(){return"ResourceURL"}};function To(n){return n instanceof o2?n.changingThisBreaksApplicationSecurity:n}function J1(n,t){let e=JR(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ym})`)}return e===t}function JR(n){return n instanceof o2&&n.getTypeName()||null}function RS(n){return new oS(n)}function FS(n){return new aS(n)}function BS(n){return new sS(n)}function VS(n){return new lS(n)}function US(n){return new cS(n)}function gce(n){let t=new dS(n);return vce()?new uS(t):t}var uS=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(vh(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},dS=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=vh(t),e}};function vce(){try{return!!new window.DOMParser().parseFromString(vh(""),"text/html")}catch{return!1}}var yce=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bf(n){return n=String(n),n.match(yce)?n:"unsafe:"+n}function a2(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function xf(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var eF=a2("area,br,col,hr,img,wbr"),tF=a2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nF=a2("rp,rt"),_ce=xf(nF,tF),bce=xf(tF,a2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xce=xf(nF,a2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tR=xf(eF,bce,xce,_ce),iF=a2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cce=a2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sce=a2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),wce=xf(iF,Cce,Sce),Mce=a2("script,style,template"),fS=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=Dce(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=Ece(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=nR(t).toLowerCase();if(!tR.hasOwnProperty(e))return this.sanitizedSomething=!0,!Mce.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,s=a.toLowerCase();if(!wce.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;iF[s]&&(l=bf(l)),this.buf.push(" ",a,'="',iR(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=nR(t).toLowerCase();tR.hasOwnProperty(e)&&!eF.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(iR(t))}};function Tce(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Ece(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw rF(t);return t}function Dce(n){let t=n.firstChild;if(t&&Tce(n,t))throw rF(t);return t}function nR(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function rF(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Ice=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lce=/([^\#-~ |!])/g;function iR(n){return n.replace(/&/g,"&amp;").replace(Ice,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(Lce,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Bm;function yh(n,t){let e=null;try{Bm=Bm||gce(n);let i=t?String(t):"";e=Bm.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Bm.getInertBodyElement(i)}while(i!==o);let s=new fS().sanitizeChildren(rR(e)||e);return vh(s)}finally{if(e){let i=rR(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function rR(n){return"content"in n&&Ace(n)?n.content:null}function Ace(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var zce=/^>|^->|<!--|-->|--!>|<!-$/g,kce=/(<|>)/g,Nce="\u200B$1\u200B";function Pce(n){return n.replace(zce,t=>t.replace(kce,Nce))}function Oce(n,t){return n.createText(t)}function Rce(n,t,e){n.setValue(t,e)}function Fce(n,t){return n.createComment(Pce(t))}function oF(n,t,e){return n.createElement(t,e)}function Km(n,t,e,i,r){n.insertBefore(t,e,i,r)}function aF(n,t,e){n.appendChild(t,e)}function oR(n,t,e,i,r){i!==null?Km(n,t,e,i,r):aF(n,t,e)}function Bce(n,t,e,i){n.removeChild(null,t,e,i)}function Vce(n,t,e){n.setAttribute(t,"style",e)}function Uce(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function sF(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&q0e(n,t,i),r!==null&&Uce(n,t,r),o!==null&&Vce(n,t,o)}var Eo=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Eo||{});function v6(n){let t=jS();return t?JO(t.sanitize(Eo.HTML,n)||""):J1(n,"HTML")?JO(To(n)):yh(PS(),Ks(n))}function Cf(n){let t=jS();return t?t.sanitize(Eo.URL,n)||"":J1(n,"URL")?To(n):bf(Ks(n))}function lF(n){let t=jS();if(t)return eR(t.sanitize(Eo.RESOURCE_URL,n)||"");if(J1(n,"ResourceURL"))return eR(To(n));throw new se(904,!1)}function Hce(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?lF:Cf}function HS(n,t,e){return Hce(t,e)(n)}function jS(){let n=Ze();return n&&n[q1].sanitizer}function GS(n){return n.ownerDocument.defaultView}function Sf(n){return n.ownerDocument}function cF(n){return n instanceof Function?n():n}function jce(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}var uF="ng-template";function Gce(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&jce(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(WS(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function WS(n){return n.type===4&&n.value!==uF}function Wce(n,t,e){let i=n.type===4&&!e?uF:n.value;return t===i}function qce(n,t,e){let i=4,r=n.attrs,o=r!==null?Zce(r):0,a=!1;for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number"){if(!a&&!h1(i)&&!h1(l))return!1;if(a&&h1(l))continue;a=!1,i=l|i&1;continue}if(!a)if(i&4){if(i=2|i&1,l!==""&&!Wce(n,l,e)||l===""&&t.length===1){if(h1(i))return!1;a=!0}}else if(i&8){if(r===null||!Gce(n,r,l,e)){if(h1(i))return!1;a=!0}}else{let c=t[++s],u=$ce(l,r,WS(n),e);if(u===-1){if(h1(i))return!1;a=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(h1(i))return!1;a=!0}}}}return h1(i)||a}function h1(n){return(n&1)===0}function $ce(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let a=t[r];if(a===n)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++r];for(;typeof s=="string";)s=t[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return Xce(t,n)}function dF(n,t,e=!1){for(let i=0;i<t.length;i++)if(qce(n,t[i],e))return!0;return!1}function Yce(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function Zce(n){for(let t=0;t<n.length;t++){let e=n[t];if(kR(e))return t}return n.length}function Xce(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function Qce(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function aR(n,t){return n?":not("+t.trim()+")":t}function Kce(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let a=n[e];if(typeof a=="string")if(i&2){let s=n[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!h1(a)&&(t+=aR(o,r),r=""),i=a,o=o||!h1(i);e++}return r!==""&&(t+=aR(o,r)),t}function Jce(n){return n.map(Kce).join(",")}function e3e(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!h1(r))break;r=o}i++}return e.length&&t.push(1,...e),t}var Ar={};function qS(n,t,e,i,r,o,a,s,l,c,u){let d=Wn+i,f=d+r,m=t3e(d,f),v=typeof c=="function"?c():c;return m[rt]={type:n,blueprint:m,template:e,queries:null,viewQuery:s,declTNode:t,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function t3e(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ar);return e}function n3e(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=qS(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function $S(n,t,e,i,r,o,a,s,l,c,u){let d=t.blueprint.slice();return d[Ca]=r,d[pt]=i|4|128|8|64|1024,(c!==null||n&&n[pt]&2048)&&(d[pt]|=2048),SC(d),d[Ji]=d[yc]=n,d[vr]=e,d[q1]=a||n&&n[q1],d[wn]=s||n&&n[wn],d[_l]=l||n&&n[_l]||null,d[so]=o,d[ef]=sce(),d[K4]=u,d[gC]=c,d[wo]=t.type==2?n[wo]:d,d}function i3e(n,t,e){let i=p1(t,n),r=n3e(e),o=n[q1].rendererFactory,a=YS(n,$S(n,r,null,fF(e),i,t,null,o.createRenderer(i,e),null,null,null));return n[t.index]=a}function fF(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function pF(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function YS(n,t){return n[e6]?n[hC][Sa]=t:n[e6]=t,n[hC]=t,t}function g(n=1){mF(On(),Ze(),n2()+n,!1)}function mF(n,t,e,i){if(!i)if((t[pt]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Hm(t,o,e)}else{let o=n.preOrderHooks;o!==null&&jm(t,o,0,e)}wl(e)}var _h=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(_h||{});function pS(n,t,e,i){let r=ft(null);try{let[o,a,s]=n.inputs[e],l=null;(a&_h.SignalBased)!==0&&(l=t[o][hr]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):s!==null&&(i=s.call(t,i)),n.setInput!==null?n.setInput(t,l,i,e,o):ER(t,l,o,i)}finally{ft(r)}}var v1=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(v1||{}),r3e;function ZS(n,t){return r3e(n,t)}var p6=new Set,bh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(bh||{}),Dc=new ue(""),sR=new Set;function Ta(n){sR.has(n)||(sR.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var hF=!1,mS=class extends me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,mC()&&(this.destroyRef=B(yr,{optional:!0})??void 0,this.pendingTasks=B(X1,{optional:!0})??void 0)}emit(t){let e=ft(null);try{super.next(t)}finally{ft(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),a=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:r,error:o,complete:a});return t instanceof Et&&t.add(s),s}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},be=mS;function gF(n){let t,e;function i(){n=Sc;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function lR(n){return queueMicrotask(()=>n()),()=>{n=Sc}}var XS="isAngularZone",Jm=XS+"_ID",o3e=0,Pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=hF}=t;if(typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,l3e(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(XS)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new se(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,a3e,Sc,Sc);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},a3e={};function QS(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function s3e(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){gF(()=>{n.callbackScheduled=!1,hS(n),n.isCheckStableRunning=!0,QS(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),hS(n)}function l3e(n){let t=()=>{s3e(n)},e=o3e++;n._inner=n._inner.fork({name:"angular",properties:{[XS]:!0,[Jm]:e,[Jm+e]:!0},onInvokeTask:(i,r,o,a,s,l)=>{if(c3e(l))return i.invokeTask(o,a,s,l);try{return cR(n),i.invokeTask(o,a,s,l)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),uR(n)}},onInvoke:(i,r,o,a,s,l,c)=>{try{return cR(n),i.invoke(o,a,s,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!u3e(l)&&t(),uR(n)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,hS(n),QS(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function hS(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function cR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uR(n){n._nesting--,QS(n)}var eh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function c3e(n){return vF(n,"__ignore_ng_zone__")}function u3e(n){return vF(n,"__scheduler_tick__")}function vF(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var KS=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),yF=[0,1,2,3],_F=(()=>{class n{ngZone=B(Pe);scheduler=B(u1);errorHandler=B(ta,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){B(Dc,{optional:!0})}execute(){let e=this.sequences.size>0;e&&xn(16),this.executing=!0;for(let i of yF)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&xn(17)}register(e){let{view:i}=e;i!==void 0?((i[bc]??=[]).push(e),Sl(i),i[pt]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(bh.AFTER_NEXT_RENDER,e):e()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),th=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,r,o,a=null){this.impl=t,this.hooks=e,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[bc];t&&(this.view[bc]=t.filter(e=>e!==this))}};function zi(n,t){let e=t?.injector??B(Ve);return Ta("NgAfterNextRender"),f3e(n,e,t,!0)}function d3e(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function f3e(n,t,e,i){let r=t.get(KS);r.impl??=t.get(_F);let o=t.get(Dc,null,{optional:!0}),a=e?.manualCleanup!==!0?t.get(yr):null,s=t.get(s6,null,{optional:!0}),l=new th(r.impl,d3e(n),s?.view,i,a,o?.snapshot(null));return r.impl.register(l),l}var p3e=new ue("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function bF(n,t,e){let i=n.get(p3e);if(Array.isArray(t))for(let r of t)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function m3e(n,t){for(let[e,i]of t)bF(n,i.animateFns)}function dR(n,t,e,i){let r=n?.[tf]?.enter;t!==null&&r&&r.has(e.index)&&m3e(i,r)}function c6(n,t,e,i,r,o,a,s){if(r!=null){let l,c=!1;d1(r)?l=r:Y1(r)&&(c=!0,r=r[Ca]);let u=wa(r);n===0&&i!==null?(dR(s,i,o,e),a==null?aF(t,i,u):Km(t,i,u,a||null,!0)):n===1&&i!==null?(dR(s,i,o,e),Km(t,i,u,a||null,!0)):n===2?fR(s,o,e,d=>{Bce(t,u,c,d)}):n===3&&fR(s,o,e,()=>{t.destroyNode(u)}),l!=null&&M3e(t,n,e,l,o,i,a)}}function h3e(n,t){xF(n,t),t[Ca]=null,t[so]=null}function g3e(n,t,e,i,r,o){i[Ca]=r,i[so]=t,xh(n,i,e,1,r,o)}function xF(n,t){t[q1].changeDetectionScheduler?.notify(9),xh(n,t,t[wn],2,null,null)}function v3e(n){let t=n[e6];if(!t)return qC(n[rt],n);for(;t;){let e=null;if(Y1(t))e=t[e6];else{let i=t[Ir];i&&(e=i)}if(!e){for(;t&&!t[Sa]&&t!==n;)Y1(t)&&qC(t[rt],t),t=t[Ji];t===null&&(t=n),Y1(t)&&qC(t[rt],t),e=t&&t[Sa]}t=e}}function JS(n,t){let e=n[xc],i=e.indexOf(t);e.splice(i,1)}function ew(n,t){if(Cc(t))return;let e=t[wn];e.destroyNode&&xh(n,t,e,3,null,null),v3e(t)}function qC(n,t){if(Cc(t))return;let e=ft(null);try{t[pt]&=-129,t[pt]|=256,t[na]&&ac(t[na]),b3e(n,t),_3e(n,t),t[rt].type===1&&t[wn].destroy();let i=t[bl];if(i!==null&&d1(t[Ji])){i!==t[Ji]&&JS(i,t);let r=t[$1];r!==null&&r.detachView(n)}nS(t)}finally{ft(e)}}function fR(n,t,e,i){let r=n?.[tf];if(r==null||r.leave==null||!r.leave.has(t.index))return i(!1);n&&p6.add(n),bF(e,()=>{if(r.leave&&r.leave.has(t.index)){let a=r.leave.get(t.index),s=[];if(a){for(let l=0;l<a.animateFns.length;l++){let c=a.animateFns[l],{promise:u}=c();s.push(u)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(s),y3e(n,i)}else n&&p6.delete(n),i(!1)},r)}function y3e(n,t){let e=n[tf]?.running;if(e){e.then(()=>{n[tf].running=void 0,p6.delete(n),t(!0)});return}t(!1)}function _3e(n,t){let e=n.cleanup,i=t[J4];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?i[s]():i[-s].unsubscribe(),a+=2}else{let s=i[e[a+1]];e[a].call(s)}i!==null&&(t[J4]=null);let r=t[Xs];if(r!==null){t[Xs]=null;for(let a=0;a<r.length;a++){let s=r[a];s()}}let o=t[e2];if(o!==null){t[e2]=null;for(let a of o)a.destroy()}}function b3e(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof Mc)){let o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],l=o[a+1];xn(4,s,l);try{l.call(s)}finally{xn(5,s,l)}}else{xn(4,r,o);try{o.call(r)}finally{xn(5,r,o)}}}}}function CF(n,t,e){return x3e(n,t.parent,e)}function x3e(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Ca];if(Cl(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===r2.None||r===r2.Emulated)return null}return p1(i,e)}function SF(n,t,e){return S3e(n,t,e)}function C3e(n,t,e){return n.type&40?p1(n,e):null}var S3e=C3e,pR;function tw(n,t,e,i){let r=CF(n,i,t),o=t[wn],a=i.parent||t[so],s=SF(a,i,t);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)oR(o,r,e[l],s,!1);else oR(o,r,e,s,!1);pR!==void 0&&pR(o,i,t,e,r)}function uf(n,t){if(t!==null){let e=t.type;if(e&3)return p1(t,n);if(e&4)return gS(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return uf(n,i);{let r=n[t.index];return d1(r)?gS(-1,r):wa(r)}}else{if(e&128)return uf(n,t.next);if(e&32)return ZS(t,n)()||wa(n[t.index]);{let i=wF(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=vl(n[wo]);return uf(r,i)}else return uf(n,t.next)}}}return null}function wF(n,t){if(t!==null){let i=n[wo][so],r=t.projection;return i.projection[r]}return null}function gS(n,t){let e=Ir+n+1;if(e<t.length){let i=t[e],r=i[rt].firstChild;if(r!==null)return uf(i,r)}return t[xl]}function nw(n,t,e,i,r,o,a){for(;e!=null;){let s=i[_l];if(e.type===128){e=e.next;continue}let l=i[e.index],c=e.type;if(a&&t===0&&(l&&f6(wa(l),i),e.flags|=2),!gh(e))if(c&8)nw(n,t,e.child,i,r,o,!1),c6(t,n,s,r,l,e,o,i);else if(c&32){let u=ZS(e,i),d;for(;d=u();)c6(t,n,s,r,d,e,o,i);c6(t,n,s,r,l,e,o,i)}else c&16?MF(n,t,i,e,r,o):c6(t,n,s,r,l,e,o,i);e=a?e.projectionNext:e.next}}function xh(n,t,e,i,r,o){nw(e,i,n.firstChild,t,r,o,!1)}function w3e(n,t,e){let i=t[wn],r=CF(n,e,t),o=e.parent||t[so],a=SF(o,e,t);MF(i,0,t,e,r,a)}function MF(n,t,e,i,r,o){let a=e[wo],l=a[so].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];c6(t,n,e[_l],r,u,i,o,e)}else{let c=l,u=a[Ji];jR(i)&&(c.flags|=128),nw(n,t,c,u,r,o,!0)}}function M3e(n,t,e,i,r,o,a){let s=i[xl],l=wa(i);s!==l&&c6(t,n,e,o,s,r,a);for(let c=Ir;c<i.length;c++){let u=i[c];xh(u[rt],u,n,t,o,s)}}function T3e(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:v1.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=v1.Important),n.setStyle(e,i,r,o))}}function TF(n,t,e,i,r){let o=n2(),a=i&2;try{wl(-1),a&&t.length>Wn&&mF(n,t,Wn,!1),xn(a?2:0,r,e),e(i,r)}finally{wl(o),xn(a?3:1,r,e)}}function Ch(n,t,e){z3e(n,t,e),(e.flags&64)===64&&k3e(n,t,e)}function wf(n,t,e=p1){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],s=a===-1?e(t,n):n[a];n[r++]=s}}}function E3e(n,t,e,i){let o=i.get(ZR,YR)||e===r2.ShadowDom,a=n.selectRootElement(t,o);return D3e(a),a}function D3e(n){I3e(n)}var I3e=()=>null;function L3e(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function EF(n,t,e,i,r,o){let a=t[rt];if(sw(n,a,t,e,i)){Cl(n)&&A3e(t,n.index);return}n.type&3&&(e=L3e(e)),iw(n,t,e,i,r,o)}function iw(n,t,e,i,r,o){if(n.type&3){let a=p1(n,t);i=o!=null?o(i,n.value||"",e):i,r.setProperty(a,e,i)}else n.type&12}function A3e(n,t){let e=Ma(t,n);e[pt]&16||(e[pt]|=64)}function z3e(n,t,e){let i=e.directiveStart,r=e.directiveEnd;Cl(e)&&i3e(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Qm(e,t);let o=e.initialInputs;for(let a=i;a<r;a++){let s=n.data[a],l=pf(t,n,a,e);if(f6(l,t),o!==null&&R3e(t,a-i,l,s,e,o),f1(s)){let c=Ma(e.index,t);c[vr]=pf(t,n,a,e)}}}function k3e(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,a=BO();try{wl(o);for(let s=i;s<r;s++){let l=n.data[s],c=t[s];Am(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&N3e(l,c)}}finally{wl(-1),Am(a)}}function N3e(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function rw(n,t){let e=n.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];dF(t,o.selectors,!1)&&(i??=[],f1(o)?i.unshift(o):i.push(o))}return i}function P3e(n,t,e,i,r,o){let a=p1(n,t);O3e(t[wn],a,o,n.value,e,i,r)}function O3e(n,t,e,i,r,o,a){if(o==null)n.removeAttribute(t,r,e);else{let s=a==null?Ks(o):a(o,i||"",r);n.setAttribute(t,r,s,e)}}function R3e(n,t,e,i,r,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;s+=2){let l=a[s],c=a[s+1];pS(i,e,l,c)}}function ow(n,t,e,i,r){let o=Wn+e,a=t[rt],s=r(a,t,n,i,e);t[o]=s,i6(n,!0);let l=n.type===2;return l?(sF(t[wn],s,n),(AO()===0||t6(n))&&f6(s,t),zO()):f6(s,t),Pm()&&(!l||!gh(n))&&tw(a,t,s,n),n}function aw(n){let t=n;return kC()?NC():(t=t.parent,i6(t,!1)),t}function F3e(n,t,e){return(n===null||f1(n))&&(e=bC(e[t.index])),e[wn]}function B3e(n,t){let e=n[_l];if(!e)return;let i;try{i=e.get(Mo,null)}catch{i=null}i?.(t)}function sw(n,t,e,i,r){let o=n.inputs?.[i],a=n.hostDirectiveInputs?.[i],s=!1;if(a)for(let l=0;l<a.length;l+=2){let c=a[l],u=a[l+1],d=t.data[c];pS(d,e[c],u,r),s=!0}if(o)for(let l of o){let c=e[l],u=t.data[l];pS(u,c,i,r),s=!0}return s}function V3e(n,t){let e=Ma(t,n),i=e[rt];U3e(i,e);let r=e[Ca];r!==null&&e[K4]===null&&(e[K4]=XR(r,e[_l])),xn(18),lw(i,e,e[vr]),xn(19,e[vr])}function U3e(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function lw(n,t,e){km(t);try{let i=n.viewQuery;i!==null&&rS(1,i,e);let r=n.template;r!==null&&TF(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[$1]?.finishViewCreation(n),n.staticContentQueries&&QR(n,t),n.staticViewQueries&&rS(2,n.viewQuery,e);let o=n.components;o!==null&&H3e(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[pt]&=-5,Nm()}}function H3e(n,t){for(let e=0;e<t.length;e++)V3e(n,t[e])}function cw(n,t,e,i){let r=ft(null);try{let o=t.tView,s=n[pt]&4096?4096:16,l=$S(n,o,e,s,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[t.index];l[bl]=c;let u=n[$1];return u!==null&&(l[$1]=u.createEmbeddedView(o)),lw(o,l,e),l}finally{ft(r)}}function nh(n,t){return!t||t.firstChild===null||jR(n)}function mf(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(wa(o)),d1(o)&&DF(o,i);let a=e.type;if(a&8)mf(n,t,e.child,i);else if(a&32){let s=ZS(e,t),l;for(;l=s();)i.push(l)}else if(a&16){let s=wF(t,e);if(Array.isArray(s))i.push(...s);else{let l=vl(t[wo]);mf(l[rt],l,s,i,!0)}}e=r?e.projectionNext:e.next}return i}function DF(n,t){for(let e=Ir;e<n.length;e++){let i=n[e],r=i[rt].firstChild;r!==null&&mf(i[rt],i,r,t)}n[xl]!==n[Ca]&&t.push(n[xl])}function IF(n){if(n[bc]!==null){for(let t of n[bc])t.impl.addSequence(t);n[bc].length=0}}var LF=[];function j3e(n){return n[na]??G3e(n)}function G3e(n){let t=LF.pop()??Object.create(q3e);return t.lView=n,t}function W3e(n){n.lView[na]!==n&&(n.lView=null,LF.push(n))}var q3e=De(Q({},ic),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Sl(n.lView)},consumerOnSignalRead(){this.lView[na]=this}});function $3e(n){let t=n[na]??Object.create(Y3e);return t.lView=n,t}var Y3e=De(Q({},ic),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=vl(n.lView);for(;t&&!AF(t[rt]);)t=vl(t);t&&wC(t)},consumerOnSignalRead(){this.lView[na]=this}});function AF(n){return n.type!==2}function zF(n){if(n[e2]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[e2])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[pt]&8192)}}var Z3e=100;function kF(n,t=0){let i=n[q1].rendererFactory,r=!1;r||i.begin?.();try{X3e(n,t)}finally{r||i.end?.()}}function X3e(n,t){let e=PC();try{r6(!0),vS(n,t);let i=0;for(;af(n);){if(i===Z3e)throw new se(103,!1);i++,vS(n,1)}}finally{r6(e)}}function Q3e(n,t,e,i){if(Cc(t))return;let r=t[pt],o=!1,a=!1;km(t);let s=!0,l=null,c=null;o||(AF(n)?(c=j3e(t),l=oc(c)):N7()===null?(s=!1,c=$3e(t),l=oc(c)):t[na]&&(ac(t[na]),t[na]=null));try{SC(t),OO(n.bindingStartIndex),e!==null&&TF(n,t,e,2,i);let u=(r&3)===3;if(!o)if(u){let m=n.preOrderCheckHooks;m!==null&&Hm(t,m,null)}else{let m=n.preOrderHooks;m!==null&&jm(t,m,0,null),GC(t,0)}if(a||K3e(t),zF(t),NF(t,0),n.contentQueries!==null&&QR(n,t),!o)if(u){let m=n.contentCheckHooks;m!==null&&Hm(t,m)}else{let m=n.contentHooks;m!==null&&jm(t,m,1),GC(t,1)}e4e(n,t);let d=n.components;d!==null&&OF(t,d,0);let f=n.viewQuery;if(f!==null&&rS(2,f,i),!o)if(u){let m=n.viewCheckHooks;m!==null&&Hm(t,m)}else{let m=n.viewHooks;m!==null&&jm(t,m,2),GC(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[Tm]){for(let m of t[Tm])m();t[Tm]=null}o||(IF(t),t[pt]&=-73)}catch(u){throw o||Sl(t),u}finally{c!==null&&(k4(c,l),s&&W3e(c)),Nm()}}function NF(n,t){for(let e=WR(n);e!==null;e=qR(e))for(let i=Ir;i<e.length;i++){let r=e[i];PF(r,t)}}function K3e(n){for(let t=WR(n);t!==null;t=qR(t)){if(!(t[pt]&2))continue;let e=t[xc];for(let i=0;i<e.length;i++){let r=e[i];wC(r)}}}function J3e(n,t,e){xn(18);let i=Ma(t,n);PF(i,e),xn(19,i[vr])}function PF(n,t){Em(n)&&vS(n,t)}function vS(n,t){let i=n[rt],r=n[pt],o=n[na],a=!!(t===0&&r&16);if(a||=!!(r&64&&t===0),a||=!!(r&1024),a||=!!(o?.dirty&&N4(o)),a||=!1,o&&(o.dirty=!1),n[pt]&=-9217,a)Q3e(i,n,i.template,n[vr]);else if(r&8192){let s=ft(null);try{zF(n),NF(n,1);let l=i.components;l!==null&&OF(n,l,1),IF(n)}finally{ft(s)}}}function OF(n,t,e){for(let i=0;i<t.length;i++)J3e(n,t[i],e)}function e4e(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)wl(~r);else{let o=r,a=e[++i],s=e[++i];FO(a,o);let l=t[o];xn(24,l),s(2,l),xn(25,l)}}}finally{wl(-1)}}function uw(n,t){let e=PC()?64:1088;for(n[q1].changeDetectionScheduler?.notify(t);n;){n[pt]|=e;let i=vl(n);if(n6(n)&&!i)return n;n=i}return null}function RF(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function t4e(n,t){let e=Ir+t;if(e<n.length)return n[e]}function dw(n,t,e,i=!0){let r=t[rt];if(i4e(r,t,n,e),i){let a=gS(e,n),s=t[wn],l=s.parentNode(n[xl]);l!==null&&g3e(r,n[so],s,t,l,a)}let o=t[K4];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function n4e(n,t){let e=ih(n,t);return e!==void 0&&ew(e[rt],e),e}function ih(n,t){if(n.length<=Ir)return;let e=Ir+t,i=n[e];if(i){let r=i[bl];r!==null&&r!==n&&JS(r,i),t>0&&(n[e-1][Sa]=i[Sa]);let o=Kd(n,Ir+t);h3e(i[rt],i);let a=o[$1];a!==null&&a.detachView(o[rt]),i[Ji]=null,i[Sa]=null,i[pt]&=-129}return i}function i4e(n,t,e,i){let r=Ir+i,o=e.length;i>0&&(e[r-1][Sa]=t),i<o-Ir?(t[Sa]=e[r],aC(e,Ir+i,t)):(e.push(t),t[Sa]=null),t[Ji]=e;let a=t[bl];a!==null&&e!==a&&FF(a,t);let s=t[$1];s!==null&&s.insertView(n),Dm(t),t[pt]|=128}function FF(n,t){let e=n[xc],i=t[Ji];if(Y1(i))n[pt]|=2;else{let r=i[Ji][wo];t[wo]!==r&&(n[pt]|=2)}e===null?n[xc]=[t]:e.push(t)}var Ml=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[rt];return mf(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[vr]}set context(t){this._lView[vr]=t}get destroyed(){return Cc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ji];if(d1(t)){let e=t[nf],i=e?e.indexOf(this):-1;i>-1&&(ih(t,i),Kd(e,i))}this._attachedToViewContainer=!1}ew(this._lView[rt],this._lView)}onDestroy(t){MC(this._lView,t)}markForCheck(){uw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pt]&=-129}reattach(){Dm(this._lView),this._lView[pt]|=128}detectChanges(){this._lView[pt]|=1024,kF(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=n6(this._lView),e=this._lView[bl];e!==null&&!t&&JS(e,this._lView),xF(this._lView[rt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=t;let e=n6(this._lView),i=this._lView[bl];i!==null&&!e&&FF(i,this._lView),Dm(this._lView)}};var Lr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=r4e;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let o=cw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new Ml(o)}}return n})();function r4e(){return Sh(Ai(),Ze())}function Sh(n,t){return n.type&4?new Lr(t,n,h6(n,t)):null}function y6(n,t,e,i,r){let o=n.data[t];if(o===null)o=o4e(n,t,e,i,r),RO()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let a=kO();o.injectorIndex=a===null?-1:a.injectorIndex}return i6(o,!0),o}function o4e(n,t,e,i,r){let o=zC(),a=kC(),s=a?o:o&&o.parent,l=n.data[t]=s4e(n,s,e,t,i,r);return a4e(n,l,o,a),l}function a4e(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function s4e(n,t,e,i,r,o){let a=t?t.injectorIndex:-1,s=0;return IC()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var l$e=new RegExp(`^(\\d+)*(${dce}|${uce})*(.*)`);var l4e=()=>null,c4e=()=>null;function yS(n,t){return l4e(n,t)}function u4e(n,t,e){return c4e(n,t,e)}var BF=class{},wh=class{},_S=class{resolveComponentFactory(t){throw new se(917,!1)}},Ic=class{static NULL=new _S},vi=class{},ci=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>d4e()}return n})();function d4e(){let n=Ze(),t=Ai(),e=Ma(t.index,n);return(Y1(e)?e:n)[wn]}var VF=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>null})}return n})();var Wm={},bS=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let r=this.injector.get(t,Wm,i);return r!==Wm||e===Wm?r:this.parentInjector.get(t,e,i)}};function rh(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)r=_m(r,s);else if(o==2){let l=s,c=t[++a];i=_m(i,l+": "+c+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function V(n,t=0){let e=Ze();if(e===null)return ae(n,t);let i=Ai();return VR(i,e,gr(n),t)}function Mf(){let n="invalid";throw new Error(n)}function UF(n,t,e,i,r){let o=i===null?null:{"":-1},a=r(n,e);if(a!==null){let s=a,l=null,c=null;for(let u of a)if(u.resolveHostDirectives!==null){[s,l,c]=u.resolveHostDirectives(a);break}m4e(n,t,e,s,o,l,c)}o!==null&&i!==null&&f4e(e,i,o)}function f4e(n,t,e){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new se(-301,!1);i.push(t[r],o)}}function p4e(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function m4e(n,t,e,i,r,o,a){let s=i.length,l=!1;for(let f=0;f<s;f++){let m=i[f];!l&&f1(m)&&(l=!0,p4e(n,e,f)),eS(Qm(e,t),n,m.type)}b4e(e,n.data.length,s);for(let f=0;f<s;f++){let m=i[f];m.providersResolver&&m.providersResolver(m)}let c=!1,u=!1,d=pF(n,t,s,null);s>0&&(e.directiveToIndex=new Map);for(let f=0;f<s;f++){let m=i[f];if(e.mergedAttrs=d6(e.mergedAttrs,m.hostAttrs),g4e(n,e,t,d,m),_4e(d,m,r),a!==null&&a.has(m)){let[_,b]=a.get(m);e.directiveToIndex.set(m.type,[d,_+e.directiveStart,b+e.directiveStart])}else(o===null||!o.has(m))&&e.directiveToIndex.set(m.type,d);m.contentQueries!==null&&(e.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(e.flags|=64);let v=m.type.prototype;!c&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),c=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}h4e(n,e,o)}function h4e(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=n.data[i];if(e===null||!e.has(r))mR(0,t,r,i),mR(1,t,r,i),gR(t,i,!1);else{let o=e.get(r);hR(0,t,o,i),hR(1,t,o,i),gR(t,i,!0)}}}function mR(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;n===0?a=t.inputs??={}:a=t.outputs??={},a[o]??=[],a[o].push(i),HF(t,o)}}function hR(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],s;n===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(i,o),HF(t,a)}}function HF(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function gR(n,t,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!e&&r===null||e&&o===null||WS(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<i.length;){let l=i[s];if(l===0){s+=4;continue}else if(l===5){s+=2;continue}else if(typeof l=="number")break;if(!e&&r.hasOwnProperty(l)){let c=r[l];for(let u of c)if(u===t){a??=[],a.push(l,i[s+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){a??=[],a.push(c[u+1],i[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function g4e(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=gl(r.type,!0)),a=new Mc(o,f1(r),V,null);n.blueprint[i]=a,e[i]=a,v4e(n,t,i,pF(n,e,r.hostVars,Ar),r)}function v4e(n,t,e,i,r){let o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~t.index;y4e(a)!=s&&a.push(s),a.push(e,i,o)}}function y4e(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function _4e(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;f1(t)&&(e[""]=n)}}function b4e(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function fw(n,t,e,i,r,o,a,s){let l=t[rt],c=l.consts,u=m1(c,a),d=y6(l,n,e,i,u);return o&&UF(l,t,d,m1(c,s),r),d.mergedAttrs=d6(d.mergedAttrs,d.attrs),d.attrs!==null&&rh(d,d.attrs,!1),d.mergedAttrs!==null&&rh(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function pw(n,t){AR(n,t),yC(t)&&n.queries.elementEnd(t)}function x4e(n,t,e,i,r,o){let a=t.consts,s=m1(a,r),l=y6(t,n,e,i,s);if(l.mergedAttrs=d6(l.mergedAttrs,l.attrs),o!=null){let c=m1(a,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&rh(l,l.attrs,!1),l.mergedAttrs!==null&&rh(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function mw(n){return Mh(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function jF(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function Mh(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function _6(n,t,e){return n[t]=e}function GF(n,t){return n[t]}function lo(n,t,e){if(e===Ar)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function hf(n,t,e,i){let r=lo(n,t,e);return lo(n,t+1,i)||r}function C4e(n,t,e,i,r){let o=hf(n,t,e,i);return lo(n,t+2,r)||o}function WF(n,t,e,i,r,o){let a=hf(n,t,e,i);return hf(n,t+2,r,o)||a}function qm(n,t,e){return function i(r){let o=Cl(n)?Ma(n.index,t):t;uw(o,5);let a=t[vr],s=vR(t,a,e,r),l=i.__ngNextListenerFn__;for(;l;)s=vR(t,a,l,r)&&s,l=l.__ngNextListenerFn__;return s}}function vR(n,t,e,i){let r=ft(null);try{return xn(6,t,e),e(i)!==!1}catch(o){return B3e(n,o),!1}finally{xn(7,t,e),ft(r)}}function qF(n,t,e,i,r,o,a,s){let l=t6(n),c=!1,u=null;if(!i&&l&&(u=w4e(t,e,o,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=a,u.__ngLastListenerFn__=a,c=!0}else{let d=p1(n,e),f=i?i(d):d;pce(e,f,o,s);let m=r.listen(f,o,s);if(!S4e(o)){let v=i?_=>i(wa(_[n.index])):n.index;$F(v,t,e,o,s,m,!1)}}return c}function S4e(n){return n.startsWith("animation")||n.startsWith("transition")}function w4e(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===i){let s=t[J4],l=r[o+2];return s&&s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function $F(n,t,e,i,r,o,a){let s=t.firstCreatePass?EC(t):null,l=TC(e),c=l.length;l.push(r,o),s&&s.push(i,n,c,(c+1)*(a?-1:1))}function yR(n,t,e,i,r,o){let a=t[e],s=t[rt],c=s.data[e].outputs[i],d=a[c].subscribe(o);$F(n.index,s,t,r,o,d,!0)}var xS=Symbol("BINDING");var oh=class extends Ic{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=G1(t);return new Tl(e,this.ngModule)}};function M4e(n){return Object.keys(n).map(t=>{let[e,i,r]=n[t],o={propName:e,templateName:t,isSignal:(i&_h.SignalBased)!==0};return r&&(o.transform=r),o})}function T4e(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function E4e(n,t,e){let i=t instanceof An?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new bS(e,i):e}function D4e(n){let t=n.get(vi,null);if(t===null)throw new se(407,!1);let e=n.get(VF,null),i=n.get(u1,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function I4e(n,t){let e=YF(n);return oF(t,e,e==="svg"?_C:e==="math"?MO:null)}function YF(n){return(n.selectors[0][0]||"div").toLowerCase()}var Tl=class extends wh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=M4e(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=T4e(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=Jce(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r,o,a){xn(22);let s=ft(null);try{let l=this.componentDef,c=L4e(i,l,a,o),u=E4e(l,r||this.ngModule,t),d=D4e(u),f=d.rendererFactory.createRenderer(null,l),m=i?E3e(f,i,l.encapsulation,u):I4e(l,f),v=a?.some(_R)||o?.some(C=>typeof C!="function"&&C.bindings.some(_R)),_=$S(null,c,null,512|fF(l),null,null,d,f,u,null,XR(m,u,!0));_[Wn]=m,km(_);let b=null;try{let C=fw(Wn,_,2,"#host",()=>c.directiveRegistry,!0,0);sF(f,m,C),f6(m,_),Ch(c,_,C),OS(c,C,_),pw(c,C),e!==void 0&&z4e(C,this.ngContentSelectors,e),b=Ma(C.index,_),_[vr]=b[vr],lw(c,_,null)}catch(C){throw b!==null&&nS(b),nS(_),C}finally{xn(23),Nm()}return new ah(this.componentType,_,!!v)}finally{ft(s)}}};function L4e(n,t,e,i){let r=n?["ng-version","20.3.15"]:e3e(t.selectors[0]),o=null,a=null,s=0;if(e)for(let u of e)s+=u[xS].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(a??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let d=i[u];if(typeof d!="function")for(let f of d.bindings){s+=f[xS].requiredVars;let m=u+1;f.create&&(f.targetIdx=m,(o??=[]).push(f)),f.update&&(f.targetIdx=m,(a??=[]).push(f))}}let l=[t];if(i)for(let u of i){let d=typeof u=="function"?u:u.type,f=uC(d);l.push(f)}return qS(0,null,A4e(o,a),1,s,l,null,null,null,[r],null)}function A4e(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function _R(n){let t=n[xS].kind;return t==="input"||t==="twoWay"}var ah=class extends BF{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=rf(e[rt],Wn),this.location=h6(this._tNode,e),this.instance=Ma(this._tNode.index,e)[vr],this.hostView=this.changeDetectorRef=new Ml(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView,o=sw(i,r[rt],r,t,e);this.previousInputValues.set(t,e);let a=Ma(i.index,r);uw(a,1)}get injector(){return new wc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function z4e(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Ui=(()=>{class n{static __NG_ELEMENT_ID__=k4e}return n})();function k4e(){let n=Ai();return XF(n,Ze())}var N4e=Ui,ZF=class extends N4e{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return h6(this._hostTNode,this._hostLView)}get injector(){return new wc(this._hostTNode,this._hostLView)}get parentInjector(){let t=zS(this._hostTNode,this._hostLView);if(NR(t)){let e=Zm(t,this._hostLView),i=Ym(t),r=e[rt].data[i+8];return new wc(r,e)}else return new wc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=bR(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=yS(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,nh(this._hostTNode,a)),s}createComponent(t,e,i,r,o,a,s){let l=t&&!F0e(t),c;if(l)c=e;else{let b=e||{};c=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef,a=b.directives,s=b.bindings}let u=l?t:new Tl(G1(t)),d=i||this.parentInjector;if(!o&&u.ngModule==null){let C=(l?d:this.parentInjector).get(An,null);C&&(o=C)}let f=G1(u.componentType??{}),m=yS(this._lContainer,f?.id??null),v=m?.firstChild??null,_=u.create(d,r,v,o,a,s);return this.insertImpl(_.hostView,c,nh(this._hostTNode,m)),_}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(EO(r)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let l=r[Ji],c=new ZF(l,l[so],l[Ji]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),a=this._lContainer;return dw(a,r,o,i),t.attachToViewContainerRef(),aC($C(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=bR(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=ih(this._lContainer,e);i&&(Kd($C(this._lContainer),e),ew(i[rt],i))}detach(t){let e=this._adjustIndex(t,-1),i=ih(this._lContainer,e);return i&&Kd($C(this._lContainer),e)!=null?new Ml(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function bR(n){return n[nf]}function $C(n){return n[nf]||(n[nf]=[])}function XF(n,t){let e,i=t[n.index];return d1(i)?e=i:(e=RF(i,t,null,n),t[n.index]=e,YS(t,e)),O4e(e,t,n,i),new ZF(e,n,t)}function P4e(n,t){let e=n[wn],i=e.createComment(""),r=p1(t,n),o=e.parentNode(r);return Km(e,o,i,e.nextSibling(r),!1),i}var O4e=B4e,R4e=()=>!1;function F4e(n,t,e){return R4e(n,t,e)}function B4e(n,t,e,i){if(n[xl])return;let r;e.type&8?r=wa(i):r=P4e(t,e),n[xl]=r}var CS=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},SS=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let a=e.getByIndex(o),s=this.queries[a.indexInDeclarationView];r.push(s.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)hw(t,e).matches!==null&&this.queries[e].setDirty()}},sh=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=$4e(t):this.predicate=t}},wS=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},MS=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,V4e(e,o)),this.matchTNodeWithReadOption(t,e,Gm(e,t,o,!1,!1))}else i===Lr?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Gm(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===st||r===Ui||r===Lr&&e.type&4)this.addMatch(e.index,-2);else{let o=Gm(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function V4e(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function U4e(n,t){return n.type&11?h6(n,t):n.type&4?Sh(n,t):null}function H4e(n,t,e,i){return e===-1?U4e(t,n):e===-2?j4e(n,t,i):pf(n,n[rt],e,t)}function j4e(n,t,e){if(e===st)return h6(t,n);if(e===Lr)return Sh(t,n);if(e===Ui)return XF(t,n)}function QF(n,t,e,i){let r=t[$1].queries[i];if(r.matches===null){let o=n.data,a=e.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)s.push(null);else{let u=o[c];s.push(H4e(t,u,a[l+1],e.metadata.read))}}r.matches=s}return r.matches}function TS(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let a=QF(n,t,r,e);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)i.push(a[s/2]);else{let c=o[s+1],u=t[-l];for(let d=Ir;d<u.length;d++){let f=u[d];f[bl]===f[Ji]&&TS(f[rt],f,c,i)}if(u[xc]!==null){let d=u[xc];for(let f=0;f<d.length;f++){let m=d[f];TS(m[rt],m,c,i)}}}}}return i}function G4e(n,t){return n[$1].queries[t].queryList}function KF(n,t,e){let i=new i2((e&4)===4);return LO(n,t,i,i.destroy),(t[$1]??=new SS).queries.push(new CS(i))-1}function W4e(n,t,e){let i=On();return i.firstCreatePass&&(JF(i,new sh(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),KF(i,Ze(),t)}function q4e(n,t,e,i){let r=On();if(r.firstCreatePass){let o=Ai();JF(r,new sh(t,e,i),o.index),Y4e(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return KF(r,Ze(),e)}function $4e(n){return n.split(",").map(t=>t.trim())}function JF(n,t,e){n.queries===null&&(n.queries=new wS),n.queries.track(new MS(t,e))}function Y4e(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function hw(n,t){return n.queries.getByIndex(t)}function Z4e(n,t){let e=n[rt],i=hw(e,t);return i.crossesNgTemplate?TS(e,n,t,[]):QF(e,n,i,t)}var K1=class{},Th=class{};var lh=class extends K1{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new oh(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;let o=cC(t);this._bootstrapComponents=cF(o.bootstrap),this._r3Injector=VC(t,e,[{provide:K1,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver},...i],Qs(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ch=class extends Th{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new lh(this.moduleType,t,[])}};var gf=class extends K1{injector;componentFactoryResolver=new oh(this);instance=null;constructor(t){super();let e=new gc([...t.providers,{provide:K1,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver}],t.parent||Q4(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function b6(n,t,e=null){return new gf({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var X4e=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=dC(!1,e.type),r=i.length>0?b6([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(ae(An))})}return n})();function ie(n){return yf(()=>{let t=eB(n),e=De(Q({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(X4e).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||r2.Emulated,styles:n.styles||ao,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Ta("NgStandalone"),tB(e);let i=n.dependencies;return e.directiveDefs=xR(i,Q4e),e.pipeDefs=xR(i,xO),e.id=e6e(e),e})}function Q4e(n){return G1(n)||uC(n)}function gt(n){return yf(()=>({type:n.type,bootstrap:n.bootstrap||ao,declarations:n.declarations||ao,imports:n.imports||ao,exports:n.exports||ao,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function K4e(n,t){if(n==null)return yl;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,a,s,l;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o,l=r[3]||null):(o=r,a=r,s=_h.None,l=null),e[o]=[i,s,l],t[o]=a}return e}function J4e(n){if(n==null)return yl;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Fe(n){return yf(()=>{let t=eB(n);return tB(t),t})}function s2(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function eB(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||yl,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ao,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:K4e(n.inputs,t),outputs:J4e(n.outputs),debugInfo:null}}function tB(n){n.features?.forEach(t=>t(n))}function xR(n,t){return n?()=>{let e=typeof n=="function"?n():n,i=[];for(let r of e){let o=t(r);o!==null&&i.push(o)}return i}:null}function e6e(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function t6e(n){return Object.getPrototypeOf(n.prototype).constructor}function on(n){let t=t6e(n.type),e=!0,i=[n];for(;t;){let r;if(f1(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new se(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let a=n;a.inputs=YC(n.inputs),a.declaredInputs=YC(n.declaredInputs),a.outputs=YC(n.outputs);let s=r.hostBindings;s&&a6e(n,s);let l=r.viewQuery,c=r.contentQueries;if(l&&r6e(n,l),c&&o6e(n,c),n6e(n,r),fO(n.outputs,r.outputs),f1(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(n),s===on&&(e=!1)}}t=Object.getPrototypeOf(t)}i6e(i)}function n6e(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function i6e(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=d6(r.hostAttrs,e=d6(e,r.hostAttrs))}}function YC(n){return n===yl?{}:n===ao?[]:n}function r6e(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function o6e(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function a6e(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function nB(n,t,e,i,r,o,a,s){if(e.firstCreatePass){n.mergedAttrs=d6(n.mergedAttrs,n.attrs);let u=n.tView=qS(2,n,r,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),u.queries=e.queries.embeddedTView(n))}s&&(n.flags|=s),i6(n,!1);let l=l6e(e,t,n,i);Pm()&&tw(e,t,l,n),f6(l,t);let c=RF(l,t,l,n);t[i+Wn]=c,YS(t,c),F4e(c,n,t)}function s6e(n,t,e,i,r,o,a,s,l,c,u){let d=e+Wn,f;return t.firstCreatePass?(f=y6(t,d,4,a||null,s||null),Im()&&UF(t,n,f,m1(t.consts,c),rw),AR(t,f)):f=t.data[d],nB(f,n,t,e,i,r,o,l),t6(f)&&Ch(t,n,f),c!=null&&wf(n,f,u),f}function Eh(n,t,e,i,r,o,a,s,l,c,u){let d=e+Wn,f;if(t.firstCreatePass){if(f=y6(t,d,4,a||null,s||null),c!=null){let m=m1(t.consts,c);f.localNames=[];for(let v=0;v<m.length;v+=2)f.localNames.push(m[v],-1)}}else f=t.data[d];return nB(f,n,t,e,i,r,o,l),c!=null&&wf(n,f,u),f}function A(n,t,e,i,r,o,a,s){let l=Ze(),c=On(),u=m1(c.consts,o);return s6e(l,c,n,t,e,i,r,u,void 0,a,s),A}function Dh(n,t,e,i,r,o,a,s){let l=Ze(),c=On(),u=m1(c.consts,o);return Eh(l,c,n,t,e,i,r,u,void 0,a,s),Dh}var l6e=c6e;function c6e(n,t,e,i){return sf(!0),t[wn].createComment("")}var Ih=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Lh=new ue(""),x6=new ue(""),Tf=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,r){this._ngZone=e,this.registry=i,mC()&&(this._destroyRef=B(yr,{optional:!0})??void 0),gw||(iB(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static \u0275fac=function(i){return new(i||n)(ae(Pe),ae(Ef),ae(x6))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Ef=(()=>{class n{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return gw?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function iB(n){gw=n}var gw;function Il(n){return!!n&&typeof n.then=="function"}function vw(n){return!!n&&typeof n.subscribe=="function"}var Df=new ue("");function Ah(n){return W1([{provide:Df,multi:!0,useValue:n}])}var yw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=B(Df,{optional:!0})??[];injector=B(Ve);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=er(this.injector,r);if(Il(o))e.push(o);else if(vw(o)){let a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),If=new ue("");function rB(){Sx(()=>{let n="";throw new se(600,n)})}function oB(n){return n.isBoundToModule}var u6e=10;var _i=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=B(Mo);afterRenderManager=B(KS);zonelessEnabled=B(lf);rootEffectScheduler=B(cf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new me;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=B(X1);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ke(e=>!e))}constructor(){B(Dc,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=B(An);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=Ve.NULL){return this._injector.get(Pe).run(()=>{xn(10);let a=e instanceof wh;if(!this._injector.get(yw).done){let v="";throw new se(405,v)}let l;a?l=e:l=this._injector.get(Ic).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let c=oB(l)?void 0:this._injector.get(K1),u=i||l.selector,d=l.create(r,[],u,c),f=d.location.nativeElement,m=d.injector.get(Lh,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),df(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),xn(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(bh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new se(101,!1);let e=ft(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ft(e),this.afterTick.next(),xn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<u6e;)xn(14),this.synchronizeOnce(),xn(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!af(r))continue;let o=i&&!this.zonelessEnabled?0:1;kF(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>af(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;df(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(If,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>df(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new se(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function df(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Mn(n,t,e,i){let r=Ze(),o=t2();if(lo(r,o,t)){let a=On(),s=o6();P3e(s,r,n,t,e,i)}return Mn}var h$e=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Gt(n,t,e,i,r,o,a,s){Ta("NgControlFlow");let l=Ze(),c=On(),u=m1(c.consts,o);return Eh(l,c,n,t,e,i,r,u,256,a,s),_w}function _w(n,t,e,i,r,o,a,s){Ta("NgControlFlow");let l=Ze(),c=On(),u=m1(c.consts,o);return Eh(l,c,n,t,e,i,r,u,512,a,s),_w}function Wt(n,t){Ta("NgControlFlow");let e=Ze(),i=t2(),r=e[i]!==Ar?e[i]:-1,o=r!==-1?CR(e,Wn+r):void 0,a=0;if(lo(e,i,n)){let s=ft(null);try{if(o!==void 0&&n4e(o,a),n!==-1){let l=Wn+n,c=CR(e,l),u=d6e(e[rt],l),d=u4e(c,u,e),f=cw(e,u,t,{dehydratedView:d});dw(c,f,a,nh(u,d))}}finally{ft(s)}}else if(o!==void 0){let s=t4e(o,a);s!==void 0&&(s[vr]=t)}}function CR(n,t){return n[t]}function d6e(n,t){return rf(n,t)}function x(n,t,e){let i=Ze(),r=t2();if(lo(i,r,t)){let o=On(),a=o6();EF(a,i,n,t,i[wn],e)}return x}function ES(n,t,e,i,r){sw(t,n,e,r?"class":"style",i)}function p(n,t,e,i){let r=Ze(),o=r[rt],a=n+Wn,s=o.firstCreatePass?fw(a,r,2,t,rw,Im(),e,i):o.data[a];if(ow(s,r,n,t,aB),t6(s)){let l=r[rt];Ch(l,r,s),OS(l,s,r)}return i!=null&&wf(r,s),p}function h(){let n=On(),t=Ai(),e=aw(t);return n.firstCreatePass&&pw(n,e),LC(e)&&AC(),DC(),e.classesWithoutHost!=null&&G0e(e)&&ES(n,e,Ze(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&W0e(e)&&ES(n,e,Ze(),e.stylesWithoutHost,!1),h}function O(n,t,e,i){return p(n,t,e,i),h(),O}function es(n,t,e,i){let r=Ze(),o=r[rt],a=n+Wn,s=o.firstCreatePass?x4e(a,o,2,t,e,i):o.data[a];return ow(s,r,n,t,aB),i!=null&&wf(r,s),es}function l2(){let n=Ai(),t=aw(n);return LC(t)&&AC(),DC(),l2}function C6(n,t,e,i){return es(n,t,e,i),l2(),C6}var aB=(n,t,e,i,r)=>(sf(!0),oF(t[wn],i,GO()));function At(n,t,e){let i=Ze(),r=i[rt],o=n+Wn,a=r.firstCreatePass?fw(o,i,8,"ng-container",rw,Im(),t,e):r.data[o];if(ow(a,i,n,"ng-container",f6e),t6(a)){let s=i[rt];Ch(s,i,a),OS(s,a,i)}return e!=null&&wf(i,a),At}function zt(){let n=On(),t=Ai(),e=aw(t);return n.firstCreatePass&&pw(n,e),zt}var f6e=(n,t,e,i,r)=>(sf(!0),Fce(t[wn],""));function ee(){return Ze()}function Ll(n,t,e){let i=Ze(),r=t2();if(lo(i,r,t)){let o=On(),a=o6();iw(a,i,n,t,i[wn],e)}return Ll}function zh(n,t,e){let i=Ze(),r=t2();if(lo(i,r,t)){let o=On(),a=o6(),s=OC(o.data),l=F3e(s,a,i);iw(a,i,n,t,l,e)}return zh}var Vm=void 0;function p6e(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var m6e=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vm,"{1} 'at' {0}",Vm],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",p6e],ff={};function bw(n,t,e){typeof t!="string"&&(e=t,t=n[qn.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ff[t]=n,e&&(ff[t][qn.ExtraData]=e)}function co(n){let t=h6e(n),e=SR(t);if(e)return e;let i=t.split("-")[0];if(e=SR(i),e)return e;if(i==="en")return m6e;throw new se(701,!1)}function SR(n){return n in ff||(ff[n]=Vi.ng&&Vi.ng.common&&Vi.ng.common.locales&&Vi.ng.common.locales[n]),ff[n]}var qn=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(qn||{});function h6e(n){return n.toLowerCase().replace(/_/g,"-")}var Lf="en-US",g6e="USD";var v6e=Lf;function sB(n){typeof n=="string"&&(v6e=n.toLowerCase().replace(/_/g,"-"))}function z(n,t,e){let i=Ze(),r=On(),o=Ai();return lB(r,i,i[wn],o,n,t,e),z}function kh(n,t,e){let i=Ze(),r=On(),o=Ai();return(o.type&3||e)&&qF(o,r,i,e,i[wn],n,t,qm(o,i,t)),kh}function lB(n,t,e,i,r,o,a){let s=!0,l=null;if((i.type&3||a)&&(l??=qm(i,t,o),qF(i,n,t,a,e,r,o,l)&&(s=!1)),s){let c=i.outputs?.[r],u=i.hostDirectiveOutputs?.[r];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],m=u[d+1];l??=qm(i,t,o),yR(i,t,f,m,r,l)}if(c&&c.length)for(let d of c)l??=qm(i,t,o),yR(i,t,d,r,r,l)}}function M(n=1){return jO(n)}function y6e(n,t){let e=null,i=Yce(n);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){e=r;continue}if(i===null?dF(n,o,!0):Qce(i,o))return r}return e}function y1(n){let t=Ze()[wo][so];if(!t.projection){let e=n?n.length:1,i=t.projection=_O(e,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let a=n?y6e(o,n):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o)}o=o.next}}}function Ea(n,t=0,e,i,r,o){let a=Ze(),s=On(),l=i?n+1:null;l!==null&&Eh(a,s,l,i,r,o,null,e);let c=y6(s,Wn+n,16,null,e||null);c.projection===null&&(c.projection=t),NC();let d=!a[K4]||IC();a[wo][so].projection[c.projection]===null&&l!==null?_6e(a,s,l):d&&!gh(c)&&w3e(s,a,c)}function _6e(n,t,e){let i=Wn+e,r=t.data[i],o=n[i],a=yS(o,r.tView.ssrId),s=cw(n,r,void 0,{dehydratedView:a});dw(o,s,0,nh(r,a))}function Lc(n,t,e,i){q4e(n,t,e,i)}function Rn(n,t,e){W4e(n,t,e)}function an(n){let t=Ze(),e=On(),i=RC();zm(i+1);let r=hw(e,i);if(n.dirty&&TO(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=Z4e(t,i);n.reset(o,rce),n.notifyOnChanges()}return!0}return!1}function sn(){return G4e(Ze(),RC())}function pn(n){let t=NO();return of(t,Wn+n)}function Um(n,t){return n<<17|t<<2}function Tc(n){return n>>17&32767}function b6e(n){return(n&2)==2}function x6e(n,t){return n&131071|t<<17}function DS(n){return n|2}function m6(n){return(n&131068)>>2}function ZC(n,t){return n&-131069|t<<2}function C6e(n){return(n&1)===1}function IS(n){return n|1}function S6e(n,t,e,i,r,o){let a=o?t.classBindings:t.styleBindings,s=Tc(a),l=m6(a);n[i]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||X4(d,u)>0)&&(c=!0)}else u=e;if(r)if(l!==0){let f=Tc(n[s+1]);n[i+1]=Um(f,s),f!==0&&(n[f+1]=ZC(n[f+1],i)),n[s+1]=x6e(n[s+1],i)}else n[i+1]=Um(s,0),s!==0&&(n[s+1]=ZC(n[s+1],i)),s=i;else n[i+1]=Um(l,0),s===0?s=i:n[l+1]=ZC(n[l+1],i),l=i;c&&(n[i+1]=DS(n[i+1])),wR(n,u,i,!0),wR(n,u,i,!1),w6e(t,u,n,i,o),a=Um(s,l),o?t.classBindings=a:t.styleBindings=a}function w6e(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&X4(o,t)>=0&&(e[i+1]=IS(e[i+1]))}function wR(n,t,e,i){let r=n[e+1],o=t===null,a=i?Tc(r):m6(r),s=!1;for(;a!==0&&(s===!1||o);){let l=n[a],c=n[a+1];M6e(l,t)&&(s=!0,n[a+1]=i?IS(c):DS(c)),a=i?Tc(c):m6(c)}s&&(n[e+1]=i?DS(r):IS(r))}function M6e(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?X4(n,t)>=0:!1}var g1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function T6e(n){return n.substring(g1.key,g1.keyEnd)}function E6e(n){return D6e(n),cB(n,uB(n,0,g1.textEnd))}function cB(n,t){let e=g1.textEnd;return e===t?-1:(t=g1.keyEnd=I6e(n,g1.key=t,e),uB(n,t,e))}function D6e(n){g1.key=0,g1.keyEnd=0,g1.value=0,g1.valueEnd=0,g1.textEnd=n.length}function uB(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function I6e(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function Da(n,t,e){return dB(n,t,e,!1),Da}function Ce(n,t){return dB(n,t,null,!0),Ce}function Fn(n){A6e(R6e,L6e,n,!0)}function L6e(n,t){for(let e=E6e(t);e>=0;e=cB(t,e))Sm(n,T6e(t),!0)}function dB(n,t,e,i){let r=Ze(),o=On(),a=Lm(2);if(o.firstUpdatePass&&pB(o,n,a,i),t!==Ar&&lo(r,a,t)){let s=o.data[n2()];mB(o,s,r,r[wn],n,r[a+1]=B6e(t,e),i,a)}}function A6e(n,t,e,i){let r=On(),o=Lm(2);r.firstUpdatePass&&pB(r,null,o,i);let a=Ze();if(e!==Ar&&lo(a,o,e)){let s=r.data[n2()];if(hB(s,i)&&!fB(r,o)){let l=i?s.classesWithoutHost:s.stylesWithoutHost;l!==null&&(e=_m(l,e||"")),ES(r,s,a,e,i)}else F6e(r,s,a,a[wn],a[o+1],a[o+1]=O6e(n,t,e),i,o)}}function fB(n,t){return t>=n.expandoStartIndex}function pB(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[n2()],a=fB(n,e);hB(o,i)&&t===null&&!a&&(t=!1),t=z6e(r,o,t,i),S6e(r,o,t,e,a,i)}}function z6e(n,t,e,i){let r=OC(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=XC(null,n,t,e,i),e=vf(e,t.attrs,i),o=null);else{let a=t.directiveStylingLast;if(a===-1||n[a]!==r)if(e=XC(r,n,t,e,i),o===null){let l=k6e(n,t,i);l!==void 0&&Array.isArray(l)&&(l=XC(null,n,t,l[1],i),l=vf(l,t.attrs,i),N6e(n,t,i,l))}else o=P6e(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function k6e(n,t,e){let i=e?t.classBindings:t.styleBindings;if(m6(i)!==0)return n[Tc(i)]}function N6e(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[Tc(r)]=i}function P6e(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let a=n[o].hostAttrs;i=vf(i,a,e)}return vf(i,t.attrs,e)}function XC(n,t,e,i,r){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=t[s],i=vf(i,o.hostAttrs,r),o!==n);)s++;return n!==null&&(e.directiveStylingLast=s),i}function vf(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?r=a:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Sm(n,a,e?!0:t[++o]))}return n===void 0?null:n}function O6e(n,t,e){if(e==null||e==="")return ao;let i=[],r=To(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function R6e(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&Sm(n,i,e)}function F6e(n,t,e,i,r,o,a,s){r===Ar&&(r=ao);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<r.length?r[l+1]:void 0,m=c<o.length?o[c+1]:void 0,v=null,_;u===d?(l+=2,c+=2,f!==m&&(v=d,_=m)):d===null||u!==null&&u<d?(l+=2,v=u):(c+=2,v=d,_=m),v!==null&&mB(n,t,e,i,v,_,a,s),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function mB(n,t,e,i,r,o,a,s){if(!(t.type&3))return;let l=n.data,c=l[s+1],u=C6e(c)?MR(l,t,e,r,m6(c),a):void 0;if(!uh(u)){uh(o)||b6e(c)&&(o=MR(l,null,e,r,s,a));let d=xC(n2(),e);T3e(i,a,d,r,o)}}function MR(n,t,e,i,r,o){let a=t===null,s;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=e[r+1];f===Ar&&(f=d?ao:void 0);let m=d?wm(f,i):u===i?f:void 0;if(c&&!uh(m)&&(m=wm(l,i)),uh(m)&&(s=m,a))return s;let v=n[r+1];r=a?Tc(v):m6(v)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(s=wm(l,i))}return s}function uh(n){return n!==void 0}function B6e(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Qs(To(n)))),n}function hB(n,t){return(n.flags&(t?8:16))!==0}function y(n,t=""){let e=Ze(),i=On(),r=n+Wn,o=i.firstCreatePass?y6(i,r,1,t,null):i.data[r],a=V6e(i,e,o,t,n);e[r]=a,Pm()&&tw(i,e,a,o),i6(o,!1)}var V6e=(n,t,e,i,r)=>(sf(!0),Oce(t[wn],i));function gB(n,t,e,i=""){return lo(n,t2(),e)?t+Ks(e)+i:Ar}function U6e(n,t,e,i,r,o=""){let a=PO(),s=hf(n,a,e,r);return Lm(2),s?t+Ks(e)+i+Ks(r)+o:Ar}function j(n){return H("",n),j}function H(n,t,e){let i=Ze(),r=gB(i,n,t,e);return r!==Ar&&vB(i,n2(),r),H}function Bn(n,t,e,i,r){let o=Ze(),a=U6e(o,n,t,e,i,r);return a!==Ar&&vB(o,n2(),a),Bn}function vB(n,t,e){let i=xC(t,n);Rce(n[wn],i,e)}function _t(n,t,e){UC(t)&&(t=t());let i=Ze(),r=t2();if(lo(i,r,t)){let o=On(),a=o6();EF(a,i,n,t,i[wn],e)}return _t}function Mt(n,t){let e=UC(n);return e&&n.set(t),e}function bt(n,t){let e=Ze(),i=On(),r=Ai();return lB(i,e,e[wn],r,n,t),bt}function S6(n){return lo(Ze(),t2(),n)?Ks(n):Ar}function Al(n,t,e=""){return gB(Ze(),n,t,e)}function H6e(n,t,e){let i=On();if(i.firstCreatePass){let r=f1(n);LS(e,i.data,i.blueprint,r,!0),LS(t,i.data,i.blueprint,r,!1)}}function LS(n,t,e,i,r){if(n=gr(n),Array.isArray(n))for(let o=0;o<n.length;o++)LS(n[o],t,e,i,r);else{let o=On(),a=Ze(),s=Ai(),l=hc(n)?n:gr(n.provide),c=pC(n),u=s.providerIndexes&1048575,d=s.directiveStart,f=s.providerIndexes>>20;if(hc(n)||!n.multi){let m=new Mc(c,r,V,null),v=KC(l,t,r?u:u+f,d);v===-1?(eS(Qm(s,a),o,l),QC(o,n,t.length),t.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(m),a.push(m)):(e[v]=m,a[v]=m)}else{let m=KC(l,t,u+f,d),v=KC(l,t,u,u+f),_=m>=0&&e[m],b=v>=0&&e[v];if(r&&!b||!r&&!_){eS(Qm(s,a),o,l);let C=W6e(r?G6e:j6e,e.length,r,i,c,n);!r&&b&&(e[v].providerFactory=C),QC(o,n,t.length,0),t.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(C),a.push(C)}else{let C=yB(e[r?v:m],c,!r&&i);QC(o,n,m>-1?m:v,C)}!r&&i&&b&&e[v].componentProviders++}}}function QC(n,t,e,i){let r=hc(t),o=wO(t);if(r||o){let l=(o?gr(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function yB(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function KC(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function j6e(n,t,e,i,r){return AS(this.multi,[])}function G6e(n,t,e,i,r){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=pf(i,i[rt],this.providerFactory.index,r);a=l.slice(0,s),AS(o,a);for(let c=s;c<l.length;c++)a.push(l[c])}else a=[],AS(o,a);return a}function AS(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function W6e(n,t,e,i,r,o){let a=new Mc(n,e,V,null);return a.multi=[],a.index=t,a.componentProviders=0,yB(a,r,i&&!e),a}function ei(n,t=[]){return e=>{e.providersResolver=(i,r)=>H6e(i,r?r(n):n,t)}}function Ac(n,t,e){let i=Z1()+n,r=Ze();return r[i]===Ar?_6(r,i,e?t.call(e):t()):GF(r,i)}function bi(n,t,e,i){return _B(Ze(),Z1(),n,t,e,i)}function Qe(n,t,e,i,r){return bB(Ze(),Z1(),n,t,e,i,r)}function mn(n,t,e,i,r,o){return q6e(Ze(),Z1(),n,t,e,i,r,o)}function xw(n,t,e,i,r,o,a){return xB(Ze(),Z1(),n,t,e,i,r,o,a)}function Cw(n,t,e,i,r,o,a,s){let l=Z1()+n,c=Ze(),u=WF(c,l,e,i,r,o);return lo(c,l+4,a)||u?_6(c,l+5,s?t.call(s,e,i,r,o,a):t(e,i,r,o,a)):GF(c,l+5)}function Nh(n,t){let e=n[t];return e===Ar?void 0:e}function _B(n,t,e,i,r,o){let a=t+e;return lo(n,a,r)?_6(n,a+1,o?i.call(o,r):i(r)):Nh(n,a+1)}function bB(n,t,e,i,r,o,a){let s=t+e;return hf(n,s,r,o)?_6(n,s+2,a?i.call(a,r,o):i(r,o)):Nh(n,s+2)}function q6e(n,t,e,i,r,o,a,s){let l=t+e;return C4e(n,l,r,o,a)?_6(n,l+3,s?i.call(s,r,o,a):i(r,o,a)):Nh(n,l+3)}function xB(n,t,e,i,r,o,a,s,l){let c=t+e;return WF(n,c,r,o,a,s)?_6(n,c+4,l?i.call(l,r,o,a,s):i(r,o,a,s)):Nh(n,c+4)}function $(n,t){let e=On(),i,r=n+Wn;e.firstCreatePass?(i=$6e(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=gl(i.type,!0)),a,s=oo(V);try{let l=Xm(!1),c=o();return Xm(l),CC(e,Ze(),r,c),c}finally{oo(s)}}function $6e(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function Do(n,t,e){let i=n+Wn,r=Ze(),o=of(r,i);return Sw(r,i)?_B(r,Z1(),t,o.transform,e,o):o.transform(e)}function X(n,t,e,i){let r=n+Wn,o=Ze(),a=of(o,r);return Sw(o,r)?bB(o,Z1(),t,a.transform,e,i,a):a.transform(e,i)}function lt(n,t,e,i,r,o){let a=n+Wn,s=Ze(),l=of(s,a);return Sw(s,a)?xB(s,Z1(),t,l.transform,e,i,r,o,l):l.transform(e,i,r,o)}function Sw(n,t){return n[rt].data[t].pure}function Tn(n,t){return Sh(n,t)}var dh=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},ww=(()=>{class n{compileModuleSync(e){return new ch(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=cC(e),o=cF(r.declarations).reduce((a,s)=>{let l=G1(s);return l&&a.push(new Tl(l)),a},[]);return new dh(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Y6e=(()=>{class n{zone=B(Pe);changeDetectionScheduler=B(u1);applicationRef=B(_i);applicationErrorHandler=B(Mo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function CB({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Pe(De(Q({},SB()),{scheduleInRootZone:e})),[{provide:Pe,useFactory:n},{provide:Js,multi:!0,useFactory:()=>{let i=B(Y6e,{optional:!0});return()=>i.initialize()}},{provide:Js,multi:!0,useFactory:()=>{let i=B(Z6e);return()=>{i.initialize()}}},t===!0?{provide:HC,useValue:!0}:[],{provide:jC,useValue:e??hF},{provide:Mo,useFactory:()=>{let i=B(Pe),r=B(An),o;return a=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw a}):(o??=r.get(ta),o.handleError(a))})}}}]}function SB(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Z6e=(()=>{class n{subscription=new Et;initialized=!1;zone=B(Pe);pendingTasks=B(X1);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wB=(()=>{class n{applicationErrorHandler=B(Mo);appRef=B(_i);taskService=B(X1);ngZone=B(Pe);zonelessEnabled=B(lf);tracing=B(Dc,{optional:!0});disableScheduling=B(HC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(jC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof eh||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let i=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?lR:gF;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lR(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function X6e(){return typeof $localize<"u"&&$localize.locale||Lf}var ts=new ue("",{providedIn:"root",factory:()=>B(ts,{optional:!0,skipSelf:!0})||X6e()}),Mw=new ue("",{providedIn:"root",factory:()=>g6e});var Ph=class{destroyed=!1;listeners=null;errorHandler=B(ta,{optional:!0});destroyRef=B(yr);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new se(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let e=this.listeners?.indexOf(t);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(t){if(this.destroyed){console.warn(xa(953,!1));return}if(this.listeners===null)return;let e=ft(null);try{for(let i of this.listeners)try{i(t)}catch(r){this.errorHandler?.handleError(r)}}finally{ft(e)}}};function Hi(n){return sO(n)}function c2(n,t){return F7(n,t?.equal)}var Tw=class{[hr];constructor(t){this[hr]=t}destroy(){this[hr].destroy()}};function w6(n,t){let e=t?.injector??B(Ve),i=t?.manualCleanup!==!0?e.get(yr):null,r,o=e.get(s6,null,{optional:!0}),a=e.get(u1);return o!==null?(r=J6e(o.view,a,n),i instanceof Xd&&i._lView===o.view&&(i=null)):r=eue(n,e.get(cf),a),r.injector=e,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new Tw(r)}var MB=De(Q({},lO),{cleanupFns:void 0,zone:null,onDestroyFn:Sc,run(){let n=r6(!1);try{cO(this)}finally{r6(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=ft(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ft(n)}}}),Q6e=De(Q({},MB),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ac(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),K6e=De(Q({},MB),{consumerMarkedDirty(){this.view[pt]|=8192,Sl(this.view),this.notifier.notify(13)},destroy(){ac(this),this.onDestroyFn(),this.cleanup(),this.view[e2]?.delete(this)}});function J6e(n,t,e){let i=Object.create(K6e);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=TB(i,e),n[e2]??=new Set,n[e2].add(i),i.consumerMarkedDirty(i),i}function eue(n,t,e){let i=Object.create(Q6e);return i.fn=TB(i,n),i.scheduler=t,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function TB(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}var Bh=Symbol("InputSignalNode#UNSET"),NB=De(Q({},B7),{transformFn:void 0,applyValueToInputSignal(n,t){sc(n,t)}});function PB(n,t){let e=Object.create(NB);e.value=n,e.transformFn=t?.transform;function i(){if(rc(e),e.value===Bh){let r=null;throw new se(-950,r)}return e.value}return i[hr]=e,i}var Rh=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>_f(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},lue=new ue("");lue.__NG_ELEMENT_ID__=n=>{let t=Ai();if(t===null)throw new se(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new se(204,!1)};function EB(n,t){return PB(n,t)}function cue(n){return PB(Bh,n)}var M6=(EB.required=cue,EB);function OB(n,t){let e=Object.create(NB),i=new Ph;e.value=n;function r(){return rc(e),DB(e.value),e.value}return r[hr]=e,r.asReadonly=Om.bind(r),r.set=o=>{e.equal(e.value,o)||(sc(e,o),i.emit(o))},r.update=o=>{DB(e.value),r.set(o(e.value))},r.subscribe=i.subscribe.bind(i),r.destroyRef=i.destroyRef,r}function DB(n){if(n===Bh)throw new se(952,!1)}function IB(n,t){return OB(n,t)}function uue(n){return OB(Bh,n)}var uo=(IB.required=uue,IB);var Ew=new ue(""),due=new ue("");function Af(n){return!n.moduleRef}function fue(n){let t=Af(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Pe);return e.run(()=>{Af(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(Mo),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),Af(n)){let o=()=>t.destroy(),a=n.platformInjector.get(Ew);a.add(o),t.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Ew);a.add(o),n.moduleRef.onDestroy(()=>{df(n.allPlatformModules,n.moduleRef),r.unsubscribe(),a.delete(o)})}return mue(i,e,()=>{let o=t.get(X1),a=o.add(),s=t.get(yw);return s.runInitializers(),s.donePromise.then(()=>{let l=t.get(ts,Lf);if(sB(l||Lf),!t.get(due,!0))return Af(n)?t.get(_i):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Af(n)){let u=t.get(_i);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return pue?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(a))})})}var pue;function mue(n,t,e){try{let i=e();return Il(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var Oh=null;function hue(n=[],t){return Ve.create({name:t,providers:[{provide:Jd,useValue:"platform"},{provide:Ew,useValue:new Set([()=>Oh=null])},...n]})}function gue(n=[]){if(Oh)return Oh;let t=hue(n);return Oh=t,rB(),vue(t),t}function vue(n){let t=n.get(fh,null);er(n,()=>{t?.forEach(e=>e())})}var xi=(()=>{class n{static __NG_ELEMENT_ID__=yue}return n})();function yue(n){return _ue(Ai(),Ze(),(n&16)===16)}function _ue(n,t,e){if(Cl(n)&&!e){let i=Ma(n.index,t);return new Ml(i,i)}else if(n.type&175){let i=t[wo];return new Ml(i,t)}return null}var Dw=class{constructor(){}supports(t){return mw(t)}create(t){return new Iw(t)}},bue=(n,t)=>t,Iw=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||bue}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let a=!i||e&&e.currentIndex<LB(i,r,o)?e:i,s=LB(a,r,o),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,a.previousIndex==null)r++;else{o||(o=[]);let c=s-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let m=f<o.length?o[f]:o[f]=0,v=m+f;u<=v&&v<c&&(o[f]=m+1)}let d=a.previousIndex;o[d]=u-c}}s!==l&&t(a,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!mw(t))throw new se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,o,a;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)o=t[s],a=this._trackByFn(s,o),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,o,a,s),i=!0):(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,jF(t,s=>{a=this._trackByFn(r,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,r),i=!0):(i&&(e=this._verifyReinsertion(e,s,a,r)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Lw(e,i),o,r)),t}_verifyReinsertion(t,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Fh),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Lw=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Aw=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Fh=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new Aw,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function LB(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}var zw=class{constructor(){}supports(t){return t instanceof Map||Mh(t)}create(){return new kw}},kw=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Mh(t)))throw new se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,e);let o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}let i=new Nw(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}},Nw=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function AB(){return new Vh([new Dw])}var Vh=(()=>{class n{factories;static \u0275prov=K({token:n,providedIn:"root",factory:AB});constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=B(n,{optional:!0,skipSelf:!0});return n.create(e,i||AB())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new se(901,!1)}}return n})();function zB(){return new Ow([new zw])}var Ow=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:zB});factories;constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=B(n,{optional:!0,skipSelf:!0});return n.create(e,i||zB())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new se(901,!1)}}return n})();var RB=(()=>{class n{constructor(e){}static \u0275fac=function(i){return new(i||n)(ae(_i))};static \u0275mod=gt({type:n});static \u0275inj=mt({})}return n})();function FB(n){let{rootComponent:t,appProviders:e,platformProviders:i,platformRef:r}=n;xn(8);try{let o=r?.injector??gue(i),a=[CB({}),{provide:u1,useExisting:wB},qO,...e||[]],s=new gf({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return fue({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{xn(9)}}function oi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function zf(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}function Uh(n,t){let e=G1(n),i=t.elementInjector||Q4();return new Tl(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}function BB(n){let t=G1(n);if(!t)return null;let e=new Tl(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var HB=null;function ia(){return HB}function Rw(n){HB??=n}var kf=class{},Nf=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>B(jB),providedIn:"platform"})}return n})(),Fw=new ue(""),jB=(()=>{class n extends Nf{_location;_history;_doc=B(Te);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(e){let i=ia().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=ia().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Hh(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function VB(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function _1(n){return n&&n[0]!=="?"?`?${n}`:n}var b1=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>B(Gh),providedIn:"root"})}return n})(),jh=new ue(""),Gh=(()=>{class n extends b1{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Hh(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+_1(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+_1(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+_1(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ae(Nf),ae(jh,8))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ns=(()=>{class n{_subject=new me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=Sue(VB(UB(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+_1(i))}normalize(e){return n.stripTrailingSlash(Cue(this._basePath,UB(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_1(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_1(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=_1;static joinWithSlash=Hh;static stripTrailingSlash=VB;static \u0275fac=function(i){return new(i||n)(ae(b1))};static \u0275prov=K({token:n,factory:()=>xue(),providedIn:"root"})}return n})();function xue(){return new ns(ae(b1))}function Cue(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function UB(n){return n.replace(/\/index.html$/,"")}function Sue(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Ww=(()=>{class n extends b1{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=Hh(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+_1(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+_1(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ae(Nf),ae(jh,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),XB={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Bf=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Bf||{});var zr=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(zr||{}),En=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(En||{}),Io=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Io||{}),Ci={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function QB(n){return co(n)[qn.LocaleId]}function KB(n,t,e){let i=co(n),r=[i[qn.DayPeriodsFormat],i[qn.DayPeriodsStandalone]],o=Ia(r,t);return Ia(o,e)}function JB(n,t,e){let i=co(n),r=[i[qn.DaysFormat],i[qn.DaysStandalone]],o=Ia(r,t);return Ia(o,e)}function eV(n,t,e){let i=co(n),r=[i[qn.MonthsFormat],i[qn.MonthsStandalone]],o=Ia(r,t);return Ia(o,e)}function tV(n,t){let i=co(n)[qn.Eras];return Ia(i,t)}function Pf(n,t){let e=co(n);return Ia(e[qn.DateFormat],t)}function Of(n,t){let e=co(n);return Ia(e[qn.TimeFormat],t)}function Rf(n,t){let i=co(n)[qn.DateTimeFormat];return Ia(i,t)}function ra(n,t){let e=co(n),i=e[qn.NumberSymbols][t];if(typeof i>"u"){if(t===Ci.CurrencyDecimal)return e[qn.NumberSymbols][Ci.Decimal];if(t===Ci.CurrencyGroup)return e[qn.NumberSymbols][Ci.Group]}return i}function e9(n,t){return co(n)[qn.NumberFormats][t]}function wue(n){return co(n)[qn.Currencies]}function nV(n){if(!n[qn.ExtraData])throw new se(2303,!1)}function iV(n){let t=co(n);return nV(t),(t[qn.ExtraData][2]||[]).map(i=>typeof i=="string"?Bw(i):[Bw(i[0]),Bw(i[1])])}function rV(n,t,e){let i=co(n);nV(i);let r=[i[qn.ExtraData][0],i[qn.ExtraData][1]],o=Ia(r,t)||[];return Ia(o,e)||[]}function Ia(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new se(2304,!1)}function Bw(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}function oV(n,t,e="en"){let i=wue(e)[n]||XB[n]||[],r=i[1];return t==="narrow"&&typeof r=="string"?r:i[0]||n}var Mue=2;function aV(n){let t,e=XB[n];return e&&(t=e[2]),typeof t=="number"?t:Mue}var Tue=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wh={},Eue=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function sV(n,t,e,i){let r=Oue(n);t=u2(e,t)||t;let a=[],s;for(;t;)if(s=Eue.exec(t),s){a=a.concat(s.slice(1));let u=a.pop();if(!u)break;t=u}else{a.push(t);break}let l=r.getTimezoneOffset();i&&(l=cV(i,l),r=Pue(r,i));let c="";return a.forEach(u=>{let d=kue(u);c+=d?d(r,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Xh(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function u2(n,t){let e=QB(n);if(Wh[e]??={},Wh[e][t])return Wh[e][t];let i="";switch(t){case"shortDate":i=Pf(n,Io.Short);break;case"mediumDate":i=Pf(n,Io.Medium);break;case"longDate":i=Pf(n,Io.Long);break;case"fullDate":i=Pf(n,Io.Full);break;case"shortTime":i=Of(n,Io.Short);break;case"mediumTime":i=Of(n,Io.Medium);break;case"longTime":i=Of(n,Io.Long);break;case"fullTime":i=Of(n,Io.Full);break;case"short":let r=u2(n,"shortTime"),o=u2(n,"shortDate");i=qh(Rf(n,Io.Short),[r,o]);break;case"medium":let a=u2(n,"mediumTime"),s=u2(n,"mediumDate");i=qh(Rf(n,Io.Medium),[a,s]);break;case"long":let l=u2(n,"longTime"),c=u2(n,"longDate");i=qh(Rf(n,Io.Long),[l,c]);break;case"full":let u=u2(n,"fullTime"),d=u2(n,"fullDate");i=qh(Rf(n,Io.Full),[u,d]);break}return i&&(Wh[e][t]=i),i}function qh(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function x1(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function Due(n,t){return x1(n,3).substring(0,t)}function ki(n,t,e=0,i=!1,r=!1){return function(o,a){let s=Iue(n,o);if((e>0||s>-e)&&(s+=e),n===3)s===0&&e===-12&&(s=12);else if(n===6)return Due(s,t);let l=ra(a,Ci.MinusSign);return x1(s,t,l,i,r)}}function Iue(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new se(2301,!1)}}function Vn(n,t,e=zr.Format,i=!1){return function(r,o){return Lue(r,o,n,t,e,i)}}function Lue(n,t,e,i,r,o){switch(e){case 2:return eV(t,r,i)[n.getMonth()];case 1:return JB(t,r,i)[n.getDay()];case 0:let a=n.getHours(),s=n.getMinutes();if(o){let c=iV(t),u=rV(t,r,i),d=c.findIndex(f=>{if(Array.isArray(f)){let[m,v]=f,_=a>=m.hours&&s>=m.minutes,b=a<v.hours||a===v.hours&&s<v.minutes;if(m.hours<v.hours){if(_&&b)return!0}else if(_||b)return!0}else if(f.hours===a&&f.minutes===s)return!0;return!1});if(d!==-1)return u[d]}return KB(t,r,i)[a<12?0:1];case 3:return tV(t,i)[n.getFullYear()<=0?0:1];default:let l=e;throw new se(2302,!1)}}function $h(n){return function(t,e,i){let r=-1*i,o=ra(e,Ci.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+x1(a,2,o)+x1(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+x1(a,1,o);case 2:return"GMT"+(r>=0?"+":"")+x1(a,2,o)+":"+x1(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+x1(a,2,o)+":"+x1(Math.abs(r%60),2,o);default:throw new se(2310,!1)}}}var Aue=0,Zh=4;function zue(n){let t=Xh(n,Aue,1).getDay();return Xh(n,0,1+(t<=Zh?Zh:Zh+7)-t)}function lV(n){let t=n.getDay(),e=t===0?-3:Zh-t;return Xh(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Vw(n,t=!1){return function(e,i){let r;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{let o=lV(e),a=zue(o.getFullYear()),s=o.getTime()-a.getTime();r=1+Math.round(s/6048e5)}return x1(r,n,ra(i,Ci.MinusSign))}}function Yh(n,t=!1){return function(e,i){let o=lV(e).getFullYear();return x1(o,n,ra(i,Ci.MinusSign),t)}}var Uw={};function kue(n){if(Uw[n])return Uw[n];let t;switch(n){case"G":case"GG":case"GGG":t=Vn(3,En.Abbreviated);break;case"GGGG":t=Vn(3,En.Wide);break;case"GGGGG":t=Vn(3,En.Narrow);break;case"y":t=ki(0,1,0,!1,!0);break;case"yy":t=ki(0,2,0,!0,!0);break;case"yyy":t=ki(0,3,0,!1,!0);break;case"yyyy":t=ki(0,4,0,!1,!0);break;case"Y":t=Yh(1);break;case"YY":t=Yh(2,!0);break;case"YYY":t=Yh(3);break;case"YYYY":t=Yh(4);break;case"M":case"L":t=ki(1,1,1);break;case"MM":case"LL":t=ki(1,2,1);break;case"MMM":t=Vn(2,En.Abbreviated);break;case"MMMM":t=Vn(2,En.Wide);break;case"MMMMM":t=Vn(2,En.Narrow);break;case"LLL":t=Vn(2,En.Abbreviated,zr.Standalone);break;case"LLLL":t=Vn(2,En.Wide,zr.Standalone);break;case"LLLLL":t=Vn(2,En.Narrow,zr.Standalone);break;case"w":t=Vw(1);break;case"ww":t=Vw(2);break;case"W":t=Vw(1,!0);break;case"d":t=ki(2,1);break;case"dd":t=ki(2,2);break;case"c":case"cc":t=ki(7,1);break;case"ccc":t=Vn(1,En.Abbreviated,zr.Standalone);break;case"cccc":t=Vn(1,En.Wide,zr.Standalone);break;case"ccccc":t=Vn(1,En.Narrow,zr.Standalone);break;case"cccccc":t=Vn(1,En.Short,zr.Standalone);break;case"E":case"EE":case"EEE":t=Vn(1,En.Abbreviated);break;case"EEEE":t=Vn(1,En.Wide);break;case"EEEEE":t=Vn(1,En.Narrow);break;case"EEEEEE":t=Vn(1,En.Short);break;case"a":case"aa":case"aaa":t=Vn(0,En.Abbreviated);break;case"aaaa":t=Vn(0,En.Wide);break;case"aaaaa":t=Vn(0,En.Narrow);break;case"b":case"bb":case"bbb":t=Vn(0,En.Abbreviated,zr.Standalone,!0);break;case"bbbb":t=Vn(0,En.Wide,zr.Standalone,!0);break;case"bbbbb":t=Vn(0,En.Narrow,zr.Standalone,!0);break;case"B":case"BB":case"BBB":t=Vn(0,En.Abbreviated,zr.Format,!0);break;case"BBBB":t=Vn(0,En.Wide,zr.Format,!0);break;case"BBBBB":t=Vn(0,En.Narrow,zr.Format,!0);break;case"h":t=ki(3,1,-12);break;case"hh":t=ki(3,2,-12);break;case"H":t=ki(3,1);break;case"HH":t=ki(3,2);break;case"m":t=ki(4,1);break;case"mm":t=ki(4,2);break;case"s":t=ki(5,1);break;case"ss":t=ki(5,2);break;case"S":t=ki(6,1);break;case"SS":t=ki(6,2);break;case"SSS":t=ki(6,3);break;case"Z":case"ZZ":case"ZZZ":t=$h(0);break;case"ZZZZZ":t=$h(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$h(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=$h(2);break;default:return null}return Uw[n]=t,t}function cV(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Nue(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function Pue(n,t,e){let r=n.getTimezoneOffset(),o=cV(t,r);return Nue(n,-1*(o-r))}function Oue(n){if(GB(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,a=1]=n.split("-").map(s=>+s);return Xh(r,o-1,a)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Tue))return Rue(i)}let t=new Date(n);if(!GB(t))throw new se(2311,!1);return t}function Rue(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-e,s=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,a,s,l,c),t}function GB(n){return n instanceof Date&&!isNaN(n.valueOf())}var Fue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,WB=22,Qh=".",Ff="0",Bue=";",Vue=",",Hw="#",qB="\xA4",Uue="%";function qw(n,t,e,i,r,o,a=!1){let s="",l=!1;if(!isFinite(n))s=ra(e,Ci.Infinity);else{let c=jue(n);a&&(c=Hue(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){let w=o.match(Fue);if(w===null)throw new se(2306,!1);let E=w[1],D=w[3],L=w[5];E!=null&&(u=jw(E)),D!=null&&(d=jw(D)),L!=null?f=jw(L):D!=null&&d>f&&(f=d)}Gue(c,d,f);let m=c.digits,v=c.integerLen,_=c.exponent,b=[];for(l=m.every(w=>!w);v<u;v++)m.unshift(0);for(;v<0;v++)m.unshift(0);v>0?b=m.splice(v,m.length):(b=m,m=[0]);let C=[];for(m.length>=t.lgSize&&C.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)C.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&C.unshift(m.join("")),s=C.join(ra(e,i)),b.length&&(s+=ra(e,r)+b.join("")),_&&(s+=ra(e,Ci.Exponential)+"+"+_)}return n<0&&!l?s=t.negPre+s+t.negSuf:s=t.posPre+s+t.posSuf,s}function uV(n,t,e,i,r){let o=e9(t,Bf.Currency),a=$w(o,ra(t,Ci.MinusSign));return a.minFrac=aV(i),a.maxFrac=a.minFrac,qw(n,a,t,Ci.CurrencyGroup,Ci.CurrencyDecimal,r).replace(qB,e).replace(qB,"").trim()}function dV(n,t,e){let i=e9(t,Bf.Percent),r=$w(i,ra(t,Ci.MinusSign));return qw(n,r,t,Ci.Group,Ci.Decimal,e,!0).replace(new RegExp(Uue,"g"),ra(t,Ci.PercentSign))}function fV(n,t,e){let i=e9(t,Bf.Decimal),r=$w(i,ra(t,Ci.MinusSign));return qw(n,r,t,Ci.Group,Ci.Decimal,e)}function $w(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(Bue),r=i[0],o=i[1],a=r.indexOf(Qh)!==-1?r.split(Qh):[r.substring(0,r.lastIndexOf(Ff)+1),r.substring(r.lastIndexOf(Ff)+1)],s=a[0],l=a[1]||"";e.posPre=s.substring(0,s.indexOf(Hw));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Ff?e.minFrac=e.maxFrac=u+1:d===Hw?e.maxFrac=u+1:e.posSuf+=d}let c=s.split(Vue);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=r.length-e.posPre.length-e.posSuf.length,d=o.indexOf(Hw);e.negPre=o.substring(0,d).replace(/'/g,""),e.negSuf=o.slice(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Hue(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function jue(n){let t=Math.abs(n)+"",e=0,i,r,o,a,s;for((r=t.indexOf(Qh))>-1&&(t=t.replace(Qh,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===Ff;o++);if(o===(s=t.length))i=[0],r=1;else{for(s--;t.charAt(s)===Ff;)s--;for(r-=o,i=[],a=0;o<=s;o++,a++)i[a]=Number(t.charAt(o))}return r>WB&&(i=i.splice(0,WB-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function Gue(n,t,e){if(t>e)throw new se(2307,!1);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(t,r),e),a=o+n.integerLen,s=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let d=a;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let d=1;d<a;d++)i[d]=0}if(s>=5)if(a-1<0){for(let d=0;d>a;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=t+n.integerLen,u=i.reduceRight(function(d,f,m,v){return f=f+d,v[m]=f<10?f:f-10,l&&(v[m]===0&&m>=c?v.pop():l=!1),f>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}function jw(n){let t=parseInt(n);if(isNaN(t))throw new se(2305,!1);return t}var Gw=/\s+/,$B=[],Oe=(()=>{class n{_ngEl;_renderer;initialClasses=$B;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(Gw):$B}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Gw):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(Gw).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(V(st),V(ci))};static \u0275dir=Fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Kh=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ae=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Kh(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let s=i.get(o);i.move(s,a),YB(s,r)}});for(let r=0,o=i.length;r<o;r++){let s=i.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);YB(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(V(Ui),V(Lr),V(Vh))};static \u0275dir=Fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function YB(n,t){n.context.$implicit=t.item}var ye=(()=>{class n{_viewContainer;_context=new Jh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ZB(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ZB(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(V(Ui),V(Lr))};static \u0275dir=Fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Jh=class{$implicit=null;ngIf=null};function ZB(n,t){if(n&&!n.createEmbeddedView)throw new se(2020,!1)}var Vf=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,o]=e.split("."),a=r.indexOf("-")===-1?void 0:v1.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(V(st),V(Ow),V(ci))};static \u0275dir=Fe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Uf(n,t){return new se(2100,!1)}var Hf=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw Uf(n,e);return e.toUpperCase()}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=s2({name:"uppercase",type:n,pure:!0})}return n})(),Wue="mediumDate",pV=new ue(""),mV=new ue(""),jf=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let a=i??this.defaultOptions?.dateFormat??Wue,s=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return sV(e,a,o||this.locale,s)}catch(a){throw Uf(n,a.message)}}static \u0275fac=function(i){return new(i||n)(V(ts,16),V(pV,24),V(mV,24))};static \u0275pipe=s2({name:"date",type:n,pure:!0})}return n})();var ln=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!Yw(e))return null;r||=this._locale;try{let o=Zw(e);return fV(o,r,i)}catch(o){throw Uf(n,o.message)}}static \u0275fac=function(i){return new(i||n)(V(ts,16))};static \u0275pipe=s2({name:"number",type:n,pure:!0})}return n})(),$n=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!Yw(e))return null;r||=this._locale;try{let o=Zw(e);return dV(o,r,i)}catch(o){throw Uf(n,o.message)}}static \u0275fac=function(i){return new(i||n)(V(ts,16))};static \u0275pipe=s2({name:"percent",type:n,pure:!0})}return n})(),Si=(()=>{class n{_locale;_defaultCurrencyCode;constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",o,a){if(!Yw(e))return null;a||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let s=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?s=oV(s,r==="symbol"?"wide":"narrow",a):s=r);try{let l=Zw(e);return uV(l,a,s,i,o)}catch(l){throw Uf(n,l.message)}}static \u0275fac=function(i){return new(i||n)(V(ts,16),V(Mw,16))};static \u0275pipe=s2({name:"currency",type:n,pure:!0})}return n})();function Yw(n){return!(n==null||n===""||n!==n)}function Zw(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new se(2309,!1);return n}var We=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({})}return n})();function Gf(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var zc=class{};function gV(n,t,e){return bw(n,t,e)}var Qw="browser";function vV(n){return n===Qw}var yV=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new Xw(B(Te),window)})}return n})(),Xw=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(De(Q({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let i=que(this.document,t);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(xa(2400,!1))}}scrollToElement(t,e){let i=t.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(De(Q({},e),{left:r-a[0],top:o-a[1]}))}};function que(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}var _V=n=>n.src,$ue=new ue("",{providedIn:"root",factory:()=>_V});var hV=/^((\s*\d+w\s*(,|$)){1,})$/;var Yue=[1,2],Zue=640;var Xue=1920,Que=1080;var kr=(()=>{class n{imageLoader=B($ue);config=Kue(B(mh));renderer=B(ci);imgElement=B(st).nativeElement;injector=B(Ve);destroyRef=B(yr);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){Ta("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let e=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&hV.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(e){if(e.ngSrc&&!e.ngSrc.isFirstChange()){let i=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(e){let i=e;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let e={src:this.ngSrc};this._renderedSrc=this.callImageLoader(e)}return this._renderedSrc}getRewrittenSrcset(){let e=hV.test(this.ngSrcset);return this.ngSrcset.split(",").filter(r=>r!=="").map(r=>{r=r.trim();let o=e?parseFloat(r):parseFloat(r)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${r}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:e}=this.config,i=e;return this.sizes?.trim()==="100vw"&&(i=e.filter(o=>o>=Zue)),i.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(e=!1){e&&(this._renderedSrc=null);let i=this.getRewrittenSrc();this.setHostAttribute("src",i);let r;return this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),r}getFixedSrcset(){return Yue.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let e=!1;return this.sizes||(e=this.width>Xue||this.height>Que),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==_V&&!e}generatePlaceholder(e){let{placeholderResolution:i}=this.config;return e===!0?`url(${this.callImageLoader({src:this.ngSrc,width:i,isPlaceholder:!0})})`:typeof e=="string"?`url(${e})`:null}shouldBlurPlaceholder(e){return!e||!e.hasOwnProperty("blur")?!0:!!e.blur}removePlaceholderOnLoad(e){let i=()=>{let a=this.injector.get(xi);r(),o(),this.placeholder=!1,a.markForCheck()},r=this.renderer.listen(e,"load",i),o=this.renderer.listen(e,"error",i);this.destroyRef.onDestroy(()=>{r(),o()}),Jue(e,i)}setHostAttribute(e,i){this.renderer.setAttribute(this.imgElement,e,i)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(i,r){i&2&&Da("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0":null)("background-size",r.placeholder?"cover":null)("background-position",r.placeholder?"50% 50%":null)("background-repeat",r.placeholder?"no-repeat":null)("background-image",r.placeholder?r.generatePlaceholder(r.placeholder):null)("filter",r.placeholder&&r.shouldBlurPlaceholder(r.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",ede],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",zf],height:[2,"height","height",zf],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",oi],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",oi],fill:[2,"fill","fill",oi],placeholder:[2,"placeholder","placeholder",tde],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[rn]})}return n})();function Kue(n){let t={};return n.breakpoints&&(t.breakpoints=n.breakpoints.sort((e,i)=>e-i)),Object.assign({},ph,n,t)}function Jue(n,t){n.complete&&n.naturalWidth&&t()}function ede(n){return typeof n=="string"?n:To(n)}function tde(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:oi(n)}var Wf=class{_doc;constructor(t){this._doc=t}manager},t9=(()=>{class n extends Wf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(ae(Te))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),i9=new ue(""),nM=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(a=>{a.manager=this});let r=e.filter(a=>!(a instanceof t9));this._plugins=r.slice().reverse();let o=e.find(a=>a instanceof t9);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new se(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(ae(i9),ae(Pe))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Kw="ng-app-id";function bV(n){for(let t of n)t.remove()}function xV(n,t){let e=t.createElement("style");return e.textContent=n,e}function nde(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Kw}="${t}"],link[${Kw}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Kw),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function eM(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var iM=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,nde(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,xV);i?.forEach(r=>this.addUsage(r,this.external,eM))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(bV(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])bV(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,xV(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,eM(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ae(Te),ae(El),ae(g6,8),ae(Ec))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Jw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rM=/%COMP%/g;var SV="%COMP%",ide=`_nghost-${SV}`,rde=`_ngcontent-${SV}`,ode=!0,ade=new ue("",{providedIn:"root",factory:()=>ode});function sde(n){return rde.replace(rM,n)}function lde(n){return ide.replace(rM,n)}function wV(n,t){return t.map(e=>e.replace(rM,n))}var Yf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,a,s,l=null,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new qf(e,a,s,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof n9?r.applyToHost(e):r instanceof $f&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case r2.Emulated:o=new n9(l,c,i,this.appId,u,a,s,d,f);break;case r2.ShadowDom:return new tM(l,c,e,i,a,s,this.nonce,d,f);default:o=new $f(l,c,i,u,a,s,d,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(ae(nM),ae(iM),ae(El),ae(ade),ae(Te),ae(Pe),ae(g6),ae(Dc,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),qf=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Jw[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(CV(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(CV(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new se(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Jw[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Jw[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(v1.DashCase|v1.Important)?t.style.setProperty(e,i,r&v1.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&v1.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=ia().getGlobalEventTarget(this.doc,t),!t))throw new se(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function CV(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var tM=class extends qf{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,o,a,s,l,c){super(t,o,a,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=wV(r.id,u);for(let f of u){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=f,this.shadowRoot.appendChild(m)}let d=r.getExternalStyles?.();if(d)for(let f of d){let m=eM(f,o);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$f=class extends qf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,a,s,l,c){super(t,o,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=c?wV(c,u):u,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&p6.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},n9=class extends $f{contentAttr;hostAttr;constructor(t,e,i,r,o,a,s,l,c){let u=r+"-"+i.id;super(t,e,i,o,a,s,l,c,u),this.contentAttr=sde(u),this.hostAttr=lde(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var r9=class n extends kf{supportsDOMEvents=!0;static makeCurrent(){Rw(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=cde();return e==null?null:ude(e)}resetBaseElement(){Zf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Gf(document.cookie,t)}},Zf=null;function cde(){return Zf=Zf||document.head.querySelector("base"),Zf?Zf.getAttribute("href"):null}function ude(n){return new URL(n,document.baseURI).pathname}var o9=class{addToWindow(t){Vi.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new se(5103,!1);return o},Vi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Vi.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let r=Vi.getAllAngularTestabilities(),o=r.length,a=function(){o--,o==0&&i()};r.forEach(s=>{s.whenStable(a)})};Vi.frameworkStabilizers||(Vi.frameworkStabilizers=[]),Vi.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let r=t.getTestability(e);return r??(i?ia().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},dde=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),MV=["alt","control","meta","shift"],fde={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pde={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},TV=(()=>{class n extends Wf{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=n.parseEventName(i),s=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),MV.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),a+=c+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,i){let r=fde[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),MV.forEach(a=>{if(a!==r){let s=pde[a];s(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(ae(Te))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function oM(n,t,e){let i=Q({rootComponent:n,platformRef:e?.platformRef},mde(t));return FB(i)}function mde(n){return{appProviders:[...EV,...n?.providers??[]],platformProviders:yde}}function hde(){r9.makeCurrent()}function gde(){return new ta}function vde(){return NS(document),document}var yde=[{provide:Ec,useValue:Qw},{provide:fh,useValue:hde,multi:!0},{provide:Te,useFactory:vde}];var _de=[{provide:x6,useClass:o9},{provide:Lh,useClass:Tf,deps:[Pe,Ef,x6]},{provide:Tf,useClass:Tf,deps:[Pe,Ef,x6]}],EV=[{provide:Jd,useValue:"root"},{provide:ta,useFactory:gde},{provide:i9,useClass:t9,multi:!0,deps:[Te]},{provide:i9,useClass:TV,multi:!0,deps:[Te]},Yf,iM,nM,{provide:vi,useExisting:Yf},{provide:zc,useClass:dde},[]],aM=(()=>{class n{constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({providers:[...EV,..._de],imports:[We,RB]})}return n})();var D6=class{},Xf=class{},zl=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var s9=class{encodeKey(t){return DV(t)}encodeValue(t){return DV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function bde(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var xde=/%(\d[a-f0-9])/gi,Cde={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DV(n){return encodeURIComponent(n).replace(xde,(t,e)=>Cde[e]??t)}function a9(n){return`${n}`}var d2=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new s9,t.fromString){if(t.fromObject)throw new se(2805,!1);this.map=bde(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(a9):[a9(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(a9(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(a9(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var l9=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Sde(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function IV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LV(n){return typeof Blob<"u"&&n instanceof Blob}function AV(n){return typeof FormData<"u"&&n instanceof FormData}function wde(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var zV="Content-Type",kV="Accept",PV="X-Request-URL",OV="text/plain",RV="application/json",Mde=`${RV}, ${OV}, */*`,T6=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(Sde(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new se(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new zl,this.context??=new l9,!this.params)this.params=new d2,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||IV(this.body)||LV(this.body)||AV(this.body)||wde(this.body)?this.body:this.body instanceof d2?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||AV(this.body)?null:LV(this.body)?this.body.type||null:IV(this.body)?null:typeof this.body=="string"?OV:this.body instanceof d2?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?RV:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,a=t.priority||this.priority,s=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.referrer||this.referrer,f=t.integrity||this.integrity,m=t.transferCache??this.transferCache,v=t.timeout??this.timeout,_=t.body!==void 0?t.body:this.body,b=t.withCredentials??this.withCredentials,C=t.reportProgress??this.reportProgress,w=t.headers||this.headers,E=t.params||this.params,D=t.context??this.context;return t.setHeaders!==void 0&&(w=Object.keys(t.setHeaders).reduce((L,P)=>L.set(P,t.setHeaders[P]),w)),t.setParams&&(E=Object.keys(t.setParams).reduce((L,P)=>L.set(P,t.setParams[P]),E)),new n(e,i,_,{params:E,headers:w,context:D,reportProgress:C,responseType:r,withCredentials:b,transferCache:m,keepalive:o,cache:s,priority:a,timeout:v,mode:l,redirect:c,credentials:u,referrer:d,integrity:f})}},kc=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(kc||{}),I6=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,i="OK"){this.headers=t.headers||new zl,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},c9=class n extends I6{constructor(t={}){super(t)}type=kc.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Qf=class n extends I6{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=kc.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},E6=class extends I6{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Tde=200,Ede=204;function sM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var kl=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof T6)o=e;else{let l;r.headers instanceof zl?l=r.headers:l=new zl(r.headers);let c;r.params&&(r.params instanceof d2?c=r.params:c=new d2({fromObject:r.params})),o=new T6(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let a=Me(o).pipe(ro(l=>this.handler.handle(l)));if(e instanceof T6||r.observe==="events")return a;let s=a.pipe(tt(l=>l instanceof Qf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(Ke(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new se(2806,!1);return l.body}));case"blob":return s.pipe(Ke(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new se(2807,!1);return l.body}));case"text":return s.pipe(Ke(l=>{if(l.body!==null&&typeof l.body!="string")throw new se(2808,!1);return l.body}));case"json":default:return s.pipe(Ke(l=>l.body))}case"response":return s;default:throw new se(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new d2().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,sM(r,i))}post(e,i,r={}){return this.request("POST",e,sM(r,i))}put(e,i,r={}){return this.request("PUT",e,sM(r,i))}static \u0275fac=function(i){return new(i||n)(ae(D6))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var Dde=new ue("");function FV(n,t){return t(n)}function Ide(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}function Lde(n,t,e){return(i,r)=>er(e,()=>t(i,o=>n(o,r)))}var d9=new ue(""),cM=new ue(""),BV=new ue(""),uM=new ue("",{providedIn:"root",factory:()=>!0});function Ade(){let n=null;return(t,e)=>{n===null&&(n=(B(d9,{optional:!0})??[]).reduceRight(Ide,FV));let i=B(l6);if(B(uM)){let o=i.add();return n(t,e).pipe(hl(o))}else return n(t,e)}}var u9=(()=>{class n extends D6{backend;injector;chain=null;pendingTasks=B(l6);contributeToStability=B(uM);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(cM),...this.injector.get(BV,[])]));this.chain=i.reduceRight((r,o)=>Lde(r,o,this.injector),FV)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(hl(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ae(Xf),ae(An))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var zde=/^\)\]\}',?\n/,kde=RegExp(`^${PV}:`,"m");function Nde(n){return"responseURL"in n&&n.responseURL?n.responseURL:kde.test(n.getAllResponseHeaders())?n.getResponseHeader(PV):null}var lM=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new se(-2800,!1);let i=this.xhrFactory;return Me(null).pipe(jn(()=>new dt(o=>{let a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((b,C)=>a.setRequestHeader(b,C.join(","))),e.headers.has(kV)||a.setRequestHeader(kV,Mde),!e.headers.has(zV)){let b=e.detectContentTypeHeader();b!==null&&a.setRequestHeader(zV,b)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let b=e.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let s=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=a.statusText||"OK",C=new zl(a.getAllResponseHeaders()),w=Nde(a)||e.url;return l=new c9({headers:C,status:a.status,statusText:b,url:w}),l},u=()=>{let{headers:b,status:C,statusText:w,url:E}=c(),D=null;C!==Ede&&(D=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=D?Tde:0);let L=C>=200&&C<300;if(e.responseType==="json"&&typeof D=="string"){let P=D;D=D.replace(zde,"");try{D=D!==""?JSON.parse(D):null}catch(F){D=P,L&&(L=!1,D={error:F,text:D})}}L?(o.next(new Qf({body:D,headers:b,status:C,statusText:w,url:E||void 0})),o.complete()):o.error(new E6({error:D,headers:b,status:C,statusText:w,url:E||void 0}))},d=b=>{let{url:C}=c(),w=new E6({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(w)},f=d;e.timeout&&(f=b=>{let{url:C}=c(),w=new E6({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:C||void 0});o.error(w)});let m=!1,v=b=>{m||(o.next(c()),m=!0);let C={type:kc.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),e.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},_=b=>{let C={type:kc.UploadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),o.next(C)};return a.addEventListener("load",u),a.addEventListener("error",d),a.addEventListener("timeout",f),a.addEventListener("abort",d),e.reportProgress&&(a.addEventListener("progress",v),s!==null&&a.upload&&a.upload.addEventListener("progress",_)),a.send(s),o.next({type:kc.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",u),a.removeEventListener("timeout",f),e.reportProgress&&(a.removeEventListener("progress",v),s!==null&&a.upload&&a.upload.removeEventListener("progress",_)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||n)(ae(zc))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),VV=new ue(""),Pde="XSRF-TOKEN",Ode=new ue("",{providedIn:"root",factory:()=>Pde}),Rde="X-XSRF-TOKEN",Fde=new ue("",{providedIn:"root",factory:()=>Rde}),Kf=class{},Bde=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gf(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(ae(Te),ae(Ode))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Vde=/^(?:https?:)?\/\//i;function Ude(n,t){if(!B(VV)||n.method==="GET"||n.method==="HEAD"||Vde.test(n.url))return t(n);let e=B(Kf).getToken(),i=B(Fde);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}var dM=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(dM||{});function Hde(n,t){return{\u0275kind:n,\u0275providers:t}}function UV(...n){let t=[kl,lM,u9,{provide:D6,useExisting:u9},{provide:Xf,useFactory:()=>B(Dde,{optional:!0})??B(lM)},{provide:cM,useValue:Ude,multi:!0},{provide:VV,useValue:!0},{provide:Kf,useClass:Bde}];for(let e of n)t.push(...e.\u0275providers);return W1(t)}var NV=new ue("");function HV(){return Hde(dM.LegacyInterceptors,[{provide:NV,useFactory:Ade},{provide:cM,useExisting:NV,multi:!0}])}var fM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({providers:[UV(HV())]})}return n})();var f9=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(ae(Te))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ae(jde),r},providedIn:"root"})}return n})(),jde=(()=>{class n extends Jf{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Eo.NONE:return i;case Eo.HTML:return J1(i,"HTML")?To(i):yh(this._doc,String(i)).toString();case Eo.STYLE:return J1(i,"Style")?To(i):i;case Eo.SCRIPT:if(J1(i,"Script"))return To(i);throw new se(5200,!1);case Eo.URL:return J1(i,"URL")?To(i):bf(String(i));case Eo.RESOURCE_URL:if(J1(i,"ResourceURL"))return To(i);throw new se(5201,!1);default:throw new se(5202,!1)}}bypassSecurityTrustHtml(e){return RS(e)}bypassSecurityTrustStyle(e){return FS(e)}bypassSecurityTrustScript(e){return BS(e)}bypassSecurityTrustUrl(e){return VS(e)}bypassSecurityTrustResourceUrl(e){return US(e)}static \u0275fac=function(i){return new(i||n)(ae(Te))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xt="primary",f5=Symbol("RouteTitle"),_M=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Oc(n){return new _M(n)}function XV(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],s=n[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Gde(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!is(n[e],t[e]))return!1;return!0}function is(n,t){let e=n?bM(n):void 0,i=t?bM(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!QV(n[r],t[r]))return!1;return!0}function bM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function QV(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function KV(n){return n.length>0?n[n.length-1]:null}function f2(n){return cm(n)?n:Il(n)?tn(Promise.resolve(n)):Me(n)}var Wde={exact:eU,subset:tU},JV={exact:qde,subset:$de,ignored:()=>!0};function jV(n,t,e){return Wde[e.paths](n.root,t.root,e.matrixParams)&&JV[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function qde(n,t){return is(n,t)}function eU(n,t,e){if(!Nc(n.segments,t.segments)||!h9(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!eU(n.children[i],t.children[i],e))return!1;return!0}function $de(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>QV(n[e],t[e]))}function tU(n,t,e){return nU(n,t,t.segments,e)}function nU(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!Nc(r,e)||t.hasChildren()||!h9(r,e,i))}else if(n.segments.length===e.length){if(!Nc(n.segments,e)||!h9(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!tU(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Nc(n.segments,r)||!h9(n.segments,r,i)||!n.children[xt]?!1:nU(n.children[xt],t,o,i)}}function h9(n,t,e){return t.every((i,r)=>JV[e](n[r].parameters,i.parameters))}var os=class{root;queryParams;fragment;_queryParamMap;constructor(t=new cn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Oc(this.queryParams),this._queryParamMap}toString(){return Xde.serialize(this)}},cn=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g9(this)}},Nl=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Oc(this.parameters),this._parameterMap}toString(){return rU(this)}};function Yde(n,t){return Nc(n,t)&&n.every((e,i)=>is(e.parameters,t[i].parameters))}function Nc(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function Zde(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===xt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==xt&&(e=e.concat(t(r,i)))}),e}var Rc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>new Pl,providedIn:"root"})}return n})(),Pl=class{parse(t){let e=new CM(t);return new os(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${e5(t.root,!0)}`,i=Jde(t.queryParams),r=typeof t.fragment=="string"?`#${Qde(t.fragment)}`:"";return`${e}${i}${r}`}},Xde=new Pl;function g9(n){return n.segments.map(t=>rU(t)).join("/")}function e5(n,t){if(!n.hasChildren())return g9(n);if(t){let e=n.children[xt]?e5(n.children[xt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==xt&&i.push(`${r}:${e5(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=Zde(n,(i,r)=>r===xt?[e5(n.children[xt],!1)]:[`${r}:${e5(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[xt]!=null?`${g9(n)}/${e[0]}`:`${g9(n)}/(${e.join("//")})`}}function iU(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function p9(n){return iU(n).replace(/%3B/gi,";")}function Qde(n){return encodeURI(n)}function xM(n){return iU(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function v9(n){return decodeURIComponent(n)}function GV(n){return v9(n.replace(/\+/g,"%20"))}function rU(n){return`${xM(n.path)}${Kde(n.parameters)}`}function Kde(n){return Object.entries(n).map(([t,e])=>`;${xM(t)}=${xM(e)}`).join("")}function Jde(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${p9(e)}=${p9(r)}`).join("&"):`${p9(e)}=${p9(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var efe=/^[^\/()?;#]+/;function hM(n){let t=n.match(efe);return t?t[0]:""}var tfe=/^[^\/()?;=#]+/;function nfe(n){let t=n.match(tfe);return t?t[0]:""}var ife=/^[^=?&#]+/;function rfe(n){let t=n.match(ife);return t?t[0]:""}var ofe=/^[^&#]+/;function afe(n){let t=n.match(ofe);return t?t[0]:""}var CM=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[xt]=new cn(t,e)),i}parseSegment(){let t=hM(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(t),new Nl(v9(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=nfe(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=hM(this.remaining);r&&(i=r,this.capture(i))}t[v9(e)]=v9(i)}parseQueryParam(t){let e=rfe(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=afe(this.remaining);a&&(i=a,this.capture(i))}let r=GV(e),o=GV(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=hM(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new se(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=xt);let a=this.parseChildren();e[o??xt]=Object.keys(a).length===1&&a[xt]?a[xt]:new cn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new se(4011,!1)}};function oU(n){return n.segments.length>0?new cn([],{[xt]:n}):n}function aU(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=aU(r);if(i===xt&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new cn(n.segments,t);return sfe(e)}function sfe(n){if(n.numberOfChildren===1&&n.children[xt]){let t=n.children[xt];return new cn(n.segments.concat(t.segments),t.children)}return n}function Ol(n){return n instanceof os}function sU(n,t,e=null,i=null){let r=lU(n);return cU(r,t,e,i)}function lU(n){let t;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new cn(o.url,a);return o===n&&(t=s),s}let i=e(n.root),r=oU(i);return t??r}function cU(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return gM(r,r,r,e,i);let o=lfe(t);if(o.toRoot())return gM(r,r,new cn([],{}),e,i);let a=cfe(o,r,n),s=a.processChildren?n5(a.segmentGroup,a.index,o.commands):dU(a.segmentGroup,a.index,o.commands);return gM(r,a.segmentGroup,s,e,i)}function y9(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function r5(n){return typeof n=="object"&&n!=null&&n.outlets}function gM(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;n===t?a=e:a=uU(n,t,e);let s=oU(aU(a));return new os(s,o,r)}function uU(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=uU(o,t,e)}),new cn(n.segments,i)}var _9=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&y9(i[0]))throw new se(4003,!1);let r=i.find(r5);if(r&&r!==KV(i))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lfe(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _9(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new _9(e,t,i)}var z6=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function cfe(n,t,e){if(n.isAbsolute)return new z6(t,!0,0);if(!e)return new z6(t,!1,NaN);if(e.parent===null)return new z6(e,!0,0);let i=y9(n.commands[0])?0:1,r=e.segments.length-1+i;return ufe(e,r,n.numberOfDoubleDots)}function ufe(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new se(4005,!1);r=i.segments.length}return new z6(i,!1,r-o)}function dfe(n){return r5(n[0])?n[0].outlets:{[xt]:n}}function dU(n,t,e){if(n??=new cn([],{}),n.segments.length===0&&n.hasChildren())return n5(n,t,e);let i=ffe(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new cn(n.segments.slice(0,i.pathIndex),{});return o.children[xt]=new cn(n.segments.slice(i.pathIndex),n.children),n5(o,0,r)}else return i.match&&r.length===0?new cn(n.segments,{}):i.match&&!n.hasChildren()?SM(n,t,e):i.match?n5(n,0,r):SM(n,t,e)}function n5(n,t,e){if(e.length===0)return new cn(n.segments,{});{let i=dfe(e),r={};if(Object.keys(i).some(o=>o!==xt)&&n.children[xt]&&n.numberOfChildren===1&&n.children[xt].segments.length===0){let o=n5(n.children[xt],t,e);return new cn(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=dU(n.children[o],t,a))}),Object.entries(n.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new cn(n.segments,r)}}function ffe(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let a=n.segments[r],s=e[i];if(r5(s))break;let l=`${s}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!qV(l,c,a))return o;i+=2}else{if(!qV(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function SM(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(r5(o)){let l=pfe(o.outlets);return new cn(i,l)}if(r===0&&y9(e[0])){let l=n.segments[t];i.push(new Nl(l.path,WV(e[0]))),r++;continue}let a=r5(o)?o.outlets[xt]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&y9(s)?(i.push(new Nl(a,WV(s))),r+=2):(i.push(new Nl(a,{})),r++)}return new cn(i,{})}function pfe(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=SM(new cn([],{}),0,i))}),t}function WV(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function qV(n,t,e){return n==e.path&&is(t,e.parameters)}var k6="imperative",ji=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ji||{}),aa=class{id;url;constructor(t,e){this.id=t,this.url=e}},Rl=class extends aa{type=ji.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},po=class extends aa{urlAfterRedirects;type=ji.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fo=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(fo||{}),P6=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(P6||{}),rs=class extends aa{reason;code;type=ji.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},as=class extends aa{reason;code;type=ji.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},O6=class extends aa{error;target;type=ji.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},o5=class extends aa{urlAfterRedirects;state;type=ji.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b9=class extends aa{urlAfterRedirects;state;type=ji.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},x9=class extends aa{urlAfterRedirects;state;shouldActivate;type=ji.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},C9=class extends aa{urlAfterRedirects;state;type=ji.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},S9=class extends aa{urlAfterRedirects;state;type=ji.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},w9=class{route;type=ji.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},M9=class{route;type=ji.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},T9=class{snapshot;type=ji.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},E9=class{snapshot;type=ji.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},D9=class{snapshot;type=ji.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},I9=class{snapshot;type=ji.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},R6=class{routerEvent;position;anchor;type=ji.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},a5=class{},F6=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function mfe(n){return!(n instanceof a5)&&!(n instanceof F6)}function hfe(n,t){return n.providers&&!n._injector&&(n._injector=b6(n.providers,t,`Route: ${n.path}`)),n._injector??t}function C1(n){return n.outlet||xt}function gfe(n,t){let e=n.filter(i=>C1(i)===t);return e.push(...n.filter(i=>C1(i)!==t)),e}function U6(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var L9=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return U6(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Fc(this.rootInjector)}},Fc=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new L9(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(ae(An))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A9=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=wM(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=wM(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=MM(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return MM(t,this._root).map(e=>e.value)}};function wM(n,t){if(n===t.value)return t;for(let e of t.children){let i=wM(n,e);if(i)return i}return null}function MM(n,t){if(n===t.value)return[t];for(let e of t.children){let i=MM(n,e);if(i.length)return i.unshift(t),i}return[]}var oa=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function A6(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var s5=class extends A9{snapshot;constructor(t,e){super(t),this.snapshot=e,kM(this,t)}toString(){return this.snapshot.toString()}};function fU(n){let t=vfe(n),e=new Hn([new Nl("",{})]),i=new Hn({}),r=new Hn({}),o=new Hn({}),a=new Hn(""),s=new Nr(e,i,o,a,r,xt,n,t.root);return s.snapshot=t.root,new s5(new oa(s,[]),t)}function vfe(n){let t={},e={},i={},o=new Pc([],t,i,"",e,xt,n,null,{});return new l5("",new oa(o,[]))}var Nr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,a,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ke(c=>c[f5]))??Me(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ke(t=>Oc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ke(t=>Oc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function z9(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:Q(Q({},t.params),n.params),data:Q(Q({},t.data),n.data),resolve:Q(Q(Q(Q({},n.data),t.data),r?.data),n._resolvedData)}:i={params:Q({},n.params),data:Q({},n.data),resolve:Q(Q({},n.data),n._resolvedData??{})},r&&mU(r)&&(i.resolve[f5]=r.title),i}var Pc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[f5]}constructor(t,e,i,r,o,a,s,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oc(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},l5=class extends A9{url;constructor(t,e){super(e),this.url=t,kM(this,e)}toString(){return pU(this._root)}};function kM(n,t){t.value._routerState=n,t.children.forEach(e=>kM(n,e))}function pU(n){let t=n.children.length>0?` { ${n.children.map(pU).join(", ")} } `:"";return`${n.value}${t}`}function vM(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,is(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),is(t.params,e.params)||n.paramsSubject.next(e.params),Gde(t.url,e.url)||n.urlSubject.next(e.url),is(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function TM(n,t){let e=is(n.params,t.params)&&Yde(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||TM(n.parent,t.parent))}function mU(n){return typeof n.title=="string"||n.title===null}var hU=new ue(""),p5=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=xt;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=M6();parentContexts=B(Fc);location=B(Ui);changeDetector=B(xi);inputBinder=B(m5,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new EM(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[rn]})}return n})(),EM=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Nr?this.route:t===Fc?this.childContexts:t===hU?this.outletData:this.parent.get(t,e)}},m5=new ue(""),NM=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=fc([i.queryParams,i.params,i.data]).pipe(jn(([o,a,s],l)=>(s=Q(Q(Q({},o),a),s),l===0?Me(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let a=BB(i.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),PM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&O(0,"router-outlet")},dependencies:[p5],encapsulation:2})}return n})();function OM(n){let t=n.children&&n.children.map(OM),e=t?De(Q({},n),{children:t}):Q({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==xt&&(e.component=PM),e}function yfe(n,t,e){let i=c5(n,t._root,e?e._root:void 0);return new s5(i,t)}function c5(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=_fe(n,t,e);return new oa(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>c5(n,s)),a}}let i=bfe(t.value),r=t.children.map(o=>c5(n,o));return new oa(i,r)}}function _fe(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return c5(n,i,r);return c5(n,i)})}function bfe(n){return new Nr(new Hn(n.url),new Hn(n.params),new Hn(n.queryParams),new Hn(n.fragment),new Hn(n.data),n.outlet,n.component,n)}var B6=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},gU="ngNavigationCancelingError";function k9(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=Ol(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=vU(!1,fo.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function vU(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[gU]=!0,e.cancellationCode=t,e}function xfe(n){return yU(n)&&Ol(n.url)}function yU(n){return!!n&&n[gU]}var Cfe=(n,t,e,i)=>Ke(r=>(new DM(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),DM=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),vM(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=A6(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=A6(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=A6(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=A6(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new I9(o.value.snapshot))}),t.children.length&&this.forwardEvent(new E9(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(vM(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),vM(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},N9=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},N6=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Sfe(n,t,e){let i=n._root,r=t?t._root:null;return t5(i,r,e,[i.value])}function wfe(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function H6(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!Kx(n)?n:t.get(n):i}function t5(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=A6(t);return n.children.forEach(a=>{Mfe(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>i5(s,e.getContext(a),r)),r}function Mfe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=Tfe(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new N9(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?t5(n,t,s?s.children:null,i,r):t5(n,t,e,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new N6(s.outlet.component,a))}else a&&i5(t,s,r),r.canActivateChecks.push(new N9(i)),o.component?t5(n,null,s?s.children:null,i,r):t5(n,null,e,i,r);return r}function Tfe(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Nc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Nc(n.url,t.url)||!is(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TM(n,t)||!is(n.queryParams,t.queryParams);case"paramsChange":default:return!TM(n,t)}}function i5(n,t,e){let i=A6(n),r=n.value;Object.entries(i).forEach(([o,a])=>{r.component?t?i5(a,t.children.getContext(o),e):i5(a,null,e):i5(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new N6(t.outlet.component,r)):e.canDeactivateChecks.push(new N6(null,r)):e.canDeactivateChecks.push(new N6(null,r))}function h5(n){return typeof n=="function"}function Efe(n){return typeof n=="boolean"}function Dfe(n){return n&&h5(n.canLoad)}function Ife(n){return n&&h5(n.canActivate)}function Lfe(n){return n&&h5(n.canActivateChild)}function Afe(n){return n&&h5(n.canDeactivate)}function zfe(n){return n&&h5(n.canMatch)}function _U(n){return n instanceof qs||n?.name==="EmptyError"}var m9=Symbol("INITIAL_VALUE");function V6(){return jn(n=>fc(n.map(t=>t.pipe(Nt(1),Dr(m9)))).pipe(Ke(t=>{for(let e of t)if(e!==!0){if(e===m9)return m9;if(e===!1||kfe(e))return e}return!0}),tt(t=>t!==m9),Nt(1)))}function kfe(n){return Ol(n)||n instanceof B6}function Nfe(n,t){return Jn(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?Me(De(Q({},e),{guardsResult:!0})):Pfe(a,i,r,n).pipe(Jn(s=>s&&Efe(s)?Ofe(i,o,n,t):Me(s)),Ke(s=>De(Q({},e),{guardsResult:s})))})}function Pfe(n,t,e,i){return tn(n).pipe(Jn(r=>Ufe(r.component,r.route,e,t,i)),Zs(r=>r!==!0,!0))}function Ofe(n,t,e,i){return tn(t).pipe(ro(r=>pl(Ffe(r.route.parent,i),Rfe(r.route,i),Vfe(n,r.path,e),Bfe(n,r.route,e))),Zs(r=>r!==!0,!0))}function Rfe(n,t){return n!==null&&t&&t(new D9(n)),Me(!0)}function Ffe(n,t){return n!==null&&t&&t(new T9(n)),Me(!0)}function Bfe(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Me(!0);let r=i.map(o=>$s(()=>{let a=U6(t)??e,s=H6(o,a),l=Ife(s)?s.canActivate(t,n):er(a,()=>s(t,n));return f2(l).pipe(Zs())}));return Me(r).pipe(V6())}function Vfe(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>wfe(a)).filter(a=>a!==null).map(a=>$s(()=>{let s=a.guards.map(l=>{let c=U6(a.node)??e,u=H6(l,c),d=Lfe(u)?u.canActivateChild(i,n):er(c,()=>u(i,n));return f2(d).pipe(Zs())});return Me(s).pipe(V6())}));return Me(o).pipe(V6())}function Ufe(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Me(!0);let a=o.map(s=>{let l=U6(t)??r,c=H6(s,l),u=Afe(c)?c.canDeactivate(n,t,e,i):er(l,()=>c(n,t,e,i));return f2(u).pipe(Zs())});return Me(a).pipe(V6())}function Hfe(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return Me(!0);let o=r.map(a=>{let s=H6(a,n),l=Dfe(s)?s.canLoad(t,e):er(n,()=>s(t,e));return f2(l)});return Me(o).pipe(V6(),bU(i))}function bU(n){return zx(Gn(t=>{if(typeof t!="boolean")throw k9(n,t)}),Ke(t=>t===!0))}function jfe(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return Me(!0);let o=r.map(a=>{let s=H6(a,n),l=zfe(s)?s.canMatch(t,e):er(n,()=>s(t,e));return f2(l)});return Me(o).pipe(V6(),bU(i))}var u5=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},d5=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function L6(n){return U1(new u5(n))}function Gfe(n){return U1(new se(4e3,!1))}function Wfe(n){return U1(vU(!1,fo.GuardRejected))}var IM=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Me(i);if(r.numberOfChildren>1||!r.children[xt])return Gfe(`${t.redirectTo}`);r=r.children[xt]}}applyRedirectCommands(t,e,i,r,o){return qfe(e,r,o).pipe(Ke(a=>{if(a instanceof os)throw new d5(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,i);if(a[0]==="/")throw new d5(s);return s}))}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new os(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,i,r)}),new cn(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new se(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function qfe(n,t,e){if(typeof n=="string")return Me(n);let i=n,{queryParams:r,fragment:o,routeConfig:a,url:s,outlet:l,params:c,data:u,title:d}=t;return f2(er(e,()=>i({params:c,data:u,queryParams:r,fragment:o,routeConfig:a,url:s,outlet:l,title:d})))}var LM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $fe(n,t,e,i,r){let o=xU(n,t,e);return o.matched?(i=hfe(t,i),jfe(i,t,e,r).pipe(Ke(a=>a===!0?o:Q({},LM)))):Me(o)}function xU(n,t,e){if(t.path==="**")return Yfe(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?Q({},LM):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||XV)(e,n,t);if(!r)return Q({},LM);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?Q(Q({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Yfe(n){return{matched:!0,parameters:n.length>0?KV(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function $V(n,t,e,i){return e.length>0&&Qfe(n,e,i)?{segmentGroup:new cn(t,Xfe(i,new cn(e,n.children))),slicedSegments:[]}:e.length===0&&Kfe(n,e,i)?{segmentGroup:new cn(n.segments,Zfe(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new cn(n.segments,n.children),slicedSegments:e}}function Zfe(n,t,e,i){let r={};for(let o of e)if(O9(n,t,o)&&!i[C1(o)]){let a=new cn([],{});r[C1(o)]=a}return Q(Q({},i),r)}function Xfe(n,t){let e={};e[xt]=t;for(let i of n)if(i.path===""&&C1(i)!==xt){let r=new cn([],{});e[C1(i)]=r}return e}function Qfe(n,t,e){return e.some(i=>O9(n,t,i)&&C1(i)!==xt)}function Kfe(n,t,e){return e.some(i=>O9(n,t,i))}function O9(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Jfe(n,t,e){return t.length===0&&!n.children[e]}var AM=class{};function e5e(n,t,e,i,r,o,a="emptyOnly"){return new zM(n,t,e,i,r,a,o).recognize()}var t5e=31,zM=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new IM(this.urlSerializer,this.urlTree)}noMatchError(t){return new se(4002,`'${t.segmentGroup}'`)}recognize(){let t=$V(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Ke(({children:e,rootSnapshot:i})=>{let r=new oa(i,e),o=new l5("",r),a=sU(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let e=new Pc([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),xt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,xt,e).pipe(Ke(i=>({children:i,rootSnapshot:e})),Ut(i=>{if(i instanceof d5)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof u5?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(Ke(a=>a instanceof oa?[a]:[]))}processChildren(t,e,i,r){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return tn(o).pipe(ro(a=>{let s=i.children[a],l=gfe(e,a);return this.processSegmentGroup(t,l,s,a,r)}),Bx((a,s)=>(a.push(...s),a)),ml(null),Fx(),Jn(a=>{if(a===null)return L6(i);let s=CU(a);return n5e(s),Me(s)}))}processSegment(t,e,i,r,o,a,s){return tn(e).pipe(ro(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,o,a,s).pipe(Ut(c=>{if(c instanceof u5)return Me(null);throw c}))),Zs(l=>!!l),Ut(l=>{if(_U(l))return Jfe(i,r,o)?Me(new AM):L6(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,o,a,s,l){return C1(i)!==a&&(a===xt||!O9(r,o,i))?L6(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,a,l):L6(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a,s){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=xU(e,r,o);if(!l)return L6(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>t5e&&(this.allowRedirects=!1));let m=new Pc(o,c,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,YV(r),C1(r),r.component??r._loadedComponent??null,r,ZV(r)),v=z9(m,s,this.paramsInheritanceStrategy);return m.params=Object.freeze(v.params),m.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,m,t).pipe(jn(b=>this.applyRedirects.lineralizeSegments(r,b)),Jn(b=>this.processSegment(t,i,e,b.concat(f),a,!1,s)))}matchSegmentAgainstRoute(t,e,i,r,o,a){let s=$fe(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(jn(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(jn(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:m}=l,v=new Pc(f,d,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,YV(i),C1(i),i.component??i._loadedComponent??null,i,ZV(i)),_=z9(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(_.params),v.data=Object.freeze(_.data);let{segmentGroup:b,slicedSegments:C}=$V(e,f,m,c);if(C.length===0&&b.hasChildren())return this.processChildren(u,c,b,v).pipe(Ke(E=>new oa(v,E)));if(c.length===0&&C.length===0)return Me(new oa(v,[]));let w=C1(i)===o;return this.processSegment(u,c,b,C,w?xt:o,!0,v).pipe(Ke(E=>new oa(v,E instanceof oa?[E]:[])))}))):L6(e)))}getChildConfig(t,e,i){return e.children?Me({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Me({routes:e._loadedRoutes,injector:e._loadedInjector}):Hfe(t,e,i,this.urlSerializer).pipe(Jn(r=>r?this.configLoader.loadChildren(t,e).pipe(Gn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Wfe(e))):Me({routes:[],injector:t})}};function n5e(n){n.sort((t,e)=>t.value.outlet===xt?-1:e.value.outlet===xt?1:t.value.outlet.localeCompare(e.value.outlet))}function i5e(n){let t=n.value.routeConfig;return t&&t.path===""}function CU(n){let t=[],e=new Set;for(let i of n){if(!i5e(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=CU(i.children);t.push(new oa(i.value,r))}return t.filter(i=>!e.has(i))}function YV(n){return n.data||{}}function ZV(n){return n.resolve||{}}function r5e(n,t,e,i,r,o){return Jn(a=>e5e(n,t,e,i,a.extractedUrl,r,o).pipe(Ke(({state:s,tree:l})=>De(Q({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function o5e(n,t){return Jn(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Me(e);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of SU(l))a.add(c);let s=0;return tn(a).pipe(ro(l=>o.has(l)?a5e(l,i,n,t):(l.data=z9(l,l.parent,n).resolve,Me(void 0))),Gn(()=>s++),Y4(1),Jn(l=>s===a.size?Me(e):Bi))})}function SU(n){let t=n.children.map(e=>SU(e)).flat();return[n,...t]}function a5e(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!mU(r)&&(o[f5]=r.title),$s(()=>(n.data=z9(n,n.parent,e).resolve,s5e(o,n,t,i).pipe(Ke(a=>(n._resolvedData=a,n.data=Q(Q({},n.data),a),null)))))}function s5e(n,t,e,i){let r=bM(n);if(r.length===0)return Me({});let o={};return tn(r).pipe(Jn(a=>l5e(n[a],t,e,i).pipe(Zs(),Gn(s=>{if(s instanceof B6)throw k9(new Pl,s);o[a]=s}))),Y4(1),Ke(()=>o),Ut(a=>_U(a)?Bi:U1(a)))}function l5e(n,t,e,i){let r=U6(t)??i,o=H6(n,r),a=o.resolve?o.resolve(t,e):er(r,()=>o(t,e));return f2(a)}function yM(n){return jn(t=>{let e=n(t);return e?tn(e).pipe(Ke(()=>t)):Me(t)})}var RM=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===xt);return i}getResolvedTitleForRoute(e){return e.data[f5]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>B(wU),providedIn:"root"})}return n})(),wU=(()=>{class n extends RM{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ae(f9))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fl=new ue("",{providedIn:"root",factory:()=>({})}),Bc=new ue(""),R9=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=B(ww);loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Me(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=f2(er(e,()=>i.loadComponent())).pipe(Ke(TU),jn(EU),Gn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),hl(()=>{this.componentLoaders.delete(i)})),o=new H4(r,()=>new me).pipe(U4());return this.componentLoaders.set(i,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Me({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=MU(i,this.compiler,e,this.onLoadEndListener).pipe(hl(()=>{this.childrenLoaders.delete(i)})),a=new H4(o,()=>new me).pipe(U4());return this.childrenLoaders.set(i,a),a}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MU(n,t,e,i){return f2(er(e,()=>n.loadChildren())).pipe(Ke(TU),jn(EU),Jn(r=>r instanceof Th||Array.isArray(r)?Me(r):tn(t.compileModuleAsync(r))),Ke(r=>{i&&i(n);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(Bc,[],{optional:!0,self:!0}).flat()),{routes:a.map(OM),injector:o}}))}function c5e(n){return n&&typeof n=="object"&&"default"in n}function TU(n){return c5e(n)?n.default:n}function EU(n){return Me(n)}var F9=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>B(u5e),providedIn:"root"})}return n})(),u5e=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FM=new ue(""),BM=new ue("");function DU(n,t,e){let i=n.get(BM),r=n.get(Te);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,a=new Promise(c=>{o=c}),s=r.startViewTransition(()=>(o(),d5e(n)));s.ready.catch(c=>{});let{onViewTransitionCreated:l}=i;return l&&er(n,()=>l({transition:s,from:t,to:e})),a}function d5e(n){return new Promise(t=>{zi({read:()=>setTimeout(t)},{injector:n})})}var VM=new ue(""),B9=(()=>{class n{currentNavigation=fn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new me;transitionAbortWithErrorSubject=new me;configLoader=B(R9);environmentInjector=B(An);destroyRef=B(yr);urlSerializer=B(Rc);rootContexts=B(Fc);location=B(ns);inputBindingEnabled=B(m5,{optional:!0})!==null;titleStrategy=B(RM);options=B(Fl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=B(F9);createViewTransition=B(FM,{optional:!0});navigationErrorHandler=B(VM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Me(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new w9(r)),i=r=>this.events.next(new M9(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Hi(()=>{this.transitions?.next(De(Q({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(e){return this.transitions=new Hn(null),this.transitions.pipe(tt(i=>i!==null),jn(i=>{let r=!1;return Me(i).pipe(jn(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",fo.SupersededByNewNavigation),Bi;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?De(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new as(o.id,this.urlSerializer.serialize(o.rawUrl),"",P6.IgnoredSameUrlNavigation)),o.resolve(!1),Bi;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Me(o).pipe(jn(l=>(this.events.next(new Rl(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Bi:Promise.resolve(l))),r5e(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Gn(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=l.urlAfterRedirects,u));let c=new o5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:d,extras:f}=o,m=new Rl(l,this.urlSerializer.serialize(c),u,d);this.events.next(m);let v=fU(this.rootComponentType).snapshot;return this.currentTransition=i=De(Q({},o),{targetSnapshot:v,urlAfterRedirects:c,extras:De(Q({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=c,_)),Me(i)}else return this.events.next(new as(o.id,this.urlSerializer.serialize(o.extractedUrl),"",P6.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Bi}),Gn(o=>{let a=new b9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ke(o=>(this.currentTransition=i=De(Q({},o),{guards:Sfe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),Nfe(this.environmentInjector,o=>this.events.next(o)),Gn(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw k9(this.urlSerializer,o.guardsResult);let a=new x9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),tt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",fo.GuardRejected),!1)),yM(o=>{if(o.guards.canActivateChecks.length!==0)return Me(o).pipe(Gn(a=>{let s=new C9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),jn(a=>{let s=!1;return Me(a).pipe(o5e(this.paramsInheritanceStrategy,this.environmentInjector),Gn({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",fo.NoDataFromResolver)}}))}),Gn(a=>{let s=new S9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),yM(o=>{let a=s=>{let l=[];if(s.routeConfig?.loadComponent){let c=U6(s)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,s.routeConfig).pipe(Gn(u=>{s.component=u}),Ke(()=>{})))}for(let c of s.children)l.push(...a(c));return l};return fc(a(o.targetSnapshot.root)).pipe(ml(null),Nt(1))}),yM(()=>this.afterPreactivation()),jn(()=>{let{currentSnapshot:o,targetSnapshot:a}=i,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?tn(s).pipe(Ke(()=>i)):Me(i)}),Ke(o=>{let a=yfe(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=De(Q({},o),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),i}),Gn(()=>{this.events.next(new a5)}),Cfe(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Nt(1),nn(new dt(o=>{let a=i.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(tt(()=>!r&&!i.targetRouterState),Gn(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",fo.Aborted)}))),Gn({next:o=>{r=!0,this.lastSuccessfulNavigation=Hi(this.currentNavigation),this.events.next(new po(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),nn(this.transitionAbortWithErrorSubject.pipe(Gn(o=>{throw o}))),hl(()=>{r||this.cancelNavigationTransition(i,"",fo.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ut(o=>{if(this.destroyed)return i.resolve(!1),Bi;if(r=!0,yU(o))this.events.next(new rs(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),xfe(o)?this.events.next(new F6(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let a=new O6(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let s=er(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof B6){let{message:l,cancellationCode:c}=k9(this.urlSerializer,s);this.events.next(new rs(i.id,this.urlSerializer.serialize(i.extractedUrl),l,c)),this.events.next(new F6(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(s){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(s)}}return Bi}))}))}cancelNavigationTransition(e,i,r){let o=new rs(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Hi(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f5e(n){return n!==k6}var IU=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>B(p5e),providedIn:"root"})}return n})(),P9=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},p5e=(()=>{class n extends P9{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LU=(()=>{class n{urlSerializer=B(Rc);options=B(Fl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=B(ns);urlHandlingStrategy=B(F9);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new os;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??o;return a instanceof os?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=fU(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>B(m5e),providedIn:"root"})}return n})(),m5e=(()=>{class n extends LU{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Rl?this.updateStateMemento():e instanceof as?this.commitTransition(i):e instanceof o5?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof a5?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof rs&&e.code!==fo.SupersededByNewNavigation&&e.code!==fo.Redirect?this.restoreHistory(i):e instanceof O6?this.restoreHistory(i,!0):e instanceof po&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,l=Q(Q({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",l)}else{let s=Q(Q({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V9(n,t){n.events.pipe(tt(e=>e instanceof po||e instanceof rs||e instanceof O6||e instanceof as),Ke(e=>e instanceof po||e instanceof as?0:(e instanceof rs?e.code===fo.Redirect||e.code===fo.SupersededByNewNavigation:!1)?2:1),tt(e=>e!==2),Nt(1)).subscribe(()=>{t()})}var h5e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g5e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=B(Ih);stateManager=B(LU);options=B(Fl,{optional:!0})||{};pendingTasks=B(X1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=B(B9);urlSerializer=B(Rc);location=B(ns);urlHandlingStrategy=B(F9);injector=B(An);_events=new me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=B(IU);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=B(Bc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!B(m5,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Et;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=Hi(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof rs&&i.code!==fo.Redirect&&i.code!==fo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof po)this.navigated=!0;else if(i instanceof F6){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=Q({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||f5e(r.source)},a);this.scheduleNavigation(s,k6,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}mfe(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),k6,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=Q({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o).catch(l=>{this.disposed||this.injector.get(Mo)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Hi(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(OM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u=Q(Q({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=r?r.snapshot:this.routerState.snapshot.root;d=lU(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return cU(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Ol(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,k6,null,i)}navigate(e,i={skipLocationChange:!1}){return v5e(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(xa(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=Q({},h5e):i===!1?r=Q({},g5e):r=i,Ol(e))return jV(this.currentUrlTree,e,r);let o=this.parseUrl(e);return jV(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,f)=>{s=d,l=f});let u=this.pendingTasks.add();return V9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v5e(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new se(4008,!1)}var Lo=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=fn(null);get href(){return Hi(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new me;applicationErrorHandler=B(Mo);options=B(Fl,{optional:!0});constructor(e,i,r,o,a,s){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(B(new Rh("href"),{optional:!0}));let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,i=r=>r==="merge"||r==="preserve";e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof po&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ol(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||i||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Ol(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(V(un),V(Nr),_f("tabindex"),V(ci),V(st),V(b1))};static \u0275dir=Fe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&z("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Mn("href",r.reactiveHref(),HS)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oi],replaceUrl:[2,"replaceUrl","replaceUrl",oi],routerLink:"routerLink"},features:[rn]})}return n})(),HM=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new be;constructor(e,i,r,o,a){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof po&&this.update()})}ngAfterContentInit(){Me(this.links.changes,Me(null)).pipe(H1()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=tn(e).pipe(H1()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=y5e(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(V(un),V(st),V(ci),V(xi),V(Lo,8))};static \u0275dir=Fe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Lc(o,Lo,5),i&2){let a;an(a=sn())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[rn]})}return n})();function y5e(n){return!!n.paths}var g5=class{};var AU=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(tt(e=>e instanceof po),ro(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=b6(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return tn(r).pipe(H1())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=Me(null);let o=r.pipe(Jn(a=>a===null?Me(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(e,i);return tn([o,a]).pipe(H1())}else return o})}static \u0275fac=function(i){return new(i||n)(ae(un),ae(An),ae(g5),ae(R9))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zU=new ue(""),_5e=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=k6;restoredId=0;store={};constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Rl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof po?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof as&&e.code===P6.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof R6))return;let i={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,i):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>Jo(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new R6(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Mf()};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function jM(n,...t){return W1([{provide:Bc,multi:!0,useValue:n},[],{provide:Nr,useFactory:kU,deps:[un]},{provide:If,multi:!0,useFactory:NU},t.map(e=>e.\u0275providers)])}function kU(n){return n.routerState.root}function v5(n,t){return{\u0275kind:n,\u0275providers:t}}function NU(){let n=B(Ve);return t=>{let e=n.get(_i);if(t!==e.components[0])return;let i=n.get(un),r=n.get(PU);n.get(GM)===1&&i.initialNavigation(),n.get(FU,null,{optional:!0})?.setUpPreloading(),n.get(zU,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var PU=new ue("",{factory:()=>new me}),GM=new ue("",{providedIn:"root",factory:()=>1});function OU(){let n=[{provide:hh,useValue:!0},{provide:GM,useValue:0},Ah(()=>{let t=B(Ve);return t.get(Fw,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(un),o=t.get(PU);V9(r,()=>{i(!0)}),t.get(B9).afterPreactivation=()=>(i(!0),o.closed?Me(void 0):o),r.initialNavigation()}))})];return v5(2,n)}function RU(){let n=[Ah(()=>{B(un).setUpLocationChangeListener()}),{provide:GM,useValue:2}];return v5(3,n)}var FU=new ue("");function BU(n){return v5(0,[{provide:FU,useExisting:AU},{provide:g5,useExisting:n}])}function VU(){return v5(8,[NM,{provide:m5,useExisting:NM}])}function UU(n){Ta("NgRouterViewTransitions");let t=[{provide:FM,useValue:DU},{provide:BM,useValue:Q({skipNextTransition:!!n?.skipInitialTransition},n)}];return v5(9,t)}var HU=[ns,{provide:Rc,useClass:Pl},un,Fc,{provide:Nr,useFactory:kU,deps:[un]},R9,[]],Vc=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[HU,[],{provide:Bc,multi:!0,useValue:e},[],i?.errorHandler?{provide:VM,useValue:i.errorHandler}:[],{provide:Fl,useValue:i||{}},i?.useHash?x5e():C5e(),b5e(),i?.preloadingStrategy?BU(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?S5e(i):[],i?.bindToComponentInputs?VU().\u0275providers:[],i?.enableViewTransitions?UU().\u0275providers:[],w5e()]}}static forChild(e){return{ngModule:n,providers:[{provide:Bc,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({})}return n})();function b5e(){return{provide:zU,useFactory:()=>{let n=B(yV),t=B(Pe),e=B(Fl),i=B(B9),r=B(Rc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new _5e(r,i,n,t,e)}}}function x5e(){return{provide:b1,useClass:Ww}}function C5e(){return{provide:b1,useClass:Gh}}function S5e(n){return[n.initialNavigation==="disabled"?RU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?OU().\u0275providers:[]]}var UM=new ue("");function w5e(){return[{provide:UM,useFactory:NU},{provide:If,multi:!0,useExisting:UM}]}var ui="assets/images/default-avatar.png",jU="assets/images/default-multi-user.png";function U9(n,t){return`https://www.tradingview.com/chart/?symbol=${n}%3A${t}`}function GU(n){return`https://www.screener.in/company/${n}`}function WU(n,t){return`https://finance.yahoo.com/quote/${n}.${t}`}function y5(n){return`https://coin.zerodha.com/mf/fund/${n}`}var eH=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(V(ci),V(st))};static \u0275dir=Fe({type:n})}return n})(),q6=(()=>{class n extends eH{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,features:[on]})}return n})(),p2=new ue(""),M5e={provide:p2,useExisting:Li(()=>m2),multi:!0},m2=(()=>{class n extends q6{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&z("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[ei([M5e]),on]})}return n})(),T5e={provide:p2,useExisting:Li(()=>Yt),multi:!0};function E5e(){let n=ia()?ia().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var D5e=new ue(""),Yt=(()=>{class n extends eH{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!E5e())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(V(ci),V(st),V(D5e,8))};static \u0275dir=Fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&z("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[ei([T5e]),on]})}return n})();function ZM(n){return n==null||XM(n)===0}function XM(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Vl=new ue(""),J9=new ue(""),I5e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ue=class{static min(t){return tH(t)}static max(t){return nH(t)}static required(t){return iH(t)}static requiredTrue(t){return L5e(t)}static email(t){return A5e(t)}static minLength(t){return z5e(t)}static maxLength(t){return rH(t)}static pattern(t){return k5e(t)}static nullValidator(t){return j9()}static compose(t){return uH(t)}static composeAsync(t){return fH(t)}};function tH(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function nH(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function iH(n){return ZM(n.value)?{required:!0}:null}function L5e(n){return n.value===!0?null:{required:!0}}function A5e(n){return ZM(n.value)||I5e.test(n.value)?null:{email:!0}}function z5e(n){return t=>{let e=t.value?.length??XM(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function rH(n){return t=>{let e=t.value?.length??XM(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function k5e(n){if(!n)return j9;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ZM(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function j9(n){return null}function oH(n){return n!=null}function aH(n){return Il(n)?tn(n):n}function sH(n){let t={};return n.forEach(e=>{t=e!=null?Q(Q({},t),e):t}),Object.keys(t).length===0?null:t}function lH(n,t){return t.map(e=>e(n))}function N5e(n){return!n.validate}function cH(n){return n.map(t=>N5e(t)?t:e=>t.validate(e))}function uH(n){if(!n)return null;let t=n.filter(oH);return t.length==0?null:function(e){return sH(lH(e,t))}}function dH(n){return n!=null?uH(cH(n)):null}function fH(n){if(!n)return null;let t=n.filter(oH);return t.length==0?null:function(e){let i=lH(e,t).map(aH);return Gd(i).pipe(Ke(sH))}}function pH(n){return n!=null?fH(cH(n)):null}function qU(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function mH(n){return n._rawValidators}function hH(n){return n._rawAsyncValidators}function WM(n){return n?Array.isArray(n)?n:[n]:[]}function G9(n,t){return Array.isArray(n)?n.includes(t):n===t}function $U(n,t){let e=WM(t);return WM(n).forEach(r=>{G9(e,r)||e.push(r)}),e}function YU(n,t){return WM(t).filter(e=>!G9(n,e))}var W9=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=dH(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=pH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Hc=class extends W9{name;get formDirective(){return null}get path(){return null}},ls=class extends W9{_parent=null;name=null;valueAccessor=null},q9=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},P5e={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Tnt=De(Q({},P5e),{"[class.ng-submitted]":"isSubmitted"}),Zt=(()=>{class n extends q9{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(V(ls,2))};static \u0275dir=Fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ce("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[on]})}return n})(),Pr=(()=>{class n extends q9{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(V(Hc,10))};static \u0275dir=Fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ce("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[on]})}return n})();var _5="VALID",H9="INVALID",j6="PENDING",b5="DISABLED",Bl=class{},$9=class extends Bl{value;source;constructor(t,e){super(),this.value=t,this.source=e}},x5=class extends Bl{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},C5=class extends Bl{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},G6=class extends Bl{status;source;constructor(t,e){super(),this.status=t,this.source=e}},qM=class extends Bl{source;constructor(t){super(),this.source=t}},S5=class extends Bl{source;constructor(t){super(),this.source=t}};function QM(n){return(eg(n)?n.validators:n)||null}function O5e(n){return Array.isArray(n)?dH(n):n||null}function KM(n,t){return(eg(t)?t.asyncValidators:n)||null}function R5e(n){return Array.isArray(n)?pH(n):n||null}function eg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function gH(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new se(1e3,"");if(!i[e])throw new se(1001,"")}function vH(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new se(1002,"")})}var W6=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Hi(this.statusReactive)}set status(t){Hi(()=>this.statusReactive.set(t))}_status=c2(()=>this.statusReactive());statusReactive=fn(void 0);get valid(){return this.status===_5}get invalid(){return this.status===H9}get pending(){return this.status==j6}get disabled(){return this.status===b5}get enabled(){return this.status!==b5}errors;get pristine(){return Hi(this.pristineReactive)}set pristine(t){Hi(()=>this.pristineReactive.set(t))}_pristine=c2(()=>this.pristineReactive());pristineReactive=fn(!0);get dirty(){return!this.pristine}get touched(){return Hi(this.touchedReactive)}set touched(t){Hi(()=>this.touchedReactive.set(t))}_touched=c2(()=>this.touchedReactive());touchedReactive=fn(!1);get untouched(){return!this.touched}_events=new me;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators($U(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($U(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(YU(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(YU(t,this._rawAsyncValidators))}hasValidator(t){return G9(this._rawValidators,t)}hasAsyncValidator(t){return G9(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(De(Q({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new C5(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new C5(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(De(Q({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new x5(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new x5(!0,i))}markAsPending(t={}){this.status=j6;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new G6(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(De(Q({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=b5,this.errors=null,this._forEachChild(r=>{r.disable(De(Q({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new $9(this.value,i)),this._events.next(new G6(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(Q({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=_5,this._forEachChild(i=>{i.enable(De(Q({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(De(Q({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_5||this.status===j6)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new $9(this.value,e)),this._events.next(new G6(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(De(Q({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?b5:_5}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=j6,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=aH(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new G6(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?b5:this.errors?H9:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j6)?j6:this._anyControlsHaveStatus(H9)?H9:_5}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new x5(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new C5(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){eg(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=O5e(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=R5e(this._rawAsyncValidators)}},Y9=class extends W6{constructor(t,e,i){super(QM(e),KM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){vH(this,!0,t),Object.keys(t).forEach(i=>{gH(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new S5(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var $M=class extends Y9{};var $6=new ue("",{providedIn:"root",factory:()=>w5}),w5="always";function yH(n,t){return[...t.path,n]}function Z9(n,t,e=w5){JM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),B5e(n,t),U5e(n,t),V5e(n,t),F5e(n,t)}function X9(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),K9(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Q9(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function F5e(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function JM(n,t){let e=mH(n);t.validator!==null?n.setValidators(qU(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=hH(n);t.asyncValidator!==null?n.setAsyncValidators(qU(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Q9(t._rawValidators,r),Q9(t._rawAsyncValidators,r)}function K9(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=mH(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=hH(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Q9(t._rawValidators,i),Q9(t._rawAsyncValidators,i),e}function B5e(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&_H(n,t)})}function V5e(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&_H(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function _H(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function U5e(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function H5e(n,t){n==null,JM(n,t)}function j5e(n,t){return K9(n,t)}function eT(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function G5e(n){return Object.getPrototypeOf(n.constructor)===q6}function W5e(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function tT(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Yt?e=o:G5e(o)?i=o:r=o}),r||i||e||null}function q5e(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function ZU(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function XU(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Uc=class extends W6{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(QM(e),KM(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),eg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(XU(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new S5(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ZU(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ZU(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){XU(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var $5e=n=>n instanceof Uc;var Y5e={provide:ls,useExisting:Li(()=>Gi)},QU=Promise.resolve(),Gi=(()=>{class n extends ls{_changeDetectorRef;callSetDisabledState;control=new Uc;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(e,i,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tT(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),eT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Z9(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){QU.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&oi(i);QU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?yH(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(V(Hc,9),V(Vl,10),V(J9,10),V(p2,10),V(xi,8),V($6,8))};static \u0275dir=Fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ei([Y5e]),on,rn]})}return n})();var Or=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Z5e={provide:p2,useExisting:Li(()=>jc),multi:!0},jc=(()=>{class n extends q6{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&z("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[ei([Z5e]),on]})}return n})(),X5e={provide:p2,useExisting:Li(()=>M5),multi:!0};var Q5e=(()=>{class n{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M5=(()=>{class n extends q6{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=B($6,{optional:!0})??w5;constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(ls),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(V(ci),V(st),V(Q5e),V(Ve))};static \u0275dir=Fe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&z("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[ei([X5e]),on]})}return n})();var nT=new ue(""),K5e={provide:ls,useExisting:Li(()=>iT)},iT=(()=>{class n extends ls{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new be;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=tT(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&X9(i,this,!1),Z9(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}eT(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&X9(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(V(Vl,10),V(J9,10),V(p2,10),V(nT,8),V($6,8))};static \u0275dir=Fe({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[ei([K5e]),on,rn]})}return n})(),J5e={provide:Hc,useExisting:Li(()=>_r)},_r=(()=>{class n extends Hc{callSetDisabledState;get submitted(){return Hi(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=c2(()=>this._submittedReactive());_submittedReactive=fn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new be;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(K9(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Z9(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){X9(e.control||null,e,!1),q5e(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),W5e(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new qM(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(X9(i||null,e),$5e(r)&&(Z9(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);H5e(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&j5e(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){JM(this.form,this),this._oldForm&&K9(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(V(Vl,10),V(J9,10),V($6,8))};static \u0275dir=Fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&z("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ei([J5e]),on,rn]})}return n})();var e8e={provide:ls,useExisting:Li(()=>br)},br=(()=>{class n extends ls{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new be;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tT(this,o)}ngOnChanges(e){this._added||this._setUpControl(),eT(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yH(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(V(Hc,13),V(Vl,10),V(J9,10),V(p2,10),V(nT,8))};static \u0275dir=Fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ei([e8e]),on,rn]})}return n})();var t8e={provide:p2,useExisting:Li(()=>Ao),multi:!0};function bH(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function n8e(n){return n.split(":")[0]}var Ao=(()=>{class n extends q6{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=B(_i).injector;destroyRef=B(yr);cdr=B(xi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,zi({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=bH(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=n8e(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&z("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ei([t8e]),on]})}return n})(),La=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(bH(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(V(st),V(ci),V(Ao,9))};static \u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),i8e={provide:p2,useExisting:Li(()=>xH),multi:!0};function KU(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function r8e(n){return n.split(":")[0]}var xH=(()=>{class n extends q6{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);r.push(c)}}else{let a=i.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=r8e(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&z("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ei([i8e]),on]})}return n})(),Aa=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(KU(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(KU(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(V(st),V(ci),V(xH,9))};static \u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function o8e(n){return typeof n=="number"?n:parseInt(n,10)}function CH(n){return typeof n=="number"?n:parseFloat(n)}var tg=(()=>{class n{_validator=j9;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):j9,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,features:[rn]})}return n})(),a8e={provide:Vl,useExisting:Li(()=>rT),multi:!0},rT=(()=>{class n extends tg{max;inputName="max";normalizeInput=e=>CH(e);createValidator=e=>nH(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Mn("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[ei([a8e]),on]})}return n})(),s8e={provide:Vl,useExisting:Li(()=>Gc),multi:!0},Gc=(()=>{class n extends tg{min;inputName="min";normalizeInput=e=>CH(e);createValidator=e=>tH(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Mn("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[ei([s8e]),on]})}return n})(),l8e={provide:Vl,useExisting:Li(()=>mo),multi:!0};var mo=(()=>{class n extends tg{required;inputName="required";normalizeInput=oi;createValidator=e=>iH;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Mn("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ei([l8e]),on]})}return n})();var c8e={provide:Vl,useExisting:Li(()=>Wc),multi:!0},Wc=(()=>{class n extends tg{maxlength;inputName="maxlength";normalizeInput=e=>o8e(e);createValidator=e=>rH(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Mn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[ei([c8e]),on]})}return n})();var SH=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({})}return n})(),YM=class extends W6{constructor(t,e,i){super(QM(e),KM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){vH(this,!1,t),t.forEach((i,r)=>{gH(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new S5(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function JU(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Rr=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return JU(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Y9(r,o)}record(e,i=null){let r=this._reduceControls(e);return new $M(r,i)}control(e,i,r){let o={};return this.useNonNullable?(JU(i)?o=i:(o.validators=i,o.asyncValidators=r),new Uc(e,De(Q({},o),{nonNullable:!0}))):new Uc(e,i,r)}array(e,i,r){let o=e.map(a=>this._createControl(a));return new YM(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof Uc)return e;if(e instanceof W6)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:$6,useValue:e.callSetDisabledState??w5}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({imports:[SH]})}return n})(),di=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:nT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:$6,useValue:e.callSetDisabledState??w5}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({imports:[SH]})}return n})();var Ul=(()=>{let t=class t{constructor(){this.config={};let i=window.location.hostname;this.environment=i==="localhost"?"dev":"prod"}loadConfig(){this.config={dev:{baseUrl:"http://localhost:8081/rest",wsUrl:"http://localhost:8081/ws"},prod:{baseUrl:"/rest",wsUrl:"/ws"}}}getConfig(){return this.config[this.environment]}getEnvironment(){return this.environment}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Vt=(()=>{let t=class t{constructor(i,r){this.http=i,this.appProperties=r,this.baseUrl="",this.baseUrl=this.appProperties.getConfig().baseUrl}formatErrors(i){return U1(()=>i)}get(i,r={}){return this.http.get(`${this.baseUrl}${i}`,r).pipe(Ut(this.formatErrors))}post(i,r={},o={}){return console.log(`API POST: ${this.baseUrl}${i}`,r),this.http.post(`${this.baseUrl}${i}`,r,o).pipe(Ut(this.formatErrors))}put(i,r={},o={}){return this.http.put(`${this.baseUrl}${i}`,r,o).pipe(Ut(this.formatErrors))}delete(i,r={}){return this.http.delete(`${this.baseUrl}${i}`,r).pipe(Ut(this.formatErrors))}patch(i,r={},o={}){return this.http.patch(`${this.baseUrl}${i}`,r,o).pipe(Ut(this.formatErrors))}};t.\u0275fac=function(r){return new(r||t)(ae(kl),ae(Ul))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var tr=(()=>{let t=class t{constructor(i){this.api=i}onboardTradingAccount(i){return this.api.post("/v1/accounts",i)}updateTradingAccount(i,r){return this.api.put(`/v1/accounts/${i}`,r)}deleteTradingAccount(i){return this.api.delete(`/v1/accounts/${i}`)}unmapTradingAccount(i){return this.api.patch(`/v1/accounts/${i}/unmap`)}mapTradingAccount(i){return this.api.patch(`/v1/accounts/${i}/map`)}getTradingAccount(i){return this.api.get(`/v1/accounts/${i}`)}getTradingAccounts(){return this.api.get("/v1/accounts/profiles")}renewTokensForAll(){return this.api.post("/v1/accounts/renew-request-tokens")}getTotp(i){return this.api.get(`/v1/accounts/${i}/totp`)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Dn=(()=>{let t=class t{constructor(){this.key="userDataState"}getState(){let i=localStorage.getItem(this.key);return JSON.parse(i||"{}")}setState(i){let r=this.getState(),o=Q(Q({},r),i);localStorage.setItem(this.key,JSON.stringify(o))}clearState(){localStorage.removeItem(this.key)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function u8e(n,t){if(n&1&&(p(0,"div",1),O(1,"img",10),h()),n&2){let e=t.$implicit,i=M(2);g(),x("ngSrc",i.getAvatarUrl(e)||i.fallbackAvatarUrl)("alt",i.getUserName(e))("title",i.getUserName(e))}}function d8e(n,t){if(n&1&&(p(0,"div",1),O(1,"img",11),h()),n&2){let e=M(2);g(),x("ngSrc",e.multiUserAvatarUrl)}}function f8e(n,t){if(n&1&&(p(0,"span",12),y(1),h()),n&2){let e=M(2);g(),H(" ",e.selectedUserIds.length," ")}}function p8e(n,t){n&1&&(p(0,"span",24),y(1,"\u2713"),h())}function m8e(n,t){n&1&&(p(0,"div",25),y(1," No users found "),h())}function h8e(n,t){n&1&&(p(0,"div",34),y(1," Token Invalid "),h())}function g8e(n,t){n&1&&(p(0,"span",35),y(1,"\u2713"),h())}function v8e(n,t){if(n&1){let e=ee();p(0,"div",26)(1,"button",27),z("click",function(){let r=k(e).$implicit,o=M(3);return N(o.toggleUserSelection(r.userId))}),O(2,"img",28),p(3,"div",29)(4,"div",30),y(5),h(),p(6,"div",31),y(7),h(),A(8,h8e,2,0,"div",32),h(),A(9,g8e,2,0,"span",33),h()()}if(n&2){let e=t.$implicit,i=M(3);g(),Ce("bg-blue-50",i.selectedUserIds.includes(e.userId))("text-blue-600",i.selectedUserIds.includes(e.userId))("opacity-50",e.tokenStatus!=="Valid")("cursor-not-allowed",e.tokenStatus!=="Valid"),g(),x("ngSrc",(e.profile==null?null:e.profile.avatarURL)||i.fallbackAvatarUrl)("alt",e.name),g(3),j((e.profile==null?null:e.profile.userName)||e.name),g(2),j(e.userId),g(),x("ngIf",e.tokenStatus!=="Valid"),g(),x("ngIf",i.selectedUserIds.includes(e.userId))}}function y8e(n,t){if(n&1){let e=ee();p(0,"div",13)(1,"div",14)(2,"input",15),bt("ngModelChange",function(r){k(e);let o=M(2);return Mt(o.searchTerm,r)||(o.searchTerm=r),N(r)}),z("input",function(){k(e);let r=M(2);return N(r.onSearchChange())}),h()(),p(3,"div",16)(4,"button",17),z("click",function(){k(e);let r=M(2);return N(r.onAllUserClick())}),O(5,"img",18),p(6,"span",19),y(7,"All Accounts"),h(),A(8,p8e,2,0,"span",20),h()(),p(9,"div",21),A(10,m8e,2,0,"div",22)(11,v8e,10,14,"div",23),h()()}if(n&2){let e=M(2);g(2),_t("ngModel",e.searchTerm),g(2),Ce("bg-blue-50",e.selectedUserIds.length===0)("text-blue-600",e.selectedUserIds.length===0),g(),x("ngSrc",e.multiUserAvatarUrl),g(3),x("ngIf",e.selectedUserIds.length===0),g(2),x("ngIf",e.getFilteredUsers().length===0),g(),x("ngForOf",e.getFilteredUsers())}}function _8e(n,t){if(n&1){let e=ee();p(0,"div",36),z("click",function(){k(e);let r=M(2);return N(r.closeDropdown())}),h()}}function b8e(n,t){if(n&1){let e=ee();p(0,"div",1)(1,"button",2),z("click",function(){k(e);let r=M();return N(r.toggleDropdown())}),p(2,"div",3),A(3,u8e,2,3,"div",4)(4,d8e,2,1,"div",0),h(),p(5,"span"),y(6),h(),A(7,f8e,2,1,"span",5),Ht(),p(8,"svg",6),O(9,"path",7),h()(),A(10,y8e,12,9,"div",8)(11,_8e,1,0,"div",9),h()}if(n&2){let e=M();g(),Ce("border-blue-500",e.selectedUserIds.length>0)("border-gray-300",e.selectedUserIds.length===0)("bg-blue-50",e.selectedUserIds.length>0)("ring-2",e.selectedUserIds.length>0)("ring-blue-200",e.selectedUserIds.length>0),g(2),x("ngForOf",e.getDisplayUserIds()),g(),x("ngIf",e.selectedUserIds.length===0),g(),Ce("text-blue-600",e.selectedUserIds.length>0)("font-medium",e.selectedUserIds.length>0)("text-gray-700",e.selectedUserIds.length===0),g(),H(" ",e.getSelectionText()," "),g(),x("ngIf",e.selectedUserIds.length>0),g(),Ce("text-blue-600",e.selectedUserIds.length>0)("text-gray-400",e.selectedUserIds.length===0)("rotate-180",e.isDropdownOpen),g(2),x("ngIf",e.isDropdownOpen),g(),x("ngIf",e.isDropdownOpen)}}var nr=(()=>{let t=class t{constructor(i,r){this.userService=i,this.userDataStateService=r,this.users=[],this.filteredUsers=[],this.selectedUserIds=[],this.selectAllUsers=new be,this.selectUsers=new be,this.totalUsers=new be,this.isDropdownOpen=!1,this.searchTerm="",this.maxDisplayAvatars=3,this.fallbackAvatarUrl=ui,this.multiUserAvatarUrl=jU}ngOnInit(){this.fetchTradingAccounts()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.users&&(this.users=i.users,this.filteredUsers=[...this.users],this.totalUsers.emit(this.users))}setCachedData(){this.userDataStateService.setState({users:this.users})}fetchTradingAccounts(){this.getCachedData(),this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data.filter(r=>r.active),this.filteredUsers=[...this.users],this.totalUsers.emit(i.data),this.setCachedData()}})}onAllUserClick(){this.selectedUserIds=[],this.selectAllUsers.emit(),this.closeDropdown()}toggleUserSelection(i){this.getUserByUserId(i)?.tokenStatus==="Valid"&&(this.selectedUserIds.includes(i)?this.selectedUserIds=this.selectedUserIds.filter(r=>r!==i):this.selectedUserIds.push(i),this.selectUsers.emit(this.selectedUserIds))}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&(this.searchTerm="",this.filteredUsers=[...this.users])}closeDropdown(){this.isDropdownOpen=!1,this.searchTerm=""}onSearchChange(){let i=this.searchTerm.toLowerCase().trim();i?this.filteredUsers=this.users.filter(r=>r.name.toLowerCase().includes(i)||r.userId.toLowerCase().includes(i)):this.filteredUsers=[...this.users]}clearSelection(){this.selectedUserIds=[],this.selectUsers.emit(this.selectedUserIds)}getFilteredUsers(){return this.filteredUsers}getDisplayUserIds(){return this.selectedUserIds.slice(0,this.maxDisplayAvatars)}getSelectionText(){return this.selectedUserIds.length===0?"All Accounts":this.selectedUserIds.length===1?this.getUserByUserId(this.selectedUserIds[0])?.name||this.selectedUserIds[0]:"Users Selected"}getAvatarUrl(i){return this.getUserByUserId(i)?.profile?.avatarURL||null}getUserName(i){return this.getUserByUserId(i)?.name||i}getUserByUserId(i){return this.users.find(r=>r.userId===i)}};t.\u0275fac=function(r){return new(r||t)(V(tr),V(Dn))},t.\u0275cmp=ie({type:t,selectors:[["app-user-filter"]],inputs:{selectedUserIds:"selectedUserIds"},outputs:{selectAllUsers:"selectAllUsers",selectUsers:"selectUsers",totalUsers:"totalUsers"},decls:1,vars:1,consts:[["class","relative",4,"ngIf"],[1,"relative"],[1,"flex","items-center","gap-2","px-3","py-2","border","rounded-md","bg-white","hover:bg-gray-50","focus:outline-none","text-sm","transition-all",3,"click"],[1,"flex","-space-x-2"],["class","relative",4,"ngFor","ngForOf"],["class","flex items-center justify-center w-5 h-5 bg-blue-600 text-white text-xs font-semibold rounded-full",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-96 overflow-hidden",4,"ngIf"],["class","fixed inset-0 z-40",3,"click",4,"ngIf"],["width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc","alt","title"],["alt","All Accounts","width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc"],[1,"flex","items-center","justify-center","w-5","h-5","bg-blue-600","text-white","text-xs","font-semibold","rounded-full"],[1,"absolute","right-0","mt-2","w-80","bg-white","border","border-gray-200","rounded-md","shadow-lg","z-50","max-h-96","overflow-hidden"],[1,"p-3","border-b","border-gray-200"],["type","text","placeholder","Search users...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-100","focus:border-blue-100","text-sm",3,"ngModelChange","input","ngModel"],[1,"p-2","border-b","border-gray-200","space-y-1"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-2",3,"click"],["alt","All Accounts","width","24","height","24",1,"w-6","h-6","rounded-full","object-cover",3,"ngSrc"],[1,"font-medium"],["class","ml-auto text-blue-600",4,"ngIf"],[1,"max-h-60","overflow-y-auto"],["class","p-4 text-center text-gray-500 text-sm",4,"ngIf"],["class","p-2",4,"ngFor","ngForOf"],[1,"ml-auto","text-blue-600"],[1,"p-4","text-center","text-gray-500","text-sm"],[1,"p-2"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-3",3,"click"],["width","32","height","32",1,"w-8","h-8","rounded-full","object-cover","flex-shrink-0",3,"ngSrc","alt"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-700","truncate"],[1,"text-xs","text-gray-500","truncate"],["class","text-xs text-red-500",4,"ngIf"],["class","text-blue-600 flex-shrink-0",4,"ngIf"],[1,"text-xs","text-red-500"],[1,"text-blue-600","flex-shrink-0"],[1,"fixed","inset-0","z-40",3,"click"]],template:function(r,o){r&1&&A(0,b8e,12,28,"div",0),r&2&&x("ngIf",o.users.length>1)},dependencies:[We,Ae,ye,kr,hn,Yt,Zt,Gi],styles:[".selected-user-filter[_ngcontent-%COMP%]{color:#007bff}"]});let n=t;return n})();function x8e(n,t,e){return(t=S8e(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function wH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function xe(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wH(Object(e),!0).forEach(function(i){x8e(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function C8e(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function S8e(n){var t=C8e(n,"string");return typeof t=="symbol"?t:t+""}var MH=()=>{},DT={},QH={},KH=null,JH={mark:MH,measure:MH};try{typeof window<"u"&&(DT=window),typeof document<"u"&&(QH=document),typeof MutationObserver<"u"&&(KH=MutationObserver),typeof performance<"u"&&(JH=performance)}catch{}var{userAgent:TH=""}=DT.navigator||{},jl=DT,Zn=QH,EH=KH,ng=JH,Vnt=!!jl.document,y2=!!Zn.documentElement&&!!Zn.head&&typeof Zn.addEventListener=="function"&&typeof Zn.createElement=="function",ej=~TH.indexOf("MSIE")||~TH.indexOf("Trident/"),w8e=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,M8e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,tj={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},T8e={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},nj=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Br="classic",lg="duotone",E8e="sharp",D8e="sharp-duotone",ij=[Br,lg,E8e,D8e],I8e={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},L8e={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},A8e=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),z8e={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},k8e=["fak","fa-kit","fakd","fa-kit-duotone"],DH={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},N8e=["kit"],P8e={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},O8e=["fak","fakd"],R8e={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},IH={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ig={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},F8e=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],B8e=["fak","fa-kit","fakd","fa-kit-duotone"],V8e={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},U8e={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},H8e={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},dT={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},j8e=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],fT=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...F8e,...j8e],G8e=["solid","regular","light","thin","duotone","brands"],rj=[1,2,3,4,5,6,7,8,9,10],W8e=rj.concat([11,12,13,14,15,16,17,18,19,20]),q8e=[...Object.keys(H8e),...G8e,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ig.GROUP,ig.SWAP_OPACITY,ig.PRIMARY,ig.SECONDARY].concat(rj.map(n=>"".concat(n,"x"))).concat(W8e.map(n=>"w-".concat(n))),$8e={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},g2="___FONT_AWESOME___",pT=16,oj="fa",aj="svg-inline--fa",$c="data-fa-i2svg",mT="data-fa-pseudo-element",Y8e="data-fa-pseudo-element-pending",IT="data-prefix",LT="data-icon",LH="fontawesome-i2svg",Z8e="async",X8e=["HTML","HEAD","STYLE","SCRIPT"],sj=(()=>{try{return!0}catch{return!1}})();function A5(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[Br]}})}var lj=xe({},tj);lj[Br]=xe(xe(xe(xe({},{"fa-duotone":"duotone"}),tj[Br]),DH.kit),DH["kit-duotone"]);var Q8e=A5(lj),hT=xe({},z8e);hT[Br]=xe(xe(xe(xe({},{duotone:"fad"}),hT[Br]),IH.kit),IH["kit-duotone"]);var AH=A5(hT),gT=xe({},dT);gT[Br]=xe(xe({},gT[Br]),R8e.kit);var AT=A5(gT),vT=xe({},U8e);vT[Br]=xe(xe({},vT[Br]),P8e.kit);var Unt=A5(vT),K8e=w8e,cj="fa-layers-text",J8e=M8e,epe=xe({},I8e),Hnt=A5(epe),tpe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],aT=T8e,npe=[...N8e,...q8e],E5=jl.FontAwesomeConfig||{};function ipe(n){var t=Zn.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function rpe(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Zn&&typeof Zn.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,i]=t,r=rpe(ipe(e));r!=null&&(E5[i]=r)});var uj={styleDefault:"solid",familyDefault:Br,cssPrefix:oj,replacementClass:aj,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};E5.familyPrefix&&(E5.cssPrefix=E5.familyPrefix);var X6=xe(xe({},uj),E5);X6.autoReplaceSvg||(X6.observeMutations=!1);var He={};Object.keys(uj).forEach(n=>{Object.defineProperty(He,n,{enumerable:!0,set:function(t){X6[n]=t,D5.forEach(e=>e(He))},get:function(){return X6[n]}})});Object.defineProperty(He,"familyPrefix",{enumerable:!0,set:function(n){X6.cssPrefix=n,D5.forEach(t=>t(He))},get:function(){return X6.cssPrefix}});jl.FontAwesomeConfig=He;var D5=[];function ope(n){return D5.push(n),()=>{D5.splice(D5.indexOf(n),1)}}var Hl=pT,cs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ape(n){if(!n||!y2)return;let t=Zn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;let e=Zn.head.childNodes,i=null;for(let r=e.length-1;r>-1;r--){let o=e[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=o)}return Zn.head.insertBefore(t,i),n}var spe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function I5(){let n=12,t="";for(;n-- >0;)t+=spe[Math.random()*62|0];return t}function Q6(n){let t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function zT(n){return n.classList?Q6(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function dj(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lpe(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(dj(n[e]),'" '),"").trim()}function cg(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function kT(n){return n.size!==cs.size||n.x!==cs.x||n.y!==cs.y||n.rotate!==cs.rotate||n.flipX||n.flipY}function cpe(n){let{transform:t,containerWidth:e,iconWidth:i}=n,r={transform:"translate(".concat(e/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(o," ").concat(a," ").concat(s)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:c}}function upe(n){let{transform:t,width:e=pT,height:i=pT,startCentered:r=!1}=n,o="";return r&&ej?o+="translate(".concat(t.x/Hl-e/2,"em, ").concat(t.y/Hl-i/2,"em) "):r?o+="translate(calc(-50% + ".concat(t.x/Hl,"em), calc(-50% + ").concat(t.y/Hl,"em)) "):o+="translate(".concat(t.x/Hl,"em, ").concat(t.y/Hl,"em) "),o+="scale(".concat(t.size/Hl*(t.flipX?-1:1),", ").concat(t.size/Hl*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}var dpe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function fj(){let n=oj,t=aj,e=He.cssPrefix,i=He.replacementClass,r=dpe;if(e!==n||i!==t){let o=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(o,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(s,".".concat(i))}return r}var zH=!1;function sT(){He.autoAddCss&&!zH&&(ape(fj()),zH=!0)}var fpe={mixout(){return{dom:{css:fj,insertCss:sT}}},hooks(){return{beforeDOMElementCreation(){sT()},beforeI2svg(){sT()}}}},v2=jl||{};v2[g2]||(v2[g2]={});v2[g2].styles||(v2[g2].styles={});v2[g2].hooks||(v2[g2].hooks={});v2[g2].shims||(v2[g2].shims=[]);var us=v2[g2],pj=[],mj=function(){Zn.removeEventListener("DOMContentLoaded",mj),ag=1,pj.map(n=>n())},ag=!1;y2&&(ag=(Zn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Zn.readyState),ag||Zn.addEventListener("DOMContentLoaded",mj));function ppe(n){y2&&(ag?setTimeout(n,0):pj.push(n))}function z5(n){let{tag:t,attributes:e={},children:i=[]}=n;return typeof n=="string"?dj(n):"<".concat(t," ").concat(lpe(e),">").concat(i.map(z5).join(""),"</").concat(t,">")}function kH(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var mpe=function(t,e){return function(i,r,o,a){return t.call(e,i,r,o,a)}},lT=function(t,e,i,r){var o=Object.keys(t),a=o.length,s=r!==void 0?mpe(e,r):e,l,c,u;for(i===void 0?(l=1,u=t[o[0]]):(l=0,u=i);l<a;l++)c=o[l],u=s(u,t[c],c,t);return u};function hpe(n){let t=[],e=0,i=n.length;for(;e<i;){let r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){let o=n.charCodeAt(e++);(o&64512)==56320?t.push(((r&1023)<<10)+(o&1023)+65536):(t.push(r),e--)}else t.push(r)}return t}function yT(n){let t=hpe(n);return t.length===1?t[0].toString(16):null}function gpe(n,t){let e=n.length,i=n.charCodeAt(t),r;return i>=55296&&i<=56319&&e>t+1&&(r=n.charCodeAt(t+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function NH(n){return Object.keys(n).reduce((t,e)=>{let i=n[e];return!!i.icon?t[i.iconName]=i.icon:t[e]=i,t},{})}function _T(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:i=!1}=e,r=NH(t);typeof us.hooks.addPack=="function"&&!i?us.hooks.addPack(n,NH(t)):us.styles[n]=xe(xe({},us.styles[n]||{}),r),n==="fas"&&_T("fa",t)}var{styles:L5,shims:vpe}=us,hj=Object.keys(AT),ype=hj.reduce((n,t)=>(n[t]=Object.keys(AT[t]),n),{}),NT=null,gj={},vj={},yj={},_j={},bj={};function _pe(n){return~npe.indexOf(n)}function bpe(n,t){let e=t.split("-"),i=e[0],r=e.slice(1).join("-");return i===n&&r!==""&&!_pe(r)?r:null}var xj=()=>{let n=i=>lT(L5,(r,o,a)=>(r[a]=lT(o,i,{}),r),{});gj=n((i,r,o)=>(r[3]&&(i[r[3]]=o),r[2]&&r[2].filter(s=>typeof s=="number").forEach(s=>{i[s.toString(16)]=o}),i)),vj=n((i,r,o)=>(i[o]=o,r[2]&&r[2].filter(s=>typeof s=="string").forEach(s=>{i[s]=o}),i)),bj=n((i,r,o)=>{let a=r[2];return i[o]=o,a.forEach(s=>{i[s]=o}),i});let t="far"in L5||He.autoFetchSvg,e=lT(vpe,(i,r)=>{let o=r[0],a=r[1],s=r[2];return a==="far"&&!t&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:s}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:s}),i},{names:{},unicodes:{}});yj=e.names,_j=e.unicodes,NT=ug(He.styleDefault,{family:He.familyDefault})};ope(n=>{NT=ug(n.styleDefault,{family:He.familyDefault})});xj();function PT(n,t){return(gj[n]||{})[t]}function xpe(n,t){return(vj[n]||{})[t]}function qc(n,t){return(bj[n]||{})[t]}function Cj(n){return yj[n]||{prefix:null,iconName:null}}function Cpe(n){let t=_j[n],e=PT("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Gl(){return NT}var Sj=()=>({prefix:null,iconName:null,rest:[]});function Spe(n){let t=Br,e=hj.reduce((i,r)=>(i[r]="".concat(He.cssPrefix,"-").concat(r),i),{});return ij.forEach(i=>{(n.includes(e[i])||n.some(r=>ype[i].includes(r)))&&(t=i)}),t}function ug(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:e=Br}=t,i=Q8e[e][n];if(e===lg&&!n)return"fad";let r=AH[e][n]||AH[e][i],o=n in us.styles?n:null;return r||o||null}function wpe(n){let t=[],e=null;return n.forEach(i=>{let r=bpe(He.cssPrefix,i);r?e=r:i&&t.push(i)}),{iconName:e,rest:t}}function PH(n){return n.sort().filter((t,e,i)=>i.indexOf(t)===e)}function dg(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:e=!1}=t,i=null,r=fT.concat(B8e),o=PH(n.filter(d=>r.includes(d))),a=PH(n.filter(d=>!fT.includes(d))),s=o.filter(d=>(i=d,!nj.includes(d))),[l=null]=s,c=Spe(o),u=xe(xe({},wpe(a)),{},{prefix:ug(l,{family:c})});return xe(xe(xe({},u),Dpe({values:n,family:c,styles:L5,config:He,canonical:u,givenPrefix:i})),Mpe(e,i,u))}function Mpe(n,t,e){let{prefix:i,iconName:r}=e;if(n||!i||!r)return{prefix:i,iconName:r};let o=t==="fa"?Cj(r):{},a=qc(i,r);return r=o.iconName||a||r,i=o.prefix||i,i==="far"&&!L5.far&&L5.fas&&!He.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var Tpe=ij.filter(n=>n!==Br||n!==lg),Epe=Object.keys(dT).filter(n=>n!==Br).map(n=>Object.keys(dT[n])).flat();function Dpe(n){let{values:t,family:e,canonical:i,givenPrefix:r="",styles:o={},config:a={}}=n,s=e===lg,l=t.includes("fa-duotone")||t.includes("fad"),c=a.familyDefault==="duotone",u=i.prefix==="fad"||i.prefix==="fa-duotone";if(!s&&(l||c||u)&&(i.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab"),!i.prefix&&Tpe.includes(e)&&(Object.keys(o).find(f=>Epe.includes(f))||a.autoFetchSvg)){let f=A8e.get(e).defaultShortPrefixId;i.prefix=f,i.iconName=qc(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||r==="fa")&&(i.prefix=Gl()||"fas"),i}var bT=class{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let r=e.reduce(this._pullDefinitions,{});Object.keys(r).forEach(o=>{this.definitions[o]=xe(xe({},this.definitions[o]||{}),r[o]),_T(o,r[o]);let a=AT[Br][o];a&&_T(a,r[o]),xj()})}reset(){this.definitions={}}_pullDefinitions(t,e){let i=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(i).map(r=>{let{prefix:o,iconName:a,icon:s}=i[r],l=s[2];t[o]||(t[o]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(t[o][c]=s)}),t[o][a]=s}),t}},OH=[],Y6={},Z6={},Ipe=Object.keys(Z6);function Lpe(n,t){let{mixoutsTo:e}=t;return OH=n,Y6={},Object.keys(Z6).forEach(i=>{Ipe.indexOf(i)===-1&&delete Z6[i]}),OH.forEach(i=>{let r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(o=>{typeof r[o]=="function"&&(e[o]=r[o]),typeof r[o]=="object"&&Object.keys(r[o]).forEach(a=>{e[o]||(e[o]={}),e[o][a]=r[o][a]})}),i.hooks){let o=i.hooks();Object.keys(o).forEach(a=>{Y6[a]||(Y6[a]=[]),Y6[a].push(o[a])})}i.provides&&i.provides(Z6)}),e}function xT(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];return(Y6[n]||[]).forEach(a=>{t=a.apply(null,[t,...i])}),t}function Yc(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];(Y6[n]||[]).forEach(o=>{o.apply(null,e)})}function Wl(){let n=arguments[0],t=Array.prototype.slice.call(arguments,1);return Z6[n]?Z6[n].apply(null,t):void 0}function CT(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n,e=n.prefix||Gl();if(t)return t=qc(e,t)||t,kH(wj.definitions,e,t)||kH(us.styles,e,t)}var wj=new bT,Ape=()=>{He.autoReplaceSvg=!1,He.observeMutations=!1,Yc("noAuto")},zpe={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return y2?(Yc("beforeI2svg",n),Wl("pseudoElements2svg",n),Wl("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:t}=n;He.autoReplaceSvg===!1&&(He.autoReplaceSvg=!0),He.observeMutations=!0,ppe(()=>{Npe({autoReplaceSvgRoot:t}),Yc("watch",n)})}},kpe={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:qc(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=ug(n[0]);return{prefix:e,iconName:qc(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(He.cssPrefix,"-"))>-1||n.match(K8e))){let t=dg(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||Gl(),iconName:qc(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){let t=Gl();return{prefix:t,iconName:qc(t,n)||n}}}},sa={noAuto:Ape,config:He,dom:zpe,parse:kpe,library:wj,findIconDefinition:CT,toHtml:z5},Npe=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:t=Zn}=n;(Object.keys(us.styles).length>0||He.autoFetchSvg)&&y2&&He.autoReplaceSvg&&sa.dom.i2svg({node:t})};function fg(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>z5(e))}}),Object.defineProperty(n,"node",{get:function(){if(!y2)return;let e=Zn.createElement("div");return e.innerHTML=n.html,e.children}}),n}function Ppe(n){let{children:t,main:e,mask:i,attributes:r,styles:o,transform:a}=n;if(kT(a)&&e.found&&!i.found){let{width:s,height:l}=e,c={x:s/l/2,y:.5};r.style=cg(xe(xe({},o),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function Ope(n){let{prefix:t,iconName:e,children:i,attributes:r,symbol:o}=n,a=o===!0?"".concat(t,"-").concat(He.cssPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:xe(xe({},r),{},{id:a}),children:i}]}]}function OT(n){let{icons:{main:t,mask:e},prefix:i,iconName:r,transform:o,symbol:a,title:s,maskId:l,titleId:c,extra:u,watchable:d=!1}=n,{width:f,height:m}=e.found?e:t,v=O8e.includes(i),_=[He.replacementClass,r?"".concat(He.cssPrefix,"-").concat(r):""].filter(L=>u.classes.indexOf(L)===-1).filter(L=>L!==""||!!L).concat(u.classes).join(" "),b={children:[],attributes:xe(xe({},u.attributes),{},{"data-prefix":i,"data-icon":r,class:_,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(m)})},C=v&&!~u.classes.indexOf("fa-fw")?{width:"".concat(f/m*16*.0625,"em")}:{};d&&(b.attributes[$c]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||I5())},children:[s]}),delete b.attributes.title);let w=xe(xe({},b),{},{prefix:i,iconName:r,main:t,mask:e,maskId:l,transform:o,symbol:a,styles:xe(xe({},C),u.styles)}),{children:E,attributes:D}=e.found&&t.found?Wl("generateAbstractMask",w)||{children:[],attributes:{}}:Wl("generateAbstractIcon",w)||{children:[],attributes:{}};return w.children=E,w.attributes=D,a?Ope(w):Ppe(w)}function RH(n){let{content:t,width:e,height:i,transform:r,title:o,extra:a,watchable:s=!1}=n,l=xe(xe(xe({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});s&&(l[$c]="");let c=xe({},a.styles);kT(r)&&(c.transform=upe({transform:r,startCentered:!0,width:e,height:i}),c["-webkit-transform"]=c.transform);let u=cg(c);u.length>0&&(l.style=u);let d=[];return d.push({tag:"span",attributes:l,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function Rpe(n){let{content:t,title:e,extra:i}=n,r=xe(xe(xe({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),o=cg(i.styles);o.length>0&&(r.style=o);let a=[];return a.push({tag:"span",attributes:r,children:[t]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}var{styles:cT}=us;function ST(n){let t=n[0],e=n[1],[i]=n.slice(4),r=null;return Array.isArray(i)?r={tag:"g",attributes:{class:"".concat(He.cssPrefix,"-").concat(aT.GROUP)},children:[{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(aT.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(aT.PRIMARY),fill:"currentColor",d:i[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:e,icon:r}}var Fpe={found:!1,width:512,height:512};function Bpe(n,t){!sj&&!He.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function wT(n,t){let e=t;return t==="fa"&&He.styleDefault!==null&&(t=Gl()),new Promise((i,r)=>{if(e==="fa"){let o=Cj(n)||{};n=o.iconName||n,t=o.prefix||t}if(n&&t&&cT[t]&&cT[t][n]){let o=cT[t][n];return i(ST(o))}Bpe(n,t),i(xe(xe({},Fpe),{},{icon:He.showMissingIcons&&n?Wl("missingIconAbstract")||{}:{}}))})}var FH=()=>{},MT=He.measurePerformance&&ng&&ng.mark&&ng.measure?ng:{mark:FH,measure:FH},T5='FA "6.7.2"',Vpe=n=>(MT.mark("".concat(T5," ").concat(n," begins")),()=>Mj(n)),Mj=n=>{MT.mark("".concat(T5," ").concat(n," ends")),MT.measure("".concat(T5," ").concat(n),"".concat(T5," ").concat(n," begins"),"".concat(T5," ").concat(n," ends"))},RT={begin:Vpe,end:Mj},rg=()=>{};function BH(n){return typeof(n.getAttribute?n.getAttribute($c):null)=="string"}function Upe(n){let t=n.getAttribute?n.getAttribute(IT):null,e=n.getAttribute?n.getAttribute(LT):null;return t&&e}function Hpe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(He.replacementClass)}function jpe(){return He.autoReplaceSvg===!0?og.replace:og[He.autoReplaceSvg]||og.replace}function Gpe(n){return Zn.createElementNS("http://www.w3.org/2000/svg",n)}function Wpe(n){return Zn.createElement(n)}function Tj(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:e=n.tag==="svg"?Gpe:Wpe}=t;if(typeof n=="string")return Zn.createTextNode(n);let i=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(Tj(o,{ceFn:e}))}),i}function qpe(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var og={replace:function(n){let t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(Tj(e),t)}),t.getAttribute($c)===null&&He.keepOriginalSource){let e=Zn.createComment(qpe(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){let t=n[0],e=n[1];if(~zT(t).indexOf(He.replacementClass))return og.replace(n);let i=new RegExp("".concat(He.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){let o=e[0].attributes.class.split(" ").reduce((a,s)=>(s===He.replacementClass||s.match(i)?a.toSvg.push(s):a.toNode.push(s),a),{toNode:[],toSvg:[]});e[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}let r=e.map(o=>z5(o)).join(`
`);t.setAttribute($c,""),t.innerHTML=r}};function VH(n){n()}function Ej(n,t){let e=typeof t=="function"?t:rg;if(n.length===0)e();else{let i=VH;He.mutateApproach===Z8e&&(i=jl.requestAnimationFrame||VH),i(()=>{let r=jpe(),o=RT.begin("mutate");n.map(r),o(),e()})}}var FT=!1;function Dj(){FT=!0}function TT(){FT=!1}var sg=null;function UH(n){if(!EH||!He.observeMutations)return;let{treeCallback:t=rg,nodeCallback:e=rg,pseudoElementsCallback:i=rg,observeMutationsRoot:r=Zn}=n;sg=new EH(o=>{if(FT)return;let a=Gl();Q6(o).forEach(s=>{if(s.type==="childList"&&s.addedNodes.length>0&&!BH(s.addedNodes[0])&&(He.searchPseudoElements&&i(s.target),t(s.target)),s.type==="attributes"&&s.target.parentNode&&He.searchPseudoElements&&i(s.target.parentNode),s.type==="attributes"&&BH(s.target)&&~tpe.indexOf(s.attributeName))if(s.attributeName==="class"&&Upe(s.target)){let{prefix:l,iconName:c}=dg(zT(s.target));s.target.setAttribute(IT,l||a),c&&s.target.setAttribute(LT,c)}else Hpe(s.target)&&e(s.target)})}),y2&&sg.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function $pe(){sg&&sg.disconnect()}function Ype(n){let t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce((i,r)=>{let o=r.split(":"),a=o[0],s=o.slice(1);return a&&s.length>0&&(i[a]=s.join(":").trim()),i},{})),e}function Zpe(n){let t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=dg(zT(n));return r.prefix||(r.prefix=Gl()),t&&e&&(r.prefix=t,r.iconName=e),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=xpe(r.prefix,n.innerText)||PT(r.prefix,yT(n.innerText))),!r.iconName&&He.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function Xpe(n){let t=Q6(n.attributes).reduce((r,o)=>(r.name!=="class"&&r.name!=="style"&&(r[o.name]=o.value),r),{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return He.autoA11y&&(e?t["aria-labelledby"]="".concat(He.replacementClass,"-title-").concat(i||I5()):(t["aria-hidden"]="true",t.focusable="false")),t}function Qpe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:cs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function HH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:e,prefix:i,rest:r}=Zpe(n),o=Xpe(n),a=xT("parseNodeAttributes",{},n),s=t.styleParser?Ype(n):[];return xe({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:cs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:s,attributes:o}},a)}var{styles:Kpe}=us;function Ij(n){let t=He.autoReplaceSvg==="nest"?HH(n,{styleParser:!1}):HH(n);return~t.extra.classes.indexOf(cj)?Wl("generateLayersText",n,t):Wl("generateSvgReplacementMutation",n,t)}function Jpe(){return[...k8e,...fT]}function jH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!y2)return Promise.resolve();let e=Zn.documentElement.classList,i=u=>e.add("".concat(LH,"-").concat(u)),r=u=>e.remove("".concat(LH,"-").concat(u)),o=He.autoFetchSvg?Jpe():nj.concat(Object.keys(Kpe));o.includes("fa")||o.push("fa");let a=[".".concat(cj,":not([").concat($c,"])")].concat(o.map(u=>".".concat(u,":not([").concat($c,"])"))).join(", ");if(a.length===0)return Promise.resolve();let s=[];try{s=Q6(n.querySelectorAll(a))}catch{}if(s.length>0)i("pending"),r("complete");else return Promise.resolve();let l=RT.begin("onTree"),c=s.reduce((u,d)=>{try{let f=Ij(d);f&&u.push(f)}catch(f){sj||f.name==="MissingIcon"&&console.error(f)}return u},[]);return new Promise((u,d)=>{Promise.all(c).then(f=>{Ej(f,()=>{i("active"),i("complete"),r("pending"),typeof t=="function"&&t(),l(),u()})}).catch(f=>{l(),d(f)})})}function e7e(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Ij(n).then(e=>{e&&Ej([e],t)})}function t7e(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:CT(t||{}),{mask:r}=e;return r&&(r=(r||{}).icon?r:CT(r||{})),n(i,xe(xe({},e),{},{mask:r}))}}var n7e=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=cs,symbol:i=!1,mask:r=null,maskId:o=null,title:a=null,titleId:s=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!n)return;let{prefix:d,iconName:f,icon:m}=n;return fg(xe({type:"icon"},n),()=>(Yc("beforeDOMElementCreation",{iconDefinition:n,params:t}),He.autoA11y&&(a?c["aria-labelledby"]="".concat(He.replacementClass,"-title-").concat(s||I5()):(c["aria-hidden"]="true",c.focusable="false")),OT({icons:{main:ST(m),mask:r?ST(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:f,transform:xe(xe({},cs),e),symbol:i,title:a,maskId:o,titleId:s,extra:{attributes:c,styles:u,classes:l}})))},i7e={mixout(){return{icon:t7e(n7e)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=jH,n.nodeCallback=e7e,n}}},provides(n){n.i2svg=function(t){let{node:e=Zn,callback:i=()=>{}}=t;return jH(e,i)},n.generateSvgReplacementMutation=function(t,e){let{iconName:i,title:r,titleId:o,prefix:a,transform:s,symbol:l,mask:c,maskId:u,extra:d}=e;return new Promise((f,m)=>{Promise.all([wT(i,a),c.iconName?wT(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[_,b]=v;f([t,OT({icons:{main:_,mask:b},prefix:a,iconName:i,transform:s,symbol:l,maskId:u,title:r,titleId:o,extra:d,watchable:!0})])}).catch(m)})},n.generateAbstractIcon=function(t){let{children:e,attributes:i,main:r,transform:o,styles:a}=t,s=cg(a);s.length>0&&(i.style=s);let l;return kT(o)&&(l=Wl("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),e.push(l||r.icon),{children:e,attributes:i}}}},r7e={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:e=[]}=t;return fg({type:"layer"},()=>{Yc("beforeDOMElementCreation",{assembler:n,params:t});let i=[];return n(r=>{Array.isArray(r)?r.map(o=>{i=i.concat(o.abstract)}):i=i.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(He.cssPrefix,"-layers"),...e].join(" ")},children:i}]})}}}},o7e={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:e=null,classes:i=[],attributes:r={},styles:o={}}=t;return fg({type:"counter",content:n},()=>(Yc("beforeDOMElementCreation",{content:n,params:t}),Rpe({content:n.toString(),title:e,extra:{attributes:r,styles:o,classes:["".concat(He.cssPrefix,"-layers-counter"),...i]}})))}}}},a7e={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=cs,title:i=null,classes:r=[],attributes:o={},styles:a={}}=t;return fg({type:"text",content:n},()=>(Yc("beforeDOMElementCreation",{content:n,params:t}),RH({content:n,transform:xe(xe({},cs),e),title:i,extra:{attributes:o,styles:a,classes:["".concat(He.cssPrefix,"-layers-text"),...r]}})))}}},provides(n){n.generateLayersText=function(t,e){let{title:i,transform:r,extra:o}=e,a=null,s=null;if(ej){let l=parseInt(getComputedStyle(t).fontSize,10),c=t.getBoundingClientRect();a=c.width/l,s=c.height/l}return He.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,RH({content:t.innerHTML,width:a,height:s,transform:r,title:i,extra:o,watchable:!0})])}}},s7e=new RegExp('"',"ug"),GH=[1105920,1112319],WH=xe(xe(xe(xe({},{FontAwesome:{normal:"fas",400:"fas"}}),L8e),$8e),V8e),ET=Object.keys(WH).reduce((n,t)=>(n[t.toLowerCase()]=WH[t],n),{}),l7e=Object.keys(ET).reduce((n,t)=>{let e=ET[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function c7e(n){let t=n.replace(s7e,""),e=gpe(t,0),i=e>=GH[0]&&e<=GH[1],r=t.length===2?t[0]===t[1]:!1;return{value:yT(r?t[0]:t),isSecondary:i||r}}function u7e(n,t){let e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),r=isNaN(i)?"normal":i;return(ET[e]||{})[r]||l7e[e]}function qH(n,t){let e="".concat(Y8e).concat(t.replace(":","-"));return new Promise((i,r)=>{if(n.getAttribute(e)!==null)return i();let a=Q6(n.children).filter(f=>f.getAttribute(mT)===t)[0],s=jl.getComputedStyle(n,t),l=s.getPropertyValue("font-family"),c=l.match(J8e),u=s.getPropertyValue("font-weight"),d=s.getPropertyValue("content");if(a&&!c)return n.removeChild(a),i();if(c&&d!=="none"&&d!==""){let f=s.getPropertyValue("content"),m=u7e(l,u),{value:v,isSecondary:_}=c7e(f),b=c[0].startsWith("FontAwesome"),C=PT(m,v),w=C;if(b){let E=Cpe(v);E.iconName&&E.prefix&&(C=E.iconName,m=E.prefix)}if(C&&!_&&(!a||a.getAttribute(IT)!==m||a.getAttribute(LT)!==w)){n.setAttribute(e,w),a&&n.removeChild(a);let E=Qpe(),{extra:D}=E;D.attributes[mT]=t,wT(C,m).then(L=>{let P=OT(xe(xe({},E),{},{icons:{main:L,mask:Sj()},prefix:m,iconName:w,extra:D,watchable:!0})),F=Zn.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(F,n.firstChild):n.appendChild(F),F.outerHTML=P.map(G=>z5(G)).join(`
`),n.removeAttribute(e),i()}).catch(r)}else i()}else i()})}function d7e(n){return Promise.all([qH(n,"::before"),qH(n,"::after")])}function f7e(n){return n.parentNode!==document.head&&!~X8e.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(mT)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function $H(n){if(y2)return new Promise((t,e)=>{let i=Q6(n.querySelectorAll("*")).filter(f7e).map(d7e),r=RT.begin("searchPseudoElements");Dj(),Promise.all(i).then(()=>{r(),TT(),t()}).catch(()=>{r(),TT(),e()})})}var p7e={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=$H,n}}},provides(n){n.pseudoElements2svg=function(t){let{node:e=Zn}=t;He.searchPseudoElements&&$H(e)}}},YH=!1,m7e={mixout(){return{dom:{unwatch(){Dj(),YH=!0}}}},hooks(){return{bootstrap(){UH(xT("mutationObserverCallbacks",{}))},noAuto(){$pe()},watch(n){let{observeMutationsRoot:t}=n;YH?TT():UH(xT("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},ZH=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,i)=>{let r=i.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return e.flipX=!0,e;if(o&&a==="v")return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(o){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a;break}return e},t)},h7e={mixout(){return{parse:{transform:n=>ZH(n)}}},hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-transform");return e&&(n.transform=ZH(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:i,containerWidth:r,iconWidth:o}=t,a={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(i.x*32,", ").concat(i.y*32,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),u={transform:"".concat(s," ").concat(l," ").concat(c)},d={transform:"translate(".concat(o/2*-1," -256)")},f={outer:a,inner:u,path:d};return{tag:"g",attributes:xe({},f.outer),children:[{tag:"g",attributes:xe({},f.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:xe(xe({},e.icon.attributes),f.path)}]}]}}}},uT={x:0,y:0,width:"100%",height:"100%"};function XH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function g7e(n){return n.tag==="g"?n.children:[n]}var v7e={hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-mask"),i=e?dg(e.split(" ").map(r=>r.trim())):Sj();return i.prefix||(i.prefix=Gl()),n.mask=i,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:i,main:r,mask:o,maskId:a,transform:s}=t,{width:l,icon:c}=r,{width:u,icon:d}=o,f=cpe({transform:s,containerWidth:u,iconWidth:l}),m={tag:"rect",attributes:xe(xe({},uT),{},{fill:"white"})},v=c.children?{children:c.children.map(XH)}:{},_={tag:"g",attributes:xe({},f.inner),children:[XH(xe({tag:c.tag,attributes:xe(xe({},c.attributes),f.path)},v))]},b={tag:"g",attributes:xe({},f.outer),children:[_]},C="mask-".concat(a||I5()),w="clip-".concat(a||I5()),E={tag:"mask",attributes:xe(xe({},uT),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,b]},D={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:g7e(d)},E]};return e.push(D,{tag:"rect",attributes:xe({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(C,")")},uT)}),{children:e,attributes:i}}}},y7e={provides(n){let t=!1;jl.matchMedia&&(t=jl.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let e=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:xe(xe({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let o=xe(xe({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:xe(xe({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:xe(xe({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:xe(xe({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:xe(xe({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:xe(xe({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:xe(xe({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:xe(xe({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},_7e={hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-symbol"),i=e===null?!1:e===""?!0:e;return n.symbol=i,n}}}},b7e=[fpe,i7e,r7e,o7e,a7e,p7e,m7e,h7e,v7e,y7e,_7e];Lpe(b7e,{mixoutsTo:sa});var jnt=sa.noAuto,Lj=sa.config,Gnt=sa.library,Aj=sa.dom,zj=sa.parse,Wnt=sa.findIconDefinition,qnt=sa.toHtml,kj=sa.icon,$nt=sa.layer,x7e=sa.text,C7e=sa.counter;var S7e=["*"],w7e=(()=>{class n{defaultPrefix="fas";fallbackIcon=null;fixedWidth;set autoAddCss(e){Lj.autoAddCss=e,this._autoAddCss=e}get autoAddCss(){return this._autoAddCss}_autoAddCss=!0;static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M7e=(()=>{class n{definitions={};addIcons(...e){for(let i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let r of i.icon[2])typeof r=="string"&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(let i of e){let r=Object.keys(i).map(o=>i[o]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T7e=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},E7e=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},Pj=n=>n!=null&&(n===90||n===180||n===270||n==="90"||n==="180"||n==="270"),D7e=n=>{let t=Pj(n.rotate),e={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:t,"fa-rotate-by":n.rotate!=null&&!t,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(e).map(i=>e[i]?i:null).filter(i=>i!=null)},BT=new WeakSet,Nj="fa-auto-css";function I7e(n,t){if(!t.autoAddCss||BT.has(n))return;if(n.getElementById(Nj)!=null){t.autoAddCss=!1,BT.add(n);return}let e=n.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id",Nj),e.innerHTML=Aj.css();let i=n.head.childNodes,r=null;for(let o=i.length-1;o>-1;o--){let a=i[o],s=a.nodeName.toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=a)}n.head.insertBefore(e,r),t.autoAddCss=!1,BT.add(n)}var L7e=n=>n.prefix!==void 0&&n.iconName!==void 0,A7e=(n,t)=>L7e(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:t,iconName:n},z7e=(()=>{class n{stackItemSize=M6("1x");size=M6();_effect=w6(()=>{if(this.size())throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')});static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:[1,"stackItemSize"],size:[1,"size"]}})}return n})(),k7e=(()=>{class n{size=M6();classes=c2(()=>{let e=this.size(),i=e?{[`fa-${e}`]:!0}:{};return De(Q({},i),{"fa-stack":!0})});static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["fa-stack"]],hostVars:2,hostBindings:function(i,r){i&2&&Fn(r.classes())},inputs:{size:[1,"size"]},ngContentSelectors:S7e,decls:1,vars:0,template:function(i,r){i&1&&(y1(),Ea(0))},encapsulation:2,changeDetection:0})}return n})(),at=(()=>{class n{icon=uo.required();title=uo();animation=uo();mask=uo();flip=uo();size=uo();pull=uo();border=uo();inverse=uo();symbol=uo();rotate=uo();fixedWidth=uo();transform=uo();a11yRole=uo();renderedIconHTML=c2(()=>{let e=this.icon();if(e==null&&this.config.fallbackIcon==null)return E7e(),"";let i=this.findIconDefinition(e??this.config.fallbackIcon);if(!i)return"";let r=this.buildParams();I7e(this.document,this.config);let o=kj(i,r);return this.sanitizer.bypassSecurityTrustHtml(o.html.join(`
`))});document=B(Te);sanitizer=B(Jf);config=B(w7e);iconLibrary=B(M7e);stackItem=B(z7e,{optional:!0});stack=B(k7e,{optional:!0});constructor(){this.stack!=null&&this.stackItem==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}findIconDefinition(e){let i=A7e(e,this.config.defaultPrefix);if("icon"in i)return i;let r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return r??(T7e(i),null)}buildParams(){let e=this.fixedWidth(),i={flip:this.flip(),animation:this.animation(),border:this.border(),inverse:this.inverse(),size:this.size(),pull:this.pull(),rotate:this.rotate(),fixedWidth:typeof e=="boolean"?e:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize():void 0},r=this.transform(),o=typeof r=="string"?zj.transform(r):r,a=this.mask(),s=a!=null?this.findIconDefinition(a):null,l={},c=this.a11yRole();c!=null&&(l.role=c);let u={};return i.rotate!=null&&!Pj(i.rotate)&&(u["--fa-rotate-angle"]=`${i.rotate}`),{title:this.title(),transform:o,classes:D7e(i),mask:s??void 0,symbol:this.symbol(),attributes:l,styles:u}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){i&2&&(Ll("innerHTML",r.renderedIconHTML(),v6),Mn("title",r.title()))},inputs:{icon:[1,"icon"],title:[1,"title"],animation:[1,"animation"],mask:[1,"mask"],flip:[1,"flip"],size:[1,"size"],pull:[1,"pull"],border:[1,"border"],inverse:[1,"inverse"],symbol:[1,"symbol"],rotate:[1,"rotate"],fixedWidth:[1,"fixedWidth"],transform:[1,"transform"],a11yRole:[1,"a11yRole"]},outputs:{icon:"iconChange",title:"titleChange",animation:"animationChange",mask:"maskChange",flip:"flipChange",size:"sizeChange",pull:"pullChange",border:"borderChange",inverse:"inverseChange",symbol:"symbolChange",rotate:"rotateChange",fixedWidth:"fixedWidthChange",transform:"transformChange",a11yRole:"a11yRoleChange"},decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();var Oj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({})}return n})();var pg={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]};var mg={prefix:"fas",iconName:"arrow-trend-up",icon:[576,512,[],"e098","M384 160c-17.7 0-32-14.3-32-32s14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-82.7-169.4 169.4c-12.5 12.5-32.8 12.5-45.3 0L192 269.3 54.6 406.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160c12.5-12.5 32.8-12.5 45.3 0L320 306.7 466.7 160 384 160z"]};var K6={prefix:"fas",iconName:"wallet",icon:[512,512,[],"f555","M64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64L72 128c-13.3 0-24-10.7-24-24S58.7 80 72 80l384 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L64 32zM416 256a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]};var Rj={prefix:"fas",iconName:"trophy",icon:[512,512,[127942],"f091","M144.3 0l224 0c26.5 0 48.1 21.8 47.1 48.2-.2 5.3-.4 10.6-.7 15.8l49.6 0c26.1 0 49.1 21.6 47.1 49.8-7.5 103.7-60.5 160.7-118 190.5-15.8 8.2-31.9 14.3-47.2 18.8-20.2 28.6-41.2 43.7-57.9 51.8l0 73.1 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0 0-73.1c-16-7.7-35.9-22-55.3-48.3-18.4-4.8-38.4-12.1-57.9-23.1-54.1-30.3-102.9-87.4-109.9-189.9-1.9-28.1 21-49.7 47.1-49.7l49.6 0c-.3-5.2-.5-10.4-.7-15.8-1-26.5 20.6-48.2 47.1-48.2zM101.5 112l-52.4 0c6.2 84.7 45.1 127.1 85.2 149.6-14.4-37.3-26.3-86-32.8-149.6zM380 256.8c40.5-23.8 77.1-66.1 83.3-144.8L411 112c-6.2 60.9-17.4 108.2-31 144.8z"]};var Fj={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M224 248a120 120 0 1 1 0-240 120 120 0 1 1 0 240zm-30.5 56l61 0c9.7 0 17.5 7.8 17.5 17.5 0 4.2-1.5 8.2-4.2 11.4l-27.4 32 31 115.1 .6 0 34.6-138.5c2.2-8.7 11.1-14 19.5-10.8 61.9 23.6 105.9 83.6 105.9 153.8 0 15.1-12.3 27.4-27.4 27.4L43.4 512c-15.1 0-27.4-12.3-27.4-27.4 0-70.2 44-130.2 105.9-153.8 8.4-3.2 17.3 2.1 19.5 10.8l34.6 138.5 .6 0 31-115.1-27.4-32c-2.7-3.2-4.2-7.2-4.2-11.4 0-9.7 7.8-17.5 17.5-17.5z"]};var N7e={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},ql=N7e;var Bj={prefix:"fas",iconName:"s",icon:[320,512,[115],"53","M0 157.5C0 88.2 56.2 32 125.5 32L272 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L125.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61L210.1 230C272.9 237.9 320 291.2 320 354.5 320 423.8 263.8 480 194.5 480L48 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-31-23.1-57.2-53.9-61L109.9 282C47.1 274.1 0 220.8 0 157.5z"]};var ds={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]};var $l={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]};var Vj={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M32 32C14.3 32 0 46.3 0 64l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-64 64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 32zM64 352c0-17.7-14.3-32-32-32S0 334.3 0 352l0 96c0 17.7 14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0 0-64zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0 0 64c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-96 0zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32l0-96z"]};var Uj={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]};var P7e={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},Hj=P7e;var hg={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M345 273c9.4-9.4 9.4-24.6 0-33.9L201 95c-6.9-6.9-17.2-8.9-26.2-5.2S160 102.3 160 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L345 273zm7 143c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0z"]};var O7e={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},jj=O7e;var J6={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]};var k5={prefix:"fas",iconName:"cart-plus",icon:[640,512,[],"f217","M0 8C0-5.3 10.7-16 24-16l45.3 0c27.1 0 50.3 19.4 55.1 46l.4 2 412.7 0c20 0 35.1 18.2 31.4 37.9L537.8 235.8c-5.7 30.3-32.1 52.2-62.9 52.2l-303.6 0 5.1 28.3c2.1 11.4 12 19.7 23.6 19.7L456 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-255.9 0c-34.8 0-64.6-24.9-70.8-59.1L77.2 38.6c-.7-3.8-4-6.6-7.9-6.6L24 32C10.7 32 0 21.3 0 8zM160 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm224 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM336 78.4c-13.3 0-24 10.7-24 24l0 33.6-33.6 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l33.6 0 0 33.6c0 13.3 10.7 24 24 24s24-10.7 24-24l0-33.6 33.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-33.6 0 0-33.6c0-13.3-10.7-24-24-24z"]};var Gj={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M128 320L24.5 320c-24.9 0-40.2-27.1-27.4-48.5L50 183.3C58.7 168.8 74.3 160 91.2 160l95 0c76.1-128.9 189.6-135.4 265.5-124.3 12.8 1.9 22.8 11.9 24.6 24.6 11.1 75.9 4.6 189.4-124.3 265.5l0 95c0 16.9-8.8 32.5-23.3 41.2l-88.2 52.9c-21.3 12.8-48.5-2.6-48.5-27.4L192 384c0-35.3-28.7-64-64-64l-.1 0zM400 160a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]};var Wj={prefix:"fas",iconName:"b",icon:[320,512,[98],"42","M32 32C14.3 32 0 46.3 0 64L0 448c0 17.7 14.3 32 32 32l160 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM160 224l-96 0 0-128 96 0c35.3 0 64 28.7 64 64s-28.7 64-64 64zM64 288l128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0 0-128z"]};var gg={prefix:"fas",iconName:"money-bill-trend-up",icon:[512,512,[],"e529","M480 8c0-13.3-10.7-24-24-24L354.2-16c-13.3 0-24 10.7-24 24s10.7 24 24 24l43.9 0-111.3 111.3-95.1-81.5c-9-7.7-22.2-7.7-31.2 0l-112 96c-10.1 8.6-11.2 23.8-2.6 33.8s23.8 11.2 33.8 2.6l96.4-82.6 96.4 82.6c9.5 8.2 23.7 7.6 32.6-1.3l127-127 0 43.9c0 13.3 10.7 24 24 24s24-10.7 24-24L480 8zM48 256c-26.5 0-48 21.5-48 48L0 464c0 26.5 21.5 48 48 48l416 0c26.5 0 48-21.5 48-48l0-160c0-26.5-21.5-48-48-48L48 256zm47.3 56c-3.4 20.1-19.2 36-39.4 39.4-4.4 .7-8-2.9-8-7.3l0-32c0-4.4 3.6-8 8-8l32 0c4.4 0 8.1 3.6 7.3 8zm0 144.1c.7 4.4-2.9 8-7.3 8l-32 0c-4.4 0-8-3.6-8-8l0-32c0-4.4 3.6-8.1 8-7.3 20.1 3.4 36 19.2 39.4 39.4zM456 416.7c4.4-.7 8 2.9 8 7.3l0 32c0 4.4-3.6 8-8 8l-32 0c-4.4 0-8.1-3.6-7.3-8 3.4-20.1 19.2-36 39.4-39.4zM416.7 312c-.7-4.4 2.9-8 7.3-8l32 0c4.4 0 8 3.6 8 8l0 32c0 4.4-3.6 8.1-8 7.3-20.1-3.4-36-19.2-39.4-39.4zM192 384a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z"]};var qj={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM167 167c9.4-9.4 24.6-9.4 33.9 0l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9z"]};var $j={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M311.4 32l8.6 0c35.3 0 64 28.7 64 64l0 352c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l8.6 0C83.6 12.9 104.3 0 128 0L256 0c23.7 0 44.4 12.9 55.4 32zM248 112c13.3 0 24-10.7 24-24s-10.7-24-24-24L136 64c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0zM128 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm32 0c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zm0 128c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zM96 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]};var Yj={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]};var vg={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]};var Zj={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M0 256a256 256 0 1 1 512 0 256 256 0 1 1 -512 0z"]};var Xj={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]};var Qj={prefix:"fas",iconName:"link",icon:[576,512,[128279,"chain"],"f0c1","M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"]};var yg={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]};var Kj={prefix:"fas",iconName:"building",icon:[384,512,[127970,61687],"f1ad","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM176 352l32 0c17.7 0 32 14.3 32 32l0 80-96 0 0-80c0-17.7 14.3-32 32-32zM96 112c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM240 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM96 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm144-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]};var Jj={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]};var N5={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},eG=N5,tG={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-277.5c0-17-6.7-33.3-18.7-45.3L258.7 18.7C246.7 6.7 230.5 0 213.5 0L64 0zM325.5 176L232 176c-13.3 0-24-10.7-24-24L208 58.5 325.5 176z"]};var _g={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]};var nG={prefix:"fas",iconName:"play",icon:[448,512,[9654],"f04b","M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z"]};var iG={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]};var rG={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 80l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 112l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]};var R7e={prefix:"fas",iconName:"house",icon:[512,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM240 320l32 0c26.5 0 48 21.5 48 48l0 96-128 0 0-96c0-26.5 21.5-48 48-48z"]},oG=R7e;var ko={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]};var aG={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 224zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384z"]};var bg={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]};var VT={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},sG=VT;var lG={prefix:"fas",iconName:"chart-simple",icon:[512,512,[],"e473","M192 80c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-352zM0 272c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 160c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48L0 272zM432 96l32 0c26.5 0 48 21.5 48 48l0 288c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48z"]};var xg={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]};var cG={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]};var uG={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};var Cg={prefix:"fas",iconName:"chart-pie",icon:[576,512,["pie-chart"],"f200","M512.4 240l-176 0c-17.7 0-32-14.3-32-32l0-176c0-17.7 14.4-32.2 31.9-29.9 107 14.2 191.8 99 206 206 2.3 17.5-12.2 31.9-29.9 31.9zM222.6 37.2c18.1-3.8 33.8 11 33.8 29.5l0 197.3c0 5.6 2 11 5.5 15.3L394 438.7c11.7 14.1 9.2 35.4-6.9 44.1-34.1 18.6-73.2 29.2-114.7 29.2-132.5 0-240-107.5-240-240 0-115.5 81.5-211.9 190.2-234.8zM477.8 288l64 0c18.5 0 33.3 15.7 29.5 33.8-10.2 48.4-35 91.4-69.6 124.2-12.3 11.7-31.6 9.2-42.4-3.9L374.9 340.4c-17.3-20.9-2.4-52.4 24.6-52.4l78.2 0z"]};var dG={prefix:"fas",iconName:"file-invoice-dollar",icon:[384,512,[],"f571","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM64 88c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64C74.7 64 64 74.7 64 88zm0 96c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zm112 76l0 4c-28.8 .3-52 23.7-52 52.5 0 25.7 18.5 47.6 43.9 51.8l41.7 7c6 1 10.4 6.2 10.4 12.3 0 6.9-5.6 12.5-12.5 12.5L152 400c-11 0-20 9-20 20s9 20 20 20l24 0 0 4c0 11 9 20 20 20s20-9 20-20l0-4.7c25-4.1 44-25.7 44-51.8 0-25.7-18.5-47.6-43.9-51.8l-41.7-7c-6-1-10.4-6.2-10.4-12.3 0-6.9 5.6-12.5 12.5-12.5l47.5 0c11 0 20-9 20-20s-9-20-20-20l-8 0 0-4c0-11-9-20-20-20s-20 9-20 20z"]};var fG={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]};var eu={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]};var _2={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},pG=_2,mG={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]};var F7e={prefix:"fas",iconName:"link-slash",icon:[576,512,["chain-broken","chain-slash","unlink"],"f127","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-122-122c4.2-3.4 8.3-7.1 12.1-10.9l71.1-71.1c29.3-29.3 45.8-69.1 45.8-110.6 0-86.4-70-156.5-156.5-156.5-37.3 0-73.1 13.3-101.3 37.2 20.3 10.1 38.7 23.5 54.5 39.5 14.1-8.3 30.2-12.7 46.8-12.7 51.1 0 92.5 41.4 92.5 92.5 0 24.5-9.7 48-27.1 65.4l-71.1 71.1c-3.9 3.9-8.1 7.4-12.6 10.5l-47.5-47.5c16.5-.9 29.7-14.4 30.2-31.1 0-1.3 0-2.6 0-3.9 0-86.3-69.9-156.9-156.5-156.9-19.2 0-37.9 3.5-55.5 10.2L41-24.9zM225.9 160c.6 0 1.1 0 1.7 0 15.1 0 29.5 3.7 42.1 10.2 1.8 1.2 3.6 2.3 5.5 3.1 26.8 16.3 44.8 45.9 44.8 79.6 0 .4 0 .8 0 1.2L225.9 160zM346.2 416L192 261.8c1.2 84.6 69.6 152.9 154.1 154.1zM139.7 209.5l-45.3-45.3-48.6 48.6c-29.3 29.3-45.8 69.1-45.8 110.6 0 86.4 70 156.5 156.5 156.5 37.2 0 73.1-13.3 101.3-37.2-20.3-10.1-38.8-23.5-54.6-39.5-14 8.2-30.1 12.6-46.7 12.6-51.1 0-92.5-41.4-92.5-92.5 0-24.5 9.7-48 27.1-65.4l48.6-48.6z"]};var hG=F7e;var Yl={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]};var gG={prefix:"fas",iconName:"tag",icon:[512,512,[127991],"f02b","M32.5 96l0 149.5c0 17 6.7 33.3 18.7 45.3l192 192c25 25 65.5 25 90.5 0L483.2 333.3c25-25 25-65.5 0-90.5l-192-192C279.2 38.7 263 32 246 32L96.5 32c-35.3 0-64 28.7-64 64zm112 16a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]};var vG={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M169.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L192 205.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]};var yG={prefix:"fas",iconName:"pause",icon:[384,512,[9208],"f04c","M48 32C21.5 32 0 53.5 0 80L0 432c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48L48 32zm224 0c-26.5 0-48 21.5-48 48l0 352c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48l-64 0z"]};var _G={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M128 96l0-16c0-44.2 86-80 192-80S512 35.8 512 80l0 16c0 30.6-41.3 57.2-102 70.7-2.4-2.8-4.9-5.5-7.4-8-15.5-15.3-35.5-26.9-56.4-35.5-41.9-17.5-96.5-27.1-154.2-27.1-21.9 0-43.3 1.4-63.8 4.1-.2-1.3-.2-2.7-.2-4.1zM432 353l0-46.2c15.1-3.9 29.3-8.5 42.2-13.9 13.2-5.5 26.1-12.2 37.8-20.3l0 15.4c0 26.8-31.5 50.5-80 65zm0-96l0-33c0-4.5-.4-8.8-1-13 15.5-3.9 30-8.6 43.2-14.2s26.1-12.2 37.8-20.3l0 15.4c0 26.8-31.5 50.5-80 65zM0 240l0-16c0-44.2 86-80 192-80s192 35.8 192 80l0 16c0 44.2-86 80-192 80S0 284.2 0 240zm384 96c0 44.2-86 80-192 80S0 380.2 0 336l0-15.4c11.6 8.1 24.5 14.7 37.8 20.3 41.9 17.5 96.5 27.1 154.2 27.1s112.3-9.7 154.2-27.1c13.2-5.5 26.1-12.2 37.8-20.3l0 15.4zm0 80.6l0 15.4c0 44.2-86 80-192 80S0 476.2 0 432l0-15.4c11.6 8.1 24.5 14.7 37.8 20.3 41.9 17.5 96.5 27.1 154.2 27.1s112.3-9.7 154.2-27.1c13.2-5.5 26.1-12.2 37.8-20.3z"]};var Sg={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};var tu={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M133.8 36.3c10.9 7.6 13.5 22.6 5.9 33.4l-56 80c-4.1 5.8-10.5 9.5-17.6 10.1S52 158 47 153L7 113C-2.3 103.6-2.3 88.4 7 79S31.6 69.7 41 79l19.8 19.8 39.6-56.6c7.6-10.9 22.6-13.5 33.4-5.9zm0 160c10.9 7.6 13.5 22.6 5.9 33.4l-56 80c-4.1 5.8-10.5 9.5-17.6 10.1S52 318 47 313L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l19.8 19.8 39.6-56.6c7.6-10.9 22.6-13.5 33.4-5.9zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM64 376a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]};var bG={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z"]},fs=bG,xG=bG;var P5={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},CG=P5;var SG={prefix:"fas",iconName:"arrow-trend-down",icon:[576,512,[],"e097","M384 352c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0c17.7 0 32-14.3 32-32l0-160c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 82.7-169.4-169.4c-12.5-12.5-32.8-12.5-45.3 0L192 242.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0L320 205.3 466.7 352 384 352z"]};var B7e=["searchInput"];function V7e(n,t){if(n&1){let e=ee();p(0,"div",4),z("click",function(){k(e);let r=M();return N(r.expand())}),O(1,"fa-icon",5),h()}if(n&2){let e=M();g(),x("icon",e.faSearch)}}function U7e(n,t){if(n&1){let e=ee();p(0,"button",11),z("click",function(){k(e);let r=M(2);return N(r.clearSearch())}),Ht(),p(1,"svg",12),O(2,"path",13),h()()}}function H7e(n,t){if(n&1){let e=ee();p(0,"div",6)(1,"div",7),O(2,"fa-icon",8),h(),p(3,"input",9,0),z("input",function(r){k(e);let o=M();return N(o.onInputChange(r))})("blur",function(){k(e);let r=M();return N(r.onBlur())})("keydown.escape",function(){k(e);let r=M();return N(r.collapse())}),h(),A(5,U7e,3,0,"button",10),h()}if(n&2){let e=M();g(2),x("icon",e.faSearch),g(),x("value",e.searchTerm)("placeholder",e.placeholder),g(2),x("ngIf",e.searchTerm)}}var za=(()=>{let t=class t{constructor(){this.placeholder="Search...",this.inputChange=new be,this.searchTerm="",this.isExpanded=!1,this.faSearch=ql}expand(){this.isExpanded=!0,setTimeout(()=>{this.searchInput&&this.searchInput.nativeElement.focus()},100)}collapse(){this.searchTerm||(this.isExpanded=!1)}onBlur(){this.searchTerm||setTimeout(()=>{this.isExpanded=!1},150)}clearSearch(){this.searchTerm="",this.inputChange.emit(""),this.collapse()}onInputChange(i){let r=i.target.value;this.searchTerm=r,this.inputChange.emit(r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-search-input"]],viewQuery:function(r,o){if(r&1&&Rn(B7e,5),r&2){let a;an(a=sn())&&(o.searchInput=a.first)}},inputs:{placeholder:"placeholder",searchTerm:"searchTerm"},outputs:{inputChange:"inputChange"},decls:3,vars:2,consts:[["searchInput",""],[1,"relative","flex","items-center"],["class","flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-100 transition-all duration-200",3,"click",4,"ngIf"],["class","flex items-center w-full max-w-md bg-white border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-blue-100 focus-within:border-blue-100 transition-all duration-200",4,"ngIf"],[1,"flex","items-center","justify-center","w-10","h-10","bg-white","border","border-gray-300","rounded-md","cursor-pointer","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-100","transition-all","duration-200",3,"click"],[1,"text-gray-500","text-sm",3,"icon"],[1,"flex","items-center","w-full","max-w-md","bg-white","border","border-gray-300","rounded-md","focus-within:ring-2","focus-within:ring-blue-100","focus-within:border-blue-100","transition-all","duration-200"],[1,"pl-3"],[1,"text-gray-400","text-sm",3,"icon"],["type","text",1,"flex-1","py-2","px-3","bg-transparent","border-0","focus:outline-none","text-sm",3,"input","blur","keydown.escape","value","placeholder"],["class","pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",3,"click",4,"ngIf"],[1,"pr-3","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(r,o){r&1&&(p(0,"div",1),A(1,V7e,2,1,"div",2)(2,H7e,6,4,"div",3),h()),r&2&&(g(),x("ngIf",!o.isExpanded),g(),x("ngIf",o.isExpanded))},dependencies:[hn,at,We,ye],encapsulation:2});let n=t;return n})();function j7e(n,t){if(n&1&&(p(0,"span",1),y(1),$(2,"uppercase"),h()),n&2){let e=M();g(),H(" ",Do(2,1,e.text),`
`)}}var gn=(()=>{let t=class t{constructor(){this.text="",this.color="gray",this.styles={blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700",green:"bg-green-100 text-green-700",orange:"bg-orange-100 text-orange-700",purple:"bg-purple-100 text-purple-700",gray:"bg-gray-100 text-gray-700"}}get classes(){return`inline-flex items-center text-[10px] rounded-md px-2 ${this.styles[this.color]}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-small-chip"]],hostVars:2,hostBindings:function(r,o){r&2&&Fn(o.classes)},inputs:{text:"text",color:"color"},decls:1,vars:1,consts:[["class","flex items-center justify-center w-full h-full",4,"ngIf"],[1,"flex","items-center","justify-center","w-full","h-full"]],template:function(r,o){r&1&&A(0,j7e,3,3,"span",0),r&2&&x("ngIf",o.text)},dependencies:[ye,Hf],encapsulation:2});let n=t;return n})();var ti=(()=>{let t=class t{constructor(i){this.applicationProperties=i}transform(i,r="time"){if(!i)return"";typeof i=="string"&&/^\d{2}:\d{2}:\d{2}$/.test(i)&&(i=`1970-01-01T${i}Z`);let o=new Date(i);if(this.applicationProperties.getEnvironment()==="prod"&&r!=="time-no-mod"&&r!=="datetime-ordinal-no-mod"){let c=o.getTime()-5.5*60*60*1e3;o=new Date(c)}let a="Asia/Kolkata";if(r==="date")return o.toLocaleDateString("en-IN",{timeZone:a,day:"2-digit",month:"2-digit",year:"numeric"});if(r==="datetime")return o.toLocaleString("en-IN",{timeZone:a,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});if(r==="time-no-mod")return o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});if(r==="date-ordinal"){let l=o.getDate(),c=o.toLocaleString("en-IN",{timeZone:a,month:"short"}),u=o.getFullYear();return`${s(l)} ${c} ${u}`}else if(r==="datetime-ordinal"||r==="datetime-ordinal-no-mod"){let l=o.getDate(),c=s(l),u=o.toLocaleString("en-IN",{timeZone:a,month:"short"}),d=o.getFullYear(),f=o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});return`${c} ${u} ${d}, ${f}`}else return o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});function s(l){if(l>3&&l<21)return`${l}th`;switch(l%10){case 1:return`${l}st`;case 2:return`${l}nd`;case 3:return`${l}rd`;default:return`${l}th`}}}};t.\u0275fac=function(r){return new(r||t)(V(Ul,16))},t.\u0275pipe=s2({name:"istDate",type:t,pure:!0});let n=t;return n})();var O5=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Zl=class extends O5{component;viewContainerRef;injector;projectableNodes;constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}},Xl=class extends O5{templateRef;viewContainerRef;context;injector;constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},UT=class extends O5{element;constructor(t){super(),this.element=t instanceof st?t.nativeElement:t}},nu=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Zl)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Xl)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof UT)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},R5=class extends nu{outletElement;_appRef;_defaultInjector;constructor(t,e,i){super(),this.outletElement=t,this._appRef=e,this._defaultInjector=i}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(K1,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||Ve.NULL,o=r.get(An,i.injector);e=Uh(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var F5=(()=>{class n extends nu{_moduleRef=B(K1,{optional:!0});_document=B(Te);_viewContainerRef=B(Ui);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new be;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[on]})}return n})();var wg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({})}return n})();function b2(n){return n.buttons===0||n.detail===0}function x2(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var HT;function wG(){if(HT==null){let n=typeof document<"u"?document.head:null;HT=!!(n&&(n.createShadowRoot||n.attachShadow))}return HT}function Zc(n){if(wG()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function B5(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function xr(n){return n.composedPath?n.composedPath()[0]:n.target}var jT;try{jT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jT=!1}var ni=(()=>{class n{_platformId=B(Ec);isBrowser=this._platformId?vV(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||jT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var V5;function MG(){if(V5==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>V5=!0}))}finally{V5=V5||!1}return V5}function Ql(n){return MG()?n:!!n.capture}function ps(n,t=0){return TG(n)?Number(n):arguments.length===2?t:0}function TG(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function qi(n){return n instanceof st?n.nativeElement:n}var EG=new ue("cdk-input-modality-detector-options"),DG={ignoreKeys:[18,17,224,91,16]},IG=650,GT={passive:!0,capture:!0},LG=(()=>{class n{_platform=B(ni);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Hn(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=xr(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<IG||(this._modality.next(b2(e)?"keyboard":"mouse"),this._mostRecentTarget=xr(e))};_onTouchstart=e=>{if(x2(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xr(e)};constructor(){let e=B(Pe),i=B(Te),r=B(EG,{optional:!0});if(this._options=Q(Q({},DG),r),this.modalityDetected=this._modality.pipe(qd(1)),this.modalityChanged=this.modalityDetected.pipe(c1()),this._platform.isBrowser){let o=B(vi).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,GT),o.listen(i,"mousedown",this._onMousedown,GT),o.listen(i,"touchstart",this._onTouchstart,GT)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U5=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(U5||{}),AG=new ue("cdk-focus-monitor-default-options"),Mg=Ql({passive:!0,capture:!0}),Kl=(()=>{class n{_ngZone=B(Pe);_platform=B(ni);_inputModalityDetector=B(LG);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=B(Te);_stopInputModalityDetector=new me;constructor(){let e=B(AG,{optional:!0});this._detectionMode=e?.detectionMode||U5.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=xr(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=qi(e);if(!this._platform.isBrowser||r.nodeType!==1)return Me();let o=Zc(r)||this._document,a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let s={checkChildren:i,subject:new me,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let i=qi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=qi(e),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===U5.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===U5.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?IG:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=xr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mg)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(nn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tg=new WeakMap,No=(()=>{class n{_appRef;_injector=B(Ve);_environmentInjector=B(An);load(e){let i=this._appRef=this._appRef||this._injector.get(_i),r=Tg.get(i);r||(r={loaders:new Set,refs:[]},Tg.set(i,r),i.onDestroy(()=>{Tg.get(i)?.refs.forEach(o=>o.destroy()),Tg.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Uh(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Eg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function iu(n){return Array.isArray(n)?n:[n]}var zG=new Set,Xc,Dg=(()=>{class n{_platform=B(ni);_nonce=B(g6,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):W7e}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&G7e(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function G7e(n,t){if(!zG.has(n))try{Xc||(Xc=document.createElement("style"),t&&Xc.setAttribute("nonce",t),Xc.setAttribute("type","text/css"),document.head.appendChild(Xc)),Xc.sheet&&(Xc.sheet.insertRule(`@media ${n} {body{ }}`,0),zG.add(n))}catch(e){console.error(e)}}function W7e(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var WT=(()=>{class n{_mediaMatcher=B(Dg);_zone=B(Pe);_queries=new Map;_destroySubject=new me;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return kG(iu(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=kG(iu(e)).map(a=>this._registerQuery(a).observable),o=fc(r);return o=pl(o.pipe(Nt(1)),o.pipe(qd(1),ea(0))),o.pipe(Ke(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new dt(a=>{let s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(Dr(i),Ke(({matches:a})=>({query:e,matches:a})),nn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kG(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var YT=(()=>{class n{_platform=B(ni);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return $7e(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=q7e(tme(e));if(i&&(NG(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=NG(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!J7e(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return eme(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q7e(n){try{return n.frameElement}catch{return null}}function $7e(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function Y7e(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function Z7e(n){return Q7e(n)&&n.type=="hidden"}function X7e(n){return K7e(n)&&n.hasAttribute("href")}function Q7e(n){return n.nodeName.toLowerCase()=="input"}function K7e(n){return n.nodeName.toLowerCase()=="a"}function RG(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function NG(n){if(!RG(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function J7e(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function eme(n){return Z7e(n)?!1:Y7e(n)||X7e(n)||n.hasAttribute("contenteditable")||RG(n)}function tme(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var $T=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,r,o=!1,a){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?zi(t,{injector:this._injector}):setTimeout(t)}},ZT=(()=>{class n{_checker=B(YT);_ngZone=B(Pe);_document=B(Te);_injector=B(Ve);constructor(){B(No).load(Eg)}create(e,i=!1){return new $T(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jl=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Jl||{}),PG="cdk-high-contrast-black-on-white",OG="cdk-high-contrast-white-on-black",qT="cdk-high-contrast-active",XT=(()=>{class n{_platform=B(ni);_hasCheckedHighContrastMode;_document=B(Te);_breakpointSubscription;constructor(){this._breakpointSubscription=B(WT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Jl.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Jl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Jl.BLACK_ON_WHITE}return Jl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(qT,PG,OG),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Jl.BLACK_ON_WHITE?e.add(qT,PG):i===Jl.WHITE_ON_BLACK&&e.add(qT,OG)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ms(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function QT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function wi(n){return n==null?"":typeof n=="string"?n:`${n}px`}var nme=new ue("cdk-dir-doc",{providedIn:"root",factory:ime});function ime(){return B(Te)}var rme=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function FG(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?rme.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var ka=(()=>{class n{get value(){return this.valueSignal()}valueSignal=fn("ltr");change=new be;constructor(){let e=B(nme,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(FG(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qc;function BG(){if(Qc==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Qc=!1,Qc;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Qc=!0;else{let n=Element.prototype.scrollTo;n?Qc=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Qc=!1}}return Qc}var e0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({})}return n})();var ome=20,t0=(()=>{class n{_ngZone=B(Pe);_platform=B(ni);_renderer=B(vi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new me;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=ome){return this._platform.isBrowser?new dt(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(pm(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Me()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(tt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=qi(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ame=20,C2=(()=>{class n{_platform=B(ni);_listeners;_viewportSize;_change=new me;_document=B(Te);constructor(){let e=B(Pe),i=B(vi).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=ame){return e>0?this._change.pipe(pm(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({})}return n})(),KT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({imports:[e0,Kc,e0,Kc]})}return n})();var JT={},S2=(()=>{class n{_appId=B(El);getId(e){return this._appId!=="ng"&&(e+=this._appId),JT.hasOwnProperty(e)||(JT[e]=0),`${e}${JT[e]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VG=BG();function ou(n){return new Ig(n.get(C2),n.get(Te))}var Ig=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=wi(-this._previousScrollPosition.left),t.style.top=wi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),VG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),VG&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};function $G(n,t){return new Lg(n.get(t0),n.get(Pe),n.get(C2),t)}var Lg=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(tt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var H5=class{enable(){}disable(){}attach(){}};function eE(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,o=n.right<e.left,a=n.left>e.right;return i||r||o||a})}function UG(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,o=n.left<e.left,a=n.right>e.right;return i||r||o||a})}function w2(n,t){return new Ag(n.get(t0),n.get(C2),n.get(Pe),t)}var Ag=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();eE(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},YG=(()=>{class n{_injector=B(Ve);constructor(){}noop=()=>new H5;close=e=>$G(this._injector,e);block=()=>ou(this._injector);reposition=e=>w2(this._injector,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n0=class{positionStrategy;scrollStrategy=new H5;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var zg=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var ZG=(()=>{class n{_attachedOverlays=[];_document=B(Te);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XG=(()=>{class n extends ZG{_ngZone=B(Pe);_renderer=B(vi).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QG=(()=>{class n extends ZG{_platform=B(ni);_ngZone=B(Pe);_renderer=B(vi).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=xr(e)};_clickListener=e=>{let i=xr(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(HG(s.overlayElement,i)||HG(s.overlayElement,r))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HG(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var KG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),Pg=(()=>{class n{_platform=B(ni);_containerElement;_document=B(Te);_styleLoader=B(No);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||QT()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),QT()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(KG)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tE=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,r){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},ru=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new me;_attachments=new me;_detachments=new me;_positionStrategy;_scrollStrategy;_locationChanges=Et.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new me;_outsidePointerEvents=new me;_afterNextRenderRef;constructor(t,e,i,r,o,a,s,l,c,u=!1,d,f){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._renderer=f,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=zi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Q(Q({},this._config),t),this._updateElementSize()}setDirection(t){this._config=De(Q({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=wi(this._config.width),t.height=wi(this._config.height),t.minWidth=wi(this._config.minWidth),t.minHeight=wi(this._config.minHeight),t.maxWidth=wi(this._config.maxWidth),t.maxHeight=wi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new tE(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let r=iu(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=zi(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(e){if(t)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},jG="cdk-overlay-connected-position-bounding-box",sme=/([A-Za-z%]+)$/;function au(n,t){return new kg(t,n.get(C2),n.get(Te),n.get(ni),n.get(Pg))}var kg=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new me;_resizeSubscription=Et.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(jG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,r,s),c=this._getOverlayPoint(l,e,s),u=this._getOverlayFit(c,e,i,s);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(u,c,i)){o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(let c of o){let u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r=i.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){let o=WG(e),{x:a,y:s}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let u=0-a,d=a+o.width-i.width,f=0-s,m=s+o.height-i.height,v=this._subtractOverflows(o.width,u,d),_=this._subtractOverflows(o.height,f,m),b=v*_;return{visibleArea:b,isCompletelyWithinViewport:o.width*o.height===b,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,a=GG(this._overlayRef.getConfig().minHeight),s=GG(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||a!=null&&a<=r,c=t.fitsInViewportHorizontally||s!=null&&s<=o;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=WG(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),s=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0),u=0,d=0;return r.width<=o.width?u=c||-a:u=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?d=l||-s:d=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!lme(this._lastScrollVisibility,i)){let r=new zg(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=t.y,o=i.height-a+this._viewportMargin;else if(e.overlayY==="bottom")s=i.height-t.y+this._viewportMargin*2,o=i.height-s+this._viewportMargin;else{let m=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=m*2,a=t.y-m,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-v/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,u,d,f;if(c)f=i.width-t.x+this._viewportMargin*2,u=t.x-this._viewportMargin;else if(l)d=t.x,u=i.right-t.x;else{let m=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;u=m*2,d=t.x-m,u>v&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-v/2)}return{top:a,left:d,bottom:s,right:f,width:u,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=wi(i.height),r.top=wi(i.top),r.bottom=wi(i.bottom),r.width=wi(i.width),r.left=wi(i.left),r.right=wi(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=wi(o)),a&&(r.maxWidth=wi(a))}this._lastBoundingBoxSize=i,Jc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Jc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();Jc(i,this._getExactOverlayY(e,t,u)),Jc(i,this._getExactOverlayX(e,t,u))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=wi(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=wi(a.maxWidth):o&&(i.maxWidth="")),Jc(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=wi(o.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=wi(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UG(t,i),isOriginOutsideView:eE(t,i),isOverlayClipped:UG(e,i),isOverlayOutsideView:eE(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&iu(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof st)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Jc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function GG(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(sme);return!e||e==="px"?parseFloat(t):null}return n||null}function WG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function lme(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var qG="cdk-global-overlay-wrapper";function su(n){return new Ng}var Ng=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(qG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),u=this._xPosition,d=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",m="",v="",_="";l?_="flex-start":u==="center"?(_="center",f?v=d:m=d):f?u==="left"||u==="end"?(_="flex-end",m=d):(u==="right"||u==="start")&&(_="flex-start",v=d):u==="left"||u==="start"?(_="flex-start",m=d):(u==="right"||u==="end")&&(_="flex-end",v=d),t.position=this._cssPosition,t.marginLeft=l?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":v,e.justifyContent=_,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(qG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},JG=(()=>{class n{_injector=B(Ve);constructor(){}global(){return su()}flexibleConnectedTo(e){return au(this._injector,e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function i0(n,t){n.get(No).load(KG);let e=n.get(Pg),i=n.get(Te),r=n.get(S2),o=n.get(_i),a=n.get(ka),s=i.createElement("div"),l=i.createElement("div");l.id=r.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),s.appendChild(l),e.getContainerElement().appendChild(s);let c=new R5(l,o,n),u=new n0(t),d=n.get(ci,null,{optional:!0})||n.get(vi).createRenderer(null,null);return u.direction=u.direction||a.value,new ru(c,s,l,u,n.get(Pe),n.get(XG),i,n.get(ns),n.get(QG),t?.disableAnimations??n.get(Dl,null,{optional:!0})==="NoopAnimations",n.get(An),d)}var Vr=(()=>{class n{scrollStrategies=B(YG);_positionBuilder=B(JG);_injector=B(Ve);constructor(){}create(e){return i0(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cme=new ue("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>w2(n)}});function ume(n){let t=B(Ve);return()=>w2(t)}var dme={provide:cme,useFactory:ume},j5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({providers:[Vr,dme],imports:[e0,wg,KT,KT]})}return n})();function pme(n,t){}var r0=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var iE=(()=>{class n extends nu{_elementRef=B(st);_focusTrapFactory=B(ZT);_config;_interactivityChecker=B(YT);_ngZone=B(Pe);_focusMonitor=B(Kl);_renderer=B(ci);_changeDetectorRef=B(xi);_injector=B(Ve);_platform=B(ni);_document=B(Te);_portalOutlet;_focusTrapped=new me;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=B(r0,{optional:!0})||new r0,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(e){this._isDestroyed||zi(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=B5(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=B5();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=B5()))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&Rn(F5,7),i&2){let o;an(o=sn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Mn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[on],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&A(0,pme,0,0,"ng-template",0)},dependencies:[F5],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),G5=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new me;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!ms(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this._canClose(t)){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}_canClose(t){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(t,e,this.componentInstance))}},mme=new ue("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>ou(n)}}),hme=new ue("DialogData"),gme=new ue("DefaultDialogConfig");function vme(n){let t=fn(n),e=new be;return{valueSignal:t,get value(){return t()},change:e,ngOnDestroy(){e.complete()}}}var eW=(()=>{class n{_injector=B(Ve);_defaultOptions=B(gme,{optional:!0});_parentDialog=B(n,{optional:!0,skipSelf:!0});_overlayContainer=B(Pg);_idGenerator=B(S2);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new me;_afterOpenedAtThisLevel=new me;_ariaHiddenElements=new Map;_scrollStrategy=B(mme);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=$s(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Dr(void 0)));constructor(){}open(e,i){let r=this._defaultOptions||new r0;i=Q(Q({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=i0(this._injector,o),s=new G5(a,i),l=this._attachContainer(a,s,i);if(s.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Nt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(e,s,l,i),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){nE(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){nE(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),nE(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new n0({positionStrategy:e.positionStrategy||su().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:r0,useValue:r},{provide:G5,useValue:i},{provide:ru,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=iE;let l=new Zl(s,r.viewContainerRef,Ve.create({parent:o||this._injector,providers:a}));return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof Lr){let a=this._createInjector(o,i,r,void 0),s={$implicit:o.data,dialogRef:i};o.templateContext&&(s=Q(Q({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Xl(e,null,s,a))}else{let a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new Zl(e,o.viewContainerRef,a));i.componentRef=s,i.componentInstance=s.instance}}_createInjector(e,i,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:hme,useValue:e.data},{provide:G5,useValue:i}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(ka,null,{optional:!0}))&&s.push({provide:ka,useValue:vme(e.direction)}),Ve.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nE(n,t){let e=n.length;for(;e--;)t(n[e])}function rE(n){return n!=null&&`${n}`!="false"}var yme=new ue("MATERIAL_ANIMATIONS");var tW=null;function _me(){return B(yme,{optional:!0})?.animationsDisabled||B(Dl,{optional:!0})==="NoopAnimations"?"di-disabled":(tW??=B(Dg).matchMedia("(prefers-reduced-motion)").matches,tW?"reduced-motion":"enabled")}function S1(){return _me()!=="enabled"}var bme=200,Og=class{_letterKeyStream=new me;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new me;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:bme;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Gn(e=>this._pressedLetters.push(e)),ea(t),tt(()=>this._pressedLetters.length>0),Ke(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};var Rg=class{_items;_activeItemIndex=fn(-1);_activeItem=fn(null);_wrap=!1;_typeaheadSubscription=Et.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof i2?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):a6(t)&&(this._effectRef=w6(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new me;change=new me;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Og(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||ms(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex()+t*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex()+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return a6(this._items)?this._items():this._items instanceof i2?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var W5=class extends Rg{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var oW=" ";function xme(n,t,e){let i=Bg(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(oW)))}function Cme(n,t,e){let i=Bg(n,t);e=e.trim();let r=i.filter(o=>o!==e);r.length?n.setAttribute(t,r.join(oW)):n.removeAttribute(t)}function Bg(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var aW="cdk-describedby-message",Fg="cdk-describedby-host",lE=0,sW=(()=>{class n{_platform=B(ni);_document=B(Te);_messageRegistry=new Map;_messagesContainer=null;_id=`${lE++}`;constructor(){B(No).load(Eg),this._id=B(El)+"-"+lE++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let o=sE(i,r);typeof i!="string"?(rW(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let o=sE(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof i=="string"){let a=this._messageRegistry.get(o);a&&a.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${Fg}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Fg);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");rW(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(sE(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=Bg(e,"aria-describedby").filter(r=>r.indexOf(aW)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);xme(e,"aria-describedby",r.messageElement.id),e.setAttribute(Fg,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,Cme(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Fg)}_isElementDescribedByMessage(e,i){let r=Bg(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sE(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function rW(n,t){n.id||(n.id=`${aW}-${t}-${lE++}`)}var Na=(()=>{class n{constructor(){B(XT)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({imports:[e0,e0]})}return n})();function Sme(n,t){}var $5=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},cE="mdc-dialog--open",lW="mdc-dialog--opening",cW="mdc-dialog--closing",wme=150,Mme=75,fW=(()=>{class n extends iE{_animationStateChanged=new be;_animationsEnabled=!S1();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?dW(this._config.enterAnimationDuration)??wme:0;_exitAnimationDuration=this._animationsEnabled?dW(this._config.exitAnimationDuration)??Mme:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(uW,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(lW,cE)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(cE),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(cE),this._animationsEnabled?(this._hostElement.style.setProperty(uW,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(cW)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(lW,cW)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275cmp=ie({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(Ll("id",r._config.id),Mn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ce("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[on],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(p(0,"div",0)(1,"div",1),A(2,Sme,0,0,"ng-template",2),h()())},dependencies:[F5],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),uW="--mat-dialog-transition-duration";function dW(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?ps(n.substring(0,n.length-2)):n.endsWith("s")?ps(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var q5=(function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n})(q5||{}),Ni=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new me;_beforeClosed=new me;_result;_closeFallbackTimeout;_state=q5.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._config=e,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(tt(r=>r.state==="opened"),Nt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(tt(r=>r.state==="closed"),Nt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),j1(this.backdropClick(),this.keydownEvents().pipe(tt(r=>r.keyCode===27&&!this.disableClose&&!ms(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),pW(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){let e=this._config.closePredicate;e&&!e(t,this._config,this.componentInstance)||(this._result=t,this._containerInstance._animationStateChanged.pipe(tt(i=>i.state==="closing"),Nt(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=q5.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=q5.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function pW(n,t,e){return n._closeInteractionType=t,n.close(e)}var Ur=new ue("MatMdcDialogData"),mW=new ue("mat-mdc-dialog-default-options"),hW=new ue("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>ou(n)}}),Xn=(()=>{class n{_defaultOptions=B(mW,{optional:!0});_scrollStrategy=B(hW);_parentDialog=B(n,{optional:!0,skipSelf:!0});_idGenerator=B(S2);_injector=B(Ve);_dialog=B(eW);_animationsDisabled=S1();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new me;_afterOpenedAtThisLevel=new me;dialogConfigClass=$5;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=$s(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Dr(void 0)));constructor(){this._dialogRefConstructor=Ni,this._dialogContainerType=fW,this._dialogDataToken=Ur}open(e,i){let r;i=Q(Q({},this._defaultOptions||new $5),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,De(Q({},i),{positionStrategy:su(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||i.enterAnimationDuration?.toLocaleString()==="0"||i.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:r0,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fE(n){let t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return i==="canvas"?yW(n,t):(i==="input"||i==="select"||i==="textarea")&&vW(n,t),gW("canvas",n,t,yW),gW("input, textarea, select",n,t,vW),t}function gW(n,t,e,i){let r=t.querySelectorAll(n);if(r.length){let o=e.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],o[a])}}var Tme=0;function vW(n,t){t.type!=="file"&&(t.value=n.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${Tme++}`)}function yW(n,t){let e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function _E(n){let t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function pE(n,t,e){let{top:i,bottom:r,left:o,right:a}=n;return e>=i&&e<=r&&t>=o&&t<=a}function Eme(n,t){let e=t.left<n.left,i=t.left+t.width>n.right,r=t.top<n.top,o=t.top+t.height>n.bottom;return e||i||r||o}function X5(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function _W(n,t,e,i){let{top:r,right:o,bottom:a,left:s,width:l,height:c}=n,u=l*t,d=c*t;return i>r-d&&i<a+d&&e>s-u&&e<o+u}var Vg=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:_E(e)})})}handleScroll(t){let e=xr(t),i=this.positions.get(e);if(!i)return null;let r=i.scrollPosition,o,a;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,a=c.left}else o=e.scrollTop,a=e.scrollLeft;let s=r.top-o,l=r.left-a;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&X5(c.clientRect,s,l)}),r.top=o,r.left=a,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function LW(n,t){let e=n.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function bE(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function cu(n,t){let e=t?"":"none";bE(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function bW(n,t,e){bE(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Ug(n,t){return t&&t!="none"?n+" "+t:n}function xW(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Q5(t.left,t.top)}function Q5(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function CW(n){let t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Dme(n){let t=getComputedStyle(n),e=uE(t,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let r=e.indexOf(i),o=uE(t,"transition-duration"),a=uE(t,"transition-delay");return CW(o[r])+CW(a[r])}function uE(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}var Ime=new Set(["position"]),mE=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,i,r,o,a,s,l,c,u){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=u}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),SW(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return Dme(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,i=t?t.template:null,r;if(i&&t){let o=t.matchSize?this._initialDomRect:null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),r=LW(a,this._document),this._previewEmbeddedView=a,t.matchSize?xW(r,o):r.style.transform=Q5(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=fE(this._rootElement),xW(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return bE(r.style,{"pointer-events":"none",margin:SW(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Ime),cu(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function SW(n){return"showPopover"in n}var Lme={passive:!0},wW={passive:!1},Ame={passive:!1,capture:!0},zme=800,MW="cdk-drag-placeholder",TW=new Set(["position"]),hE=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=fn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new me;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Et.EMPTY;_pointerUpSubscription=Et.EMPTY;_scrollSubscription=Et.EMPTY;_resizeSubscription=Et.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>cu(e,t)))}_disabled=!1;beforeStarted=new me;started=new me;released=new me;ended=new me;entered=new me;exited=new me;dropped=new me;moved=this._moveEvents;data;constrainPosition;constructor(t,e,i,r,o,a,s){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new Vg(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>qi(i)),this._handles.forEach(i=>cu(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=qi(t);if(e!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"mousedown",this._pointerDown,wW),i.listen(e,"touchstart",this._pointerDown,Lme),i.listen(e,"dragstart",this._nativeDragStart,wW)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?qi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&Eme(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let t=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),i=0,r=0;e.left<t.left?i=t.left-e.left:e.right>t.right&&(i=t.right-e.right),e.top<t.top?r=t.top-e.top:e.bottom>t.bottom&&(r=t.bottom-e.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+i,l=a+r;this._rootElement.style.transform=Q5(s,l),this._activeTransform={x:s,y:l},this._passiveTransform={x:s,y:l}}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),cu(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),cu(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!s){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Y5(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",kme,Ame)}),i){let r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=new mE(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),bW(r,!1,TW),this._document.body.appendChild(o.replaceChild(a,r)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),r=Y5(e),o=!r&&e.button!==0,a=this._rootElement,s=xr(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+zme>Date.now(),c=r?x2(e):b2(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),i||o||l||c)return;if(this._handles.length){let f=a.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=_E(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){bW(this._rootElement,!0,TW),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,a,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=s=>{(!s||this._preview&&xr(s)===this._preview.element&&s.propertyName==="transform")&&(a(),i(),clearTimeout(o))},o=setTimeout(r,e*1.5),a=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=LW(this._placeholderRef,this._document)):i=fE(this._rootElement),i.style.pointerEvents="none",i.classList.add(MW),i}_getPointerPositionInElement(t,e,i){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,a=Y5(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),l=a.pageX-o.left-s.left,c=a.pageY-o.top-s.top;return{x:o.left-t.left+l,y:o.top-t.top+c}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),i=Y5(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=o,s.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=s.top+a,d=s.bottom-(c-a),f=s.left+o,m=s.right-(l-o);i=EW(i,f,m),r=EW(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(t){let{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(i-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,cu(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,e){let i=1/this.scale,r=Q5(t*i,e*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Ug(r,this._initialTransform)}_applyPreviewTransform(t,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=Q5(t,e);this._preview.setTransform(Ug(r,i))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),a>0&&(t-=a)):t=0,r.height>i.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:Y5(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let i=xr(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&X5(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Zc(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let i=this._previewContainer||"global";if(i==="parent")return t;if(i==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return qi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}_conditionallyInsertAnchor(t,e,i){if(t===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let r=this._anchor??=fE(this._placeholder);r.classList.remove(MW),r.classList.add("cdk-drag-anchor"),r.style.transform="",i?i.before(r):qi(e.element).appendChild(r)}}};function EW(n,t,e){return Math.max(t,Math.min(e,n))}function Y5(n){return n.type[0]==="t"}function kme(n){n.preventDefault()}function AW(n,t,e){let i=DW(t,n.length-1),r=DW(e,n.length-1);if(i===r)return;let o=n[i],a=r<i?-1:1;for(let s=i;s!==r;s+=a)n[s]=n[s+a];n[r]=o}function DW(n,t){return Math.max(0,Math.min(t,n))}var Hg=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,i,r){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,r);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",l=o.findIndex(b=>b.drag===t),c=o[a],u=o[l].clientRect,d=c.clientRect,f=l>a?1:-1,m=this._getItemOffsetPx(u,d,f),v=this._getSiblingOffsetPx(l,o,f),_=o.slice();return AW(o,l,a),o.forEach((b,C)=>{if(_[C]===b)return;let w=b.drag===t,E=w?m:v,D=w?t.getPlaceholderElement():b.drag.getRootElement();b.offset+=E;let L=Math.round(b.offset*(1/b.drag.scale));s?(D.style.transform=Ug(`translate3d(${L}px, 0, 0)`,b.initialTransform),X5(b.clientRect,0,E)):(D.style.transform=Ug(`translate3d(0, ${L}px, 0)`,b.initialTransform),X5(b.clientRect,E,0))}),this._previousSwap.overlaps=pE(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?r.x:r.y,{previousIndex:l,currentIndex:a}}enter(t,e,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,a=this._activeDraggables,s=a.indexOf(t),l=t.getPlaceholderElement(),c=a[o];if(c===t&&(c=a[o+1]),!c&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=a[0]),s>-1&&a.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let u=c.getRootElement();u.parentElement.insertBefore(l,u),a.splice(o,0,t)}else this._element.appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return this._getVisualItemPositions().findIndex(e=>e.drag===t)}getItemAtIndex(t){return this._getVisualItemPositions()[t]?.drag||null}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{X5(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:_E(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(t,e,i){let r=this.orientation==="horizontal",o=r?e.left-t.left:e.top-t.top;return i===-1&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){let r=this.orientation==="horizontal",o=e[t].clientRect,a=e[t+i*-1],s=o[r?"width":"height"]*i;if(a){let l=r?"left":"top",c=r?"right":"bottom";i===-1?s-=a.clientRect[l]-o[c]:s+=o[l]-a.clientRect[c]}return s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let a=i[i.length-1].clientRect;return r?t>=a.right:e>=a.bottom}else{let a=i[0].clientRect;return r?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,r){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===t)return!1;if(r){let c=o?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return a===-1||!this._sortPredicate(a,t)?-1:a}},gE=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let r=e[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,e,i,r){let o=this._getItemIndexFromPointerPosition(t,e,i),a=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===r.x&&a.deltaY===r.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),u=s.getRootElement();o>l?u.after(c):u.before(c),AW(this._activeItems,l,o);let d=this._getRootNode().elementFromPoint(e,i);return a.deltaX=r.x,a.deltaY=r.y,a.drag=s,a.overlaps=u===d||u.contains(d),{previousIndex:l,currentIndex:o}}enter(t,e,i,r){let o=this._activeItems.indexOf(t);o>-1&&this._activeItems.splice(o,1);let a=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,i):r;a===-1&&(a=this._getClosestItemIndexToPointer(t,e,i));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,t),s.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[r,o]=this._relatedNodes[i];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}getItemAtIndex(t){return this._activeItems[t]||null}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,i){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),o=r?this._activeItems.findIndex(a=>{let s=a.getRootElement();return r===s||s.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Zc(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==t){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),u=Math.hypot(e-l,i-c);u<r&&(r=u,o=a)}}return o}},IW=.05,zW=.05,Pa=(function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n})(Pa||{}),ho=(function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n})(ho||{}),vE=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new me;entered=new me;exited=new me;dropped=new me;sorted=new me;receivingStarted=new me;receivingStopped=new me;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Et.EMPTY;_verticalScrollDirection=Pa.NONE;_horizontalScrollDirection=ho.NONE;_scrollNode;_stopScrollTimers=new me;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let a=this.element=qi(t);this._document=i,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new Vg(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,a,s,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:s,event:l})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof Hg&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new gE(this._document,this._dragDropRegistry);else{let e=new Hg(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=qi(this.element),i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}getItemAtIndex(t){return this._isDragging?this._sortStrategy.getItemAtIndex(t):this._draggables[t]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._domRect||!_W(this._domRect,IW,e,i))return;let o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=Pa.NONE,o=ho.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||i||_W(a.clientRect,IW,t,e)&&([r,o]=Nme(s,a.clientRect,this._direction,t,e),(r||o)&&(i=s))}),!r&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),l={width:a,height:s,top:0,right:a,bottom:s,left:0};r=kW(l,e),o=NW(l,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Wd(0,Y7).pipe(nn(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Pa.UP?t.scrollBy(0,-e):this._verticalScrollDirection===Pa.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===ho.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===ho.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return this._domRect!=null&&pE(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!pE(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,i);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,e){let i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=Zc(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function kW(n,t){let{top:e,bottom:i,height:r}=n,o=r*zW;return t>=e-o&&t<=e+o?Pa.UP:t>=i-o&&t<=i+o?Pa.DOWN:Pa.NONE}function NW(n,t){let{left:e,right:i,width:r}=n,o=r*zW;return t>=e-o&&t<=e+o?ho.LEFT:t>=i-o&&t<=i+o?ho.RIGHT:ho.NONE}function Nme(n,t,e,i,r){let o=kW(t,r),a=NW(t,i),s=Pa.NONE,l=ho.NONE;if(o){let c=n.scrollTop;o===Pa.UP?c>0&&(s=Pa.UP):n.scrollHeight-c>n.clientHeight&&(s=Pa.DOWN)}if(a){let c=n.scrollLeft;e==="rtl"?a===ho.RIGHT?c<0&&(l=ho.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=ho.LEFT):a===ho.LEFT?c>0&&(l=ho.LEFT):n.scrollWidth-c>n.clientWidth&&(l=ho.RIGHT)}return[s,l]}var Z5={capture:!0},dE={passive:!1,capture:!0},Pme=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),xE=(()=>{class n{_ngZone=B(Pe);_document=B(Te);_styleLoader=B(No);_renderer=B(vi).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new me;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=fn([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new me;pointerUp=new me;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,dE)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Pme),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=i.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),Z5],["selectstart",this._preventDefaultWhileDragging,dE]];r?a.push(["touchend",o,Z5],["touchcancel",o,Z5]):a.push(["mouseup",o,Z5]),r||a.push(["mousemove",s=>this.pointerMove.next(s),dE]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,l,c])=>this._renderer.listen(this._document,s,l,c))})}}stopDragging(e){this._activeDragInstances.update(i=>{let r=i.indexOf(e);return r>-1?(i.splice(r,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this._scroll];return e&&e!==this._document&&i.push(new dt(r=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(e,"scroll",a=>{this._activeDragInstances().length&&r.next(a)},Z5);return()=>{o()}}))),j1(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ome={dragStartThreshold:5,pointerDirectionChangeThreshold:5},PW=(()=>{class n{_document=B(Te);_ngZone=B(Pe);_viewportRuler=B(C2);_dragDropRegistry=B(xE);_renderer=B(vi).createRenderer(null,null);constructor(){}createDrag(e,i=Ome){return new hE(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new vE(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yE=new ue("CDK_DRAG_PARENT");var OW=new ue("CdkDragHandle"),rr=(()=>{class n{element=B(st);_parentDrag=B(yE,{optional:!0,skipSelf:!0});_dragDropRegistry=B(xE);_stateChanges=new me;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let i=this._dragDropRegistry.getDragDirectiveForNode(e);if(i){this._parentDrag=i,i._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",oi]},features:[ei([{provide:OW,useExisting:n}])]})}return n})(),Rme=new ue("CDK_DRAG_CONFIG"),Fme=new ue("CdkDropList"),or=(()=>{class n{element=B(st);dropContainer=B(Fme,{optional:!0,skipSelf:!0});_ngZone=B(Pe);_viewContainerRef=B(Ui);_dir=B(ka,{optional:!0});_changeDetectorRef=B(xi);_selfHandle=B(OW,{optional:!0,self:!0});_parentDrag=B(yE,{optional:!0,skipSelf:!0});_dragDropRegistry=B(xE);_destroyed=new me;_handles=new Hn([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new be;released=new be;ended=new be;entered=new be;exited=new be;dropped=new be;moved=new dt(e=>{let i=this._dragRef.moved.pipe(Ke(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=B(Ve);constructor(){let e=this.dropContainer,i=B(Rme,{optional:!0}),r=B(PW);this._dragRef=r.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(nn(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){zi(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),r=i.indexOf(e);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):qi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:ps(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Nt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let r=this._dragDropRegistry.getDragDirectiveForNode(i);if(r){e.withParent(r._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=r||0,this.lockAxis=i||null,o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(Gn(e=>{let i=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),jn(e=>j1(...e.map(i=>i._stateChanges.pipe(Dr(i))))),nn(this._destroyed)).subscribe(e=>{let i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){i&2&&Ce("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",oi],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",zf]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ei([{provide:yE,useExisting:n}]),rn]})}return n})();var o0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({providers:[PW],imports:[Kc]})}return n})();var RW={prefix:"fab",iconName:"yahoo",icon:[512,512,[],"f19e","M223.8 141.1l-56.7 143.2-56-143.2-96.1 0 105.8 249.1-38.6 89.8 94.2 0 140.9-338.9-93.6 0zM329.2 276.9a58.2 58.2 0 1 0 0 116.4 58.2 58.2 0 1 0 0-116.4zM394.7 32l-93 223.5 104.8 0 92.6-223.5-104.4 0z"]};var Bme=["tooltip"],VW=20;var UW=new ue("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>w2(n,{scrollThrottle:VW})}});function HW(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var jW=new ue("mat-tooltip-default-options",{providedIn:"root",factory:HW});var FW="tooltip-panel",BW=Ql({passive:!0}),Vme=8,Ume=8,Hme=24,jme=200,Bt=(()=>{class n{_elementRef=B(st);_ngZone=B(Pe);_platform=B(ni);_ariaDescriber=B(sW);_focusMonitor=B(Kl);_dir=B(ka);_injector=B(Ve);_viewContainerRef=B(Ui);_animationsDisabled=S1();_defaultOptions=B(jW,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=GW;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=rE(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=rE(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ps(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ps(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new me;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=Vme}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(nn(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,BW)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Zl(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(nn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof st)return this._overlayRef;this._detach()}let i=this._injector.get(t0).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${FW}`,o=au(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(nn(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=i0(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(UW)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(nn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(nn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(nn(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!ms(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(nn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(Q(Q({},r.main),o.main)),this._addOffset(Q(Q({},r.fallback),o.fallback))])}_addOffset(e){let i=Ume,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=r?-i:i:e.originX==="end"&&(e.offsetX=r?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),zi(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:o}=e,a;if(i==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=i==="bottom"&&o==="top"?"above":"below",a!==this._currentPosition){let s=this._overlayRef;if(s){let l=`${this._cssClassPrefix}-${FW}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,BW)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._injector.get(Te).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||zi({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&Ce("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),GW=(()=>{class n{_changeDetectorRef=B(xi);_elementRef=B(st);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=S1();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new me;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Hme&&e.width>=jme}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(i);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&Rn(Bme,7),i&2){let o;an(o=sn())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&z("mouseleave",function(a){return r._handleMouseLeave(a)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=ee();p(0,"div",1,0),z("animationend",function(s){return k(o),N(r._handleAnimationEnd(s))}),p(2,"div",2),y(3),h()()}i&2&&(Ce("mdc-tooltip--multiline",r._isMultiline),x("ngClass",r.tooltipClass),g(3),j(r.message))},dependencies:[Oe],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();function Gme(n,t){if(n&1&&(p(0,"span",4),y(1),h()),n&2){let e=M();g(),H(" ",e.label," ")}}var a0=(()=>{let t=class t{constructor(){this.title="",this.color="gray",this.action="view",this.noIconBackground=!1,this.handleAction=new be,this.bgStyles={blue:"bg-blue-500 text-white hover:bg-blue-600 shadow-sm",red:"bg-red-500 text-white hover:bg-red-600 shadow-sm",green:"bg-green-500 text-white hover:bg-green-600 shadow-sm",orange:"bg-orange-500 text-white hover:bg-orange-600 shadow-sm",gray:"bg-gray-500 text-white hover:bg-gray-700 shadow-sm"},this.textStyles={blue:"text-blue-500 hover:text-blue-600",red:"text-red-500  hover:text-red-600",green:"text-green-500 hover:text-green-600",orange:"text-orange-500 hover:text-orange-600",gray:"text-gray-600 hover:text-gray-700"},this.view=ds,this.add=pG,this.addUser=vg,this.modify=jj,this.cancel=bg,this.exit=N5,this.delete=$l,this.refresh=xG,this.chart=lG,this.copy=mG,this.buy=Wj,this.sell=Bj,this.pause=yG,this.activate=nG,this.info=P5,this.unlink=hG,this.link=Qj,this.login=hg,this.list=xg,this.collapseLeft=Uj,this.enlargeRight=Yj,this.collapseUp=vG,this.enlargeDown=uG,this.expand=Vj,this.addToCart=k5,this.execute=Gj,this.yahooFinance=RW,this.basket=k5}ngOnInit(){}buttonStyle(){return this.noIconBackground?this.textStyles[this.color]:this.bgStyles[this.color]}buttonColor(){return this.noIconBackground?this.textStyles[this.color]:"text-white"}handleClick(i,r){this.handleAction.emit({action:i,row:r})}get icon(){switch(this.action){case"view":return this.view;case"add":return this.add;case"addUser":return this.addUser;case"modify":return this.modify;case"cancel":return this.cancel;case"exit":return this.exit;case"delete":return this.delete;case"refresh":return this.refresh;case"chart":return this.chart;case"copy":return this.copy;case"buy":return this.buy;case"sell":return this.sell;case"pause":return this.pause;case"activate":return this.activate;case"unlink":return this.unlink;case"link":return this.link;case"login":return this.login;case"list":return this.list;case"collapseLeft":return this.collapseLeft;case"enlargeRight":return this.enlargeRight;case"collapseUp":return this.collapseUp;case"enlargeDown":return this.enlargeDown;case"expand":return this.expand;case"addToCart":return this.addToCart;case"execute":return this.execute;case"yahooFinance":return this.yahooFinance;case"basket":return this.basket;case"info":default:return this.info}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-action-button"]],inputs:{title:"title",label:"label",color:"color",action:"action",row:"row",noIconBackground:"noIconBackground"},outputs:{handleAction:"handleAction"},decls:4,vars:5,consts:[[1,"flex","items-center","gap-2"],[1,"px-2","py-1","rounded-md","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-all","flex","items-center","ml-2",3,"click","ngClass","matTooltip"],[3,"icon","ngClass"],["class","ml-3 text-sm font-medium",4,"ngIf"],[1,"ml-3","text-sm","font-medium"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"button",1),z("click",function(){return o.handleClick(o.action,o.row)}),O(2,"fa-icon",2),A(3,Gme,2,1,"span",3),h()()),r&2&&(g(),x("ngClass",o.buttonStyle())("matTooltip",o.title),g(),x("icon",o.icon)("ngClass",o.buttonColor()),g(),x("ngIf",o.label))},dependencies:[Oe,at,ye,Bt],encapsulation:2});let n=t;return n})();var vt=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(vt||{}),Oa="*";function n3(n,t){return{type:vt.Trigger,name:n,definitions:t,options:{}}}function gs(n,t=null){return{type:vt.Animate,styles:t,timings:n}}function WW(n,t=null){return{type:vt.Sequence,steps:n,options:t}}function Cr(n){return{type:vt.Style,styles:n,offset:null}}function s0(n,t,e){return{type:vt.State,name:n,styles:t,options:e}}function M2(n,t,e=null){return{type:vt.Transition,expr:n,animation:t,options:e}}function jg(n,t,e=null){return{type:vt.Query,selector:n,animation:t,options:e}}function Gg(n,t){return{type:vt.Stagger,timings:n,animation:t}}var hs=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},t3=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},uu="!";var Pi=n3("expandCollapse",[s0("collapsed",Cr({height:"0px",opacity:0,padding:"0"})),s0("expanded",Cr({height:"*",opacity:1})),M2("collapsed <=> expanded",gs("300ms ease"))]),qW=n3("listAnimation",[M2("* => *",[jg(":enter",[Cr({opacity:0,transform:"translateY(-10px)"}),Gg(50,[gs("200ms ease-out",Cr({opacity:1,transform:"translateY(0)"}))])],{optional:!0}),jg(":leave",[Gg(50,[gs("150ms ease-out",Cr({opacity:0,transform:"translateY(10px)"}))])],{optional:!0})])]),$W=n3("fadeInUp",[M2(":enter",[Cr({opacity:0,transform:"translateY(20px)"}),gs("400ms ease-out",Cr({opacity:1,transform:"translateY(0)"}))]),M2(":leave",[gs("300ms ease-in",Cr({opacity:0,transform:"translateY(-20px)"}))])]);function YW(n,t){n.terminate=function(){let e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;let i=new Date,r=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=a=>{let s=new Date().getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${s}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),o?.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}var i3={LF:`
`,NULL:"\0"};var K5=class n{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){let{command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:a,skipContentLengthHeader:s}=t;this.command=e,this.headers=Object.assign({},i||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=s||!1}static fromRawFrame(t,e){let i={},r=o=>o.replace(/^\s+|\s+$/g,"");for(let o of t.headers.reverse()){let a=o.indexOf(":"),s=r(o[0]),l=r(o[1]);e&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=n.hdrValueUnEscape(l)),i[s]=l}return new n({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){let t=this.serializeCmdAndHeaders();return this.isBinaryBody?n.toUnit8Array(t,this._binaryBody).buffer:t+this._body+i3.NULL}serializeCmdAndHeaders(){let t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(let e of Object.keys(this.headers||{})){let i=this.headers[e];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${e}:${n.hdrValueEscape(`${i}`)}`):t.push(`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(i3.LF)+i3.LF+i3.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){let t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,e){let i=new TextEncoder().encode(t),r=new Uint8Array([0]),o=new Uint8Array(i.length+e.length+r.length);return o.set(i),o.set(e,i.length),o.set(r,i.length+e.length),o}static marshall(t){return new n(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}};var Wg=class{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let i;if(typeof t=="string"?i=this._encoder.encode(t):i=new Uint8Array(t),e&&i[i.length-1]!==0){let r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++){let o=i[r];this._onByte(o)}}_collectFrame(t){if(t!==0&&t!==13){if(t===10){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==13){if(t===10){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==13){if(t===10){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===58){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==13){if(t===10){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){let t=this._results.headers.filter(e=>e[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===0){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var T2=(function(n){return n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED",n})(T2||{}),w1=(function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE",n})(w1||{}),qg=(function(n){return n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL",n})(qg||{}),du=(function(n){return n.Interval="interval",n.Worker="worker",n})(du||{});var $g=class{constructor(t,e=du.Interval,i){this._interval=t,this._strategy=e,this._debug=i,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===du.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=e=>t(e.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){let e=Date.now();this._timer=setInterval(()=>{t(Date.now()-e)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}};var $i=class{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}};$i.V1_0="1.0";$i.V1_1="1.1";$i.V1_2="1.2";$i.default=new $i([$i.V1_2,$i.V1_1,$i.V1_0]);var Yg=class{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,e,i){this._client=t,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===$i.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{let o=r.headers.subscription,a=this._subscriptions[o]||this.onUnhandledMessage,s=r,l=this,c=this._connectedVersion===$i.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(u={})=>l.ack(c,o,u),s.nack=(u={})=>l.nack(c,o,u),a(s)},RECEIPT:r=>{let o=this._receiptWatchers[r.headers["receipt-id"]];o?(o(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatToleranceMultiplier=i.heartbeatGracePeriods,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame,this.onHeartbeatReceived=i.onHeartbeatReceived,this.onHeartbeatLost=i.onHeartbeatLost}start(){let t=new Wg(e=>{let i=K5.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let i=e.data instanceof ArrayBuffer?new TextDecoder().decode(e.data):e.data;this.debug(`<<< ${i}`)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{let e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(t){if(t.version!==$i.V1_1&&t.version!==$i.V1_2||!t["heart-beat"])return;let[e,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(this.heartbeatOutgoing!==0&&i!==0){let r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=new $g(r,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===T2.OPEN&&(this._webSocket.send(i3.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&e!==0){let r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{let o=Date.now()-this._lastServerActivityTS;o>r*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${o}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===T2.CONNECTING||this._webSocket.readyState===T2.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&YW(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){let{command:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:a}=t,s=new K5({command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a}),l=s.serialize();if(this.logRawCommunication?this.debug(`>>> ${l}`):this.debug(`>>> ${s}`),this.forceBinaryWSFrames&&typeof l=="string"&&(l=new TextEncoder().encode(l)),typeof l!="string"||!this.splitLargeFrames)this._webSocket.send(l);else{let c=l;for(;c.length>0;){let u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}}dispose(){if(this.connected)try{let t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===T2.CONNECTING||this._webSocket.readyState===T2.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){let{destination:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:a}=t,s=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:s,body:r,binaryBody:o,skipContentLengthHeader:a})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,i={}){i=Object.assign({},i),i.id||(i.id=`sub-${this._counter++}`),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});let r=this;return{id:i.id,unsubscribe(o){return r.unsubscribe(i.id,o)}}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){let e=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:e}});let i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,i={}){i=Object.assign({},i),this._connectedVersion===$i.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(t,e,i={}){return i=Object.assign({},i),this._connectedVersion===$i.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})}};var Zg=class{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===w1.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=$i.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=qg.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=du.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=w1.INACTIVE;let e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onHeartbeatReceived=e,this.onHeartbeatLost=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){let t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(w1.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===w1.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){return Jo(this,null,function*(){if(yield this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let t=this._createWebSocket();this._stompHandler=new Yg(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:e=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(e)},onDisconnect:e=>{this.onDisconnect(e)},onStompError:e=>{this.onStompError(e)},onWebSocketClose:e=>{this._stompHandler=void 0,this.state===w1.DEACTIVATING&&this._changeState(w1.INACTIVE),this.onWebSocketClose(e),this.active&&this._schedule_reconnect()},onWebSocketError:e=>{this.onWebSocketError(e)},onUnhandledMessage:e=>{this.onUnhandledMessage(e)},onUnhandledReceipt:e=>{this.onUnhandledReceipt(e)},onUnhandledFrame:e=>{this.onUnhandledFrame(e)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()})}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===qg.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}deactivate(){return Jo(this,arguments,function*(t={}){let e=t.force||!1,i=this.active,r;if(this.state===w1.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(w1.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==T2.CLOSED){let o=this._stompHandler.onWebSocketClose;r=new Promise((a,s)=>{this._stompHandler.onWebSocketClose=l=>{o(l),a()}})}else return this._changeState(w1.INACTIVE),Promise.resolve();return e?this._stompHandler?.discardWebsocket():i&&this._disposeStompHandler(),r})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,e){this._checkConnection(),this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,e,i)}unsubscribe(t,e={}){this._checkConnection(),this._stompHandler.unsubscribe(t,e)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,e,i={}){this._checkConnection(),this._stompHandler.ack(t,e,i)}nack(t,e,i={}){this._checkConnection(),this._stompHandler.nack(t,e,i)}};var PY=D7(NY());var ar=(()=>{let t=class t{constructor(i){this.api=i,this.authStatus=new Hn(!!localStorage.getItem("trade-manage-app-token")),this.authStatus$=this.authStatus.asObservable(),this.loggingOut=!1}login(i){return this.api.post("/auth/login",i).pipe(Gn(r=>{localStorage.setItem("trade-manage-app-token",r.token)}))}sendSignupOtp(i){return this.api.post("/auth/signup/send-otp",i)}sendLoginOtp(i){return this.api.post("/auth/login/send-otp",i)}signup(i){return this.api.post("/auth/signup",i)}logout(){this.loggingOut=!0,localStorage.removeItem("trade-manage-app-token"),this.setAuthenticated(!1)}getToken(){return localStorage.getItem("trade-manage-app-token")}setAuthenticated(i){this.authStatus.next(i)}isAuthenticated(){return this.authStatus.getValue()}isLoggingOut(){return this.loggingOut}resetLoggingOutFlag(){this.loggingOut=!1}isAdmin(){let i=this.getToken();if(!i)return null;try{return JSON.parse(atob(i.split(".")[1])).isAdmin||null}catch{return null}}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var sr=(()=>{let t=class t{constructor(i,r){this.authUserService=i,this.appProperties=r,this.connected$=new Hn(!1),this.tick$=new me,this.order$=new me,this.tokenRefCount=new Map,this.client=new Zg({webSocketFactory:()=>{let o=i.getToken();if(o){let a=this.appProperties.getConfig().wsUrl;return new PY.default(`${a}?token=${o}`)}else throw new Error("Cannot establish WebSocket connection: Token is missing")},reconnectDelay:5e3,onConnect:()=>{this.connected$.next(!0),this.client.subscribe("/user/queue/ticks",o=>{let a=JSON.parse(o.body);this.tick$.next(JSON.parse(o.body))}),this.client.subscribe("/user/queue/orders",o=>{this.order$.next(JSON.parse(o.body))})},onWebSocketClose:()=>this.connected$.next(!1),debug:o=>console.debug(o)}),this.client.activate()}connectionState(){return this.connected$.asObservable()}ticks(){return this.tick$.asObservable()}orderUpdates(){return this.order$.asObservable()}subscribe(i){for(let r of i){let o=this.tokenRefCount.get(r)||0;this.tokenRefCount.set(r,o+1)}if(i.length<1){console.log("No new instrument tokens for subscription.");return}this.client.connected?this.client.publish({destination:"/app/subscribe",body:JSON.stringify({instrumentTokens:i})}):console.warn("WebSocket client is not connected. Cannot subscribe.")}unsubscribe(i){let r=[];for(let o of i){let a=this.tokenRefCount.get(o);a!==void 0&&(a<=1?(this.tokenRefCount.delete(o),r.push(o)):this.tokenRefCount.set(o,a-1))}return r.length<1?(console.log("No unique instrument tokens for un-subscribe."),Me(void 0)):this.client.connected?(this.client.publish({destination:"/app/unsubscribe",body:JSON.stringify({instrumentTokens:r})}),Ys(100).pipe(Ke(()=>{}))):(console.warn("WebSocket client is not connected. Cannot unsubscribe."),Me(void 0))}disconnect(){this.client.deactivate()}ngOnDestroy(){this.disconnect()}};t.\u0275fac=function(r){return new(r||t)(ae(ar),ae(Ul))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var OY=(()=>{let t=class t{constructor(i,r){this.api=i,this.http=r}getInstrumentByToken(i){return this.api.get(`/v1/instruments?instrumentToken=${i}`)}getInstrumentBySymbol(i,r){return this.api.get(`/v1/instruments?tradingSymbol=${i}&exchange=${r}`)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt),ae(kl))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var RY=["toast-component",""];function X9e(n,t){if(n&1){let e=ee();p(0,"button",5),z("click",function(){k(e);let r=M();return N(r.remove())}),p(1,"span",6),y(2,"\xD7"),h()()}}function Q9e(n,t){if(n&1&&(At(0),y(1),zt()),n&2){let e=M(2);g(),H("[",e.duplicatesCount+1,"]")}}function K9e(n,t){if(n&1&&(p(0,"div"),y(1),A(2,Q9e,2,1,"ng-container",4),h()),n&2){let e=M();Fn(e.options.titleClass),Mn("aria-label",e.title),g(),H(" ",e.title," "),g(),x("ngIf",e.duplicatesCount)}}function J9e(n,t){if(n&1&&O(0,"div",7),n&2){let e=M();Fn(e.options.messageClass),x("innerHTML",e.message,v6)}}function ege(n,t){if(n&1&&(p(0,"div",8),y(1),h()),n&2){let e=M();Fn(e.options.messageClass),Mn("aria-label",e.message),g(),H(" ",e.message," ")}}function tge(n,t){if(n&1&&(p(0,"div"),O(1,"div",9),h()),n&2){let e=M();g(),Da("width",e.width()+"%")}}function nge(n,t){if(n&1){let e=ee();p(0,"button",5),z("click",function(){k(e);let r=M();return N(r.remove())}),p(1,"span",6),y(2,"\xD7"),h()()}}function ige(n,t){if(n&1&&(At(0),y(1),zt()),n&2){let e=M(2);g(),H("[",e.duplicatesCount+1,"]")}}function rge(n,t){if(n&1&&(p(0,"div"),y(1),A(2,ige,2,1,"ng-container",4),h()),n&2){let e=M();Fn(e.options.titleClass),Mn("aria-label",e.title),g(),H(" ",e.title," "),g(),x("ngIf",e.duplicatesCount)}}function oge(n,t){if(n&1&&O(0,"div",7),n&2){let e=M();Fn(e.options.messageClass),x("innerHTML",e.message,v6)}}function age(n,t){if(n&1&&(p(0,"div",8),y(1),h()),n&2){let e=M();Fn(e.options.messageClass),Mn("aria-label",e.message),g(),H(" ",e.message," ")}}function sge(n,t){if(n&1&&(p(0,"div"),O(1,"div",9),h()),n&2){let e=M();g(),Da("width",e.width()+"%")}}var fD=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},pD=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},mD=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new me;_activate=new me;_manualClose=new me;_resetTimeout=new me;_countDuplicate=new me;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},bu=class{toastId;config;message;title;toastType;toastRef;_onTap=new me;_onAction=new me;constructor(t,e,i,r,o,a){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},FY={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},BY=new ue("ToastConfig"),hD=class extends pD{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},lge=(()=>{class n{_document=B(Te);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gD=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},cge=(()=>{class n{_overlayContainer=B(lge);_componentFactoryResolver=B(Ic);_appRef=B(_i);_document=B(Te);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new hD(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new gD(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nt=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,o,a){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=a,this.toastrConfig=Q(Q({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Q(Q({},e.default.iconClasses),e.config.iconClasses))}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}error(e,i,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}info(e,i,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}warning(e,i,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){let{includeTitleDuplicates:a}=this.toastrConfig;for(let s of this.toasts){let l=a&&s.title===e;if((!a||l)&&s.message===i)return s.toastRef.onDuplicate(r,o),s}return null}applyConfig(e={}){return Q(Q({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let a=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&a!==null)return a;this.previousToastMessage=i;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&o.enableHtml&&(c=this.sanitizer.sanitize(Eo.HTML,i));let u=new mD(l),d=new bu(this.index,o,c,r,e,u),f=[{provide:bu,useValue:d}],m=Ve.create({providers:f,parent:this._injector}),v=new fD(o.toastComponent,m),_=l.attach(v,o.newestOnTop);u.componentInstance=_.instance;let b={toastId:this.index,title:r||"",message:i||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:_};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{b.toastRef.activate()})),this.toasts.push(b),b}static \u0275fac=function(i){return new(i||n)(ae(BY),ae(cge),ae(Ve),ae(Jf),ae(Pe))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uge=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=fn(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=fn({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>De(Q({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>De(Q({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>De(Q({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(V(nt),V(bu),V(Pe))};static \u0275cmp=ie({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&z("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(zh("@flyInOut",r._state),Fn(r.toastClasses),Da("display",r.displayStyle))},attrs:RY,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&A(0,X9e,3,0,"button",0)(1,K9e,3,5,"div",1)(2,J9e,1,3,"div",2)(3,ege,2,4,"div",3)(4,tge,2,2,"div",4),i&2&&(x("ngIf",r.options.closeButton),g(),x("ngIf",r.title),g(),x("ngIf",r.message&&r.options.enableHtml),g(),x("ngIf",r.message&&!r.options.enableHtml),g(),x("ngIf",r.options.progressBar))},dependencies:[ye],encapsulation:2,data:{animation:[n3("flyInOut",[s0("inactive",Cr({opacity:0})),s0("active",Cr({opacity:1})),s0("removed",Cr({opacity:0})),M2("inactive => active",gs("{{ easeTime }}ms {{ easing }}")),M2("active => removed",gs("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),dge=De(Q({},FY),{toastComponent:uge}),VY=(n={})=>W1([{provide:BY,useValue:{default:dge,config:n}}]);var fge=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=fn(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=fn("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(V(nt),V(bu),V(_i))};static \u0275cmp=ie({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&z("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Fn(r.toastClasses),Da("display",r.displayStyle))},attrs:RY,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&A(0,nge,3,0,"button",0)(1,rge,3,5,"div",1)(2,oge,1,3,"div",2)(3,age,2,4,"div",3)(4,sge,2,2,"div",4),i&2&&(x("ngIf",r.options.closeButton),g(),x("ngIf",r.title),g(),x("ngIf",r.message&&r.options.enableHtml),g(),x("ngIf",r.message&&!r.options.enableHtml),g(),x("ngIf",r.options.progressBar))},dependencies:[ye],encapsulation:2,changeDetection:0})}return n})(),Alt=De(Q({},FY),{toastComponent:fge});var vD=(n,t)=>({"bg-green-500":n,"bg-red-500":t}),pge=(n,t)=>({left:n,width:t}),UY=n=>({left:n,top:"50%",transform:"translate(-50%, -50%)"}),mge=n=>({"bg-blue-100 font-semibold":n}),hge=n=>({"bg-red-100 font-semibold":n});function gge(n,t){if(n&1){let e=ee();p(0,"tr")(1,"td",32),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.openOrderDialog(o.marketDepth.buy[r].price,"BUY"))}),y(2),$(3,"number"),h(),p(4,"td"),y(5),h(),p(6,"td",33),y(7),$(8,"number"),h(),p(9,"td",34),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.openOrderDialog(o.marketDepth.sell[r].price,"SELL"))}),y(10),$(11,"number"),h(),p(12,"td",28),y(13),h(),p(14,"td",35),y(15),$(16,"number"),h()()}if(n&2){let e=t.$implicit,i=M(2);g(2),H(" ",X(3,8,i.marketDepth.buy[e].price,"1.2-2")," "),g(3),j(i.marketDepth.buy[e].orders),g(),x("ngClass",bi(18,mge,i.marketDepth.buy[e].quantity===i.maxBidQty)),g(),H(" ",Do(8,11,i.marketDepth.buy[e].quantity)," "),g(3),H(" ",X(11,13,i.marketDepth.sell[e].price,"1.2-2")," "),g(3),j(i.marketDepth.sell[e].orders),g(),x("ngClass",bi(20,hge,i.marketDepth.sell[e].quantity===i.maxOfferQty)),g(),H(" ",Do(16,16,i.marketDepth.sell[e].quantity)," ")}}function vge(n,t){if(n&1&&(p(0,"table",23)(1,"thead",24)(2,"tr")(3,"th",25),y(4,"Bid"),h(),p(5,"th",26),y(6,"Orders"),h(),p(7,"th",26),y(8,"Qty"),h(),p(9,"th",27),y(10,"Offer"),h(),p(11,"th",28),y(12,"Orders"),h(),p(13,"th",28),y(14,"Qty"),h()()(),p(15,"tbody"),A(16,gge,17,22,"tr",29),p(17,"tr")(18,"td",30),y(19,"Total"),h(),O(20,"td"),p(21,"td"),y(22),$(23,"number"),h(),p(24,"td",31),y(25,"Total"),h(),O(26,"td"),p(27,"td",28),y(28),$(29,"number"),h()()()()),n&2){let e=M();g(16),x("ngForOf",e.depthLevels),g(6),j(Do(23,3,e.tick.totalBuyQuantity)),g(6),j(Do(29,5,e.tick.totalSellQuantity))}}function yge(n,t){if(n&1){let e=ee();p(0,"app-action-button",36),z("handleAction",function(){k(e);let r=M();return N(r.isSummaryCollapsed=!r.isSummaryCollapsed)}),h()}if(n&2){let e=M();x("title",e.isSummaryCollapsed?"Expand":"Collapse")("action",e.isSummaryCollapsed?"enlargeDown":"collapseUp")("color","gray")("noIconBackground",!0)}}function _ge(n,t){if(n&1&&(p(0,"div",15)(1,"span"),y(2,"Lot Size"),h(),p(3,"span"),y(4),h()()),n&2){let e=M(2);g(4),j(e.instrument.lotSize)}}function bge(n,t){if(n&1&&(p(0,"div",15)(1,"span"),y(2,"OI"),h(),p(3,"span"),y(4),$(5,"number"),h()()),n&2){let e=M(2);g(4),j(Do(5,1,e.tick.oi))}}function xge(n,t){if(n&1&&(p(0,"div",15)(1,"span"),y(2,"Expiry"),h(),p(3,"span"),y(4),$(5,"istDate"),h()()),n&2){let e=M(2);g(4),j(X(5,1,e.instrument.expiry,"date-ordinal"))}}function Cge(n,t){if(n&1&&(p(0,"div",37)(1,"div",15)(2,"span"),y(3,"Volume"),h(),p(4,"span"),y(5),$(6,"number"),h()(),p(7,"div",15)(8,"span"),y(9,"Avg. Price"),h(),p(10,"span"),y(11),$(12,"number"),h()(),p(13,"div",15)(14,"span"),y(15,"LTQ"),h(),p(16,"span"),y(17),h()(),p(18,"div",15)(19,"span"),y(20,"LTT"),h(),p(21,"span"),y(22),$(23,"istDate"),h()(),A(24,_ge,5,1,"div",38)(25,bge,6,3,"div",38)(26,xge,6,4,"div",38),h()),n&2){let e=M();g(5),j(Do(6,7,e.tick.volumeTradedToday)),g(6),j(X(12,9,e.tick.averageTradePrice,"1.2-2")),g(6),j(e.tick.lastTradedQuantity),g(5),j(X(23,12,e.tick.lastTradedTime,"time-no-mod")),g(2),x("ngIf",e.instrument.lotSize>1),g(),x("ngIf",e.tick.oi),g(),x("ngIf",e.instrument.expiry)}}var HY=(()=>{let t=class t{constructor(i,r,o,a,s,l,c){this.ws=i,this.dialogRef=r,this.dialog=o,this.data=a,this.overlay=s,this.instrumentsService=l,this.toastrService=c,this.title="Instrument Name",this.instrumentToken=0,this.instrument={},this.marketDepth={buy:[{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0}],sell:[{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0}]},this.depthLevels=[],this.maxBidQty=0,this.maxOfferQty=0,this.tick={},this.faArrowTrendUp=mg,this.isSummaryCollapsed=!0,this.instrumentToken=Number(a.instrumentToken),this.title=a.title}ngOnInit(){let i=Math.min(this.marketDepth.buy.length,this.marketDepth.sell.length);this.depthLevels=Array.from({length:i},(r,o)=>o),this.subscribeToWebSocket(),this.fetchInstrument()}fetchInstrument(i){this.instrumentsService.getInstrumentByToken(this.instrumentToken).subscribe({next:r=>{this.instrument=r.data},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching instrument. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}ngOnDestroy(){this.ws.unsubscribe([this.instrumentToken]),this.sub?.unsubscribe(),this.instrumentToken=0}subscribeToWebSocket(){this.instrumentToken>0?(this.ws.connectionState().pipe(tt(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe([this.instrumentToken])}),this.sub=this.ws.ticks().subscribe(i=>{this.updateMarketDepth(i)})):console.log("No instrument tokens available for web socket subscription.")}updateMarketDepth(i){i.forEach(r=>{if(this.instrumentToken===r.instrumentToken)if(this.tick=r,r.tradable){this.marketDepth=r.marketDepth;let o=Math.min(this.marketDepth.buy.length,this.marketDepth.sell.length);this.depthLevels=Array.from({length:o},(a,s)=>s),this.maxBidQty=Math.max(...this.marketDepth.buy.map(a=>a.quantity)),this.maxOfferQty=Math.max(...this.marketDepth.sell.map(a=>a.quantity))}else this.isSummaryCollapsed=!1})}onClose(){this.dialogRef.close()}openOrderDialog(i,r){let o={exchange:this.instrument.exchange,tradingSymbol:this.instrument.tradingSymbol,instrumentToken:this.instrument.instrumentToken,lastPrice:i,displayName:this.instrument.displayName,segment:this.instrument.segment||this.instrument.order.exchange},a={isCopy:!0,isBuyMode:r,originalPrice:i,originalTriggerPrice:0}}getPercent(i){let r=this.tick.highPrice-this.tick.lowPrice;return`${(i-this.tick.lowPrice)/r*100}%`}getMinPercent(i,r){let o=Math.min(i,r);return this.getPercent(o)}getWidthBetween(i,r){let o=this.tick.highPrice-this.tick.lowPrice;return`${Math.abs(i-r)/o*100}%`}};t.\u0275fac=function(r){return new(r||t)(V(sr),V(Ni),V(Xn),V(Ur),V(Vr),V(OY),V(nt))},t.\u0275cmp=ie({type:t,selectors:[["app-market-depth"]],decls:55,vars:57,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[400px]","max-w-full","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","gap-2","p-4","border-b","cursor-move"],[1,"font-medium"],[1,"text-xs","text-gray-500","font-normal","ml-1"],[1,"font-medium","text-right","sm:text-left",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"p-4","space-y-4","text-sm"],[1,"overflow-hidden","transition-all","duration-300"],[1,"overflow-x-auto"],["class","w-full",4,"ngIf"],[1,"flex","items-center","justify-between",3,"ngClass"],[1,"font-medium","hover:underline",3,"click"],[3,"title","action","color","noIconBackground","handleAction",4,"ngIf"],[1,"space-y-4"],[1,"grid","grid-cols-2","sm:grid-cols-2","gap-2"],[1,"flex","justify-between"],[1,"relative","h-1","mt-3","mb-6","bg-gray-200"],[1,"absolute","top-0","h-1","rounded-md",3,"ngClass","ngStyle"],[1,"absolute","w-2","h-2","square-full",3,"ngClass","ngStyle","matTooltip"],[1,"absolute","w-2","h-2","rounded-full",3,"ngClass","ngStyle","matTooltip"],["class","grid grid-cols-2 gap-2 border-t pt-2",4,"ngIf"],["cdkDragHandle","",1,"flex","justify-end","border-t","px-4","py-3","cursor-move"],[1,"px-4","py-2","border","rounded","hover:bg-gray-100",3,"click"],[1,"w-full"],[1,"border-b","font-medium"],[1,"text-blue-600","text-left"],[1,"text-left"],[1,"text-right","text-red-600"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-blue-600"],[1,"text-red-600","text-right"],[1,"text-blue-600","hover:underline","cursor-pointer",3,"click"],[3,"ngClass"],[1,"text-red-600","text-right","hover:underline","cursor-pointer",3,"click"],[1,"text-right",3,"ngClass"],[3,"handleAction","title","action","color","noIconBackground"],[1,"grid","grid-cols-2","gap-2","border-t","pt-2"],["class","flex justify-between",4,"ngIf"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1)(2,"span",2),y(3),p(4,"span",3),y(5),h()(),p(6,"span",4),y(7),$(8,"number"),p(9,"span",5),y(10),$(11,"percent"),h()()(),p(12,"div",6)(13,"div",7)(14,"div",8),A(15,vge,30,7,"table",9),h()(),p(16,"div",10)(17,"button",11),z("click",function(){return o.isSummaryCollapsed=!o.isSummaryCollapsed}),y(18,"Summary"),h(),A(19,yge,1,4,"app-action-button",12),h(),p(20,"div",7)(21,"div",13)(22,"div",14)(23,"div",15)(24,"span"),y(25,"Open"),h(),p(26,"span"),y(27),$(28,"number"),h()(),p(29,"div",15)(30,"span"),y(31,"Prev. Close"),h(),p(32,"span"),y(33),$(34,"number"),h()(),p(35,"div",15)(36,"span"),y(37,"Low"),h(),p(38,"span"),y(39),$(40,"number"),h()(),p(41,"div",15)(42,"span"),y(43,"High"),h(),p(44,"span"),y(45),$(46,"number"),h()()(),p(47,"div",16),O(48,"div",17)(49,"div",18)(50,"div",19),h(),A(51,Cge,27,15,"div",20),h()()(),p(52,"div",21)(53,"button",22),z("click",function(){return o.onClose()}),y(54,"Close"),h()()()),r&2&&(g(3),H("",o.title," "),g(2),j(o.instrument.exchange),g(),x("ngClass",o.color(o.tick.change)),g(),H(" ",X(8,23,o.tick.lastTradedPrice,"1.2-2")," "),g(3),H(" ",X(11,26,o.tick.change/100,"1.2-2")," "),g(3),x("@expandCollapse",o.tick.tradable?"expanded":"collapsed"),g(2),x("ngIf",o.tick.tradable),g(),x("ngClass",o.tick.tradable?"border-t pt-2":"pt-0"),g(3),x("ngIf",o.tick.tradable),g(),x("@expandCollapse",o.isSummaryCollapsed?"collapsed":"expanded"),g(7),j(X(28,29,o.tick.openPrice,"1.2-2")),g(6),j(X(34,32,o.tick.closePrice,"1.2-2")),g(6),j(X(40,35,o.tick.lowPrice,"1.2-2")),g(6),j(X(46,38,o.tick.highPrice,"1.2-2")),g(3),x("ngClass",Qe(41,vD,o.tick.lastTradedPrice>=o.tick.closePrice,o.tick.lastTradedPrice<o.tick.closePrice))("ngStyle",Qe(44,pge,o.getMinPercent(o.tick.openPrice,o.tick.lastTradedPrice),o.getWidthBetween(o.tick.openPrice,o.tick.lastTradedPrice))),g(),x("ngClass",Qe(47,vD,o.tick.openPrice>=o.tick.closePrice,o.tick.openPrice<o.tick.closePrice))("ngStyle",bi(50,UY,o.getPercent(o.tick.openPrice)))("matTooltip","Open"),g(),x("ngClass",Qe(52,vD,o.tick.lastTradedPrice>=o.tick.closePrice,o.tick.lastTradedPrice<o.tick.closePrice))("ngStyle",bi(55,UY,o.getPercent(o.tick.lastTradedPrice)))("matTooltip","Last Price"),g(),x("ngIf",o.tick.tradable))},dependencies:[Oe,Ae,or,rr,ye,a0,Vf,Bt,ln,ti,$n],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();function Sge(n,t){if(n&1){let e=ee();p(0,"app-action-button",2),z("handleAction",function(){k(e);let r=M();return N(r.handleAction())}),h()}n&2&&x("matTooltip","Market Depth")("action","list")("color","gray")}function wge(n,t){if(n&1){let e=ee();p(0,"fa-icon",3),z("click",function(){k(e);let r=M();return N(r.handleAction())}),h()}if(n&2){let e=M();x("matTooltip","Market Depth")("icon",e.faList)("ngClass",e.getTextStyle())}}var Fa=(()=>{let t=class t{constructor(i,r){this.dialog=i,this.overlay=r,this.title="",this.instrumentToken=0,this.iconBackground=!1,this.iconColor="gray",this.textStyles={blue:"text-blue-500 hover:text-blue-600",red:"text-red-500  hover:text-red-600",green:"text-green-500 hover:text-green-600",orange:"text-orange-500 hover:text-orange-600",gray:"text-gray-500 hover:text-gray-600",white:"text-white"},this.faList=xg}getTextStyle(){return this.textStyles[this.iconColor]}handleAction(){this.openMarketDepthDialog()}openMarketDepthDialog(){let i=this.dialog.open(HY,{disableClose:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{title:this.title,instrumentToken:this.instrumentToken}})}};t.\u0275fac=function(r){return new(r||t)(V(Xn),V(Vr))},t.\u0275cmp=ie({type:t,selectors:[["app-market-depth-invoker"]],inputs:{title:"title",instrumentToken:"instrumentToken",iconBackground:"iconBackground",iconColor:"iconColor"},decls:2,vars:1,consts:[[3,"matTooltip","action","color"],[1,"cursor-pointer","ml-2",3,"matTooltip","icon","ngClass"],[3,"handleAction","matTooltip","action","color"],[1,"cursor-pointer","ml-2",3,"click","matTooltip","icon","ngClass"]],template:function(r,o){r&1&&Gt(0,Sge,1,3,"app-action-button",0)(1,wge,1,3,"fa-icon",1),r&2&&Wt(o.iconBackground?0:1)},dependencies:[at,a0,Oe,Bt],encapsulation:2});let n=t;return n})();var jY=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var Ba=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(Ba||{}),yD=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Ba.HIDDEN;constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},GY=Ql({passive:!0,capture:!0}),_D=class{_events=new Map;addHandler(t,e,i,r){let o=this._events.get(e);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,GY)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,GY)))}_delegateEventHandler=t=>{let e=xr(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}},WY={enterDuration:225,exitDuration:150},Mge=800,qY=Ql({passive:!0,capture:!0}),$Y=["mousedown","touchstart"],YY=["mouseup","mouseleave","touchend","touchcancel"],Tge=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),bD=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new _D;constructor(t,e,i,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=qi(i)),o&&o.get(No).load(Tge)}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Q(Q({},WY),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let a=i.radius||Ege(t,e,r),s=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${l-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,m=d.transitionDuration,v=f==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,_=new yD(this,u,i,v);u.style.transform="scale3d(1, 1, 1)",_.state=Ba.FADING_IN,i.persistent||(this._mostRecentTransientRipple=_);let b=null;return!v&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let C=()=>{b&&(b.fallbackTimer=null),clearTimeout(E),this._finishRippleTransition(_)},w=()=>this._destroyRipple(_),E=setTimeout(w,c+100);u.addEventListener("transitionend",C),u.addEventListener("transitioncancel",w),b={onTransitionEnd:C,onTransitionCancel:w,fallbackTimer:E}}),this._activeRipples.set(_,b),(v||!c)&&this._finishRippleTransition(_),_}fadeOutRipple(t){if(t.state===Ba.FADING_OUT||t.state===Ba.HIDDEN)return;let e=t.element,i=Q(Q({},WY),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Ba.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=qi(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,$Y.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{YY.forEach(e=>{this._triggerElement.addEventListener(e,this,qY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ba.FADING_IN?this._startFadeOutTransition(t):t.state===Ba.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Ba.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ba.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=b2(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Mge;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!x2(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Ba.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ba.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&($Y.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(YY.forEach(e=>t.removeEventListener(e,this,qY)),this._pointerUpEventsRegistered=!1))}};function Ege(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var Dge=new ue("mat-ripple-global-options"),ZY=(()=>{class n{_elementRef=B(st);_animationsDisabled=S1();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=B(Pe),i=B(ni),r=B(Dge,{optional:!0}),o=B(Ve);this._globalOptions=r||{},this._rippleRenderer=new bD(this,e,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Q(Q(Q({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,Q(Q({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Q(Q({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Ce("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var gv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({imports:[Na,Na]})}return n})();var Age=["mat-menu-item",""],zge=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],kge=["mat-icon, [matMenuItemIcon]","*"];function Nge(n,t){n&1&&(Ht(),p(0,"svg",2),O(1,"polygon",3),h())}var Pge=["*"];function Oge(n,t){if(n&1){let e=ee();es(0,"div",0),kh("click",function(){k(e);let r=M();return N(r.closed.emit("click"))})("animationstart",function(r){k(e);let o=M();return N(o._onAnimationStart(r.animationName))})("animationend",function(r){k(e);let o=M();return N(o._onAnimationDone(r.animationName))})("animationcancel",function(r){k(e);let o=M();return N(o._onAnimationDone(r.animationName))}),es(1,"div",1),Ea(2),l2()()}if(n&2){let e=M();Fn(e._classList),Ce("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating()),Ll("id",e.panelId),Mn("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var SD=new ue("MAT_MENU_PANEL"),CD=(()=>{class n{_elementRef=B(st);_document=B(Te);_focusMonitor=B(Kl);_parentMenu=B(SD,{optional:!0});_changeDetectorRef=B(xi);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new me;_focused=new me;_highlighted=!1;_triggersSubmenu=!1;constructor(){B(No).load(jY),this._parentMenu?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&z("click",function(a){return r._checkDisabled(a)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(Mn("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Ce("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",oi],disableRipple:[2,"disableRipple","disableRipple",oi]},exportAs:["matMenuItem"],attrs:Age,ngContentSelectors:kge,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(y1(zge),Ea(0),p(1,"span",0),Ea(2,1),h(),O(3,"div",1),Gt(4,Nge,2,0,":svg:svg",2)),i&2&&(g(3),x("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),g(),Wt(r._triggersSubmenu?4:-1))},dependencies:[ZY],encapsulation:2,changeDetection:0})}return n})();var Rge=new ue("MatMenuContent");var Fge=new ue("mat-menu-default-options",{providedIn:"root",factory:Bge});function Bge(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var xD="_mat-menu-enter",vv="_mat-menu-exit",Cu=(()=>{class n{_elementRef=B(st);_changeDetectorRef=B(xi);_injector=B(Ve);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=S1();_allItems;_directDescendantItems=new i2;_classList={};_panelAnimationState="void";_animationDone=new me;_isAnimating=fn(!1);parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let i=this._previousPanelClass,r=Q({},this._classList);i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new be;close=this.closed;panelId=B(S2).getId("mat-menu-panel-");constructor(){let e=B(Fge);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new W5(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Dr(this._directDescendantItems),jn(e=>j1(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Dr(this._directDescendantItems),jn(i=>j1(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let i=e.keyCode,r=this._keyManager;switch(i){case 27:ms(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=zi(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList=De(Q({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let i=e===vv;(i||e===xD)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating.set(!1))}_onAnimationStart(e){(e===xD||e===vv)&&this._isAnimating.set(!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(vv),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?xD:vv)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Dr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(i&1&&(Lc(o,Rge,5),Lc(o,CD,5),Lc(o,CD,4)),i&2){let a;an(a=sn())&&(r.lazyContent=a.first),an(a=sn())&&(r._allItems=a),an(a=sn())&&(r.items=a)}},viewQuery:function(i,r){if(i&1&&Rn(Lr,5),i&2){let o;an(o=sn())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){i&2&&Mn("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",oi],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:oi(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[ei([{provide:SD,useExisting:n}])],ngContentSelectors:Pge,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(y1(),Dh(0,Oge,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return n})(),XY=new ue("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>w2(n)}});function Vge(n){let t=B(Ve);return()=>w2(t)}var Uge={provide:XY,deps:[],useFactory:Vge};var xu=new WeakMap,Hge=(()=>{class n{_canHaveBackdrop;_element=B(st);_viewContainerRef=B(Ui);_menuItemInstance=B(CD,{optional:!0,self:!0});_dir=B(ka,{optional:!0});_focusMonitor=B(Kl);_ngZone=B(Pe);_injector=B(Ve);_scrollStrategy=B(XY);_changeDetectorRef=B(xi);_animationsDisabled=S1();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Et.EMPTY;_menuCloseSubscription=Et.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(e){e!==this._menuInternal&&(this._menuInternal=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal;constructor(e){this._canHaveBackdrop=e;let i=B(SD,{optional:!0});this._parentMaterialMenu=i instanceof Cu?i:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&xu.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(e){let i=this._menu;if(this._menuOpen||!i)return;this._pendingRemoval?.unsubscribe();let r=xu.get(i);xu.set(i,this),r&&r!==this&&r._closeMenu();let o=this._createOverlay(i),a=o.getConfig(),s=a.positionStrategy;this._setPosition(i,s),this._canHaveBackdrop?a.hasBackdrop=i.hasBackdrop==null?!this._triggersSubmenu():i.hasBackdrop:a.hasBackdrop=!1,o.hasAttached()||(o.attach(this._getPortal(i)),i.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),i.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,e&&i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),i instanceof Cu&&(i._setIsOpen(!0),i._directDescendantItems.changes.pipe(nn(i.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}_destroyMenu(e){let i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof Cu&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Nt(1)).subscribe(()=>{i.detach(),xu.has(r)||r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&xu.delete(r),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=i0(this._injector,i),this._overlayRef.keydownEvents().subscribe(r=>{this._menu instanceof Cu&&this._menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(e){return new n0({positionStrategy:au(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",a=r.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(o,a)})})}_setPosition(e,i){let[r,o]=e.xPosition==="before"?["end","start"]:["start","end"],[a,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[a,s],[u,d]=[r,o],f=0;if(this._triggersSubmenu()){if(d=r=e.xPosition==="before"?"start":"end",o=u=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let m=this._parentMaterialMenu.items.first;this._parentInnerPadding=m?m._getHostElement().offsetTop:0}f=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=a==="top"?"bottom":"top",c=s==="top"?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:u,overlayY:a,offsetY:f},{originX:o,originY:l,overlayX:d,overlayY:a,offsetY:f},{originX:r,originY:c,overlayX:u,overlayY:s,offsetY:-f},{originX:o,originY:c,overlayX:d,overlayY:s,offsetY:-f}])}_menuClosingActions(){let e=this._getOutsideClickStream(this._overlayRef),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Me(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(tt(a=>this._menuOpen&&a!==this._menuItemInstance)):Me();return j1(e,r,o,i)}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Xl(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return xu.get(e)===this}static \u0275fac=function(i){Mf()};static \u0275dir=Fe({type:n})}return n})(),QY=(()=>{class n extends Hge{_cleanupTouchstart;_hoverSubscription=Et.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){this._menu=e}menuData;restoreFocus=!0;menuOpened=new be;onMenuOpen=this.menuOpened;menuClosed=new be;onMenuClose=this.menuClosed;constructor(){super(!0);let e=B(ci);this._cleanupTouchstart=e.listen(this._element.nativeElement,"touchstart",i=>{x2(i)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(e){return e.backdropClick()}_handleMousedown(e){b2(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let i=e.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&this._parentMaterialMenu?._panelAnimationState!=="void"&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&z("click",function(a){return r._handleClick(a)})("mousedown",function(a){return r._handleMousedown(a)})("keydown",function(a){return r._handleKeydown(a)}),i&2&&Mn("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu==null?null:r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[on]})}return n})();var KY=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({providers:[Uge],imports:[gv,Na,j5,Kc,Na]})}return n})(),JY={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},F0t=JY.fadeInItems,B0t=JY.transformMenu;var eZ=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({imports:[Na,gv,Na]})}return n})();var tZ=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({imports:[Na,Na]})}return n})();function Gge(n,t){n&1&&O(0,"div",9)}function Wge(n,t){if(n&1){let e=ee();At(0),p(1,"div",6)(2,"app-action-button",7),z("handleAction",function(r){k(e);let o=M();return N(o.handleClick(r))}),h()(),A(3,Gge,1,0,"div",8),zt()}if(n&2){let e=t.$implicit,i=t.index,r=M();g(2),x("noIconBackground",!0)("label",e.label)("action",e.action)("color",e.color)("row",r.row),g(),x("ngIf",i<r.actions.length-1)}}var jr=(()=>{let t=class t{constructor(){this.handleAction=new be,this.actions=[],this.faRefresh=fs,this.faEllipsisV=Hj}handleClick(i){this.handleAction.emit(i)}ngOnInit(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-action-menu"]],inputs:{actions:"actions",row:"row"},outputs:{handleAction:"handleAction"},decls:6,vars:3,consts:[["menu","matMenu"],[1,"flex","w-full","px-0","text-sm"],[1,"ml-auto","!p-0","!m-0","leading-none","flex","items-center","justify-center","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","rounded-md","transition","duration-150","ease-in-out",3,"matMenuTriggerFor"],[1,"ml-4","mr-2","text-gray-600",3,"icon"],[1,"!min-w-[8rem]","rounded-md","shadow-sm"],[4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition","rounded-md","text-sm"],[3,"handleAction","noIconBackground","label","action","color","row"],["class","border-t border-gray-200 mx-2 my-1",4,"ngIf"],[1,"border-t","border-gray-200","mx-2","my-1"]],template:function(r,o){if(r&1&&(p(0,"div",1)(1,"button",2),O(2,"fa-icon",3),h()(),p(3,"mat-menu",4,0),A(5,Wge,4,6,"ng-container",5),h()),r&2){let a=pn(4);g(),x("matMenuTriggerFor",a),g(),x("icon",o.faEllipsisV),g(3),x("ngForOf",o.actions)}},dependencies:[KY,Cu,QY,eZ,tZ,Ae,a0,ye,at],encapsulation:2});let n=t;return n})();var Oo=(()=>{let t=class t{constructor(){this.fallbackAvatarUrl=""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-user-info-header"]],inputs:{userId:"userId",userName:"userName",fullName:"fullName",avatarUrl:"avatarUrl",fallbackAvatarUrl:"fallbackAvatarUrl"},decls:11,vars:5,consts:[[1,"flex","items-center","justify-between","w-full","py-2","px-1"],[1,"flex","items-center","gap-3"],[1,"relative"],["width","30","height","30",1,"object-cover","ring-2","ring-gray-200","shadow-sm",3,"ngSrc","alt"],[1,"flex","flex-row","items-center","gap-2"],[1,"text-gray-700","font-semibold","text-sm","leading-tight","block","md:hidden"],[1,"text-gray-700","font-semibold","text-sm","leading-tight","hidden","md:block"],[1,"text-gray-500","text-sm"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),O(3,"img",3),h(),p(4,"div",4)(5,"span",5),y(6),h(),p(7,"span",6),y(8),h(),p(9,"span",7),y(10),h()()()()),r&2&&(g(3),x("ngSrc",o.avatarUrl||o.fallbackAvatarUrl)("alt","User avatar for "+o.userName),g(3),j(o.userName),g(2),j(o.fullName||o.userName),g(2),j(o.userId))},dependencies:[We,kr],encapsulation:2});let n=t;return n})();function qge(n,t){n&1&&(p(0,"div",1)(1,"p",2),y(2,"No orders to display"),h()())}function $ge(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instrument"))}}function Yge(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("product"))}}function Zge(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("quantity"))}}function Xge(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("price"))}}function Qge(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("change"))}}function Kge(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function Jge(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("timestamp"))}}function eve(n,t){if(n&1){let e=ee();p(0,"input",41),z("change",function(){k(e);let r=M().$implicit,o=M(3);return N(o.toggleOrderSelection(r))}),h()}if(n&2){let e=M().$implicit,i=M(3);x("checked",i.isOrderSelected(e))}}function tve(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),h()),n&2){let e=M().$implicit;g(),H(" ",X(2,1,e.order.averagePrice,"1.2-2")," ")}}function nve(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),h()),n&2){let e=M().$implicit;g(),H(" ",X(2,1,e.order.price,"1.2-2")," ")}}function ive(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),$(3,"number"),h()),n&2){let e=M().$implicit;g(),Bn(" ",X(2,2,e.order.price,"1.2-2"),"/",X(3,5,e.order.triggerPrice,"1.2-2")," ")}}function rve(n,t){if(n&1&&O(0,"fa-icon",42),n&2){let e=M(4);x("icon",e.faClock)}}function ove(n,t){if(n&1){let e=ee();At(0),p(1,"tr",21)(2,"td",22),A(3,eve,1,1,"input",23),h(),p(4,"td",24)(5,"div",25),O(6,"app-small-chip",26),p(7,"span",27),y(8),h(),O(9,"app-market-depth-invoker",28)(10,"app-small-chip",26),p(11,"div",29),O(12,"fa-icon",30),h()()(),p(13,"td",31),O(14,"app-small-chip",32)(15,"app-small-chip",26),h(),p(16,"td",33)(17,"span",34),y(18),h()(),p(19,"td",33),A(20,tve,3,4,"span",20)(21,nve,3,4,"span",20)(22,ive,4,8,"span",20),h(),p(23,"td",33)(24,"span",35),y(25),$(26,"number"),p(27,"span",36),y(28),$(29,"percent"),h()()(),p(30,"td",31)(31,"div",25),A(32,rve,1,1,"fa-icon",37),O(33,"app-small-chip",38),h()(),p(34,"td",33)(35,"span",39),y(36),$(37,"istDate"),h()(),p(38,"td",33)(39,"app-action-menu",40),z("handleAction",function(r){k(e);let o=M(3);return N(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(3),x("ngIf",i.isOrderPending(e.order.status)),g(3),x("text",e.order.transactionType)("color",i.getTransactionTypeChipColor(e.order.transactionType)),g(),x("title",e.displayName),g(),H(" ",e.displayName," "),g(),x("title",e.displayName)("instrumentToken",e.instrumentToken),g(),x("text",e.order.exchange)("color","gray"),g(2),x("icon",i.faTag)("matTooltip",e.order.tag?e.order.tag:"kite-web-order"),g(2),x("text",e.order.product)("color",e.order.product==="MIS"?"orange":"purple"),g(),x("text",e.order.orderType)("color","gray"),g(3),Bn(" ",e.order.filledQuantity,"/",e.order.quantity," "),g(2),x("ngIf",e.order.orderType==="MARKET"),g(),x("ngIf",e.order.orderType!=="MARKET"&&e.order.orderType!=="SL"),g(),x("ngIf",e.order.orderType==="SL"),g(2),x("ngClass",i.color(e.change)),g(),H(" ",X(26,34,e.lastPrice,"1.2-2")," "),g(2),Ce("bg-green-50",e.change>0)("bg-red-50",e.change<0),g(),H(" ",X(29,37,e.change/100,"1.2-2")," "),g(4),x("ngIf",e.order.status==="AMO REQ RECEIVED"||e.order.status==="MODIFY AMO REQ RECEIVED"),g(),x("matTooltip",e.order.statusMessage?e.order.statusMessage:"")("text",e.order.status)("color",i.getStatusChipColor(e.order.status)),g(3),H(" ",Do(37,40,i.getOrderTimeStamp(e.order.orderTimestamp))," "),g(3),x("row",e)("actions",i.getActionButtons(e))}}function ave(n,t){n&1&&(p(0,"tr")(1,"td",43),O(2,"div",44),h()())}function sve(n,t){if(n&1&&(At(0),p(1,"tr",17)(2,"td",18),O(3,"app-user-info-header",19),h()(),A(4,ove,40,42,"ng-container",15)(5,ave,3,0,"tr",20),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(),x("ngForOf",e.orders)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function lve(n,t){if(n&1){let e=ee();p(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"input",7),z("change",function(){k(e);let r=M();return N(r.toggleSelectAll())}),h()(),p(6,"th",8)(7,"button",9),z("click",function(){k(e);let r=M();return N(r.setSort("instrument"))}),y(8," INSTRUMENT "),A(9,$ge,2,1,"span",10),h()(),p(10,"th",11)(11,"button",9),z("click",function(){k(e);let r=M();return N(r.setSort("product"))}),y(12," PRODUCT "),A(13,Yge,2,1,"span",10),h()(),p(14,"th",11)(15,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("quantity"))}),y(16," QTY "),A(17,Zge,2,1,"span",10),h()(),p(18,"th",11)(19,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("price"))}),y(20," PRICE "),A(21,Xge,2,1,"span",10),h()(),p(22,"th",11)(23,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("change"))}),y(24," LTP "),A(25,Qge,2,1,"span",10),h()(),p(26,"th",8)(27,"button",9),z("click",function(){k(e);let r=M();return N(r.setSort("status"))}),y(28," STATUS "),A(29,Kge,2,1,"span",10),h()(),p(30,"th",11)(31,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("timestamp"))}),y(32," TIME "),A(33,Jge,2,1,"span",10),h()(),p(34,"th",13),y(35,"ACTIONS"),h()()(),p(36,"tbody",14),A(37,sve,6,8,"ng-container",15),h()()()}if(n&2){let e=M();g(5),x("checked",e.isAllSelected)("indeterminate",e.isSomeSelected),g(4),x("ngIf",e.getSortIndicator("instrument")),g(4),x("ngIf",e.getSortIndicator("product")),g(4),x("ngIf",e.getSortIndicator("quantity")),g(4),x("ngIf",e.getSortIndicator("price")),g(4),x("ngIf",e.getSortIndicator("change")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("timestamp")),g(4),x("ngForOf",e.sortedGroupedOrders)("ngForTrackBy",e.trackByUser)}}var wD=(()=>{let t=class t{constructor(){this.groupedOrders=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new be,this.selectedOrdersChange=new be,this.sortColumn="timestamp",this.sortDirection="desc",this.selectedOrders=new Set,this.sortAccessors={instrument:i=>(i.displayName??"").toString().toLowerCase(),quantity:i=>i.order?.quantity??0,price:i=>i.order?.orderType==="MARKET"?i.order?.averagePrice??0:i.order?.orderType==="SL"?i.order?.triggerPrice??0:i.order?.price??0,change:i=>i.change??0,product:i=>i.order?.product??0,status:i=>(i.order?.status??"").toString().toLowerCase(),timestamp:i=>i.order?.orderTimestamp??0},this.pendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.faClock=J6,this.faTag=gG}get sortedGroupedOrders(){return!this.sortColumn||!this.sortDirection?this.groupedOrders:this.groupedOrders.map(i=>De(Q({},i),{orders:[...i.orders??[]].sort((r,o)=>this.compareOrders(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["timestamp","change"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareOrders(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}getActionButtons(i){let r=this.actions;return this.isOrderPending(i.order.status)||(r=r.filter(o=>o.action!=="modify"&&o.action!=="cancel")),r}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}getStatusChipColor(i){return this.pendingStatus.indexOf(i)>-1?"blue":i==="COMPLETE"?"green":i==="FAILED"||i==="REJECTED"?"red":"gray"}getOrderTimeStamp(i){return Number(i)}getTransactionTypeChipColor(i){switch(i){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}trackBySequenceNumber(i,r){return r.sequenceNumber}trackByUser(i,r){return r.userId}isOrderPending(i){return this.pendingStatus.indexOf(i)>-1}handleAction(i){this.handleClickAction.emit(i)}get allPendingOrders(){return this.groupedOrders.flatMap(i=>i.orders.filter(r=>this.isOrderPending(r.order.status)))}get isAllSelected(){let i=this.allPendingOrders;return i.length>0&&i.every(r=>this.selectedOrders.has(r))}get isSomeSelected(){return this.allPendingOrders.some(r=>this.selectedOrders.has(r))&&!this.isAllSelected}toggleSelectAll(){this.isAllSelected?this.allPendingOrders.forEach(i=>this.selectedOrders.delete(i)):this.allPendingOrders.forEach(i=>this.selectedOrders.add(i)),this.emitSelectedOrders()}toggleOrderSelection(i){this.selectedOrders.has(i)?this.selectedOrders.delete(i):this.selectedOrders.add(i),this.emitSelectedOrders()}isOrderSelected(i){return this.selectedOrders.has(i)}emitSelectedOrders(){this.selectedOrdersChange.emit(Array.from(this.selectedOrders))}clearSelection(){this.selectedOrders.clear(),this.emitSelectedOrders()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-orders-table"]],inputs:{groupedOrders:"groupedOrders",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction",selectedOrdersChange:"selectedOrdersChange"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center","w-12"],["type","checkbox","title","Select/Unselect all pending orders",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked","indeterminate"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","9",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],["type","checkbox","class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer","title","Select order for bulk cancel",3,"checked","change",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"truncate","max-w-xs",3,"title"],[3,"title","instrumentToken"],[1,"flex","items-center","gap-1.5","bg-blue-50","rounded-md","px-2","py-0.5","text-blue-700"],[1,"text-blue-500","text-xs",3,"icon","matTooltip"],[1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],[1,"mr-1",3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[1,"text-gray-700"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],["class","text-orange-400",3,"icon",4,"ngIf"],[3,"matTooltip","text","color"],[1,"text-gray-700","text-sm"],[3,"handleAction","row","actions"],["type","checkbox","title","Select order for bulk cancel",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked"],[1,"text-orange-400",3,"icon"],["colspan","9",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,qge,3,0,"div",1)(2,lve,38,11,"div"),h()),r&2&&(g(),Wt(!o.groupedOrders||o.groupedOrders.length===0?1:2))},dependencies:[Oe,Ae,gn,ye,at,Fa,jr,Bt,Oo,hn,ln,$n,ti],encapsulation:2});let n=t;return n})();var Cs=(()=>{let t=class t{constructor(i){this.api=i}getOrders(){return this.api.get("/v1/orders")}placeOrder(i,r){return this.api.post(`/v1/orders?variety=${r}`,i)}modifyOrder(i,r,o,a){return this.api.put(`/v1/orders/${i}/${r}?variety=${a}`,o)}cancelOrder(i,r,o){return this.api.delete(`/v1/orders/${i}/${r}?variety=${o}`)}fetchCharges(){return this.api.get("/v1/orders/charges")}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ss=(()=>{let t=class t{constructor(i){this.api=i}getFunds(){return this.api.get("/v1/funds")}calculateMargin(i){return this.api.post("/v1/funds/margins/orders",i)}calculateCombinedMargin(i){return this.api.post("/v1/funds/margins/basket",i)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Un=(()=>{let t=class t{constructor(){this.key="userViewState"}getState(){let i=localStorage.getItem(this.key);if(i)return JSON.parse(i);let r=this.getDefaultState();return localStorage.setItem(this.key,JSON.stringify(r)),r}getDefaultState(){return{holdings:{selectedUsersIds:[],selectedHoldingType:"All",searchQuery:"",filterSelection:[]},positions:{selectedUsersIds:[],searchQuery:"",filterSelection:[]},orders:{selectedUsersIds:[],selectedOrderType:"Open",searchQuery:"",filterSelection:[]},funds:{selectedUsersIds:[]},watchlist:{activeWatchlist:0,isCollapsed:!1},mfSips:{selectedSectionType:"SIPs",selectedUsersIds:[],searchQuery:"",mfSearchQuery:"",filterSelection:[],mfOrderFilterSelection:[]},ordersHistory:{},charges:{selectedUsersIds:[]},userManagementDashboard:{},straddles:{selectedSectionType:"Straddles",selectedUsersIds:[],searchQuery:""},historicalData:{},ipos:{selectedIpoType:"IPO",searchQuery:"",searchIpoApplicationsQuery:"",selectedUsersIds:[],filterSelection:[],applicationsFilterSelection:[]},userPreferences:{},home:{selectedUsersIds:[]},profile:{selectedTab:"Profile"},administration:{selectedTab:"Scheduled Tasks"}}}setState(i){let r=this.getState(),o=Q(Q({},r),i);localStorage.setItem(this.key,JSON.stringify(o))}clearState(){localStorage.removeItem(this.key)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var cve=n=>({"justify-end":n});function uve(n,t){if(n&1&&(p(0,"div",32),O(1,"div",33),h()),n&2){let e=M();x("ngClass",bi(2,cve,e.positionData.isBuyMode)),g(),x("ngClass",e.positionData.isBuyMode?"bg-blue-500":"bg-orange-500")}}function dve(n,t){n&1&&(p(0,"span",22),y(1,"*"),h())}function fve(n,t){n&1&&(p(0,"span",22),y(1,"*"),h())}function pve(n,t){if(n&1&&(p(0,"option",47),y(1),h()),n&2){let e=t.$implicit;x("value",e.userId),g(),Bn(" ",e.name," - ",e.userId," ")}}function mve(n,t){if(n&1&&(p(0,"span",48),y(1),$(2,"currency"),h()),n&2){let e=M().$implicit;g(),H("+",lt(2,1,e.charges,"INR","symbol","1.0-0"))}}function hve(n,t){if(n&1){let e=ee();p(0,"button",49),z("click",function(){k(e);let r=M().index,o=M();return N(o.removeAccount(r))}),O(1,"fa-icon",50),h()}if(n&2){let e=M(2);x("matTooltip","Remove"),g(),x("icon",e.faTrash)}}function gve(n,t){if(n&1){let e=ee();p(0,"div",34)(1,"div",35)(2,"label",36),y(3,"Trading Account "),p(4,"span",22),y(5,"*"),h()(),p(6,"select",37),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.tradingAccountId,r)||(o.tradingAccountId=r),N(r)}),z("ngModelChange",function(){let r=k(e).$implicit,o=M();return o.getHistoricalQuantity(r,o.instrument.segment),N(o.computeRequiredMargin(r))}),p(7,"option",38),y(8,"Select Account"),h(),A(9,pve,2,3,"option",39),h()(),p(10,"div",40)(11,"div",41)(12,"label",36),y(13,"Quantity "),p(14,"span",22),y(15,"*"),h()(),p(16,"input",42),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.quantity,r)||(o.quantity=r),N(r)}),z("ngModelChange",function(){let r=k(e).$implicit,o=M();return N(o.computeRequiredMargin(r))}),h()(),p(17,"div",43)(18,"label",11),y(19," Req. "),p(20,"span",44),y(21),$(22,"currency"),h(),A(23,mve,3,6,"span",45),h(),p(24,"label",11),y(25," Avail. "),p(26,"span",44),y(27),$(28,"currency"),h()()()(),A(29,hve,2,2,"button",46),h()}if(n&2){let e=t.$implicit,i=M();g(6),x("disabled",i.sourceData.orderId!=null&&!i.sourceData.isCopy||i.sourceData.isExitPosition),_t("ngModel",e.tradingAccountId),g(3),x("ngForOf",i.users),g(7),_t("ngModel",e.quantity),g(5),j(lt(22,8,e.requiredMargin,"INR","symbol","1.0-0")),g(2),x("ngIf",e.charges>0),g(4),j(lt(28,13,e.availableMargin,"INR","symbol","1.0-0")),g(2),x("ngIf",i.orders.length>1)}}function vve(n,t){if(n&1){let e=ee();p(0,"button",51),z("click",function(){k(e);let r=M();return N(r.addAccount())}),O(1,"fa-icon",52),y(2," Add Position "),h()}if(n&2){let e=M();g(),x("icon",e.faPlus)}}var d0=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u){this.dialogRef=i,this.userService=r,this.toastr=o,this.ws=a,this.ordersService=s,this.fundsService=l,this.userViewStateService=c,this.data=u,this.instrumentTokens=[],this.dialogInstanceId=`dialog_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,this.orders=[{tradingAccountId:"",quantity:0,requiredMargin:0,charges:0,availableMargin:0}],this.positionData={isBuyMode:!1,marketOrder:!1,slOrder:!1,price:0,triggerPrice:0,productType:"NON-MIS"},this.funds=[],this.users=[],this.instrument={},this.sourceData={},this.variety=null,this.requestType="place",this.lotSize=1,this.lastEnteredPrice=0,this.lastEnteredTriggeredPrice=0,this.faChartPie=Cg,this.faPlus=_2,this.faTrash=$l,this.sourceData=u.sourceData,this.instrument=u.instrument,this.initializePositionData()}ngOnInit(){this.fetchUsers(),this.fetchFunds(),this.subscribeToWebSocket()}toggleMode(){this.positionData.isBuyMode=!this.positionData.isBuyMode,this.computeAllRequiredMargins()}addAccount(){if(this.orders.length>=5){this.toastr.error("You can only add up to 5 positions in one request","Error");return}this.orders.push({tradingAccountId:"",quantity:0})}removeAccount(i){this.orders.splice(i,1)}subscribeToWebSocket(){this.instrumentTokens.push(this.instrument.instrumentToken),this.instrumentTokens.length>0?(this.ws.connectionState().pipe(tt(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updatePositionFormOnUpdate(i)})):console.log("No instrument tokens available for web socket subscription.")}updatePositionFormOnUpdate(i){i.forEach(r=>{(this.instrument.instrumentToken===r.instrumentToken?[this.instrument]:[]).forEach(a=>{a&&a.lastPrice!==r.lastTradedPrice&&(a.change=r.change,a.lastPrice=r.lastTradedPrice,this.lotSize=r.lotSize)})})}getDefaultVariety(){let i=new Date,r=new Date;r.setHours(9,0,0,0);let o=new Date;o.setHours(15,30,0,0);let a=i.getDay()===0||i.getDay()===6;return i<r||i>o||a?"amo":"regular"}onSubmit(){let i=[],r=this.getDefaultVariety();this.orders.forEach(o=>{let a={quantity:o.quantity,orderType:this.orderType,tradingsymbol:this.instrument.tradingSymbol,product:this.productType,exchange:this.instrument.exchange,transactionType:this.buySell,validity:"DAY",price:this.positionData.price,triggerPrice:this.positionData.triggerPrice,tag:"famvest-single-order"};this.saveUserViewState(o,this.instrument.segment),i.push({tradingAccountId:o.tradingAccountId,orderParams:a})}),this.validateOrders(i)&&(this.requestType==="modify"?this.ordersService.modifyOrder(i[0].tradingAccountId,this.sourceData.orderId,i[0],r).pipe(Ut(o=>Me({error:!0,id:this.orders[0].tradingAccountId,message:o?.error?.message||"Unknown error"}))).subscribe({next:o=>{"error"in o&&o.error?(console.error("\u274C Order modification failed:",o),this.toastr.error(`Order modification for ${o.id} failed: ${o.message}`,"Error")):this.toastr.success(`Order modification successfully. Order ID:${o.data.orderId}`,"Success"),this.dialogRef.close(o)},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}}):tn(i).pipe(ro(o=>this.ordersService.placeOrder(o,r).pipe(Ut(a=>Me({error:!0,id:o.tradingAccountId,message:a?.error?.message||"Unknown error"}))))).subscribe({next:o=>{"error"in o&&o.error?(console.error("\u274C Order placement failed:",o),this.toastr.error(`Order placement for ${o.id} failed: ${o.message}`,"Error")):this.toastr.success(`Order placed successfully. Order ID:${o.data.orderId}`,"Success"),this.dialogRef.close(o)},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}}))}validateOrders(i){if(i.length===0)return this.toastr.error("Please add at least one trading account position","Error"),!1;for(let r of i)if(!r.tradingAccountId||r.orderParams.quantity<=0)return this.toastr.error("All positions must have a valid trading account and quantity","Error"),!1;return!0}onCancel(){this.dialogRef.close()}initializePositionData(){switch(this.sourceData.orderType){case"SL":this.positionData.marketOrder=!1,this.positionData.slOrder=!0;break;case"SL-M":this.positionData.marketOrder=!0,this.positionData.slOrder=!0;break;case"LIMIT":this.positionData.marketOrder=!1,this.positionData.slOrder=!1;break;case"MARKET":this.positionData.marketOrder=!0,this.positionData.slOrder=!1;break}this.sourceData.product&&(this.positionData.productType=this.sourceData.product==="MIS"?"MIS":"NON-MIS"),this.sourceData.variety&&(this.variety=this.sourceData.variety),this.positionData.isBuyMode=this.sourceData.isBuyMode,this.requestType=this.sourceData.orderId?"modify":"place",this.sourceData.isCopy&&(this.requestType="place"),this.sourceData.originalPrice?this.positionData.price=this.sourceData.originalPrice:this.positionData.price=this.instrument.lastPrice,this.lastEnteredPrice=this.positionData.price,this.sourceData.originalTriggerPrice>0?(this.positionData.triggerPrice=this.sourceData.originalTriggerPrice,this.lastEnteredTriggeredPrice=this.positionData.triggerPrice):this.lastEnteredTriggeredPrice=this.instrument.lastPrice,(this.sourceData.orderId||this.sourceData.isExitPosition||this.sourceData.isCopy)&&(this.orders[0].tradingAccountId=this.instrument.tradingAccountId,this.orders[0].quantity=this.instrument.quantity,this.computeRequiredMargin(this.orders[0]))}get orderType(){return this.positionData.slOrder?this.positionData.marketOrder?"SL-M":"SL":this.positionData.marketOrder?"MARKET":"LIMIT"}get productType(){return this.positionData.productType==="MIS"?"MIS":this.instrument.exchange==="NFO"||this.instrument.exchange==="BFO"?"NRML":"CNC"}get buySell(){return this.positionData.isBuyMode?"BUY":"SELL"}get priceInputIcon(){return this.positionData.marketOrder?"\u270E":"\xD7"}get triggerPriceInputIcon(){return this.positionData.slOrder?"\xD7":"\u270E"}onPriceInputIconClick(){this.positionData.marketOrder?(this.positionData.price=this.lastEnteredPrice,this.positionData.marketOrder=!1):(this.lastEnteredPrice=this.positionData.price,this.positionData.price=0,this.positionData.marketOrder=!0)}onTriggerPriceInputIconClick(){this.positionData.slOrder?(this.lastEnteredTriggeredPrice=this.positionData.triggerPrice,this.positionData.triggerPrice=0,this.positionData.slOrder=!1):(this.positionData.triggerPrice=this.lastEnteredTriggeredPrice,this.positionData.slOrder=!0)}getPriceInputTitle(){return this.positionData.slOrder?this.positionData.marketOrder?"Convert to SL order":"Convert to SL-M order":this.positionData.marketOrder?"Convert to LIMIT order":"Convert to MARKET order"}getTriggerPriceInputTitle(){return this.positionData.slOrder?this.positionData.marketOrder?"Convert to MARKET order":"Convert to LIMIT order":this.positionData.marketOrder?"Convert to SL-M order":"Convert to SL order"}fetchUsers(){console.log("fetching user profiles"),this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data.filter(r=>r.active)},error:i=>{this.toastr.error(i.error.message,"Error"),console.error(i)}})}fetchFunds(){this.fundsService.getFunds().subscribe({next:i=>{this.funds=i.data},error:i=>{i.error.message?this.toastr.error(i.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error")},complete:()=>{(this.sourceData.orderId||this.sourceData.isCopy)&&this.orders.length>0&&(this.orders[0].availableMargin=this.funds.find(i=>i.userId===this.orders[0].tradingAccountId)?.margin?.net||0)}})}getHistoricalQuantity(i,r){let o=this.userViewStateService.getState();if(o.ordersHistory){let a=o.ordersHistory[`${i.tradingAccountId}_${r}`];i.quantity===0&&a&&a.quantity&&(i.quantity=a.quantity)}}saveUserViewState(i,r){let o=this.userViewStateService.getState();o.ordersHistory||(o.ordersHistory={});let a=`${i.tradingAccountId}_${r}`;o.ordersHistory[a]={quantity:i.quantity},this.userViewStateService.setState({ordersHistory:o.ordersHistory})}computeAllRequiredMargins(){this.orders.forEach(i=>{this.computeRequiredMargin(i)})}computeRequiredMargin(i){if(i.availableMargin=this.funds.find(r=>r.userId===i.tradingAccountId)?.margin?.net||0,i.quantity>0&&i.tradingAccountId){let r={tradingSymbol:this.instrument.tradingSymbol,exchange:this.instrument.exchange,transactionType:this.buySell,variety:this.variety,product:this.productType,orderType:this.orderType,quantity:i.quantity,price:this.positionData.price||0,triggerPrice:this.positionData.triggerPrice||0},o={tradingAccountId:i.tradingAccountId,marginCalculationParams:r};this.fundsService.calculateMargin(o).subscribe({next:a=>{i.requiredMargin=a.data[0].total,i.charges=a.data[0].charges.total},error:a=>{this.toastr.error(a.error.message,"Error"),console.error(a)}})}else i.requiredMargin=0,i.charges=0}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)(V(Ni),V(tr),V(nt),V(sr),V(Cs),V(Ss),V(Un),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-add-manage-order-dialog"]],decls:62,vars:49,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700",3,"ngClass"],["cdkDragHandle","",1,"flex","items-start","sm:items-center","justify-between","p-2","flex-col","sm:flex-row","gap-2","sm:gap-0","cursor-move",3,"ngClass"],[1,"font-medium"],[1,"text-sm","text-gray-100","ml-1"],[3,"title","instrumentToken","iconColor"],[1,"text-sm","rounded-md","px-1","py-[1px]","text-white"],[1,"focus:outline-none","self-end","sm:self-auto",3,"click"],["class","w-16 h-6 bg-white rounded-md flex items-center px-1",3,"ngClass",4,"ngIf"],[1,"bg-white","p-4","space-y-3","max-h-[70vh]","overflow-y-auto"],[1,"flex","flex-col","sm:flex-row","items-stretch","sm:items-center","gap-4"],[1,"flex-1"],[1,"text-sm","text-gray-600"],["class","text-red-500",4,"ngIf"],[1,"relative"],["type","text","placeholder","Enter price",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","button",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-2xl",3,"click","matTooltip","ngClass"],["type","text","placeholder","Enter trigger price",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"flex","items-center","gap-6"],[1,"inline-flex","items-center","gap-1"],["type","radio","value","MIS",1,"form-radio","text-blue-500",3,"ngModelChange","disabled","name","ngModel"],[1,"text-sm","text-gray-700"],["type","radio","value","NON-MIS",1,"form-radio","text-purple-500",3,"ngModelChange","disabled","name","ngModel"],[1,"text-red-500"],[1,"space-y-3","mt-2"],["class","flex flex-col sm:flex-row flex-wrap items-start sm:items-end gap-4 p-2 border rounded-md",4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","justify-between","mt-4","gap-2"],["class","text-sm text-blue-600 hover:underline focus:outline-none",3,"click",4,"ngIf"],[1,"flex","flex-wrap","gap-2","text-sm"],[3,"text","color"],["cdkDragHandle","",1,"bg-white","p-4","border-t","flex","flex-col","sm:flex-row","justify-between","gap-2","cursor-move"],[1,"flex-1","py-2","px-4","rounded-md",3,"click","ngClass"],["type","button",1,"flex-1","py-2","px-4","border","rounded-md","hover:bg-gray-100",3,"click"],[1,"w-16","h-6","bg-white","rounded-md","flex","items-center","px-1",3,"ngClass"],[1,"w-3","h-3","rounded-md",3,"ngClass"],[1,"flex","flex-col","sm:flex-row","flex-wrap","items-start","sm:items-end","gap-4","p-2","border","rounded-md"],[1,"flex","flex-col","flex-grow","min-w-[150px]","w-full","sm:w-auto"],[1,"text-sm","text-gray-600","mb-1"],[1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","gap-4","items-start","sm:items-end","w-full","sm:w-auto"],[1,"flex","flex-col","w-full","sm:w-24"],["type","text","placeholder","Quantity","maxlength","5",1,"form-control",3,"ngModelChange","ngModel"],[1,"flex","flex-col","min-w-[130px]"],[1,"text-blue-600"],["class","ml-2 text-blue-600",4,"ngIf"],["class","p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",3,"matTooltip","click",4,"ngIf"],[3,"value"],[1,"ml-2","text-blue-600"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors",3,"click","matTooltip"],[1,"text-sm",3,"icon"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none",3,"click"],[3,"icon"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),y(4),p(5,"span",3),y(6),h(),O(7,"app-market-depth-invoker",4),h(),p(8,"span",2),y(9),$(10,"number"),p(11,"span",5),y(12),$(13,"percent"),h()()(),p(14,"button",6),z("click",function(){return o.toggleMode()}),A(15,uve,2,4,"div",7),h()(),p(16,"div",8)(17,"div",9)(18,"div",10)(19,"label",11),y(20),A(21,dve,2,0,"span",12),h(),p(22,"div",13)(23,"input",14),bt("ngModelChange",function(s){return Mt(o.positionData.price,s)||(o.positionData.price=s),s}),z("ngModelChange",function(){return o.computeAllRequiredMargins()}),h(),p(24,"button",15),z("click",function(){return o.onPriceInputIconClick()}),y(25),h()()(),p(26,"div",10)(27,"label",11),y(28," Trigger Price "),A(29,fve,2,0,"span",12),h(),p(30,"div",13)(31,"input",16),bt("ngModelChange",function(s){return Mt(o.positionData.triggerPrice,s)||(o.positionData.triggerPrice=s),s}),h(),p(32,"button",15),z("click",function(){return o.onTriggerPriceInputIconClick()}),y(33),h()()()(),p(34,"div",17)(35,"label",18)(36,"input",19),bt("ngModelChange",function(s){return Mt(o.positionData.productType,s)||(o.positionData.productType=s),s}),h(),p(37,"span",20),y(38,"Intraday"),h()(),p(39,"label",18)(40,"input",21),bt("ngModelChange",function(s){return Mt(o.positionData.productType,s)||(o.positionData.productType=s),s}),h(),p(41,"span",20),y(42,"Overnight"),h()()(),p(43,"div")(44,"label",11),y(45,"Positions "),p(46,"span",22),y(47,"*"),h()(),p(48,"div",23),A(49,gve,30,18,"div",24),h(),p(50,"div",25),A(51,vve,3,1,"button",26),p(52,"div",27),O(53,"app-small-chip",28)(54,"app-small-chip",28)(55,"app-small-chip",28)(56,"app-small-chip",28),h()()()(),p(57,"div",29)(58,"button",30),z("click",function(){return o.onSubmit()}),y(59),h(),p(60,"button",31),z("click",function(){return o.onCancel()}),y(61,"Cancel"),h()()()),r&2&&(x("ngClass",o.positionData.isBuyMode?"bg-blue-500":"bg-orange-500"),g(),x("ngClass",o.positionData.isBuyMode?"bg-blue-500 text-white":"bg-orange-500 text-white"),g(3),H("",o.instrument.displayName," "),g(2),H("",o.instrument.segment," "),g(),x("title",o.instrument.displayName)("instrumentToken",o.instrument.instrumentToken)("iconColor","white"),g(2),H("",X(10,43,o.instrument.lastPrice,"1.2-2")," "),g(3),H(" ",X(13,46,o.instrument.change/100,"1.2-2")," "),g(3),x("ngIf",o.requestType!=="modify"&&!o.positionData.isExitPosition),g(5),H(" ",o.positionData.marketOrder?"Market Price":"Price"," "),g(),x("ngIf",!o.positionData.marketOrder),g(2),_t("ngModel",o.positionData.price),x("disabled",o.positionData.marketOrder),g(),x("matTooltip",S6(o.getPriceInputTitle()))("ngClass",o.positionData.isBuyMode?"text-blue-500 hover:text-blue-700":"text-orange-500 hover:text-orange-700"),g(),H(" ",o.priceInputIcon," "),g(4),x("ngIf",o.positionData.slOrder),g(2),_t("ngModel",o.positionData.triggerPrice),x("disabled",!o.positionData.slOrder),g(),x("matTooltip",S6(o.getTriggerPriceInputTitle()))("ngClass",o.positionData.isBuyMode?"text-blue-500 hover:text-blue-700":"text-orange-500 hover:text-orange-700"),g(),H(" ",o.triggerPriceInputIcon," "),g(3),x("disabled",o.sourceData.isExitPosition)("name","productType_"+o.dialogInstanceId),_t("ngModel",o.positionData.productType),g(4),x("disabled",o.sourceData.isExitPosition)("name","productType_"+o.dialogInstanceId),_t("ngModel",o.positionData.productType),g(9),x("ngForOf",o.orders),g(2),x("ngIf",(o.sourceData.orderId==null||o.sourceData.isCopy)&&!o.sourceData.isExitPosition),g(2),x("text",o.buySell)("color",o.buySell==="BUY"?"blue":"red"),g(),x("text",o.orderType)("color","gray"),g(),x("text",o.productType)("color",o.productType==="MIS"?"orange":"purple"),g(),x("text",o.instrument.segment)("color","gray"),g(2),x("ngClass",o.positionData.isBuyMode?"bg-blue-500 text-white hover:bg-blue-600":"bg-orange-500 text-white hover:bg-orange-600"),g(),j(o.positionData.isBuyMode?"Buy":"Sell"))},dependencies:[hn,La,Aa,Yt,Ao,M5,Zt,Wc,Gi,We,Oe,Ae,ye,o0,or,rr,gn,Fa,at,Bt,ln,$n,Si],styles:[".margin-bottom-0[_ngcontent-%COMP%]{margin-bottom:2px!important}.margin-top-0[_ngcontent-%COMP%]{margin-top:2px!important}"]});let n=t;return n})();var yve=(n,t)=>({"bg-blue-100 text-blue-700 border-blue-400":n,"bg-white text-gray-600 hover:bg-gray-100":t});function _ve(n,t){if(n&1){let e=ee();p(0,"button",11),z("click",function(){k(e);let r=M();return N(r.togglePopover())}),O(1,"fa-icon",12),h()}if(n&2){let e=M();x("ngClass",e.getFilterSortButtonColor()),g(),x("icon",e.faSliders)("ngClass",e.getFilterSortIconColor())}}function bve(n,t){if(n&1){let e=ee();p(0,"button",13),z("click",function(){k(e);let r=M();return N(r.toggleChartView())}),O(1,"fa-icon",14),p(2,"span",4),y(3,"Analyse"),h()()}if(n&2){let e=M();g(),x("icon",e.faChartPie)}}function xve(n,t){if(n&1){let e=ee();p(0,"button",15),z("click",function(){k(e);let r=M();return N(r.showCharges())}),O(1,"fa-icon",14),p(2,"span",4),y(3,"Charges"),h()()}if(n&2){let e=M();g(),x("icon",e.faFileInvoiceDollar)}}function Cve(n,t){if(n&1){let e=ee();p(0,"button",16),z("click",function(){k(e);let r=M();return N(r.showSummary())}),O(1,"fa-icon",14),p(2,"span",4),y(3,"Summary"),h()()}if(n&2){let e=M();g(),x("icon",e.faClipboardList)}}function Sve(n,t){if(n&1){let e=ee();p(0,"button",17),z("click",function(){k(e);let r=M();return N(r.exitSelected())}),O(1,"fa-icon",14),p(2,"span",4),y(3),h()()}if(n&2){let e=M();x("matTooltip",e.exitButtonLabel),g(),x("icon",e.faRightFromBracket),g(2),j(e.exitButtonLabel)}}function wve(n,t){if(n&1){let e=ee();p(0,"button",17),z("click",function(){k(e);let r=M();return N(r.exitSelected())}),O(1,"fa-icon",14),p(2,"span",4),y(3),h()()}if(n&2){let e=M();x("matTooltip",e.cancelButtonLabel),g(),x("icon",e.faXmark),g(2),j(e.cancelButtonLabel)}}function Mve(n,t){if(n&1){let e=ee();p(0,"button",18),z("click",function(){k(e);let r=M();return N(r.showLogs())}),O(1,"fa-icon",14),p(2,"span",4),y(3,"Log Viewer"),h()()}if(n&2){let e=M();g(),x("icon",e.faFile)}}function Tve(n,t){if(n&1){let e=ee();p(0,"button",28),z("click",function(){let r=k(e).$implicit,o=M().$implicit,a=M(2);return N(a.onFilterChange(o,r))}),y(1),h()}if(n&2){let e=t.$implicit,i=M().$implicit,r=M(2);x("ngClass",r.isFilterOptionSelected(i,e)?"bg-blue-100 text-blue-700 border-blue-400":"bg-white text-gray-600 hover:bg-gray-100"),g(),H(" ",e," ")}}function Eve(n,t){if(n&1&&(p(0,"div",26),A(1,Tve,2,2,"button",27),h()),n&2){let e=t.$implicit;g(),x("ngForOf",e.values)}}function Dve(n,t){n&1&&O(0,"div",29)}function Ive(n,t){if(n&1&&O(0,"fa-icon",14),n&2){let e=M(4);x("icon",e.sortSelection.direction==="asc"?e.faArrowUp:e.faArrowDown)}}function Lve(n,t){if(n&1){let e=ee();p(0,"button",33),z("click",function(){let r=k(e).$implicit,o=M(3);return N(o.toggleSort(r))}),p(1,"span"),y(2),h(),A(3,Ive,1,1,"fa-icon",34),h()}if(n&2){let e=t.$implicit,i=M(3);x("ngClass",Qe(3,yve,i.sortSelection.key===e.key,i.sortSelection.key!==e.key)),g(2),j(e.label),g(),x("ngIf",i.sortSelection.key===e.key)}}function Ave(n,t){if(n&1){let e=ee();p(0,"div",30)(1,"div",20)(2,"label",21),y(3,"Sort By"),h(),p(4,"button",22),z("click",function(){k(e);let r=M(2);return N(r.clearSort())}),y(5," Clear Sort "),h()(),p(6,"div",31),A(7,Lve,4,6,"button",32),h()()}if(n&2){let e=M(2);g(7),x("ngForOf",e.sortOptions)}}function zve(n,t){if(n&1){let e=ee();p(0,"div",19)(1,"div")(2,"div",20)(3,"label",21),y(4,"Filter By"),h(),p(5,"button",22),z("click",function(){k(e);let r=M();return N(r.clearFilters())}),y(6," Clear Filters "),h()(),A(7,Eve,2,1,"div",23)(8,Dve,1,0,"div",24)(9,Ave,8,1,"div",25),h()()}if(n&2){let e=M();g(7),x("ngForOf",e.filterOptions),g(),x("ngIf",e.sortOptions.length>0),g(),x("ngIf",e.sortOptions.length>0)}}var Va=(()=>{let t=class t{constructor(i){this.eRef=i,this.showFilterSort=!1,this.sortOptions=[],this.sortSelection={key:"",direction:"asc"},this.filterOptions=[],this.filterSelection=[],this.showChartButton=!1,this.showChargesButton=!1,this.showSummaryButton=!1,this.showLogsButton=!1,this.showExitButton=!1,this.showCancelButton=!1,this.exitButtonLabel="Exit Selected",this.cancelButtonLabel="Cancel Selected",this.isLoadingData=!1,this.filtersChanged=new be,this.sortChanged=new be,this.handleRefresh=new be,this.toggleChart=new be,this.charges=new be,this.summary=new be,this.exit=new be,this.logs=new be,this.isRefreshing=!1,this.faSliders=aG,this.faRefresh=fs,this.faSpinner=ko,this.faArrowUp=_g,this.faArrowDown=Sg,this.faChartPie=Cg,this.faFileInvoiceDollar=dG,this.faClipboardList=$j,this.faFile=tG,this.faRightFromBracket=N5,this.faXmark=bg}ngOnInit(){this.initFilterOptions()}ngOnChanges(i){i.isLoadingData&&(this.isRefreshing=i.isLoadingData.currentValue)}initFilterOptions(){this.filterSelection=this.filterOptions.map(i=>{let r=this.filterSelection?.find(o=>o.key===i.key);return{key:i.key,selected:r?r.selected:[]}})}onFilterChange(i,r){let o=this.filterSelection.find(s=>s.key===i.key),a=o.selected.indexOf(r);a>-1?o.selected.splice(a,1):o.selected.push(r),this.emitFilterChange()}isFilterOptionSelected(i,r){let o=!1,a=this.filterSelection.find(s=>s.key===i.key);return a&&(o=a.selected.indexOf(r)>-1),o}toggleSort(i){this.sortSelection.key===i.key?this.sortSelection.direction=this.sortSelection.direction==="asc"?"desc":"asc":this.sortSelection={key:i.key,direction:"asc"},this.sortChanged.emit(this.sortSelection)}clearFilters(){this.filterSelection=this.filterOptions.map(i=>({key:i.key,selected:[]})),this.emitFilterChange()}clearSort(){this.sortSelection={key:"",direction:"asc"},this.emitSortChange()}emitFilterChange(){this.filtersChanged.emit(this.filterSelection)}emitSortChange(){this.sortChanged.emit(this.sortSelection)}togglePopover(){this.showFilterSort=!this.showFilterSort}toggleChartView(){this.toggleChart.emit()}showCharges(){this.charges.emit()}exitSelected(){this.exit.emit()}showSummary(){this.summary.emit()}showLogs(){this.logs.emit()}refresh(){this.isRefreshing=!0,this.handleRefresh.emit(()=>{this.isRefreshing=!1})}getFilterSortIconColor(){return this.isAnyFilterSelected()||this.sortSelection?.key?"text-white":"text-gray-600"}getFilterSortButtonColor(){return this.isAnyFilterSelected()||this.sortSelection?.key?"bg-amber-500 hover:bg-amber-600 text-white":"bg-white text-gray-700"}isAnyFilterSelected(){let i=!1;for(let r of this.filterSelection)if(r.selected.length>0){i=!0;break}return i}handleClickOutside(i){this.eRef.nativeElement.contains(i.target)||(this.showFilterSort=!1)}};t.\u0275fac=function(r){return new(r||t)(V(st))},t.\u0275cmp=ie({type:t,selectors:[["app-tool-bar"]],hostBindings:function(r,o){r&1&&z("click",function(s){return o.handleClickOutside(s)},Sf)},inputs:{sortOptions:"sortOptions",sortSelection:"sortSelection",filterOptions:"filterOptions",filterSelection:"filterSelection",showChartButton:"showChartButton",showChargesButton:"showChargesButton",showSummaryButton:"showSummaryButton",showLogsButton:"showLogsButton",showExitButton:"showExitButton",showCancelButton:"showCancelButton",exitButtonLabel:"exitButtonLabel",cancelButtonLabel:"cancelButtonLabel",isLoadingData:"isLoadingData"},outputs:{filtersChanged:"filtersChanged",sortChanged:"sortChanged",handleRefresh:"handleRefresh",toggleChart:"toggleChart",charges:"charges",summary:"summary",exit:"exit",logs:"logs"},features:[rn],decls:13,vars:14,consts:[[1,"relative","text-gray-600","flex","items-center","gap-3","text-sm"],["class","px-3 py-2 border rounded-md shadow-sm  ","aria-label","Filter & Sort","matTooltip","Filter & Sort",3,"ngClass","click",4,"ngIf"],[1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center",3,"click","disabled","matTooltip"],[1,"mr-1",3,"icon"],[1,"hidden","sm:inline"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Analyse",3,"click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Charges",3,"click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Summary",3,"click",4,"ngIf"],["class","text-red-600 hover:underline focus:outline-none flex items-center gap-1",3,"matTooltip","click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Log Viewer",3,"click",4,"ngIf"],["class","absolute left-0 top-12 z-50 p-4 bg-white border rounded-md shadow-sm min-w-96 max-w-max",4,"ngIf"],["aria-label","Filter & Sort","matTooltip","Filter & Sort",1,"px-3","py-2","border","rounded-md","shadow-sm",3,"click","ngClass"],[3,"icon","ngClass"],["matTooltip","Analyse",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[3,"icon"],["matTooltip","Charges",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],["matTooltip","Summary",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[1,"text-red-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click","matTooltip"],["matTooltip","Log Viewer",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[1,"absolute","left-0","top-12","z-50","p-4","bg-white","border","rounded-md","shadow-sm","min-w-96","max-w-max"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-semibold","text-gray-600"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none",3,"click"],["class","flex gap-2 flex-wrap mb-4",4,"ngFor","ngForOf"],["class","border-t border-gray-200 my-4",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"flex","gap-2","flex-wrap","mb-4"],["class","px-3 py-1 border rounded-md text-sm transition",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-3","py-1","border","rounded-md","text-sm","transition",3,"click","ngClass"],[1,"border-t","border-gray-200","my-4"],[1,"mt-4"],[1,"flex","gap-2","flex-wrap"],["class","px-3 py-1 border rounded-md text-sm transition flex items-center space-x-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-3","py-1","border","rounded-md","text-sm","transition","flex","items-center","space-x-1",3,"click","ngClass"],[3,"icon",4,"ngIf"]],template:function(r,o){r&1&&(p(0,"div",0),A(1,_ve,2,3,"button",1),p(2,"button",2),z("click",function(){return o.refresh()}),O(3,"fa-icon",3),p(4,"span",4),y(5),h()(),A(6,bve,4,1,"button",5)(7,xve,4,1,"button",6)(8,Cve,4,1,"button",7)(9,Sve,4,3,"button",8)(10,wve,4,3,"button",8)(11,Mve,4,1,"button",9)(12,zve,10,3,"div",10),h()),r&2&&(g(),x("ngIf",o.filterOptions.length>0||o.sortOptions.length>0),g(),x("disabled",o.isRefreshing)("matTooltip",o.isRefreshing?"Loading":"Refresh"),g(),Ce("fa-spin",o.isRefreshing),x("icon",o.isRefreshing?o.faSpinner:o.faRefresh),g(2),j(o.isRefreshing?"Loading":"Refresh"),g(),x("ngIf",o.showChartButton),g(),x("ngIf",o.showChargesButton),g(),x("ngIf",o.showSummaryButton),g(),x("ngIf",o.showExitButton),g(),x("ngIf",o.showCancelButton),g(),x("ngIf",o.showLogsButton),g(),x("ngIf",o.showFilterSort))},dependencies:[Oe,Ae,at,ye,Bt],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();var kve=["*"],Nve=n=>({"w-full mt-3 flex justify-center":n}),Pve=(n,t,e,i,r)=>({"bg-blue-50 border-blue-200 text-blue-800":n,"bg-yellow-50  border-yellow-200 text-yellow-800":t,"bg-red-50  border-red-200 text-red-800":e,"bg-green-50 border-green-200 text-green-800":i,"justify-center items-center":r}),Ove=(n,t,e,i)=>({"text-blue-500":n,"text-yellow-500":t,"text-red-500":e,"text-green-500":i}),Rve=n=>({"text-center":n});function Fve(n,t){if(n&1){let e=ee();p(0,"button",5),z("click",function(){k(e);let r=M(2);return N(r.closeNote())}),y(1," \u2715 "),h()}}function Bve(n,t){if(n&1&&(p(0,"div",1)(1,"div",2),O(2,"fa-icon",3),p(3,"div",1),Ea(4),h(),A(5,Fve,2,0,"button",4),h()()),n&2){let e=M();x("ngClass",bi(6,Nve,e.atCenter)),g(),x("ngClass",Cw(8,Pve,e.type==="info",e.type==="warning",e.type==="error",e.type==="success",e.atCenter)),g(),x("icon",e.icon)("ngClass",xw(14,Ove,e.type==="info",e.type==="warning",e.type==="error",e.type==="success")),g(),x("ngClass",bi(19,Rve,e.atCenter)),g(2),x("ngIf",e.dismissible)}}var lr=(()=>{let t=class t{constructor(){this.type="info",this.dismissible=!1,this.atCenter=!1,this.dismissed=!1,this.faCircleInformation=P5,this.faWarning=eu,this.faSuccess=VT,this.faError=qj}get icon(){switch(this.type){case"warning":return this.faWarning;case"error":return this.faError;case"success":return this.faSuccess;case"info":default:return this.faCircleInformation}}closeNote(){this.dismissed=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-note"]],inputs:{type:"type",dismissible:"dismissible",atCenter:"atCenter"},ngContentSelectors:kve,decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"w-auto","w-full","flex","gap-2","p-2","rounded-md","box-border","border","overflow-hidden","text-sm",3,"ngClass"],[1,"h-5","w-5",3,"icon","ngClass"],["class","text-sm ml-2 text-gray-400 hover:text-gray-600","aria-label","Close",3,"click",4,"ngIf"],["aria-label","Close",1,"text-sm","ml-2","text-gray-400","hover:text-gray-600",3,"click"]],template:function(r,o){r&1&&(y1(),A(0,Bve,6,21,"div",0)),r&2&&x("ngIf",!o.dismissed)},dependencies:[ye,Oe,at],encapsulation:2});let n=t;return n})();function Vve(n,t){if(n&1&&(p(0,"tr",21)(1,"td",22),O(2,"app-small-chip",23),y(3),p(4,"span",24),y(5),h()(),p(6,"td",25),y(7),h(),p(8,"td",25),y(9),$(10,"number"),h(),p(11,"td",25),y(12),$(13,"number"),h()()),n&2){let e=t.$implicit,i=M(2);g(2),x("text",e.contractNote.transactionType)("color",i.getTransactionTypeChipColor(e.contractNote.transactionType)),g(),H(" ",e.displayName," "),g(2),j(e.contractNote.exchange),g(2),j(e.contractNote.quantity),g(2),j(X(10,7,e.contractNote.price,"1.2-2")),g(3),j(X(13,10,e.contractNote.charges==null?null:e.contractNote.charges.total,"1.2-2"))}}function Uve(n,t){if(n&1&&(p(0,"div",5)(1,"div",6)(2,"table",7)(3,"tbody")(4,"tr")(5,"td",8),y(6,"Brokerage"),h(),p(7,"td",9),y(8),$(9,"number"),h()(),p(10,"tr")(11,"td",8),y(12,"STT"),h(),p(13,"td",9),y(14),$(15,"number"),h()(),p(16,"tr")(17,"td",8),y(18,"Stamp Duty"),h(),p(19,"td",9),y(20),$(21,"number"),h()(),p(22,"tr")(23,"td",8),y(24,"Exchange Turnover"),h(),p(25,"td",9),y(26),$(27,"number"),h()(),p(28,"tr")(29,"td",8),y(30,"SEBI Turnover"),h(),p(31,"td",9),y(32),$(33,"number"),h()(),p(34,"tr")(35,"td",8),y(36,"GST"),h(),p(37,"td",9),y(38),$(39,"number"),h()(),p(40,"tr",10)(41,"td",11),y(42,"Total"),h(),p(43,"td",9),y(44),$(45,"number"),h()()()()(),p(46,"div",12)(47,"div",13)(48,"table",14)(49,"thead",15)(50,"tr",16)(51,"th",17),y(52,"INSTRUMENT"),h(),p(53,"th",17),y(54,"QTY"),h(),p(55,"th",17),y(56,"AVG PRICE"),h(),p(57,"th",17),y(58,"CHARGES"),h()()(),p(59,"tbody",18),A(60,Vve,14,13,"tr",19),h()()(),p(61,"div",20),y(62," *The data is an approximation based on the current orderbook and may change in the actual contract note after settlement. "),h()()()),n&2){let e=M();g(8),j(X(9,8,e.totalCharges.brokerage,"1.2-2")),g(6),j(X(15,11,e.totalCharges.stt,"1.2-2")),g(6),j(X(21,14,e.totalCharges.stampDuty,"1.2-2")),g(6),j(X(27,17,e.totalCharges.exchangeTurnover,"1.2-2")),g(6),j(X(33,20,e.totalCharges.sebiTurnover,"1.2-4")),g(6),j(X(39,23,e.totalCharges.gst,"1.2-2")),g(6),j(X(45,26,e.totalCharges.total,"1.2-2")),g(16),x("ngForOf",e.orders)}}function Hve(n,t){n&1&&(p(0,"div",26)(1,"app-note",27),y(2," You don't have any completed orders to show charges. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}var Su=(()=>{let t=class t{constructor(){this.orders=[],this.totalCharges={brokerage:0,stt:0,stampDuty:0,exchangeTurnover:0,sebiTurnover:0,gst:0,total:0}}ngOnInit(){}showChargesDetails(i){this.resetTotalCharges(),this.orders=[],i.forEach(r=>{(r.contractNoteDtos||[]).forEach(o=>{this.orders.push(o),this.totalCharges.brokerage+=o.contractNote.charges?.brokerage||0,this.totalCharges.stt+=o.contractNote.charges?.transactionTax||0,this.totalCharges.stampDuty+=o.contractNote.charges?.stampDuty||0,this.totalCharges.exchangeTurnover+=o.contractNote.charges?.exchangeTurnoverCharge||0,this.totalCharges.sebiTurnover+=o.contractNote.charges?.SEBITurnoverCharge||0,this.totalCharges.gst+=o.contractNote.charges?.gst?.total||0,this.totalCharges.total+=o.contractNote.charges?.total||0})})}resetTotalCharges(){this.totalCharges={brokerage:0,stt:0,stampDuty:0,exchangeTurnover:0,sebiTurnover:0,gst:0,total:0}}getTransactionTypeChipColor(i){switch(i){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-charges-summary"]],decls:6,vars:2,consts:[["noCharges",""],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"overflow-hidden","transition-all","duration-300"],["class","flex flex-col lg:flex-row gap-6",4,"ngIf","ngIfElse"],[1,"flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-1/3","w-full"],[1,"w-full","text-sm"],[1,"py-1","text-gray-600"],[1,"text-right"],[1,"font-semibold","border-t","border-gray-200"],[1,"py-2"],[1,"lg:w-2/3","w-full","text-gray-700","border","border-gray-200","rounded-md"],[1,"max-h-64","overflow-y-auto"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"border-b","border-gray-200"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],[1,"bg-white"],["class","hover:bg-blue-50 border-b border-gray-200 text-gray-700 ",4,"ngFor","ngForOf"],[1,"mt-2","ml-2","mb-2","text-xs","text-gray-500"],[1,"hover:bg-blue-50","border-b","border-gray-200","text-gray-700"],[1,"px-4","py-2","flex","items-center","gap-2"],[3,"text","color"],[1,"text-xs","text-gray-400"],[1,"px-4","py-2"],[1,"flex","justify-center","w-full","min-h-[200px]","items-center"],[3,"type","dismissible","atCenter"]],template:function(r,o){if(r&1&&(p(0,"div",1)(1,"div",2)(2,"div",3),A(3,Uve,63,29,"div",4)(4,Hve,3,3,"ng-template",null,0,Tn),h()()()),r&2){let a=pn(5);g(3),x("ngIf",o.orders.length>0)("ngIfElse",a)}},dependencies:[Ae,ye,gn,lr,ln],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();function jve(n,t){if(n&1&&(p(0,"tr",10)(1,"th",11),y(2),h(),p(3,"td",12),y(4),h()()),n&2){let e=t.$implicit,i=M();g(2),H(" ",i.toLabel(e)," "),g(2),H(" ",i.formatValue(e,i.flattenedData[e])," ")}}var nZ=(()=>{let t=class t{constructor(i,r,o){this.utilsService=i,this.dialogRef=r,this.data=o,this.title="Information",this.flattenedData={},o.title&&(this.title=o.title)}ngOnInit(){this.flattenedData=this.flattenObject(this.data.sourceData)}getKeys(i){return Object.keys(i)}toLabel(i){let r=["URL","ID","API","HTTP","HTML","SIP","MF"];return i.split(".").map(o=>{let a=o.replace(/[_-]/g," ");return a=a.replace(/([a-z])([A-Z])/g,"$1 $2"),a.split(" ").map(s=>{let l=s.toUpperCase();return r.includes(l)?l:s.charAt(0).toUpperCase()+s.slice(1)}).join(" ")}).join(" - ")}formatValue(i,r){if(typeof r=="boolean")return r?"Yes":"No";if(typeof r=="number")return i.toLowerCase().includes("date")||r>1e12&&r<1e14?this.utilsService.formatCustomDate(new Date(r)):r.toLocaleString();if(typeof r=="string"&&i.toLowerCase().includes("date")){let o=new Date(r);if(!isNaN(o.getTime()))return this.utilsService.formatCustomDate(o)}return r}flattenObject(i,r="",o={},a=1){if(a>3)return o;for(let s of Object.keys(i)){let l=r?`${r}.${s}`:s,c=i[s];c&&typeof c=="object"&&!Array.isArray(c)?this.flattenObject(c,l,o,a+1):o[l]=c}return o}onClose(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(V(In),V(Ni),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-detail-info-dialog"]],decls:12,vars:2,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"w-full","max-w-xl","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-4","py-3","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-2","space-y-4"],[1,"overflow-auto","max-h-[60vh]"],[1,"table-fixed","w-full","rounded-md","divide-y","divide-gray-200"],[1,"divide-y","divide-gray-100","text-sm","text-gray-700"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["cdkDragHandle","",1,"flex","justify-end","px-4","py-3","border-t","cursor-move"],[1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-100","text-sm",3,"click"],[1,"hover:bg-gray-50"],["scope","row",1,"px-4","py-2","text-left","font-medium","text-gray-600","align-top","break-words","w-1/3"],[1,"px-4","py-2","text-left","break-words","w-2/3"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1)(2,"span",2),y(3),h()(),p(4,"div",3)(5,"div",4)(6,"table",5)(7,"tbody",6),A(8,jve,5,2,"tr",7),h()()()(),p(9,"div",8)(10,"button",9),z("click",function(){return o.onClose()}),y(11," Close "),h()()()),r&2&&(g(3),j(o.title),g(5),x("ngForOf",o.getKeys(o.flattenedData)))},dependencies:[Ae,di,o0,or,rr],encapsulation:2});let n=t;return n})();var yv=(()=>{let t=class t{constructor(i){this.api=i}getHistoricalTimelineValues(i){return this.api.get(`/v1/history/timelines/${i}`)}getGainersAndLosers(i,r){let o=`/v1/holdings/gainers-losers?timeframe=${i}`;if(r&&r.length>0){let a=r.map(s=>`userIds=${s}`).join("&");o+=`&${a}`}return this.api.get(o)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var In=(()=>{let t=class t{constructor(i,r,o){this.dialog=i,this.historicalTimelineValuesService=r,this.toastrService=o}getAvatarUrl(i,r){return i.find(a=>a.userId===r)?.profile?.avatarURL||ui}getUserName(i,r){return i.find(a=>a.userId===r)?.name||"Unknown User"}getUserFullName(i,r){return i.find(a=>a.userId===r)?.profile?.userName||"Unknown User"}sort(i,r,o){let a=r==="desc"?-1:1;return o=[...o].sort((s,l)=>{let c=this.getNestedValue(s,i),u=this.getNestedValue(l,i);return typeof c=="number"&&typeof u=="number"?(c-u)*a:Date.parse(c)&&Date.parse(u)?(new Date(c).getTime()-new Date(u).getTime())*a:typeof c=="string"&&typeof u=="string"?c.localeCompare(u)*a:0}),o}filter(i,r){return i.forEach(o=>{o.selected.length>0&&!o.key.startsWith("custom.")&&(r=r.filter(a=>{let s=this.getNestedValue(a,o.key);return o.selected.includes(s.toUpperCase())}))}),r}getNestedValue(i,r){return r.split(".").reduce((o,a)=>o?.[a],i)}getElapsedYMDString(i){let r=new Date(i),o=new Date;if(isNaN(r.getTime()))return"";let a=o.getFullYear()-r.getFullYear(),s=o.getMonth()-r.getMonth(),l=o.getDate()-r.getDate();if(l<0){s--;let d=new Date(o.getFullYear(),o.getMonth(),0);l+=d.getDate()}s<0&&(a--,s+=12);let c=a>0?`${a}y`:"",u=s>0?`${s}M`:"";return c+u||"0d"}showInfo(i,r){this.dialog.open(nZ,{disableClose:!1,autoFocus:!1,hasBackdrop:!0,closeOnNavigation:!0,data:{sourceData:i,title:r}})}formatCustomDate(i){let r=i.getDate(),o=i.toLocaleString("en-US",{month:"short"}),a=i.getFullYear();return`${r}${(l=>{let c=["th","st","nd","rd"],u=l%100;return c[(u-20)%10]||c[u]||"th"})(r)} ${o} ${a}`}convertUtcTimeToLocal(i){if(!i)return"";let[r,o,a]=i.split(":").map(Number),s=new Date;return s.setUTCHours(r,o,a,0),s.toLocaleTimeString("en-GB",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}fetchHistoricalTimelineValues(i){return this.historicalTimelineValuesService.getHistoricalTimelineValues(i)}populateHoldingsTimelineChartData(i,r=[]){let o=i.map(d=>new Date(d.date).toISOString().split("T")[0]),a=[],s=[],l=[];for(let d of i){let f=d.historicalHoldingsTimelines??[],m=r.length===0?f:f.filter(C=>r.includes(C.userId)),v=m.reduce((C,w)=>C+(w.investedAmount??0),0),_=m.reduce((C,w)=>C+(w.currentValue??0),0),b=m.reduce((C,w)=>C+(w.netPnl??0),0);a.push(v),s.push(_),l.push(b)}let c=[{name:"Invested Amount",data:a,smooth:!0},{name:"Current Value",data:s,smooth:!0},{name:"Total P&L",data:l,smooth:!0}],u=c.map(d=>d.name);return{dateLabels:o,legendLabels:u,series:c}}populateSipsTimelineChartData(i,r=[]){let o=i.map(u=>new Date(u.date).toISOString().split("T")[0]),a=[],s=[];for(let u of i){let d=u.historicalMfSipsTimelines??[],f=r.length===0?d:d.filter(_=>r.includes(_.userId)),m=f.reduce((_,b)=>_+(b.sipAmount??0),0),v=f.reduce((_,b)=>_+(b.activeSips??0),0);a.push(m),s.push(v)}let l=[{name:"Total SIP Amount",data:a,smooth:!0},{name:"Number of SIPs",data:s,smooth:!0}],c=l.map(u=>u.name);return{dateLabels:o,legendLabels:c,series:l}}populatePositionsTimelineChartData(i,r=[]){let o=i.map(u=>new Date(u.date).toISOString().split("T")[0]),a=[],s=[];for(let u of i){let d=u.historicalPositionsTimelines??[],f=r.length===0?d:d.filter(_=>r.includes(_.userId)),m=f.reduce((_,b)=>_+(b.totalEodPnl??0),0);a.push(m);let v=f.reduce((_,b)=>_+(b.openDerivativePositions??0),0);s.push(v)}let l=[{name:"Daily EOD PnL",data:a,type:"bar"}],c=l.map(u=>u.name);return{dateLabels:o,legendLabels:c,series:l}}};t.\u0275fac=function(r){return new(r||t)(ae(Xn),ae(yv),ae(nt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var _8=D7(rZ());var Fo=(()=>{let t=class t{success(i){_8.default.fire("Success",i,"success")}error(i){_8.default.fire("Error",i,"error")}info(i,r,o){_8.default.fire({title:i,text:r,icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#10B981"}).then(a=>{a.isConfirmed&&o()})}confirm(i,r,o){_8.default.fire({title:i,text:r,icon:"warning",confirmButtonColor:"#10B981",cancelButtonColor:"#6b7280",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(a=>{a.isConfirmed&&o()})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Gve=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function Wve(n,t){n&1&&O(0,"span",19)}function qve(n,t){if(n&1){let e=ee();p(0,"div",16),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.setActiveSubTab(r))}),y(1),p(2,"span",17),y(3),h(),A(4,Wve,1,0,"span",18),h()}if(n&2){let e=t.$implicit,i=M(2);Ce("active-tab",e===i.activeSubTab)("text-gray-700",e!==i.activeSubTab),g(),H(" ",e," "),g(),x("ngClass",Qe(8,Gve,e===i.activeSubTab,e!==i.activeSubTab)),g(),H(" ",i.tabCounts[e]," "),g(),x("ngIf",e===i.activeSubTab)}}function $ve(n,t){if(n&1){let e=ee();p(0,"div",20)(1,"app-orders-table",21),z("handleClickAction",function(r){k(e);let o=M(2);return N(o.handleAction(r))})("selectedOrdersChange",function(r){k(e);let o=M(2);return N(o.onSelectedOrdersChange(r))}),h()()}if(n&2){let e=M(2);g(),x("groupedOrders",e.stockFnoGroupedOrders)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function Yve(n,t){n&1&&(p(0,"div",20)(1,"app-note",22),y(2," You don't have any orders in this section. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function Zve(n,t){if(n&1){let e=ee();p(0,"div")(1,"div",3)(2,"div",4),A(3,qve,5,11,"div",5),h(),p(4,"div",6)(5,"a",7),O(6,"fa-icon",8),y(7," MF Orders "),h()()(),p(8,"div",9)(9,"div",6)(10,"app-tool-bar",10),z("filtersChanged",function(r){k(e);let o=M();return N(o.applyFilters(r))})("handleRefresh",function(r){k(e);let o=M();return N(o.handleRefresh(r))})("charges",function(){k(e);let r=M();return N(r.viewCharges())})("exit",function(){k(e);let r=M();return N(r.cancelSelectedOrders())}),h()(),O(11,"div",11),p(12,"div",6)(13,"app-user-filter",12),z("selectAllUsers",function(){k(e);let r=M();return N(r.onAllUserSelection())})("selectUsers",function(r){k(e);let o=M();return N(o.onUserSelection(r))})("totalUsers",function(r){k(e);let o=M();return N(o.captureUsers(r))}),h()(),p(14,"div",6)(15,"app-search-input",13),z("inputChange",function(r){k(e);let o=M();return N(o.onStocksFnoSearch(r))}),h()()(),p(16,"div",14),O(17,"app-charges-summary"),h(),A(18,$ve,2,3,"div",15)(19,Yve,3,3,"ng-template",null,0,Tn),h()}if(n&2){let e=pn(20),i=M();g(3),x("ngForOf",i.subTabs),g(3),x("icon",i.faListCheck),g(4),x("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("showChargesButton",!0)("isLoadingData",i.isLoadingData)("showCancelButton",i.selectedOrders.length>0)("cancelButtonLabel","Cancel Selected ("+i.selectedOrders.length+")"),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search orders by User ID or Instrument")("searchTerm",i.searchQuery),g(),x("@expandCollapse",i.showCharges?"expanded":"collapsed"),g(2),x("ngIf",i.stockFnoGroupedOrders.length>0)("ngIfElse",e)}}var oZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f){this.ordersService=i,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.dialog=l,this.utilsService=c,this.overlay=u,this.alertService=d,this.document=f,this.subTabs=["Open","All"],this.activeSubTab="Open",this.tabCounts={All:0,Open:0},this.instrumentTokens=[],this.users=[],this.stocksFnoOrders=[],this.stockFnoGroupedOrders=[],this.charges=[],this.filterCharges=[],this.showCharges=!1,this.errorMessage="",this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=ui,this.selectedOrders=[],this.isLoadingData=!1,this.filterOptions=[{key:"custom.status",values:["OPEN","COMPLETED","CANCELLED","REJECTED"]},{key:"order.orderType",values:["LIMIT","MARKET","SL","SL-M"]},{key:"order.transactionType",values:["BUY","SELL"]}],this.stocksFnoPendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.actions=[{action:"copy",color:"blue",label:"Copy Order"},{action:"modify",color:"blue",label:"Modify Order"},{action:"cancel",color:"red",label:"Cancel Order"},{action:"info",color:"gray",label:"Order Details"}],this.filterSelection=[],this.faListCheck=tu}ngOnInit(){let i=this.userViewStateService.getState();this.activeSubTab=i.orders.selectedOrderType,this.selectedUserIds=i.orders.selectedUsersIds,this.searchQuery=i.orders.searchQuery,i.orders.filterSelection?.length>0&&(this.filterSelection=i.orders.filterSelection),this.getCachedData(),this.fetchStocksFnoOrders(),this.fetchCharges()}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.stocksFnoOrders&&(this.stocksFnoOrders=i.stocksFnoOrders,this.renderOrders()))}setCachedData(){this.userDataStateService.setState({stocksFnoOrders:this.stocksFnoOrders})}renderOrders(){this.updateCounts(),this.updateFilteredAndGroupedStockFnoOrders()}fetchStocksFnoOrders(i){this.isLoadingData=!0,this.ordersService.getOrders().subscribe({next:r=>{this.stocksFnoOrders=r.data,this.renderOrders(),this.instrumentTokens=this.stocksFnoOrders.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData(),this.orderTableComponent&&this.orderTableComponent.clearSelection()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching stocks and fno orders. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}fetchCharges(i){this.ordersService.fetchCharges().subscribe({next:r=>{this.charges=r.data,this.filterChargesBySelectedUsers()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching charges. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}updateCounts(){let i=this.stocksFnoOrders.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)>-1).length;this.tabCounts.Open=i;let r=this.stocksFnoOrders.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)<0).length;this.tabCounts.Executed=r,this.tabCounts.All=i+r}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(tt(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updateOrdersOnUpdate(i)})):console.log("No instrument tokens available for web socket subscription.")}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedOrders(),this.filterChargesBySelectedUsers(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedOrders(),this.filterChargesBySelectedUsers(),this.saveUserViewState()}onStocksFnoSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedStockFnoOrders(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({orders:{selectedUsersIds:this.selectedUserIds,selectedOrderType:this.activeSubTab,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}updateOrdersOnUpdate(i){i.forEach(r=>{this.stocksFnoOrders.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{(a.lastPrice!==r.lastTradedPrice||a.change!==r.change)&&(a.change=r.change,a.lastPrice=r.lastTradedPrice)})})}setActiveSubTab(i){this.activeSubTab=i,this.updateFilteredAndGroupedOrders(),this.saveUserViewState()}captureUsers(i){this.users=i}updateFilteredAndGroupedOrders(){this.updateFilteredAndGroupedStockFnoOrders()}updateFilteredAndGroupedStockFnoOrders(){let i=this.stocksFnoOrders;this.activeSubTab!=="All"&&(this.activeSubTab==="Open"?i=i.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)>-1):i=i.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)<0)),this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.displayName.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i),i=this.filterCustomStatus(i));let r={};i.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.stockFnoGroupedOrders=Object.entries(r).map(([o,a])=>({userId:o,orders:a,daysPnL:0,totalPnL:0,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}filterCustomStatus(i){let r=this.filterSelection.find(o=>o.key==="custom.status"&&o.selected.length>0);if(r){let o={OPEN:this.stocksFnoPendingStatus,COMPLETED:["COMPLETE"],REJECTED:["REJECTED"],CANCELLED:["CANCELLED"]},a=r.selected.flatMap(s=>o[s]||[]);i=i.filter(s=>a.includes(s.order.status))}return i}handleAction(i){i.action==="modify"?this.openModifyOrCopyOrderDialog(i.row,!1):i.action==="cancel"?this.cancelOrder(i.row):i.action==="copy"?this.openModifyOrCopyOrderDialog(i.row,!0):i.action==="info"&&this.utilsService.showInfo(i.row,`Order Details - ${i.row.displayName}`)}cancelOrder(i){this.ordersService.cancelOrder(i.order.accountId,i.order.orderId,i.order.orderVariety).pipe(Ut(r=>Me({error:!0,id:i.order.accountId,message:r?.error?.message||"Unknown error"}))).subscribe({next:r=>{"error"in r&&r.error?(console.error("\u274C Order cancel failed:",r),this.toastrService.error(`Account ID: ${i.order.accountId}. Order cancellation for ${r.id} failed: ${r.message}`,"Error")):(this.toastrService.success(`Account ID: ${i.order.accountId}. Order cancelled successfully. Order ID:${r.data.orderId}`,"Success"),this.fetchStocksFnoOrders())},error:r=>{console.error("Fatal error:",r),this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}})}onSelectedOrdersChange(i){this.selectedOrders=i}cancelSelectedOrders(){if(this.selectedOrders.length===0){this.toastrService.warning("No orders selected","Warning");return}let i=this.selectedOrders.length;this.alertService.confirm(`Cancel ${i} Order${i>1?"s":""}?`,`Are you sure you want to cancel ${i} selected order${i>1?"s":""}? This action cannot be undone.`,()=>{this.processBulkCancel()})}processBulkCancel(){let i=this.selectedOrders.length,r=0,o=0,a=0;this.selectedOrders.forEach(s=>{this.ordersService.cancelOrder(s.order.accountId,s.order.orderId,s.order.orderVariety).pipe(Ut(l=>Me({error:!0,id:s.order.accountId,message:l?.error?.message||"Unknown error"}))).subscribe({next:l=>{r++,"error"in l&&l.error?(a++,console.error("\u274C Order cancel failed:",l)):o++,r===i&&(o>0&&this.toastrService.success(`Successfully cancelled ${o} order${o>1?"s":""}${a>0?`, ${a} failed`:""}`,"Bulk Cancel Complete"),a>0&&o===0&&this.toastrService.error(`All ${a} order cancellations failed`,"Error"),this.fetchStocksFnoOrders(),this.selectedOrders=[])},error:l=>{r++,a++,console.error("Fatal error:",l),r===i&&(this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error"),this.fetchStocksFnoOrders(),this.selectedOrders=[],this.orderTableComponent&&this.orderTableComponent.clearSelection())}})})}openModifyOrCopyOrderDialog(i,r){let o={exchange:i.order.exchange,tradingSymbol:i.order.tradingSymbol,instrumentToken:i.instrumentToken,lastPrice:i.order.price,product:i.order.product,quantity:i.order.quantity,displayName:i.displayName,segment:i.order.segment||i.order.exchange,tradingAccountId:i.order.accountId},a={isCopy:r,isBuyMode:i.order.transactionType==="BUY",orderId:i.order.orderId,variety:i.order.orderVariety,orderType:i.order.orderType,originalPrice:i.order.price,originalTriggerPrice:i.order.triggerPrice,product:i.order.product};this.dialog.open(d0,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:Q({},o)}}).afterClosed().subscribe(l=>{l&&this.fetchStocksFnoOrders()})}applyFilters(i){this.filterSelection=i,this.updateFilteredAndGroupedStockFnoOrders(),this.saveUserViewState()}handleRefresh(i){this.fetchStocksFnoOrders(i)}filterChargesBySelectedUsers(){this.selectedUserIds.length!==0?this.filterCharges=this.charges.filter(i=>this.selectedUserIds.includes(i.userId)):this.filterCharges=this.charges,this.chargesSummaryComponent&&this.chargesSummaryComponent.showChargesDetails(this.filterCharges)}toggleCharges(){this.showCharges=!this.showCharges}viewCharges(){this.toggleCharges()}ngAfterViewInit(){}};t.\u0275fac=function(r){return new(r||t)(V(Cs),V(sr),V(Un),V(Dn),V(nt),V(Xn),V(In),V(Vr),V(Fo),V(Te))},t.\u0275cmp=ie({type:t,selectors:[["app-orders"]],viewQuery:function(r,o){if(r&1&&(Rn(wD,5),Rn(Su,5)),r&2){let a;an(a=sn())&&(o.orderTableComponent=a.first),an(a=sn())&&(o.chargesSummaryComponent=a.first)}},decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"flex-shrink-0"],["routerLink","/mf",1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","text-gray-700","hover:bg-gray-100","hover:text-blue-500","relative","flex","items-center","gap-2"],[1,"text-sm",3,"icon"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[3,"filtersChanged","handleRefresh","charges","exit","filterOptions","filterSelection","showChargesButton","isLoadingData","showCancelButton","cancelButtonLabel"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],["class","page-content",4,"ngIf","ngIfElse"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"page-content"],[3,"handleClickAction","selectedOrdersChange","groupedOrders","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(p(0,"div",1),A(1,Zve,21,14,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[nr,za,We,Oe,Ae,ye,wD,Lo,Va,lr,at,Su],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 138px);min-height:calc(100vh - var(--header-height, 80px) - 138px)}"],data:{animation:[Pi]}});let n=t;return n})();var _v=(n,t,e)=>({"text-green-600":n,"text-red-600":t,"text-gray-700":e}),aZ=(n,t)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":t});function Xve(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Total Investment"),h(),p(3,"span",4),y(4),$(5,"currency"),h()()),n&2){let e=M();g(4),H(" ",lt(5,1,e.totalInvestment,"INR","symbol","1.2-2")," ")}}function Qve(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Current Value"),h(),p(3,"span",4),y(4),$(5,"currency"),h()()),n&2){let e=M();g(4),H(" ",lt(5,1,e.currentValue,"INR","symbol","1.2-2")," ")}}function Kve(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Day's P&L"),h(),p(3,"span",5),y(4),$(5,"currency"),h()()),n&2){let e=M();g(3),x("ngClass",mn(7,_v,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),g(),H(" ",lt(5,2,e.daysPnL,"INR","symbol","1.2-2")," ")}}function Jve(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Day's P&L"),h(),p(3,"div",6)(4,"span",7),y(5),$(6,"currency"),h(),p(7,"span",8),y(8),$(9,"percent"),h()()()),n&2){let e=M();g(4),x("ngClass",mn(12,_v,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),g(),H(" ",lt(6,4,e.daysPnL,"INR","symbol","1.2-2")," "),g(2),x("ngClass",Qe(16,aZ,e.daysPnLPercentage>0,e.daysPnLPercentage<0)),g(),H(" ",X(9,9,e.daysPnLPercentage,"1.2-2")," ")}}function eye(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Total P&L"),h(),p(3,"span",5),y(4),$(5,"currency"),h()()),n&2){let e=M();g(3),x("ngClass",mn(7,_v,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),g(),H(" ",lt(5,2,e.totalPnL,"INR","symbol","1.2-2")," ")}}function tye(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Total P&L"),h(),p(3,"div",6)(4,"span",7),y(5),$(6,"currency"),h(),p(7,"span",8),y(8),$(9,"percent"),h()()()),n&2){let e=M();g(4),x("ngClass",mn(12,_v,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),g(),H(" ",lt(6,4,e.totalPnL,"INR","symbol","1.2-2")," "),g(2),x("ngClass",Qe(16,aZ,e.totalPnLPercentage>0,e.totalPnLPercentage<0)),g(),H(" ",X(9,9,e.totalPnLPercentage,"1.2-2")," ")}}var sZ=(()=>{let t=class t{constructor(i){this.utilsService=i}};t.\u0275fac=function(r){return new(r||t)(V(In))},t.\u0275cmp=ie({type:t,selectors:[["app-holdings-summary"]],inputs:{totalInvestment:"totalInvestment",currentValue:"currentValue",daysPnL:"daysPnL",daysPnLPercentage:"daysPnLPercentage",totalPnL:"totalPnL",totalPnLPercentage:"totalPnLPercentage"},decls:7,vars:6,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"],[1,"text-base","font-medium","mt-1",3,"ngClass"],[1,"flex","items-center","justify-center","gap-1","mt-1"],[1,"text-base","font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"]],template:function(r,o){r&1&&(p(0,"div",0),A(1,Xve,6,6,"div",1)(2,Qve,6,6,"div",1)(3,Kve,6,11,"div",1)(4,Jve,10,19,"div",1)(5,eye,6,11,"div",1)(6,tye,10,19,"div",1),h()),r&2&&(g(),x("ngIf",o.totalInvestment!==void 0),g(),x("ngIf",o.currentValue!==void 0),g(),x("ngIf",o.daysPnL!==void 0&&o.daysPnLPercentage===void 0),g(),x("ngIf",o.daysPnL!==void 0&&o.daysPnLPercentage!==void 0),g(),x("ngIf",o.totalPnL!==void 0&&o.totalPnLPercentage===void 0),g(),x("ngIf",o.totalPnL!==void 0&&o.totalPnLPercentage!==void 0))},dependencies:[We,Oe,ye,$n,Si],encapsulation:2});let n=t;return n})();var TD=class{constructor(){this.subject=new G4(1),this.subscriptions=new Et}doFilter(t){this.subject.next(t)}dispose(){this.subscriptions.unsubscribe()}notEmpty(t,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[t]){let r=i[t].currentValue;r!=null&&e(r)}}))}has(t,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[t]){let r=i[t].currentValue;e(r)}}))}notFirst(t,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[t]&&!i[t].isFirstChange()){let r=i[t].currentValue;e(r)}}))}notFirstAndEmpty(t,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[t]&&!i[t].isFirstChange()){let r=i[t].currentValue;r!=null&&e(r)}}))}},lZ=new ue("NGX_ECHARTS_CONFIG"),bv=(()=>{let t=class t{constructor(i,r,o){this.el=r,this.ngZone=o,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new be,this.optionsError=new be,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new G4(1),this.resize$=new me,this.changeFilter=new TD,this.resizeObFired=!1,this.echarts=i.echarts,this.theme=i.theme||null}ngOnChanges(i){this.changeFilter.doFilter(i)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(Vx(100,ba,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(i=>{for(let r of i)r.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",i=>this.onOptionsChange(i)),this.changeFilter.notFirstAndEmpty("merge",i=>this.setOption(i)),this.changeFilter.has("loading",i=>this.toggleLoading(!!i)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(i){this.chart?i?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(r=>i?r.showLoading(this.loadingType,this.loadingOpts):r.hideLoading())}setOption(i,r){if(this.chart)try{this.chart.setOption(i,r)}catch(o){console.error(o),this.optionsError.emit(o)}}refreshChart(){return Jo(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let i=this.el.nativeElement;if(window&&window.getComputedStyle){let r=window.getComputedStyle(i,null).getPropertyValue("height");(!r||r==="0px")&&(!i.style.height||i.style.height==="0px")&&(i.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:o})=>o(i,this.theme,this.initOpts)))}initChart(){return Jo(this,null,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(i){return Jo(this,null,function*(){i&&(this.chart?this.setOption(this.options,!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options,!0)))})}createLazyEvent(i){return this.chartInit.pipe(jn(r=>new dt(o=>(r.on(i,a=>this.ngZone.run(()=>o.next(a))),()=>{this.chart&&(this.chart.isDisposed()||r.off(i))}))))}};t.\u0275fac=function(r){return new(r||t)(V(lZ),V(st),V(Pe))},t.\u0275dir=Fe({type:t,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[rn]});let n=t;return n})(),ED=n=>({provide:lZ,useValue:n}),xv=(()=>{let t=class t{static forRoot(i){return{ngModule:t,providers:[ED(i)]}}static forChild(){return{ngModule:t}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let n=t;return n})();var nye=["chartContainer"],wu=(()=>{let t=class t{constructor(){this.title="",this.xAxisLabels=[],this.series=[],this.legendLabels=[],this.chartHeight="280",this.showDataZoom=!0,this.initOpts={renderer:"canvas",width:"auto",height:"auto"},this.chartOptions={},this.resizeListener=()=>this.updateChartSize(),this.isMobile=!1}ngOnInit(){this.checkMobile(),this.buildChartOptions()}ngOnChanges(){this.buildChartOptions()}ngAfterViewInit(){this.updateChartSize(),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}checkMobile(){this.isMobile=window.innerWidth<768}updateChartSize(){if(this.checkMobile(),this.chartContainer){let i=this.chartContainer.nativeElement.parentElement.offsetWidth,r=this.isMobile?Math.min(300,window.innerHeight*.4):parseInt(this.chartHeight);this.initOpts={renderer:"canvas",width:i+"px",height:r+"px"},this.buildChartOptions()}}buildChartOptions(){this.chartOptions={title:{text:this.title,textStyle:{fontSize:this.isMobile?12:14},left:this.isMobile?"center":"left"},tooltip:{trigger:"axis",confine:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#ccc",borderWidth:1,textStyle:{fontSize:this.isMobile?11:12},formatter:i=>{let r=i[0].axisValue,o=i.map(a=>{let s=a.value,l=this.formatValue(a.seriesName,s);return`${a.marker} ${a.seriesName}: ${l}`}).join("<br/>");return`<strong>${r}</strong><br/>${o}`}},legend:{data:this.legendLabels,orient:"horizontal",top:this.isMobile?25:5,left:"center",textStyle:{fontSize:this.isMobile?10:12},itemWidth:this.isMobile?15:25,itemHeight:this.isMobile?8:14},grid:{left:this.isMobile?"5%":"3%",right:this.isMobile?"5%":"4%",bottom:this.isMobile?"12%":"10%",top:this.isMobile?"25%":"20%",containLabel:!0},toolbox:{show:!this.isMobile,top:0,right:50,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:this.showDataZoom?[{type:"slider",start:0,end:100,height:this.isMobile?20:30,textStyle:{fontSize:this.isMobile?10:12}},{type:"inside",start:0,end:100}]:[],xAxis:{type:"category",boundaryGap:!1,data:this.xAxisLabels,axisLabel:{fontSize:this.isMobile?9:11,rotate:this.isMobile?45:0,interval:"auto",hideOverlap:!0,showMaxLabel:!0,showMinLabel:!0}},yAxis:{type:"value",axisLabel:{fontSize:this.isMobile?9:11,formatter:i=>this.isMobile&&Math.abs(i)>=1e3?(i/1e3).toFixed(0)+"k":i.toLocaleString()}},series:this.series.map(i=>Q({type:"line",smooth:i.smooth??!0,lineStyle:{width:this.isMobile?1.5:2},symbol:this.isMobile?"none":"circle",symbolSize:this.isMobile?3:4},i))}}formatValue(i,r){if(r==null||isNaN(r))return"0.00";let o={minimumFractionDigits:this.isMobile?0:2,maximumFractionDigits:2};return i.includes("%")?`${r.toFixed(this.isMobile?1:2)}%`:i.toLowerCase().includes("pnl")?`${r>=0?"+":""}\u20B9${r.toLocaleString(void 0,o)}`:`\u20B9${r.toLocaleString(void 0,o)}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-timeline-chart"]],viewQuery:function(r,o){if(r&1&&Rn(nye,5),r&2){let a;an(a=sn())&&(o.chartContainer=a.first)}},inputs:{title:"title",xAxisLabels:"xAxisLabels",series:"series",legendLabels:"legendLabels",chartHeight:"chartHeight",showDataZoom:"showDataZoom"},features:[rn],decls:5,vars:2,consts:[["chartContainer",""],[1,"w-full","min-h-[12rem]","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"relative","w-full","min-h-[200px]","md:min-h-[200px]","overflow-hidden","touch-pan-x","touch-pan-y"],[1,"w-full","h-full",3,"options","initOpts"]],template:function(r,o){r&1&&(p(0,"div",1)(1,"div",2)(2,"div",3,0),O(4,"echarts",4),h()()()),r&2&&(g(4),x("options",o.chartOptions)("initOpts",o.initOpts))},dependencies:[We,xv,bv],encapsulation:2});let n=t;return n})();function iye(n,t){n&1&&(p(0,"div",1)(1,"p",2),y(2,"No holdings to display"),h()())}function rye(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instrument"))}}function oye(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("quantity"))}}function aye(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("averagePrice"))}}function sye(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("dayChangePercentage"))}}function lye(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("investedAmount"))}}function cye(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("currentValue"))}}function uye(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("dayPnl"))}}function dye(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("netChangePercentage"))}}function fye(n,t){if(n&1&&O(0,"fa-icon",28),n&2){let e=M().$implicit,i=M(3);x("matTooltip","Review Pledge. Pledge Qty: "+e.collateralQuantity)("icon",i.faTriangleExclamation)}}function pye(n,t){if(n&1&&(p(0,"div",29),O(1,"app-market-depth-invoker",35),h()),n&2){let e=M().$implicit;g(),x("title",e.instrument)("instrumentToken",e.instrumentToken)}}function mye(n,t){if(n&1&&(y(0),$(1,"number")),n&2){let e=M().$implicit;H(" ",X(1,1,e.quantity,"1.0-0")," ")}}function hye(n,t){if(n&1&&(y(0),$(1,"number")),n&2){let e=M().$implicit;H(" ",X(1,1,e.quantity,"1.2-2")," ")}}function gye(n,t){if(n&1){let e=ee();At(0),p(1,"tr",24)(2,"td",25)(3,"div",26)(4,"span",27),y(5),h(),Gt(6,fye,1,2,"fa-icon",28),Gt(7,pye,2,2,"div",29),h()(),p(8,"td",30),Gt(9,mye,2,4)(10,hye,2,4),h(),p(11,"td",30),y(12),$(13,"number"),h(),p(14,"td",30)(15,"span",31),y(16),$(17,"number"),p(18,"span",32),y(19),$(20,"percent"),h()()(),p(21,"td",30),y(22),$(23,"number"),h(),p(24,"td",30),y(25),$(26,"number"),h(),p(27,"td",30)(28,"span",31),y(29),$(30,"number"),p(31,"span",32),y(32),$(33,"percent"),h()()(),p(34,"td",30)(35,"span",31),y(36),$(37,"number"),p(38,"span",32),y(39),$(40,"percent"),h()()(),p(41,"td",33)(42,"app-action-menu",34),z("handleAction",function(r){k(e);let o=M(3);return N(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(4),x("matTooltip",e.instrument),g(),H(" ",e.instrument," "),g(),Wt(i.isScopeToPledge(e)?6:-1),g(),Wt(e.type==="Stocks"?7:-1),g(2),Wt(e.type==="Stocks"?9:10),g(3),H(" ",X(13,31,e.averagePrice,"1.2-2")," "),g(3),x("ngClass",i.color(e.dayChangePercentage)),g(),H(" ",X(17,34,e.lastPrice,"1.2-2")," "),g(2),Ce("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),g(),H(" ",X(20,37,e.dayChangePercentage/100,"1.2-2")," "),g(3),H(" \u20B9",X(23,40,e.investedAmount,"1.2-2")," "),g(3),H(" \u20B9",X(26,43,e.currentValue,"1.2-2")," "),g(3),x("ngClass",i.color(e.dayChangePercentage)),g(),H(" ",X(30,46,e.dayPnl,"1.2-2")," "),g(2),Ce("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),g(),H(" ",X(33,49,e.dayChangePercentage/100,"1.2-2")," "),g(3),x("ngClass",i.color(e.netChangePercentage)),g(),H(" ",X(37,52,e.netPnl,"1.2-2")," "),g(2),Ce("bg-green-50",e.netChangePercentage>0)("bg-red-50",e.netChangePercentage<0),g(),H(" ",X(40,55,e.netChangePercentage/100,"1.2-2")," "),g(3),x("row",e)("actions",i.getActionButtons(e))}}function vye(n,t){n&1&&(p(0,"tr")(1,"td",36),O(2,"div",37),h()())}function yye(n,t){if(n&1&&(At(0),p(1,"tr",15)(2,"td",16),O(3,"app-user-info-header",17),h(),p(4,"td",18),y(5),$(6,"number"),h(),p(7,"td",18),y(8),$(9,"number"),h(),p(10,"td",19)(11,"span",20),y(12),$(13,"number"),h(),p(14,"span",21),y(15),$(16,"percent"),h()(),p(17,"td",19)(18,"span",20),y(19),$(20,"number"),h(),p(21,"span",21),y(22),$(23,"percent"),h()(),O(24,"td",22),h(),A(25,gye,43,58,"ng-container",13)(26,vye,3,0,"tr",23),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("fullName",e.fullName||e.userName)("userName",e.userName||e.userId)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(2),H(" \u20B9",X(6,26,e.totalInvestment,"1.2-2")," "),g(3),H(" \u20B9",X(9,29,e.currentValue,"1.2-2")," "),g(3),x("ngClass",r.color(e.daysPnL)),g(),H(" \u20B9",X(13,32,e.daysPnL,"1.2-2")," "),g(2),Ce("bg-green-50",e.daysPnL>0)("bg-red-50",e.daysPnL<0),x("ngClass",r.color(e.daysPnL)),g(),H(" ",X(16,35,e.daysPnLPercentage,"1.2-2")," "),g(3),x("ngClass",r.color(e.totalPnL)),g(),H(" \u20B9",X(20,38,e.totalPnL,"1.2-2")," "),g(2),Ce("bg-green-50",e.totalPnL>0)("bg-red-50",e.totalPnL<0),x("ngClass",r.color(e.totalPnL)),g(),H(" ",X(23,41,e.totalPnLPercentage,"1.2-2")," "),g(3),x("ngForOf",e.holdings)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function _ye(n,t){if(n&1){let e=ee();p(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("instrument"))}),y(6," INSTRUMENT "),A(7,rye,2,1,"span",8),h()(),p(8,"th",9)(9,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("quantity"))}),y(10," QTY "),A(11,oye,2,1,"span",8),h()(),p(12,"th",9)(13,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("averagePrice"))}),y(14," AVG "),A(15,aye,2,1,"span",8),h()(),p(16,"th",9)(17,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("dayChangePercentage"))}),y(18," LTP "),A(19,sye,2,1,"span",8),h()(),p(20,"th",9)(21,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("investedAmount"))}),y(22," INVESTED "),A(23,lye,2,1,"span",8),h()(),p(24,"th",9)(25,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("currentValue"))}),y(26," CURRENT "),A(27,cye,2,1,"span",8),h()(),p(28,"th",9)(29,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("dayPnl"))}),y(30," DAY P&L "),A(31,uye,2,1,"span",8),h()(),p(32,"th",9)(33,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("netChangePercentage"))}),y(34," NET P&L "),A(35,dye,2,1,"span",8),h()(),p(36,"th",11),y(37,"ACTIONS"),h()()(),p(38,"tbody",12),A(39,yye,27,44,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("instrument")),g(4),x("ngIf",e.getSortIndicator("quantity")),g(4),x("ngIf",e.getSortIndicator("averagePrice")),g(4),x("ngIf",e.getSortIndicator("dayChangePercentage")),g(4),x("ngIf",e.getSortIndicator("investedAmount")),g(4),x("ngIf",e.getSortIndicator("currentValue")),g(4),x("ngIf",e.getSortIndicator("dayPnl")),g(4),x("ngIf",e.getSortIndicator("netChangePercentage")),g(4),x("ngForOf",e.sortedGroupedHoldings)("ngForTrackBy",e.trackByUser)}}var uZ=(()=>{let t=class t{constructor(){this.groupedHoldings=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new be,this.expandedInstrument=null,this.faTriangleExclamation=eu,this.sortColumn="dayChangePercentage",this.sortDirection="desc",this.sortAccessors={instrument:i=>(i.instrument??"").toString().toLowerCase(),quantity:i=>i.quantity??0,averagePrice:i=>i.averagePrice??0,dayChangePercentage:i=>i.dayChangePercentage??0,investedAmount:i=>i.investedAmount??0,currentValue:i=>i.currentValue??0,dayPnl:i=>i.dayPnl??0,netChangePercentage:i=>i.netChangePercentage??0}}getActionButtons(i){let r=this.actions;return i.type==="Mutual Funds"&&(r=r.filter(o=>o.action!=="screenerIn"&&o.action!=="yahooFinance"&&o.action!=="chart"&&o.action!=="exit")),i.type==="Stocks"&&(r=r.filter(o=>o.action!=="coinReport")),r}handleAction(i){this.handleClickAction.emit(i)}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}toggleInstrument(i){}trackByUser(i,r){return r.userId}trackBySequenceNumber(i,r){return r.sequenceNumber}isScopeToPledge(i){return(i.quantity-i.collateralQuantity)*i.lastPrice>2e4}get sortedGroupedHoldings(){return!this.sortColumn||!this.sortDirection?this.groupedHoldings:this.groupedHoldings.map(i=>De(Q({},i),{holdings:[...i.holdings??[]].sort((r,o)=>this.compareHoldings(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["dayChangePercentage","netChangePercentage"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareHoldings(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l=0;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-holdings-table"]],inputs:{groupedHoldings:"groupedHoldings",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","4",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","fullName","userName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","text-right","font-medium","whitespace-nowrap"],[1,"px-2","md:px-4","text-right","whitespace-nowrap"],[1,"font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"],[1,"px-2","md:px-4","text-center","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left",3,"matTooltip"],[1,"text-orange-600","flex-shrink-0","text-sm",3,"matTooltip","icon"],[1,"flex","items-center","justify-center","gap-2"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],[3,"title","instrumentToken"],["colspan","9",1,"py-1"],[1,"border-b","border-dashed","border-gray-200"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,iye,3,0,"div",1)(2,_ye,40,10,"div"),h()),r&2&&(g(),Wt(!o.groupedHoldings||o.groupedHoldings.length===0?1:2))},dependencies:[We,Oe,Ae,ye,Fa,Bt,at,jr,Oo,ln,$n],encapsulation:2});let n=t;return n})();var Cv=(()=>{let t=class t{constructor(i){this.api=i}getHoldings(){return this.api.get("/v1/holdings")}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var bye=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function xye(n,t){n&1&&O(0,"span",20)}function Cye(n,t){if(n&1){let e=ee();p(0,"div",17),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.setActiveTab(r))}),y(1),p(2,"span",18),y(3),h(),A(4,xye,1,0,"span",19),h()}if(n&2){let e=t.$implicit,i=M(2);Ce("active-tab",e===i.activeTab)("text-gray-700",e!==i.activeTab),g(),H(" ",e," "),g(),x("ngClass",Qe(8,bye,e===i.activeTab,e!==i.activeTab)),g(),H(" ",i.tabCounts[e]," "),g(),x("ngIf",e===i.activeTab)}}function Sye(n,t){if(n&1&&(p(0,"div",9)(1,"a",21),O(2,"fa-icon",22),y(3," SIPs "),h()()),n&2){let e=M(2);g(2),x("icon",e.faMoneyBillTrendUp)}}function wye(n,t){if(n&1){let e=ee();p(0,"div",23)(1,"app-holdings-table",24),z("handleClickAction",function(r){k(e);let o=M(2);return N(o.handleAction(r))}),h()()}if(n&2){let e=M(2);g(),x("groupedHoldings",e.groupedHoldings)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function Mye(n,t){n&1&&(p(0,"div",23)(1,"app-note",25),y(2," You don't have any holdings in this section. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function Tye(n,t){if(n&1){let e=ee();p(0,"div")(1,"div",3)(2,"div",4),A(3,Cye,5,11,"div",5),h(),A(4,Sye,4,1,"div",6),h(),O(5,"app-holdings-summary",7),p(6,"div",8)(7,"div",9)(8,"app-tool-bar",10),z("filtersChanged",function(r){k(e);let o=M();return N(o.applyFilters(r))})("handleRefresh",function(r){k(e);let o=M();return N(o.handleRefresh(r))})("toggleChart",function(){k(e);let r=M();return N(r.toggleChart())}),h()(),O(9,"div",11),p(10,"div",9)(11,"app-user-filter",12),z("selectAllUsers",function(){k(e);let r=M();return N(r.onAllUserSelection())})("selectUsers",function(r){k(e);let o=M();return N(o.onUserSelection(r))})("totalUsers",function(r){k(e);let o=M();return N(o.captureUsers(r))}),h()(),p(12,"div",9)(13,"app-search-input",13),z("inputChange",function(r){k(e);let o=M();return N(o.onSearch(r))}),h()()(),p(14,"div",14),O(15,"app-timeline-chart",15),h(),A(16,wye,2,3,"div",16)(17,Mye,3,3,"ng-template",null,0,Tn),h()}if(n&2){let e=pn(18),i=M();g(3),x("ngForOf",i.tabs),g(),x("ngIf",i.activeTab==="Mutual Funds"),g(),x("totalInvestment",i.totalInvestment)("currentValue",i.currentValue)("daysPnL",i.daysPnL)("daysPnLPercentage",i.daysPnLPercentage)("totalPnL",i.totalPnL)("totalPnLPercentage",i.totalPnLPercentage),g(3),x("isLoadingData",i.isLoadingData)("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("showChartButton",!0),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search holdings by User ID or Instrument")("searchTerm",i.searchQuery),g(),x("@expandCollapse",i.showChart?"expanded":"collapsed"),g(),x("title","Portfolio Performance")("xAxisLabels",i.dateLabels)("legendLabels",i.legendLabels)("series",i.series)("showDataZoom",!0),g(),x("ngIf",i.groupedHoldings.length>0)("ngIfElse",e)}}var fZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d){this.holdingService=i,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.utilsService=l,this.dialog=c,this.overlay=u,this.document=d,this.instrumentTokens=[],this.users=[],this.tabs=["All","Stocks","Mutual Funds"],this.tabCounts={All:0,Stocks:0,"Mutual Funds":0},this.activeTab="All",this.holdings=[],this.filteredHoldings=[],this.groupedHoldings=[],this.historicalTimelineValues=[],this.errorMessage="",this.totalInvestment=0,this.currentValue=0,this.daysPnL=0,this.daysPnLPercentage=0,this.totalPnL=0,this.totalPnLPercentage=0,this.selectedUserIds=[],this.searchQuery="",this.filterOptions=[{key:"type",values:["STOCKS","MUTUAL FUNDS"]}],this.actions=[{action:"exit",color:"red",label:"Exit"},{action:"chart",color:"gray",label:"View Chart"},{action:"screenerIn",color:"gray",label:"Screener.in"},{action:"yahooFinance",color:"gray",label:"Yahoo Finance"},{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"Holding Details"}],this.isLoadingData=!1,this.filterSelection=[],this.fallbackAvatarUrl=ui,this.faMoneyBillTrendUp=gg,this.faTriangleExclamation=eu,this.showChart=!1,this.dateLabels=[],this.legendLabels=[],this.series=[]}ngOnInit(){this.cellTemplates={};let i=this.userViewStateService.getState();this.activeTab=i.holdings.selectedHoldingType,this.selectedUserIds=i.holdings.selectedUsersIds,this.searchQuery=i.holdings.searchQuery,i.holdings.filterSelection?.length>0&&(this.filterSelection=i.holdings.filterSelection),this.getCachedData(),this.fetchHoldings(),this.fetchHistoricalTimelineValues()}handleAction(i){if(i.action==="exit")this.openAddOrExitOrderDialog(i.row,"exit");else if(i.action==="chart")window.open(U9(i.row.exchange,i.row.instrument),"_blank","noopener,noreferrer");else if(i.action==="screenerIn")window.open(GU(i.row.instrument),"_blank","noopener,noreferrer");else if(i.action==="yahooFinance"){let r=i.row.exchange==="NSE"?"NS":i.row.exchange==="BSE"?"BO":"NS";window.open(WU(i.row.instrument,r),"_blank","noopener,noreferrer")}else i.action==="coinReport"?window.open(y5(i.row.tradingSymbol),"_blank","noopener,noreferrer"):i.action==="info"&&this.utilsService.showInfo(i.row,`Holding Details - ${i.row.instrument}`)}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}ngAfterViewInit(){}fetchHistoricalTimelineValues(i){this.utilsService.fetchHistoricalTimelineValues("holdings").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.holdings&&(this.holdings=i.holdings,this.renderHoldings()))}setCachedData(){this.userDataStateService.setState({holdings:this.holdings})}renderHoldings(){this.updateCounts(),this.updateFilteredAndGroupedHoldings()}fetchHoldings(i){this.isLoadingData=!0,this.holdingService.getHoldings().subscribe({next:r=>{this.holdings=r.data,this.renderHoldings(),this.instrumentTokens=this.holdings.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}updateCounts(){let i=0;this.tabs.forEach(r=>{let o=this.holdings.filter(a=>a.type===r).length;i+=o,this.tabCounts[r]=o}),this.tabCounts.All=i}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(tt(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updateHoldingsOnUpdate(i)})):console.log("No instrument tokens available for web socket subscription.")}updateHoldingsOnUpdate(i){i.forEach(r=>{this.holdings.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a&&a.lastPrice!==r.lastTradedPrice&&(a.lastPrice=r.lastTradedPrice,a.currentValue=a.quantity*r.lastTradedPrice,a.netPnl=a.currentValue-a.investedAmount,a.netChangePercentage=a.netPnl/a.investedAmount*100,a.dayChangePercentage=(r.lastTradedPrice-r.closePrice)/r.closePrice*100,a.dayPnl=a.dayChangePercentage*(a.quantity*r.closePrice)/100)})}),this.calculateSummary(),this.updateGroupSummaries()}calculateGroupSummary(i){let r=i.reduce((u,d)=>u+(d.investedAmount||0),0),o=i.reduce((u,d)=>u+(d.currentValue||0),0),a=i.reduce((u,d)=>u+(d.dayPnl||0),0),s=i.reduce((u,d)=>u+(d.netPnl||0),0),l=a/r||0,c=s/r||0;return{totalInvestment:r,currentValue:o,daysPnL:a,totalPnL:s,daysPnLPercentage:l,totalPnLPercentage:c}}updateGroupSummaries(){this.groupedHoldings.forEach(i=>{let r=this.calculateGroupSummary(i.holdings);Object.assign(i,r)})}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState(),this.populateTimelineChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedHoldings(),this.saveUserViewState(),this.populateTimelineChartData()}captureUsers(i){this.users=i}onSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({holdings:{selectedUsersIds:this.selectedUserIds,selectedHoldingType:this.activeTab,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}calculateSummary(){let i=0,r=0,o=0,a=0;this.filteredHoldings.forEach(s=>{i+=s.investedAmount||0,r+=s.currentValue||0,o+=s.dayPnl||0,a+=s.netPnl||0}),this.totalInvestment=i,this.currentValue=r,this.daysPnL=o,this.daysPnLPercentage=o/i||0,this.totalPnL=a,this.totalPnLPercentage=a/i||0}setActiveTab(i){this.activeTab=i,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}hideChildSummary(i){return this.selectedUserIds.length===1||this.users.length===1||this.holdings.filter(r=>r.userId===i.userId).length===1}updateFilteredAndGroupedHoldings(){let i=this.holdings;this.activeTab!=="All"&&(i=i.filter(o=>o.type===this.activeTab)),this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.instrument.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i)),this.filteredHoldings=i;let r={};this.filteredHoldings.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedHoldings=Object.entries(r).map(([o,a])=>Q({userId:o,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o),holdings:a},this.calculateGroupSummary(a))),this.calculateSummary()}applyFilters(i){this.filterSelection=i,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}handleRefresh(i){this.fetchHoldings(i)}toggleChart(){this.showChart=!this.showChart}populateTimelineChartData(){let i=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.dateLabels=i.dateLabels,this.legendLabels=i.legendLabels,this.series=i.series}openAddOrExitOrderDialog(i,r){let o={exchange:i.exchange,tradingSymbol:i.tradingSymbol,instrumentToken:i.instrumentToken,lastPrice:i.lastPrice,quantity:i.quantity,displayName:i.instrument,segment:i.exchange,tradingAccountId:i.userId},a={isBuyMode:!1,isCopy:!1,isExitPosition:!1,product:"CNC"};r==="exit"&&(a.isBuyMode=!1,a.isExitPosition=!0),this.dialog.open(d0,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:Q({},o)}}).afterClosed().subscribe(l=>{l&&this.fetchHoldings()})}};t.\u0275fac=function(r){return new(r||t)(V(Cv),V(sr),V(Un),V(Dn),V(nt),V(In),V(Xn),V(Vr),V(Te))},t.\u0275cmp=ie({type:t,selectors:[["app-holdings"]],decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","flex-shrink-0",4,"ngIf"],[3,"totalInvestment","currentValue","daysPnL","daysPnLPercentage","totalPnL","totalPnLPercentage"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","toggleChart","isLoadingData","filterOptions","filterSelection","showChartButton"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],["routerLink","/mf",1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","text-gray-700","hover:bg-gray-100","hover:text-blue-500","relative","flex","items-center","gap-2"],[1,"text-sm",3,"icon"],[1,"page-content"],[3,"handleClickAction","groupedHoldings","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(p(0,"div",1),A(1,Tye,19,23,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[We,Oe,Ae,ye,hn,za,nr,sZ,Lo,Va,wu,lr,at,uZ],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();var Eye=n=>({opacity:n});function Dye(n,t){n&1&&(p(0,"div",1)(1,"p",2),y(2,"No positions to display"),h()())}function Iye(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instrument"))}}function Lye(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("quantity"))}}function Aye(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("averagePrice"))}}function zye(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("change"))}}function kye(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("value"))}}function Nye(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("dayPnl"))}}function Pye(n,t){if(n&1&&(p(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("netPnl"))}}function Oye(n,t){if(n&1){let e=ee();p(0,"input",38),z("change",function(){k(e);let r=M().$implicit,o=M(3);return N(o.togglePositionSelection(r))}),h()}if(n&2){let e=M().$implicit,i=M(3);x("checked",i.isPositionSelected(e))}}function Rye(n,t){if(n&1){let e=ee();At(0),p(1,"tr",26)(2,"td",27),A(3,Oye,1,1,"input",28),h(),p(4,"td",29)(5,"div",30),O(6,"app-small-chip",31),p(7,"span",32),y(8),h(),O(9,"app-market-depth-invoker",33)(10,"app-small-chip",31)(11,"app-small-chip",31),h()(),p(12,"td",34)(13,"span",35),y(14),$(15,"number"),h()(),p(16,"td",34),y(17),$(18,"number"),h(),p(19,"td",34)(20,"span",35),y(21),$(22,"number"),p(23,"span",36),y(24),$(25,"percent"),h()()(),p(26,"td",34),y(27),$(28,"currency"),h(),p(29,"td",34)(30,"span",35),y(31),$(32,"currency"),h()(),p(33,"td",34)(34,"span",35),y(35),$(36,"currency"),h()(),p(37,"td",34)(38,"app-action-menu",37),z("handleAction",function(r){k(e);let o=M(3);return N(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(),x("ngStyle",bi(56,Eye,e.position.netQuantity===0?.5:1)),g(2),x("ngIf",e.position.netQuantity!==0),g(3),x("text",i.getTransactionType(e.position.netQuantity))("color",i.getTransactionTypeChipColor(e.position.netQuantity)),g(),x("title",e.displayName),g(),H(" ",e.displayName," "),g(),x("title",e.displayName)("instrumentToken",e.position.instrumentToken),g(),x("text",e.position.product)("color",e.position.product==="MIS"?"orange":"purple"),g(),x("text",e.position.exchange)("color","gray"),g(2),x("ngClass",i.quantityColor(e.position.netQuantity)),g(),H(" ",X(15,29,e.position.netQuantity,"1.0-2")," "),g(3),H(" ",X(18,32,e.position.averagePrice,"1.2-2")," "),g(3),x("ngClass",i.color(e.position.change)),g(),H(" ",X(22,35,e.position.lastPrice,"1.2-2")," "),g(2),Ce("bg-green-50",e.position.change>0)("bg-red-50",e.position.change<0),g(),H(" ",X(25,38,e.position.change/100,"1.2-2")," "),g(3),H(" ",lt(28,41,e.position.value,"INR","symbol","1.2-2")," "),g(3),x("ngClass",i.color(e.dayPnl)),g(),H(" ",lt(32,46,e.dayPnl,"INR","symbol","1.2-2")," "),g(3),x("ngClass",i.color(e.position.pnl)),g(),H(" ",lt(36,51,e.position.pnl,"INR","symbol","1.2-2")," "),g(3),x("row",e)("actions",i.getActionButtons(e))}}function Fye(n,t){n&1&&(p(0,"tr")(1,"td",39),O(2,"div",40),h()())}function Bye(n,t){if(n&1&&(At(0),p(1,"tr",17)(2,"td",18)(3,"div",19),O(4,"app-user-info-header",20),p(5,"span",21),y(6),$(7,"currency"),h(),p(8,"span",21),y(9),$(10,"currency"),h()()(),p(11,"td",22)(12,"span",23),y(13),$(14,"number"),h()(),p(15,"td",22)(16,"span",23),y(17),$(18,"number"),h()(),O(19,"td",24),h(),A(20,Rye,39,58,"ng-container",15)(21,Fye,3,0,"tr",25),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(4),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(),x("ngClass",e.availableFunds<0?"text-red-600":"text-blue-600"),g(),H(" Utilized: ",lt(7,16,e.utilizedFunds,"INR","symbol","1.0-0")," "),g(2),x("ngClass",e.availableFunds<0?"text-red-600":"text-green-600"),g(),H(" Available: ",lt(10,21,e.availableFunds,"INR","symbol","1.0-0")," "),g(3),x("ngClass",r.color(e.daysPnL)),g(),H(" \u20B9",X(14,26,e.daysPnL,"1.2-2")," "),g(3),x("ngClass",r.color(e.totalPnL)),g(),H(" \u20B9",X(18,29,e.totalPnL,"1.2-2")," "),g(3),x("ngForOf",e.positions)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function Vye(n,t){if(n&1){let e=ee();p(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"input",7),z("change",function(){k(e);let r=M();return N(r.toggleSelectAll())}),h()(),p(6,"th",8)(7,"button",9),z("click",function(){k(e);let r=M();return N(r.setSort("instrument"))}),y(8," INSTRUMENT "),A(9,Iye,2,1,"span",10),h()(),p(10,"th",11)(11,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("quantity"))}),y(12," QTY "),A(13,Lye,2,1,"span",10),h()(),p(14,"th",11)(15,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("averagePrice"))}),y(16," AVG "),A(17,Aye,2,1,"span",10),h()(),p(18,"th",11)(19,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("change"))}),y(20," LTP "),A(21,zye,2,1,"span",10),h()(),p(22,"th",11)(23,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("value"))}),y(24," VALUE "),A(25,kye,2,1,"span",10),h()(),p(26,"th",11)(27,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("dayPnl"))}),y(28," DAY P&L "),A(29,Nye,2,1,"span",10),h()(),p(30,"th",11)(31,"button",12),z("click",function(){k(e);let r=M();return N(r.setSort("netPnl"))}),y(32," NET P&L "),A(33,Pye,2,1,"span",10),h()(),p(34,"th",13),y(35,"ACTIONS"),h()()(),p(36,"tbody",14),A(37,Bye,22,32,"ng-container",15),h()()()}if(n&2){let e=M();g(5),x("checked",e.isAllSelected)("indeterminate",e.isSomeSelected),g(4),x("ngIf",e.getSortIndicator("instrument")),g(4),x("ngIf",e.getSortIndicator("quantity")),g(4),x("ngIf",e.getSortIndicator("averagePrice")),g(4),x("ngIf",e.getSortIndicator("change")),g(4),x("ngIf",e.getSortIndicator("value")),g(4),x("ngIf",e.getSortIndicator("dayPnl")),g(4),x("ngIf",e.getSortIndicator("netPnl")),g(4),x("ngForOf",e.sortedGroupedPositions)("ngForTrackBy",e.trackByUser)}}var DD=(()=>{let t=class t{constructor(){this.groupedPositions=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new be,this.selectedPositionsChange=new be,this.sortColumn="netPnl",this.sortDirection="desc",this.selectedPositions=new Set,this.sortAccessors={instrument:i=>(i.displayName??"").toString().toLowerCase(),quantity:i=>i.position?.netQuantity??0,averagePrice:i=>i.position?.averagePrice??0,change:i=>i.position?.change??0,value:i=>i.position?.value??0,dayPnl:i=>i.dayPnl??0,netPnl:i=>i.position?.pnl??0}}get sortedGroupedPositions(){return!this.sortColumn||!this.sortDirection?this.groupedPositions:this.groupedPositions.map(i=>De(Q({},i),{positions:[...i.positions??[]].sort((r,o)=>this.comparePositions(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["dayPnl","netPnl","change"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}comparePositions(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l=0;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}getActionButtons(i){let r=this.actions;return i.position.netQuantity===0&&(r=r.filter(o=>o.action!=="exit")),r}handleAction(i){this.handleClickAction.emit(i)}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}quantityColor(i){return i>0?"text-blue-600":i<0?"text-red-600":""}trackByUser(i,r){return r.userId}trackBySequenceNumber(i,r){return r.sequenceNumber}getTransactionType(i){return i>0?"BUY":i<0?"SELL":"EXITED"}getTransactionTypeChipColor(i){return i>0?"blue":i<0?"red":"gray"}get allExitablePositions(){return this.groupedPositions.flatMap(i=>i.positions.filter(r=>r.position.netQuantity!==0))}get isAllSelected(){let i=this.allExitablePositions;return i.length>0&&i.every(r=>this.selectedPositions.has(r))}get isSomeSelected(){return this.allExitablePositions.some(r=>this.selectedPositions.has(r))&&!this.isAllSelected}toggleSelectAll(){this.isAllSelected?this.allExitablePositions.forEach(i=>this.selectedPositions.delete(i)):this.allExitablePositions.forEach(i=>this.selectedPositions.add(i)),this.emitSelectedPositions()}togglePositionSelection(i){this.selectedPositions.has(i)?this.selectedPositions.delete(i):this.selectedPositions.add(i),this.emitSelectedPositions()}isPositionSelected(i){return this.selectedPositions.has(i)}emitSelectedPositions(){this.selectedPositionsChange.emit(Array.from(this.selectedPositions))}clearSelection(){this.selectedPositions.clear(),this.emitSelectedPositions()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-positions-table"]],inputs:{groupedPositions:"groupedPositions",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction",selectedPositionsChange:"selectedPositionsChange"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center","w-12"],["type","checkbox","title","Select/Unselect all exitable positions",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked","indeterminate"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[1,"flex","items-center","gap-2","flex-wrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"inline-flex","items-center","rounded-md","px-2","py-0.5","text-sm","whitespace-nowrap",3,"ngClass"],[1,"px-2","md:px-4","text-right","whitespace-nowrap"],[1,"font-medium",3,"ngClass"],[1,"px-2","md:px-4","text-center","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngStyle"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],["type","checkbox","class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer","title","Select position for bulk exit",3,"checked","change",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"truncate","max-w-xs",3,"title"],[3,"title","instrumentToken"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[3,"handleAction","row","actions"],["type","checkbox","title","Select position for bulk exit",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked"],["colspan","11",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,Dye,3,0,"div",1)(2,Vye,38,11,"div"),h()),r&2&&(g(),Wt(!o.groupedPositions||o.groupedPositions.length===0?1:2))},dependencies:[We,Oe,Ae,ye,Vf,Fa,jr,Oo,gn,hn,ln,$n,Si],encapsulation:2});let n=t;return n})();var pZ=(n,t,e)=>({"text-green-600":n,"text-red-600":t,"text-gray-700":e});function Uye(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Maximum Profit"),h(),p(3,"span",4),y(4),$(5,"currency"),h()()),n&2){let e=M();g(4),H(" ",lt(5,1,e.maxProfit,"INR","symbol","1.2-2")," ")}}function Hye(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Day's P&L"),h(),p(3,"span",5),y(4),$(5,"currency"),h()()),n&2){let e=M();g(3),x("ngClass",mn(7,pZ,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),g(),H(" ",lt(5,2,e.daysPnL,"INR","symbol","1.2-2")," ")}}function jye(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Total P&L"),h(),p(3,"span",5),y(4),$(5,"currency"),h()()),n&2){let e=M();g(3),x("ngClass",mn(7,pZ,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),g(),H(" ",lt(5,2,e.totalPnL,"INR","symbol","1.2-2")," ")}}function Gye(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Profit Left"),h(),p(3,"span",6),y(4),$(5,"currency"),h()()),n&2){let e=M();g(4),H(" ",lt(5,1,e.profitLeft,"INR","symbol","1.2-2")," ")}}var mZ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-position-summary"]],inputs:{maxProfit:"maxProfit",profitLeft:"profitLeft",daysPnL:"daysPnL",totalPnL:"totalPnL"},decls:5,vars:4,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"],[1,"text-base","font-medium","mt-1",3,"ngClass"],[1,"text-base","font-medium","text-gray-600","mt-1"]],template:function(r,o){r&1&&(p(0,"div",0),A(1,Uye,6,6,"div",1)(2,Hye,6,11,"div",1)(3,jye,6,11,"div",1)(4,Gye,6,6,"div",1),h()),r&2&&(g(),x("ngIf",o.maxProfit!==void 0),g(),x("ngIf",o.daysPnL!==void 0),g(),x("ngIf",o.totalPnL!==void 0),g(),x("ngIf",o.profitLeft!==void 0))},dependencies:[We,Oe,ye,Si],encapsulation:2});let n=t;return n})();var Wye=["chartContainer"],hZ=(()=>{let t=class t{constructor(){this.title="",this.xAxisLabels=[],this.series=[],this.legendLabels=[],this.chartHeight="280",this.showDataZoom=!0,this.initOpts={renderer:"canvas",width:"auto",height:"auto"},this.chartOptions={},this.resizeListener=()=>this.updateChartSize(),this.isMobile=!1}ngOnInit(){this.checkMobile(),this.buildChartOptions()}ngOnChanges(){this.buildChartOptions()}ngAfterViewInit(){this.updateChartSize(),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}checkMobile(){this.isMobile=window.innerWidth<768}updateChartSize(){if(this.checkMobile(),this.chartContainer){let i=this.chartContainer.nativeElement.parentElement.offsetWidth,r=this.isMobile?Math.min(300,window.innerHeight*.4):parseInt(this.chartHeight);this.initOpts={renderer:"canvas",width:i+"px",height:r+"px"},this.buildChartOptions()}}buildChartOptions(){this.chartOptions={title:{text:this.title,textStyle:{fontSize:this.isMobile?12:14},left:this.isMobile?"center":"left"},tooltip:{trigger:"axis",confine:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#ccc",borderWidth:1,textStyle:{fontSize:this.isMobile?11:12},formatter:i=>{let r=i[0].axisValue,o=i.map(a=>{let s=a.value,l=this.formatValue(a.seriesName,s);return`${a.marker} ${a.seriesName}: ${l}`}).join("<br/>");return`<strong>${r}</strong><br/>${o}`}},legend:{data:this.legendLabels,orient:"horizontal",top:this.isMobile?25:5,left:"center",textStyle:{fontSize:this.isMobile?10:12},itemWidth:this.isMobile?15:25,itemHeight:this.isMobile?8:14},grid:{left:this.isMobile?"5%":"3%",right:this.isMobile?"5%":"4%",bottom:this.isMobile?"12%":"10%",top:this.isMobile?"25%":"20%",containLabel:!0},toolbox:{show:!this.isMobile,top:0,right:50,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:this.showDataZoom?[{type:"slider",start:0,end:100,height:this.isMobile?20:30,textStyle:{fontSize:this.isMobile?10:12}},{type:"inside",start:0,end:100}]:[],xAxis:{type:"category",boundaryGap:!0,data:this.xAxisLabels,axisLabel:{fontSize:this.isMobile?9:11,rotate:this.isMobile?45:0,interval:"auto",hideOverlap:!0,showMaxLabel:!0,showMinLabel:!0}},yAxis:{type:"value",axisLabel:{fontSize:this.isMobile?9:11,formatter:i=>this.isMobile&&Math.abs(i)>=1e3?(i/1e3).toFixed(0)+"k":i.toLocaleString()}},series:this.series.map(i=>Q({type:"bar"},i))}}formatValue(i,r){if(r==null||isNaN(r))return"0.00";let o={minimumFractionDigits:this.isMobile?0:2,maximumFractionDigits:2};return i.includes("%")?`${r.toFixed(this.isMobile?1:2)}%`:i.toLowerCase().includes("pnl")?`${r>=0?"+":""}\u20B9${r.toLocaleString(void 0,o)}`:`\u20B9${r.toLocaleString(void 0,o)}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-bar-chart"]],viewQuery:function(r,o){if(r&1&&Rn(Wye,5),r&2){let a;an(a=sn())&&(o.chartContainer=a.first)}},inputs:{title:"title",xAxisLabels:"xAxisLabels",series:"series",legendLabels:"legendLabels",chartHeight:"chartHeight",showDataZoom:"showDataZoom"},features:[rn],decls:5,vars:2,consts:[["chartContainer",""],[1,"w-full","min-h-[12rem]","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"relative","w-full","min-h-[200px]","md:min-h-[200px]","overflow-hidden","touch-pan-x","touch-pan-y"],[1,"w-full","h-full",3,"options","initOpts"]],template:function(r,o){r&1&&(p(0,"div",1)(1,"div",2)(2,"div",3,0),O(4,"echarts",4),h()()()),r&2&&(g(4),x("options",o.chartOptions)("initOpts",o.initOpts))},dependencies:[We,xv,bv],styles:["[_nghost-%COMP%]{display:block;width:100%}.echarts[_ngcontent-%COMP%]{width:100%;height:100%}"]});let n=t;return n})();var Sv=(()=>{let t=class t{constructor(i){this.api=i}getPositions(){return this.api.get("/v1/positions")}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function qye(n,t){if(n&1){let e=ee();p(0,"div",13)(1,"app-positions-table",14),z("handleClickAction",function(r){k(e);let o=M(2);return N(o.handleAction(r))})("selectedPositionsChange",function(r){k(e);let o=M(2);return N(o.onSelectedPositionsChange(r))}),h()()}if(n&2){let e=M(2);g(),x("groupedPositions",e.groupedPositionsWithUserInfo)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function $ye(n,t){n&1&&(p(0,"div",13)(1,"app-note",15),y(2," You don't have any active positions at the moment. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function Yye(n,t){if(n&1){let e=ee();p(0,"div"),O(1,"app-position-summary",3),p(2,"div",4)(3,"div",5)(4,"app-tool-bar",6),z("filtersChanged",function(r){k(e);let o=M();return N(o.applyFilters(r))})("handleRefresh",function(r){k(e);let o=M();return N(o.handleRefresh(r))})("toggleChart",function(){k(e);let r=M();return N(r.toggleChart())})("charges",function(){k(e);let r=M();return N(r.viewCharges())})("exit",function(){k(e);let r=M();return N(r.exitSelectedPositions())}),h()(),O(5,"div",7),p(6,"div",5)(7,"app-user-filter",8),z("selectAllUsers",function(){k(e);let r=M();return N(r.onAllUserSelection())})("selectUsers",function(r){k(e);let o=M();return N(o.onUserSelection(r))})("totalUsers",function(r){k(e);let o=M();return N(o.captureUsers(r))}),h()(),p(8,"div",5)(9,"app-search-input",9),z("inputChange",function(r){k(e);let o=M();return N(o.onSearch(r))}),h()()(),p(10,"div",10),O(11,"app-bar-chart",11),h(),p(12,"div",10),O(13,"app-charges-summary"),h(),A(14,qye,2,3,"div",12)(15,$ye,3,3,"ng-template",null,0,Tn),h()}if(n&2){let e=pn(16),i=M();g(),x("maxProfit",i.maxProfit)("totalPnL",i.totalPnL)("daysPnL",i.totalDayPnL)("profitLeft",i.profitLeft),g(3),x("isLoadingData",i.isLoadingData)("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("showChartButton",!0)("showChargesButton",!0)("showExitButton",i.selectedPositions.length>0)("exitButtonLabel","Exit Selected ("+i.selectedPositions.length+")"),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search positions by User ID or Instrument")("searchTerm",i.searchQuery),g(),x("@expandCollapse",i.showChart?"expanded":"collapsed"),g(),x("title",i.barChartTitle)("xAxisLabels",i.barChartXAxisLabels)("series",i.barChartSeries)("legendLabels",i.barChartLegendLabels)("chartHeight","280")("showDataZoom",!0),g(),x("@expandCollapse",i.showCharges?"expanded":"collapsed"),g(2),x("ngIf",i.groupedPositions.length>0)("ngIfElse",e)}}var vZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f,m,v){this.positionsService=i,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.dialog=l,this.fundsService=c,this.ordersService=u,this.utilsService=d,this.overlay=f,this.alertService=m,this.document=v,this.users=[],this.instrumentTokens=[],this.funds=[],this.charges=[],this.filterCharges=[],this.positions=[],this.filteredPositions=[],this.groupedPositions=[],this.selectedPositions=[],this.errorMessage="",this.maxProfit=0,this.profitLeft=0,this.totalPnL=0,this.totalDayPnL=0,this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=ui,this.filterSelection=[],this.historicalTimelineValues=[],this.filterOptions=[{key:"position.product",values:["NRML","CNC","MIS"]},{key:"position.exchange",values:["NFO","BFO","NSE","BSE"]},{key:"custom.type",values:["BUY","SELL","EXITED"]}],this.barChartXAxisLabels=[],this.barChartSeries=[],this.barChartLegendLabels=["Daily EOD PnL"],this.barChartTitle="Daily EOD PnL",this.isLoadingData=!1,this.actions=[{action:"copy",color:"blue",label:"Copy Position"},{action:"exit",color:"red",label:"Exit Position"},{action:"info",color:"gray",label:"Position Details"}],this.showChart=!1,this.showCharges=!1,this.legendLabels=[],this.series=[],this.positionsForExit=[]}ngOnInit(){let i=this.userViewStateService.getState();this.selectedUserIds=i.positions.selectedUsersIds,this.searchQuery=i.positions.searchQuery,i.positions.filterSelection?.length>0&&(this.filterSelection=i.positions.filterSelection),this.getCachedData(),this.fetchPositions(),this.fetchFunds(),this.fetchCharges(),this.fetchHistoricalTimelineValues()}calculateGroupSummary(i){i=i.filter(l=>l.position.product==="NRML");let r=i.reduce((l,c)=>l+(c.dayPnl||0),0),o=i.reduce((l,c)=>l+(c.position.pnl||0),0),a=i.reduce((l,c)=>l+((c.position.sellValue||0)-(c.position.buyValue||0)),0),s=a-o;return{daysPnL:r,totalPnL:o,maxProfit:a,profitLeft:s}}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}getUtilizedFunds(i){return this.funds.find(r=>r.userId===i)?.margin?.utilised?.debits||0}getAvailableFunds(i){return this.funds.find(r=>r.userId===i)?.margin?.net||0}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.positions&&(this.positions=i.positions,this.renderPositions()),i.funds&&(this.funds=i.funds))}setCachedData(){this.userDataStateService.setState({positions:this.positions,funds:this.funds})}renderPositions(){this.updateFilteredAndGroupedPositions()}fetchPositions(i){this.isLoadingData=!0,this.positionsService.getPositions().subscribe({next:r=>{this.positions=r.data,this.renderPositions(),this.instrumentTokens=this.positions.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData(),this.positionTableComponent&&this.positionTableComponent.clearSelection()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching positions. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}fetchFunds(i){this.fundsService.getFunds().subscribe({next:r=>{this.funds=r.data,this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}fetchCharges(i){this.ordersService.fetchCharges().subscribe({next:r=>{this.charges=r.data,this.filterChargesBySelectedUsers()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching charges. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}fetchHistoricalTimelineValues(){this.utilsService.fetchHistoricalTimelineValues("positions").subscribe({next:i=>{this.historicalTimelineValues=i.data||[],this.prepareBarChartData()},error:i=>{this.toastrService.error("Failed to fetch historical positions timeline data","Error"),this.historicalTimelineValues=[],this.prepareBarChartData()}})}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(tt(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updatePositionsOnUpdate(i)})):console.log("No instrument tokens available for web socket subscription.")}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedPositions(),this.filterChargesBySelectedUsers(),this.saveUserViewState(),this.prepareBarChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedPositions(),this.filterChargesBySelectedUsers(),this.saveUserViewState(),this.prepareBarChartData()}captureUsers(i){this.users=i}onSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedPositions(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({positions:{selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}filterChargesBySelectedUsers(){this.selectedUserIds.length!==0?this.filterCharges=this.charges.filter(i=>this.selectedUserIds.includes(i.userId)):this.filterCharges=this.charges,this.chargesSummaryComponent&&this.chargesSummaryComponent.showChargesDetails(this.filterCharges)}updateFilteredAndGroupedPositions(){let i=this.positions;this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.displayName.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i),i=this.filterCustomType(i)),this.filteredPositions=i;let r={};this.filteredPositions.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o),o.position.change=0,o.position.value=o.position.value<0?-1*o.position.value:o.position.value}),this.groupedPositions=Object.entries(r).map(([o,a])=>Q({userId:o,positions:a},this.calculateGroupSummary(a))),this.calculateSummary()}filterCustomType(i){let r=this.filterSelection.find(o=>o.key==="custom.type"&&o.selected.length>0);return r&&(i=i.filter(o=>{let a=o.position.netQuantity;return r.selected.some(l=>l==="BUY"?a>0:l==="SELL"?a<0:l==="EXITED"?a===0:!1)})),i}calculateSummary(){let i=0,r=0,o=0,a=0;this.filteredPositions.filter(l=>l.position.product==="NRML").forEach(l=>{o+=l.position.sellValue-l.position.buyValue,i+=l.position.pnl||0,r+=l.dayPnl||0,a=o-i}),this.totalPnL=i,this.totalDayPnL=r,this.maxProfit=o,this.profitLeft=a}prepareBarChartData(){let i=this.utilsService.populatePositionsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.barChartXAxisLabels=i.dateLabels,this.barChartSeries=i.series,this.barChartLegendLabels=i.legendLabels}updatePositionsOnUpdate(i){i.forEach(r=>{this.positions.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a.position.change=r.change;let s=r.change,l=r.closePrice;if(a.position.daySellQuantity*-1===a.position.netQuantity?(l=a.position.sellPrice,s=(r.lastTradedPrice-l)/l*100):a.position.dayBuyQuantity===a.position.netQuantity&&(l=a.position.buyPrice,s=(r.lastTradedPrice-l)/l*100),a.dayPnl=s*(a.position.netQuantity*l)/100,a&&a.position.lastPrice!==r.lastTradedPrice){if(a.position.lastPrice=r.lastTradedPrice,a.position.netQuantity<0){let c=(a.position.sellPrice-a.position.buyPrice)*a.position.buyQuantity,u=(a.position.sellPrice-r.lastTradedPrice)*a.position.netQuantity*-1;a.position.pnl=c+u}else if(a.position.netQuantity>0){let c=(a.position.sellPrice-a.position.buyPrice)*a.position.sellQuantity,u=(r.lastTradedPrice-a.position.buyPrice)*a.position.netQuantity;a.position.pnl=c+u}}})}),this.updateGroupSummaries(),this.calculateSummary()}updateGroupSummaries(){this.groupedPositions.forEach(i=>{let r=this.calculateGroupSummary(i.positions);Object.assign(i,r)})}get groupedPositionsWithUserInfo(){return this.groupedPositions.map(i=>De(Q({},i),{userName:this.getUserName(i.userId),fullName:this.getUserFullName(i.userId),utilizedFunds:this.getUtilizedFunds(i.userId),availableFunds:this.getAvailableFunds(i.userId),avatarUrl:this.getAvatarUrl(i.userId)}))}handleAction(i){i.action==="exit"?this.openAddOrExitOrderDialog(i.row,i.action):i.action==="copy"?this.openAddOrExitOrderDialog(i.row,i.action):i.action==="info"&&this.utilsService.showInfo(i.row,`Position Details - ${i.row.displayName}`)}openAddOrExitOrderDialog(i,r){let o={exchange:i.position.exchange,tradingSymbol:i.position.tradingSymbol,instrumentToken:i.instrumentToken,lastPrice:i.position.lastPrice,product:i.position.product,quantity:i.position.netQuantity<0?-1*i.position.netQuantity:i.position.netQuantity,displayName:i.displayName,segment:i.position.segment||i.position.exchange,tradingAccountId:i.userId},a={isBuyMode:!1,isCopy:!1,isExitPosition:!1,product:i.position.product};r==="copy"?(a.isBuyMode=i.position.netQuantity>0,a.isCopy=!0):r==="exit"&&(a.isBuyMode=i.position.netQuantity<0,a.isExitPosition=!0),this.dialog.open(d0,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:Q({},o)}}).afterClosed().subscribe(l=>{})}applyFilters(i){this.filterSelection=i,this.updateFilteredAndGroupedPositions(),this.saveUserViewState()}handleRefresh(i){this.fetchPositions(i),this.fetchFunds(i),this.fetchCharges(i),this.fetchHistoricalTimelineValues()}toggleChart(){this.showChart=!this.showChart}toggleCharges(){this.showCharges=!this.showCharges}viewCharges(){this.toggleCharges()}storeSelectedPositions(i){this.positionsForExit=i}onSelectedPositionsChange(i){this.selectedPositions=i}exitSelectedPositions(){if(this.selectedPositions.length===0){this.toastrService.warning("No positions selected","Warning");return}let i=this.selectedPositions.length;this.alertService.confirm(`Exit ${i} Position${i>1?"s":""}?`,`Are you sure you want to exit ${i} selected position${i>1?"s":""} at market price? This action cannot be undone.`,()=>{this.processBulkExit()})}processBulkExit(){let i=this.selectedPositions.length,r=0,o=0,a=0,s=[];this.selectedPositions.forEach(l=>{this.exitPosition(l).pipe(Ut(c=>Me({error:!0,id:l.userId,displayName:l.displayName,message:c?.error?.message||"Unknown error"}))).subscribe({next:c=>{r++,s.push({positionDetails:l,result:c,error:"error"in c&&c.error}),"error"in c&&c.error?(a++,console.error(`\u274C Position exit failed for ${l.displayName}:`,c),this.toastrService.error(`Position exit failed for ${l.displayName}: ${c.message}`,"Position Exit Error")):(o++,console.log(`\u2705 Position exit successful for ${l.displayName}. Order ID: ${c.data.orderId}`),this.toastrService.success(`Position ${l.displayName} exited successfully. Order ID: ${c.data.orderId}`,"Position Exit Success")),r===i&&this.showBulkExitSummary(s,o,a)},error:c=>{r++,a++,console.error(`Fatal error for position ${l.displayName}:`,c),s.push({positionDetails:l,result:{error:!0,id:l.userId,displayName:l.displayName,message:"Stream error - Something went wrong in the processing pipeline"},error:!0}),this.toastrService.error(`Fatal error while exiting ${l.displayName}`,"Fatal Error"),r===i&&this.showBulkExitSummary(s,o,a)}})})}showBulkExitSummary(i,r,o){this.fetchPositions(),this.selectedPositions=[],this.positionTableComponent&&this.positionTableComponent.clearSelection();let a=r+o,s=`Bulk Exit Summary:
`;if(s+=`\u2705 Succeeded: ${r}
`,s+=`\u274C Failed: ${o}
`,s+=`Total: ${a}`,r>0&&o>0){let l=i.filter(c=>c.error).map(c=>`\u2022 ${c.positionDetails.displayName}: ${c.result.message}`).join(`
`);this.alertService.info("Bulk Exit Completed",`${s}

Failed Positions:
${l}`,()=>{console.log("Bulk exit summary acknowledged")})}else if(o>0){let l=i.map(c=>`\u2022 ${c.positionDetails.displayName}: ${c.result.message}`).join(`
`);this.alertService.info("Bulk Exit Failed",`${s}

Failed Positions:
${l}`,()=>{console.log("Bulk exit summary acknowledged")})}else{let l=i.map(c=>`\u2022 ${c.positionDetails.displayName} - Order ID: ${c.result.data.orderId}`).join(`
`);this.alertService.info("Bulk Exit Successful",`${s}

Exited Positions:
${l}`,()=>{console.log("Bulk exit summary acknowledged")})}}exitPosition(i){let r=i.position.netQuantity>0?"SELL":"BUY",a={quantity:Math.abs(i.position.netQuantity),orderType:"MARKET",tradingsymbol:i.position.tradingSymbol,product:i.position.product,exchange:i.position.exchange,transactionType:r,validity:"DAY",price:0,triggerPrice:0,tag:"famvest-bulk-exit"},s={tradingAccountId:i.userId,orderParams:a};return this.ordersService.placeOrder(s,"regular")}};t.\u0275fac=function(r){return new(r||t)(V(Sv),V(sr),V(Un),V(Dn),V(nt),V(Xn),V(Ss),V(Cs),V(In),V(Vr),V(Fo),V(Te))},t.\u0275cmp=ie({type:t,selectors:[["app-positions"]],viewQuery:function(r,o){if(r&1&&(Rn(Su,5),Rn(DD,5)),r&2){let a;an(a=sn())&&(o.chargesSummaryComponent=a.first),an(a=sn())&&(o.positionTableComponent=a.first)}},decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[3,"maxProfit","totalPnL","daysPnL","profitLeft"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","toggleChart","charges","exit","isLoadingData","filterOptions","filterSelection","showChartButton","showChargesButton","showExitButton","exitButtonLabel"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","series","legendLabels","chartHeight","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","selectedPositionsChange","groupedPositions","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(p(0,"div",1),A(1,Yye,17,24,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[za,We,ye,nr,DD,mZ,Va,lr,hZ,Su],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 150px);min-height:calc(100vh - var(--header-height, 80px) - 150px)}"],data:{animation:[Pi]}});let n=t;return n})();function Zye(n,t){if(n&1&&(p(0,"div")(1,"div",4)(2,"div",5)(3,"h2",6),O(4,"fa-icon",7),y(5,"Available Margin"),h()(),p(6,"p",8),y(7),$(8,"currency"),h(),p(9,"span",9),y(10,"(Cash + Collateral)"),h()(),p(11,"div",10)(12,"div",11)(13,"p",12),O(14,"fa-icon",13),y(15,"Available Cash"),h(),p(16,"p",14),y(17),$(18,"currency"),h()(),p(19,"div",11)(20,"p",12),O(21,"fa-icon",15),y(22,"Used Margin"),h(),p(23,"p",14),y(24),$(25,"currency"),h()()(),p(26,"div",16)(27,"h3",17),y(28,"Breakdown"),h(),p(29,"div",18)(30,"div",19)(31,"span"),y(32,"Opening Balance"),h(),p(33,"span"),y(34),$(35,"currency"),h()(),p(36,"div",19)(37,"span"),y(38,"Payin"),h(),p(39,"span"),y(40),$(41,"currency"),h()(),p(42,"div",19)(43,"span"),y(44,"SPAN"),h(),p(45,"span"),y(46),$(47,"currency"),h()(),p(48,"div",19)(49,"span"),y(50,"Delivery Margin"),h(),p(51,"span"),y(52),$(53,"currency"),h()(),p(54,"div",19)(55,"span"),y(56,"Exposure"),h(),p(57,"span"),y(58),$(59,"currency"),h()(),p(60,"div",19)(61,"span"),y(62,"Option Premium"),h(),p(63,"span"),y(64),$(65,"currency"),h()(),p(66,"div",20)(67,"span",21),y(68,"Total Collateral Margin"),h(),p(69,"span",14),y(70),$(71,"currency"),h()()()()()),n&2){let e=M();g(4),x("icon",e.faWallet),g(3),j(lt(8,13,e.consolidatedFunds.net,"INR","symbol","1.2-2")),g(7),x("icon",e.faDollarSign),g(3),j(lt(18,18,e.consolidatedFunds.availableCash,"INR","symbol","1.2-2")),g(4),x("icon",e.faMoneyBillTrendUp),g(3),j(lt(25,23,e.consolidatedFunds.usedMargin,"INR","symbol","1.2-2")),g(10),j(lt(35,28,e.consolidatedFunds.openingBalance,"INR","symbol","1.2-2")),g(6),j(lt(41,33,e.consolidatedFunds.payin,"INR","symbol","1.2-2")),g(6),j(lt(47,38,e.consolidatedFunds.span,"INR","symbol","1.2-2")),g(6),j(lt(53,43,e.consolidatedFunds.holdingSales,"INR","symbol","1.2-2")),g(6),j(lt(59,48,e.consolidatedFunds.exposure,"INR","symbol","1.2-2")),g(6),j(lt(65,53,e.consolidatedFunds.optionPremium,"INR","symbol","1.2-2")),g(6),j(lt(71,58,e.consolidatedFunds.totalCollateral,"INR","symbol","1.2-2"))}}var yZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.fundsService=i,this.userViewStateService=r,this.userDataStateService=o,this.toastrService=a,this.document=s,this.funds=[],this.consolidatedFunds={},this.errorMessage="",this.users=[],this.selectedUserIds=[],this.faDollarSign=pg,this.faMoneyBillTrendUp=gg,this.faWallet=K6}ngOnInit(){let i=this.userViewStateService.getState();this.selectedUserIds=i.funds.selectedUsersIds,this.getCachedData(),this.fetchFunds()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.funds&&(this.funds=i.funds,this.getConsolidateFunds())}setCachedData(){this.userDataStateService.setState({funds:this.funds})}fetchFunds(){this.fundsService.getFunds().subscribe({next:i=>{this.funds=i.data,this.getConsolidateFunds(),this.setCachedData()},error:i=>{i.error.message?this.toastrService.error(i.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${i.error.status}, Error Message: ${i.error.message}`}})}resetConsolidatedFunds(){this.consolidatedFunds={net:0,availableCash:0,usedMargin:0,span:0,exposure:0,optionPremium:0,payin:0,holdingSales:0,openingBalance:0,totalCollateral:0}}getConsolidateFunds(){this.resetConsolidatedFunds();let i=this.funds;this.selectedUserIds.length>0&&(i=i.filter(r=>this.selectedUserIds.includes(r.userId))),i.forEach(r=>{this.consolidatedFunds.net+=Number(r.margin.net),this.consolidatedFunds.availableCash+=Number(r.margin.available.liveBalance),this.consolidatedFunds.usedMargin+=Number(r.margin.utilised.debits),this.consolidatedFunds.span+=Number(r.margin.utilised.span),this.consolidatedFunds.exposure+=Number(r.margin.utilised.exposure),this.consolidatedFunds.optionPremium+=Number(r.margin.utilised.optionPremium),this.consolidatedFunds.payin+=Number(r.margin.available.intradayPayin),this.consolidatedFunds.holdingSales+=Number(r.margin.utilised.holdingSales),this.consolidatedFunds.totalCollateral+=Number(r.margin.available.collateral)})}captureUsers(i){this.users=i}onUserSelection(i){this.selectedUserIds=i,this.getConsolidateFunds(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.getConsolidateFunds(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({funds:{selectedUsersIds:this.selectedUserIds}})}};t.\u0275fac=function(r){return new(r||t)(V(Ss),V(Un),V(Dn),V(nt),V(Te))},t.\u0275cmp=ie({type:t,selectors:[["app-funds"]],decls:4,vars:2,consts:[[1,"page-container"],[1,"flex","justify-end","items-center","mb-4"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[4,"ngIf"],[1,"bg-white","border","rounded-md","p-6","mb-6","flex","flex-col","items-center"],[1,"flex","flex-row","items-center"],[1,"text-xl","font-semibold","text-gray-600","m-0"],[1,"text-blue-500","mr-2",3,"icon"],[1,"text-2xl","font-medium","text-gray-600"],[1,"text-base","text-gray-400"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"bg-white","border","rounded-md","p-4","flex","flex-col","items-center"],[1,"text-gray-600","text-base"],[1,"text-green-600","mr-2","text-base",3,"icon"],[1,"text-base","font-medium","text-gray-600"],[1,"text-red-600","mr-2","text-base",3,"icon"],[1,"bg-white","border","rounded-md","p-6"],[1,"text-base","text-gray-600","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-gray-700"],[1,"flex","justify-between"],[1,"flex","justify-between","col-span-2","border-t","pt-4","mt-2"],[1,"text-base","text-gray-600"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1)(2,"app-user-filter",2),z("selectAllUsers",function(){return o.onAllUserSelection()})("selectUsers",function(s){return o.onUserSelection(s)})("totalUsers",function(s){return o.captureUsers(s)}),h()(),A(3,Zye,72,63,"div",3),h()),r&2&&(g(2),x("selectedUserIds",o.selectedUserIds),g(),x("ngIf",!o.errorMessage))},dependencies:[We,ye,at,nr,Si],encapsulation:2});let n=t;return n})();var go=(()=>{let t=class t{constructor(i,r){this.authUserService=i,this.router=r}canActivate(i,r){if(this.authUserService.isAuthenticated())return r.url==="/login"?(this.router.navigate(["/home"]),!1):!0;if(r.url!=="/login")this.router.navigate(["/login"]);else return!0;return!1}};t.\u0275fac=function(r){return new(r||t)(ae(ar),ae(un))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Xye(n,t){if(n&1&&(p(0,"div",66),y(1),h()),n&2){let e=M();g(),H(" ",e.infoMessage," ")}}function Qye(n,t){n&1&&(p(0,"p",69),y(1,"Email is required"),h())}function Kye(n,t){n&1&&(p(0,"p",69),y(1,"Please enter a valid email address"),h())}function Jye(n,t){if(n&1&&(p(0,"div",67),A(1,Qye,2,0,"p",68)(2,Kye,2,0,"p",68),h()),n&2){let e,i,r=M();g(),x("ngIf",(e=r.loginForm.get("email"))==null||e.errors==null?null:e.errors.required),g(),x("ngIf",(i=r.loginForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function e_e(n,t){if(n&1&&O(0,"fa-icon",72),n&2){let e=M(2);x("icon",e.faSpinner)}}function t_e(n,t){if(n&1){let e=ee();p(0,"button",70),z("click",function(){k(e);let r=M();return N(r.sendOtp())}),A(1,e_e,1,1,"fa-icon",71),y(2),h()}if(n&2){let e=M();x("disabled",e.isSendingOtp),g(),x("ngIf",e.isSendingOtp),g(),H(" ",e.isSendingOtp?"Sending...":"Send OTP"," ")}}function n_e(n,t){n&1&&(p(0,"div",73)(1,"div",11),Ht(),p(2,"svg",74),O(3,"path",75),h(),zn(),p(4,"span",76),y(5,"OTP sent successfully!"),h()()())}function i_e(n,t){n&1&&(p(0,"p",69),y(1,"Password is required"),h())}function r_e(n,t){if(n&1&&(p(0,"div",67),A(1,i_e,2,0,"p",68),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.loginForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function o_e(n,t){if(n&1){let e=ee();p(0,"div")(1,"label",77),y(2," Password "),p(3,"span",38),y(4,"*"),h()(),p(5,"div",39),O(6,"input",78),p(7,"button",79),z("click",function(){k(e);let r=M();return N(r.showPassword=!r.showPassword)}),O(8,"fa-icon",80),h()(),A(9,r_e,2,1,"div",44),h()}if(n&2){let e,i=M();g(6),x("type",i.showPassword?"text":"password"),g(2),x("icon",i.showPassword?i.faEyeSlash:i.faEye),g(),x("ngIf",((e=i.loginForm.get("password"))==null?null:e.touched)&&((e=i.loginForm.get("password"))==null?null:e.invalid))}}function a_e(n,t){n&1&&(p(0,"p",69),y(1,"OTP is required"),h())}function s_e(n,t){if(n&1&&(p(0,"div",67),A(1,a_e,2,0,"p",68),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.loginForm.get("otp"))==null||e.errors==null?null:e.errors.required)}}function l_e(n,t){if(n&1&&(p(0,"div")(1,"label",81),y(2," Enter 6-digit OTP "),p(3,"span",38),y(4,"*"),h()(),O(5,"input",82),A(6,s_e,2,1,"div",44),h()),n&2){let e,i=M();g(6),x("ngIf",((e=i.loginForm.get("otp"))==null?null:e.touched)&&((e=i.loginForm.get("otp"))==null?null:e.invalid))}}var _Z=(()=>{let t=class t{constructor(i,r,o,a,s){this.authUserService=i,this.toastrService=r,this.router=o,this.fb=a,this.route=s,this.loginUsingOtp=!0,this.otpSent=!1,this.isSendingOtp=!1,this.infoMessage=null,this.faSpinner=ko,this.showPassword=!1,this.faEye=ds,this.faEyeSlash=Yl,this.loginForm=this.fb.group({email:["",[Ue.required,Ue.email]],password:[""],otp:[""]}),this.route.queryParams.subscribe(l=>{l.reason==="session-expired"?this.infoMessage="Your session has expired. Please log in again.":l.reason==="logged-out"?this.infoMessage="You have been logged out. Please log in again.":l.reason==="username-changed"?this.infoMessage="Your username has been changed. Please log in with your new username.":l.reason==="password-changed"?this.infoMessage="Your password has been changed successfully. Please log in with your new password.":this.infoMessage=null})}login(){this.authUserService.resetLoggingOutFlag();let i=this.loginForm.get("email")?.value,r=this.loginForm.get("password")?.value,o=this.loginForm.get("otp")?.value;if(!i||this.loginForm.get("email")?.invalid){this.loginForm.get("email")?.markAsTouched();return}if(!r&&!this.loginUsingOtp){this.loginForm.get("password")?.markAsTouched();return}if(!o&&this.loginUsingOtp){this.loginForm.get("otp")?.markAsTouched();return}this.authUserService.login({email:i,password:r,otp:o}).subscribe({next:a=>{this.authUserService.setAuthenticated(!0),this.router.navigate(["/home"])},error:a=>{a.error.message?this.toastrService.error(a.error.message,"Error"):this.toastrService.error("An unexpected error occurred while login. Verify that the backend service is operational.","Error")}})}sendOtp(){this.isSendingOtp=!0;let i=this.loginForm.get("email")?.value;if(!i||this.loginForm.get("email")?.invalid){this.loginForm.get("email")?.markAsTouched(),this.isSendingOtp=!1;return}this.authUserService.sendLoginOtp({email:i}).subscribe({next:r=>{this.isSendingOtp=!1,this.otpSent=!0,this.toastrService.success("An OTP has been sent to your email address. Please check your inbox and spam folder.","Success")},error:r=>{this.isSendingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while sending OTP. Verify that the backend service is operational.","Error")}})}toLowerCase(i){let r=i.target;r.value=r.value.toLowerCase(),this.loginForm.get("email")?.setValue(r.value,{emitEvent:!1})}};t.\u0275fac=function(r){return new(r||t)(V(ar),V(nt),V(un),V(Rr),V(Nr))},t.\u0275cmp=ie({type:t,selectors:[["app-login"]],decls:137,vars:11,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","via-white","to-indigo-50"],[1,"flex","flex-col","lg:flex-row","min-h-screen"],[1,"lg:w-1/2","bg-gradient-to-br","from-blue-600","via-blue-700","to-indigo-800","text-white","flex","flex-col","justify-center","p-8","lg:p-16"],[1,"max-w-md","mx-auto","lg:mx-0"],[1,"flex","items-center","mb-6"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","height","48","width","48",1,"w-12","h-10","rounded-lg","mr-3","shadow-lg","mb-4"],[1,"text-3xl","font-bold"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6","leading-tight"],[1,"text-blue-200"],[1,"text-xl","text-blue-100","mb-8","leading-relaxed"],[1,"space-y-4"],[1,"flex","items-center"],[1,"w-8","h-8","bg-blue-500","rounded-full","flex","items-center","justify-center","mr-4"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-blue-100"],[1,"grid","grid-cols-2","gap-6","mt-12","pt-8","border-t","border-blue-500"],[1,"text-center"],[1,"text-3xl","font-bold","text-blue-200"],[1,"text-sm","text-blue-300"],[1,"mt-5","border","p-2","rounded-md","text-sm","text-blue-100"],[1,"text-lg","font-bold","text-blue-200","mb-4","flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","mr-1","text-green-500"],["fill-rule","evenodd","d","M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"space-y-3"],[1,"font-medium","text-blue-100"],[1,"font-semibold"],[1,"lg:w-1/2","flex","items-center","justify-center","p-8","lg:p-16"],[1,"w-full","max-w-md"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-gray-100","p-1","rounded-lg","mb-6"],[1,"grid","grid-cols-2","gap-1"],["type","button",1,"py-2","px-4","rounded-md","text-sm","font-medium","transition-all",3,"click"],["class","mb-4 p-3 bg-yellow-50 border border-yellow-300 text-yellow-800 rounded-lg text-center",4,"ngIf"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],[1,"relative"],["formControlName","email","type","text","id","email","required","","placeholder","Enter your email address",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all",3,"input"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["class","mt-2",4,"ngIf"],["type","button","class","mt-3 w-full px-4 py-2 bg-blue-100 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 transition-all flex items-center justify-center gap-2",3,"disabled","click",4,"ngIf"],["class","mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","justify-between","text-sm"],["href","#",1,"text-blue-600","hover:text-blue-500","transition-colors"],[1,"text-gray-500"],["type","submit",1,"w-full","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","py-3","px-4","rounded-lg","font-medium","hover:from-blue-700","hover:to-blue-800","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-8","mb-6"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-4","bg-white","text-gray-500"],["routerLink","/signup",1,"mb-2","w-full","bg-white","border-2","border-blue-600","text-blue-600","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-50","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-5","text-xs","text-gray-500"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"flex","items-center","justify-center","space-x-6","text-xs","text-gray-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-green-500"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-blue-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-purple-500"],["fill-rule","evenodd","d","M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z","clip-rule","evenodd"],[1,"mb-4","p-3","bg-yellow-50","border","border-yellow-300","text-yellow-800","rounded-lg","text-center"],[1,"mt-2"],["class","text-red-500 text-sm",4,"ngIf"],[1,"text-red-500","text-sm"],["type","button",1,"mt-3","w-full","px-4","py-2","bg-blue-100","border","border-blue-300","text-blue-700","rounded-lg","hover:bg-blue-200","disabled:opacity-50","transition-all","flex","items-center","justify-center","gap-2",3,"click","disabled"],["class","fa-spin",3,"icon",4,"ngIf"],[1,"fa-spin",3,"icon"],[1,"mt-2","p-3","bg-green-50","border","border-green-200","rounded-lg"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-green-400","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","text-green-700","font-medium"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","password","id","password","required","","placeholder","Enter your password","autocomplete","current-password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","pr-12",3,"type"],["type","button","tabindex","-1",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[1,"h-5","w-5",3,"icon"],["for","otp",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","otp","type","text","id","otp","required","","placeholder","000000","maxlength","6","autocomplete","one-time-code",1,"w-full","px-4","py-3","tracking-widest","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"]],template:function(r,o){if(r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),O(5,"img",5),p(6,"h1",6),y(7,"FamVest"),h()(),p(8,"h2",7),y(9," Your Family's"),O(10,"br"),p(11,"span",8),y(12,"Financial Future"),h()(),p(13,"p",9),y(14," Track, analyze, and manage your family's investments in one secure place. Make informed decisions with powerful analytics and reporting tools. "),h(),p(15,"div",10)(16,"div",11)(17,"div",12),Ht(),p(18,"svg",13),O(19,"path",14),h()(),zn(),p(20,"span",15),y(21,"Centralized Portfolio Tracking"),h()(),p(22,"div",11)(23,"div",12),Ht(),p(24,"svg",13),O(25,"path",14),h()(),zn(),p(26,"span",15),y(27,"Performance Analytics & Reports"),h()(),p(28,"div",11)(29,"div",12),Ht(),p(30,"svg",13),O(31,"path",14),h()(),zn(),p(32,"span",15),y(33,"Secure Family Access"),h()()(),p(34,"div",16)(35,"div",17)(36,"div",18),y(37,"30+"),h(),p(38,"div",19),y(39,"Active Users"),h()(),p(40,"div",17)(41,"div",18),y(42,"\u20B93Cr+"),h(),p(43,"div",19),y(44,"Assets Managed"),h()()()(),p(45,"div",20)(46,"h3",21),Ht(),p(47,"svg",22),O(48,"path",23),h(),y(49," How Your Data is Secured "),h(),zn(),p(50,"div",24)(51,"p")(52,"span",25),y(53,"\u{1F510} End-to-End Encryption:"),h(),y(54," All sensitive information such as passwords, API keys, and TOTP secrets are encrypted using "),p(55,"span",26),y(56,"AES-256"),h(),y(57," before being stored. Communication between your browser and servers uses "),p(58,"span",26),y(59,"TLS 1.3 (HTTPS)"),h(),y(60," to ensure data-in-transit security. "),h(),p(61,"p")(62,"span",25),y(63,"\u{1F9F1} Isolated Data Storage:"),h(),y(64," Each user's financial data is securely isolated at the database layer using unique identifiers. Application-level access control ensures your family\u2019s data is never mixed with others. "),h(),p(65,"p")(66,"span",25),y(67,"\u{1F9E0} Secure Secrets Management:"),h(),y(68," API keys, trading credentials, and authentication tokens are encrypted using a "),p(69,"span",26),y(70,"dedicated key management system (KMS)"),h(),y(71," and never stored in plain text. "),h()()()(),p(72,"div",27)(73,"div",28)(74,"div",29)(75,"h2",30),y(76,"Welcome Back!"),h(),p(77,"p",31),y(78,"Sign in to access your portfolio"),h()(),p(79,"div",32)(80,"div",33)(81,"button",34),z("click",function(){return o.loginUsingOtp=!0}),y(82," OTP Login "),h(),p(83,"button",34),z("click",function(){return o.loginUsingOtp=!1}),y(84," Password Login "),h()()(),A(85,Xye,2,1,"div",35),p(86,"form",36),z("ngSubmit",function(){return o.login()}),p(87,"div")(88,"label",37),y(89," Email Address "),p(90,"span",38),y(91,"*"),h()(),p(92,"div",39)(93,"input",40),z("input",function(s){return o.toLowerCase(s)}),h(),p(94,"div",41),Ht(),p(95,"svg",42),O(96,"path",43),h()()(),A(97,Jye,3,2,"div",44)(98,t_e,3,3,"button",45)(99,n_e,6,0,"div",46),h(),A(100,o_e,10,3,"div",47)(101,l_e,7,1,"div",47),zn(),p(102,"div",48)(103,"a",49),y(104," Forgot Password? "),h(),p(105,"span",50),y(106,"Need help?"),h()(),p(107,"button",51),y(108," Sign In to FamVest "),h()(),p(109,"div",52)(110,"div",39)(111,"div",53),O(112,"div",54),h(),p(113,"div",55)(114,"span",56),y(115,"New to FamVest?"),h()()()(),p(116,"div",17)(117,"button",57),y(118," Create Your Family Account "),h(),p(119,"p",58),y(120," Start managing your family's investments today."),O(121,"br"),y(122," Free to get started \u2022 No credit card required "),h()(),p(123,"div",59)(124,"div",60)(125,"div",11),Ht(),p(126,"svg",61),O(127,"path",62),h(),y(128," SSL Secured "),h(),zn(),p(129,"div",11),Ht(),p(130,"svg",63),O(131,"path",23),h(),y(132," Encrypted Storage "),h(),zn(),p(133,"div",11),Ht(),p(134,"svg",64),O(135,"path",65),h(),y(136," Data Isolation "),h()()()()()()()),r&2){let a,s;g(81),Fn(o.loginUsingOtp?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),g(2),Fn(o.loginUsingOtp?"text-gray-600 hover:text-gray-800":"bg-white text-blue-600 shadow-sm"),g(2),x("ngIf",o.infoMessage),g(),x("formGroup",o.loginForm),g(11),x("ngIf",((a=o.loginForm.get("email"))==null?null:a.touched)&&((a=o.loginForm.get("email"))==null?null:a.invalid)),g(),x("ngIf",o.loginUsingOtp&&((s=o.loginForm.get("email"))==null?null:s.valid)),g(),x("ngIf",o.otpSent&&o.loginUsingOtp),g(),x("ngIf",!o.loginUsingOtp),g(),x("ngIf",o.loginUsingOtp)}},dependencies:[hn,Or,Yt,Zt,Pr,mo,Wc,We,ye,kr,di,_r,br,Lo,at],encapsulation:2});let n=t;return n})();var Mu=(()=>{let t=class t{constructor(i,r){this.api=i,this.http=r}getWatchlist(){return this.api.get("/v1/watchlist")}searchInstruments(i){return this.api.get(`/v1/watchlist/instruments?search=${i}`)}saveWatchListInstrument(i,r){return this.api.post(`/v1/watchlist/${i}/watchlistInstruments`,r)}deleteWatchListInstrument(i,r){return this.api.delete(`/v1/watchlist/${i}/watchlistInstruments/${r}`)}updateWatchlistName(i,r){return this.api.patch(`/v1/watchlist/${i}`,{name:r})}reorderWatchlistInstruments(i,r){return this.api.post(`/v1/watchlist/${i}/reorder`,r)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt),ae(kl))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var wv=(()=>{let t=class t{constructor(){this.addToBasketSubject=new me,this.addToBasket$=this.addToBasketSubject.asObservable()}emitAddToBasket(i){this.addToBasketSubject.next(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var c_e=(n,t,e)=>({"cursor-pointer":n,"cursor-not-allowed text-gray-400":t,"underline decoration-dotted decoration-2":e}),u_e=(n,t)=>({"bg-blue-100 text-blue-700 font-medium":n,"text-gray-600 hover:bg-gray-100":t});function d_e(n,t){if(n&1){let e=ee();p(0,"app-action-button",20),z("handleAction",function(){k(e);let r=M();return N(r.toggleCollapse())}),h()}n&2&&x("noIconBackground",!0)("title","Show Watchlist")("action","enlargeRight")("color","gray")}function f_e(n,t){n&1&&(p(0,"span",23),y(1,"(edit)"),h())}function p_e(n,t){if(n&1){let e=ee();At(0),p(1,"label",21),z("click",function(){k(e);let r=M();return N(r.onWatchlistNameClick())})("mouseenter",function(){k(e);let r=M();return N(r.onWatchlistNameMouseEnter())})("mouseleave",function(){k(e);let r=M();return N(r.onWatchlistNameMouseLeave())}),y(2),h(),A(3,f_e,2,0,"span",22),zt()}if(n&2){let e=M();g(),x("ngClass",mn(4,c_e,!e.isCurrentWatchlistReserved,e.isCurrentWatchlistReserved,e.isNameHovered&&!e.isCurrentWatchlistReserved))("matTooltip",e.isCurrentWatchlistReserved?"This name cannot be edited":"Click to edit"),g(),H(" ",e.getWatchListName()," "),g(),x("ngIf",e.isNameHovered&&!e.isCurrentWatchlistReserved)}}function m_e(n,t){if(n&1){let e=ee();p(0,"input",24),bt("ngModelChange",function(r){k(e);let o=M();return Mt(o.editWatchlistName,r)||(o.editWatchlistName=r),N(r)}),z("blur",function(){k(e);let r=M();return N(r.onWatchlistNameBlur())})("keydown",function(r){k(e);let o=M();return N(o.onWatchlistNameInputKeydown(r))}),h()}if(n&2){let e=M();_t("ngModel",e.editWatchlistName)}}function h_e(n,t){if(n&1){let e=ee();p(0,"app-action-button",25),z("handleAction",function(){k(e);let r=M();return N(r.expand())}),h()}n&2&&x("noIconBackground",!0)("title","Expand Watchlist")("action","expand")("color","gray")}function g_e(n,t){if(n&1){let e=ee();p(0,"app-action-button",25),z("handleAction",function(){k(e);let r=M();return N(r.toggleCollapse())}),h()}n&2&&x("noIconBackground",!0)("title","Hide Watchlist")("action","collapseLeft")("color","gray")}function v_e(n,t){if(n&1){let e=ee();p(0,"div",26),z("click",function(){let r=k(e).index,o=M();return N(o.switchList(r))}),y(1),h()}if(n&2){let e=t.$implicit,i=t.index,r=M();x("matTooltip",e.name)("ngClass",Qe(3,u_e,i===r.currentListIndex,i!==r.currentListIndex)),g(),H(" ",i+1," ")}}function y_e(n,t){if(n&1){let e=ee();p(0,"div",29),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.addToWatchlist(r))}),p(1,"div",30)(2,"div",31),y(3),h(),p(4,"div",32),y(5),h()()()}if(n&2){let e=t.$implicit;g(3),j(e.displayName),g(2),j(e.segment)}}function __e(n,t){if(n&1&&(p(0,"div",27),A(1,y_e,6,2,"div",28),h()),n&2){let e=M();g(),x("ngForOf",e.fetchedInstruments)}}function b_e(n,t){if(n&1){let e=ee();p(0,"button",42),z("click",function(){k(e);let r=M(2).$implicit,o=M();return N(o.handleAction({action:"buy",row:r}))}),y(1,"B"),h(),p(2,"button",43),z("click",function(){k(e);let r=M(2).$implicit,o=M();return N(o.handleAction({action:"sell",row:r}))}),y(3,"S"),h(),p(4,"app-action-button",41),z("handleAction",function(){k(e);let r=M(2).$implicit,o=M();return N(o.addToBasketOrder(r))}),h()}if(n&2){let e=M(2).$implicit;x("matTooltip","Buy"),g(2),x("matTooltip","Sell"),g(2),x("title","Add to Basket")("action","basket")("color","gray")("row",e)}}function x_e(n,t){if(n&1){let e=ee();p(0,"div",39),Gt(1,b_e,5,6),O(2,"app-market-depth-invoker",40),p(3,"app-action-button",41),z("handleAction",function(r){k(e);let o=M(2);return N(o.handleAction(r))}),h(),p(4,"app-action-button",41),z("handleAction",function(r){k(e);let o=M(2);return N(o.handleAction(r))}),h()()}if(n&2){let e=M().$implicit;g(),Wt(e.tradable?1:-1),g(),x("title",e.displayName)("instrumentToken",e.instrumentToken)("iconBackground",!0),g(),x("title","Chart")("action","chart")("color","gray")("row",e),g(),x("title","Delete")("action","delete")("color","red")("row",e)}}function C_e(n,t){if(n&1){let e=ee();p(0,"div",33),z("mouseenter",function(){let r=k(e).index,o=M();return N(o.hoveredIndex=r)})("mouseleave",function(){k(e);let r=M();return N(r.hoveredIndex=null)})("dragstart",function(r){let o=k(e).index,a=M();return N(a.onDragStart(r,o))})("dragover",function(r){let o=k(e).index,a=M();return N(a.onDragOver(r,o))})("drop",function(r){let o=k(e).index,a=M();return N(a.onDrop(r,o))})("dragend",function(){k(e);let r=M();return N(r.onDragEnd())}),p(1,"div")(2,"div",31),y(3),h(),p(4,"div",34),y(5),h()(),p(6,"div",35)(7,"div",36),y(8),$(9,"number"),h(),p(10,"span",37),y(11),$(12,"number"),p(13,"span",38),y(14),$(15,"percent"),h()()(),Gt(16,x_e,5,12,"div",39),h()}if(n&2){let e=t.$implicit,i=t.index,r=M();g(3),j(e.displayName),g(2),j(e.segment),g(2),x("ngClass",r.color(e.change)),g(),j(X(9,12,e.lastPrice,"1.2-2")),g(2),x("ngClass",r.color(e.change)),g(),H(" ",X(12,15,e.changeAbs,"1.2-2")," "),g(2),Ce("bg-green-50",e.change>0)("bg-red-50",e.change<0),g(),H(" ",X(15,18,e.change/100,"1.2-2")," "),g(2),Wt(r.hoveredIndex===i?16:-1)}}var Mv=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f,m,v,_){this.watchlistService=i,this.ws=r,this.toastr=o,this.userViewStateService=a,this.userDataStateService=s,this.dialog=l,this.tradingAccountService=c,this.alertService=u,this.router=d,this.route=f,this.overlay=m,this.document=v,this.basketCommunicationService=_,this.isInsideRouterOutlet=!1,this.searchTermChanged=new me,this.searchTerm="",this.watchlist=[],this.instrumentTokens=[],this.errorMessage="",this.currentListIndex=0,this.hoveredIndex=null,this.chartSymbol=null,this.fetchedInstruments=[],this.isEditingName=!1,this.editWatchlistName="",this.isNameHovered=!1,this.dragStartIndex=null,this.dragOverIndex=null,this.reservedNames=["Holdings","Positions","Nifty Current Week Expiry","Nifty Next Week Expiry","Sensex Current Week Expiry","Sensex Next Week Expiry"],this.collapseChanged=new be,this.isWatchlistCollapsed=!0,this.faSearch=ql,this.isMobileView=!1}ngOnInit(){this.isMobileView=globalThis.window?.innerWidth<=768||!1,this.route.data.subscribe(r=>{this.isInsideRouterOutlet=r.standaloneWatchlist||!1});let i=this.userViewStateService.getState();this.isWatchlistCollapsed=i.watchlist.isCollapsed||!1,this.collapseChanged.emit(this.isWatchlistCollapsed),this.currentListIndex=i.watchlist.activeWatchlist,this.searchTermChanged.pipe(ea(300),c1()).subscribe(r=>{this.searchInstruments(r)}),this.getCachedData(),this.fetchWatchlist(),this.informUserToOnboardTradingAccount()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.watchlist&&(this.watchlist=i.watchlist)}setCachedData(){this.userDataStateService.setState({watchlist:this.watchlist})}get currentList(){let i=[];return this.watchlist.length>0&&(i=this.watchlist[this.currentListIndex].watchlistInstruments),i}get isCurrentWatchlistReserved(){let i=this.getWatchListName();return this.reservedNames.includes(i)}openPlaceOrderDialog(i,r){let o={isBuyMode:i==="BUY"};this.dialog.open(d0,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:o,instrument:Q({},r)}})}switchList(i){this.ws.unsubscribe(this.instrumentTokens).subscribe({next:()=>{this.currentListIndex=i,this.subscribeToWebSocket(),this.chartSymbol=null,this.saveUserViewState()}})}trackById(i,r){return r.id}addToWatchlist(i){let r=this.watchlist[this.currentListIndex];if(this.searchTerm="",r.watchlistInstruments.find(a=>a.tradingSymbol===i.tradingSymbol&&a.exchange===i.exchange))this.toastr.warning("Instrument already exists in watchlist","Warning");else{let a={watchlistId:r.id,displayName:i.displayName,tradingSymbol:i.tradingSymbol,instrumentToken:i.instrumentToken,segment:i.segment,exchange:i.exchange};this.fetchedInstruments=[],this.saveWatchlistInstrument(r,a)}}deleteFromWatchlist(i){let r=this.watchlist[this.currentListIndex],o=r.watchlistInstruments.find(a=>a.tradingSymbol===i.tradingSymbol&&a.exchange===i.exchange);o?(r.watchlistInstruments=r.watchlistInstruments.filter(a=>!(a.tradingSymbol===i.tradingSymbol&&a.exchange===i.exchange)),this.deleteWatchlistInstrument(this.watchlist[this.currentListIndex],o.id)):this.toastr.warning("Instrument does not exists in watchlist","Warning")}fetchWatchlist(){this.watchlistService.getWatchlist().subscribe({next:i=>{this.watchlist=i.data,this.subscribeToWebSocket(),this.setCachedData()},error:i=>{i.error.message?this.toastr.error(i.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching watchlist. Verify that the backend service is operational.","Error"),console.error("Error while fetching watchlist:",i)}})}subscribeToWebSocket(){let i=this.watchlist[this.currentListIndex].watchlistInstruments;this.instrumentTokens=i.map(o=>o.instrumentToken);let r=50;this.instrumentTokens.length>0?(this.ws.connectionState().pipe(tt(o=>o),Nt(1)).subscribe(()=>{for(let o=0;o<this.instrumentTokens.length;o+=r){let a=this.instrumentTokens.slice(o,o+r);this.ws.subscribe(a)}}),this.sub=this.ws.ticks().subscribe(o=>{this.updateWatchlistOnUpdate(o)})):console.log("No instrument tokens available for web socket subscription.")}unsubscribeToWebSocket(){if(this.instrumentTokens.length>0)for(let r=0;r<this.instrumentTokens.length;r+=50){let o=this.instrumentTokens.slice(r,r+50);this.ws.unsubscribe(o)}}handleAction(i){if(i.action==="delete")this.deleteFromWatchlist(i.row);else if(i.action==="chart"){let r=i.row.exchange,o=i.row.tradingSymbol;o=o==="NIFTY 50"?"NIFTY":o,globalThis.window?.open(U9(r,o),"_blank","noopener,noreferrer")}else i.action==="buy"?this.openPlaceOrderDialog("BUY",i.row):i.action==="sell"&&this.openPlaceOrderDialog("SELL",i.row)}addToBasketOrder(i){this.basketCommunicationService.emitAddToBasket(i)}updateWatchlistOnUpdate(i){i.forEach(r=>{this.watchlist[this.currentListIndex].watchlistInstruments.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s&&s.lastPrice!==r.lastTradedPrice&&(s.change=r.change,s.changeAbs=r.change*r.closePrice/100,s.lastPrice=r.lastTradedPrice,s.tradable=r.tradable)})})}saveWatchlistInstrument(i,r){console.log("saving watchlist for user"),this.watchlistService.saveWatchListInstrument(i.id,r).subscribe({next:o=>{this.watchlist=o.data,this.subscribeToWebSocket()},error:o=>{console.error("Error while saving watchlist:",o),this.toastr.error(o.error.message,"Error")}})}deleteWatchlistInstrument(i,r){console.log("deleting watchlist instrument for user"),this.watchlistService.deleteWatchListInstrument(i.id,r).subscribe({next:o=>{this.watchlist=o.data,this.subscribeToWebSocket()},error:o=>{console.error("Error while saving watchlist:",o),this.toastr.error(o.error.message,"Error")}})}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}onWatchlistNameMouseEnter(){this.isNameHovered=!0}onWatchlistNameMouseLeave(){this.isNameHovered=!1}onWatchlistNameClick(){if(this.isCurrentWatchlistReserved){this.toastr.warning("This watchlist name cannot be edited.","Warning");return}this.isEditingName=!0,this.editWatchlistName=this.getWatchListName(),setTimeout(()=>{let i=this.document.getElementById("edit-watchlist-name-input");i&&i.focus()})}onWatchlistNameBlur(){this.isEditingName=!1;let i=this.editWatchlistName.trim();i&&i!==this.getWatchListName()&&this.saveWatchlistName(i)}onWatchlistNameInputKeydown(i){i.key==="Enter"&&i.target.blur()}saveWatchlistName(i){let r=this.watchlist[this.currentListIndex];this.watchlistService.updateWatchlistName(r.id,i).subscribe({next:o=>{r.name=i,this.toastr.success("Watchlist name updated successfully","Success")},error:o=>{console.error("Error while saving watchlist name:",o),this.toastr.error(o.error.message,"Error")}})}onDragStart(i,r){this.dragStartIndex=r,i.dataTransfer?.setData("text/plain",r.toString()),i.dataTransfer.effectAllowed="move"}onDragOver(i,r){i.preventDefault(),this.dragOverIndex=r}onDrop(i,r){i.preventDefault();let o=this.dragStartIndex;if(o===null||o===r){this.dragStartIndex=null,this.dragOverIndex=null;return}let a=this.watchlist[this.currentListIndex].watchlistInstruments,[s]=a.splice(o,1);a.splice(r,0,s),this.dragStartIndex=null,this.dragOverIndex=null,this.persistWatchlistOrder()}onDragEnd(){this.dragStartIndex=null,this.dragOverIndex=null}persistWatchlistOrder(){let i=this.watchlist[this.currentListIndex],r=i.watchlistInstruments.map(o=>o.id);this.watchlistService.reorderWatchlistInstruments(i.id,r).subscribe({next:o=>{console.log("Watchlist order saved successfully")},error:o=>{console.error("Error while saving watchlist order:",o),this.toastr.error(o.error.message,"Error")}})}informUserToOnboardTradingAccount(){this.tradingAccountService.getTradingAccounts().subscribe({next:i=>{i.data.length===0&&this.alertService.info("Hi there!","You haven't onboarded any trading account yet. Click OK to go to the Manage Accounts screen and onboard your trading accounts.",()=>{this.router.navigate(["/profile"])})},error:i=>{i.error.message?this.toastr.error(i.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error")}})}onSearchTermChange(i){let o=i.target?.value||"";this.searchTermChanged.next(o)}getWatchListName(){return this.watchlist.length>0?this.watchlist[this.currentListIndex].name:""}getWatchListCount(){return this.watchlist[this.currentListIndex]?.watchlistInstruments?this.watchlist[this.currentListIndex].watchlistInstruments.length:0}searchInstruments(i){this.watchlistService.searchInstruments(i.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastr.error(r.error.message,"Error")}})}saveUserViewState(){this.userViewStateService.setState({watchlist:{activeWatchlist:this.currentListIndex,isCollapsed:this.isWatchlistCollapsed}})}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}toggleCollapse(){this.isWatchlistCollapsed=!this.isWatchlistCollapsed,this.collapseChanged.emit(this.isWatchlistCollapsed),this.saveUserViewState()}get canCollapse(){return!this.isInsideRouterOutlet}expand(){this.router.navigate(["/watchlist"])}onResize(i){this.isMobileView=globalThis.window?.innerWidth<=768||!1}ngAfterViewInit(){}};t.\u0275fac=function(r){return new(r||t)(V(Mu),V(sr),V(nt),V(Un),V(Dn),V(Xn),V(tr),V(Fo),V(un),V(Nr),V(Vr),V(Te),V(wv))},t.\u0275cmp=ie({type:t,selectors:[["app-watchlist"]],hostBindings:function(r,o){r&1&&z("resize",function(s){return o.onResize(s)},GS)},outputs:{collapseChanged:"collapseChanged"},decls:25,vars:14,consts:[["editNameInput",""],["class","fixed top-16 mt-3 left-2 z-50",3,"noIconBackground","title","action","color","handleAction",4,"ngIf"],[1,"relative","overflow-hidden","transition-all","duration-300",3,"ngClass"],[1,"page-container"],[1,"bg-white","border","rounded-md","shadow-sm","flex","flex-col","min-h-[80vh]"],[1,"p-4","border-b","border-gray-200","space-y-2"],[1,"flex","flex-wrap","items-center","justify-between","gap-2"],[1,"flex","items-center","flex-wrap","gap-2"],[4,"ngIf","ngIfElse"],[1,"font-semibold","px-2","py-1","rounded","bg-blue-50","text-blue-500"],[1,"flex","items-center","gap-2"],["class","hover:scale-105 transition",3,"noIconBackground","title","action","color","handleAction",4,"ngIf"],[1,"watchlist-tabs-container"],["class","watchlist-tab cursor-pointer px-3 py-1.5 rounded-md transition text-center",3,"matTooltip","ngClass","click",4,"ngFor","ngForOf"],[1,"relative","mt-2"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400",3,"icon"],["type","text","placeholder","Search and add eg: infy, nifty fut, etc",1,"pl-10","pr-3","py-2","w-full","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["class","mt-2 bg-white border border-gray-300 rounded-md shadow-sm max-h-60 overflow-auto",4,"ngIf"],[1,"page-content","flex-1","divide-y","divide-gray-100"],["class","flex justify-between items-center px-4 py-2 hover:bg-gray-50 relative cursor-pointer","draggable","true",3,"mouseenter","mouseleave","dragstart","dragover","drop","dragend",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fixed","top-16","mt-3","left-2","z-50",3,"handleAction","noIconBackground","title","action","color"],[1,"text-gray-700","transition",3,"click","mouseenter","mouseleave","ngClass","matTooltip"],["class","text-xs text-blue-400",4,"ngIf"],[1,"text-xs","text-blue-400"],["id","edit-watchlist-name-input","type","text",1,"border-b","border-blue-400","outline-none","px-1","py-0.5","text-gray-700",3,"ngModelChange","blur","keydown","ngModel"],[1,"hover:scale-105","transition",3,"handleAction","noIconBackground","title","action","color"],[1,"watchlist-tab","cursor-pointer","px-3","py-1.5","rounded-md","transition","text-center",3,"click","matTooltip","ngClass"],[1,"mt-2","bg-white","border","border-gray-300","rounded-md","shadow-sm","max-h-60","overflow-auto"],["class","px-3 py-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-gray-700"],[1,"text-xs","text-gray-400"],["draggable","true",1,"flex","justify-between","items-center","px-4","py-2","hover:bg-gray-50","relative","cursor-pointer",3,"mouseenter","mouseleave","dragstart","dragover","drop","dragend"],[1,"text-sm","text-gray-400","uppercase"],[1,"text-right"],[1,"text-gray-700",3,"ngClass"],[1,"ml-1","text-sm","text-gray-700",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","flex","gap-1","z-10"],[1,"text-base",3,"title","instrumentToken","iconBackground"],[1,"text-base",3,"handleAction","title","action","color","row"],[1,"mr-2","w-8","h-8","bg-blue-500","text-white","rounded-md","flex","items-center","justify-center","hover:bg-blue-600","transition",3,"click","matTooltip"],[1,"w-8","h-8","bg-orange-500","text-white","rounded-md","flex","items-center","justify-center","hover:bg-orange-600","transition",3,"click","matTooltip"]],template:function(r,o){if(r&1){let a=ee();A(0,d_e,1,4,"app-action-button",1),p(1,"div")(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),A(9,p_e,4,8,"ng-container",8)(10,m_e,1,1,"ng-template",null,0,Tn),p(12,"span",9),y(13),h()(),p(14,"div",10),A(15,h_e,1,4,"app-action-button",11)(16,g_e,1,4,"app-action-button",11),h()(),p(17,"div",12),A(18,v_e,2,6,"div",13),h(),p(19,"div",14),O(20,"fa-icon",15),p(21,"input",16),bt("ngModelChange",function(l){return k(a),Mt(o.searchTerm,l)||(o.searchTerm=l),N(l)}),z("input",function(l){return k(a),N(o.onSearchTermChange(l))}),h()(),A(22,__e,2,1,"div",17),h(),p(23,"div",18),A(24,C_e,17,21,"div",19),h()()()()()()}if(r&2){let a=pn(11);x("ngIf",o.canCollapse&&o.isWatchlistCollapsed&&!o.isMobileView),g(2),x("@expandCollapse",o.canCollapse&&o.isWatchlistCollapsed?"collapsed":"expanded")("ngClass",(o.canCollapse,"text-sm")),g(7),x("ngIf",!o.isEditingName)("ngIfElse",a),g(4),H(" ",o.getWatchListCount()," "),g(2),x("ngIf",o.canCollapse),g(),x("ngIf",o.canCollapse),g(2),x("ngForOf",o.watchlist),g(2),x("icon",o.faSearch),g(),_t("ngModel",o.searchTerm),g(),x("ngIf",o.fetchedInstruments.length>0&&o.searchTerm.length>0),g(2),x("ngForOf",o.currentList)("ngForTrackBy",o.trackById)}},dependencies:[Ae,hn,Yt,Zt,Gi,ye,a0,Oe,at,Fa,Bt,ln,$n],styles:['.page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 175px);min-height:calc(100vh - var(--header-height, 80px) - 175px)}.watchlist[_ngcontent-%COMP%]{position:relative}.watchlist[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:4px;height:2px;width:0%;background-color:#007bff;transition:width .3s ease-in-out}.watchlist[_ngcontent-%COMP%]:hover:after, .watchlist.active-tab[_ngcontent-%COMP%]:after{width:100%}.watchlist.active-tab[_ngcontent-%COMP%]{background-color:#eef6ff;color:#007bff}.watchlist-tabs-container[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin-top:.5rem;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.watchlist-tabs-container[_ngcontent-%COMP%]{scrollbar-color:#cbd5e1 transparent;scrollbar-width:thin}.watchlist-tab[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;white-space:nowrap;box-sizing:border-box}'],data:{animation:[Pi,qW]}});let n=t;return n})();function S_e(n,t){n&1&&(p(0,"div",1)(1,"p",2),y(2,"No SIPs to display"),h()())}function w_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("fund"))}}function M_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instalmentAmount"))}}function T_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("dayChangePercentage"))}}function E_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("lastInstalment"))}}function D_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("nextInstalment"))}}function I_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function L_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("created"))}}function A_e(n,t){if(n&1&&(At(0),p(1,"span",19),O(2,"fa-icon",36),y(3),$(4,"istDate"),h(),zt()),n&2){let e=M().$implicit,i=M(3);g(2),x("icon",i.faCheckCircle),g(),H(" ",X(4,2,e.mfSip.lastInstalment,"date-ordinal"))}}function z_e(n,t){if(n&1&&(At(0),p(1,"span",19),y(2),$(3,"istDate"),h(),zt()),n&2){let e=M().$implicit;g(2),j(X(3,1,e.mfSip.lastInstalment,"date-ordinal"))}}function k_e(n,t){if(n&1&&(At(0),p(1,"span",19),O(2,"fa-icon",37),y(3),$(4,"istDate"),h(),zt()),n&2){let e=M(2).$implicit,i=M(3);g(2),x("icon",i.faClock),g(),H(" ",X(4,2,e.mfSip.nextInstalment,"date-ordinal"))}}function N_e(n,t){if(n&1&&(At(0),p(1,"span",19),y(2),$(3,"istDate"),h(),zt()),n&2){let e=M(2).$implicit;g(2),j(X(3,1,e.mfSip.nextInstalment,"date-ordinal"))}}function P_e(n,t){if(n&1&&(p(0,"div",30),A(1,k_e,5,5,"ng-container",21)(2,N_e,4,4,"ng-container",21),h()),n&2){let e=M().$implicit,i=M(3);g(),x("ngIf",i.isUpcomingSipInThisMonth(e.mfSip.nextInstalment)),g(),x("ngIf",!i.isUpcomingSipInThisMonth(e.mfSip.nextInstalment))}}function O_e(n,t){if(n&1){let e=ee();At(0),p(1,"tr",22)(2,"td",23)(3,"div",24)(4,"span",25),y(5),h(),O(6,"app-small-chip",26),h()(),p(7,"td",27)(8,"span",19),y(9),$(10,"currency"),h()(),p(11,"td",27)(12,"span",28),y(13),$(14,"number"),p(15,"span",29),y(16),$(17,"percent"),h()()(),p(18,"td",27)(19,"div",30),A(20,A_e,5,5,"ng-container",21)(21,z_e,4,4,"ng-container",21),h()(),p(22,"td",27),A(23,P_e,3,2,"div",31),h(),p(24,"td",27),O(25,"app-small-chip",26),h(),p(26,"td",27)(27,"div",32)(28,"span",33),y(29),$(30,"istDate"),O(31,"app-small-chip",26),h()()(),p(32,"td",34)(33,"app-action-menu",35),z("handleAction",function(r){k(e);let o=M(3);return N(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(4),x("matTooltip",e.mfSip.fund),g(),H(" ",e.mfSip.fund," "),g(),x("text",e.mfSip.frequency)("color","gray"),g(3),j(lt(10,22,e.mfSip.instalmentAmount,"INR","symbol","1.0-0")),g(3),x("ngClass",i.color(e.dayChangePercentage)),g(),H(" ",X(14,27,e.lastPrice,"1.2-2")," "),g(2),Ce("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),g(),H(" ",X(17,30,e.dayChangePercentage/100,"1.2-2")," "),g(4),x("ngIf",i.isSipCompletedInThisMonth(e.mfSip.lastInstalment)),g(),x("ngIf",!i.isSipCompletedInThisMonth(e.mfSip.lastInstalment)),g(2),x("ngIf",e.mfSip.status!=="PAUSED"),g(2),x("text",e.mfSip.status)("color",i.getStatusChipColor(e.mfSip.status)),g(4),H(" ",X(30,33,i.getOrderTimeStamp(e.mfSip.created),"date")," "),g(2),x("text",i.getSipCreatedSince(e.mfSip.created))("color","purple"),g(2),x("row",e)("actions",i.getActionButtons(e))}}function R_e(n,t){n&1&&(p(0,"tr")(1,"td",38),O(2,"div",39),h()())}function F_e(n,t){if(n&1&&(At(0),p(1,"tr",15)(2,"td",16),O(3,"app-user-info-header",17),h(),p(4,"td",18)(5,"span",19),y(6),$(7,"currency"),h()(),O(8,"td",20),h(),A(9,O_e,34,36,"ng-container",13)(10,R_e,3,0,"tr",21),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(3),j(lt(7,9,e.totalSipAmount,"INR","symbol","1.0-0")),g(3),x("ngForOf",e.sips)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function B_e(n,t){if(n&1){let e=ee();p(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("fund"))}),y(6," FUND "),A(7,w_e,2,1,"span",8),h()(),p(8,"th",9)(9,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("instalmentAmount"))}),y(10," AMOUNT "),A(11,M_e,2,1,"span",8),h()(),p(12,"th",9)(13,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("dayChangePercentage"))}),y(14," NAV "),A(15,T_e,2,1,"span",8),h()(),p(16,"th",9)(17,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("lastInstalment"))}),y(18," LAST INSTALMENT "),A(19,E_e,2,1,"span",8),h()(),p(20,"th",9)(21,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("nextInstalment"))}),y(22," NEXT INSTALMENT "),A(23,D_e,2,1,"span",8),h()(),p(24,"th",9)(25,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("status"))}),y(26," STATUS "),A(27,I_e,2,1,"span",8),h()(),p(28,"th",9)(29,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("created"))}),y(30," CREATED "),A(31,L_e,2,1,"span",8),h()(),p(32,"th",11),y(33,"ACTIONS"),h()()(),p(34,"tbody",12),A(35,F_e,11,14,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("fund")),g(4),x("ngIf",e.getSortIndicator("instalmentAmount")),g(4),x("ngIf",e.getSortIndicator("dayChangePercentage")),g(4),x("ngIf",e.getSortIndicator("lastInstalment")),g(4),x("ngIf",e.getSortIndicator("nextInstalment")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("created")),g(4),x("ngForOf",e.sortedGroupedSips)("ngForTrackBy",e.trackByUser)}}var xZ=(()=>{let t=class t{constructor(i){this.utilsService=i,this.groupedSips=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new be,this.sortColumn="nextInstalment",this.sortDirection="asc",this.sortAccessors={fund:r=>(r.mfSip?.fund??"").toString().toLowerCase(),instalmentAmount:r=>r.mfSip?.instalmentAmount??0,dayChangePercentage:r=>r.dayChangePercentage??0,lastInstalment:r=>new Date(r.mfSip?.lastInstalment??0).getTime(),nextInstalment:r=>new Date(r.mfSip?.nextInstalment??0).getTime(),status:r=>(r.mfSip?.status??"").toString().toLowerCase(),created:r=>r.mfSip?.created??0},this.faCheckCircle=sG,this.faClock=J6}get sortedGroupedSips(){return!this.sortColumn||!this.sortDirection?this.groupedSips:this.groupedSips.map(i=>De(Q({},i),{sips:[...i.sips??[]].sort((r,o)=>this.compareSips(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["nextInstalment","created","lastInstalment","instalmentAmount","lastInstalment"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareSips(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}getStatusChipColor(i){return i==="ACTIVE"?"green":i==="PAUSED"||i==="CANCELLED"?"orange":"gray"}getOrderTimeStamp(i){return Number(i)}trackByUser(i,r){return r.userId}trackBySequenceNumber(i,r){return r.sequenceNumber}isUpcomingSipInThisMonth(i){let r=new Date,o=new Date(i);return r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&o>r}isSipCompletedInThisMonth(i){let r=new Date,o=new Date(i);return r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&o<r}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}getSipCreatedSince(i){return this.utilsService.getElapsedYMDString(i)}getActionButtons(i){let r=this.actions;return i.mfSip.status==="ACTIVE"?r=r.filter(o=>o.action!=="activate"):i.mfSip.status==="PAUSED"&&(r=r.filter(o=>o.action!=="pause")),r}handleAction(i){this.handleClickAction.emit(i)}};t.\u0275fac=function(r){return new(r||t)(V(In))},t.\u0275cmp=ie({type:t,selectors:[["app-mf-sip-table"]],inputs:{groupedSips:"groupedSips",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","1",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","py-2","text-right","font-medium","whitespace-nowrap"],[1,""],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left","uppercase",3,"matTooltip"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"flex","flex-col","gap-1"],["class","flex flex-col gap-1",4,"ngIf"],[1,"flex","flex-col","items-end","gap-1"],[1,"text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],["matTooltip","Completed for this month",1,"text-green-500",3,"icon"],["matTooltip","Pending for this month",1,"text-orange-500",3,"icon"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,S_e,3,0,"div",1)(2,B_e,36,9,"div"),h()),r&2&&(g(),Wt(!o.groupedSips||o.groupedSips.length===0?1:2))},dependencies:[Ae,gn,ye,Oe,at,jr,Bt,Oo,ti,Si,ln,$n],encapsulation:2});let n=t;return n})();function V_e(n,t){if(n&1&&(p(0,"div",3)(1,"span",4),y(2,"Total SIP Amount"),h(),p(3,"span",5),y(4),$(5,"currency"),h()()),n&2){let e=M();g(4),H(" ",lt(5,1,e.totalSipAmount,"INR","symbol","1.0-0")," ")}}function U_e(n,t){if(n&1&&(p(0,"div",3)(1,"span",4),y(2,"Till Date"),h(),p(3,"span",5),y(4),$(5,"currency"),h()()),n&2){let e=M();g(4),H(" ",lt(5,1,e.contributionThisMonth,"INR","symbol","1.0-0")," ")}}function H_e(n,t){if(n&1&&(p(0,"div",3)(1,"span",4),y(2,"Upcoming SIPs"),h(),p(3,"span",5),y(4),$(5,"number"),h()()),n&2){let e=M();g(4),H(" ",X(5,1,e.upcomingSips,"1.0-0")," ")}}function j_e(n,t){if(n&1&&(p(0,"div",3)(1,"span",4),y(2,"Active SIPs"),h(),p(3,"span",6),y(4),$(5,"number"),h()()),n&2){let e=M();g(4),H(" ",X(5,1,e.activeSips,"1.0-0")," ")}}function G_e(n,t){if(n&1&&(p(0,"div",7)(1,"span",4),y(2,"Paused SIPs"),h(),p(3,"span",8),y(4),$(5,"number"),h()()),n&2){let e=M();g(4),H(" ",X(5,1,e.pausedSips,"1.0-0")," ")}}var CZ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-sip-summary"]],inputs:{totalSipAmount:"totalSipAmount",contributionThisMonth:"contributionThisMonth",upcomingSips:"upcomingSips",activeSips:"activeSips",pausedSips:"pausedSips"},decls:6,vars:5,consts:[[1,"grid","grid-cols-2","sm:grid-cols-5","md:grid-cols-5","lg:grid-cols-5","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],["class","hidden sm:flex bg-white p-2 border rounded-md shadow-sm flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-600","mt-1"],[1,"text-base","font-medium","text-green-600","mt-1"],[1,"hidden","sm:flex","bg-white","p-2","border","rounded-md","shadow-sm","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-base","font-medium","text-orange-600","mt-1"]],template:function(r,o){r&1&&(p(0,"div",0),A(1,V_e,6,6,"div",1)(2,U_e,6,6,"div",1)(3,H_e,6,4,"div",1)(4,j_e,6,4,"div",1)(5,G_e,6,4,"div",2),h()),r&2&&(g(),x("ngIf",o.totalSipAmount!==void 0),g(),x("ngIf",o.contributionThisMonth!==void 0),g(),x("ngIf",o.upcomingSips!==void 0),g(),x("ngIf",o.activeSips!==void 0),g(),x("ngIf",o.pausedSips!==void 0))},dependencies:[ye,Si,ln],encapsulation:2});let n=t;return n})();function W_e(n,t){n&1&&(p(0,"div",1)(1,"p",2),y(2,"No orders to display"),h()())}function q_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("fund"))}}function $_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("amount"))}}function Y_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("quantity"))}}function Z_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("price"))}}function X_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("nav"))}}function Q_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function K_e(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("timestamp"))}}function J_e(n,t){if(n&1){let e=ee();At(0),p(1,"tr",22)(2,"td",23)(3,"div",24),O(4,"app-small-chip",25),p(5,"span",26),y(6),h(),O(7,"app-small-chip",25),h()(),p(8,"td",27)(9,"span"),y(10),$(11,"currency"),h()(),p(12,"td",27)(13,"span"),y(14),$(15,"number"),h()(),p(16,"td",27)(17,"span"),y(18),$(19,"number"),h()(),p(20,"td",27)(21,"span",28),y(22),$(23,"number"),p(24,"span",29),y(25),$(26,"percent"),h()()(),p(27,"td",27)(28,"div",24),O(29,"app-small-chip",30),h()(),p(30,"td",27),y(31),$(32,"istDate"),h(),p(33,"td",27)(34,"app-action-menu",31),z("handleAction",function(r){k(e);let o=M(4);return N(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(4);g(4),x("text",e.mfOrder.transactionType)("color",i.getTransactionTypeChipColor(e.mfOrder.transactionType)),g(),x("matTooltip",e.mfOrder.fund),g(),H(" ",e.mfOrder.fund," "),g(),x("text",i.getVariety(e.mfOrder.variety))("color","purple"),g(3),j(lt(11,22,e.mfOrder.amount,"INR","symbol","1.0-0")),g(4),j(X(15,27,e.mfOrder.quantity,"1.2-2")),g(4),j(X(19,30,e.mfOrder.averagePrice,"1.2-2")),g(3),x("ngClass",i.color(e.dayChangePercentage)),g(),H(" ",X(23,33,e.lastPrice,"1.2-2")," "),g(2),Ce("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),g(),H(" ",X(26,36,e.dayChangePercentage/100,"1.2-2")," "),g(4),x("matTooltip",e.mfOrder.statusMessage)("text",e.mfOrder.status)("color",i.getStatusChipColor(e.mfOrder.status)),g(2),H(" ",X(32,39,i.getOrderTimeStamp(e.mfOrder.orderTimestamp),"datetime-ordinal")," "),g(3),x("row",e)("actions",i.getActionButtons(e))}}function ebe(n,t){n&1&&(p(0,"tr")(1,"td",32),O(2,"div",33),h()())}function tbe(n,t){if(n&1&&(At(0),p(1,"tr",16)(2,"td",17),O(3,"app-user-info-header",18),h(),p(4,"td",19)(5,"span",20),y(6),$(7,"currency"),h()(),O(8,"td",21),h(),A(9,J_e,35,42,"ng-container",15)(10,ebe,3,0,"tr",13),zt()),n&2){let e=t.$implicit,i=t.last,r=M(3);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(3),j(lt(7,9,e.totalBuyAmount-e.totalSellAmount,"INR","symbol","1.0-0")),g(3),x("ngForOf",e.orders)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function nbe(n,t){if(n&1&&(At(0),A(1,tbe,11,14,"ng-container",15),zt()),n&2){let e=M(2);g(),x("ngForOf",e.sortedGroupedRows)("ngForTrackBy",e.trackByUser)}}function ibe(n,t){if(n&1){let e=ee();p(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("fund"))}),y(6," FUND "),A(7,q_e,2,1,"span",8),h()(),p(8,"th",9)(9,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("amount"))}),y(10," AMOUNT "),A(11,$_e,2,1,"span",8),h()(),p(12,"th",9)(13,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("quantity"))}),y(14," QTY "),A(15,Y_e,2,1,"span",8),h()(),p(16,"th",9)(17,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("price"))}),y(18," AVG PRICE "),A(19,Z_e,2,1,"span",8),h()(),p(20,"th",9)(21,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("nav"))}),y(22," NAV "),A(23,X_e,2,1,"span",8),h()(),p(24,"th",9)(25,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("status"))}),y(26," STATUS "),A(27,Q_e,2,1,"span",8),h()(),p(28,"th",9)(29,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("timestamp"))}),y(30," TIME "),A(31,K_e,2,1,"span",8),h()(),p(32,"th",11),y(33,"ACTIONS"),h()()(),p(34,"tbody",12),A(35,nbe,2,2,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("fund")),g(4),x("ngIf",e.getSortIndicator("amount")),g(4),x("ngIf",e.getSortIndicator("quantity")),g(4),x("ngIf",e.getSortIndicator("price")),g(4),x("ngIf",e.getSortIndicator("nav")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("timestamp")),g(4),x("ngIf",e.groupedRows&&e.groupedRows.length>0)}}var SZ=(()=>{let t=class t{constructor(){this.groupedRows=[],this.handleClickAction=new be,this.actions=[],this.fallbackAvatarUrl="",this.mfPendingStatus=["PROCESSING","OPEN"],this.sortColumn="timestamp",this.sortDirection="desc",this.sortAccessors={fund:i=>(i.mfOrder?.fund??"").toString().toLowerCase(),amount:i=>i.mfOrder?.amount??0,quantity:i=>i.mfOrder?.quantity??0,price:i=>i.mfOrder?.averagePrice??0,nav:i=>i.lastPrice??0,status:i=>(i.mfOrder?.status??"").toString().toLowerCase(),timestamp:i=>i.mfOrder?.orderTimestamp??0},this.faClock=J6}get sortedGroupedRows(){return!this.sortColumn||!this.sortDirection?this.groupedRows:this.groupedRows.map(i=>De(Q({},i),{orders:[...i.orders??[]].sort((r,o)=>this.compareOrders(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["timestamp","nav","amount"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareOrders(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}getActionButtons(i){return this.actions}getStatusChipColor(i){return this.mfPendingStatus.indexOf(i)>-1?"blue":i==="COMPLETE"?"green":i==="FAILED"||i==="REJECTED"?"red":"gray"}getOrderTimeStamp(i){return Number(i)}getTransactionTypeChipColor(i){switch(i){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}trackBySequenceNumber(i,r){return r.sequenceNumber}trackByUser(i,r){return r.userId}handleAction(i){this.handleClickAction.emit(i)}getVariety(i){return i==="regular"?"ONE TIME":i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-mf-order-table"]],inputs:{groupedRows:"groupedRows",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngIf"],[1,"text-[10px]"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","1",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","py-2","text-right","font-medium","whitespace-nowrap"],[1,""],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left","uppercase",3,"matTooltip"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"cursor-pointer",3,"matTooltip","text","color"],[3,"handleAction","row","actions"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-300"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,W_e,3,0,"div",1)(2,ibe,36,8,"div"),h()),r&2&&(g(),Wt(!o.groupedRows||o.groupedRows.length===0?1:2))},dependencies:[Oe,Ae,gn,ye,jr,Bt,Oo,ln,$n,ti,Si],encapsulation:2});let n=t;return n})();function rbe(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Total Buy Orders"),h(),p(3,"span",4),y(4),$(5,"number"),h()()),n&2){let e=M();g(4),H(" ",X(5,1,e.totalBuyOrders,"1.0-0")," ")}}function obe(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Total Buy Amount"),h(),p(3,"span",4),y(4),$(5,"currency"),h()()),n&2){let e=M();g(4),H(" ",lt(5,1,e.totalBuyAmount,"INR","symbol","1.0-0")," ")}}function abe(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Total Sell Orders"),h(),p(3,"span",4),y(4),$(5,"number"),h()()),n&2){let e=M();g(4),H(" ",X(5,1,e.totalSellOrders,"1.0-0")," ")}}function sbe(n,t){if(n&1&&(p(0,"div",2)(1,"span",3),y(2,"Total Sell Amount"),h(),p(3,"span",4),y(4),$(5,"currency"),h()()),n&2){let e=M();g(4),H(" ",lt(5,1,e.totalSellAmount,"INR","symbol","1.0-0")," ")}}var wZ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-mf-order-summary"]],inputs:{totalBuyOrders:"totalBuyOrders",totalBuyAmount:"totalBuyAmount",totalSellOrders:"totalSellOrders",totalSellAmount:"totalSellAmount"},decls:5,vars:4,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"]],template:function(r,o){r&1&&(p(0,"div",0),A(1,rbe,6,4,"div",1)(2,obe,6,6,"div",1)(3,abe,6,4,"div",1)(4,sbe,6,6,"div",1),h()),r&2&&(g(),x("ngIf",o.totalBuyOrders!==void 0),g(),x("ngIf",o.totalBuyAmount!==void 0),g(),x("ngIf",o.totalSellOrders!==void 0),g(),x("ngIf",o.totalSellAmount!==void 0))},dependencies:[We,ye,ln,Si],encapsulation:2});let n=t;return n})();var Tv=(()=>{let t=class t{constructor(i){this.api=i}getHoldings(){return this.api.get("/v1/mf/holdings")}getOrders(){return this.api.get("/v1/mf/orders")}getSips(){return this.api.get("/v1/mf/sips")}updateSip(i,r,o){return this.api.put(`/v1/mf/sips/${i}/${r}`,o)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var lbe=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function cbe(n,t){n&1&&O(0,"span",10)}function ube(n,t){if(n&1){let e=ee();p(0,"div",7),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.setActiveParentTab(r))}),y(1),p(2,"span",8),y(3),h(),A(4,cbe,1,0,"span",9),h()}if(n&2){let e=t.$implicit,i=M(2);Ce("active-tab",e===i.activeParentTab)("text-gray-700",e!==i.activeParentTab),g(),H(" ",e," "),g(),x("ngClass",Qe(8,lbe,e===i.activeParentTab,e!==i.activeParentTab)),g(),H(" ",i.parentTabCounts[e]," "),g(),x("ngIf",e===i.activeParentTab)}}function dbe(n,t){if(n&1){let e=ee();p(0,"div",22)(1,"app-mf-sip-table",23),z("handleClickAction",function(r){k(e);let o=M(3);return N(o.handleAction(r))}),h()()}if(n&2){let e=M(3);g(),x("groupedSips",e.groupedSips)("fallbackAvatarUrl",e.fallbackAvatarUrl)("actions",e.actions)}}function fbe(n,t){n&1&&(p(0,"div",22)(1,"app-note",24),y(2," You don\u2019t have any mutual fund sips at the moment. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function pbe(n,t){if(n&1){let e=ee();p(0,"div"),O(1,"app-sip-summary",11),p(2,"div",12)(3,"div",13)(4,"app-tool-bar",14),z("filtersChanged",function(r){k(e);let o=M(2);return N(o.applyMfSipFilters(r))})("toggleChart",function(){k(e);let r=M(2);return N(r.toggleChart())})("handleRefresh",function(r){k(e);let o=M(2);return N(o.handleRefreshForSips(r))}),h()(),p(5,"div",13),O(6,"fa-icon",15),h(),O(7,"div",16),p(8,"div",13)(9,"app-user-filter",17),z("selectAllUsers",function(){k(e);let r=M(2);return N(r.onAllUserSelection())})("selectUsers",function(r){k(e);let o=M(2);return N(o.onUserSelection(r))})("totalUsers",function(r){k(e);let o=M(2);return N(o.captureUsers(r))}),h()(),p(10,"div",13)(11,"app-search-input",18),z("inputChange",function(r){k(e);let o=M(2);return N(o.onSearch(r))}),h()()(),p(12,"div",19),O(13,"app-timeline-chart",20),h(),A(14,dbe,2,3,"div",21)(15,fbe,3,3,"ng-template",null,0,Tn),h()}if(n&2){let e=pn(16),i=M(2);g(),x("totalSipAmount",i.totalSipAmount)("contributionThisMonth",i.contributionThisMonth)("upcomingSips",i.upcomingSips)("activeSips",i.activeSips)("pausedSips",i.pausedSips),g(3),x("isLoadingData",i.isLoadingData)("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("showChartButton",!0),g(2),x("icon",i.faInfoCircle),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search SIPs by User ID or fund")("searchTerm",i.searchQuery),g(),x("@expandCollapse",i.showChart?"expanded":"collapsed"),g(),x("title","MF SIP Timeline")("xAxisLabels",i.dateLabels)("legendLabels",i.legendLabels)("series",i.series)("showDataZoom",!0),g(),x("ngIf",i.groupedSips.length>0)("ngIfElse",e)}}function mbe(n,t){if(n&1){let e=ee();p(0,"div",22)(1,"app-mf-order-table",27),z("handleClickAction",function(r){k(e);let o=M(3);return N(o.handleMfOrderAction(r))}),h()()}if(n&2){let e=M(3);g(),x("groupedRows",e.mfGroupedOrders)("actions",e.mfOrderActions)}}function hbe(n,t){n&1&&(p(0,"div",22)(1,"app-note",24),y(2," You don\u2019t have any mutual fund orders in this section. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function gbe(n,t){if(n&1){let e=ee();p(0,"div"),O(1,"app-mf-order-summary",25),p(2,"div",12)(3,"div",13)(4,"app-tool-bar",26),z("filtersChanged",function(r){k(e);let o=M(2);return N(o.applyMfOrderFilters(r))})("handleRefresh",function(r){k(e);let o=M(2);return N(o.handleRefreshForMfOrders(r))}),h()(),p(5,"div",13),O(6,"fa-icon",15),h(),O(7,"div",16),p(8,"div",13)(9,"app-user-filter",17),z("selectAllUsers",function(){k(e);let r=M(2);return N(r.onAllUserSelection())})("selectUsers",function(r){k(e);let o=M(2);return N(o.onUserSelection(r))})("totalUsers",function(r){k(e);let o=M(2);return N(o.captureUsers(r))}),h()(),p(10,"div",13)(11,"app-search-input",18),z("inputChange",function(r){k(e);let o=M(2);return N(o.onMutualFundsSearch(r))}),h()()(),A(12,mbe,2,2,"div",21)(13,hbe,3,3,"ng-template",null,1,Tn),h()}if(n&2){let e=pn(14),i=M(2);g(),x("totalBuyOrders",i.totalBuyOrders)("totalBuyAmount",i.totalBuyAmount)("totalSellOrders",i.totalSellOrders)("totalSellAmount",i.totalSellAmount),g(3),x("filterOptions",i.mfOrderFilterOptions)("filterSelection",i.mfOrderFilterSelection),g(2),x("icon",i.faInfoCircle),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search mf orders by User ID or fund")("searchTerm",i.mfSearchQuery),g(),x("ngIf",i.mfGroupedOrders.length>0)("ngIfElse",e)}}function vbe(n,t){if(n&1&&(p(0,"div")(1,"div",4)(2,"div",5),A(3,ube,5,11,"div",6),h()(),A(4,pbe,17,21,"div",3)(5,gbe,15,12,"div",3),h()),n&2){let e=M();g(3),x("ngForOf",e.parentTabs),g(),x("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[0]),g(),x("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[1])}}var TZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c){this.mfService=i,this.userViewStateService=r,this.userDataStateService=o,this.toastrService=a,this.utilsService=s,this.dialog=l,this.document=c,this.faInfoCircle=CG,this.users=[],this.sips=[],this.mfOrders=[],this.filteredSips=[],this.filteredMfOrders=[],this.groupedSips=[],this.mfGroupedOrders=[],this.historicalTimelineValues=[],this.errorMessage="",this.parentTabs=["SIPs","Orders"],this.activeParentTab="SIPs",this.parentTabCounts={SIPs:0,Orders:0},this.totalSipAmount=0,this.contributionThisMonth=0,this.upcomingSips=0,this.activeSips=0,this.pausedSips=0,this.selectedUserIds=[],this.searchQuery="",this.mfSearchQuery="",this.totalBuyOrders=0,this.totalBuyAmount=0,this.totalSellOrders=0,this.totalSellAmount=0,this.filterOptions=[{key:"mfSip.status",values:["ACTIVE","PAUSED"]}],this.mfOrderFilterOptions=[{key:"custom.dayRange",values:["This Week","This Month","Last Month"]},{key:"mfOrder.status",values:["PROCESSING","COMPLETE","REJECTED"]},{key:"mfOrder.variety",values:["SIP","REGULAR"]},{key:"mfOrder.purchaseType",values:["ADDITIONAL","FRESH"]},{key:"mfOrder.transactionType",values:["BUY","SELL"]}],this.isLoadingData=!1,this.showChart=!1,this.dateLabels=[],this.legendLabels=[],this.series=[],this.actions=[{action:"activate",color:"blue",label:"Activate SIP"},{action:"pause",color:"orange",label:"Pause SIP"},{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"SIP Details"}],this.filterSelection=[],this.mfPendingStatus=["PROCESSING","OPEN"],this.mfOrderFilterSelection=[],this.fallbackAvatarUrl=ui,this.mfOrderActions=[{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"MF Order Details"}]}ngOnInit(){let i=this.userViewStateService.getState();i&&Object.keys(i).length>0&&(this.activeParentTab=i.mfSips.selectedSectionType,this.selectedUserIds=i.mfSips.selectedUsersIds,this.searchQuery=i.mfSips.searchQuery,this.mfSearchQuery=i.mfSips.mfSearchQuery,i.mfSips.filterSelection?.length>0&&(this.filterSelection=i.mfSips.filterSelection),i.mfSips.mfOrderFilterSelection?.length>0&&(this.mfOrderFilterSelection=i.mfSips.mfOrderFilterSelection)),this.getCachedData(),this.fetchSips(),this.fetchMutualFundOrders(),this.fetchHistoricalTimelineValues()}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}setActiveParentTab(i){this.activeParentTab=i,this.saveUserViewState()}onMutualFundsSearch(i){this.mfSearchQuery=i.toLowerCase(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.sips&&(this.sips=i.sips,this.renderSips()),i.mfOrders&&(this.mfOrders=i.mfOrders,this.renderMfOrders()))}setCachedData(){this.userDataStateService.setState({sips:this.sips,mfOrders:this.mfOrders})}renderSips(){this.updateSipCount(),this.updateFilteredAndGroupedSips()}fetchSips(i){this.isLoadingData=!0,this.mfService.getSips().subscribe({next:r=>{this.sips=r.data,this.renderSips(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching sips. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}updateSipCount(){this.parentTabCounts.SIPs=this.sips.length}renderMfOrders(){this.updateMfOrderCount(),this.updateFilteredAndGroupedMutualFundOrders()}fetchMutualFundOrders(i){this.isLoadingData=!0,this.mfService.getOrders().subscribe({next:r=>{this.mfOrders=r.data,this.renderMfOrders(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching mutual fund orders. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}fetchHistoricalTimelineValues(i){this.utilsService.fetchHistoricalTimelineValues("sips").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}toggleChart(){this.showChart=!this.showChart}populateTimelineChartData(){let i=this.utilsService.populateSipsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.dateLabels=i.dateLabels,this.legendLabels=i.legendLabels,this.series=i.series}updateMfOrderCount(){let i=this.mfOrders.filter(o=>this.mfPendingStatus.indexOf(o.mfOrder.status)>-1).length,r=this.mfOrders.filter(o=>this.mfPendingStatus.indexOf(o.mfOrder.status)<0).length;this.parentTabCounts.Orders=i+r}calculateGroupSummary(i){let r=0,o=0,a=0,s=0,l=0,c=new Date,u=c.getMonth(),d=c.getFullYear();for(let f of i){let m=f?.mfSip;if(!m)continue;if(m.status==="PAUSED"){l+=1;continue}let v=m.instalmentAmount||0;r+=v;let _=new Date(m.lastInstalment);_.getMonth()===u&&_.getFullYear()===d&&_<c?o+=v:a+=1,m.status==="ACTIVE"&&(s+=1)}return{totalSipAmount:r,contributionThisMonth:o,upcomingSips:a,activeSips:s,pausedSips:l}}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedSips(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState(),this.populateTimelineChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedSips(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState(),this.populateTimelineChartData()}captureUsers(i){this.users=i}onSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedSips(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({mfSips:{selectedSectionType:this.activeParentTab,selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery,mfSearchQuery:this.mfSearchQuery,filterSelection:this.filterSelection,mfOrderFilterSelection:this.mfOrderFilterSelection}})}handleAction(i){i.action==="activate"||i.action==="pause"?this.updateSip(i.action,i.row):i.action==="info"?this.utilsService.showInfo(i.row,i.row.mfSip.fund):i.action==="coinReport"&&window.open(y5(i.row.mfSip.tradingsymbol),"_blank","noopener,noreferrer")}updateSip(i,r){let o={frequency:r.mfSip.frequency,day:r.mfSip.day,instalments:r.mfSip.instalments,amount:r.mfSip.amount,status:i==="activate"?"ACTIVE":"PAUSED",sipId:r.mfSip.sipId};this.mfService.updateSip(r.userId,r.mfSip.sipId,o).pipe(Ut(a=>Me({error:!0,id:r.mfSip.sipId,message:a?.error?.message||"Unknown error"}))).subscribe({next:a=>{"error"in a&&a.error?(console.error("\u274C SIP update failed:",a),this.toastrService.error(`Account ID: ${r.userId}. SIP update for ${a.id} failed: ${a.message}`,"Error")):(this.toastrService.success(`Account ID: ${r.userId}. SIP updated successfully. SIP ID: ${r.mfSip.sipId}`,"Success"),this.sips=a.data,this.updateFilteredAndGroupedSips())},error:a=>{console.error("Fatal error:",a),this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All updates processed")}})}calculateSummary(){let i=this.calculateGroupSummary(this.filteredSips);this.totalSipAmount=i.totalSipAmount,this.contributionThisMonth=i.contributionThisMonth,this.upcomingSips=i.upcomingSips,this.activeSips=i.activeSips,this.pausedSips=i.pausedSips}calculateMfOrderSummary(){let i=this.calculateMfOrderGroupSummary(this.filteredMfOrders);this.totalBuyOrders=i.totalBuyOrders,this.totalBuyAmount=i.totalBuyAmount,this.totalSellOrders=i.totalSellOrders,this.totalSellAmount=i.totalSellAmount}calculateMfOrderGroupSummary(i){let r=0,o=0,a=0,s=0;for(let l of i){let c=l?.mfOrder;c&&(c.status==="COMPLETE"||c.status==="OPEN"||c.status==="PROCESSING")&&(c.transactionType==="BUY"?(r+=1,o+=c.amount):c.transactionType==="SELL"&&(a+=1,s+=c.amount))}return{totalBuyOrders:r,totalBuyAmount:o,totalSellOrders:a,totalSellAmount:s}}updateFilteredAndGroupedSips(){let i=this.sips;this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.mfSip.fund.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i)),this.filteredSips=i;let r={};this.filteredSips.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedSips=Object.entries(r).map(([o,a])=>Q({userId:o,sips:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)},this.calculateGroupSummary(a))),this.calculateSummary()}applyMfSipFilters(i){this.filterSelection=i,this.updateFilteredAndGroupedSips(),this.saveUserViewState()}updateFilteredAndGroupedMutualFundOrders(){let i=this.mfOrders;this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.mfSearchQuery&&(i=i.filter(o=>o.mfOrder.fund.toLowerCase().includes(this.mfSearchQuery)||o.userId.toLowerCase().includes(this.mfSearchQuery))),this.mfOrderFilterSelection.length>0&&(i=this.utilsService.filter(this.mfOrderFilterSelection,i),i=this.filterCustomDayRange(i)),this.filteredMfOrders=i;let r={};i.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.mfGroupedOrders=Object.entries(r).map(([o,a])=>Q({userId:o,orders:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)},this.calculateMfOrderGroupSummary(a))),this.calculateMfOrderSummary()}filterCustomDayRange(i){let r=this.mfOrderFilterSelection.find(o=>o.key==="custom.dayRange"&&o.selected.length>0);if(r){let o=new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate()),s=new Date(a);s.setDate(s.getDate()-s.getDay()+1);let l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()-1,1),u=new Date(o.getFullYear(),o.getMonth(),0);i=i.filter(d=>{let f=new Date(d.mfOrder.orderTimestamp);return r.selected.some(m=>m==="This Week"?f>=s&&f<=o:m==="This Month"?f>=l&&f<=o:m==="Last Month"?f>=c&&f<=u:!0)})}return i}applyMfOrderFilters(i){this.mfOrderFilterSelection=i,this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState()}handleRefreshForSips(i){this.fetchSips(i)}handleRefreshForMfOrders(i){this.fetchMutualFundOrders(i)}ngAfterViewInit(){}handleMfOrderAction(i){i.action==="info"?this.utilsService.showInfo(i.row,i.row.mfOrder.fund):i.action==="coinReport"&&window.open(y5(i.row.mfOrder.tradingsymbol),"_blank","noopener,noreferrer")}};t.\u0275fac=function(r){return new(r||t)(V(Tv),V(Un),V(Dn),V(nt),V(In),V(Xn),V(Te))},t.\u0275cmp=ie({type:t,selectors:[["app-mf-sips"]],decls:2,vars:1,consts:[["noData",""],["noMfOrderData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[3,"totalSipAmount","contributionThisMonth","upcomingSips","activeSips","pausedSips"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","toggleChart","handleRefresh","isLoadingData","filterOptions","filterSelection","showChartButton"],["matTooltip","The Mutual Fund order screen displays orders placed within the last 2 months. Verify filters or search criteria if expected orders are not visible.","matTooltipPosition","right",1,"text-blue-500","cursor-help",3,"icon"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","groupedSips","fallbackAvatarUrl","actions"],[3,"type","dismissible","atCenter"],[3,"totalBuyOrders","totalBuyAmount","totalSellOrders","totalSellAmount"],[3,"filtersChanged","handleRefresh","filterOptions","filterSelection"],[3,"handleClickAction","groupedRows","actions"]],template:function(r,o){r&1&&(p(0,"div",2),A(1,vbe,6,3,"div",3),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[Ae,ye,za,nr,xZ,CZ,SZ,Va,Oe,lr,wZ,wu,at,Bt],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();function ybe(n,t){n&1&&(p(0,"p",79),y(1,"Full name is required"),h())}function _be(n,t){if(n&1&&(p(0,"div",77),A(1,ybe,2,0,"p",78),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.signUpForm.get("fullName"))==null||e.errors==null?null:e.errors.required)}}function bbe(n,t){n&1&&(p(0,"p",79),y(1,"Email is required"),h())}function xbe(n,t){n&1&&(p(0,"p",79),y(1,"Please enter a valid email address"),h())}function Cbe(n,t){if(n&1&&(p(0,"div",77),A(1,bbe,2,0,"p",78)(2,xbe,2,0,"p",78),h()),n&2){let e,i,r=M(2);g(),x("ngIf",(e=r.signUpForm.get("email"))==null||e.errors==null?null:e.errors.required),g(),x("ngIf",(i=r.signUpForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function Sbe(n,t){n&1&&(p(0,"p",79),y(1,"Password is required"),h())}function wbe(n,t){if(n&1&&(p(0,"div",77),A(1,Sbe,2,0,"p",78),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.signUpForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function Mbe(n,t){if(n&1&&O(0,"fa-icon",80),n&2){let e=M(2);x("icon",e.faSpinner)}}function Tbe(n,t){if(n&1){let e=ee();p(0,"form",57),z("ngSubmit",function(){k(e);let r=M();return N(r.sendOtp())}),p(1,"div")(2,"label",58),y(3," Full Name "),p(4,"span",59),y(5,"*"),h()(),p(6,"div",41),O(7,"input",60),p(8,"div",61),Ht(),p(9,"svg",62),O(10,"path",63),h()()(),A(11,_be,2,1,"div",64),h(),zn(),p(12,"div")(13,"label",65),y(14," Email Address "),p(15,"span",59),y(16,"*"),h()(),p(17,"div",41)(18,"input",66),z("input",function(r){k(e);let o=M();return N(o.toLowerCase(r))}),h(),p(19,"div",61),Ht(),p(20,"svg",62),O(21,"path",67),h()()(),A(22,Cbe,3,2,"div",64),h(),zn(),p(23,"div")(24,"label",68),y(25," Password "),p(26,"span",59),y(27,"*"),h()(),p(28,"div",41),O(29,"input",69),p(30,"button",70),z("click",function(){k(e);let r=M();return N(r.showPassword=!r.showPassword)}),O(31,"fa-icon",71),h()(),A(32,wbe,2,1,"div",64),h(),p(33,"div",72)(34,"p"),y(35,"Password must be between 8 and 20 characters."),h()(),p(36,"div",73),y(37," By creating an account, you agree to our "),p(38,"a",74),y(39,"Terms of Service"),h(),y(40," and "),p(41,"a",74),y(42,"Privacy Policy"),h(),y(43,". "),h(),p(44,"button",75),A(45,Mbe,1,1,"fa-icon",76),y(46),h()()}if(n&2){let e,i,r,o=M();x("formGroup",o.signUpForm),g(11),x("ngIf",((e=o.signUpForm.get("fullName"))==null?null:e.touched)&&((e=o.signUpForm.get("fullName"))==null?null:e.invalid)),g(11),x("ngIf",((i=o.signUpForm.get("email"))==null?null:i.touched)&&((i=o.signUpForm.get("email"))==null?null:i.invalid)),g(7),x("type",o.showPassword?"text":"password"),g(2),x("icon",o.showPassword?o.faEyeSlash:o.faEye),g(),x("ngIf",((r=o.signUpForm.get("password"))==null?null:r.touched)&&((r=o.signUpForm.get("password"))==null?null:r.invalid)),g(12),x("disabled",o.signUpForm.invalid||o.isSendingOtp),g(),x("ngIf",o.isSendingOtp),g(),H(" ",o.isSendingOtp?"Creating Account...":"Create Account & Send OTP"," ")}}function Ebe(n,t){n&1&&(p(0,"p",79),y(1,"OTP is required"),h())}function Dbe(n,t){if(n&1&&(p(0,"div",77),A(1,Ebe,2,0,"p",78),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.otpForm.get("otp"))==null||e.errors==null?null:e.errors.required)}}function Ibe(n,t){if(n&1&&O(0,"fa-icon",80),n&2){let e=M(2);x("icon",e.faSpinner)}}function Lbe(n,t){if(n&1){let e=ee();p(0,"form",81),z("ngSubmit",function(){k(e);let r=M();return N(r.verifyOtp())}),p(1,"div",82)(2,"div",83),Ht(),p(3,"svg",84),O(4,"path",67),h()(),zn(),p(5,"p",85),y(6," Verification code sent to: "),h(),p(7,"p",86),y(8),h()(),p(9,"div")(10,"label",87),y(11," Enter 6-digit OTP "),p(12,"span",59),y(13,"*"),h()(),O(14,"input",88),A(15,Dbe,2,1,"div",64),h(),p(16,"div",89)(17,"p"),y(18,"Didn't receive the code?"),h(),p(19,"div",90)(20,"button",91),z("click",function(){k(e);let r=M();return N(r.otpSent=!1)}),y(21," Change Email "),h()()(),p(22,"button",75),A(23,Ibe,1,1,"fa-icon",76),y(24),h()()}if(n&2){let e,i=M();x("formGroup",i.otpForm),g(8),j(i.signUpForm.value.email),g(7),x("ngIf",((e=i.otpForm.get("otp"))==null?null:e.touched)&&((e=i.otpForm.get("otp"))==null?null:e.invalid)),g(7),x("disabled",i.otpForm.invalid||i.isVerifyingOtp),g(),x("ngIf",i.isVerifyingOtp),g(),H(" ",i.isVerifyingOtp?"Verifying...":"Verify & Complete Registration"," ")}}var EZ=(()=>{let t=class t{constructor(i,r,o,a){this.fb=i,this.authUserService=r,this.toastrService=o,this.router=a,this.otpSent=!1,this.isSendingOtp=!1,this.isVerifyingOtp=!1,this.faSpinner=ko,this.showPassword=!1,this.faEye=ds,this.faEyeSlash=Yl,localStorage.removeItem("trade-manage-app-token"),this.authUserService.resetLoggingOutFlag(),this.signUpForm=this.fb.group({fullName:["",Ue.required],password:["",Ue.required],email:["",[Ue.required,Ue.email]]}),this.otpForm=this.fb.group({otp:["",Ue.required]})}sendOtp(){if(console.log("sendOtp() called"),this.isSendingOtp=!0,this.signUpForm.invalid){this.signUpForm.markAllAsTouched(),this.isSendingOtp=!1,console.log("Form is invalid, stopping submission");return}let i=this.signUpForm.value;console.log("Signup request:",i),console.log("Calling authUserService.sendSignupOtp()..."),this.authUserService.sendSignupOtp(i).subscribe({next:r=>{console.log("OTP sent successfully:",r),this.isSendingOtp=!1,this.toastrService.success("An OTP has been sent to your email address. Please check your inbox and spam folder.","Success"),this.otpSent=!0},error:r=>{console.error("Error sending OTP:",r),this.isSendingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while sending OTP. Verify that the backend service is operational.","Error")}})}verifyOtp(){if(this.isVerifyingOtp=!0,this.otpForm.invalid){this.otpForm.markAllAsTouched(),this.isVerifyingOtp=!1;return}let i=De(Q({},this.signUpForm.value),{otp:this.otpForm.value.otp});this.authUserService.signup(i).subscribe({next:r=>{this.isVerifyingOtp=!1,this.router.navigate(["/login"]),this.toastrService.success("Account created! You can now log in.","Success")},error:r=>{this.isVerifyingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while registering user. Verify that the backend service is operational.","Error")}})}toLowerCase(i){let r=i.target;r.value=r.value.toLowerCase(),this.signUpForm.get("email")?.setValue(r.value,{emitEvent:!1})}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(ar),V(nt),V(un))},t.\u0275cmp=ie({type:t,selectors:[["app-signup"]],decls:107,vars:13,consts:[[1,"min-h-screen","bg-gradient-to-br","from-green-50","via-white","to-emerald-50"],[1,"flex","flex-col","lg:flex-row","min-h-screen"],[1,"lg:w-1/2","bg-gradient-to-br","from-emerald-600","via-green-700","to-teal-800","text-white","flex","flex-col","justify-center","p-8","lg:p-16"],[1,"max-w-md","mx-auto","lg:mx-0"],[1,"flex","items-center","mb-6"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","height","48","width","48",1,"w-12","h-10","rounded-lg","mr-3","shadow-lg","mb-4"],[1,"text-3xl","font-bold"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6","leading-tight"],[1,"text-green-200"],[1,"text-xl","text-green-100","mb-8","leading-relaxed"],[1,"space-y-4"],[1,"flex","items-center"],[1,"w-8","h-8","bg-green-500","rounded-full","flex","items-center","justify-center","mr-4"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["fill-rule","evenodd","d","M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],[1,"text-green-100"],["fill-rule","evenodd","d","M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z","clip-rule","evenodd"],["fill-rule","evenodd","d","M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"mt-12","p-6","bg-green-500/20","rounded-lg","border","border-green-400/30"],[1,"flex","items-start","space-x-4"],[1,"w-12","h-12","bg-green-400","rounded-full","flex","items-center","justify-center","text-green-800","font-bold","text-lg"],[1,"text-green-100","italic","mb-2"],[1,"text-green-200","text-sm"],[1,"grid","grid-cols-2","gap-6","mt-8","pt-8","border-t","border-green-500"],[1,"text-center"],[1,"text-3xl","font-bold","text-green-200"],[1,"text-sm","text-green-300"],[1,"lg:w-1/2","flex","items-center","justify-center","p-8","lg:p-16"],[1,"w-full","max-w-md"],[1,"mb-8"],[1,"flex","items-center","justify-center","space-x-4"],[1,"w-8","h-8","bg-green-600","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"ml-2","text-sm","font-medium"],[1,"w-8","border-t-2"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","space-y-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mt-8","mb-6"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-4","bg-white","text-gray-500"],["routerLink","/login",1,"w-full","bg-white","border-2","border-green-600","text-green-600","py-3","px-4","rounded-lg","font-medium","hover:bg-green-50","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-6","text-center"],[1,"text-xs","text-gray-500"],["href","mailto:support@famvest.com",1,"text-green-600","hover:text-green-500","underline"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"flex","items-center","justify-center","space-x-6","text-xs","text-gray-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-green-500"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-blue-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-purple-500"],["fill-rule","evenodd","d","M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z","clip-rule","evenodd"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","fullName",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["formControlName","fullName","type","text","id","fullName","name","fullName","placeholder","Enter your full name","required","","autocomplete","name",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["class","mt-2",4,"ngIf"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","email","type","text","id","email","name","email","placeholder","Enter your email address","required","","autocomplete","email",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all",3,"input"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","password","id","password","required","","placeholder","Create a strong password","autocomplete","new-password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all","pr-12",3,"type"],["type","button","tabindex","-1",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[1,"h-5","w-5",3,"icon"],[1,"text-xs","text-gray-500","space-y-1"],[1,"text-sm","text-gray-600","bg-gray-50","p-4","rounded-lg"],["href","#",1,"text-green-600","hover:text-green-500","underline"],["type","submit",1,"w-full","bg-gradient-to-r","from-green-600","to-green-700","text-white","py-3","px-4","rounded-lg","font-medium","hover:from-green-700","hover:to-green-800","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]","flex","items-center","justify-center","gap-2",3,"disabled"],["class","fa-spin",3,"icon",4,"ngIf"],[1,"mt-2"],["class","text-red-500 text-sm",4,"ngIf"],[1,"text-red-500","text-sm"],[1,"fa-spin",3,"icon"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"text-center","p-4","bg-green-50","rounded-lg","border","border-green-200"],[1,"flex","items-center","justify-center","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],[1,"text-sm","text-gray-700"],[1,"text-green-700","font-semibold"],["for","otp",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","otp","name","otp","formControlName","otp","placeholder","000000","required","","maxlength","6","autocomplete","one-time-code",1,"w-full","px-4","py-3","tracking-widest","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all"],[1,"text-center","text-sm","text-gray-500"],[1,"flex","items-center","justify-center","space-x-4","mt-2"],["type","button",1,"text-green-600","hover:text-green-500","underline",3,"click"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),O(5,"img",5),p(6,"h1",6),y(7,"FamVest"),h()(),p(8,"h2",7),y(9," Start Your"),O(10,"br"),p(11,"span",8),y(12,"Investment Journey"),h()(),p(13,"p",9),y(14," Join thousands of families who trust FamVest to manage their financial future. Get started with your free account today. "),h(),p(15,"div",10)(16,"div",11)(17,"div",12),Ht(),p(18,"svg",13),O(19,"path",14),h()(),zn(),p(20,"span",15),y(21,"Free Account Setup"),h()(),p(22,"div",11)(23,"div",12),Ht(),p(24,"svg",13),O(25,"path",16),h()(),zn(),p(26,"span",15),y(27,"Real-time Portfolio Tracking"),h()(),p(28,"div",11)(29,"div",12),Ht(),p(30,"svg",13),O(31,"path",17),h()(),zn(),p(32,"span",15),y(33,"Encrypted Storage & Data Isolation"),h()()(),p(34,"div",18)(35,"div",19)(36,"div",20),y(37," R "),h(),p(38,"div")(39,"p",21),y(40,` "FamVest helped us organize our family's investments and track our progress towards financial goals. Highly recommended!" `),h(),p(41,"div",22)(42,"strong"),y(43,"Rajesh Kumar"),h(),y(44," \u2022 Family Investor "),h()()()(),p(45,"div",23)(46,"div",24)(47,"div",25),y(48,"2 Min"),h(),p(49,"div",26),y(50,"Quick Setup"),h()(),p(51,"div",24)(52,"div",25),y(53,"Free"),h(),p(54,"div",26),y(55,"Always Free Plan"),h()()()()(),p(56,"div",27)(57,"div",28)(58,"div",29)(59,"div",30)(60,"div",11)(61,"div",31),y(62," 1 "),h(),p(63,"span",32),y(64," Account Details "),h()(),O(65,"div",33),p(66,"div",11)(67,"div",34),y(68," 2 "),h(),p(69,"span",32),y(70," Verify Email "),h()()()(),p(71,"div",35)(72,"h2",36),y(73,"Create Your Account"),h(),p(74,"p",37),y(75),h()(),A(76,Tbe,47,9,"form",38)(77,Lbe,25,6,"form",39),p(78,"div",40)(79,"div",41)(80,"div",42),O(81,"div",43),h(),p(82,"div",44)(83,"span",45),y(84,"Already have an account?"),h()()()(),p(85,"div",24)(86,"button",46),y(87," Sign In to Existing Account "),h()(),p(88,"div",47)(89,"p",48),y(90," Need help? Contact us at "),p(91,"a",49),y(92," famvest@hotmail.com "),h()(),p(93,"div",50)(94,"div",51)(95,"div",11),Ht(),p(96,"svg",52),O(97,"path",53),h(),y(98," SSL Secured "),h(),zn(),p(99,"div",11),Ht(),p(100,"svg",54),O(101,"path",17),h(),y(102," Encrypted Storage "),h(),zn(),p(103,"div",11),Ht(),p(104,"svg",55),O(105,"path",56),h(),y(106," Data Isolation "),h()()()()()()()()),r&2&&(g(61),Fn(o.otpSent?"bg-green-100 text-green-600":"bg-green-600 text-white"),g(2),Fn(o.otpSent?"text-gray-500":"text-green-600"),g(2),Fn(o.otpSent?"border-green-600":"border-gray-300"),g(2),Fn(o.otpSent?"bg-green-600 text-white":"bg-gray-300 text-gray-500"),g(2),Fn(o.otpSent?"text-green-600":"text-gray-500"),g(6),H(" ",o.otpSent?"We've sent a verification code to your email":"Join FamVest and start managing your investments"," "),g(),x("ngIf",!o.otpSent),g(),x("ngIf",o.otpSent))},dependencies:[di,Or,Yt,Zt,Pr,mo,Wc,_r,br,ye,kr,at,Lo],encapsulation:2});let n=t;return n})();var Gr={home:"Home | FamVest App",watchlist:"Watchlist | FamVest App",holdings:"Holdings | FamVest App",positions:"Positions | FamVest App",orders:"Orders | FamVest App",basketOrder:"Basket Order | FamVest App",funds:"Funds | FamVest App",mf:"Mutual Funds | FamVest App",algo:"Algo | FamVest App",historicalData:"Historical Data | FamVest App",administration:"Administration | FamVest App",scheduledTasks:"Scheduled Tasks | FamVest App",applicationUsers:"Application Users | FamVest App",ipos:"IPOs | FamVest App",myProfile:"My Profile | FamVest App",login:"Login | FamVest App",signup:"Signup | FamVest App",settings:"Settings | FamVest App",notFound:"404 | Page Not Found"};var Tu=(()=>{let t=class t{constructor(i){this.api=i}getStraddles(){return this.api.get("/v1/algo/straddles")}getStraddleExecutions(){return this.api.get("/v1/algo/straddles/executions")}getStraddleExecutionsByStraddleId(i){return this.api.get(`/v1/algo/straddles/executions/${i}`)}getStraddleExecutionPnlForToday(){return this.api.get("/v1/algo/straddles/executions/pnl")}updateStraddleStatus(i,r){return this.api.patch(`/v1/algo/straddles/${i}/status`,r)}executeStraddle(i){return this.api.post(`/v1/algo/straddles/${i}/execute`)}saveStraddleStrategy(i){return this.api.post("/v1/algo/straddles",i)}updateStraddleStrategy(i,r){return this.api.put(`/v1/algo/straddles/${i}`,r)}deleteStraddleStrategy(i){return this.api.delete(`/v1/algo/straddles/${i}`)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Abe(n,t){if(n&1&&(p(0,"option",54),y(1),h()),n&2){let e=t.$implicit;x("value",e.userId),g(),Bn(" ",e.name," - ",e.userId," ")}}function zbe(n,t){n&1&&(p(0,"p",55),y(1,"Trading Account is required."),h())}function kbe(n,t){n&1&&(p(0,"p",55),y(1,"Side is required."),h())}function Nbe(n,t){n&1&&(p(0,"p",55),y(1,"Instrument is required."),h())}function Pbe(n,t){n&1&&(p(0,"p",55),y(1,"Underlying Strike Selector is required."),h())}function Obe(n,t){n&1&&(p(0,"p",55),y(1,"Underlying Segment is required."),h())}function Rbe(n,t){n&1&&(p(0,"p",55),y(1,"Exchange is required."),h())}function Fbe(n,t){n&1&&(p(0,"p",55),y(1,"Trading Segment is required."),h())}function Bbe(n,t){n&1&&(p(0,"p",55),y(1,"Index is required."),h())}function Vbe(n,t){n&1&&(p(0,"p",55),y(1,"Strike Step is required."),h())}function Ube(n,t){n&1&&(p(0,"p",55),y(1,"Lots are required."),h())}function Hbe(n,t){n&1&&(p(0,"p",55),y(1,"Entry Time is required."),h())}function jbe(n,t){n&1&&(p(0,"p",55),y(1,"Exit Time is required."),h())}function Gbe(n,t){n&1&&(p(0,"p",55),y(1,"Stop Loss is required."),h())}function Wbe(n,t){n&1&&(p(0,"p",55),y(1,"Target Loss is required."),h())}function qbe(n,t){n&1&&(p(0,"p",55),y(1,"Expiry Scope is required."),h())}function $be(n,t){n&1&&(p(0,"p",55),y(1,"Order Type is required."),h())}function Ybe(n,t){n&1&&(p(0,"p",55),y(1,"Trade Type is required."),h())}function Zbe(n,t){n&1&&(p(0,"p",55),y(1,"Trade Type is required."),h())}var DZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c){this.fb=i,this.toastrService=r,this.dialogRef=o,this.algoService=a,this.userService=s,this.utilService=l,this.data=c,this.isEditMode=!1,this.users=[],this.id=0,c&&(this.isEditMode=!0),this.id=c?.id,this.straddleForm=this.fb.group({userId:[c?.userId||"",Ue.required],side:[c?.side||"SHORT",Ue.required],instrument:[{value:c?.instrument||"",disabled:this.isEditMode},Ue.required],underlyingStrikeSelector:[c?.underlyingStrikeSelector||"INDEX",Ue.required],underlyingSegment:[c?.underlyingSegment||"",Ue.required],exchange:[c?.exchange||"",Ue.required],tradingSegment:[c?.tradingSegment||"",Ue.required],index:[c?.index||"",Ue.required],strikeStep:[c?.strikeStep||"50",Ue.required],lots:[c?.lots||1,Ue.required],orderType:[c?.marketOrder===!1?"LIMIT":"MARKET",Ue.required],entryTime:[this.utilService.convertUtcTimeToLocal(c?.entryTime)||"09:30:00",Ue.required],exitTime:[this.utilService.convertUtcTimeToLocal(c?.exitTime)||"15:15:00",Ue.required],tradeType:[c?.paperTrade===!1?"LIVE":"PAPER",Ue.required],stopLoss:[c?.stopLoss||"",Ue.required],trailingSl:[c?.trailingSl===!0?"Yes":"No",Ue.required],target:[c?.target||"",Ue.required],expiryScope:[c?.expiryScope||"CURRENT",Ue.required]}),this.isEditMode&&(this.straddleForm.get("userId")?.disable(),this.straddleForm.get("instrument")?.disable()),this.straddleForm.get("instrument")?.valueChanges.subscribe(u=>{let d,f,m,v,_=this.straddleForm.get("underlyingStrikeSelector")?.value;(u==="NIFTY 50"||u==="NIFTY BANK")&&_==="INDEX"?(v="NSE",d="NSE",f="NFO-OPT",m=u==="NIFTY BANK"?"BANKNIFTY":"NIFTY"):(u==="NIFTY 50"||u==="NIFTY BANK")&&_==="FUTURE"?(v="NFO-FUT",d="NSE",f="NFO-OPT",m=u==="NIFTY BANK"?"BANKNIFTY":"NIFTY"):u==="SENSEX"&&_==="INDEX"?(v="BSE",d="BSE",f="BFO-OPT",m="SENSEX"):u==="SENSEX"&&_==="FUTURE"&&(v="BFO-FUT",d="BSE",f="BFO-OPT",m="SENSEX"),this.straddleForm.patchValue({underlyingSegment:v,exchange:d,tradingSegment:f,index:m})}),this.straddleForm.get("underlyingStrikeSelector")?.valueChanges.subscribe(u=>{let d=this.straddleForm.get("instrument")?.value,f;(d==="NIFTY 50"||d==="NIFTY BANK")&&u==="INDEX"?f="NSE":(d==="NIFTY 50"||d==="NIFTY BANK")&&u==="FUTURE"?f="NFO-FUT":d==="SENSEX"&&u==="INDEX"?f="BSE":d==="SENSEX"&&u==="FUTURE"&&(f="BFO-FUT"),this.straddleForm.patchValue({underlyingSegment:f})})}fetchUsers(){this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data.filter(r=>r.active)},error:i=>{this.toastrService.error(i.error.message,"Error"),console.error(i)}})}submit(){if(this.straddleForm.invalid){this.straddleForm.markAllAsTouched();return}let i=this.straddleForm.getRawValue();(this.isEditMode?this.algoService.updateStraddleStrategy(this.id,i):this.algoService.saveStraddleStrategy(i)).subscribe({next:()=>{this.toastrService.success(`Straddle strategy ${this.isEditMode?"updated":"created"} successfully.`,"Success"),this.dialogRef.close("submitted")},error:o=>{o.error.message?this.toastrService.error(o.error.message,"Error"):this.toastrService.error("An unexpected error occurred while adding straddle strategy. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}ngOnInit(){this.fetchUsers()}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(nt),V(Ni),V(Tu),V(tr),V(In),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-add-manage-straddle-strategy"]],decls:187,vars:34,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"max-h-screen","overflow-auto","sm:overflow-visible"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","userId","required","",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","side","required","",1,"form-control"],["value","SHORT"],["value","LONG"],["formControlName","instrument","required","",1,"form-control"],["value","NIFTY 50"],["value","NIFTY BANK"],["value","SENSEX"],["formControlName","underlyingStrikeSelector","required","",1,"form-control"],["selected","","value","INDEX"],["value","FUTURE"],[3,"hidden"],["formControlName","underlyingSegment","type","text","required","",1,"form-control"],["formControlName","exchange","type","text","required","",1,"form-control"],["formControlName","tradingSegment","type","text","required","",1,"form-control"],["formControlName","index","type","text","required","",1,"form-control"],["formControlName","strikeStep","required","",1,"form-control"],["value","50"],["value","100"],["value","500"],["formControlName","lots","type","number","min","1","required","",1,"form-control"],["formControlName","entryTime","type","time","step","1","required","",1,"form-control"],["formControlName","exitTime","type","time","step","1","required","",1,"form-control"],["formControlName","stopLoss","type","number","step","100","min","100",1,"form-control"],["formControlName","target","type","number","step","100","min","100",1,"form-control"],["formControlName","expiryScope","required","",1,"form-control"],["value","CURRENT"],["value","NEXT"],["formControlName","orderType","required","",1,"form-control"],["value","MARKET"],["value","LIMIT"],["formControlName","tradeType","required","",1,"form-control"],["selected","","value","PAPER"],["value","LIVE"],["formControlName","trailingSl","required","",1,"form-control"],["selected","","value","No"],["value","Yes"],[1,"flex","flex-wrap","gap-2","mt-2","items-center"],[1,"mt-3",3,"text","color"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-4"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100",3,"click"],[3,"value"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(p(0,"div",0)(1,"div",1)(2,"span",2),y(3),h()(),p(4,"div",3)(5,"div",4)(6,"form",5),z("ngSubmit",function(){return o.submit()}),p(7,"div",6)(8,"div")(9,"label",7),y(10,"Trading Account "),p(11,"span",8),y(12,"*"),h()(),p(13,"select",9)(14,"option",10),y(15,"Select Account"),h(),A(16,Abe,2,3,"option",11),h(),A(17,zbe,2,0,"p",12),h(),p(18,"div")(19,"label",7),y(20,"Side "),p(21,"span",8),y(22,"*"),h()(),p(23,"select",13)(24,"option",14),y(25,"SHORT"),h(),p(26,"option",15),y(27,"LONG"),h()(),A(28,kbe,2,0,"p",12),h(),p(29,"div")(30,"label",7),y(31,"Instrument "),p(32,"span",8),y(33,"*"),h()(),p(34,"select",16)(35,"option",10),y(36,"Select Instrument"),h(),p(37,"option",17),y(38,"NIFTY 50"),h(),p(39,"option",18),y(40,"NIFTY BANK"),h(),p(41,"option",19),y(42,"SENSEX"),h()(),A(43,Nbe,2,0,"p",12),h(),p(44,"div")(45,"label",7),y(46,"Underlying Strike Selector "),p(47,"span",8),y(48,"*"),h()(),p(49,"select",20)(50,"option",21),y(51,"INDEX"),h(),p(52,"option",22),y(53,"FUTURE"),h()(),A(54,Pbe,2,0,"p",12),h(),p(55,"div",23)(56,"label",7),y(57,"Underlying Segment "),p(58,"span",8),y(59,"*"),h()(),O(60,"input",24),A(61,Obe,2,0,"p",12),h(),p(62,"div",23)(63,"label",7),y(64,"Exchange "),p(65,"span",8),y(66,"*"),h()(),O(67,"input",25),A(68,Rbe,2,0,"p",12),h(),p(69,"div",23)(70,"label",7),y(71,"Trading Segment "),p(72,"span",8),y(73,"*"),h()(),O(74,"input",26),A(75,Fbe,2,0,"p",12),h(),p(76,"div",23)(77,"label",7),y(78,"Index "),p(79,"span",8),y(80,"*"),h()(),O(81,"input",27),A(82,Bbe,2,0,"p",12),h(),p(83,"div")(84,"label",7),y(85,"Strike Step "),p(86,"span",8),y(87,"*"),h()(),p(88,"select",28)(89,"option",29),y(90,"50"),h(),p(91,"option",30),y(92,"100"),h(),p(93,"option",30),y(94,"200"),h(),p(95,"option",31),y(96,"500"),h()(),A(97,Vbe,2,0,"p",12),h(),p(98,"div")(99,"label",7),y(100,"Lots "),p(101,"span",8),y(102,"*"),h()(),O(103,"input",32),A(104,Ube,2,0,"p",12),h(),p(105,"div")(106,"label",7),y(107,"Entry Time "),p(108,"span",8),y(109,"*"),h()(),O(110,"input",33),A(111,Hbe,2,0,"p",12),h(),p(112,"div")(113,"label",7),y(114,"Exit Time "),p(115,"span",8),y(116,"*"),h()(),O(117,"input",34),A(118,jbe,2,0,"p",12),h(),p(119,"div")(120,"label",7),y(121,"Stop Loss "),p(122,"span",8),y(123,"*"),h()(),O(124,"input",35),A(125,Gbe,2,0,"p",12),h(),p(126,"div")(127,"label",7),y(128,"Target "),p(129,"span",8),y(130,"*"),h()(),O(131,"input",36),A(132,Wbe,2,0,"p",12),h(),p(133,"div")(134,"label",7),y(135,"Expiry Scope "),p(136,"span",8),y(137,"*"),h()(),p(138,"select",37)(139,"option",38),y(140,"Current"),h(),p(141,"option",39),y(142,"Next"),h()(),A(143,qbe,2,0,"p",12),h(),p(144,"div")(145,"label",7),y(146,"Order Type "),p(147,"span",8),y(148,"*"),h()(),p(149,"select",40)(150,"option",41),y(151,"Market"),h(),p(152,"option",42),y(153,"Limit"),h()(),A(154,$be,2,0,"p",12),h(),p(155,"div")(156,"label",7),y(157,"Trade Type "),p(158,"span",8),y(159,"*"),h()(),p(160,"select",43)(161,"option",44),y(162,"PAPER"),h(),p(163,"option",45),y(164,"LIVE"),h()(),A(165,Ybe,2,0,"p",12),h(),p(166,"div")(167,"label",7),y(168,"Trailing SL"),p(169,"span",8),y(170,"*"),h()(),p(171,"select",46)(172,"option",47),y(173,"No"),h(),p(174,"option",48),y(175,"Yes"),h()(),A(176,Zbe,2,0,"p",12),h(),p(177,"div",49),O(178,"app-small-chip",50)(179,"app-small-chip",50)(180,"app-small-chip",50)(181,"app-small-chip",50),h()(),p(182,"div",51)(183,"button",52),y(184),h(),p(185,"button",53),z("click",function(){return o.onClose()}),y(186," Cancel "),h()()()()()()),r&2){let a,s,l,c,u,d,f,m,v,_,b,C,w,E,D,L,P,F,G,q,Y,W;g(3),H("",o.isEditMode?"Edit":"Create"," Straddle Strategy"),g(3),x("formGroup",o.straddleForm),g(10),x("ngForOf",o.users),g(),x("ngIf",((a=o.straddleForm.get("userId"))==null?null:a.touched)&&((a=o.straddleForm.get("userId"))==null?null:a.invalid)),g(11),x("ngIf",((s=o.straddleForm.get("side"))==null?null:s.touched)&&((s=o.straddleForm.get("side"))==null?null:s.invalid)),g(15),x("ngIf",((l=o.straddleForm.get("instrument"))==null?null:l.touched)&&((l=o.straddleForm.get("instrument"))==null?null:l.invalid)),g(11),x("ngIf",((c=o.straddleForm.get("underlyingStrikeSelector"))==null?null:c.touched)&&((c=o.straddleForm.get("underlyingStrikeSelector"))==null?null:c.invalid)),g(),x("hidden",!0),g(6),x("ngIf",((u=o.straddleForm.get("underlyingSegment"))==null?null:u.touched)&&((u=o.straddleForm.get("underlyingSegment"))==null?null:u.invalid)),g(),x("hidden",!0),g(6),x("ngIf",((d=o.straddleForm.get("exchange"))==null?null:d.touched)&&((d=o.straddleForm.get("exchange"))==null?null:d.invalid)),g(),x("hidden",!0),g(6),x("ngIf",((f=o.straddleForm.get("tradingSegment"))==null?null:f.touched)&&((f=o.straddleForm.get("tradingSegment"))==null?null:f.invalid)),g(),x("hidden",!0),g(6),x("ngIf",((m=o.straddleForm.get("index"))==null?null:m.touched)&&((m=o.straddleForm.get("index"))==null?null:m.invalid)),g(15),x("ngIf",((v=o.straddleForm.get("strikeStep"))==null?null:v.touched)&&((v=o.straddleForm.get("strikeStep"))==null?null:v.invalid)),g(7),x("ngIf",((_=o.straddleForm.get("lots"))==null?null:_.touched)&&((_=o.straddleForm.get("lots"))==null?null:_.invalid)),g(7),x("ngIf",((b=o.straddleForm.get("entryTime"))==null?null:b.touched)&&((b=o.straddleForm.get("entryTime"))==null?null:b.invalid)),g(7),x("ngIf",((C=o.straddleForm.get("exitTime"))==null?null:C.touched)&&((C=o.straddleForm.get("exitTime"))==null?null:C.invalid)),g(7),x("ngIf",((w=o.straddleForm.get("stopLoss"))==null?null:w.touched)&&((w=o.straddleForm.get("stopLoss"))==null?null:w.invalid)),g(7),x("ngIf",((E=o.straddleForm.get("target"))==null?null:E.touched)&&((E=o.straddleForm.get("target"))==null?null:E.invalid)),g(11),x("ngIf",((D=o.straddleForm.get("expiryScope"))==null?null:D.touched)&&((D=o.straddleForm.get("expiryScope"))==null?null:D.invalid)),g(11),x("ngIf",((L=o.straddleForm.get("orderType"))==null?null:L.touched)&&((L=o.straddleForm.get("orderType"))==null?null:L.invalid)),g(11),x("ngIf",((P=o.straddleForm.get("tradeType"))==null?null:P.touched)&&((P=o.straddleForm.get("tradeType"))==null?null:P.invalid)),g(11),x("ngIf",((F=o.straddleForm.get("tradeType"))==null?null:F.touched)&&((F=o.straddleForm.get("tradeType"))==null?null:F.invalid)),g(2),x("text",(G=o.straddleForm.get("exchange"))==null?null:G.value)("color","gray"),g(),x("text",(q=o.straddleForm.get("tradingSegment"))==null?null:q.value)("color","gray"),g(),x("text",(Y=o.straddleForm.get("index"))==null?null:Y.value)("color","gray"),g(),x("text",(W=o.straddleForm.get("underlyingSegment"))==null?null:W.value)("color","gray"),g(3),H(" ",o.isEditMode?"Update":"Create"," ")}},dependencies:[di,Or,La,Aa,Yt,jc,Ao,Zt,Pr,mo,Gc,_r,br,or,rr,Ae,gn,ye],encapsulation:2});let n=t;return n})();var Xbe=(n,t)=>({"bg-green-50":n,"bg-red-50":t});function Qbe(n,t){if(n&1&&(p(0,"option",33),y(1),h()),n&2){let e=t.$implicit,i=M();x("value",e),g(),H(" ",i.getMonthLabel(e)," ")}}function Kbe(n,t){n&1&&(p(0,"div",34),O(1,"div",35),h())}function Jbe(n,t){n&1&&(p(0,"div",36),Ht(),p(1,"svg",37),O(2,"path",38),h(),zn(),p(3,"p",39),y(4,"No executions found matching the selected filters."),h()())}function exe(n,t){if(n&1&&(p(0,"tr",46)(1,"td",47),O(2,"app-small-chip",48),h(),p(3,"td",47),y(4),h(),p(5,"td",49),y(6),$(7,"istDate"),h(),p(8,"td",49),y(9),$(10,"istDate"),h(),p(11,"td",49),y(12),h(),p(13,"td",49),y(14),h(),p(15,"td",49),y(16),h(),p(17,"td",49),y(18),h(),p(19,"td",49),y(20),h(),p(21,"td",49),y(22),h(),p(23,"td",50),y(24),h()()),n&2){let e=t.$implicit,i=M(2);x("ngClass",Qe(20,Xbe,e.exitPnl>0,e.exitPnl<0)),g(2),x("text",i.getTradeType(e))("color",i.getTradeTypeChipColor(e)),g(2),j(i.formatDate(e.executionDate)),g(2),j(X(7,14,e.createdAt,"time-no-mod")||"-"),g(3),j(X(10,17,e.exitedAt,"time-no-mod")||"-"),g(3),j(e.callStrike||"-"),g(2),j(e.putStrike||"-"),g(2),j(i.formatCurrency(e.callEntryPrice)),g(2),j(i.formatCurrency(e.callExitPrice)),g(2),j(i.formatCurrency(e.putEntryPrice)),g(2),j(i.formatCurrency(e.putExitPrice)),g(),x("ngClass",i.getPnlClass(e.exitPnl)),g(),H(" ",i.formatCurrency(e.exitPnl)," ")}}function txe(n,t){if(n&1&&(p(0,"div",40)(1,"table",41)(2,"thead",42)(3,"tr")(4,"th",43),y(5,"Type"),h(),p(6,"th",43),y(7,"Date"),h(),p(8,"th",43),y(9,"Entry Time"),h(),p(10,"th",43),y(11,"Exit Time"),h(),p(12,"th",43),y(13,"CE Strike"),h(),p(14,"th",43),y(15,"PE Strike"),h(),p(16,"th",43),y(17,"CE Entry Price"),h(),p(18,"th",43),y(19,"CE Exit Price"),h(),p(20,"th",43),y(21,"PE Entry Price"),h(),p(22,"th",43),y(23,"PE Exit Price"),h(),p(24,"th",43),y(25,"P&L"),h()()(),p(26,"tbody",44),A(27,exe,25,23,"tr",45),h()()()),n&2){let e=M();g(27),x("ngForOf",e.filteredExecutions)}}var IZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.algoService=i,this.toastrService=r,this.utilsService=o,this.dialogRef=a,this.data=s,this.executions=[],this.filteredExecutions=[],this.isLoading=!0,this.profitLossFilter="all",this.typeFilter="all",this.selectedMonth="all",this.availableMonths=[],this.summary={totalExecutions:0,profitableExecutions:0,lossExecutions:0,totalPnl:0,totalProfit:0,totalLoss:0,avgPnl:0,winRate:0},this.straddleId=s.straddleId,this.strategyName=s.strategyName||`Straddle #${this.straddleId}`}ngOnInit(){this.fetchExecutions()}fetchExecutions(){this.isLoading=!0,this.algoService.getStraddleExecutionsByStraddleId(this.straddleId).subscribe({next:i=>{this.executions=(i.data||[]).filter(r=>r.exitPnl!==null&&r.exitPnl!==void 0),this.extractAvailableMonths(),this.availableMonths.length>0&&(this.selectedMonth=this.availableMonths[0]),this.calculateSummary(),this.applyFilters(),this.isLoading=!1},error:i=>{this.toastrService.error(i?.error?.message||"Failed to fetch executions","Error"),this.isLoading=!1}})}extractAvailableMonths(){let i=new Set;this.executions.forEach(r=>{if(r.executionDate){let o=new Date(r.executionDate),a=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;i.add(a)}}),this.availableMonths=Array.from(i).sort().reverse()}getTradeType(i){return i.paperTrade?"PAPER":"LIVE"}getTradeTypeChipColor(i){return i.paperTrade?"orange":"green"}calculateSummary(){this.summary.totalExecutions=this.filteredExecutions.length,this.summary.profitableExecutions=0,this.summary.lossExecutions=0,this.summary.totalPnl=0,this.summary.totalProfit=0,this.summary.totalLoss=0,this.filteredExecutions.forEach(i=>{let r=i.exitPnl||0;this.summary.totalPnl+=r,r>0?(this.summary.profitableExecutions++,this.summary.totalProfit+=r):r<0&&(this.summary.lossExecutions++,this.summary.totalLoss+=r)}),this.summary.avgPnl=this.summary.totalExecutions>0?this.summary.totalPnl/this.summary.totalExecutions:0,this.summary.winRate=this.summary.totalExecutions>0?this.summary.profitableExecutions/this.summary.totalExecutions*100:0}applyFilters(){let i=[...this.executions];this.profitLossFilter==="profit"?i=i.filter(r=>(r.exitPnl||0)>0):this.profitLossFilter==="loss"&&(i=i.filter(r=>(r.exitPnl||0)<0)),this.typeFilter==="live"?i=i.filter(r=>!r.paperTrade):this.typeFilter==="paper"&&(i=i.filter(r=>r.paperTrade)),this.selectedMonth!=="all"&&(i=i.filter(r=>{if(r.executionDate){let o=new Date(r.executionDate);return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`===this.selectedMonth}return!1})),this.filteredExecutions=i,this.calculateSummary()}onFilterChange(){this.applyFilters()}formatDate(i){return i?this.utilsService.formatCustomDate(new Date(i)):"-"}formatCurrency(i){return i==null?"-":"\u20B9"+i.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}getPnlClass(i){return i>0?"text-green-600 font-semibold":i<0?"text-red-600 font-semibold":"text-gray-600"}getMonthLabel(i){if(i==="all")return"All Months";let[r,o]=i.split("-");return new Date(parseInt(r),parseInt(o)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})}onClose(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(V(Tu),V(nt),V(In),V(Ni),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-straddle-executions-dialog"]],decls:89,vars:20,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"flex","flex-col","h-full","w-full","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-4","py-3","border-b","cursor-move","flex-shrink-0"],[1,"text-lg","font-medium","text-gray-600"],[1,"px-6","py-4","bg-gray-50","border-b","flex-shrink-0"],[1,"grid","grid-cols-2","md:grid-cols-4","lg:grid-cols-7","gap-4"],[1,"bg-white","rounded-md","p-3","shadow-sm"],[1,"text-xs","text-gray-500","uppercase","font-medium"],[1,"text-lg","font-medium","text-gray-800","mt-1"],[1,"text-lg","font-medium","text-green-600","mt-1"],[1,"text-lg","font-medium","text-red-600","mt-1"],[1,"text-lg","font-medium","mt-1",3,"ngClass"],[1,"text-lg","font-medium","text-blue-600","mt-1"],[1,"px-6","py-4","bg-white","border-b","flex-shrink-0"],[1,"flex","flex-wrap","gap-4","items-center"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-medium","text-gray-700"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value","all"],["value","profit"],["value","loss"],["value","live"],["value","paper"],[3,"value",4,"ngFor","ngForOf"],[1,"ml-auto","text-sm","text-gray-600"],[1,"font-semibold"],[1,"flex-1","min-h-0","overflow-auto","px-6","py-4"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","rounded-md border border-gray-200 overflow-auto max-h-[60vh]",4,"ngIf"],["cdkDragHandle","",1,"flex","justify-between","items-center","px-4","py-3","border-t","cursor-move","flex-shrink-0"],[1,"text-sm","text-gray-600","uppercase"],[1,"font-medium",3,"ngClass"],[1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-100","text-sm",3,"click"],[3,"value"],[1,"flex","items-center","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"mt-2","text-sm","text-gray-600"],[1,"rounded-md","border","border-gray-200","overflow-auto","max-h-[60vh]"],[1,"w-full","text-sm","text-left"],[1,"bg-gray-100","text-gray-700","uppercase","text-xs","sticky","top-0","z-10"],[1,"px-4","py-3","font-semibold","whitespace-nowrap"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition-colors",3,"ngClass",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition-colors",3,"ngClass"],[1,"px-4","py-3","font-medium","text-gray-900","whitespace-nowrap"],[3,"text","color"],[1,"px-4","py-3","text-gray-700","whitespace-nowrap"],[1,"px-4","py-3","whitespace-nowrap",3,"ngClass"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1)(2,"span",2),y(3),h()(),p(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),y(8,"Total"),h(),p(9,"div",7),y(10),h()(),p(11,"div",5)(12,"div",6),y(13,"Wins"),h(),p(14,"div",8),y(15),h()(),p(16,"div",5)(17,"div",6),y(18,"Losses"),h(),p(19,"div",9),y(20),h()(),p(21,"div",5)(22,"div",6),y(23,"Total P&L"),h(),p(24,"div",10),y(25),h()(),p(26,"div",5)(27,"div",6),y(28,"Total Profit"),h(),p(29,"div",8),y(30),h()(),p(31,"div",5)(32,"div",6),y(33,"Total Loss"),h(),p(34,"div",9),y(35),h()(),p(36,"div",5)(37,"div",6),y(38,"Win Rate"),h(),p(39,"div",11),y(40),h()()()(),p(41,"div",12)(42,"div",13)(43,"div",14)(44,"label",15),y(45,"Show:"),h(),p(46,"select",16),bt("ngModelChange",function(s){return Mt(o.profitLossFilter,s)||(o.profitLossFilter=s),s}),z("change",function(){return o.onFilterChange()}),p(47,"option",17),y(48,"All Executions"),h(),p(49,"option",18),y(50,"Only Profits"),h(),p(51,"option",19),y(52,"Only Losses"),h()()(),p(53,"div",14)(54,"label",15),y(55,"Type:"),h(),p(56,"select",16),bt("ngModelChange",function(s){return Mt(o.typeFilter,s)||(o.typeFilter=s),s}),z("change",function(){return o.onFilterChange()}),p(57,"option",17),y(58,"All Types"),h(),p(59,"option",20),y(60,"Live Only"),h(),p(61,"option",21),y(62,"Paper Only"),h()()(),p(63,"div",14)(64,"label",15),y(65,"Month:"),h(),p(66,"select",16),bt("ngModelChange",function(s){return Mt(o.selectedMonth,s)||(o.selectedMonth=s),s}),z("change",function(){return o.onFilterChange()}),p(67,"option",17),y(68,"All Months"),h(),A(69,Qbe,2,2,"option",22),h()(),p(70,"div",23),y(71," Showing "),p(72,"span",24),y(73),h(),y(74," of "),p(75,"span",24),y(76),h(),y(77," executions "),h()()(),p(78,"div",25),A(79,Kbe,2,0,"div",26)(80,Jbe,5,0,"div",27)(81,txe,28,1,"div",28),h(),p(82,"div",29)(83,"div",30),y(84," Average P&L: "),p(85,"span",31),y(86),h()(),p(87,"button",32),z("click",function(){return o.onClose()}),y(88," Close "),h()()()),r&2&&(g(3),H("Execution History - ",o.strategyName),g(7),j(o.summary.totalExecutions),g(5),j(o.summary.profitableExecutions),g(5),j(o.summary.lossExecutions),g(4),x("ngClass",o.getPnlClass(o.summary.totalPnl)),g(),H(" ",o.formatCurrency(o.summary.totalPnl)," "),g(5),j(o.formatCurrency(o.summary.totalProfit)),g(5),j(o.formatCurrency(o.summary.totalLoss)),g(5),H("",o.summary.winRate.toFixed(1),"%"),g(6),_t("ngModel",o.profitLossFilter),g(10),_t("ngModel",o.typeFilter),g(10),_t("ngModel",o.selectedMonth),g(3),x("ngForOf",o.availableMonths),g(4),j(o.filteredExecutions.length),g(3),j(o.executions.length),g(3),x("ngIf",o.isLoading),g(),x("ngIf",!o.isLoading&&o.filteredExecutions.length===0),g(),x("ngIf",!o.isLoading&&o.filteredExecutions.length>0),g(4),x("ngClass",o.getPnlClass(o.summary.avgPnl)),g(),j(o.formatCurrency(o.summary.avgPnl)))},dependencies:[Ae,ye,Oe,o0,or,rr,hn,La,Aa,Ao,Zt,Gi,gn,ti],styles:[".overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"]});let n=t;return n})();function nxe(n,t){n&1&&(p(0,"div",1)(1,"p",2),y(2,"No straddles to display"),h()())}function ixe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("side"))}}function rxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instrument"))}}function oxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("expiryScope"))}}function axe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("underlyingStrikeSelector"))}}function sxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("lots"))}}function lxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("entryTime"))}}function cxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("exitTime"))}}function uxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("target"))}}function dxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("stopLoss"))}}function fxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function pxe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("tradeType"))}}function mxe(n,t){n&1&&(p(0,"span",29),y(1,"TSL"),h())}function hxe(n,t){if(n&1){let e=ee();At(0),p(1,"tr",19)(2,"td",20),O(3,"app-small-chip",21),h(),p(4,"td",20)(5,"span",22),y(6),h()(),p(7,"td",20)(8,"span",22),y(9),h()(),p(10,"td",23),y(11),h(),p(12,"td",23),y(13),h(),p(14,"td",23),y(15),$(16,"istDate"),h(),p(17,"td",23),y(18),$(19,"istDate"),h(),p(20,"td",24)(21,"span",25),y(22),$(23,"currency"),h()(),p(24,"td",24)(25,"span",26),y(26),$(27,"currency"),A(28,mxe,2,0,"span",27),h()(),p(29,"td",20),O(30,"app-small-chip",21),h(),p(31,"td",20),O(32,"app-small-chip",21),h(),p(33,"td",24)(34,"app-action-menu",28),z("handleAction",function(r){k(e);let o=M(3);return N(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(3),x("text",e.side)("color",i.getStraddleSideChipColor(e.side)),g(3),j(e.instrument),g(3),j(e.expiryScope),g(2),H(" ",e.underlyingStrikeSelector," "),g(2),H(" ",e.lots," "),g(2),H(" ",X(16,17,e.entryTime,"time-no-mod")," "),g(3),H(" ",X(19,20,e.exitTime,"time-no-mod")," "),g(4),j(lt(23,23,e.target,"INR","symbol","1.0-0")),g(4),H(" ",lt(27,28,e.stopLoss,"INR","symbol","1.0-0")," "),g(2),x("ngIf",e.trailingSl),g(2),x("text",e.isActive?"ACTIVE":"PAUSED")("color",i.getStatusChipColor(e)),g(2),x("text",i.getTradeType(e))("color",i.getTradeTypeChipColor(e)),g(2),x("row",e)("actions",i.getActionButtons(e))}}function gxe(n,t){n&1&&(p(0,"tr")(1,"td",30),O(2,"div",31),h()())}function vxe(n,t){if(n&1&&(At(0),p(1,"tr",15)(2,"td",16),O(3,"app-user-info-header",17),h()(),A(4,hxe,35,33,"ng-container",13)(5,gxe,3,0,"tr",18),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(),x("ngForOf",e.straddles)("ngForTrackBy",r.trackById),g(),x("ngIf",!i)}}function yxe(n,t){if(n&1){let e=ee();p(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("side"))}),y(6," SIDE "),A(7,ixe,2,1,"span",8),h()(),p(8,"th",6)(9,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("instrument"))}),y(10," INSTRUMENT "),A(11,rxe,2,1,"span",8),h()(),p(12,"th",6)(13,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("expiryScope"))}),y(14," EXPIRY "),A(15,oxe,2,1,"span",8),h()(),p(16,"th",6)(17,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("underlyingStrikeSelector"))}),y(18," STRIKE SELECTOR "),A(19,axe,2,1,"span",8),h()(),p(20,"th",6)(21,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("lots"))}),y(22," LOTS "),A(23,sxe,2,1,"span",8),h()(),p(24,"th",6)(25,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("entryTime"))}),y(26," ENTRY TIME "),A(27,lxe,2,1,"span",8),h()(),p(28,"th",6)(29,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("exitTime"))}),y(30," EXIT TIME "),A(31,cxe,2,1,"span",8),h()(),p(32,"th",9)(33,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("target"))}),y(34," TARGET "),A(35,uxe,2,1,"span",8),h()(),p(36,"th",9)(37,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("stopLoss"))}),y(38," STOP LOSS "),A(39,dxe,2,1,"span",8),h()(),p(40,"th",6)(41,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("status"))}),y(42," STATUS "),A(43,fxe,2,1,"span",8),h()(),p(44,"th",6)(45,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("tradeType"))}),y(46," TRADE TYPE "),A(47,pxe,2,1,"span",8),h()(),p(48,"th",11),y(49,"ACTIONS"),h()()(),p(50,"tbody",12),A(51,vxe,6,8,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("side")),g(4),x("ngIf",e.getSortIndicator("instrument")),g(4),x("ngIf",e.getSortIndicator("expiryScope")),g(4),x("ngIf",e.getSortIndicator("underlyingStrikeSelector")),g(4),x("ngIf",e.getSortIndicator("lots")),g(4),x("ngIf",e.getSortIndicator("entryTime")),g(4),x("ngIf",e.getSortIndicator("exitTime")),g(4),x("ngIf",e.getSortIndicator("target")),g(4),x("ngIf",e.getSortIndicator("stopLoss")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("tradeType")),g(4),x("ngForOf",e.sortedGroupedStraddles)("ngForTrackBy",e.trackByUser)}}var LZ=(()=>{let t=class t{constructor(){this.groupedStraddles=[],this.handleClickAction=new be,this.actions=[],this.fallbackAvatarUrl="",this.sortColumn="status",this.sortDirection="asc",this.sortAccessors={instrument:i=>i.instrument?.toString().toLowerCase()??"",side:i=>i.side?.toString().toLowerCase()??"",target:i=>i.target??0,stopLoss:i=>i.stopLoss??0,expiryScope:i=>i.expiryScope?.toString().toLowerCase()??"",lots:i=>i.lots??0,status:i=>i.isActive?"active":"paused",tradeType:i=>i.paperTrade?"paper":"live",entryTime:i=>i.entryTime??0,exitTime:i=>i.exitTime??0,underlyingStrikeSelector:i=>i.underlyingStrikeSelector?.toString().toLowerCase()??""}}get sortedGroupedStraddles(){return!this.sortColumn||!this.sortDirection?this.groupedStraddles:this.groupedStraddles.map(i=>De(Q({},i),{straddles:[...i.straddles??[]].sort((r,o)=>this.compareRows(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["status","entryTime"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}getActionButtons(i){return i.isActive?this.actions.filter(r=>r.action!=="activate"):this.actions.filter(r=>r.action!=="pause")}getStatusChipColor(i){return i.isActive?"green":"orange"}getTradeTypeChipColor(i){return i.paperTrade?"orange":"green"}getStraddleSideChipColor(i){switch(i){case"LONG":return"blue";case"SHORT":return"red";default:return"gray"}}trackById(i,r){return r.id}trackByUser(i,r){return r.userId}handleAction(i){this.handleClickAction.emit(i)}getTradeType(i){return i.paperTrade?"PAPER":"LIVE"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-algo-straddle-strategy-table"]],inputs:{groupedStraddles:"groupedStraddles",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","12",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[3,"text","color"],[1,"text-gray-700"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[1,"text-green-600"],[1,"text-red-600"],["class","text-blue-600 text-xs",4,"ngIf"],[3,"handleAction","row","actions"],[1,"text-blue-600","text-xs"],["colspan","12",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,nxe,3,0,"div",1)(2,yxe,52,13,"div"),h()),r&2&&(g(),Wt(!o.groupedStraddles||o.groupedStraddles.length===0?1:2))},dependencies:[Ae,gn,jr,ye,Oo,Si,ti],encapsulation:2});let n=t;return n})();var _xe=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function bxe(n,t){n&1&&O(0,"span",9)}function xxe(n,t){if(n&1){let e=ee();p(0,"div",6),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.setActiveParentTab(r))}),y(1),p(2,"span",7),y(3),h(),A(4,bxe,1,0,"span",8),h()}if(n&2){let e=t.$implicit,i=M(2);Ce("active-tab",e===i.activeParentTab)("text-gray-700",e!==i.activeParentTab),g(),H(" ",e," "),g(),x("ngClass",Qe(8,_xe,e===i.activeParentTab,e!==i.activeParentTab)),g(),H(" ",i.parentTabCounts[e]," "),g(),x("ngIf",e===i.activeParentTab)}}function Cxe(n,t){if(n&1){let e=ee();p(0,"div",20)(1,"app-algo-straddle-strategy-table",21),z("handleClickAction",function(r){k(e);let o=M(3);return N(o.handleStraddleActions(r))}),h()()}if(n&2){let e=M(3);g(),x("groupedStraddles",e.groupedStraddles)("fallbackAvatarUrl",e.fallbackAvatarUrl)("actions",e.straddleActions)}}function Sxe(n,t){n&1&&(p(0,"div",20)(1,"app-note",22),y(2," You don\u2019t have any straddles. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function wxe(n,t){if(n&1){let e=ee();p(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),z("handleRefresh",function(r){k(e);let o=M(2);return N(o.handleRefreshForStraddles(r))}),h(),p(4,"button",13),z("click",function(){k(e);let r=M(2);return N(r.createManageStraddleStrategy(null))}),O(5,"fa-icon",14),h()(),O(6,"div",15),p(7,"div",16)(8,"app-user-filter",17),z("selectAllUsers",function(){k(e);let r=M(2);return N(r.onAllUserSelection())})("selectUsers",function(r){k(e);let o=M(2);return N(o.onUserSelection(r))})("totalUsers",function(r){k(e);let o=M(2);return N(o.captureUsers(r))}),h()(),p(9,"div",16)(10,"app-search-input",18),z("inputChange",function(r){k(e);let o=M(2);return N(o.onStraddleSearch(r))}),h()()(),A(11,Cxe,2,3,"div",19)(12,Sxe,3,3,"ng-template",null,0,Tn),h()}if(n&2){let e=pn(13),i=M(2);g(5),x("icon",i.faPlus),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search straddle strategies by User ID or Instrument")("searchTerm",i.searchQuery),g(),x("ngIf",i.groupedStraddles.length>0)("ngIfElse",e)}}function Mxe(n,t){n&1&&O(0,"div")}function Txe(n,t){if(n&1&&(p(0,"div")(1,"div",3)(2,"div",4),A(3,xxe,5,11,"div",5),h()(),A(4,wxe,14,6,"div",2)(5,Mxe,1,0,"div",2),h()),n&2){let e=M();g(3),x("ngForOf",e.parentTabs),g(),x("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[0]),g(),x("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[1])}}var AZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u){this.algoService=i,this.alertService=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.utilsService=l,this.dialog=c,this.document=u,this.users=[],this.straddles=[],this.filteredStraddles=[],this.groupedStraddles=[],this.errorMessage="",this.parentTabs=["Straddles"],this.activeParentTab="Straddles",this.parentTabCounts={Straddles:0,ORB:0},this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=ui,this.straddleActions=[{action:"modify",color:"blue",label:"Modify Straddle"},{action:"activate",color:"blue",label:"Activate Straddle"},{action:"pause",color:"orange",label:"Pause Straddle"},{action:"execute",color:"blue",label:"Execute Straddle"},{action:"delete",color:"red",label:"Delete Straddle"},{action:"viewExecutions",color:"gray",label:"Execution History"},{action:"info",color:"gray",label:"Straddle Details"}],this.faPlus=_2}ngOnInit(){this.cellTemplates={};let i=this.userViewStateService.getState();i.straddles&&(this.activeParentTab=i.straddles.selectedSectionType,this.selectedUserIds=i.straddles.selectedUsersIds,this.searchQuery=i.straddles.searchQuery),this.getCachedData(),this.fetchStraddles()}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}setActiveParentTab(i){this.activeParentTab=i,this.saveUserViewState()}onStraddleSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.straddles&&(this.straddles=i.straddles,this.renderStraddles()))}setCachedData(){this.userDataStateService.setState({straddles:this.straddles})}fetchStraddles(i){this.algoService.getStraddles().subscribe({next:r=>{this.straddles=r.data,this.renderStraddles(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching straddles. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{i&&i()}})}renderStraddles(){this.updateStraddlesCount(),this.updateFilteredAndGroupedStraddles()}updateStraddlesCount(){this.parentTabCounts.Straddles=this.straddles.length}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}captureUsers(i){this.users=i}saveUserViewState(){this.userViewStateService.setState({straddles:{selectedSectionType:this.activeParentTab,selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery}})}updateFilteredAndGroupedStraddles(){let i=this.straddles;this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.instrument.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filteredStraddles=i;let r={};i.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedStraddles=Object.entries(r).map(([o,a])=>({userId:o,straddles:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}handleRefreshForStraddles(i){this.fetchStraddles(i)}handleStraddleActions(i){i.action==="modify"?this.createManageStraddleStrategy(i.row):(i.action==="activate"||i.action==="pause")&&this.toggleStraddleStrategyStatus(i.action,i.row),i.action==="execute"?this.executeStraddle(i.row):i.action==="delete"?this.deleteStraddleStrategy(i.row):i.action==="info"?this.utilsService.showInfo(i.row,i.row.instrument):i.action==="viewExecutions"&&this.viewStraddleExecutions(i.row)}createManageStraddleStrategy(i){this.dialog.open(DZ,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:i}).afterClosed().subscribe(o=>{this.fetchStraddles()})}toggleStraddleStrategyStatus(i,r){this.algoService.updateStraddleStatus(r.id,{status:i}).subscribe({next:o=>{this.toastrService.success(o.message,"Success"),this.fetchStraddles()},error:o=>{this.toastrService.error(o.error.message,"Error"),console.error(o)}})}deleteStraddleStrategy(i){this.alertService.confirm("Delete Straddle Strategy","Are you sure you want to delete this straddle strategy?",()=>{this.algoService.deleteStraddleStrategy(i.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchStraddles()},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}executeStraddle(i){this.alertService.confirm("Execute Straddle Strategy","Are you sure you want to execute this straddle now? Note: This action will force immediate execution, ignoring the configured entry time and strategy status.",()=>{this.algoService.executeStraddle(i.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success")},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}viewStraddleExecutions(i){this.dialog.open(IZ,{disableClose:!1,autoFocus:!1,hasBackdrop:!0,closeOnNavigation:!0,data:{straddleId:i.id,strategyName:`${i.instrument} - ${i.userId}`}}).afterClosed().subscribe(o=>{})}ngOnDestroy(){}};t.\u0275fac=function(r){return new(r||t)(V(Tu),V(Fo),V(Un),V(Dn),V(nt),V(In),V(Xn),V(Te))},t.\u0275cmp=ie({type:t,selectors:[["app-algo"]],decls:2,vars:1,consts:[["noStraddlesData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex","items-center","gap-3","flex-shrink-0"],[3,"handleRefresh"],["matTooltip","Create Straddle Strategy",1,"px-3","py-2","rounded-md","bg-green-500","text-white","hover:bg-green-600","shadow-sm","transition-all","flex","items-center","gap-2",3,"click"],[1,"text-white",3,"icon"],[1,"flex-1"],[1,"flex-shrink-0"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","groupedStraddles","fallbackAvatarUrl","actions"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(p(0,"div",1),A(1,Txe,6,3,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[Ae,ye,za,nr,Va,lr,at,Bt,Oe,LZ],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 138px);min-height:calc(100vh - var(--header-height, 80px) - 138px)}"],data:{animation:[Pi]}});let n=t;return n})();var zZ=(()=>{let t=class t{constructor(i){this.api=i}getHistoricalCandleData(i){return this.api.post("/v1/history/candles",i)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Dxe(n,t){n&1&&(p(0,"p",22),y(1,"Instrument Token is required."),h())}function Ixe(n,t){if(n&1){let e=ee();p(0,"div",25),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.selectInstrument(r))}),p(1,"div",26)(2,"div",27),y(3),h(),p(4,"div",28),y(5),h()()()}if(n&2){let e=t.$implicit;g(3),j(e.displayName),g(2),j(e.segment)}}function Lxe(n,t){if(n&1&&(p(0,"div",23),A(1,Ixe,6,2,"div",24),h()),n&2){let e=M();g(),x("ngForOf",e.fetchedInstruments)}}function Axe(n,t){if(n&1&&(p(0,"option",29),y(1),h()),n&2){let e=t.$implicit;x("value",e),g(),j(e)}}function zxe(n,t){n&1&&(p(0,"p",22),y(1,"Interval is required."),h())}function kxe(n,t){n&1&&(p(0,"p",22),y(1,"From is required."),h())}function Nxe(n,t){n&1&&(p(0,"p",22),y(1,"To is required."),h())}var kZ=(()=>{let t=class t{constructor(i,r,o,a,s,l){this.fb=i,this.document=r,this.toastrService=o,this.userViewStateService=a,this.watchlistService=s,this.historicalCandleDataService=l,this.intervals=["minute","3minute","5minute","10minute","15minute","30minute","60minute","day"],this.fetchedInstruments=[],this.searchTermChanged=new me,this.searchTerm="",this.faSearch=ql,this.historicalForm=this.fb.group({instrument:["",Ue.required],instrumentToken:["",Ue.required],interval:["5minute",Ue.required],from:["",Ue.required],to:["",Ue.required],continuous:[!1],oi:[!1]})}submit(){if(this.historicalForm.invalid){this.historicalForm.markAllAsTouched();return}let i=De(Q({},this.historicalForm.value),{from:new Date(this.historicalForm.value.from).toISOString(),to:new Date(this.historicalForm.value.to).toISOString()});this.historicalCandleDataService.getHistoricalCandleData(i).subscribe({next:r=>{let o=new Blob([r.message],{type:"text/csv"}),a=document.createElement("a"),s=window.URL.createObjectURL(o);a.href=s,a.download="historical_data.csv",a.click(),window.URL.revokeObjectURL(s)},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching historical candle data. Verify that the backend service is operational.","Error")}})}ngOnInit(){this.searchTermChanged.pipe(ea(300),c1()).subscribe(i=>{this.searchInstruments(i)})}searchInstruments(i){this.watchlistService.searchInstruments(i.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastrService.error(r.error.message,"Error")}})}selectInstrument(i){this.historicalForm.patchValue({instrument:`${i.displayName} (${i.exchange})`,instrumentToken:i.instrumentToken}),this.fetchedInstruments=[]}onSearchTermChange(i){let r=i.target.value;this.searchTermChanged.next(r)}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(Te),V(nt),V(Un),V(Mu),V(zZ))},t.\u0275cmp=ie({type:t,selectors:[["app-historical-data"]],decls:48,vars:7,consts:[[1,"page-container"],[1,"text-gray-600","mb-6"],[1,"max-w-4xl","w-full","mx-auto","bg-white","rounded-md","shadow","p-4","space-y-4","text-gray-700"],[1,"text-lg","font-semibold","text-center"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"relative","mt-2"],[1,"block","text-sm","font-medium"],[1,"text-red-500"],["type","text","formControlName","instrument","placeholder","Search and add eg: infy, nifty fut, etc","required","",1,"form-control",3,"input"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mt-2 bg-white border border-gray-300 rounded-md shadow-sm max-h-60 overflow-auto",4,"ngIf"],["formControlName","interval","required","",1,"form-control","w-full","mt-1"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],["formControlName","from","type","datetime-local","required","",1,"form-control","w-full","mt-1"],["formControlName","to","type","datetime-local","required","",1,"form-control","w-full","mt-1"],[1,"flex","items-center","gap-2"],["type","checkbox","formControlName","continuous","id","continuous"],["for","continuous",1,"text-sm"],["type","checkbox","formControlName","oi","id","oi"],["for","oi",1,"text-sm"],["type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-2","rounded-md","transition"],[1,"text-red-500","text-sm","mt-1"],[1,"mt-2","bg-white","border","border-gray-300","rounded-md","shadow-sm","max-h-60","overflow-auto"],["class","px-3 py-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-gray-700"],[1,"text-xs","text-gray-400"],[3,"value"]],template:function(r,o){if(r&1&&(p(0,"div",0)(1,"p",1),y(2,"Download and analyze historical market data. Select instruments, set time ranges, and customize intervals to study price movements and trends."),h(),p(3,"div",2)(4,"h2",3),y(5,"Download Historical Data"),h(),p(6,"form",4),z("ngSubmit",function(){return o.submit()}),p(7,"div",5)(8,"label",6),y(9,"Instrument Token "),p(10,"span",7),y(11,"*"),h()(),p(12,"input",8),z("input",function(s){return o.onSearchTermChange(s)}),h(),A(13,Dxe,2,0,"p",9),h(),A(14,Lxe,2,1,"div",10),p(15,"div")(16,"label",6),y(17,"Interval "),p(18,"span",7),y(19,"*"),h()(),p(20,"select",11),A(21,Axe,2,2,"option",12),h(),A(22,zxe,2,0,"p",9),h(),p(23,"div",13)(24,"div")(25,"label",6),y(26,"From "),p(27,"span",7),y(28,"*"),h()(),O(29,"input",14),A(30,kxe,2,0,"p",9),h(),p(31,"div")(32,"label",6),y(33,"To "),p(34,"span",7),y(35,"*"),h()(),O(36,"input",15),A(37,Nxe,2,0,"p",9),h()(),p(38,"div",16),O(39,"input",17),p(40,"label",18),y(41,"Get Continuous Data"),h()(),p(42,"div",16),O(43,"input",19),p(44,"label",20),y(45,"Get OI Data"),h()(),p(46,"button",21),y(47," Download Data "),h()()()()),r&2){let a,s,l,c;g(6),x("formGroup",o.historicalForm),g(7),x("ngIf",((a=o.historicalForm.get("instrument"))==null?null:a.touched)&&((a=o.historicalForm.get("instrument"))==null?null:a.invalid)),g(),x("ngIf",o.fetchedInstruments.length>0),g(7),x("ngForOf",o.intervals),g(),x("ngIf",((s=o.historicalForm.get("interval"))==null?null:s.touched)&&((s=o.historicalForm.get("interval"))==null?null:s.invalid)),g(8),x("ngIf",((l=o.historicalForm.get("from"))==null?null:l.touched)&&((l=o.historicalForm.get("from"))==null?null:l.invalid)),g(7),x("ngIf",((c=o.historicalForm.get("to"))==null?null:c.touched)&&((c=o.historicalForm.get("to"))==null?null:c.invalid))}},dependencies:[di,Or,La,Aa,Yt,m2,Ao,Zt,Pr,mo,_r,br,Ae,ye],encapsulation:2});let n=t;return n})();var NZ=(()=>{let t=class t{constructor(i,r){this.auth=i,this.router=r}canActivate(){return!!this.auth.isAdmin()}};t.\u0275fac=function(r){return new(r||t)(ae(ar),ae(un))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Pxe(n,t){if(n&1&&(p(0,"div",9),O(1,"img",10),h()),n&2){let e=M();g(),x("ngSrc",e.getAvatarUrl(e.selectedUserId)||e.fallbackAvatarUrl)("alt",e.getUserName(e.selectedUserId))}}function Oxe(n,t){n&1&&(p(0,"div",17),y(1," No users found "),h())}function Rxe(n,t){n&1&&(p(0,"div",25),y(1," Token Invalid "),h())}function Fxe(n,t){if(n&1){let e=ee();p(0,"div",18)(1,"button",19),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.selectUserById(r.userId))}),O(2,"img",20),p(3,"div",21)(4,"div",22),y(5),h(),p(6,"div",23),y(7),h(),A(8,Rxe,2,0,"div",24),h()()()}if(n&2){let e=t.$implicit,i=M(2);g(),Ce("opacity-50",e.tokenStatus!=="Valid")("cursor-not-allowed",e.tokenStatus!=="Valid"),g(),x("ngSrc",(e.profile==null?null:e.profile.avatarURL)||i.fallbackAvatarUrl)("alt",e.name),g(3),j((e.profile==null?null:e.profile.userName)||e.name),g(2),j(e.userId),g(),x("ngIf",e.tokenStatus!=="Valid")}}function Bxe(n,t){if(n&1){let e=ee();p(0,"div",11)(1,"div",12)(2,"input",13),bt("ngModelChange",function(r){k(e);let o=M();return Mt(o.searchTerm,r)||(o.searchTerm=r),N(r)}),z("input",function(){k(e);let r=M();return N(r.onSearchChange())}),h()(),p(3,"div",14),A(4,Oxe,2,0,"div",15)(5,Fxe,9,9,"div",16),h()()}if(n&2){let e=M();g(2),_t("ngModel",e.searchTerm),g(2),x("ngIf",e.getFilteredUsers().length===0),g(),x("ngForOf",e.getFilteredUsers())}}function Vxe(n,t){if(n&1){let e=ee();p(0,"div",26),z("click",function(){k(e);let r=M();return N(r.closeDropdown())}),h()}}var Ev=(()=>{let t=class t{constructor(i,r){this.userService=i,this.userDataStateService=r,this.users=[],this.filteredUsers=[],this.selectedUserId="",this.placeholder="Select Trading Account",this.selectedUserIdChange=new be,this.selectUser=new be,this.totalUsers=new be,this.isDropdownOpen=!1,this.searchTerm="",this.fallbackAvatarUrl=ui}ngOnInit(){this.fetchTradingAccounts()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.users&&(this.users=i.users,this.filteredUsers=[...this.users],this.totalUsers.emit(this.users))}setCachedData(){this.userDataStateService.setState({users:this.users})}fetchTradingAccounts(){this.getCachedData(),this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data.filter(r=>r.active),this.filteredUsers=[...this.users],this.totalUsers.emit(i.data),this.setCachedData()}})}selectUserById(i){this.getUserByUserId(i)?.tokenStatus==="Valid"&&(this.selectedUserId=i,this.selectUser.emit(i),this.selectedUserIdChange.emit(i),this.closeDropdown())}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&(this.searchTerm="",this.filteredUsers=[...this.users])}closeDropdown(){this.isDropdownOpen=!1,this.searchTerm=""}onSearchChange(){let i=this.searchTerm.toLowerCase().trim();i?this.filteredUsers=this.users.filter(r=>r.name.toLowerCase().includes(i)||r.userId.toLowerCase().includes(i)):this.filteredUsers=[...this.users]}getFilteredUsers(){return this.filteredUsers}getSelectionText(){if(!this.selectedUserId)return this.placeholder;let i=this.getUserByUserId(this.selectedUserId);return(i?.profile?.userName||i?.name)+" - "+i?.userId}getAvatarUrl(i){return this.getUserByUserId(i)?.profile?.avatarURL||null}getUserName(i){let r=this.getUserByUserId(i);return r?.profile?.userName||r?.name||i}getSelectedUser(){return this.getUserByUserId(this.selectedUserId)}getUserByUserId(i){return this.users.find(r=>r.userId===i)}};t.\u0275fac=function(r){return new(r||t)(V(tr),V(Dn))},t.\u0275cmp=ie({type:t,selectors:[["app-user-dropdown"]],inputs:{selectedUserId:"selectedUserId",placeholder:"placeholder"},outputs:{selectedUserIdChange:"selectedUserIdChange",selectUser:"selectUser",totalUsers:"totalUsers"},decls:10,vars:6,consts:[[1,"relative","w-full"],[1,"w-full","flex","items-center","justify-between","gap-2","px-3","py-2","border","border-gray-300","rounded-md","bg-white","hover:bg-gray-50","focus:outline-none","text-sm","transition-all",3,"click"],[1,"flex","items-center","gap-2","flex-1","min-w-0"],["class","flex-shrink-0",4,"ngIf"],[1,"truncate","text-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform","flex-shrink-0","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-96 overflow-hidden",4,"ngIf"],["class","fixed inset-0 z-40",3,"click",4,"ngIf"],[1,"flex-shrink-0"],["width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc","alt"],[1,"absolute","left-0","right-0","mt-2","bg-white","border","border-gray-200","rounded-md","shadow-lg","z-50","max-h-96","overflow-hidden"],[1,"p-3","border-b","border-gray-200"],["type","text","placeholder","Search users...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-100","focus:border-blue-100","text-sm",3,"ngModelChange","input","ngModel"],[1,"max-h-60","overflow-y-auto"],["class","p-4 text-center text-gray-500 text-sm",4,"ngIf"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-4","text-center","text-gray-500","text-sm"],[1,"p-2"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-3","transition-colors",3,"click"],["width","32","height","32",1,"w-8","h-8","rounded-full","object-cover","flex-shrink-0",3,"ngSrc","alt"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-700","truncate"],[1,"text-xs","text-gray-500","truncate"],["class","text-xs text-red-500",4,"ngIf"],[1,"text-xs","text-red-500"],[1,"fixed","inset-0","z-40",3,"click"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"button",1),z("click",function(){return o.toggleDropdown()}),p(2,"div",2),A(3,Pxe,2,2,"div",3),p(4,"span",4),y(5),h()(),Ht(),p(6,"svg",5),O(7,"path",6),h()(),A(8,Bxe,6,3,"div",7)(9,Vxe,1,0,"div",8),h()),r&2&&(g(3),x("ngIf",o.selectedUserId),g(2),H(" ",o.getSelectionText()," "),g(),Ce("rotate-180",o.isDropdownOpen),g(2),x("ngIf",o.isDropdownOpen),g(),x("ngIf",o.isDropdownOpen))},dependencies:[We,Ae,ye,kr,hn,Yt,Zt,Gi],encapsulation:2});let n=t;return n})();var f0=(()=>{let t=class t{constructor(i){this.api=i}getIPOs(){return this.api.get("/v1/ipos")}getIPOApplications(){return this.api.get("/v1/ipos/applications")}getVPA(i){return this.api.get(`/v1/ipos/${i}/vpa`)}submitIpoApplication(i,r){return this.api.post(`/v1/ipos/${i}/applications`,r)}cancelIpoApplication(i,r){return this.api.delete(`/v1/ipos/${i}/applications/${r}`)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var zD=n=>({"border-red-500":n}),AD=()=>({standalone:!0});function Uxe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"istDate"),h()),n&2){let e=M();g(),j(X(2,1,e.ipo.start_at,"date-ordinal"))}}function Hxe(n,t){n&1&&(p(0,"span"),y(1,"TBA"),h())}function jxe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"istDate"),h()),n&2){let e=M();g(),j(X(2,1,e.ipo.end_at,"date-ordinal"))}}function Gxe(n,t){n&1&&(p(0,"span"),y(1,"TBA"),h())}function Wxe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"istDate"),h()),n&2){let e=M();g(),j(X(2,1,e.ipo.allotment_finalisation_date,"date-ordinal"))}}function qxe(n,t){n&1&&(p(0,"span"),y(1,"TBA"),h())}function $xe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"istDate"),h()),n&2){let e=M();g(),j(X(2,1,e.ipo.listing_date,"date-ordinal"))}}function Yxe(n,t){n&1&&(p(0,"span"),y(1,"TBA"),h())}function Zxe(n,t){n&1&&(p(0,"span",31),y(1," Please enter a valid UPI ID "),h())}function Xxe(n,t){if(n&1&&(p(0,"span",32),y(1),h()),n&2){let e=M();g(),H(" ",e.vpaName," ")}}function Qxe(n,t){if(n&1){let e=ee();p(0,"button",44),z("click",function(){k(e);let r=M().index,o=M();return N(o.removeBid(r))}),O(1,"fa-icon",45),h()}if(n&2){let e=M(2);x("disabled",e.bids.length<=1)("matTooltip",e.bids.length<=1?"At least one bid is required":"Remove bid"),g(),x("icon",e.faTrash)}}function Kxe(n,t){if(n&1&&(p(0,"span",31),y(1),h()),n&2){let e=M(2);g(),H(" Min: ",e.getLotsMinQty()," ")}}function Jxe(n,t){n&1&&(p(0,"span",31),y(1," Invalid price "),h())}function eCe(n,t){if(n&1){let e=ee();p(0,"div",33)(1,"div",34)(2,"span",35),y(3),h(),A(4,Qxe,2,3,"button",36),h(),p(5,"div",37)(6,"div")(7,"label",38),y(8),h(),p(9,"input",39),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.quantity,r)||(o.quantity=r),N(r)}),z("ngModelChange",function(){k(e);let r=M();return N(r.calculateAmountPayable())}),h(),A(10,Kxe,2,1,"span",19),h(),p(11,"div")(12,"label",38),y(13),$(14,"number"),$(15,"number"),h(),p(16,"input",40),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.price,r)||(o.price=r),N(r)}),z("ngModelChange",function(){k(e);let r=M();return N(r.calculateAmountPayable())}),h(),A(17,Jxe,2,0,"span",19),h()(),p(18,"div",41)(19,"input",42),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.auto_cutoff,r)||(o.auto_cutoff=r),N(r)}),z("change",function(){let r=k(e).index,o=M();return N(o.onCutoffPriceToggle(r))}),h(),p(20,"label",43),y(21),$(22,"number"),h()()()}if(n&2){let e=t.$implicit,i=t.index,r=M();g(3),H("Bid ",i+1),g(),x("ngIf",r.bids.length>1),g(3),x("for",Al("quantity-",i)),g(),H("Quantity (Min: ",r.getLotsMinQty(),")"),g(),x("id",Al("quantity-",i)),_t("ngModel",e.quantity),x("ngModelOptions",Ac(40,AD))("ngClass",bi(41,zD,e.quantity>0&&e.quantity<r.getLotsMinQty())),g(),x("ngIf",e.quantity>0&&e.quantity<r.getLotsMinQty()),g(2),x("for",Al("price-",i)),g(),Bn("Price (\u20B9",X(14,31,r.getMinPrice(),"1.0-2")," - \u20B9",X(15,34,r.getMaxPrice(),"1.0-2"),")"),g(3),x("id",Al("price-",i)),_t("ngModel",e.price),x("ngModelOptions",Ac(43,AD))("ngClass",bi(44,zD,e.quantity>0&&e.price>0&&(e.price<r.getMinPrice()||e.price>r.getMaxPrice())))("min",r.getMinPrice())("max",r.getMaxPrice())("disabled",e.auto_cutoff),g(),x("ngIf",e.quantity>0&&e.price>0&&(e.price<r.getMinPrice()||e.price>r.getMaxPrice())),g(2),x("id",Al("cutoff-",i)),_t("ngModel",e.auto_cutoff),x("ngModelOptions",Ac(46,AD)),g(),x("for",Al("cutoff-",i)),g(),H(" Apply Cutoff Price (\u20B9",X(22,37,r.getMaxPrice(),"1.0-2"),") ")}}function tCe(n,t){if(n&1){let e=ee();p(0,"button",46),z("click",function(){k(e);let r=M();return N(r.addBid())}),O(1,"fa-icon",45),y(2),h()}if(n&2){let e=M();g(),x("icon",e.faPlus),g(),Bn(" Add Bid (",e.bids.length,"/",e.maxBids,") ")}}var PZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.fb=i,this.toastrService=r,this.dialogRef=o,this.iposService=a,this.data=s,this.applicationSubmitted=new be,this.vpaName="",this.selectedTradingAccountId="",this.bids=[{quantity:0,price:0,auto_cutoff:!1}],this.totalAmountPayable=0,this.faTrash=$l,this.faPlus=_2,this.maxBids=3,this.isLoadingVPA=!1,this.isSubmitting=!1,this.vpaData=null,this.ipo=s.ipo,this.bids[0]={quantity:this.ipo.min_qty||1,price:this.ipo.investor_types[0].max_price,auto_cutoff:!0},this.applyForm=this.fb.group({upiId:["",[Ue.required,Ue.pattern(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+$/)]]})}ngOnInit(){this.calculateAmountPayable()}calculateAmountPayable(){this.totalAmountPayable=0,this.bids.forEach(i=>{if(i.quantity>0){let r=i.auto_cutoff?this.ipo.investor_types[0].max_price:i.price;r>0?this.totalAmountPayable+=i.quantity*r:i.auto_cutoff&&(this.totalAmountPayable+=i.quantity*this.ipo.investor_types[0].max_price)}})}onCutoffPriceToggle(i){this.bids[i].price=this.getMaxPrice(),this.calculateAmountPayable()}getMinPrice(){return this.ipo.investor_types?.[0]?.min_price||0}getMaxPrice(){return this.ipo.investor_types?.[0]?.max_price||0}getLotsMinQty(){return this.ipo.min_qty||1}isValidBid(i){return i.quantity===0?!0:i.quantity<this.getLotsMinQty()?!1:i.auto_cutoff||i.price>=this.getMinPrice()&&i.price<=this.getMaxPrice()}addBid(){this.bids.length<this.maxBids&&this.bids.push({quantity:0,price:0,auto_cutoff:!1})}removeBid(i){this.bids.length>1&&(this.bids.splice(i,1),this.calculateAmountPayable())}canAddBid(){return this.bids.length<this.maxBids}fetchVPAId(i){i&&(this.isLoadingVPA=!0,this.iposService.getVPA(i).subscribe({next:r=>{this.vpaData=r.data,r.data?.vpa?(this.applyForm.get("upiId")?.setValue(r.data.vpa),this.vpaName=r.data.name||""):(this.applyForm.get("upiId")?.setValue(""),this.vpaName=""),this.isLoadingVPA=!1},error:r=>{this.isLoadingVPA=!1,this.applyForm.get("upiId")?.setValue(""),this.vpaName="",console.error("Error fetching VPA:",r),this.toastrService.error("Failed to fetch VPA details","Error")}}))}submit(){if(!this.selectedTradingAccountId){this.toastrService.error("Please select a trading account.","Validation Error");return}if(this.applyForm.invalid){this.applyForm.markAllAsTouched(),this.toastrService.error("Please fill in the required fields correctly.","Validation Error");return}if(!this.bids.some(o=>o.quantity>0)){this.toastrService.error("Please enter at least one bid.","Validation Error");return}for(let o=0;o<this.bids.length;o++)if(!this.isValidBid(this.bids[o])){this.toastrService.error(`Bid ${o+1} is invalid. Check quantity and price range.`,"Validation Error");return}let r={upi_id:this.applyForm.get("upiId")?.value,instrument_id:this.ipo.id,investor_type:"IND",bids:this.bids.filter(o=>o.quantity>0)};this.isSubmitting=!0,this.iposService.submitIpoApplication(this.selectedTradingAccountId,r).subscribe({next:o=>{this.isSubmitting=!1,this.toastrService.success(o?.data?.message,"Success"),this.applicationSubmitted.emit(),this.dialogRef.close({success:!0,data:o.data})},error:o=>{this.isSubmitting=!1,console.error("Error submitting IPO application:",o);let a=o?.error?.message||"Failed to submit IPO application";this.toastrService.error(a,"Error")}})}getIpoStatusChipColor(i){switch(i){case"ongoing":case"preapply":return"green";case"upcoming":return"orange";default:return"gray"}}getIpoType(i){return i==="IPO"?"MAINBOARD":"SME"}onClose(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(nt),V(Ni),V(f0),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-ipo-apply-dialog"]],outputs:{applicationSubmitted:"applicationSubmitted"},decls:103,vars:43,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"text-sm","text-blue-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","p-4","max-h-[70vh]","overflow-y-auto"],[1,"space-y-4"],[1,"font-semibold","text-gray-700","border-b","pb-2"],[1,"space-y-3","text-sm"],[1,"flex","justify-between","items-center"],[1,"text-gray-400"],[1,"text-gray-700"],[3,"text","color"],[4,"ngIf"],[1,"space-y-4",3,"formGroup"],["for","trading-account-dropdown",1,"text-gray-600","text-sm","block","mb-1"],[1,"text-red-500"],["id","trading-account-dropdown",3,"selectedUserIdChange","selectUser","selectedUserId","placeholder"],["for","upi-id",1,"text-gray-600","text-sm","block","mb-1"],["id","upi-id","type","text","formControlName","upiId","placeholder","e.g., yourname@upi",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"disabled","ngClass"],["class","text-red-500 text-sm",4,"ngIf"],["class","text-green-600 text-sm",4,"ngIf"],[1,"space-y-3"],[1,"text-gray-600","text-sm","block"],["class","border border-gray-200 rounded-md p-3 bg-gray-50 space-y-2",4,"ngFor","ngForOf"],["type","button","class","w-full py-2 border-2 border-dashed border-blue-300 text-blue-600 rounded-md hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-sm font-medium",3,"click",4,"ngIf"],[1,"bg-blue-50","p-3","rounded-md","border","border-blue-200"],[1,"text-gray-700","font-medium"],[1,"text-lg","font-bold","text-blue-600"],["cdkDragHandle","",1,"w-full","flex","flex-col","sm:flex-row","gap-3","pt-2","cdk-drag-handle","items-stretch","justify-between","p-4","border-b","cursor-move"],["type","button",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-red-500","text-sm"],[1,"text-green-600","text-sm"],[1,"border","border-gray-200","rounded-md","p-3","bg-gray-50","space-y-2"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-sm","font-medium","text-gray-700"],["type","button","class","text-red-500 hover:text-red-600 text-sm",3,"disabled","matTooltip","click",4,"ngIf"],[1,"grid","grid-cols-2","gap-2"],[1,"text-gray-600","text-sm",3,"for"],["type","number","placeholder","Qty","min","0",1,"w-full","px-2","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","text-sm",3,"ngModelChange","id","ngModel","ngModelOptions","ngClass"],["type","number","placeholder","Price","step","0.01",1,"w-full","px-2","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","text-sm",3,"ngModelChange","id","ngModel","ngModelOptions","ngClass","min","max","disabled"],[1,"flex","items-center"],["type","checkbox",1,"rounded","border-gray-300",3,"ngModelChange","change","ngModel","ngModelOptions","id"],[1,"text-gray-600","text-sm","ml-2","cursor-pointer",3,"for"],["type","button",1,"text-red-500","hover:text-red-600","text-sm",3,"click","disabled","matTooltip"],[1,"text-sm",3,"icon"],["type","button",1,"w-full","py-2","border-2","border-dashed","border-blue-300","text-blue-600","rounded-md","hover:bg-blue-50","transition-colors","flex","items-center","justify-center","gap-2","text-sm","font-medium",3,"click"]],template:function(r,o){if(r&1&&(p(0,"div",0)(1,"div",1)(2,"span",2),y(3,"Apply for IPO"),h(),p(4,"span",3),y(5),h()(),p(6,"div",4)(7,"div",5)(8,"h3",6),y(9,"IPO Details"),h(),p(10,"div",7)(11,"div",8)(12,"span",9),y(13,"Symbol:"),h(),p(14,"span",10),y(15),h()(),p(16,"div",8)(17,"span",9),y(18,"Company Name:"),h(),p(19,"span",10),y(20),h()(),p(21,"div",8)(22,"span",9),y(23,"IPO Type:"),h(),O(24,"app-small-chip",11),h(),p(25,"div",8)(26,"span",9),y(27,"Price Range:"),h(),p(28,"span",10),y(29),$(30,"number"),$(31,"number"),h()(),p(32,"div",8)(33,"span",9),y(34,"Minimum Lot Qty:"),h(),p(35,"span",10),y(36),h()(),p(37,"div",8)(38,"span",9),y(39,"Subscription Start:"),h(),p(40,"span",10),A(41,Uxe,3,4,"span",12)(42,Hxe,2,0,"span",12),h()(),p(43,"div",8)(44,"span",9),y(45,"Subscription End:"),h(),p(46,"span",10),A(47,jxe,3,4,"span",12)(48,Gxe,2,0,"span",12),h()(),p(49,"div",8)(50,"span",9),y(51,"Allotment Date:"),h(),p(52,"span",10),A(53,Wxe,3,4,"span",12)(54,qxe,2,0,"span",12),h()(),p(55,"div",8)(56,"span",9),y(57,"Listing Date:"),h(),p(58,"span",10),A(59,$xe,3,4,"span",12)(60,Yxe,2,0,"span",12),h()(),p(61,"div",8)(62,"span",9),y(63,"Status:"),h(),p(64,"span",10),O(65,"app-small-chip",11),h()()()(),p(66,"div",5)(67,"h3",6),y(68,"Your Application"),h(),p(69,"form",13)(70,"div")(71,"label",14),y(72," Trading Account "),p(73,"span",15),y(74,"*"),h()(),p(75,"app-user-dropdown",16),bt("selectedUserIdChange",function(s){return Mt(o.selectedTradingAccountId,s)||(o.selectedTradingAccountId=s),s}),z("selectUser",function(s){return o.fetchVPAId(s)}),h()(),p(76,"div")(77,"label",17),y(78," UPI ID "),p(79,"span",15),y(80,"*"),h()(),O(81,"input",18),A(82,Zxe,2,0,"span",19)(83,Xxe,2,1,"span",20),h(),p(84,"div",21)(85,"div",22),y(86," Bids "),p(87,"span",15),y(88,"*"),h()(),A(89,eCe,23,47,"div",23)(90,tCe,3,3,"button",24),h(),p(91,"div",25)(92,"div",8)(93,"span",26),y(94,"Total Amount Payable:"),h(),p(95,"span",27),y(96),$(97,"number"),h()()()()()(),p(98,"div",28)(99,"button",29),z("click",function(){return o.submit()}),y(100),h(),p(101,"button",30),z("click",function(){return o.onClose()}),y(102," Cancel "),h()()()),r&2){let a,s;g(5),Bn("",o.ipo.symbol," - ",o.ipo.name),g(10),j(o.ipo.symbol),g(5),j(o.ipo.name),g(4),x("text",o.getIpoType(o.ipo.sub_type))("color","purple"),g(5),Bn("\u20B9",X(30,32,o.getMinPrice(),"1.0-2")," - \u20B9",X(31,35,o.getMaxPrice(),"1.0-2")),g(7),j(o.getLotsMinQty()),g(5),x("ngIf",o.ipo.start_at),g(),x("ngIf",!o.ipo.start_at),g(5),x("ngIf",o.ipo.end_at),g(),x("ngIf",!o.ipo.end_at),g(5),x("ngIf",o.ipo.allotment_finalisation_date),g(),x("ngIf",!o.ipo.allotment_finalisation_date),g(5),x("ngIf",o.ipo.listing_date),g(),x("ngIf",!o.ipo.listing_date),g(5),x("text",o.ipo.status)("color",o.getIpoStatusChipColor(o.ipo.status)),g(4),x("formGroup",o.applyForm),g(6),_t("selectedUserId",o.selectedTradingAccountId),x("placeholder","Select Trading Account"),g(6),x("disabled",o.isLoadingVPA)("ngClass",bi(41,zD,((a=o.applyForm.get("upiId"))==null?null:a.invalid)&&((a=o.applyForm.get("upiId"))==null?null:a.touched))),g(),x("ngIf",((s=o.applyForm.get("upiId"))==null?null:s.invalid)&&((s=o.applyForm.get("upiId"))==null?null:s.touched)),g(),x("ngIf",o.vpaName.length>0),g(6),x("ngForOf",o.bids),g(),x("ngIf",o.canAddBid()),g(6),H("\u20B9",X(97,38,o.totalAmountPayable,"1.0-2")),g(3),x("disabled",o.isSubmitting||o.isLoadingVPA),g(),H(" ",o.isSubmitting?"Submitting...":"Submit"," "),g(),x("disabled",o.isSubmitting||o.isLoadingVPA)}},dependencies:[We,Oe,Ae,ye,hn,Or,Yt,jc,m2,Zt,Pr,Gc,rT,Gi,di,_r,br,or,rr,at,Bt,gn,Ev,ln,ti],styles:[".form-input[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.form-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1)) }.form-label[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.bid-item[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:.75rem}"]});let n=t;return n})();function nCe(n,t){n&1&&(p(0,"div",1)(1,"p",2),y(2,"No IPOs to display"),h()())}function iCe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("symbol"))}}function rCe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("name"))}}function oCe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("type"))}}function aCe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("priceRange"))}}function sCe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function lCe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("startDate"))}}function cCe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("endDate"))}}function uCe(n,t){if(n&1&&(p(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("listingDate"))}}function dCe(n,t){if(n&1&&(p(0,"span"),y(1),h()),n&2){let e=M().$implicit;g(),Bn("\u20B9",e.investor_types[0].min_price," - \u20B9",e.investor_types[0].max_price)}}function fCe(n,t){n&1&&(p(0,"span",28),y(1,"TBA"),h())}function pCe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"istDate"),h()),n&2){let e=M().$implicit;g(),j(X(2,1,e.start_at,"date-ordinal"))}}function mCe(n,t){n&1&&(p(0,"span",28),y(1,"TBA"),h())}function hCe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"istDate"),h()),n&2){let e=M().$implicit;g(),j(X(2,1,e.end_at,"date-ordinal"))}}function gCe(n,t){n&1&&(p(0,"span",28),y(1,"TBA"),h())}function vCe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"istDate"),h()),n&2){let e=M().$implicit;g(),j(X(2,1,e.listing_date,"date-ordinal"))}}function yCe(n,t){n&1&&(p(0,"span",28),y(1,"TBA"),h())}function _Ce(n,t){if(n&1){let e=ee();p(0,"button",29),z("click",function(){k(e);let r=M().$implicit,o=M(2);return N(o.openApplyDialog(r))}),y(1," Apply "),h()}}function bCe(n,t){if(n&1&&(p(0,"div",37),O(1,"div",38),p(2,"div",39),y(3,"Subscription Opens"),h(),p(4,"div",40),y(5),$(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(X(6,1,e.start_at,"date-ordinal"))}}function xCe(n,t){n&1&&(p(0,"div",41),O(1,"div",42),h())}function CCe(n,t){if(n&1&&(p(0,"div",37),O(1,"div",43),p(2,"div",39),y(3,"Subscription Closes"),h(),p(4,"div",40),y(5),$(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(X(6,1,e.end_at,"date-ordinal"))}}function SCe(n,t){n&1&&(p(0,"div",41),O(1,"div",42),h())}function wCe(n,t){if(n&1&&(p(0,"div",37),O(1,"div",44),p(2,"div",39),y(3,"Allotment"),h(),p(4,"div",40),y(5),$(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(X(6,1,e.allotment_finalisation_date,"date-ordinal"))}}function MCe(n,t){n&1&&(p(0,"div",41),O(1,"div",42),h())}function TCe(n,t){if(n&1&&(p(0,"div",37),O(1,"div",45),p(2,"div",39),y(3,"Refund Initiation"),h(),p(4,"div",40),y(5),$(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(X(6,1,e.refund_initiation_date,"date-ordinal"))}}function ECe(n,t){n&1&&(p(0,"div",41),O(1,"div",42),h())}function DCe(n,t){if(n&1&&(p(0,"div",37),O(1,"div",46),p(2,"div",39),y(3,"Demat Transfer"),h(),p(4,"div",40),y(5),$(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(X(6,1,e.demat_transfer_date,"date-ordinal"))}}function ICe(n,t){n&1&&(p(0,"div",41),O(1,"div",42),h())}function LCe(n,t){if(n&1&&(p(0,"div",37),O(1,"div",44),p(2,"div",39),y(3,"Listing Date"),h(),p(4,"div",40),y(5),$(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(X(6,1,e.listing_date,"date-ordinal"))}}function ACe(n,t){if(n&1&&(p(0,"tr")(1,"td",30)(2,"div",31)(3,"h4",32),y(4,"IPO Timeline"),h(),p(5,"div",33)(6,"div",34),A(7,bCe,7,4,"div",35)(8,xCe,2,0,"div",36)(9,CCe,7,4,"div",35)(10,SCe,2,0,"div",36)(11,wCe,7,4,"div",35)(12,MCe,2,0,"div",36)(13,TCe,7,4,"div",35)(14,ECe,2,0,"div",36)(15,DCe,7,4,"div",35)(16,ICe,2,0,"div",36)(17,LCe,7,4,"div",35),h()()()()()),n&2){let e=M().$implicit;g(7),x("ngIf",e.start_at),g(),x("ngIf",e.start_at&&e.end_at),g(),x("ngIf",e.end_at),g(),x("ngIf",e.end_at&&e.allotment_finalisation_date),g(),x("ngIf",e.allotment_finalisation_date),g(),x("ngIf",e.allotment_finalisation_date&&e.refund_initiation_date),g(),x("ngIf",e.refund_initiation_date),g(),x("ngIf",e.refund_initiation_date&&e.demat_transfer_date),g(),x("ngIf",e.demat_transfer_date),g(),x("ngIf",e.demat_transfer_date&&e.listing_date),g(),x("ngIf",e.listing_date)}}function zCe(n,t){if(n&1){let e=ee();At(0),p(1,"tr",15)(2,"td",16)(3,"a",17),y(4),h()(),p(5,"td",16)(6,"a",18),y(7),h()(),p(8,"td",16),O(9,"app-small-chip",19),h(),p(10,"td",20),A(11,dCe,2,2,"span",21)(12,fCe,2,0,"span",22),h(),p(13,"td",16),O(14,"app-small-chip",19),h(),p(15,"td",23),A(16,pCe,3,4,"span",21)(17,mCe,2,0,"span",22),h(),p(18,"td",23),A(19,hCe,3,4,"span",21)(20,gCe,2,0,"span",22),h(),p(21,"td",23),A(22,vCe,3,4,"span",21)(23,yCe,2,0,"span",22),h(),p(24,"td",24)(25,"div",25)(26,"button",26),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleTimeline(r.id))}),y(27),h(),A(28,_Ce,2,0,"button",27),h()()(),A(29,ACe,18,11,"tr",21),zt()}if(n&2){let e=t.$implicit,i=M(2);g(3),x("href",e.rhp_link,Cf),g(),H(" ",e.symbol," "),g(2),x("href",e.rhp_link,Cf),g(),H(" ",e.name," "),g(2),x("text",i.getIpoType(e.sub_type))("color","purple"),g(2),x("ngIf",e.investor_types.length>0),g(),x("ngIf",e.investor_types.length===0),g(2),x("text",e.status)("color",i.getIpoStatusChipColor(e.status)),g(2),x("ngIf",e.start_at),g(),x("ngIf",!e.start_at),g(2),x("ngIf",e.end_at),g(),x("ngIf",!e.end_at),g(2),x("ngIf",e.listing_date),g(),x("ngIf",!e.listing_date),g(4),H(" ",i.isTimelineExpanded(e.id)?"Hide":"Timeline"," "),g(),x("ngIf",e.status==="ongoing"||e.status==="preapply"),g(),x("ngIf",i.isTimelineExpanded(e.id))}}function kCe(n,t){if(n&1){let e=ee();p(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("symbol"))}),y(6," SYMBOL "),A(7,iCe,2,1,"span",8),h()(),p(8,"th",6)(9,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("name"))}),y(10," NAME "),A(11,rCe,2,1,"span",8),h()(),p(12,"th",6)(13,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("type"))}),y(14," TYPE "),A(15,oCe,2,1,"span",8),h()(),p(16,"th",9)(17,"button",10),z("click",function(){k(e);let r=M();return N(r.setSort("priceRange"))}),y(18," PRICE RANGE "),A(19,aCe,2,1,"span",8),h()(),p(20,"th",6)(21,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("status"))}),y(22," STATUS "),A(23,sCe,2,1,"span",8),h()(),p(24,"th",6)(25,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("startDate"))}),y(26," START DATE "),A(27,lCe,2,1,"span",8),h()(),p(28,"th",6)(29,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("endDate"))}),y(30," END DATE "),A(31,cCe,2,1,"span",8),h()(),p(32,"th",6)(33,"button",7),z("click",function(){k(e);let r=M();return N(r.setSort("listingDate"))}),y(34," LISTING DATE "),A(35,uCe,2,1,"span",8),h()(),p(36,"th",11),y(37,"ACTIONS"),h()()(),p(38,"tbody",12),A(39,zCe,30,19,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("symbol")),g(4),x("ngIf",e.getSortIndicator("name")),g(4),x("ngIf",e.getSortIndicator("type")),g(4),x("ngIf",e.getSortIndicator("priceRange")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("startDate")),g(4),x("ngIf",e.getSortIndicator("endDate")),g(4),x("ngIf",e.getSortIndicator("listingDate")),g(4),x("ngForOf",e.sortedRows)("ngForTrackBy",e.trackById)}}var OZ=(()=>{let t=class t{get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((i,r)=>this.compareRows(i,r))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["startDate","endDate","listingDate"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}constructor(i){this.dialog=i,this.rows=[],this.applicationSubmitted=new be,this.expandedTimelines=new Set,this.sortColumn="startDate",this.sortDirection="desc",this.sortAccessors={symbol:r=>r.symbol?.toString().toLowerCase()??"",name:r=>r.name?.toString().toLowerCase()??"",status:r=>r.status?.toString().toLowerCase()??"",type:r=>r.sub_type?.toString().toLowerCase()??"",priceRange:r=>r.investor_types?.[0]?.min_price??0,startDate:r=>r.start_at??0,endDate:r=>r.end_at??0,listingDate:r=>r.listing_date??0}}getIpoStatusChipColor(i){switch(i){case"ongoing":case"preapply":return"green";case"upcoming":return"orange";default:return"gray"}}getIpoType(i){return i==="IPO"?"MAINBOARD":"SME"}trackById(i,r){return r.id}toggleTimeline(i){this.expandedTimelines.has(i)?this.expandedTimelines.delete(i):this.expandedTimelines.add(i)}isTimelineExpanded(i){return this.expandedTimelines.has(i)}openApplyDialog(i){let r=this.dialog.open(PZ,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{ipo:i}});r.componentInstance.applicationSubmitted.subscribe(()=>{this.applicationSubmitted.emit()}),r.afterClosed().subscribe(o=>{})}};t.\u0275fac=function(r){return new(r||t)(V(Xn))},t.\u0275cmp=ie({type:t,selectors:[["app-ipo-table"]],inputs:{rows:"rows"},outputs:{applicationSubmitted:"applicationSubmitted"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],["target","_blank",1,"hover:underline","text-blue-600","font-medium",3,"href"],["target","_blank",1,"hover:underline","text-sm",3,"href"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-blue-600","hover:underline",3,"click"],["class","px-2 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-xs font-medium",3,"click",4,"ngIf"],[1,"text-gray-400"],[1,"px-2","py-1","bg-blue-500","text-white","rounded-md","hover:bg-blue-600","transition-colors","text-xs","font-medium",3,"click"],["colspan","9",1,"px-2","md:px-4","py-2","border-t","border-gray-200"],[1,"relative","w-full"],[1,"text-sm","font-semibold","text-gray-700","mb-4"],[1,"w-full","pb-4","overflow-x-auto"],[1,"flex","items-start","gap-2","md:gap-3","w-full","min-w-max","md:min-w-full","md:justify-between"],["class","flex flex-col items-center flex-shrink-0 gap-1",4,"ngIf"],["class","hidden md:flex items-center flex-1 min-w-2",4,"ngIf"],[1,"flex","flex-col","items-center","flex-shrink-0","gap-1"],[1,"w-3","h-3","bg-blue-500","rounded-full","flex-shrink-0"],[1,"text-gray-700","text-center","whitespace-nowrap"],[1,"text-gray-500","text-center","whitespace-nowrap"],[1,"hidden","md:flex","items-center","flex-1","min-w-2"],[1,"h-0.5","w-full","bg-gray-300"],[1,"w-3","h-3","bg-red-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-green-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-orange-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-teal-500","rounded-full","flex-shrink-0"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,nCe,3,0,"div",1)(2,kCe,40,10,"div"),h()),r&2&&(g(),Wt(!o.rows||o.rows.length===0?1:2))},dependencies:[Ae,gn,ye,ti],encapsulation:2});let n=t;return n})();function NCe(n,t){n&1&&(p(0,"div",2)(1,"p",3),y(2,"No IPO applications to display"),h()())}function PCe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("symbol"))}}function OCe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("investorType"))}}function RCe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("category"))}}function FCe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("created_at"))}}function BCe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("updated_at"))}}function VCe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("upi_id"))}}function UCe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function HCe(n,t){if(n&1){let e=ee();p(0,"button",28),z("click",function(){k(e);let r=M().$implicit,o=M(3);return N(o.cancelApplication(r))}),y(1),h()}if(n&2){let e=M().$implicit,i=M(3);x("disabled",i.cancellationInProgress.has(e.id)),g(),H(" ",i.cancellationInProgress.has(e.id)?"Cancelling...":"Cancel"," ")}}function jCe(n,t){if(n&1&&(p(0,"div",35)(1,"div",36)(2,"div",37)(3,"span",38),y(4,"Status:"),h(),p(5,"span",39),y(6),$(7,"uppercase"),h()(),p(8,"div",37)(9,"span",38),y(10,"Quantity:"),h(),p(11,"span",39),y(12),h()(),p(13,"div",37)(14,"span",38),y(15,"Price:"),h(),p(16,"span",39),y(17),h()(),p(18,"div",37)(19,"span",38),y(20,"Amount:"),h(),p(21,"span",39),y(22),h()(),p(23,"div",37)(24,"span",38),y(25,"Exchange ID:"),h(),p(26,"span",39),y(27),h()(),p(28,"div",37)(29,"span",38),y(30,"Auto Cutoff:"),h(),p(31,"span",39),y(32),h()()()()),n&2){let e=t.$implicit;g(6),j(Do(7,6,e.status)),g(6),j(e.quantity),g(5),j(e.price),g(5),H("\u20B9",e.amount),g(5),j(e.exchange_id),g(5),j(e.auto_cutoff?"Yes":"No")}}function GCe(n,t){if(n&1&&(p(0,"div",33),A(1,jCe,33,8,"div",34),h()),n&2){let e=M(2).$implicit;g(),x("ngForOf",e.bids)}}function WCe(n,t){n&1&&(p(0,"p",40),y(1,"No bids available"),h())}function qCe(n,t){if(n&1&&(p(0,"tr")(1,"td",29)(2,"div",30)(3,"h4",31),y(4,"Bid Details"),h(),A(5,GCe,2,1,"div",32)(6,WCe,2,0,"ng-template",null,0,Tn),h()()()),n&2){let e=pn(7),i=M().$implicit;g(5),x("ngIf",i.bids&&i.bids.length>0)("ngIfElse",e)}}function $Ce(n,t){if(n&1){let e=ee();At(0),p(1,"tr",18)(2,"td",19)(3,"span",20),y(4),h()(),p(5,"td",19),O(6,"app-small-chip",21),h(),p(7,"td",19),O(8,"app-small-chip",21),h(),p(9,"td",22),y(10),$(11,"istDate"),h(),p(12,"td",22),y(13),$(14,"istDate"),h(),p(15,"td",22),y(16),h(),p(17,"td",19),O(18,"app-small-chip",23),h(),p(19,"td",24)(20,"div",25)(21,"button",26),z("click",function(){let r=k(e).$implicit,o=M(3);return N(o.toggleBidDetails(r.id))}),y(22),h(),A(23,HCe,2,2,"button",27),h()()(),A(24,qCe,8,2,"tr",17),zt()}if(n&2){let e=t.$implicit,i=M(3);g(4),j(e.symbol),g(2),x("text",i.getInvestorType(e.investor_type))("color","gray"),g(2),x("text",i.getIpoType(e.category))("color","purple"),g(2),H(" ",X(11,14,e.created_at,"date-ordinal")," "),g(3),H(" ",X(14,17,e.updated_at,"datetime-ordinal-no-mod")," "),g(3),H(" ",e.upi_id," "),g(2),x("matTooltip",e.payment_status)("text",e.status)("color",i.getStatusChipColor(e.status)),g(4),H(" ",i.isBidDetailsExpanded(e.id)?"Hide Bids":"See Bids"," "),g(),x("ngIf",(e.status==null?null:e.status.toUpperCase())!=="CANCELLED"&&(e.status==null?null:e.status.toUpperCase())!=="ALLOTTED"&&(e.status==null?null:e.status.toUpperCase())!=="NOT ALLOTTED"),g(),x("ngIf",i.isBidDetailsExpanded(e.id))}}function YCe(n,t){n&1&&(p(0,"tr")(1,"td",41),O(2,"div",42),h()())}function ZCe(n,t){if(n&1&&(At(0),p(1,"tr",14)(2,"td",15),O(3,"app-user-info-header",16),h()(),A(4,$Ce,25,20,"ng-container",12)(5,YCe,3,0,"tr",17),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(),x("ngForOf",e.applications)("ngForTrackBy",r.trackByApplicationId),g(),x("ngIf",!i)}}function XCe(n,t){if(n&1){let e=ee();p(0,"div")(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("symbol"))}),y(6," SYMBOL "),A(7,PCe,2,1,"span",9),h()(),p(8,"th",7)(9,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("investorType"))}),y(10," INVESTOR "),A(11,OCe,2,1,"span",9),h()(),p(12,"th",7)(13,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("category"))}),y(14," TYPE "),A(15,RCe,2,1,"span",9),h()(),p(16,"th",7)(17,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("created_at"))}),y(18," APPLIED ON "),A(19,FCe,2,1,"span",9),h()(),p(20,"th",7)(21,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("updated_at"))}),y(22," LAST UPDATE ON "),A(23,BCe,2,1,"span",9),h()(),p(24,"th",7)(25,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("upi_id"))}),y(26," UPI ID "),A(27,VCe,2,1,"span",9),h()(),p(28,"th",7)(29,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("status"))}),y(30," STATUS "),A(31,UCe,2,1,"span",9),h()(),p(32,"th",10),y(33,"ACTIONS"),h()()(),p(34,"tbody",11),A(35,ZCe,6,8,"ng-container",12),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("symbol")),g(4),x("ngIf",e.getSortIndicator("investorType")),g(4),x("ngIf",e.getSortIndicator("category")),g(4),x("ngIf",e.getSortIndicator("created_at")),g(4),x("ngIf",e.getSortIndicator("updated_at")),g(4),x("ngIf",e.getSortIndicator("upi_id")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngForOf",e.sortedGroupedApplications)("ngForTrackBy",e.trackByUserId)}}var RZ=(()=>{let t=class t{get sortedGroupedApplications(){return!this.sortColumn||!this.sortDirection?this.groupedApplications:this.groupedApplications.map(i=>De(Q({},i),{applications:[...i.applications??[]].sort((r,o)=>this.compareRows(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["updated_at"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}constructor(i,r,o){this.iposService=i,this.alertService=r,this.toastrService=o,this.groupedApplications=[],this.applicationCancelled=new be,this.fallbackAvatarUrl="",this.cancellationInProgress=new Set,this.expandedBidDetails=new Set,this.sortColumn="updated_at",this.sortDirection="desc",this.sortAccessors={symbol:a=>a.symbol?.toString().toLowerCase()??"",status:a=>a.status?.toString().toLowerCase()??"",investorType:a=>a.investor_type?.toString().toLowerCase()??"",created_at:a=>a.created_at??0,updated_at:a=>a.updated_at?.toString().toLowerCase()??"",category:a=>a.updated_at?.toString().toLowerCase()??"",upi_id:a=>a.updated_at?.toString().toLowerCase()??""}}getStatusChipColor(i){switch(i?.toUpperCase()){case"SUBMITTED":case"APPLIED":return"blue";case"ACCEPTED":case"ALLOTTED":return"green";case"REJECTED":case"NOT ALLOTTED":return"red";case"PENDING":return"orange";default:return"gray"}}toggleBidDetails(i){this.expandedBidDetails.has(i)?this.expandedBidDetails.delete(i):this.expandedBidDetails.add(i)}isBidDetailsExpanded(i){return this.expandedBidDetails.has(i)}getIpoType(i){return i==="ipo"?"MAINBOARD":"SME"}getInvestorType(i){switch(i?.toUpperCase()){case"IND":return"INDIVIDUAL";case"HNI":return"HNI";case"NRI":return"NRI";case"RETAIL":return"RETAIL";default:return"gray"}}trackByApplicationId(i,r){return r.id}trackByUserId(i,r){return r.userId}cancelApplication(i){this.alertService.confirm("Cancel IPO Application",`Are you sure you want to cancel the IPO application for ${i.symbol}?`,()=>{this.performCancellation(i)})}performCancellation(i){this.cancellationInProgress.add(i.id),this.iposService.cancelIpoApplication(i.user_id,i.id).subscribe({next:r=>{this.cancellationInProgress.delete(i.id),this.toastrService.success(r?.data?.message||"IPO application cancelled successfully","Success"),this.applicationCancelled.emit()},error:r=>{this.cancellationInProgress.delete(i.id);let o=r?.error?.message||"Failed to cancel IPO application";this.toastrService.error(o,"Error")}})}};t.\u0275fac=function(r){return new(r||t)(V(f0),V(Fo),V(nt))},t.\u0275cmp=ie({type:t,selectors:[["app-ipo-applications-table"]],inputs:{groupedApplications:"groupedApplications",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{applicationCancelled:"applicationCancelled"},decls:3,vars:1,consts:[["noBids",""],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","8",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"text-gray-700","font-semibold"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"cursor-pointer",3,"matTooltip","text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-blue-600","hover:underline",3,"click"],["class","text-red-600 hover:underline cursor-pointer disabled:text-gray-400 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"text-red-600","hover:underline","cursor-pointer","disabled:text-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],["colspan","8",1,"px-2","md:px-4","py-2","border-t","border-gray-200"],[1,"relative","w-full"],[1,"text-sm","font-semibold","text-gray-700","mb-4"],["class","space-y-3",4,"ngIf","ngIfElse"],[1,"space-y-3"],["class","rounded-md border border-gray-200 p-3 bg-white text-sm",4,"ngFor","ngForOf"],[1,"rounded-md","border","border-gray-200","p-3","bg-white","text-sm"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3","text-gray-700"],[1,"flex","items-center","gap-1"],[1,"text-gray-400"],[1,""],[1,"text-gray-400","text-sm"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(p(0,"div",1),Gt(1,NCe,3,0,"div",2)(2,XCe,36,9,"div"),h()),r&2&&(g(),Wt(!o.groupedApplications||o.groupedApplications.length===0?1:2))},dependencies:[Ae,gn,Bt,ye,Oo,ti,Hf],encapsulation:2});let n=t;return n})();var QCe=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function KCe(n,t){n&1&&O(0,"span",9)}function JCe(n,t){if(n&1){let e=ee();p(0,"div",6),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.setActiveSubTab(r))}),y(1),p(2,"span",7),y(3),h(),A(4,KCe,1,0,"span",8),h()}if(n&2){let e=t.$implicit,i=M(2);Ce("active-tab",e===i.activeSubTab)("text-gray-700",e!==i.activeSubTab),g(),H(" ",e," "),g(),x("ngClass",Qe(8,QCe,e===i.activeSubTab,e!==i.activeSubTab)),g(),H(" ",i.tabCounts[e]," "),g(),x("ngIf",e===i.activeSubTab)}}function eSe(n,t){if(n&1){let e=ee();p(0,"div",16)(1,"app-ipo-table",17),z("applicationSubmitted",function(){k(e);let r=M(3);return N(r.fetchIPOApplications())}),h()()}if(n&2){let e=M(3);g(),x("rows",e.filteredIpos)}}function tSe(n,t){n&1&&(p(0,"div",16)(1,"app-note",18),y(2," There are no IPOs display here. Check your filters or search criteria. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function nSe(n,t){if(n&1){let e=ee();p(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),z("filtersChanged",function(r){k(e);let o=M(2);return N(o.applyFilters(r))})("handleRefresh",function(r){k(e);let o=M(2);return N(o.handleRefresh(r))}),h()(),O(4,"div",13),p(5,"div",11)(6,"app-search-input",14),z("inputChange",function(r){k(e);let o=M(2);return N(o.onSearch(r))}),h()()(),A(7,eSe,2,1,"div",15)(8,tSe,3,3,"ng-template",null,0,Tn),h()}if(n&2){let e=pn(9),i=M(2);g(3),x("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("isLoadingData",i.isLoadingData),g(3),x("placeholder","Search IPOs by name or type")("searchTerm",i.searchQuery),g(),x("ngIf",i.filteredIpos.length>0)("ngIfElse",e)}}function iSe(n,t){if(n&1){let e=ee();p(0,"div",16)(1,"app-ipo-applications-table",20),z("applicationCancelled",function(){k(e);let r=M(3);return N(r.onApplicationCancelled())}),h()()}if(n&2){let e=M(3);g(),x("groupedApplications",e.groupedApplications)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function rSe(n,t){n&1&&(p(0,"div",16)(1,"app-note",18),y(2," You don't have any IPO applications. Check your filters or search criteria. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function oSe(n,t){if(n&1){let e=ee();p(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),z("filtersChanged",function(r){k(e);let o=M(2);return N(o.applyApplicationsFilters(r))})("handleRefresh",function(r){k(e);let o=M(2);return N(o.handleApplicationsRefresh(r))}),h()(),O(4,"div",13),p(5,"div",11)(6,"app-user-filter",19),z("selectAllUsers",function(){k(e);let r=M(2);return N(r.onAllUserSelection())})("selectUsers",function(r){k(e);let o=M(2);return N(o.onUserSelection(r))})("totalUsers",function(r){k(e);let o=M(2);return N(o.captureUsers(r))}),h()(),p(7,"div",11)(8,"app-search-input",14),z("inputChange",function(r){k(e);let o=M(2);return N(o.onIpoApplicationSearch(r))}),h()()(),A(9,iSe,2,2,"div",15)(10,rSe,3,3,"ng-template",null,0,Tn),h()}if(n&2){let e=pn(11),i=M(2);g(3),x("filterOptions",i.applicationsFilterOptions)("filterSelection",i.applicationsFilterSelection)("isLoadingData",i.isLoadingData),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search IPO applications by User ID or Symbol")("searchTerm",i.searchIpoApplicationsQuery),g(),x("ngIf",i.groupedApplications.length>0)("ngIfElse",e)}}function aSe(n,t){if(n&1&&(p(0,"div")(1,"div",3)(2,"div",4),A(3,JCe,5,11,"div",5),h()(),A(4,nSe,10,7,"div",2)(5,oSe,12,8,"div",2),h()),n&2){let e=M();g(3),x("ngForOf",e.subTabs),g(),x("ngIf",e.activeSubTab===e.subTabs[0]),g(),x("ngIf",e.activeSubTab===e.subTabs[1])}}var FZ=(()=>{let t=class t{constructor(i,r,o,a,s,l){this.iposService=i,this.toastrService=r,this.userDataStateService=o,this.utilsService=a,this.document=s,this.userViewStateService=l,this.ipos=[],this.ipoApplications=[],this.groupedApplications=[],this.filteredIpos=[],this.users=[],this.errorMessage="",this.subTabs=["IPO","Applications"],this.activeSubTab="IPO",this.selectedUserIds=[],this.tabCounts={IPO:0,Applications:0},this.isLoadingData=!1,this.filterOptions=[{key:"sub_type",values:["IPO","SME"]},{key:"status",values:["UPCOMING","PREAPPLY","ONGOING","CLOSED"]}],this.filterSelection=[],this.applicationsFilterOptions=[{key:"category",values:["IPO","SME"]},{key:"status",values:["PENDING","SUBMITTED","ALLOTTED","NOT ALLOTTED","CANCELLED"]}],this.applicationsFilterSelection=[],this.searchQuery="",this.searchIpoApplicationsQuery="",this.faSpinner=ko,this.faRefresh=fs,this.fallbackAvatarUrl=ui}ngOnInit(){let i=this.userViewStateService.getState();this.activeSubTab=i.ipos.selectedIpoType||"IPO",this.searchQuery=i.ipos.searchQuery,this.searchIpoApplicationsQuery=i.ipos.searchIpoApplicationsQuery,this.selectedUserIds=i.ipos.selectedUsersIds||[],i.ipos.filterSelection?.length>0&&(this.filterSelection=i.ipos.filterSelection),i.ipos.applicationsFilterSelection?.length>0&&(this.applicationsFilterSelection=i.ipos.applicationsFilterSelection),this.getCachedData(),this.fetchedIPOs(),this.fetchIPOApplications()}setActiveSubTab(i){this.activeSubTab=i,this.saveUserViewState()}updateFilteredIPOs(){let i=this.ipos;this.searchQuery&&(i=i.filter(r=>r.sub_type.toLowerCase().includes(this.searchQuery)||r.name.toLowerCase().includes(this.searchQuery)||r.symbol.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i)),this.filteredIpos=i}updateFilteredIpoApplications(){let i=this.ipoApplications;this.selectedUserIds.length>0&&(i=i.filter(r=>this.selectedUserIds.includes(r.user_id))),this.searchIpoApplicationsQuery&&(i=i.filter(r=>r.symbol.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.user_id.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.category.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.status.toLowerCase().includes(this.searchIpoApplicationsQuery))),this.applicationsFilterSelection.length>0&&(i=this.utilsService.filter(this.applicationsFilterSelection,i)),this.groupApplicationsByUser(i)}groupApplicationsByUser(i){let r={};i.forEach(o=>{r[o.user_id]||(r[o.user_id]=[]),r[o.user_id].push(o)}),this.groupedApplications=Object.entries(r).map(([o,a])=>({userId:o,applications:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}onSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredIPOs(),this.saveUserViewState()}onIpoApplicationSearch(i){this.searchIpoApplicationsQuery=i.toLowerCase(),this.updateFilteredIpoApplications(),this.saveUserViewState()}captureUsers(i){this.users=i}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredIpoApplications(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredIpoApplications(),this.saveUserViewState()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.ipos&&(this.ipos=i.ipos),i.ipoApplications&&(this.ipoApplications=i.ipoApplications),this.renderIPOs(),this.renderIPOApplications())}setCachedData(){this.userDataStateService.setState({ipos:this.ipos,ipoApplications:this.ipoApplications})}fetchedIPOs(i){this.isLoadingData=!0,this.iposService.getIPOs().subscribe({next:r=>{this.ipos=r.data,this.renderIPOs(),this.setCachedData(),this.isLoadingData=!1},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching ipos. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`,this.isLoadingData=!1},complete:()=>{i&&i()}})}fetchIPOApplications(i){this.iposService.getIPOApplications().subscribe({next:r=>{this.ipoApplications=r.data,this.renderIPOApplications(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching IPO applications. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{i&&i()}})}renderIPOApplications(){this.tabCounts.Applications=this.ipoApplications.length,this.updateFilteredIpoApplications()}renderIPOs(){this.tabCounts.IPO=this.ipos.filter(i=>i.status==="ongoing"||i.status==="preapply"||i.status==="upcoming").length,this.updateFilteredIPOs()}saveUserViewState(){this.userViewStateService.setState({ipos:{selectedIpoType:this.activeSubTab,searchQuery:this.searchQuery,searchIpoApplicationsQuery:this.searchIpoApplicationsQuery,selectedUsersIds:this.selectedUserIds,filterSelection:this.filterSelection,applicationsFilterSelection:this.applicationsFilterSelection}})}onApplicationCancelled(){this.fetchIPOApplications()}applyFilters(i){this.filterSelection=i,this.updateFilteredIPOs(),this.saveUserViewState()}applyApplicationsFilters(i){this.applicationsFilterSelection=i,this.updateFilteredIpoApplications(),this.saveUserViewState()}handleRefresh(i){this.fetchedIPOs(i)}handleApplicationsRefresh(i){this.fetchIPOApplications(i)}};t.\u0275fac=function(r){return new(r||t)(V(f0),V(nt),V(Dn),V(In),V(Te),V(Un))},t.\u0275cmp=ie({type:t,selectors:[["app-ipos"]],decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","filterOptions","filterSelection","isLoadingData"],[1,"flex-1"],[3,"inputChange","placeholder","searchTerm"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"applicationSubmitted","rows"],[3,"type","dismissible","atCenter"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"applicationCancelled","groupedApplications","fallbackAvatarUrl"]],template:function(r,o){r&1&&(p(0,"div",1),A(1,aSe,6,3,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[lr,ye,Ae,za,Oe,OZ,RZ,nr,Va],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 135px);min-height:calc(100vh - var(--header-height, 80px) - 135px)}"]});let n=t;return n})();var kD=(n,t,e)=>({"text-left":n,"text-right":t,"text-center":e});function sSe(n,t){n&1&&(p(0,"div",13),Ht(),p(1,"svg",14),O(2,"path",15),h(),zn(),p(3,"p",16),y(4,"No users found"),h()())}function lSe(n,t){if(n&1&&(p(0,"th",29),y(1),h()),n&2){let e=t.$implicit,i=M(2);x("ngClass",mn(2,kD,i.getAlignment(e)==="left",i.getAlignment(e)==="right",i.getAlignment(e)==="center")),g(),H(" ",e.label," ")}}function cSe(n,t){if(n&1&&(p(0,"td",38)(1,"span",39),y(2),h()()),n&2){let e=t.$implicit,i=M().$implicit,r=M(2);x("ngClass",mn(3,kD,r.getAlignment(e)==="left",r.getAlignment(e)==="right",r.getAlignment(e)==="center")),g(),x("ngClass",r.getCellClass(i,e)),g(),H(" ",r.getCellValue(i,e)," ")}}function uSe(n,t){if(n&1&&(p(0,"tr",30)(1,"td",31)(2,"div",32),O(3,"img",33),p(4,"div",34)(5,"span",35),y(6),h(),p(7,"span",36),y(8),h()()()(),A(9,cSe,3,7,"td",37),h()),n&2){let e=t.$implicit,i=M(2);g(3),x("ngSrc",e.avatarUrl||i.fallbackAvatarUrl)("alt",e.userName),g(3),j(e.userName),g(2),j(e.userId),g(),x("ngForOf",i.columns)}}function dSe(n,t){if(n&1&&(p(0,"td",40)(1,"span",39),y(2),h()()),n&2){let e=t.$implicit,i=M(2);x("ngClass",mn(3,kD,i.getAlignment(e)==="left",i.getAlignment(e)==="right",i.getAlignment(e)==="center")),g(),x("ngClass",i.getSummaryClass(e)),g(),H(" ",i.getSummaryValue(e)," ")}}function fSe(n,t){if(n&1&&(p(0,"table",17)(1,"thead",18)(2,"tr",19)(3,"th",20),y(4,"User"),h(),A(5,lSe,2,6,"th",21),h()(),p(6,"tbody",22),A(7,uSe,10,5,"tr",23),h(),p(8,"tfoot",24)(9,"tr",25)(10,"td",26)(11,"span",27),y(12,"Summary"),h()(),A(13,dSe,3,7,"td",28),h()()()),n&2){let e=M();g(5),x("ngForOf",e.columns),g(2),x("ngForOf",e.filteredData),g(6),x("ngForOf",e.columns)}}function pSe(n,t){if(n&1&&(p(0,"div",58)(1,"span",59),y(2),h(),p(3,"span",60),y(4),h()()),n&2){let e=t.$implicit,i=M().$implicit,r=M(2);g(2),j(e.label),g(),x("ngClass",r.getCellClass(i,e)),g(),H(" ",r.getCellValue(i,e)," ")}}function mSe(n,t){if(n&1&&(p(0,"div",53)(1,"div",54),O(2,"img",55),p(3,"div",48)(4,"span",56),y(5),h(),p(6,"span",57),y(7),h()()(),p(8,"div",51),A(9,pSe,5,3,"div",52),h()()),n&2){let e=t.$implicit,i=M(2);g(2),x("ngSrc",e.avatarUrl||i.fallbackAvatarUrl)("alt",e.userName),g(3),j(e.userName),g(2),j(e.userId),g(2),x("ngForOf",i.columns)}}function hSe(n,t){if(n&1&&(p(0,"div",58)(1,"span",61),y(2),h(),p(3,"span",62),y(4),h()()),n&2){let e=t.$implicit,i=M(2);g(2),j(e.label),g(),x("ngClass",i.getSummaryClass(e)),g(),H(" ",i.getSummaryValue(e)," ")}}function gSe(n,t){if(n&1&&(p(0,"div",41),A(1,mSe,10,5,"div",42),p(2,"div",43)(3,"div",44)(4,"div",45),Ht(),p(5,"svg",46),O(6,"path",47),h()(),zn(),p(7,"div",48)(8,"span",49),y(9,"Summary"),h(),p(10,"span",50),y(11),h()()(),p(12,"div",51),A(13,hSe,5,3,"div",52),h()()()),n&2){let e=M();g(),x("ngForOf",e.filteredData),g(10),H("Total of ",e.filteredData.length," user(s)"),g(2),x("ngForOf",e.columns)}}var BZ=(()=>{let t=class t{constructor(){this.userData=[],this.columns=[],this.title="User Details",this.close=new be,this.filteredData=[],this.selectedUserIds=[],this.fallbackAvatarUrl=ui}ngOnInit(){this.filteredData=[...this.userData],this.applySorting()}ngOnChanges(i){i.userData&&this.applyFilter()}onUserSelectionChange(i){this.selectedUserIds=i,this.applyFilter()}onSelectAllUsers(){this.selectedUserIds=[],this.applyFilter()}applyFilter(){this.selectedUserIds.length===0?this.filteredData=[...this.userData]:this.filteredData=this.userData.filter(i=>this.selectedUserIds.includes(i.userId)),this.applySorting()}applySorting(){this.sortByColumn&&this.filteredData.sort((i,r)=>{let o=i[this.sortByColumn]||0;return(r[this.sortByColumn]||0)-o})}closePopup(){this.close.emit()}getCellValue(i,r){let o=i[r.key];if(o==null)return"-";switch(r.type){case"currency":return`\u20B9${this.formatNumber(o)}`;case"number":return this.formatNumber(o);case"percentage":return`${this.formatNumber(o)}%`;case"currency-with-percent":let a=r.key+"Percent",s=i[a];return s!=null?`\u20B9${this.formatNumber(o)} (${this.formatNumber(s)}%)`:`\u20B9${this.formatNumber(o)}`;default:return String(o)}}formatNumber(i){return typeof i!="number"?String(i):i.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}getCellClass(i,r){let o=["font-medium"];if(r.colorize){let a=i[r.key];typeof a=="number"&&(a>0?o.push("text-green-600"):a<0?o.push("text-red-600"):o.push("text-gray-700"))}else o.push("text-gray-700");return o.join(" ")}getAlignment(i){return i.align||"right"}getSummaryValue(i){let r=this.filteredData.reduce((o,a)=>{let s=a[i.key];return typeof s=="number"?o+s:o},0);switch(i.type){case"currency":return`\u20B9${this.formatNumber(r)}`;case"number":return this.formatNumber(r);case"percentage":let o=this.filteredData.filter(u=>typeof u[i.key]=="number").length,a=o>0?r/o:0;return`${this.formatNumber(a)}%`;case"currency-with-percent":let s=i.key+"Percent",l=this.filteredData.reduce((u,d)=>{let f=d[s];return typeof f=="number"?u+f:u},0),c=this.filteredData.filter(u=>typeof u[s]=="number").length;return`\u20B9${this.formatNumber(r)}`;default:return"-"}}getSummaryClass(i){let r=["font-bold"];if(i.colorize){let o=this.filteredData.reduce((a,s)=>{let l=s[i.key];return typeof l=="number"?a+l:a},0);o>0?r.push("text-green-600"):o<0?r.push("text-red-600"):r.push("text-gray-700")}else r.push("text-gray-700");return r.join(" ")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-pnl-details-popup"]],inputs:{userData:"userData",columns:"columns",title:"title",sortByColumn:"sortByColumn"},outputs:{close:"close"},features:[rn],decls:16,vars:7,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4",3,"click"],["cdkDrag","",1,"w-full","max-w-3xl","sm:min-w-[600px]","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white",3,"click"],["cdkDragHandle","",1,"flex","flex-col","sm:flex-row","items-stretch","sm:items-center","justify-between","gap-2","sm:gap-3","px-3","sm:px-4","py-2","sm:py-3","border-b","cursor-move"],[1,"font-medium","text-gray-700","text-sm","sm:text-base","flex-shrink-0"],[1,"w-full","sm:w-auto","sm:min-w-[240px]"],[3,"selectAllUsers","selectUsers","selectedUserIds"],[1,"p-2","sm:p-4","max-h-[60vh]","sm:max-h-[500px]","min-h-[300px]","overflow-y-auto","overflow-x-auto"],["class","text-center py-8 sm:py-12 text-gray-500",4,"ngIf"],["class","hidden sm:table w-full text-xs sm:text-sm border-t border-gray-200",4,"ngIf"],["class","sm:hidden space-y-3",4,"ngIf"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-3","sm:px-4","py-2","sm:py-3","border-t","cursor-move"],[1,"text-sm","sm:text-sm","text-gray-600"],[1,"px-3","sm:px-4","py-1.5","sm:py-2","border","rounded-md","hover:bg-gray-100","text-sm","sm:text-sm",3,"click"],[1,"text-center","py-8","sm:py-12","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","sm:w-16","sm:h-16","mx-auto","mb-3","sm:mb-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-base","sm:text-lg","font-medium"],[1,"hidden","sm:table","w-full","text-xs","sm:text-sm","border-t","border-gray-200"],[1,"bg-gray-100","text-gray-600","font-medium","sticky","top-0","z-10"],[1,"border-b","border-gray-200"],[1,"px-2","sm:px-4","py-2","text-left","bg-gray-100","h-10"],["class","px-2 sm:px-4 py-2 bg-gray-100 whitespace-nowrap h-10",3,"ngClass",4,"ngFor","ngForOf"],[1,"divide-y","divide-gray-100","text-gray-700"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-gray-100","border-t","border-b","border-gray-200"],[1,"font-semibold"],[1,"px-2","sm:px-4","py-3","text-left"],[1,"text-gray-700","font-bold"],["class","px-2 sm:px-4 py-3 whitespace-nowrap",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-2","sm:px-4","py-2","bg-gray-100","whitespace-nowrap","h-10",3,"ngClass"],[1,"hover:bg-gray-50"],[1,"px-2","sm:px-4","py-2"],[1,"flex","items-center","gap-2","sm:gap-3"],["width","32","height","32",1,"w-6","h-6","sm:w-8","sm:h-8","rounded-full","object-cover","border-2","border-gray-200","flex-shrink-0",3,"ngSrc","alt"],[1,"flex","flex-col","min-w-0"],[1,"font-medium","text-gray-900","truncate"],[1,"text-[10px]","sm:text-xs","text-gray-500","truncate"],["class","px-2 sm:px-4 py-2 whitespace-nowrap",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-2","sm:px-4","py-2","whitespace-nowrap",3,"ngClass"],[3,"ngClass"],[1,"px-2","sm:px-4","py-3","whitespace-nowrap",3,"ngClass"],[1,"sm:hidden","space-y-3"],["class","bg-white border border-gray-200 rounded-md p-3 shadow-sm",4,"ngFor","ngForOf"],[1,"bg-gray-100","border-1","border-gray-200","rounded-md","p-3"],[1,"flex","items-center","gap-2","mb-2","pb-2","border-b-2","border-gray-200"],[1,"w-10","h-10","rounded-full","bg-gray-700","flex","items-center","justify-center","flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"flex","flex-col","min-w-0","flex-1"],[1,"font-bold","text-gray-700","text-sm"],[1,"text-xs","text-gray-600"],[1,"space-y-2"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"bg-white","border","border-gray-200","rounded-md","p-3","shadow-sm"],[1,"flex","items-center","gap-2","mb-2","pb-2","border-b","border-gray-100"],["width","40","height","40",1,"w-10","h-10","rounded-full","object-cover","border-2","border-gray-200","flex-shrink-0",3,"ngSrc","alt"],[1,"font-medium","text-gray-900","truncate","text-sm"],[1,"text-sm","text-gray-500","truncate"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-sm","font-medium",3,"ngClass"],[1,"text-sm","text-gray-700","font-medium"],[1,"text-sm",3,"ngClass"]],template:function(r,o){r&1&&(p(0,"div",0),z("click",function(){return o.closePopup()}),p(1,"div",1),z("click",function(s){return s.stopPropagation()}),p(2,"div",2)(3,"span",3),y(4),h(),p(5,"div",4)(6,"app-user-filter",5),z("selectAllUsers",function(){return o.onSelectAllUsers()})("selectUsers",function(s){return o.onUserSelectionChange(s)}),h()()(),p(7,"div",6),A(8,sSe,5,0,"div",7)(9,fSe,14,3,"table",8)(10,gSe,14,3,"div",9),h(),p(11,"div",10)(12,"span",11),y(13),h(),p(14,"button",12),z("click",function(){return o.closePopup()}),y(15," Close "),h()()()()),r&2&&(g(4),j(o.title),g(2),x("selectedUserIds",o.selectedUserIds),g(2),x("ngIf",o.filteredData.length===0),g(),x("ngIf",o.filteredData.length>0),g(),x("ngIf",o.filteredData.length>0),g(3),Bn("Showing ",o.filteredData.length," of ",o.userData.length," users"))},dependencies:[We,Oe,Ae,ye,kr,hn,or,rr,nr],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}"]});let n=t;return n})();var vSe=(n,t)=>({"border-green-500":n,"border-red-500":t}),ySe=(n,t)=>({"bg-green-50":n,"bg-red-50":t}),_Se=(n,t)=>({"bg-green-100":n,"bg-red-100":t}),VZ=(n,t)=>({"text-green-600":n,"text-red-600":t}),p0=(n,t)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":t}),Iv=(n,t,e)=>({"text-green-600":n,"text-red-600":t,"text-gray-700":e}),bSe=(n,t)=>({"border-purple-500":n,"border-gray-500":t}),xSe=(n,t)=>({"bg-purple-50":n,"bg-gray-50":t}),CSe=(n,t)=>({"bg-purple-100":n,"bg-gray-100":t}),SSe=(n,t)=>({"text-purple-600":n,"text-gray-600":t}),wSe=()=>["1D","1W","1M","3M","6M","1Y"],ND=(n,t)=>({"bg-blue-50 text-blue-600":n,"bg-orange-50 text-orange-600":t});function MSe(n,t){if(n&1&&(p(0,"div",12)(1,"div",13),O(2,"fa-icon",14),p(3,"span",15),y(4),h()()()),n&2){let e=M();g(2),x("icon",e.faArrowTrendDown),g(2),j(e.errorMessage)}}function TSe(n,t){n&1&&(p(0,"div",16)(1,"div",17)(2,"p",18),O(3,"span",19),y(4," \u{1F680} Fetching your financial empire... Please hold while we count your millions! "),h()()())}function ESe(n,t){if(n&1){let e=ee();p(0,"button",103),z("click",function(){let r=k(e).$implicit,o=M(4);return N(o.changeTimeframe(r))}),y(1),h()}if(n&2){let e=t.$implicit,i=M(4);Ce("bg-purple-600",i.selectedTimeframe===e)("text-white",i.selectedTimeframe===e)("bg-gray-100",i.selectedTimeframe!==e)("text-gray-600",i.selectedTimeframe!==e),g(),H(" ",e," ")}}function DSe(n,t){n&1&&(p(0,"div",101),A(1,ESe,2,9,"button",102),h()),n&2&&(g(),x("ngForOf",Ac(1,wSe)))}function ISe(n,t){if(n&1&&(p(0,"div")(1,"div",104)(2,"div",105)(3,"div",106)(4,"div",36)(5,"div",107),O(6,"fa-icon",108),y(7," Historical Portfolio "),h(),p(8,"span",109),y(9),$(10,"date"),h()(),p(11,"div",110)(12,"div",111)(13,"span",112),y(14,"Total Investment"),h(),p(15,"span",113),y(16),$(17,"number"),h()(),p(18,"div",111)(19,"span",112),y(20,"Current Value"),h(),p(21,"span",113),y(22),$(23,"number"),h()(),p(24,"div",114)(25,"span",112),y(26,"Total P&L"),h(),p(27,"div",115)(28,"div",52)(29,"span",53),y(30),$(31,"number"),h(),p(32,"span",48),O(33,"fa-icon",49),y(34),$(35,"percent"),h()()()()()(),p(36,"div",106)(37,"div",36)(38,"div",107),O(39,"fa-icon",116),y(40," Current Portfolio "),h(),p(41,"span",117),y(42,"Today"),h()(),p(43,"div",110)(44,"div",118)(45,"span",112),y(46,"Total Investment"),h(),p(47,"span",113),y(48),$(49,"number"),h()(),p(50,"div",118)(51,"span",112),y(52,"Current Value"),h(),p(53,"span",113),y(54),$(55,"number"),h()(),p(56,"div",114)(57,"span",112),y(58,"Total P&L"),h(),p(59,"div",115)(60,"div",52)(61,"span",53),y(62),$(63,"number"),h(),p(64,"span",48),O(65,"fa-icon",49),y(66),$(67,"percent"),h()()()()()(),p(68,"div",106)(69,"div",119),O(70,"fa-icon",120),y(71),h(),p(72,"div",110)(73,"div",118)(74,"span",112),y(75,"Investment Change"),h(),p(76,"div",115)(77,"div",52)(78,"span",121),y(79),$(80,"number"),h(),p(81,"span",48),O(82,"fa-icon",49),y(83),$(84,"number"),h()()()(),p(85,"div",118)(86,"span",112),y(87,"Value Change"),h(),p(88,"div",115)(89,"div",52)(90,"span",121),y(91),$(92,"number"),h(),p(93,"span",48),O(94,"fa-icon",49),y(95),$(96,"number"),h()()()(),p(97,"div",114)(98,"span",112),y(99,"P&L Change"),h(),p(100,"div",115)(101,"div",52)(102,"span",121),y(103),$(104,"number"),h(),p(105,"span",48),O(106,"fa-icon",49),y(107),$(108,"number"),h()()()()()()(),p(109,"div",122)(110,"p",123)(111,"strong"),y(112,"Note:"),h(),y(113),h()()()()),n&2){let e=M(3);x("@expandCollapseAnimation",void 0),g(6),x("icon",e.faChartBar),g(3),j(e.portfolioMetrics.historyDate?X(10,45,e.portfolioMetrics.historyDate,"dd-MMM-yyyy"):"N/A"),g(7),H("\u20B9",X(17,48,e.portfolioMetrics.historicalInvested||0,"1.0-0")),g(6),H("\u20B9",X(23,51,e.portfolioMetrics.historicalValue||0,"1.0-0")),g(7),x("ngClass",mn(90,Iv,(e.portfolioMetrics.historicalPnl??0)>=0,(e.portfolioMetrics.historicalPnl??0)<0,(e.portfolioMetrics.historicalPnl??0)===0)),g(),H(" \u20B9",X(31,54,e.portfolioMetrics.historicalPnl,"1.2-2")," "),g(2),x("ngClass",Qe(94,p0,(e.portfolioMetrics.historicalPnl??0)>0,(e.portfolioMetrics.historicalPnl??0)<0)),g(),x("icon",(e.portfolioMetrics.historicalPnl??0)>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(35,57,e.portfolioMetrics.historicalPnlPercentage,"1.2-2")," "),g(5),x("icon",e.faChartLine),g(9),H("\u20B9",X(49,60,e.stats.totalInvestment,"1.0-0")),g(6),H("\u20B9",X(55,63,e.stats.currentValue,"1.0-0")),g(7),x("ngClass",mn(97,Iv,e.stats.totalGains>=0,e.stats.totalGains<0,e.stats.totalGains===0)),g(),H(" \u20B9",X(63,66,e.stats.totalGains,"1.2-2")," "),g(2),x("ngClass",Qe(101,p0,e.stats.totalGains>0,e.stats.totalGains<0)),g(),x("icon",e.stats.totalGains>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(67,69,e.stats.totalGainsPercent,"1.2-2")," "),g(4),x("icon",e.faArrowTrendUp),g(),H(" Change Analysis (",e.selectedTimeframe,") "),g(7),Ce("text-blue-600",e.stats.totalInvestment-(e.portfolioMetrics.historicalInvested||0)>=0)("text-orange-600",e.stats.totalInvestment-(e.portfolioMetrics.historicalInvested||0)<0),g(),H(" \u20B9",X(80,72,e.stats.totalInvestment-(e.portfolioMetrics.historicalInvested||0),"1.0-0")," "),g(2),x("ngClass",Qe(104,ND,e.stats.totalInvestment-(e.portfolioMetrics.historicalInvested||0)>=0,e.stats.totalInvestment-(e.portfolioMetrics.historicalInvested||0)<0)),g(),x("icon",e.stats.totalInvestment-(e.portfolioMetrics.historicalInvested||0)>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(84,75,e.portfolioMetrics.historicalInvested&&e.portfolioMetrics.historicalInvested>0?(e.stats.totalInvestment-e.portfolioMetrics.historicalInvested)/e.portfolioMetrics.historicalInvested*100:0,"1.2-2"),"% "),g(7),Ce("text-blue-600",e.stats.currentValue-(e.portfolioMetrics.historicalValue||0)>=0)("text-orange-600",e.stats.currentValue-(e.portfolioMetrics.historicalValue||0)<0),g(),H(" \u20B9",X(92,78,e.stats.currentValue-(e.portfolioMetrics.historicalValue||0),"1.0-0")," "),g(2),x("ngClass",Qe(107,ND,e.stats.currentValue-(e.portfolioMetrics.historicalValue||0)>=0,e.stats.currentValue-(e.portfolioMetrics.historicalValue||0)<0)),g(),x("icon",e.stats.currentValue-(e.portfolioMetrics.historicalValue||0)>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(96,81,e.portfolioMetrics.historicalValue&&e.portfolioMetrics.historicalValue>0?(e.stats.currentValue-e.portfolioMetrics.historicalValue)/e.portfolioMetrics.historicalValue*100:0,"1.2-2"),"% "),g(7),Ce("text-blue-600",e.stats.totalGains-(e.portfolioMetrics.historicalPnl||0)>=0)("text-orange-600",e.stats.totalGains-(e.portfolioMetrics.historicalPnl||0)<0),g(),H(" \u20B9",X(104,84,e.stats.totalGains-(e.portfolioMetrics.historicalPnl||0),"1.0-0")," "),g(2),x("ngClass",Qe(110,ND,e.stats.totalGains-(e.portfolioMetrics.historicalPnl||0)>=0,e.stats.totalGains-(e.portfolioMetrics.historicalPnl||0)<0)),g(),x("icon",e.stats.totalGains-(e.portfolioMetrics.historicalPnl||0)>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(108,87,e.portfolioMetrics.historicalPnl&&e.Math.abs(e.portfolioMetrics.historicalPnl||0)>0?(e.stats.totalGains-(e.portfolioMetrics.historicalPnl||0))/e.Math.abs(e.portfolioMetrics.historicalPnl||0)*100:0,"1.2-2"),"% "),g(6),H(" Historical data from ",e.portfolioMetrics.historyDate||"selected date",". Investment Change shows capital added/withdrawn. Value Change includes price movements. P&L Change shows profit/loss improvement. ")}}function LSe(n,t){if(n&1&&(p(0,"div",125),O(1,"fa-icon",126),p(2,"p",127),y(3,"Loading gainers and losers..."),h()()),n&2){let e=M(4);g(),Ce("fa-spin",e.isLoadingGainersLosers),x("icon",e.faSpinner)}}function ASe(n,t){if(n&1&&(p(0,"div",114)(1,"span",133),y(2),h(),p(3,"div",115)(4,"div",52)(5,"span",134),y(6),$(7,"number"),$(8,"number"),h(),p(9,"span",135),$(10,"number"),$(11,"number"),O(12,"fa-icon",49),y(13),$(14,"number"),h()()()()),n&2){let e=t.$implicit,i=t.index,r=t.last,o=M(6);Ce("pb-2",!r)("border-b",!r),g(),x("matTooltip",(e.instrument||e.tradingSymbol)+" ("+e.userId+")"),g(),Bn(" ",i+1,". ",e.instrument||e.tradingSymbol," "),g(4),Bn("",X(7,13,e.previousPrice,"1.2-2")," \u2192 ",X(8,16,e.currentPrice,"1.2-2")),g(3),x("matTooltip",X(10,19,e.previousPrice,"1.2-2")+" \u2192 "+X(11,22,e.currentPrice,"1.2-2"))("ngClass",Qe(28,p0,(e.percentageChange||0)>=0,(e.percentageChange||0)<0)),g(3),x("icon",(e.percentageChange||0)>=0?o.faArrowUp:o.faArrowDown),g(),H(" ",X(14,25,e.percentageChange||0,"1.2-2"),"% ")}}function zSe(n,t){if(n&1&&(p(0,"div",110),A(1,ASe,15,31,"div",132),h()),n&2){let e=M(5);g(),x("ngForOf",e.getSelectedTopGainers())}}function kSe(n,t){n&1&&(p(0,"div",136),y(1," No gainers for this timeframe "),h())}function NSe(n,t){if(n&1&&(p(0,"div",114)(1,"span",133),y(2),h(),p(3,"div",115)(4,"div",52)(5,"span",134),y(6),$(7,"number"),$(8,"number"),h(),p(9,"span",135),$(10,"number"),$(11,"number"),O(12,"fa-icon",49),y(13),$(14,"number"),h()()()()),n&2){let e=t.$implicit,i=t.index,r=t.last,o=M(6);Ce("pb-2",!r)("border-b",!r),g(),x("matTooltip",(e.instrument||e.tradingSymbol)+" ("+e.userId+")"),g(),Bn(" ",i+1,". ",e.instrument||e.tradingSymbol," "),g(4),Bn(" ",X(7,13,e.previousPrice,"1.2-2")," \u2192 ",X(8,16,e.currentPrice,"1.2-2")," "),g(3),x("matTooltip",X(10,19,e.previousPrice,"1.2-2")+" \u2192 "+X(11,22,e.currentPrice,"1.2-2"))("ngClass",Qe(28,p0,(e.percentageChange||0)>=0,(e.percentageChange||0)<0)),g(3),x("icon",(e.percentageChange||0)>=0?o.faArrowUp:o.faArrowDown),g(),H(" ",X(14,25,e.percentageChange||0,"1.2-2"),"% ")}}function PSe(n,t){if(n&1&&(p(0,"div",110),A(1,NSe,15,31,"div",132),h()),n&2){let e=M(5);g(),x("ngForOf",e.getSelectedTopLosers())}}function OSe(n,t){n&1&&(p(0,"div",136),y(1," No losers for this timeframe "),h())}function RSe(n,t){if(n&1&&(p(0,"div")(1,"div",104)(2,"div",128)(3,"div",106)(4,"div",36)(5,"div",107),O(6,"fa-icon",129),y(7," Top 5 Gainers "),h(),p(8,"span",109),y(9),$(10,"date"),h()(),A(11,zSe,2,1,"div",130)(12,kSe,2,0,"ng-template",null,0,Tn),h(),p(14,"div",106)(15,"div",36)(16,"div",107),O(17,"fa-icon",131),y(18," Top 5 Losers "),h(),p(19,"span",109),y(20),$(21,"date"),h()(),A(22,PSe,2,1,"div",130)(23,OSe,2,0,"ng-template",null,1,Tn),h()()()()),n&2){let e=pn(13),i=pn(24),r=M(4);g(6),x("icon",r.faArrowTrendUp),g(3),H("",r.gainersLosersData!=null&&r.gainersLosersData.snapshotDate?X(10,8,r.gainersLosersData.snapshotDate,"dd-MMM-yyyy"):"N/A"," vs Today"),g(2),x("ngIf",r.getSelectedTopGainers().length>0)("ngIfElse",e),g(6),x("icon",r.faArrowTrendDown),g(3),H("",r.gainersLosersData!=null&&r.gainersLosersData.snapshotDate?X(21,11,r.gainersLosersData.snapshotDate,"dd-MMM-yyyy"):"N/A"," vs Today"),g(2),x("ngIf",r.getSelectedTopLosers().length>0)("ngIfElse",i)}}function FSe(n,t){if(n&1&&(p(0,"div")(1,"div",137),O(2,"fa-icon",138),p(3,"p"),y(4,"No gainers or losers data available for this timeframe"),h(),p(5,"p",139),y(6,"This could be because there are no matching holdings in both snapshots."),h()()()),n&2){let e=M(4);g(2),x("icon",e.faTrophy)}}function BSe(n,t){if(n&1&&(p(0,"div"),A(1,LSe,4,3,"div",124)(2,RSe,25,14,"div",100)(3,FSe,7,1,"div",100),h()),n&2){let e=M(3);x("@expandCollapseAnimation",void 0),g(),x("ngIf",e.isLoadingGainersLosers),g(),x("ngIf",!e.isLoadingGainersLosers&&(e.getSelectedTopGainers().length>0||e.getSelectedTopLosers().length>0)),g(),x("ngIf",!e.isLoadingGainersLosers&&e.getSelectedTopGainers().length===0&&e.getSelectedTopLosers().length===0)}}function VSe(n,t){if(n&1&&(p(0,"span",48),O(1,"fa-icon",49),y(2),$(3,"number"),h()),n&2){let e=M(4);x("ngClass",Qe(6,p0,((e.portfolioStatistics.bestPerformer==null?null:e.portfolioStatistics.bestPerformer.returns)||0)>=0,((e.portfolioStatistics.bestPerformer==null?null:e.portfolioStatistics.bestPerformer.returns)||0)<0)),g(),x("icon",((e.portfolioStatistics.bestPerformer==null?null:e.portfolioStatistics.bestPerformer.returns)||0)>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(3,3,(e.portfolioStatistics.bestPerformer==null?null:e.portfolioStatistics.bestPerformer.returns)||0,"1.2-2"),"% ")}}function USe(n,t){if(n&1&&(p(0,"span",48),O(1,"fa-icon",49),y(2),$(3,"number"),h()),n&2){let e=M(4);x("ngClass",Qe(6,p0,((e.portfolioStatistics.worstPerformer==null?null:e.portfolioStatistics.worstPerformer.returns)||0)>=0,((e.portfolioStatistics.worstPerformer==null?null:e.portfolioStatistics.worstPerformer.returns)||0)<0)),g(),x("icon",((e.portfolioStatistics.worstPerformer==null?null:e.portfolioStatistics.worstPerformer.returns)||0)>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(3,3,(e.portfolioStatistics.worstPerformer==null?null:e.portfolioStatistics.worstPerformer.returns)||0,"1.2-2"),"% ")}}function HSe(n,t){if(n&1&&(p(0,"div",144)(1,"div",145),O(2,"div",146),h(),p(3,"div",147),y(4),$(5,"number"),$(6,"number"),h()()),n&2){let e=M(4);g(2),Da("width",e.portfolioStatistics.topHolding==null?null:e.portfolioStatistics.topHolding.concentration,"%"),g(2),Bn("\u20B9",X(5,4,e.portfolioStatistics.topHolding==null?null:e.portfolioStatistics.topHolding.value,"1.0-0")," (",X(6,7,e.portfolioStatistics.topHolding==null?null:e.portfolioStatistics.topHolding.concentration,"1.2-2"),"%)")}}function jSe(n,t){if(n&1&&(p(0,"div")(1,"div",104)(2,"div",128)(3,"div",106)(4,"div",36)(5,"div",107),O(6,"fa-icon",108),y(7," Holdings "),h()(),p(8,"div",110)(9,"div",118)(10,"span",112),y(11,"Total Holdings"),h(),p(12,"span",113),y(13),h()(),p(14,"div",118)(15,"span",112),y(16,"Mutual Funds"),h(),p(17,"span",113),y(18),h()(),p(19,"div",118)(20,"span",112),y(21,"Stocks"),h(),p(22,"span",113),y(23),h()(),p(24,"div",118)(25,"span",112),y(26,"Total Gainers"),h(),p(27,"span",113),y(28),h()(),p(29,"div",114)(30,"span",112),y(31,"Total Losers"),h(),p(32,"span",113),y(33),h()()()(),p(34,"div",106)(35,"div",119),O(36,"fa-icon",120),y(37," Performers Summary "),h(),p(38,"div",110)(39,"div",118)(40,"span",112),y(41,"Best Performer"),h(),p(42,"div",115)(43,"div",52)(44,"span",133),y(45),h(),A(46,VSe,4,9,"span",140),h()()(),p(47,"div",118)(48,"span",112),y(49,"Worst Performer"),h(),p(50,"div",115)(51,"div",52)(52,"span",133),y(53),h(),A(54,USe,4,9,"span",140),h()()(),p(55,"div")(56,"div",141)(57,"span",112),y(58,"Top Holding"),h(),p(59,"span",142),y(60),h()(),A(61,HSe,7,10,"div",143),h()()()()()()),n&2){let e=M(3);x("@expandCollapseAnimation",void 0),g(6),x("icon",e.faChartBar),g(7),j(e.portfolioStatistics.totalHoldingsStocks+e.portfolioStatistics.totalHoldingsMF||0),g(5),j(e.portfolioStatistics.totalHoldingsMF||0),g(5),j(e.portfolioStatistics.totalHoldingsStocks||0),g(5),j(e.portfolioStatistics.totalGainers),g(5),j(e.portfolioStatistics.totalLosers),g(3),x("icon",e.faArrowTrendUp),g(8),x("matTooltip",(e.portfolioStatistics.bestPerformer==null?null:e.portfolioStatistics.bestPerformer.name)+" ("+(e.portfolioStatistics.bestPerformer==null?null:e.portfolioStatistics.bestPerformer.userId)+")"),g(),H(" ",e.portfolioStatistics.bestPerformer==null?null:e.portfolioStatistics.bestPerformer.name," "),g(),x("ngIf",((e.portfolioStatistics.bestPerformer==null?null:e.portfolioStatistics.bestPerformer.name)||"").length>0),g(6),x("matTooltip",(e.portfolioStatistics.worstPerformer==null?null:e.portfolioStatistics.worstPerformer.name)+" ("+(e.portfolioStatistics.worstPerformer==null?null:e.portfolioStatistics.worstPerformer.userId)+")"),g(),H(" ",e.portfolioStatistics.worstPerformer==null?null:e.portfolioStatistics.worstPerformer.name," "),g(),x("ngIf",((e.portfolioStatistics.worstPerformer==null?null:e.portfolioStatistics.worstPerformer.name)||"").length>0),g(5),x("matTooltip",(e.portfolioStatistics.topHolding==null?null:e.portfolioStatistics.topHolding.name)+" ("+(e.portfolioStatistics.topHolding==null?null:e.portfolioStatistics.topHolding.userId)+")"),g(),H(" ",e.portfolioStatistics.topHolding==null?null:e.portfolioStatistics.topHolding.name," "),g(),x("ngIf",((e.portfolioStatistics.topHolding==null?null:e.portfolioStatistics.topHolding.name)||"").length>0)}}function GSe(n,t){if(n&1){let e=ee();p(0,"div",93),O(1,"div",94),p(2,"div",24)(3,"div",95)(4,"div",96)(5,"span",30),y(6,"Portfolio Analytics"),h()(),A(7,DSe,2,2,"div",97),h(),p(8,"div",98)(9,"button",99),z("click",function(){k(e);let r=M(2);return N(r.changeMetricView("returns"))}),y(10," Portfolio Value "),h(),p(11,"button",99),z("click",function(){k(e);let r=M(2);return N(r.changeMetricView("gainers-losers"))}),y(12," Top Gainers/Losers "),h(),p(13,"button",99),z("click",function(){k(e);let r=M(2);return N(r.changeMetricView("statistics"))}),y(14," Statistics "),h()(),A(15,ISe,114,113,"div",100)(16,BSe,4,4,"div",100)(17,jSe,62,17,"div",100),h()()}if(n&2){let e=M(2);g(7),x("ngIf",e.selectedMetricView!=="statistics"),g(2),Ce("border-purple-600",e.selectedMetricView==="returns")("text-purple-600",e.selectedMetricView==="returns")("border-transparent",e.selectedMetricView!=="returns")("text-gray-600",e.selectedMetricView!=="returns"),g(2),Ce("border-purple-600",e.selectedMetricView==="gainers-losers")("text-purple-600",e.selectedMetricView==="gainers-losers")("border-transparent",e.selectedMetricView!=="gainers-losers")("text-gray-600",e.selectedMetricView!=="gainers-losers"),g(2),Ce("border-purple-600",e.selectedMetricView==="statistics")("text-purple-600",e.selectedMetricView==="statistics")("border-transparent",e.selectedMetricView!=="statistics")("text-gray-600",e.selectedMetricView!=="statistics"),g(2),x("ngIf",e.selectedMetricView==="returns"),g(),x("ngIf",e.selectedMetricView==="gainers-losers"),g(),x("ngIf",e.selectedMetricView==="statistics")}}function WSe(n,t){if(n&1&&(p(0,"div",148),O(1,"div",149),p(2,"div",96)(3,"span",30),y(4,"Portfolio Performance"),h()(),p(5,"div",150),O(6,"app-timeline-chart",151),h()()),n&2){let e=M(2);g(5),x("@expandCollapse",e.showChart?"expanded":"collapsed"),g(),x("title","")("xAxisLabels",e.dateLabels)("legendLabels",e.legendLabels)("series",e.series)("showDataZoom",!0)("chartHeight","240")}}function qSe(n,t){if(n&1){let e=ee();p(0,"div",20)(1,"div",21)(2,"div",22),z("click",function(){k(e);let r=M();return N(r.hasMultipleUsers()&&r.showInvestmentDetails())}),O(3,"div",23),p(4,"div",24)(5,"div",25)(6,"div",26)(7,"div",27)(8,"div",28),O(9,"fa-icon",29),h(),p(10,"span",30),y(11,"Investment"),h()(),p(12,"div",31),y(13),$(14,"number"),h()(),p(15,"div",32)(16,"div",27)(17,"div",33),O(18,"fa-icon",34),h(),p(19,"span",30),y(20,"Current"),h()(),p(21,"div",31),y(22),$(23,"number"),h()()()()(),p(24,"div",35),z("click",function(){k(e);let r=M();return N(r.hasMultipleUsers()&&r.showInvestmentDetails())}),O(25,"div",23),p(26,"div",24)(27,"div",36)(28,"div",13)(29,"div",37),O(30,"fa-icon",29),h(),p(31,"span",30),y(32,"Total Investment"),h()()(),p(33,"div",38),y(34),$(35,"number"),h()()(),p(36,"div",39),z("click",function(){k(e);let r=M();return N(r.hasMultipleUsers()&&r.showInvestmentDetails())}),O(37,"div",40),p(38,"div",24)(39,"div",36)(40,"div",13)(41,"div",41),O(42,"fa-icon",34),h(),p(43,"span",30),y(44,"Current Value"),h()()(),p(45,"div",38),y(46),$(47,"number"),h()()(),p(48,"div",42),z("click",function(){k(e);let r=M();return N(r.hasMultipleUsers()&&r.showHoldingsPnLDetails())}),O(49,"div",43),p(50,"div",24)(51,"div",36)(52,"div",13)(53,"div",44),O(54,"fa-icon",45),h(),p(55,"span",30),y(56,"Total P&L"),h()()(),p(57,"div",46)(58,"div",47),y(59),$(60,"number"),h(),p(61,"span",48),O(62,"fa-icon",49),y(63),$(64,"percent"),h()(),p(65,"div",50)(66,"div",51),y(67,"Day's P&L"),h(),p(68,"div",52)(69,"span",53),y(70),$(71,"number"),h(),p(72,"span",48),O(73,"fa-icon",49),y(74),$(75,"percent"),h()()()()(),p(76,"div",42),z("click",function(){k(e);let r=M();return N(r.hasMultipleUsers()&&r.showPositionsPnLDetails())}),O(77,"div",43),p(78,"div",24)(79,"div",36)(80,"div",13)(81,"div",44),O(82,"fa-icon",45),h(),p(83,"span",30),y(84,"Positions P&L"),h()()(),p(85,"div",46)(86,"div",47),y(87),$(88,"number"),h()(),p(89,"div",50)(90,"div",51),y(91,"Max Profit"),h(),p(92,"div",52)(93,"span",54),y(94),$(95,"number"),h()()()()()(),p(96,"div",55)(97,"div",56),z("click",function(){k(e);let r=M();return N(r.hasMultipleUsers()&&r.showMutualFundsDetails())}),O(98,"div",57),p(99,"div",24)(100,"div",27)(101,"div",58),O(102,"fa-icon",59),h(),p(103,"span",30),y(104,"Mutual Funds"),h()(),p(105,"div",60)(106,"div",61),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/mf"))}),p(107,"span",62),y(108,"Active SIPs"),h(),p(109,"span",63),y(110),h()(),p(111,"div",61),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/mf"))}),p(112,"span",62),y(113,"Total SIP Amount"),h(),p(114,"span",63),y(115),$(116,"number"),h()(),p(117,"div",61),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/mf"))}),p(118,"span",62),y(119,"This Month Contribution"),h(),p(120,"span",63),y(121),$(122,"number"),h()()()()(),p(123,"div",64),O(124,"div",65),p(125,"div",24)(126,"div",27)(127,"div",66),O(128,"fa-icon",67),h(),p(129,"span",30),y(130,"Trading Activity"),h()(),p(131,"div",60)(132,"div",68),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/positions"))}),p(133,"span",69),y(134,"Open Positions"),h(),p(135,"span",63),y(136),h()(),p(137,"div",68),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/orders"))}),p(138,"span",69),y(139,"Open Orders"),h(),p(140,"span",63),y(141),h()(),p(142,"div",68),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/ipos"))}),p(143,"span",69),y(144,"Live IPOs"),h(),p(145,"span",63),y(146),h()()()()(),p(147,"div",70),z("click",function(){k(e);let r=M();return N(r.hasMultipleUsers()&&r.showFundsDetails())}),O(148,"div",71),p(149,"div",24)(150,"div",27)(151,"div",72),O(152,"fa-icon",73),h(),p(153,"span",30),y(154,"Funds Overview"),h()(),p(155,"div",60)(156,"div",74),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/funds"))}),p(157,"span",75),y(158,"Utilized Funds"),h(),p(159,"span",76),y(160),$(161,"number"),h()(),p(162,"div",77),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/funds"))}),p(163,"span",78),y(164,"Available Margin"),h(),p(165,"span",63),y(166),$(167,"number"),h()(),p(168,"div",77),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/funds"))}),p(169,"span",79),y(170,"Total Cash"),h(),p(171,"span",80),y(172),$(173,"number"),h()()()()(),p(174,"div",81),O(175,"div",82),p(176,"div",24)(177,"div",27)(178,"div",83),O(179,"fa-icon",84),h(),p(180,"span",30),y(181,"Quick Actions"),h()(),p(182,"div",60)(183,"div",85),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/holdings"))}),p(184,"div",86),O(185,"fa-icon",73),h(),p(186,"span",87),y(187,"View Holdings"),h()(),p(188,"div",85),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/positions"))}),p(189,"div",88),O(190,"fa-icon",29),h(),p(191,"span",87),y(192,"View Positions"),h()(),p(193,"div",85),z("click",function(){k(e);let r=M();return N(r.navigateToPage("/orders"))}),p(194,"div",89),O(195,"fa-icon",90),h(),p(196,"span",87),y(197,"View Orders"),h()()()()()(),A(198,GSe,18,28,"div",91)(199,WSe,7,7,"div",92),h()}if(n&2){let e=M();g(2),Ce("cursor-pointer",e.hasMultipleUsers()),g(7),x("icon",e.faWallet),g(4),H(" \u20B9",X(14,63,e.stats.totalInvestment,"1.2-2")," "),g(5),x("icon",e.faChartLine),g(4),H(" \u20B9",X(23,66,e.stats.currentValue,"1.2-2")," "),g(2),Ce("cursor-pointer",e.hasMultipleUsers()),g(6),x("icon",e.faWallet),g(4),H(" \u20B9",X(35,69,e.stats.totalInvestment,"1.2-2")," "),g(2),Ce("cursor-pointer",e.hasMultipleUsers()),g(6),x("icon",e.faChartLine),g(4),H(" \u20B9",X(47,72,e.stats.currentValue,"1.2-2")," "),g(2),Ce("cursor-pointer",e.hasMultipleUsers()),x("ngClass",Qe(108,vSe,e.stats.totalGains>=0,e.stats.totalGains<0)),g(),x("ngClass",Qe(111,ySe,e.stats.totalGains>=0,e.stats.totalGains<0)),g(4),x("ngClass",Qe(114,_Se,e.stats.totalGains>=0,e.stats.totalGains<0)),g(),x("icon",e.stats.totalGains>=0?e.faChartBar:e.faArrowTrendDown)("ngClass",Qe(117,VZ,e.stats.totalGains>=0,e.stats.totalGains<0)),g(4),x("ngClass",Qe(120,VZ,e.stats.totalGains>=0,e.stats.totalGains<0)),g(),H(" \u20B9",X(60,75,e.stats.totalGains,"1.2-2")," "),g(2),x("ngClass",Qe(123,p0,e.stats.totalGains>0,e.stats.totalGains<0)),g(),x("icon",e.stats.totalGains>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(64,78,e.stats.totalGainsPercent,"1.2-2")," "),g(6),x("ngClass",mn(126,Iv,e.stats.todayGains>=0,e.stats.todayGains<0,e.stats.todayGains===0)),g(),H(" \u20B9",X(71,81,e.stats.todayGains,"1.2-2")," "),g(2),x("ngClass",Qe(130,p0,e.stats.todayGains>0,e.stats.todayGains<0)),g(),x("icon",e.stats.todayGainsPercent>=0?e.faArrowUp:e.faArrowDown),g(),H(" ",X(75,84,e.stats.todayGainsPercent,"1.2-2")," "),g(2),Ce("cursor-pointer",e.hasMultipleUsers()),x("ngClass",Qe(133,bSe,e.stats.totalPnL>=0,e.stats.totalPnL<0)),g(),x("ngClass",Qe(136,xSe,e.stats.totalPnL>=0,e.stats.totalPnL<0)),g(4),x("ngClass",Qe(139,CSe,e.stats.totalPnL>=0,e.stats.totalPnL<0)),g(),x("icon",e.faChartBar)("ngClass",Qe(142,SSe,e.stats.totalPnL>=0,e.stats.totalPnL<0)),g(4),x("ngClass",mn(145,Iv,e.stats.totalPnL>0,e.stats.totalPnL<0,e.stats.totalPnL===0)),g(),H(" \u20B9",X(88,87,e.stats.totalPnL,"1.2-2")," "),g(7),H(" \u20B9",X(95,90,e.stats.maxProfit,"1.2-2")," "),g(3),Ce("cursor-pointer",e.hasMultipleUsers()),g(5),x("icon",e.faDollarSign),g(8),j(e.stats.activeSips),g(5),H("\u20B9",X(116,93,e.stats.totalSipAmount,"1.0-0")),g(6),H("\u20B9",X(122,96,e.stats.contributionThisMonth,"1.0-0")),g(7),x("icon",e.faListCheck),g(8),j(e.stats.openPositions),g(5),j(e.stats.openOrders),g(5),j(e.stats.openIpos),g(),Ce("cursor-pointer",e.hasMultipleUsers()),g(5),x("icon",e.faCoins),g(8),H("\u20B9",X(161,99,e.stats.utilizedFunds,"1.2-2")),g(6),H("\u20B9",X(167,102,e.stats.availableFunds,"1.2-2")),g(6),H("\u20B9",X(173,105,e.stats.totalCash,"1.2-2")),g(7),x("icon",e.faBuilding),g(6),x("icon",e.faWallet),g(5),x("icon",e.faChartLine),g(5),x("icon",e.faListCheck),g(3),x("ngIf",e.historicalTimelineValues&&e.historicalTimelineValues.length>0),g(),x("ngIf",e.historicalTimelineValues&&e.historicalTimelineValues.length>0)}}function $Se(n,t){if(n&1){let e=ee();p(0,"app-pnl-details-popup",152),z("close",function(){k(e);let r=M();return N(r.closePnLDetailsPopup())}),h()}if(n&2){let e=M();x("userData",e.popupUserData)("columns",e.popupColumns)("title",e.popupTitle)("sortByColumn",e.popupSortByColumn)}}var UZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f,m,v,_){this.holdingsService=i,this.positionsService=r,this.ordersService=o,this.fundsService=a,this.mfService=s,this.iposService=l,this.toastrService=c,this.userViewStateService=u,this.utilsService=d,this.ws=f,this.historicalTimelineValuesService=m,this.document=v,this.router=_,this.stats={totalInvestment:0,currentValue:0,totalGains:0,totalGainsPercent:0,todayGains:0,todayGainsPercent:0,openPositions:0,totalPnL:0,maxProfit:0,maxLoss:0,profitLeft:0,openOrders:0,activeSips:0,openIpos:0,availableFunds:0,totalSipAmount:0,contributionThisMonth:0,pausedSips:0,utilizedFunds:0,totalCollateralMargin:0,totalCash:0,availableMarginPercent:0},this.portfolioMetrics={historicalValue:0,historicalInvested:0,historicalPnl:0,historicalPnlPercentage:0,historyDate:""},this.portfolioStatistics={totalHoldingsStocks:0,totalHoldingsMF:0,totalGainers:0,totalLosers:0,bestPerformer:null,worstPerformer:null,topHolding:null},this.isLoading=!0,this.isInitialLoad=!0,this.errorMessage="",this.currentDateTime=new Date,this.users=[],this.selectedUserIds=[],this.rawData={},this.instrumentTokens=[],this.showPnLDetailsPopup=!1,this.popupUserData=[],this.popupColumns=[],this.popupTitle="",this.selectedTimeframe="3M",this.selectedMetricView="returns",this.gainersLosersData=null,this.isLoadingGainersLosers=!1,this.faWallet=K6,this.faChartLine=yg,this.faListCheck=tu,this.faCoins=_G,this.faBuilding=Kj,this.faArrowUp=_g,this.faArrowDown=Sg,this.faSpinner=ko,this.faDollarSign=pg,this.faChartBar=rG,this.faArrowTrendDown=SG,this.faArrowTrendUp=mg,this.faTrophy=Rj,this.Math=Math,this.stocksFnoPendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.showChart=!0,this.dateLabels=[],this.legendLabels=[],this.series=[],this.historicalTimelineValues=[]}ngOnInit(){let i=this.userViewStateService.getState();this.selectedUserIds=i.home?.selectedUsersIds||[],this.loadDashboardData()}ngAfterViewInit(){setTimeout(()=>{this.document.querySelector(".header")&&this.saveUserViewState()},0)}loadDashboardData(){this.isLoading=!0,this.errorMessage="",Gd({holdings:this.holdingsService.getHoldings().pipe(Ut(i=>(console.error("Error loading holdings:",i),this.toastrService.error("Failed to load holdings data","Holdings Error"),Me({data:[]})))),positions:this.positionsService.getPositions().pipe(Ut(i=>(console.error("Error loading positions:",i),this.toastrService.error("Failed to load positions data","Positions Error"),Me({data:[]})))),orders:this.ordersService.getOrders().pipe(Ut(i=>(console.error("Error loading orders:",i),this.toastrService.error("Failed to load orders data","Orders Error"),Me({data:[]})))),funds:this.fundsService.getFunds().pipe(Ut(i=>(console.error("Error loading funds:",i),this.toastrService.error("Failed to load funds data","Funds Error"),Me({data:[]})))),mfSips:this.mfService.getSips().pipe(Ut(i=>(console.error("Error loading MF SIPs:",i),this.toastrService.error("Failed to load mutual fund SIPs data","MF SIPs Error"),Me({data:[]})))),ipos:this.iposService.getIPOs().pipe(Ut(i=>(console.error("Error loading IPOs:",i),this.toastrService.error("Failed to load IPOs data","IPOs Error"),Me({data:[]}))))}).subscribe({next:i=>{this.rawData={holdings:i.holdings?.data||[],positions:i.positions?.data||[],orders:i.orders?.data||[],funds:i.funds?.data||[],mfSips:i.mfSips?.data||[],ipos:i.ipos?.data||[]},this.applyUserFilter(),this.collectInstrumentTokensAndSubscribe(),this.fetchHistoricalTimelineValues(),this.isLoading=!1,this.isInitialLoad=!1},error:i=>{console.error("Error loading dashboard data:",i),this.errorMessage="Failed to load dashboard data",this.isLoading=!1,this.isInitialLoad&&this.toastrService.error("Failed to load dashboard data","Error")}})}collectInstrumentTokensAndSubscribe(){let i=this.rawData.holdings.filter(a=>a.instrumentToken).map(a=>a.instrumentToken),r=this.rawData.positions.filter(a=>a.instrumentToken).map(a=>a.instrumentToken),o=[...i,...r];this.instrumentTokens=Array.from(new Set(o)),this.subscribeToWebSocket()}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(tt(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updatePricesOnTick(i)})):console.log("No instrument tokens available for web socket subscription.")}updatePricesOnTick(i){i.forEach(r=>{this.rawData.holdings.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s&&s.lastPrice!==r.lastTradedPrice&&(s.lastPrice=r.lastTradedPrice,s.currentValue=s.quantity*r.lastTradedPrice,s.netPnl=s.currentValue-s.investedAmount,s.netChangePercentage=s.netPnl/s.investedAmount*100,s.dayChangePercentage=(r.lastTradedPrice-r.closePrice)/r.closePrice*100,s.dayPnl=s.dayChangePercentage*(s.quantity*r.closePrice)/100)}),this.rawData.positions.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s.position.change=r.change;let l=r.change,c=r.closePrice;if(s.position.daySellQuantity*-1===s.position.netQuantity?(c=s.position.sellPrice,l=(r.lastTradedPrice-c)/c*100):s.position.dayBuyQuantity===s.position.netQuantity&&(c=s.position.buyPrice,l=(r.lastTradedPrice-c)/c*100),s.dayPnl=l*(s.position.netQuantity*c)/100,s&&s.position.lastPrice!==r.lastTradedPrice){if(s.position.lastPrice=r.lastTradedPrice,s.position.netQuantity<0){let u=(s.position.sellPrice-s.position.buyPrice)*s.position.buyQuantity,d=(s.position.sellPrice-r.lastTradedPrice)*s.position.netQuantity*-1;s.position.pnl=u+d}else if(s.position.netQuantity>0){let u=(s.position.sellPrice-s.position.buyPrice)*s.position.sellQuantity,d=(r.lastTradedPrice-s.position.buyPrice)*s.position.netQuantity;s.position.pnl=u+d}}})}),this.recalculateStats()}recalculateStats(){if(this.selectedUserIds.length===0)this.calculateStats({holdings:{data:this.rawData.holdings},positions:{data:this.rawData.positions},orders:{data:this.rawData.orders},funds:{data:this.rawData.funds},mfSips:{data:this.rawData.mfSips},ipos:{data:this.rawData.ipos}});else{let i={holdings:{data:this.rawData.holdings.filter(r=>this.selectedUserIds.includes(r.userId))},positions:{data:this.rawData.positions.filter(r=>this.selectedUserIds.includes(r.userId))},orders:{data:this.rawData.orders.filter(r=>this.selectedUserIds.includes(r.userId))},funds:{data:this.rawData.funds.filter(r=>this.selectedUserIds.includes(r.userId))},mfSips:{data:this.rawData.mfSips.filter(r=>this.selectedUserIds.includes(r.userId))},ipos:{data:this.rawData.ipos.filter(r=>this.selectedUserIds.includes(r.userId))}};this.calculateStats(i)}this.updatePopupDataIfOpen()}calculateStats(i){let o=(i.holdings?.data||[]).reduce((E,D)=>{let L=D.quantity*D.averagePrice,P=D.quantity*D.lastPrice,F=P-L,G=D.dayPnl||0;return E.totalInvestment+=L,E.currentValue+=P,E.totalGains+=F,E.todayGains+=G,E},{totalInvestment:0,currentValue:0,totalGains:0,todayGains:0}),l=(i.positions?.data||[]).filter(E=>E.position?.product==="NRML").reduce((E,D)=>{let L=D.position;L.netQuantity!==0&&E.openPositions++,E.totalPnL+=L.pnl||0;let P=(L.sellValue||0)-(L.buyValue||0);return E.maxProfit+=P,L.pnl>E.maxSingleProfit&&(E.maxSingleProfit=L.pnl),L.pnl<E.maxLoss&&(E.maxLoss=L.pnl),E},{openPositions:0,totalPnL:0,maxProfit:0,maxSingleProfit:0,maxLoss:0}),c=l.maxProfit-l.totalPnL,d=(i.orders?.data||[]).filter(E=>this.stocksFnoPendingStatus.indexOf(E.order.status)>-1).length,f=i.funds?.data||[],m=f.reduce((E,D)=>E+(parseFloat(D.margin?.net)||0),0),v=i.mfSips?.data||[],_=this.calculateSipSummary(v),C=(i.ipos?.data||[]).filter(E=>E.status==="ongoing"||E.status==="preapply").length,w=this.calculateFundsStats(f,m);this.stats={totalInvestment:o.totalInvestment,currentValue:o.currentValue,totalGains:o.totalGains,totalGainsPercent:o.totalInvestment>0?o.totalGains/o.totalInvestment:0,todayGains:o.todayGains,todayGainsPercent:o.totalInvestment>0?o.todayGains/o.totalInvestment:0,openPositions:l.openPositions,totalPnL:l.totalPnL,maxProfit:l.maxProfit,maxLoss:l.maxLoss,openOrders:d,activeSips:_.activeSips,openIpos:C,availableFunds:m,totalSipAmount:_.totalSipAmount,contributionThisMonth:_.contributionThisMonth,pausedSips:_.pausedSips,utilizedFunds:w.utilizedFunds,totalCollateralMargin:w.totalCollateralMargin,totalCash:w.totalCash,availableMarginPercent:w.availableMarginPercent,profitLeft:c}}calculateSipSummary(i){let r=0,o=0,a=0,s=0,l=new Date,c=l.getMonth(),u=l.getFullYear();for(let d of i){let f=d?.mfSip;if(!f)continue;if(f.status==="PAUSED"){s+=1;continue}let m=f.instalmentAmount||0;r+=m;let v=new Date(f.lastInstalment);v.getMonth()===c&&v.getFullYear()===u&&v<l&&(o+=m),f.status==="ACTIVE"&&(a+=1)}return{totalSipAmount:r,contributionThisMonth:o,activeSips:a,pausedSips:s}}calculateFundsStats(i,r){let o=0,a=0;i.forEach(c=>{o+=Number(c.margin.utilised.debits),a+=Number(c.margin.available.collateral)});let s=o+r-a,l=a>0?r/a*100:0;return{utilizedFunds:o,totalCollateralMargin:a,totalCash:s,availableMarginPercent:l}}refresh(){this.currentDateTime=new Date,this.loadDashboardData()}navigateToPage(i){this.router.navigate([i])}saveUserViewState(){this.userViewStateService.setState({home:{selectedUsersIds:this.selectedUserIds}})}fetchHistoricalTimelineValues(i){this.utilsService.fetchHistoricalTimelineValues("holdings").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData(),this.calculateHistoricalStats(),this.calculatePortfolioStatistics()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}populateTimelineChartData(){let i=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,[]);this.dateLabels=i.dateLabels,this.legendLabels=i.legendLabels,this.series=i.series}onAllUserSelection(){this.selectedUserIds=[],this.applyUserFilter(),this.saveUserViewState()}onUserSelection(i){this.selectedUserIds=i,this.applyUserFilter(),this.saveUserViewState()}captureUsers(i){this.users=i}hasMultipleUsers(){return this.users.length>1}applyUserFilter(){this.recalculateStats(),this.selectedUserIds.length===0?this.populateTimelineChartData():this.populateTimelineChartDataForUsers(this.selectedUserIds),this.calculateHistoricalStats(),this.calculatePortfolioStatistics(),this.selectedMetricView==="gainers-losers"&&this.fetchGainersAndLosers()}populateTimelineChartDataForUsers(i){let r=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,i);this.dateLabels=r.dateLabels,this.legendLabels=r.legendLabels,this.series=r.series}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}updatePopupDataIfOpen(){this.showPnLDetailsPopup&&(this.popupTitle==="Holdings P&L Details by User"||this.popupTitle==="Positions P&L Details by User"?this.popupUserData=this.calculateUserPnLData():this.popupTitle==="Investment Details by User"&&(this.popupUserData=this.calculateUserInvestmentData()))}closePnLDetailsPopup(){this.showPnLDetailsPopup=!1}showHoldingsPnLDetails(){this.popupTitle="Holdings P&L Details by User",this.popupSortByColumn="totalPnL",this.popupColumns=[{key:"totalPnL",label:"Total P&L",type:"currency-with-percent",colorize:!0},{key:"daysPnL",label:"Day's P&L",type:"currency-with-percent",colorize:!0}],this.popupUserData=this.calculateUserPnLData(),this.showPnLDetailsPopup=!0}showPositionsPnLDetails(){this.popupTitle="Positions P&L Details by User",this.popupSortByColumn="positionsPnL",this.popupColumns=[{key:"positionsPnL",label:"Positions P&L",type:"currency",colorize:!0},{key:"maxProfit",label:"Max Profit",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserPnLData(),this.showPnLDetailsPopup=!0}showFundsDetails(){this.popupTitle="Funds Details by User",this.popupSortByColumn="availableMargin",this.popupColumns=[{key:"utilizedFunds",label:"Utilized Funds",type:"currency",colorize:!1},{key:"availableMargin",label:"Available Margin",type:"currency",colorize:!1},{key:"totalCash",label:"Total Cash",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserFundsData(),this.showPnLDetailsPopup=!0}showMutualFundsDetails(){this.popupTitle="Mutual Funds Details by User",this.popupSortByColumn="totalSipAmount",this.popupColumns=[{key:"activeSips",label:"Active SIPs",type:"number",colorize:!1},{key:"totalSipAmount",label:"Total SIP Amount",type:"currency",colorize:!1},{key:"monthlyContribution",label:"This Month",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserMFData(),this.showPnLDetailsPopup=!0}showInvestmentDetails(){this.popupTitle="Investment Details by User",this.popupSortByColumn="currentValue",this.popupColumns=[{key:"totalInvestment",label:"Total Investment",type:"currency",colorize:!1},{key:"currentValue",label:"Current Value",type:"currency",colorize:!1},{key:"totalGains",label:"Total Gains",type:"currency-with-percent",colorize:!0}],this.popupUserData=this.calculateUserInvestmentData(),this.showPnLDetailsPopup=!0}calculateUserPnLData(){let i=new Map;return this.users.forEach(o=>{i.set(o.userId,{userId:o.userId,userName:o.profile?.userName||o.name,avatarUrl:o.profile?.avatarURL,totalPnL:0,daysPnL:0,positionsPnL:0,maxProfit:0,totalInvestment:0,totalPnLPercent:0,daysPnLPercent:0})}),this.rawData.holdings.forEach(o=>{let a=i.get(o.userId);if(a){let s=o.quantity*o.averagePrice,c=o.quantity*o.lastPrice-s,u=o.dayPnl||0;a.totalPnL+=c,a.daysPnL+=u,a.totalInvestment+=s}}),i.forEach(o=>{o.totalInvestment>0&&(o.totalPnLPercent=o.totalPnL/o.totalInvestment*100,o.daysPnLPercent=o.daysPnL/o.totalInvestment*100)}),this.rawData.positions.filter(o=>o.position?.product==="NRML").forEach(o=>{let a=i.get(o.userId);if(a){let s=o.position;a.positionsPnL+=s.pnl||0;let l=(s.sellValue||0)-(s.buyValue||0);a.maxProfit+=l}}),Array.from(i.values())}calculateUserFundsData(){let i=new Map;return this.users.forEach(r=>{i.set(r.userId,{userId:r.userId,userName:r.profile?.userName||r.name,avatarUrl:r.profile?.avatarURL,utilizedFunds:0,availableMargin:0,totalCash:0,collateralMargin:0})}),this.rawData.funds.forEach(r=>{let o=i.get(r.userId);if(o){let a=Number(r.margin?.utilised?.debits||0),s=Number(r.margin?.net||0),l=Number(r.margin?.available?.collateral||0);o.utilizedFunds=a,o.availableMargin=s,o.collateralMargin=l,o.totalCash=a+s-l}}),Array.from(i.values())}calculateUserMFData(){let i=new Map;this.users.forEach(s=>{i.set(s.userId,{userId:s.userId,userName:s.profile?.userName||s.name,avatarUrl:s.profile?.avatarURL,activeSips:0,totalSipAmount:0,monthlyContribution:0})});let r=new Date,o=r.getMonth(),a=r.getFullYear();return this.rawData.mfSips.forEach(s=>{let l=i.get(s.userId);if(l&&s.mfSip){let c=s.mfSip,u=c.instalmentAmount||0;if(c.status==="ACTIVE"){l.activeSips+=1,l.totalSipAmount+=u;let d=new Date(c.lastInstalment);d.getMonth()===o&&d.getFullYear()===a&&d<r&&(l.monthlyContribution+=u)}}}),Array.from(i.values())}calculateUserInvestmentData(){let i=new Map;return this.users.forEach(r=>{i.set(r.userId,{userId:r.userId,userName:r.profile?.userName||r.name,avatarUrl:r.profile?.avatarURL,totalInvestment:0,currentValue:0,totalGains:0,totalGainsPercent:0})}),this.rawData.holdings.forEach(r=>{let o=i.get(r.userId);if(o){let a=r.quantity*r.averagePrice,s=r.quantity*r.lastPrice,l=s-a;o.totalInvestment+=a,o.currentValue+=s,o.totalGains+=l}}),i.forEach(r=>{r.totalInvestment>0&&(r.totalGainsPercent=r.totalGains/r.totalInvestment*100)}),Array.from(i.values())}getSelectedTopGainers(){return!this.gainersLosersData||!this.gainersLosersData.topGainers?[]:this.gainersLosersData.topGainers}getSelectedTopLosers(){return!this.gainersLosersData||!this.gainersLosersData.topLosers?[]:this.gainersLosersData.topLosers}fetchGainersAndLosers(){this.isLoadingGainersLosers=!0;let i;this.selectedUserIds.length>0&&this.selectedUserIds.length<this.users.length&&(i=this.selectedUserIds),this.historicalTimelineValuesService.getGainersAndLosers(this.selectedTimeframe,i).subscribe({next:r=>{this.gainersLosersData=r.data,this.isLoadingGainersLosers=!1},error:r=>{console.error("Error fetching gainers and losers:",r),this.toastrService.error("Failed to load gainers and losers data","Error"),this.isLoadingGainersLosers=!1}})}changeTimeframe(i){this.selectedTimeframe=i,this.calculateHistoricalStats(),this.selectedMetricView==="gainers-losers"&&this.fetchGainersAndLosers()}calculateHistoricalStats(){if(!this.historicalTimelineValues||this.historicalTimelineValues.length===0)return;let i=this.getTimeframeDays(this.selectedTimeframe);if(!i)return;let r=new Date;r.setDate(r.getDate()-i),r.setHours(0,0,0,0);let o=this.historicalTimelineValues;this.selectedUserIds.length>0&&this.selectedUserIds.length<this.users.length&&(o=this.historicalTimelineValues.map(f=>{let m=(f.historicalHoldingsTimelines||[]).filter(v=>this.selectedUserIds.includes(v.userId));return De(Q({},f),{historicalHoldingsTimelines:m})}).filter(f=>f.historicalHoldingsTimelines.length>0));let a=this.findClosestHistoricalData(o,r);if(!a||a.length===0)return;let s=a.reduce((f,m)=>{let v=(m.historicalHoldingsTimelines||[]).reduce((_,b)=>_+(b.currentValue||0),0);return f+v},0),l=a.reduce((f,m)=>{let v=(m.historicalHoldingsTimelines||[]).reduce((_,b)=>_+(b.investedAmount||0),0);return f+v},0),c=a.reduce((f,m)=>{let v=(m.historicalHoldingsTimelines||[]).reduce((_,b)=>_+(b.netPnl||0),0);return f+v},0),u=l>0?c/l:0,d=a.length>0?this.formatDate(new Date(a[0].date)):this.formatDate(r);this.portfolioMetrics.historicalValue=s,this.portfolioMetrics.historyDate=d,this.portfolioMetrics.historicalInvested=l,this.portfolioMetrics.historicalPnl=c,this.portfolioMetrics.historicalPnlPercentage=u}getTimeframeDays(i){switch(i){case"1D":return 1;case"1W":return 7;case"1M":return 30;case"3M":return 90;case"6M":return 180;case"1Y":return 365;default:return null}}findClosestHistoricalData(i,r){let o=new Map;i.forEach(c=>{let u=this.formatDate(new Date(c.date));o.has(u)||o.set(u,[]),o.get(u).push(c)});let a=r.getTime(),s=null,l=1/0;return o.forEach((c,u)=>{let d=new Date(u),f=Math.abs(d.getTime()-a);f<l&&(l=f,s=u)}),s&&o.get(s)||null}isToday(i){let r=new Date;return i.getDate()===r.getDate()&&i.getMonth()===r.getMonth()&&i.getFullYear()===r.getFullYear()}formatDate(i){return i.toISOString().split("T")[0]}changeMetricView(i){this.selectedMetricView=i,i==="gainers-losers"&&!this.gainersLosersData&&this.fetchGainersAndLosers()}calculatePortfolioStatistics(){let i=this.rawData.holdings||[];this.selectedUserIds.length>0&&this.selectedUserIds.length<this.users.length&&(i=i.filter(b=>this.selectedUserIds.includes(b.userId)));let r=i.filter(b=>b.type==="Stocks"),o=i.filter(b=>b.type==="Mutual Funds");this.portfolioStatistics.totalHoldingsStocks=r.length,this.portfolioStatistics.totalHoldingsMF=o.length;let a=0,s=0,l=0,c=null,u=null,d=null,f=-1/0,m=1/0,v=0,_=i.reduce((b,C)=>b+(C.currentValue||0),0);i.forEach(b=>{let C=b.quantity*b.averagePrice,w=b.quantity*b.lastPrice,E=w-C,D=C>0?E/C*100:0;if(E>0?a++:E<0&&s++,l+=C,D>f&&(f=D,c={name:b.instrument||b.tradingSymbol,returns:D,userId:b.userId}),D<m&&(m=D,u={name:b.instrument||b.tradingSymbol,returns:D,userId:b.userId}),w>v){v=w;let L=_>0?w/_*100:0;d={name:b.instrument||b.tradingSymbol,value:w,concentration:L,userId:b.userId}}}),this.portfolioStatistics.totalGainers=a,this.portfolioStatistics.totalLosers=s,this.portfolioStatistics.bestPerformer=c,this.portfolioStatistics.worstPerformer=u,this.portfolioStatistics.topHolding=d}};t.\u0275fac=function(r){return new(r||t)(V(Cv),V(Sv),V(Cs),V(Ss),V(Tv),V(f0),V(nt),V(Un),V(In),V(sr),V(yv),V(Te),V(un))},t.\u0275cmp=ie({type:t,selectors:[["app-home"]],decls:11,vars:5,consts:[["noGainers",""],["noLosers",""],[1,"page-container"],[1,"flex","justify-between","items-start","mb-1"],[1,"flex-1","pr-4"],[1,"text-2xl","md:text-2xl","font-bold","text-gray-600","mb-2"],[1,"flex-shrink-0"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-md",4,"ngIf"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","page-content",4,"ngIf"],[3,"userData","columns","title","sortByColumn","close",4,"ngIf"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-md"],[1,"flex","items-center"],[1,"text-red-500","mr-2",3,"icon"],[1,"text-red-700"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"text-lg","text-gray-400","mt-2","flex","items-center","justify-center","gap-2"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500","inline-block"],[1,"page-content"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"md:hidden","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-blue-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","top-0","right-0","w-20","h-20","bg-blue-50","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity"],[1,"relative","z-10"],[1,"grid","grid-cols-2","gap-4"],[1,"border-r","border-gray-200","pr-3"],[1,"flex","items-center","mb-2"],[1,"p-2","bg-blue-100","rounded-md","mr-2"],[1,"text-blue-600","text-base",3,"icon"],[1,"text-lg","font-medium","text-gray-600","m-0"],[1,"text-2xl","font-medium","text-gray-700"],[1,"pl-1"],[1,"p-2","bg-emerald-100","rounded-md","mr-2"],[1,"text-emerald-600","text-base",3,"icon"],[1,"hidden","md:block","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-blue-500","relative","overflow-hidden","group",3,"click"],[1,"flex","items-center","justify-between","mb-3"],[1,"p-2","bg-blue-100","rounded-md","mr-3"],[1,"text-2xl","md:text-2xl","font-medium","text-gray-700"],[1,"hidden","md:block","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-emerald-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","top-0","right-0","w-20","h-20","bg-emerald-50","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity"],[1,"p-2","bg-emerald-100","rounded-md","mr-3"],[1,"bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","relative","overflow-hidden","group",3,"click","ngClass"],[1,"absolute","top-0","right-0","w-20","h-20","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity",3,"ngClass"],[1,"p-2","rounded-md","mr-3",3,"ngClass"],[1,"text-base",3,"icon","ngClass"],[1,"flex","items-center","justify-between"],[1,"text-2xl","md:text-2xl","font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"],[1,"mr-1","text-xs",3,"icon"],[1,"flex","items-center","justify-between","mt-2","border-t","border-gray-100"],[1,"text-base","text-gray-600","font-medium"],[1,"flex","items-center","gap-1"],[1,"text-base","font-medium","mr-2",3,"ngClass"],[1,"text-base","font-medium","text-gray-700"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-indigo-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-indigo-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-indigo-100","rounded-md","mr-2"],[1,"text-indigo-600","text-base",3,"icon"],[1,"space-y-1.5","mt-2"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-indigo-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-indigo-700"],[1,"font-medium","text-gray-800","px-2","py-0.5","rounded-md","text-base"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-orange-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-orange-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-orange-100","rounded-md","mr-2"],[1,"text-orange-600","text-base",3,"icon"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-orange-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-orange-700"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-green-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-green-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-green-100","rounded-md","mr-2"],[1,"text-green-600","text-base",3,"icon"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-red-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-red-700"],[1,"font-medium","text-red-600","px-2","py-0.5","rounded-md","text-base"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-green-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-green-700"],[1,"text-gray-600","text-base","group-hover:item:text-green-700"],[1,"font-medium","text-green-600","px-2","py-0.5","rounded-md","text-base"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-pink-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-pink-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-pink-100","rounded-md","mr-2"],[1,"text-pink-600","text-base",3,"icon"],[1,"flex","items-center","cursor-pointer","hover:bg-pink-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"p-1","bg-green-100","rounded-md","mr-2","group-hover/item:bg-green-200","transition-colors"],[1,"text-gray-700","text-base","group-hover/item:text-pink-700"],[1,"p-1","bg-blue-100","rounded-md","mr-2","group-hover/item:bg-blue-200","transition-colors"],[1,"p-1","bg-purple-100","rounded-md","mr-2","group-hover/item:bg-purple-200","transition-colors"],[1,"text-purple-600","text-base",3,"icon"],["class","bg-white p-4 md:p-6 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-t-4 border-purple-500 relative overflow-hidden mb-8",4,"ngIf"],["class","bg-white p-4 md:p-6 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-t-4 border-gray-500 relative overflow-hidden group",4,"ngIf"],[1,"bg-white","p-4","md:p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-purple-500","relative","overflow-hidden","mb-8"],[1,"absolute","bottom-0","right-0","w-32","h-32","bg-purple-50","rounded-tl-full","opacity-40"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4","mb-4","md:mb-0"],[1,"flex","items-center","mb-3"],["class","flex gap-2 flex-wrap",4,"ngIf"],[1,"flex","gap-2","mb-6","border-b","border-gray-200","overflow-x-auto"],[1,"px-4","py-2","border-b-2","font-medium","transition-all","duration-200","whitespace-nowrap",3,"click"],[4,"ngIf"],[1,"flex","gap-2","flex-wrap"],["class","px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 hover:shadow-md",3,"bg-purple-600","text-white","bg-gray-100","text-gray-600","click",4,"ngFor","ngForOf"],[1,"px-3","py-1.5","rounded-lg","text-sm","font-medium","transition-all","duration-200","hover:shadow-md",3,"click"],[1,"space-y-4"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],[1,"p-4","rounded-lg","border","shadow-sm"],[1,"text-base","font-semibold","text-gray-600","flex","items-center","gap-2"],[1,"text-base","text-blue-700",3,"icon"],[1,"text-xs","text-blue-600","bg-blue-100","px-2","py-1","rounded"],[1,"space-y-3"],[1,"flex","justify-between","items-center","pb-2","border-b","border-blue-100"],[1,"text-base","text-gray-600"],[1,"font-medium","text-gray-800","text-base"],[1,"flex","justify-between","items-center"],[1,"text-right"],[1,"text-base","text-emerald-700",3,"icon"],[1,"text-xs","text-emerald-600","bg-emerald-100","px-2","py-1","rounded"],[1,"flex","justify-between","items-center","pb-2","border-b"],[1,"text-base","font-semibold","text-gray-600","mb-3","flex","items-center","gap-2"],[1,"text-base","text-purple-700",3,"icon"],[1,"text-base","font-medium","mr-2"],[1,"bg-blue-50","border-l-4","border-blue-400","p-3","rounded"],[1,"text-sm","text-blue-800"],["class","text-center py-8",4,"ngIf"],[1,"text-center","py-8"],[1,"text-4xl","text-purple-600",3,"icon"],[1,"mt-2","text-gray-600"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],[1,"text-base","text-green-700",3,"icon"],["class","space-y-3",4,"ngIf","ngIfElse"],[1,"text-base","text-red-700",3,"icon"],["class","flex justify-between items-center",3,"pb-2","border-b",4,"ngFor","ngForOf"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left","text-gray-700","font-medium",3,"matTooltip"],[1,"text-gray-500","hidden","md:block"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"matTooltip","ngClass"],[1,"text-center","py-4","text-gray-400","text-sm"],[1,"text-center","py-8","text-gray-500"],[1,"text-4xl","mb-2",3,"icon"],[1,"text-sm","mt-2"],["class","text-sm rounded-md px-1 py-[1px]",3,"ngClass",4,"ngIf"],[1,"flex","justify-between","items-center","mb-2"],[1,"hover:text-blue-600","truncate","max-w-xs","text-gray-800","font-medium",3,"matTooltip"],["class","space-y-1",4,"ngIf"],[1,"space-y-1"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-purple-600","h-2","rounded-full","transition-all","duration-300"],[1,"text-sm","text-purple-600","text-right","font-medium"],[1,"bg-white","p-4","md:p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-gray-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-gray-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom","chartHeight"],[3,"close","userData","columns","title","sortByColumn"]],template:function(r,o){r&1&&(p(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),y(4,"Welcome to FamVest"),h()(),p(5,"div",6)(6,"app-user-filter",7),z("selectAllUsers",function(){return o.onAllUserSelection()})("selectUsers",function(s){return o.onUserSelection(s)})("totalUsers",function(s){return o.captureUsers(s)}),h()()(),A(7,MSe,5,2,"div",8)(8,TSe,5,0,"div",9)(9,qSe,200,149,"div",10),h(),A(10,$Se,1,4,"app-pnl-details-popup",11)),r&2&&(g(6),x("selectedUserIds",o.selectedUserIds),g(),x("ngIf",o.errorMessage),g(),x("ngIf",o.isLoading),g(),x("ngIf",!o.isLoading&&!o.errorMessage),g(),x("ngIf",o.showPnLDetailsPopup))},dependencies:[We,Oe,Ae,ye,at,Vc,wu,nr,BZ,Bt,ln,$n,jf],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 95px);min-height:calc(100vh - var(--header-height, 80px) - 95px)}"],data:{animation:[Pi,$W]}});let n=t;return n})();var HZ=(n,t,e)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":t,"bg-gray-50 text-gray-600":e}),YSe=(n,t,e)=>({"text-green-700":n,"text-red-700":t,"text-gray-700":e}),PD=(n,t,e)=>({"text-green-600":n,"text-red-500":t,"text-gray-600":e}),Lv=(n,t)=>({"text-green-600":n,"text-red-500":t}),ZSe=(n,t,e)=>({"border-green-200 from-green-100 to-emerald-50":n,"border-red-200 from-red-100 to-red-50":t,"border-gray-200 from-gray-100 to-gray-50":e}),XSe=(n,t)=>({"border-green-200 from-green-100 to-emerald-50":n,"border-red-200 from-red-100 to-red-50":t});function QSe(n,t){if(n&1){let e=ee();p(0,"div",23),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.addToBasket(r))})("keydown.enter",function(){let r=k(e).$implicit,o=M(2);return N(o.addToBasket(r))}),p(1,"div",24)(2,"div",25),y(3),h(),p(4,"div",26),y(5),h()()()}if(n&2){let e=t.$implicit;g(3),j(e.displayName),g(2),j(e.segment)}}function KSe(n,t){if(n&1&&(p(0,"div",21),A(1,QSe,6,2,"div",22),h()),n&2){let e=M();g(),x("ngForOf",e.fetchedInstruments)}}function JSe(n,t){n&1&&(p(0,"div",27),O(1,"div",28),h())}function ewe(n,t){n&1&&(p(0,"div",29),Ht(),p(1,"svg",30),O(2,"path",31),h(),zn(),p(3,"h3",32),y(4,"Your basket is empty"),h(),p(5,"p",33),y(6,"Search and select instruments above or click the basket button (\u{1F6D2}) in the watchlist to add them to your basket"),h()())}function twe(n,t){n&1&&(p(0,"span",57),y(1,"..."),h())}function nwe(n,t){if(n&1&&(p(0,"span",58),y(1),$(2,"number"),h()),n&2){let e=M().$implicit;g(),H("\u20B9",X(2,1,e.marginRequired,"1.2-2"))}}function iwe(n,t){if(n&1){let e=ee();p(0,"tr",40)(1,"td",41)(2,"div",42)(3,"div",43)(4,"span",25),y(5),h(),p(6,"span",44),y(7),h(),O(8,"app-market-depth-invoker",45),p(9,"span",46),y(10),$(11,"number"),h(),p(12,"span",47),y(13),$(14,"percent"),h(),O(15,"app-small-chip",48),h()()(),p(16,"td",49)(17,"app-small-chip",50),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleTransactionType(r))})("keydown.enter",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleTransactionType(r))}),h()(),p(18,"td",49)(19,"app-small-chip",50),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleOrderType(r))})("keydown.enter",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleOrderType(r))}),h()(),p(20,"td",41)(21,"input",51),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.quantity,r)||(o.quantity=r),N(r)}),z("input",function(r){let o=k(e).$implicit,a=M(2);return N(a.updateQuantity(o,r))}),h()(),p(22,"td",41)(23,"input",52),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.price,r)||(o.price=r),N(r)}),z("input",function(r){let o=k(e).$implicit,a=M(2);return N(a.updatePrice(o,r))}),h()(),p(24,"td",41),A(25,twe,2,0,"span",53)(26,nwe,3,4,"span",54),h(),p(27,"td",41)(28,"button",55),z("click",function(){let r=k(e).index,o=M(2);return N(o.removeFromBasket(r))}),O(29,"fa-icon",56),h()()()}if(n&2){let e=t.$implicit,i=M(2);g(5),j(e.displayName),g(2),j(e.exchange),g(),x("title",e.displayName)("instrumentToken",e.instrumentToken)("iconColor","gray"),g(),x("ngClass",i.color(e.change)),g(),H(" ",X(11,23,e.lastPrice,"1.2-2")," "),g(2),x("ngClass",mn(29,HZ,e.change>0,e.change<0,e.change===0)),g(),H(" ",X(14,26,e.change/100,"1.2-2")," "),g(2),x("text",e.productType)("color",e.productType==="MIS"?"orange":"purple"),g(2),x("text",e.transactionType)("color",e.transactionType==="BUY"?"blue":"red"),g(2),x("text",e.orderType)("color","gray"),g(2),_t("ngModel",e.quantity),g(2),_t("ngModel",e.price),x("disabled",e.orderType==="MARKET")("placeholder",e.orderType==="MARKET"?"Market":"0.00"),g(2),x("ngIf",i.isCalculatingMargin),g(),x("ngIf",!i.isCalculatingMargin),g(2),x("matTooltip","Remove from Basket"),g(),x("icon",i.faTrash)}}function rwe(n,t){if(n&1&&(p(0,"div",34)(1,"table",35)(2,"thead",36)(3,"tr")(4,"th",37),y(5,"Instrument"),h(),p(6,"th",37),y(7,"Transaction"),h(),p(8,"th",37),y(9,"Order Type"),h(),p(10,"th",37),y(11,"Qty"),h(),p(12,"th",37),y(13,"Price"),h(),p(14,"th",37),y(15,"Margin"),h(),p(16,"th",37),y(17,"Action"),h()()(),p(18,"tbody",38),A(19,iwe,30,33,"tr",39),h()()()),n&2){let e=M();g(19),x("ngForOf",e.basketItems)("ngForTrackBy",e.trackById)}}function owe(n,t){n&1&&(p(0,"span",77),y(1,"..."),h())}function awe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),h()),n&2){let e=M().$implicit;g(),H("\u20B9",X(2,1,e.marginRequired,"1.2-2"))}}function swe(n,t){if(n&1){let e=ee();p(0,"div",61)(1,"div",62)(2,"div",63)(3,"div",64)(4,"div",43)(5,"span",13),y(6),h(),p(7,"span",44),y(8),h(),O(9,"app-market-depth-invoker",45),p(10,"span",46),y(11),$(12,"number"),h(),p(13,"span",47),y(14),$(15,"percent"),h()()(),p(16,"button",65),z("click",function(){let r=k(e).index,o=M(2);return N(o.removeFromBasket(r))}),O(17,"fa-icon",56),h()()(),p(18,"div",66)(19,"div")(20,"label",67),y(21,"Transaction"),h(),p(22,"div",68),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleTransactionType(r))})("keydown.enter",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleTransactionType(r))}),O(23,"app-small-chip",69)(24,"app-small-chip",48),h()(),p(25,"div")(26,"label",67),y(27,"Order Type"),h(),p(28,"div",68),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleOrderType(r))})("keydown.enter",function(){let r=k(e).$implicit,o=M(2);return N(o.toggleOrderType(r))}),O(29,"app-small-chip",48),h()(),p(30,"div")(31,"label",67),y(32,"Quantity"),h(),p(33,"input",70),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.quantity,r)||(o.quantity=r),N(r)}),z("input",function(r){let o=k(e).$implicit,a=M(2);return N(a.updateQuantity(o,r))}),h()(),p(34,"div")(35,"label",67),y(36,"Price"),h(),p(37,"input",71),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.price,r)||(o.price=r),N(r)}),z("input",function(r){let o=k(e).$implicit,a=M(2);return N(a.updatePrice(o,r))}),h()()(),p(38,"div",72)(39,"div",24)(40,"span",73),y(41,"Margin Required"),h(),p(42,"span",74),A(43,owe,2,0,"span",75)(44,awe,3,4,"span",76),h()()()()}if(n&2){let e=t.$implicit,i=t.index,r=M(2);g(6),j(e.displayName),g(2),j(e.exchange),g(),x("title",e.displayName)("instrumentToken",e.instrumentToken)("iconColor","gray"),g(),x("ngClass",r.color(e.change)),g(),H(" ",X(12,31,e.lastPrice,"1.2-2")," "),g(2),x("ngClass",mn(37,HZ,e.change>0,e.change<0,e.change===0)),g(),H(" ",X(15,34,e.change/100,"1.2-2")," "),g(2),x("matTooltip","Remove from Basket"),g(),x("icon",r.faTrash),g(3),x("for","transaction-"+i),g(2),x("id","transaction-"+i),g(),x("text",e.transactionType)("color",e.transactionType==="BUY"?"blue":"red"),g(),x("text",e.productType)("color",e.productType==="MIS"?"orange":"purple"),g(2),x("for","orderType-"+i),g(2),x("id","orderType-"+i),g(),x("text",e.orderType)("color","gray"),g(2),x("for","quantity-"+i),g(2),x("id","quantity-"+i),_t("ngModel",e.quantity),g(2),x("for","price-"+i),g(2),x("id","price-"+i),_t("ngModel",e.price),x("disabled",e.orderType==="MARKET")("placeholder",e.orderType==="MARKET"?"Market":"0.00"),g(6),x("ngIf",r.isCalculatingMargin),g(),x("ngIf",!r.isCalculatingMargin)}}function lwe(n,t){if(n&1&&(p(0,"div",59),A(1,swe,45,41,"div",60),h()),n&2){let e=M();g(),x("ngForOf",e.basketItems)("ngForTrackBy",e.trackById)}}function cwe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),h()),n&2){let e=M(2);g(),H("\u20B9",X(2,1,e.totalMargin,"1.0-0"))}}function uwe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),h()),n&2){let e=M(2);g(),H("\u20B9",X(2,1,e.finalMargin,"1.0-0"))}}function dwe(n,t){if(n&1&&(p(0,"span",113),y(1),h()),n&2){let e=M(2);g(),H(" ",e.isNetDebit()?"(Debit)":"(Credit)"," ")}}function fwe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),h()),n&2){let e=M(2);g(),H("\u20B9",X(2,1,e.totalMargin,"1.0-0"))}}function pwe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),h()),n&2){let e=M(2);g(),H("\u20B9",X(2,1,e.availableMargin,"1.0-0"))}}function mwe(n,t){if(n&1&&(p(0,"span"),y(1),$(2,"number"),h()),n&2){let e=M(2);g(),H("\u20B9",X(2,1,e.finalMargin,"1.0-0"))}}function hwe(n,t){n&1&&(p(0,"span"),y(1,"Refresh Margins"),h())}function gwe(n,t){if(n&1){let e=ee();p(0,"div",78)(1,"div",79)(2,"div",80)(3,"div",81)(4,"span",82),y(5,"Margin Overview for Total Items"),h(),p(6,"span",13),y(7),h()(),p(8,"div",83)(9,"div",24)(10,"span",46),y(11,"Net Premium"),h(),p(12,"div",84)(13,"span",85),y(14),$(15,"number"),h()()(),O(16,"div",86),p(17,"div",66)(18,"div",24)(19,"span",13),y(20,"Utilized"),h(),p(21,"span",74),y(22),$(23,"number"),h()(),p(24,"div",24)(25,"span",13),y(26,"Available"),h(),p(27,"span",74),y(28),$(29,"number"),h()()(),O(30,"div",86),p(31,"div",66)(32,"div",87)(33,"span",13),y(34,"Total"),h(),p(35,"span",74),A(36,cwe,3,4,"span",76),h()(),p(37,"div",87),$(38,"number"),p(39,"span",13),y(40,"Final"),h(),p(41,"span",88),A(42,uwe,3,4,"span",76),h()()()()(),p(43,"div",89)(44,"input",90),bt("ngModelChange",function(r){k(e);let o=M();return Mt(o.includeExistingPositions,r)||(o.includeExistingPositions=r),N(r)}),z("change",function(){k(e);let r=M();return N(r.calculateBasketMargin())}),h(),p(45,"label",91),y(46," Include Existing Positions "),h()(),p(47,"div",92)(48,"button",93),z("click",function(){k(e);let r=M();return N(r.placeBasketOrders())}),y(49," Execute "),h()()(),p(50,"div",94)(51,"div",95)(52,"div",96)(53,"div",97),y(54,"Items"),h(),p(55,"div",98),y(56),h()(),p(57,"div",99)(58,"div",100),y(59," Net Premium "),h(),p(60,"div",101),y(61),$(62,"number"),A(63,dwe,2,1,"span",102),h()(),p(64,"div",103)(65,"div",97),y(66,"Total Margin"),h(),p(67,"div",98),A(68,fwe,3,4,"span",76),h()(),p(69,"div",104)(70,"div",97),y(71,"Utilized Margin"),h(),p(72,"div",98),y(73),$(74,"number"),h()(),p(75,"div",104)(76,"div",97),y(77," Available Margin "),h(),p(78,"div",101),A(79,pwe,3,4,"span",76),h()(),p(80,"div",105),$(81,"number"),p(82,"div",100),y(83," Final Margin "),h(),p(84,"div",101),A(85,mwe,3,4,"span",76),h()()(),p(86,"div",106)(87,"div",107)(88,"input",108),bt("ngModelChange",function(r){k(e);let o=M();return Mt(o.includeExistingPositions,r)||(o.includeExistingPositions=r),N(r)}),z("change",function(){k(e);let r=M();return N(r.calculateBasketMargin())}),h(),p(89,"label",109),y(90," Include Existing Positions "),h()(),p(91,"div",110)(92,"button",111),z("click",function(){k(e);let r=M();return r.calculateBasketMargin(),N(r.fetchFundsData())}),A(93,hwe,2,0,"span",76),h(),p(94,"button",112),z("click",function(){k(e);let r=M();return N(r.placeBasketOrders())}),y(95," Execute "),h()()()()()}if(n&2){let e=M();g(7),j(e.basketItems.length),g(3),x("ngClass",mn(52,YSe,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(3),x("ngClass",mn(56,PD,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(),H(" \u20B9",X(15,31,e.getAbsoluteNetPremium(),"1.2-2")," "),g(8),H("\u20B9",X(23,34,e.utilizedMargin,"1.0-0")),g(6),H("\u20B9",X(29,37,e.availableMargin,"1.0-0")),g(4),x("matTooltip","Utilized + Available"),g(4),x("ngIf",!e.isCalculatingMargin),g(),x("matTooltip","Required Margin: \u20B9"+X(38,40,e.requiredMargin,"1.0-0")),g(4),x("ngClass",Qe(60,Lv,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),g(),x("ngIf",!e.isCalculatingMargin),g(2),_t("ngModel",e.includeExistingPositions),g(12),j(e.basketItems.length),g(),x("ngClass",mn(63,ZSe,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(),x("ngClass",mn(67,PD,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(2),x("ngClass",mn(71,PD,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(),H(" \u20B9",X(62,43,e.getAbsoluteNetPremium(),"1.2-2")," "),g(2),x("ngIf",e.netPremium!==0),g(),x("matTooltip","Utilized Margin + Available Margin"),g(4),x("ngIf",!e.isCalculatingMargin),g(5),H("\u20B9",X(74,46,e.utilizedMargin,"1.0-0")),g(5),x("ngClass",Qe(75,Lv,0<e.availableMargin,0>=e.availableMargin)),g(),x("ngIf",!e.isCalculatingMargin),g(),x("ngClass",Qe(78,XSe,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin))("matTooltip","Required Margin: \u20B9"+X(81,49,e.requiredMargin,"1.0-0")),g(2),x("ngClass",Qe(81,Lv,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),g(2),x("ngClass",Qe(84,Lv,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),g(),x("ngIf",!e.isCalculatingMargin),g(3),_t("ngModel",e.includeExistingPositions),g(4),x("disabled",e.isCalculatingMargin),g(),x("ngIf",!e.isCalculatingMargin)}}var jZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c){this.watchlistService=i,this.toastr=r,this.fundsService=o,this.tradingAccountService=a,this.ws=s,this.ordersService=l,this.basketCommunicationService=c,this.isLoading=!0,this.basketItems=[],this.searchTerm="",this.fetchedInstruments=[],this.searchTermChanged=new me,this.requiredMargin=0,this.finalMargin=0,this.isCalculatingMargin=!1,this.tradingAccounts=[],this.selectedTradingAccountId="",this.includeExistingPositions=!1,this.instrumentTokens=[],this.marginCalculationTrigger=new me,this.funds=[],this.utilizedMargin=0,this.availableMargin=0,this.isIntraday=!1,this.netPremium=0,this.BASKET_CACHE_KEY="basket_order_items",this.faSearch=ql,this.faTrash=$l}ngOnInit(){this.isLoading=!0,this.searchSubscription=this.searchTermChanged.pipe(ea(300),c1()).subscribe(i=>{this.searchInstruments(i)}),this.marginCalculationSubscription=this.marginCalculationTrigger.pipe(ea(500)).subscribe(()=>{this.performMarginCalculation()}),this.basketCommunicationSubscription=this.basketCommunicationService.addToBasket$.subscribe(i=>{this.addToBasket(i)}),this.fetchTradingAccounts()}ngOnDestroy(){this.searchSubscription?.unsubscribe(),this.wsSubscription?.unsubscribe(),this.marginCalculationSubscription?.unsubscribe(),this.basketCommunicationSubscription?.unsubscribe(),this.instrumentTokens.length>0&&this.ws.unsubscribe(this.instrumentTokens),this.saveBasketItems()}fetchTradingAccounts(){this.isLoading=!0,this.tradingAccountService.getTradingAccounts().subscribe({next:i=>{this.tradingAccounts=i.data,this.tradingAccounts.length>0&&(this.selectedTradingAccountId=this.tradingAccounts[0].userId,this.fetchFundsData(),this.loadBasketItems(),this.isLoading=!1)},error:i=>{console.error("Error while fetching trading accounts:",i),this.toastr.error(i.error?.message||"Failed to fetch trading accounts","Error")}})}fetchFundsData(){this.selectedTradingAccountId&&this.fundsService.getFunds().subscribe({next:i=>{this.funds=i.data||[],this.updateMarginValues()},error:i=>{console.error("Error while fetching funds data:",i),this.toastr.error(i.error?.message||"Failed to fetch funds data","Error")}})}updateMarginValues(){let i=this.funds.find(r=>r.userId===this.selectedTradingAccountId);i?(this.utilizedMargin=i.margin?.utilised?.debits||0,this.availableMargin=i.margin?.net||0):(this.utilizedMargin=0,this.availableMargin=0)}onSearchTermChange(i){let o=i.target?.value||"";this.searchTermChanged.next(o)}searchInstruments(i){if(!i.trim()){this.fetchedInstruments=[];return}this.watchlistService.searchInstruments(i.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastr.error(r.error.message,"Error")}})}addToBasket(i){if(this.basketItems.length>=6){this.toastr.warning("Maximum 6 instruments allowed in basket","Limit Reached");return}this.searchTerm="",this.fetchedInstruments=[];let r=this.getCachedQuantity(i.exchange),o={displayName:i.displayName,tradingSymbol:i.tradingSymbol,instrumentToken:i.instrumentToken,segment:i.segment,exchange:i.exchange,quantity:r,orderType:"LIMIT",transactionType:"SELL",price:0,marginRequired:0,lastPrice:0,change:0,priceUpdated:!1,isIntraday:this.isIntraday,productType:"NRML"};o.productType=this.getProductType(o),this.basketItems.push(o),this.subscribeToInstrument(i.instrumentToken),this.calculateBasketMargin(),this.calculateNetPremium()}removeFromBasket(i){let r=this.basketItems[i];this.basketItems.splice(i,1),this.unsubscribeFromInstrument(r.instrumentToken),this.basketItems.length>0?(this.calculateBasketMargin(),this.calculateNetPremium()):(this.requiredMargin=0,this.finalMargin=0,this.netPremium=0)}toggleTransactionType(i){i.transactionType=i.transactionType==="BUY"?"SELL":"BUY",this.calculateBasketMargin(),this.calculateNetPremium()}toggleOrderType(i){i.orderType==="MARKET"?i.orderType="LIMIT":i.orderType==="LIMIT"&&(i.orderType="MARKET",i.price=0),this.calculateBasketMargin(),this.calculateNetPremium()}updateQuantity(i,r){let o=r.target,a=parseInt(o.value)||1;i.quantity=Math.max(1,a),this.cacheQuantity(i.exchange,i.quantity),this.calculateBasketMargin(),this.calculateNetPremium()}updatePrice(i,r){let o=r.target,a=parseFloat(o.value)||0;i.price=Math.max(0,a),this.calculateBasketMargin(),this.calculateNetPremium()}calculateBasketMargin(){this.marginCalculationTrigger.next()}performMarginCalculation(){if(this.basketItems.length===0)return;if(!this.selectedTradingAccountId){this.toastr.warning("Please select a trading account","Warning");return}let i=this.basketItems.map(o=>({exchange:o.exchange,tradingSymbol:o.tradingSymbol,transactionType:o.transactionType,variety:"regular",product:this.getProductType(o),orderType:o.orderType,quantity:o.quantity,price:o.orderType==="MARKET"?0:o.price})),r={tradingAccountId:this.selectedTradingAccountId,marginCalculationParams:i,includeExistingPositions:this.includeExistingPositions};this.fundsService.calculateCombinedMargin(r).subscribe({next:o=>{let a=o.data;a?.orders&&Array.isArray(a.orders)&&a.orders.forEach((s,l)=>{this.basketItems[l]&&(this.basketItems[l].marginRequired=s.total||0)}),this.requiredMargin=a?.initialMargin?.total||0,this.finalMargin=a?.finalMargin?.total||0,this.finalMargin=this.finalMargin>0?this.finalMargin:0,this.isCalculatingMargin=!1},error:o=>{console.error("Error while calculating margin:",o),this.toastr.error(o.error?.message||"Failed to calculate margin","Error"),this.isCalculatingMargin=!1}})}getProductType(i){return i.isIntraday?"MIS":i.segment==="NFO-OPT"||i.segment==="NFO-FUT"||i.segment==="BFO-OPT"||i.segment==="BFO-FUT"?"NRML":"CNC"}onIntradayChange(){this.basketItems.forEach(i=>{i.isIntraday=this.isIntraday,i.productType=this.getProductType(i)}),this.calculateBasketMargin()}subscribeToInstrument(i){this.instrumentTokens.push(i),this.ws.connectionState().pipe(tt(r=>r),Nt(1)).subscribe(()=>{this.ws.subscribe([i])}),this.wsSubscription||(this.wsSubscription=this.ws.ticks().subscribe(r=>{this.updateBasketItemsOnTick(r)}))}unsubscribeFromInstrument(i){let r=this.instrumentTokens.indexOf(i);r>-1&&(this.instrumentTokens.splice(r,1),this.ws.unsubscribe([i]))}updateBasketItemsOnTick(i){i.forEach(r=>{this.basketItems.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a.lastPrice!==r.lastTradedPrice&&(a.lastPrice=r.lastTradedPrice,a.change=r.change,!a.priceUpdated&&a.orderType==="LIMIT"&&r.lastTradedPrice>0&&(a.price=r.lastTradedPrice,a.priceUpdated=!0,this.calculateBasketMargin(),this.calculateNetPremium()))})})}getCachedQuantity(i){let r=`basket_qty_${this.selectedTradingAccountId}_${i}`,o=localStorage.getItem(r);return o?parseInt(o):1}cacheQuantity(i,r){let o=`basket_qty_${this.selectedTradingAccountId}_${i}`;localStorage.setItem(o,r.toString())}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}trackById(i,r){return r.instrumentToken+r.exchange}getDefaultVariety(){let i=new Date,r=new Date;r.setHours(9,0,0,0);let o=new Date;o.setHours(15,30,0,0);let a=i.getDay()===0||i.getDay()===6;return i<r||i>o||a?"amo":"regular"}validateBasketOrders(){if(this.basketItems.length===0)return this.toastr.error("Please add at least one instrument to the basket","Error"),!1;if(!this.selectedTradingAccountId)return this.toastr.error("Please select a trading account","Error"),!1;for(let i of this.basketItems){if(!i.tradingSymbol||!i.exchange)return this.toastr.error("All instruments must have valid trading symbol and exchange","Error"),!1;if(i.quantity<=0)return this.toastr.error(`Quantity must be greater than 0 for ${i.displayName}`,"Error"),!1;if(i.orderType==="LIMIT"&&i.price<=0)return this.toastr.error(`Price must be greater than 0 for LIMIT order on ${i.displayName}`,"Error"),!1}return!0}placeBasketOrders(){if(!this.validateBasketOrders())return;let i=[],r=this.getDefaultVariety();this.basketItems.forEach(o=>{let a={quantity:o.quantity,orderType:o.orderType,tradingsymbol:o.tradingSymbol,product:this.getProductType(o),exchange:o.exchange,transactionType:o.transactionType,validity:"DAY",price:o.orderType==="MARKET"?0:o.price,triggerPrice:0,tag:"famvest-basket-order"};i.push({tradingAccountId:this.selectedTradingAccountId,orderParams:a})}),tn(i).pipe(ro(o=>this.ordersService.placeOrder(o,r).pipe(Ut(a=>Me({error:!0,id:o.tradingAccountId,message:a?.error?.message||"Unknown error",instrument:o.orderParams.tradingsymbol}))))).subscribe({next:o=>{"error"in o&&o.error?(console.error(`\u274C Order placement failed for ${o.instrument}:`,o),this.toastr.error(`Order placement for ${o.instrument} failed: ${o.message}`,"Error")):(console.log(`\u2705 Order placed successfully for ${o.data.tradingSymbol}`),this.toastr.success(`Order placed successfully. Order ID: ${o.data.orderId}`,"Success"))},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All basket orders processed"),this.toastr.info("All basket orders have been processed","Complete")}})}clearBasket(){this.basketItems.forEach(i=>{this.unsubscribeFromInstrument(i.instrumentToken)}),this.basketItems=[],this.requiredMargin=0,this.finalMargin=0,localStorage.removeItem(this.BASKET_CACHE_KEY)}calculateNetPremium(){this.netPremium=this.basketItems.reduce((i,r)=>{let o=(r.quantity||0)*(r.price||0);return r.transactionType==="BUY"?i+o:i-o},0)}getAbsoluteNetPremium(){return Math.abs(this.netPremium)}isNetDebit(){return this.netPremium>0}isNetCredit(){return this.netPremium<0}saveBasketItems(){let i=this.basketItems.map(r=>({displayName:r.displayName,tradingSymbol:r.tradingSymbol,instrumentToken:r.instrumentToken,segment:r.segment,exchange:r.exchange,quantity:r.quantity,orderType:r.orderType,transactionType:r.transactionType,price:r.price,marginRequired:r.marginRequired,lastPrice:r.lastPrice,change:r.change,priceUpdated:r.priceUpdated,isIntraday:r.isIntraday,productType:r.productType}));localStorage.setItem(this.BASKET_CACHE_KEY,JSON.stringify(i))}loadBasketItems(){let i=localStorage.getItem(this.BASKET_CACHE_KEY);if(i)try{let r=JSON.parse(i);this.basketItems=r,this.basketItems.length>0&&(this.isIntraday=this.basketItems[0].isIntraday||!1),this.basketItems.forEach(o=>{this.subscribeToInstrument(o.instrumentToken)}),this.calculateBasketMargin(),this.calculateNetPremium()}catch(r){console.error("Error parsing cached basket items:",r),localStorage.removeItem(this.BASKET_CACHE_KEY)}}get totalMargin(){return Number(this.utilizedMargin)+Number(this.availableMargin)}};t.\u0275fac=function(r){return new(r||t)(V(Mu),V(nt),V(Ss),V(tr),V(sr),V(Cs),V(wv))},t.\u0275cmp=ie({type:t,selectors:[["app-basket-order"]],decls:25,vars:14,consts:[[1,"page-container"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","text-gray-700"],[1,"p-4","border-b","border-gray-200"],[1,"flex","flex-col","sm:flex-row","gap-3","items-start","sm:items-center"],[1,"flex-none","w-full","sm:w-[40%]"],[3,"selectedUserIdChange","selectUser","selectedUserId","placeholder"],[1,"relative","flex-1","w-full"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400",3,"icon"],["type","text","placeholder","Search and add instruments eg: infy, nifty fut, etc",1,"pl-10","pr-3","py-2","w-full","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["class","absolute left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto z-10",4,"ngIf"],[1,"flex","items-center","gap-6","mt-3"],[1,"inline-flex","items-center","gap-2","cursor-pointer"],["type","radio","name","productType",1,"form-radio","text-orange-500","h-4","w-4",3,"ngModelChange","change","ngModel","value"],[1,"text-sm","text-gray-700"],["type","radio","name","productType",1,"form-radio","text-purple-500","h-4","w-4",3,"ngModelChange","change","ngModel","value"],[1,"min-h-[30vh]"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","text-center py-16 px-4",4,"ngIf"],["class","hidden md:block overflow-x-auto",4,"ngIf"],["class","md:hidden divide-y divide-gray-200",4,"ngIf"],["class","border-t border-gray-200 bg-gradient-to-br from-gray-50 to-gray-100",4,"ngIf"],[1,"absolute","left-0","right-0","mt-1","bg-white","border","border-gray-300","rounded-md","shadow-lg","max-h-60","overflow-auto","z-10"],["class","px-3 py-2 hover:bg-blue-50 cursor-pointer transition-colors","tabindex","0","role","button",3,"click","keydown.enter",4,"ngFor","ngForOf"],["tabindex","0","role","button",1,"px-3","py-2","hover:bg-blue-50","cursor-pointer","transition-colors",3,"click","keydown.enter"],[1,"flex","justify-between","items-center"],[1,"text-gray-700","text-sm"],[1,"text-sm","text-gray-500","uppercase"],[1,"flex","items-center","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500"],[1,"text-center","py-16","px-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-16","w-16","mx-auto","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","text-sm","md:text-base"],[1,"hidden","md:block","overflow-x-auto"],[1,"w-full"],[1,"bg-gray-100","text-gray-600"],[1,"px-4","py-2","text-left","h-10"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-4","py-3"],[1,"flex","flex-col"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-400","uppercase"],[3,"title","instrumentToken","iconColor"],[1,"text-sm",3,"ngClass"],[1,"text-sm","px-1.5","py-0.5","rounded-md",3,"ngClass"],[3,"text","color"],[1,"px-4","py-3","cursor-pointer"],["tabindex","0","role","button",3,"click","keydown.enter","text","color"],["type","number","min","1",1,"w-20","px-2","py-1","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["type","number","min","0","step","0.05",1,"w-24","px-2","py-1","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","input","ngModel","disabled","placeholder"],["class","text-gray-400 text-sm animate-pulse",4,"ngIf"],["class","text-gray-700 font-medium ",4,"ngIf"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors",3,"click","matTooltip"],[1,"text-sm",3,"icon"],[1,"text-gray-400","text-sm","animate-pulse"],[1,"text-gray-700","font-medium"],[1,"md:hidden","divide-y","divide-gray-200"],["class","p-4 hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-4","hover:bg-gray-50","transition-colors"],[1,"mb-3"],[1,"flex","items-start","justify-between","mb-2"],[1,"flex-1","min-w-0"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors","ml-2","flex-shrink-0",3,"click","matTooltip"],[1,"grid","grid-cols-2","gap-3"],[1,"text-sm","text-gray-500","block","mb-1",3,"for"],["tabindex","0","role","button",1,"cursor-pointer",3,"click","keydown.enter","id"],[1,"mr-2",3,"text","color"],["type","number","min","1",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","text-sm","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","id","ngModel"],["type","number","min","0","step","0.05",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","text-sm","focus:ring-2","focus:ring-blue-100","focus:outline-none","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","input","id","ngModel","disabled","placeholder"],[1,"mt-3","pt-3","border-t","border-gray-100"],[1,"text-sm","text-gray-500"],[1,"text-sm","font-medium","text-gray-700"],["class","text-gray-400 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"text-gray-400","animate-pulse"],[1,"border-t","border-gray-200","bg-gradient-to-br","from-gray-50","to-gray-100"],[1,"md:hidden","p-4","space-y-3"],[1,"bg-white","rounded-xl","p-4","shadow-sm","border","border-gray-200"],[1,"flex","items-center","justify-between","mb-3","pb-3","border-b","border-gray-100"],[1,"text-sm","text-gray-700","tracking-wide"],[1,"space-y-2"],[1,"text-right"],[1,"text-sm","font-medium",3,"ngClass"],[1,"h-px","bg-gray-200","my-2"],[1,"flex","justify-between","items-center",3,"matTooltip"],[1,"text-base","font-medium",3,"ngClass"],[1,"flex","items-center","gap-2","bg-white","rounded-lg","p-3","shadow-sm","border","border-gray-200"],["type","checkbox","id","includePositionsMobile",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-2","focus:ring-blue-100",3,"ngModelChange","change","ngModel"],["for","includePositionsMobile",1,"text-sm","text-gray-700","cursor-pointer","select-none","flex-1"],[1,"flex","flex-col","gap-2"],[1,"w-full","px-4","py-3","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","rounded-lg","hover:from-blue-700","hover:to-blue-800","active:from-blue-800","active:to-blue-900","transition-all","font-medium","shadow-md",3,"click"],[1,"hidden","md:block","p-4"],[1,"grid","grid-cols-6","gap-3","mb-4"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200","text-center"],[1,"text-sm","text-gray-700","mb-1"],[1,"text-lg","font-medium","text-gray-700"],[1,"bg-gradient-to-br","rounded-md","p-3","shadow-sm","border",3,"ngClass"],[1,"text-sm","mb-1",3,"ngClass"],[1,"text-lg","font-bold",3,"ngClass"],["class","text-xs font-normal ml-1",4,"ngIf"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200",3,"matTooltip"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200"],[1,"bg-gradient-to-br","rounded-md","p-3","shadow-sm","border",3,"ngClass","matTooltip"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-2","bg-white","rounded-lg","px-4","py-2.5","shadow-sm","border","border-gray-200"],["type","checkbox","id","includePositions",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-2","focus:ring-blue-100",3,"ngModelChange","change","ngModel"],["for","includePositions",1,"text-sm","text-gray-700","cursor-pointer","select-none"],[1,"flex","gap-3"],[1,"px-6","py-2.5","border","border-gray-300","bg-white","text-gray-700","rounded-lg","hover:bg-gray-50","active:bg-gray-100","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","font-medium","shadow-sm",3,"click","disabled"],[1,"px-8","py-2.5","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","rounded-lg","hover:from-blue-700","hover:to-blue-800","active:from-blue-800","active:to-blue-900","transition-all","font-medium","shadow-md",3,"click"],[1,"text-xs","font-normal","ml-1"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"app-user-dropdown",5),bt("selectedUserIdChange",function(s){return Mt(o.selectedTradingAccountId,s)||(o.selectedTradingAccountId=s),s}),z("selectUser",function(){return o.calculateBasketMargin(),o.fetchFundsData()}),h()(),p(6,"div",6),O(7,"fa-icon",7),p(8,"input",8),bt("ngModelChange",function(s){return Mt(o.searchTerm,s)||(o.searchTerm=s),s}),z("input",function(s){return o.onSearchTermChange(s)}),h(),A(9,KSe,2,1,"div",9),h()(),p(10,"div",10)(11,"label",11)(12,"input",12),bt("ngModelChange",function(s){return Mt(o.isIntraday,s)||(o.isIntraday=s),s}),z("change",function(){return o.onIntradayChange()}),h(),p(13,"span",13),y(14,"Intraday"),h()(),p(15,"label",11)(16,"input",14),bt("ngModelChange",function(s){return Mt(o.isIntraday,s)||(o.isIntraday=s),s}),z("change",function(){return o.onIntradayChange()}),h(),p(17,"span",13),y(18,"Overnight"),h()()()(),p(19,"div",15),A(20,JSe,2,0,"div",16)(21,ewe,7,0,"div",17)(22,rwe,20,2,"div",18)(23,lwe,2,2,"div",19),h(),A(24,gwe,96,87,"div",20),h()()),r&2&&(g(5),_t("selectedUserId",o.selectedTradingAccountId),x("placeholder","Select Trading Account"),g(2),x("icon",o.faSearch),g(),_t("ngModel",o.searchTerm),g(),x("ngIf",o.fetchedInstruments.length>0&&o.searchTerm.length>0),g(3),_t("ngModel",o.isIntraday),x("value",!0),g(4),_t("ngModel",o.isIntraday),x("value",!1),g(4),x("ngIf",o.isLoading),g(),x("ngIf",!o.isLoading&&o.basketItems.length===0),g(),x("ngIf",!o.isLoading&&o.basketItems.length>0),g(),x("ngIf",o.basketItems.length>0),g(),x("ngIf",o.basketItems.length>0))},dependencies:[We,Oe,Ae,ye,hn,Yt,jc,m2,M5,Zt,Gc,Gi,at,gn,Bt,Ev,Fa,ln,$n],encapsulation:2});let n=t;return n})();function vwe(n,t){n&1&&(p(0,"span",8),y(1,"*"),h())}function ywe(n,t){if(n&1&&(p(0,"p",9),y(1),h()),n&2){let e=M();g(),Bn(" ",e.label," is ",e.required?"required":"invalid",". ")}}var Av=(()=>{let t=class t{constructor(){this.placeholder="",this.required=!1,this.show=!1,this.faEye=ds,this.faEyeSlash=Yl,this.FormControl=Uc}getControl(i){let r=this.formGroup.get(i);if(!r)throw new Error(`Control with name '${i}' not found`);return r}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-toggle-secret-field"]],inputs:{formGroup:"formGroup",controlName:"controlName",label:"label",placeholder:"placeholder",required:"required"},decls:9,vars:8,consts:[[1,"mt-3"],[1,"block","text-sm","text-gray-700"],["class","text-red-500",4,"ngIf"],[1,"relative"],["autocomplete","off",1,"form-control",3,"type","formControl","placeholder","required"],["type","button","tabindex","-1",1,"absolute","right-0","inset-y-0","px-3","flex","items-center","text-gray-500","hover:text-gray-600","focus:outline-none",3,"click"],[3,"icon"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(p(0,"div",0)(1,"label",1),y(2),A(3,vwe,2,0,"span",2),h(),p(4,"div",3),O(5,"input",4),p(6,"button",5),z("click",function(){return o.show=!o.show}),O(7,"fa-icon",6),h()(),A(8,ywe,2,2,"p",7),h()),r&2){let a;g(2),H(" ",o.label," "),g(),x("ngIf",o.required),g(2),x("type",o.show?"text":"password")("formControl",o.getControl(o.controlName))("placeholder",o.placeholder)("required",o.required),g(2),x("icon",o.show?o.faEyeSlash:o.faEye),g(),x("ngIf",((a=o.formGroup.get(o.controlName))==null?null:a.touched)&&((a=o.formGroup.get(o.controlName))==null?null:a.invalid))}},dependencies:[di,Yt,Zt,mo,iT,at,ye],encapsulation:2});let n=t;return n})();function _we(n,t){n&1&&(p(0,"p",18),y(1," Nickname is required. "),h())}function bwe(n,t){n&1&&(p(0,"p",18),y(1," Trading User ID is required. "),h())}var GZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.fb=i,this.tradingAccountService=r,this.toastrService=o,this.dialogRef=a,this.data=s,this.tradingAccount={},this.updateUserForm=this.fb.group({name:["",Ue.required],userId:["",Ue.required],password:[""],apiKey:[""],apiSecret:[""],totpKey:[""]}),s.tradingAccount&&(this.updateUserForm.get("userId")?.disable(),this.tradingAccount=s.tradingAccount,this.updateUserForm.patchValue({name:this.tradingAccount.name,userId:this.tradingAccount.userId}))}update(){if(this.updateUserForm.invalid){this.updateUserForm.markAllAsTouched();return}let i=this.updateUserForm.value;this.tradingAccount.id&&(i.id=this.tradingAccount.id,i.userId=this.tradingAccount.userId),this.tradingAccountService.updateTradingAccount(this.tradingAccount.userId,i).subscribe({next:r=>{this.toastrService.success("Trading account updated successfully.","Success"),this.dialogRef.close("updated")},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while updating trading account. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(tr),V(nt),V(Ni),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-update-trading-account"]],decls:34,vars:13,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","name","type","text","required","","placeholder","Enter a nickname",1,"form-control"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","userId","type","text","required","","placeholder","Enter trading user ID",1,"form-control"],["controlName","password","label","Trading Account Password (optional)","placeholder","Enter password (if you want automated login)",3,"formGroup","required"],["controlName","totpKey","label","TOTP Key (optional)","placeholder","Enter TOTP key (if you want automated login)",3,"formGroup","required"],["controlName","apiKey","label","API Key","placeholder","Enter API key",3,"formGroup","required"],["controlName","apiSecret","label","API Secret","placeholder","Enter API secret",3,"formGroup","required"],[3,"type","dismissible"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-2"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100","transition",3,"click"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(p(0,"div",0)(1,"div",1)(2,"span",2),y(3,"Modify Trading Account"),h()(),p(4,"div",3)(5,"form",4),z("ngSubmit",function(){return o.update()}),p(6,"div")(7,"label",5),y(8," Nickname "),p(9,"span",6),y(10,"*"),h()(),O(11,"input",7),A(12,_we,2,0,"p",8),h(),p(13,"div")(14,"label",5),y(15," Trading User ID "),p(16,"span",6),y(17,"*"),h()(),O(18,"input",9),A(19,bwe,2,0,"p",8),h(),O(20,"app-toggle-secret-field",10)(21,"app-toggle-secret-field",11)(22,"app-toggle-secret-field",12)(23,"app-toggle-secret-field",13),p(24,"div")(25,"app-note",14),y(26," You cannot view or edit existing values for the above secrets."),O(27,"br"),y(28," To update any of these fields, please enter new values \u2014 existing values will be overwritten upon submission. "),h()(),p(29,"div",15)(30,"button",16),y(31," Submit "),h(),p(32,"button",17),z("click",function(){return o.onClose()}),y(33," Cancel "),h()()()()()),r&2){let a,s;g(5),x("formGroup",o.updateUserForm),g(7),x("ngIf",((a=o.updateUserForm.get("name"))==null?null:a.touched)&&((a=o.updateUserForm.get("name"))==null?null:a.invalid)),g(7),x("ngIf",((s=o.updateUserForm.get("userId"))==null?null:s.touched)&&((s=o.updateUserForm.get("userId"))==null?null:s.invalid)),g(),x("formGroup",o.updateUserForm)("required",!1),g(),x("formGroup",o.updateUserForm)("required",!1),g(),x("formGroup",o.updateUserForm)("required",!1),g(),x("formGroup",o.updateUserForm)("required",!1),g(2),x("type","info")("dismissible",!0)}},dependencies:[di,Or,Yt,Zt,Pr,mo,_r,br,ye,Av,lr,or,rr],encapsulation:2});let n=t;return n})();function xwe(n,t){n&1&&(p(0,"p",17),y(1,"Nickname is required."),h())}function Cwe(n,t){n&1&&(p(0,"p",17),y(1,"Trading User ID is required."),h())}var WZ=(()=>{let t=class t{constructor(i,r,o,a){this.fb=i,this.tradingAccountService=r,this.toastrService=o,this.dialogRef=a,this.tradingAccount={},this.onboardForm=this.fb.group({name:["",Ue.required],userId:["",Ue.required],password:[""],apiKey:["",Ue.required],apiSecret:["",Ue.required],totpKey:[""]})}submit(){if(this.onboardForm.invalid){this.onboardForm.markAllAsTouched();return}let i=this.onboardForm.value;this.tradingAccountService.onboardTradingAccount(i).subscribe({next:r=>{this.toastrService.success("Trading account successfully onboarded.","Success"),this.dialogRef.close("submitted")},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while adding trading account. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}toUpperCase(i){let r=i.target;r.value=r.value.toUpperCase(),this.onboardForm.get("userId")?.setValue(r.value,{emitEvent:!1})}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(tr),V(nt),V(Ni))},t.\u0275cmp=ie({type:t,selectors:[["app-add-trading-account"]],decls:29,vars:11,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","name","type","text","required","","placeholder","Enter a nickname",1,"form-control"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","userId","type","text","required","","placeholder","Enter trading user ID",1,"form-control",3,"input"],["controlName","password","label","Trading Account Password (optional)","placeholder","Enter password (if you want automated login)",3,"formGroup","required"],["controlName","totpKey","label","TOTP Key (optional)","placeholder","Enter TOTP key (if you want automated login)",3,"formGroup","required"],["controlName","apiKey","label","API Key","placeholder","Enter API key",3,"formGroup","required"],["controlName","apiSecret","label","API Secret","placeholder","Enter API secret",3,"formGroup","required"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-2"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100",3,"click"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(p(0,"div",0)(1,"div",1)(2,"span",2),y(3,"Onboard Trading Account"),h()(),p(4,"div",3)(5,"form",4),z("ngSubmit",function(){return o.submit()}),p(6,"div")(7,"label",5),y(8,"Nickname "),p(9,"span",6),y(10,"*"),h()(),O(11,"input",7),A(12,xwe,2,0,"p",8),h(),p(13,"div")(14,"label",5),y(15,"Trading User ID "),p(16,"span",6),y(17,"*"),h()(),p(18,"input",9),z("input",function(s){return o.toUpperCase(s)}),h(),A(19,Cwe,2,0,"p",8),h(),O(20,"app-toggle-secret-field",10)(21,"app-toggle-secret-field",11)(22,"app-toggle-secret-field",12)(23,"app-toggle-secret-field",13),p(24,"div",14)(25,"button",15),y(26,"Submit"),h(),p(27,"button",16),z("click",function(){return o.onClose()}),y(28,"Cancel"),h()()()()()),r&2){let a,s;g(5),x("formGroup",o.onboardForm),g(7),x("ngIf",((a=o.onboardForm.get("name"))==null?null:a.touched)&&((a=o.onboardForm.get("name"))==null?null:a.invalid)),g(7),x("ngIf",((s=o.onboardForm.get("userId"))==null?null:s.touched)&&((s=o.onboardForm.get("userId"))==null?null:s.invalid)),g(),x("formGroup",o.onboardForm)("required",!1),g(),x("formGroup",o.onboardForm)("required",!1),g(),x("formGroup",o.onboardForm)("required",!0),g(),x("formGroup",o.onboardForm)("required",!0)}},dependencies:[di,Or,Yt,Zt,Pr,mo,_r,br,ye,Av,or,rr],encapsulation:2});let n=t;return n})();var zv=(()=>{let t=class t{constructor(i){this.api=i}getUserPreferences(){return this.api.get("/v1/user-preferences")}updatePreferenceValue(i,r){return this.api.patch(`/v1/user-preferences/${i}/value`,r)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var $Z=(()=>{let t=class t{constructor(i){this.apiService=i}updateProfile(i){return this.apiService.put("/v1/users/profile/update",i)}changePassword(i){return this.apiService.put("/v1/users/profile/change-password",i)}getTradingAccounts(){return this.apiService.get("/v1/users/profile/trading-accounts")}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var YZ=(()=>{let t=class t{constructor(i){this.api=i}getApplicationUserProfile(){return this.api.get("/v1/users/profile")}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Mwe=n=>({"text-red-500 hover:text-red-600":n});function Twe(n,t){if(n&1&&(p(0,"div",4),O(1,"fa-icon",5),p(2,"p",6),y(3,"Loading your profile..."),h()()),n&2){let e=M();g(),x("icon",e.faSpinner)}}function Ewe(n,t){n&1&&O(0,"span",14)}function Dwe(n,t){if(n&1){let e=ee();p(0,"div",12),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.setActiveTab(r))}),y(1),A(2,Ewe,1,0,"span",13),h()}if(n&2){let e=t.$implicit,i=M(2);Ce("active-tab",e===i.activeTab)("text-gray-700",e!==i.activeTab),g(),H(" ",e," "),g(),x("ngIf",e===i.activeTab)}}function Iwe(n,t){n&1&&(p(0,"p"),y(1,"Full name is required"),h())}function Lwe(n,t){n&1&&(p(0,"p"),y(1,"Full name must be at least 2 characters"),h())}function Awe(n,t){if(n&1&&(p(0,"div",56),A(1,Iwe,2,0,"p",57)(2,Lwe,2,0,"p",57),h()),n&2){let e,i,r=M(3);g(),x("ngIf",(e=r.profileForm.get("fullName"))==null?null:e.hasError("required")),g(),x("ngIf",(i=r.profileForm.get("fullName"))==null?null:i.hasError("minlength"))}}function zwe(n,t){n&1&&(p(0,"p"),y(1,"Username is required"),h())}function kwe(n,t){n&1&&(p(0,"p"),y(1,"Username must be at least 3 characters"),h())}function Nwe(n,t){if(n&1&&(p(0,"div",56),A(1,zwe,2,0,"p",57)(2,kwe,2,0,"p",57),h()),n&2){let e,i,r=M(3);g(),x("ngIf",(e=r.profileForm.get("userName"))==null?null:e.hasError("required")),g(),x("ngIf",(i=r.profileForm.get("userName"))==null?null:i.hasError("minlength"))}}function Pwe(n,t){if(n&1&&O(0,"fa-icon",58),n&2){let e=M(3);x("icon",e.faCheck)}}function Owe(n,t){if(n&1&&O(0,"fa-icon",59),n&2){let e=M(3);x("icon",e.faSpinner)}}function Rwe(n,t){n&1&&(p(0,"p"),y(1,"Current password is required"),h())}function Fwe(n,t){n&1&&(p(0,"p"),y(1,"Password must be at least 6 characters"),h())}function Bwe(n,t){if(n&1&&(p(0,"div",56),A(1,Rwe,2,0,"p",57)(2,Fwe,2,0,"p",57),h()),n&2){let e,i,r=M(3);g(),x("ngIf",(e=r.passwordForm.get("oldPassword"))==null?null:e.hasError("required")),g(),x("ngIf",(i=r.passwordForm.get("oldPassword"))==null?null:i.hasError("minlength"))}}function Vwe(n,t){n&1&&(p(0,"p"),y(1,"New password is required"),h())}function Uwe(n,t){n&1&&(p(0,"p"),y(1,"Password must be at least 6 characters"),h())}function Hwe(n,t){if(n&1&&(p(0,"div",56),A(1,Vwe,2,0,"p",57)(2,Uwe,2,0,"p",57),h()),n&2){let e,i,r=M(3);g(),x("ngIf",(e=r.passwordForm.get("newPassword"))==null?null:e.hasError("required")),g(),x("ngIf",(i=r.passwordForm.get("newPassword"))==null?null:i.hasError("minlength"))}}function jwe(n,t){n&1&&(p(0,"p"),y(1,"Please confirm your password"),h())}function Gwe(n,t){n&1&&(p(0,"p"),y(1,"Passwords do not match"),h())}function Wwe(n,t){if(n&1&&(p(0,"div",56),A(1,jwe,2,0,"p",57)(2,Gwe,2,0,"p",57),h()),n&2){let e,i=M(3);g(),x("ngIf",(e=i.passwordForm.get("confirmPassword"))==null?null:e.hasError("required")),g(),x("ngIf",i.passwordForm.hasError("passwordMismatch"))}}function qwe(n,t){if(n&1&&O(0,"fa-icon",58),n&2){let e=M(3);x("icon",e.faCheck)}}function $we(n,t){if(n&1&&O(0,"fa-icon",59),n&2){let e=M(3);x("icon",e.faSpinner)}}function Ywe(n,t){if(n&1){let e=ee();p(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"h2",19)(5,"span",20),y(6,"\u{1F464}"),h(),y(7," Profile Information "),h(),p(8,"p",21),y(9,"Update your account details"),h()(),p(10,"form",22),z("ngSubmit",function(){k(e);let r=M(2);return N(r.onUpdateProfile())}),p(11,"div")(12,"label",23),y(13," Full Name "),h(),O(14,"input",24),A(15,Awe,3,2,"div",25),h(),p(16,"div")(17,"label",26),y(18," Username "),h(),O(19,"input",27),p(20,"p",28)(21,"span"),y(22,"\u26A0\uFE0F"),h(),p(23,"span"),y(24,"You will be logged out after changing the username"),h()(),A(25,Nwe,3,2,"div",25),h(),p(26,"div",29)(27,"h3",30),y(28,"Account Details"),h(),p(29,"div",31)(30,"div",32)(31,"span",33),y(32,"Role:"),h(),p(33,"span",34),y(34),h()(),p(35,"div",32)(36,"span",33),y(37,"Created:"),h(),p(38,"span",34),y(39),$(40,"istDate"),h()(),p(41,"div",32)(42,"span",33),y(43,"Last Updated:"),h(),p(44,"span",34),y(45),$(46,"istDate"),h()()()(),p(47,"div",35)(48,"button",36),A(49,Pwe,1,1,"fa-icon",37)(50,Owe,1,1,"fa-icon",38),y(51),h()()()(),p(52,"div",17)(53,"div",18)(54,"h2",19)(55,"span",39),y(56,"\u{1F512}"),h(),y(57," Change Password "),h(),p(58,"p",21),y(59,"Secure your account with a new password"),h()(),p(60,"form",22),z("ngSubmit",function(){k(e);let r=M(2);return N(r.onChangePassword())}),p(61,"div")(62,"label",40),y(63," Current Password "),h(),p(64,"div",41),O(65,"input",42),p(66,"button",43),z("click",function(){k(e);let r=M(2);return N(r.togglePasswordVisibility("old"))}),O(67,"fa-icon",44),h()(),A(68,Bwe,3,2,"div",25),h(),p(69,"div")(70,"label",45),y(71," New Password "),h(),p(72,"div",41),O(73,"input",46),p(74,"button",43),z("click",function(){k(e);let r=M(2);return N(r.togglePasswordVisibility("new"))}),O(75,"fa-icon",44),h()(),A(76,Hwe,3,2,"div",25),h(),p(77,"div")(78,"label",47),y(79," Confirm Password "),h(),p(80,"div",41),O(81,"input",48),p(82,"button",43),z("click",function(){k(e);let r=M(2);return N(r.togglePasswordVisibility("confirm"))}),O(83,"fa-icon",44),h()(),A(84,Wwe,3,2,"div",25),h(),p(85,"div",49)(86,"h3",50),y(87," Password Requirements "),h(),p(88,"ul",51)(89,"li",52)(90,"span",53),y(91,"\u2713"),h(),p(92,"span"),y(93,"Password must be between 8 and 20 characters"),h()(),p(94,"li",52)(95,"span",53),y(96,"\u2713"),h(),p(97,"span"),y(98,"New Password and Confirm must match"),h()(),p(99,"li",52)(100,"span",54),y(101,"\u26A0"),h(),p(102,"span"),y(103,"You will be logged out after changing the password"),h()()()(),p(104,"div",35)(105,"button",55),A(106,qwe,1,1,"fa-icon",37)(107,$we,1,1,"fa-icon",38),y(108),h()()()()()()}if(n&2){let e,i,r,o,a,s=M(2);g(10),x("formGroup",s.profileForm),g(5),x("ngIf",((e=s.profileForm.get("fullName"))==null?null:e.touched)&&((e=s.profileForm.get("fullName"))==null?null:e.invalid)),g(10),x("ngIf",((i=s.profileForm.get("userName"))==null?null:i.touched)&&((i=s.profileForm.get("userName"))==null?null:i.invalid)),g(9),j(s.profile.role),g(5),j(X(40,24,s.profile.createdAt,"datetime-ordinal")),g(6),j(X(46,27,s.profile.updatedAt,"datetime-ordinal")),g(3),x("disabled",s.isUpdatingProfile||s.profileForm.invalid),g(),x("ngIf",!s.isUpdatingProfile),g(),x("ngIf",s.isUpdatingProfile),g(),H(" ",s.isUpdatingProfile?"Updating...":"Update Profile"," "),g(9),x("formGroup",s.passwordForm),g(5),x("type",s.showOldPassword?"text":"password"),g(2),x("icon",s.showOldPassword?s.faEyeSlash:s.faEye),g(),x("ngIf",((r=s.passwordForm.get("oldPassword"))==null?null:r.touched)&&((r=s.passwordForm.get("oldPassword"))==null?null:r.invalid)),g(5),x("type",s.showNewPassword?"text":"password"),g(2),x("icon",s.showNewPassword?s.faEyeSlash:s.faEye),g(),x("ngIf",((o=s.passwordForm.get("newPassword"))==null?null:o.touched)&&((o=s.passwordForm.get("newPassword"))==null?null:o.invalid)),g(5),x("type",s.showConfirmPassword?"text":"password"),g(2),x("icon",s.showConfirmPassword?s.faEyeSlash:s.faEye),g(),x("ngIf",s.passwordForm.touched&&(((a=s.passwordForm.get("confirmPassword"))==null?null:a.invalid)||s.passwordForm.hasError("passwordMismatch"))),g(21),x("disabled",s.isChangingPassword||s.passwordForm.invalid),g(),x("ngIf",!s.isChangingPassword),g(),x("ngIf",s.isChangingPassword),g(),H(" ",s.isChangingPassword?"Changing...":"Change Password"," ")}}function Zwe(n,t){if(n&1&&O(0,"fa-icon",67),n&2){let e=M(5);x("icon",e.faRightToBracket)}}function Xwe(n,t){if(n&1&&O(0,"fa-icon",73),n&2){let e=M(5);x("icon",e.faSpinner)}}function Qwe(n,t){if(n&1){let e=ee();p(0,"button",66),z("click",function(){k(e);let r=M(4);return N(r.renewTokensForAll())}),A(1,Zwe,1,1,"fa-icon",71)(2,Xwe,1,1,"fa-icon",72),p(3,"span"),y(4,"Renew All Tokens"),h()()}if(n&2){let e=M(4);x("disabled",e.isRenewingTokens),g(),x("ngIf",!e.isRenewingTokens),g(),x("ngIf",e.isRenewingTokens)}}function Kwe(n,t){if(n&1){let e=ee();p(0,"div",64)(1,"div",65)(2,"button",66),z("click",function(){k(e);let r=M(3);return N(r.refreshTradingAccounts())}),O(3,"fa-icon",67),p(4,"span"),y(5),h()(),A(6,Qwe,5,3,"button",68),h(),p(7,"div",65)(8,"button",69),z("click",function(){k(e);let r=M(3);return N(r.onboardTradingAccount())}),O(9,"fa-icon",70),h()()()}if(n&2){let e=M(3);g(2),x("disabled",e.isTradingAccountsRefreshing),g(),Ce("fa-spin",e.isTradingAccountsRefreshing),x("icon",e.isTradingAccountsRefreshing?e.faSpinner:e.faRefresh),g(2),j(e.isTradingAccountsRefreshing?"Loading":"Refresh"),g(),x("ngIf",e.users.length>0),g(3),x("icon",e.faUserPlus)}}function Jwe(n,t){n&1&&(p(0,"div",62)(1,"p",74),y(2,"No trading accounts to display"),h()())}function eMe(n,t){if(n&1&&(p(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getTradingAccountsSortIndicator("user"))}}function tMe(n,t){if(n&1&&(p(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getTradingAccountsSortIndicator("userName"))}}function nMe(n,t){if(n&1&&(p(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getTradingAccountsSortIndicator("userId"))}}function iMe(n,t){if(n&1&&(p(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getTradingAccountsSortIndicator("tokenStatus"))}}function rMe(n,t){if(n&1){let e=ee();p(0,"app-small-chip",93),z("click",function(r){k(e);let o=M().$implicit,a=M(4);return N(a.copyTotpToClipboard(o.userId,r))}),h(),p(1,"div",94),y(2),h()}if(n&2){let e,i,r=M().$implicit,o=M(4);x("matTooltip","Click to copy TOTP")("text",((e=o.getTotpDisplayData(r.userId))==null?null:e.value)||"")("color","blue"),g(2),H(" ",(i=o.getTotpDisplayData(r.userId))==null?null:i.timeRemaining,"s ")}}function oMe(n,t){n&1&&(p(0,"div",90),y(1,"Loading..."),h())}function aMe(n,t){if(n&1){let e=ee();p(0,"tr",85)(1,"td",86)(2,"div",87),O(3,"img",88),p(4,"span"),y(5),h()()(),p(6,"td",86),y(7),h(),p(8,"td",86),y(9),h(),p(10,"td",86),O(11,"app-small-chip",89),h(),p(12,"td",86)(13,"div",52),Gt(14,rMe,3,4)(15,oMe,2,0,"div",90),h()(),p(16,"td",91)(17,"app-action-menu",92),z("handleAction",function(r){k(e);let o=M(4);return N(o.handleAction(r))}),h()()()}if(n&2){let e=t.$implicit,i=M(4);x("ngClass",bi(12,Mwe,!e.active)),g(3),x("alt",S6(e.name))("ngSrc",(e.profile==null?null:e.profile.avatarURL)??i.fallbackAvatarUrl),g(2),j(e.name),g(2),j((e.profile==null?null:e.profile.userName)||""),g(2),j(e.userId),g(2),x("text",e.tokenStatus)("color",i.getTokenStatusColor(e.tokenStatus)),g(3),Wt(i.getTotpDisplayData(e.userId)?14:15),g(3),x("row",e)("actions",i.getActionButtons(e))}}function sMe(n,t){if(n&1){let e=ee();p(0,"div",63)(1,"table",75)(2,"thead",76)(3,"tr",77)(4,"th",78)(5,"button",79),z("click",function(){k(e);let r=M(3);return N(r.setTradingAccountsSort("user"))}),y(6," USER "),A(7,eMe,2,1,"span",80),h()(),p(8,"th",78)(9,"button",79),z("click",function(){k(e);let r=M(3);return N(r.setTradingAccountsSort("userName"))}),y(10," FULL NAME "),A(11,tMe,2,1,"span",80),h()(),p(12,"th",78)(13,"button",79),z("click",function(){k(e);let r=M(3);return N(r.setTradingAccountsSort("userId"))}),y(14," USER ID "),A(15,nMe,2,1,"span",80),h()(),p(16,"th",78)(17,"button",79),z("click",function(){k(e);let r=M(3);return N(r.setTradingAccountsSort("tokenStatus"))}),y(18," TOKEN STATUS "),A(19,iMe,2,1,"span",80),h()(),p(20,"th",78),y(21," TOTP "),h(),p(22,"th",81),y(23,"ACTION"),h()()(),p(24,"tbody",82),A(25,aMe,18,14,"tr",83),h()()()}if(n&2){let e=M(3);g(7),x("ngIf",e.getTradingAccountsSortIndicator("user")),g(4),x("ngIf",e.getTradingAccountsSortIndicator("userName")),g(4),x("ngIf",e.getTradingAccountsSortIndicator("userId")),g(4),x("ngIf",e.getTradingAccountsSortIndicator("tokenStatus")),g(6),x("ngForOf",e.sortedUsers)}}function lMe(n,t){if(n&1&&(p(0,"div",15),A(1,Kwe,10,7,"div",60),p(2,"div",61),Gt(3,Jwe,3,0,"div",62)(4,sMe,26,5,"div",63),h()()),n&2){let e=M(2);g(),x("ngIf",!e.errorMessage),g(2),Wt(!e.users||e.users.length===0?3:4)}}function cMe(n,t){n&1&&(p(0,"div",62)(1,"p",74),y(2,"No preferences to display"),h()())}function uMe(n,t){if(n&1&&(p(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getPreferencesSortIndicator("displayName"))}}function dMe(n,t){if(n&1&&(p(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getPreferencesSortIndicator("description"))}}function fMe(n,t){if(n&1&&(p(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getPreferencesSortIndicator("value"))}}function pMe(n,t){if(n&1&&(p(0,"option",101),y(1),h()),n&2){let e=t.$implicit;x("value",e),g(),j(e)}}function mMe(n,t){if(n&1){let e=ee();p(0,"tr",96)(1,"td",97)(2,"div",87)(3,"span",1),y(4),h()()(),p(5,"td",98),y(6),h(),p(7,"td",86),O(8,"app-small-chip",89),h(),p(9,"td",86)(10,"select",99),bt("ngModelChange",function(r){let o=k(e).$implicit;return Mt(o.value,r)||(o.value=r),N(r)}),z("change",function(){let r=k(e).$implicit,o=M(4);return N(o.onChange(r))}),A(11,pMe,2,2,"option",100),h()()()}if(n&2){let e=t.$implicit,i=M(4);g(4),j(e.displayName),g(2),H(" ",e.description," "),g(2),x("text",e.value)("color",i.getPreferenceValueColor(e.value)),g(2),_t("ngModel",e.value),g(),x("ngForOf",e.allowedValues)}}function hMe(n,t){if(n&1){let e=ee();p(0,"div",63)(1,"table",75)(2,"thead",76)(3,"tr",77)(4,"th",78)(5,"button",79),z("click",function(){k(e);let r=M(3);return N(r.setPreferencesSort("displayName"))}),y(6," PREFERENCE "),A(7,uMe,2,1,"span",80),h()(),p(8,"th",78)(9,"button",79),z("click",function(){k(e);let r=M(3);return N(r.setPreferencesSort("description"))}),y(10," DESCRIPTION "),A(11,dMe,2,1,"span",80),h()(),p(12,"th",78)(13,"button",79),z("click",function(){k(e);let r=M(3);return N(r.setPreferencesSort("value"))}),y(14," CURRENT VALUE "),A(15,fMe,2,1,"span",80),h()(),p(16,"th",78),y(17,"UPDATE"),h()()(),p(18,"tbody",82),A(19,mMe,12,6,"tr",95),h()()()}if(n&2){let e=M(3);g(7),x("ngIf",e.getPreferencesSortIndicator("displayName")),g(4),x("ngIf",e.getPreferencesSortIndicator("description")),g(4),x("ngIf",e.getPreferencesSortIndicator("value")),g(4),x("ngForOf",e.sortedUserPreferences)("ngForTrackBy",e.trackById)}}function gMe(n,t){if(n&1&&(p(0,"div",15)(1,"div",61),Gt(2,cMe,3,0,"div",62)(3,hMe,20,5,"div",63),h()()),n&2){let e=M(2);g(2),Wt(!e.userPreferences||e.userPreferences.length===0?2:3)}}function vMe(n,t){if(n&1&&(p(0,"div",7)(1,"div",8)(2,"div",9),A(3,Dwe,3,6,"div",10),h()(),A(4,Ywe,109,30,"div",11)(5,lMe,5,2,"div",11)(6,gMe,4,1,"div",11),h()),n&2){let e=M();g(3),x("ngForOf",e.tabs),g(),x("ngIf",e.activeTab==="Profile"),g(),x("ngIf",e.activeTab==="Trading Accounts"),g(),x("ngIf",e.activeTab==="My Preferences")}}var ZZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f,m,v,_){this.userService=i,this.userPreferencesService=r,this.profileService=o,this.applicationUserService=a,this.authUserService=s,this.toastrService=l,this.router=c,this.fb=u,this.alertService=d,this.dialog=f,this.utilsService=m,this.userViewStateService=v,this.userDataStateService=_,this.profile=null,this.tradingAccounts=[],this.isLoadingProfile=!1,this.isUpdatingProfile=!1,this.isChangingPassword=!1,this.showOldPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.tabs=["Trading Accounts","My Preferences","Profile"],this.activeTab="Trading Accounts",this.tradingAccountsSortColumn="user",this.tradingAccountsSortDirection="asc",this.preferencesSortColumn="displayName",this.preferencesSortDirection="asc",this.destroy$=new me,this.userPreferences=[],this.users=[],this.errorMessage="",this.isRenewingTokens=!1,this.totpData=new Map,this.totpRefreshTimers=new Map,this.actions=[{action:"login",color:"blue",label:"Renew Token"},{action:"modify",color:"blue",label:"Modify Trading Account"},{action:"unlink",color:"orange",label:"Deactivate Trading Account"},{action:"link",color:"green",label:"Activate Trading Account"},{action:"info",color:"gray",label:"Account Details"},{action:"delete",color:"red",label:"Delete Trading Account"}],this.isTradingAccountsRefreshing=!1,this.tradingAccountsSortAccessors={user:b=>(b.name??"").toString().toLowerCase(),userName:b=>(b.profile?.userName??"").toString().toLowerCase(),userId:b=>(b.userId??"").toString().toLowerCase(),tokenStatus:b=>(b.tokenStatus??"").toString().toLowerCase()},this.preferencesSortAccessors={displayName:b=>(b.displayName??"").toString().toLowerCase(),description:b=>(b.description??"").toString().toLowerCase(),value:b=>(b.value??"").toString().toLowerCase()},this.fallbackAvatarUrl=ui,this.faSpinner=ko,this.faUserPlus=vg,this.faRightToBracket=hg,this.faRefresh=fs,this.faEye=ds,this.faEyeSlash=Yl,this.faCheck=iG,this.initializeForms()}ngOnInit(){this.getCachedData(),this.loadCachedViewState(),this.loadProfileData(),this.fetchTradingAccounts(),this.fetchedUserPreferences()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.users&&(this.users=i.users)}ngOnDestroy(){this.totpRefreshTimers.forEach(i=>{i&&i.unsubscribe()}),this.totpRefreshTimers.clear(),this.totpData.clear(),this.destroy$.next(),this.destroy$.complete()}initializeForms(){this.profileForm=this.fb.group({fullName:["",[Ue.required,Ue.minLength(2)]],userName:["",[Ue.required,Ue.minLength(3)]]}),this.passwordForm=this.fb.group({oldPassword:["",[Ue.required,Ue.minLength(6)]],newPassword:["",[Ue.required,Ue.minLength(6)]],confirmPassword:["",[Ue.required,Ue.minLength(6)]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(i){let r=i.get("newPassword")?.value,o=i.get("confirmPassword")?.value;return r&&o&&r!==o?{passwordMismatch:!0}:null}loadCachedViewState(){let i=this.userViewStateService.getState();i?.profile?.selectedTab&&(this.activeTab=i.profile.selectedTab)}saveUserViewState(){this.userViewStateService.setState({profile:{selectedTab:this.activeTab}})}loadProfileData(){this.isLoadingProfile=!0,this.applicationUserService.getApplicationUserProfile().subscribe({next:i=>{i.data&&(this.profile=i.data,this.profileForm.patchValue({fullName:this.profile.fullName,userName:this.profile.userName})),this.isLoadingProfile=!1},error:i=>{this.isLoadingProfile=!1,i.error.message?this.toastrService.error(i.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching user profile. Verify that the backend service is operational.","Error")}})}setActiveTab(i){this.activeTab=i,this.saveUserViewState()}onUpdateProfile(){if(this.profileForm.invalid){this.toastrService.error("Please fix the form errors","Validation Error");return}this.isUpdatingProfile=!0;let i={fullName:this.profileForm.value.fullName.trim(),userName:this.profileForm.value.userName.trim()};this.profileService.updateProfile(i).pipe(nn(this.destroy$)).subscribe({next:r=>{this.toastrService.success("Profile updated successfully","Success"),this.isUpdatingProfile=!1,i.userName!==this.profile.userName?setTimeout(()=>{this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"username-changed"}})},1500):setTimeout(()=>{this.loadProfileData()},500)},error:r=>{this.isUpdatingProfile=!1;let o=r.error?.message||"Failed to update profile";this.toastrService.error(o,"Error")}})}onChangePassword(){if(this.passwordForm.invalid){this.toastrService.error("Please fix the form errors","Validation Error");return}this.isChangingPassword=!0;let i=this.passwordForm.value;this.profileService.changePassword(i).pipe(nn(this.destroy$)).subscribe({next:r=>{this.toastrService.success("Password changed successfully. Please log in again.","Success"),this.isChangingPassword=!1,setTimeout(()=>{this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"password-changed"}})},1500)},error:r=>{this.isChangingPassword=!1;let o=r.error?.message||"Failed to change password";this.toastrService.error(o,"Error")}})}togglePasswordVisibility(i){switch(i){case"old":this.showOldPassword=!this.showOldPassword;break;case"new":this.showNewPassword=!this.showNewPassword;break;case"confirm":this.showConfirmPassword=!this.showConfirmPassword;break}}fetchedUserPreferences(i){this.userPreferencesService.getUserPreferences().subscribe({next:r=>{this.userPreferences=r.data},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching user preferences. Verify that the backend service is operational.","Error")}})}trackById(i,r){return r.id}onChange(i){this.userPreferencesService.updatePreferenceValue(i.id,i.value).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchedUserPreferences()},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})}getPreferenceValueColor(i){return i==="NO"||i==="NONE"?"red":i==="YES"||i==="BOTH"?"green":"blue"}getActionButtons(i){let r=this.actions;return i.active?r=r.filter(o=>o.action!=="link"):r=r.filter(o=>o.action!=="unlink"),r}getTokenStatusColor(i){return i==="Valid"?"green":"red"}fetchTradingAccounts(){this.isTradingAccountsRefreshing=!0,this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data,this.isTradingAccountsRefreshing=!1,this.users.forEach(r=>{this.fetchAndDisplayTotp(r.userId)})},error:i=>{i.error.message?this.toastrService.error(i.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error"),this.isTradingAccountsRefreshing=!1}})}renewTokensForAll(){this.alertService.confirm("Renew All Tokens","Are you sure you want to renew tokens for all trading accounts? Note: Only accounts with both password and TOTP key configured will be renewed.",()=>{this.isRenewingTokens=!0,this.userService.renewTokensForAll().subscribe({next:i=>{this.toastrService.success(i.data.toString(),"Success"),this.fetchTradingAccounts(),this.isRenewingTokens=!1},error:i=>{this.toastrService.error(i.error.message,"Error"),console.error(i),this.isRenewingTokens=!1}})})}handleAction(i){i.action==="login"?this.renewToken(i.row):i.action==="modify"?this.updateTradingAccount(i.row):i.action==="delete"?this.deleteTradingAccount(i.row):i.action==="unlink"?this.temporarilyUnmapTradingAccount(i.row):i.action==="link"?this.mapTradingAccount(i.row):i.action==="info"&&this.showInfo(i.row)}renewToken(i){i.kiteLoginEndPoint?window.open(i.kiteLoginEndPoint,"_blank","noopener,noreferrer"):console.error("Kite login end point is not available for this user")}updateTradingAccount(i){this.userService.getTradingAccount(i.userId).subscribe({next:r=>{let o=r.data;this.dialog.open(GZ,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{tradingAccount:o}}).afterClosed().subscribe(s=>{this.fetchTradingAccounts()})},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error")}})}onboardTradingAccount(){this.dialog.open(WZ,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{}}).afterClosed().subscribe(r=>{this.fetchTradingAccounts()})}deleteTradingAccount(i){this.alertService.confirm(`Delete Trading Account: ${i.userId}`,`Are you sure you want to delete ${i.userId} trading account?`,()=>{this.userService.deleteTradingAccount(i.userId).subscribe({next:r=>{this.toastrService.success("Trading account deleted successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while deleting trading account:",r),this.toastrService.error(r.error.message,"Error")}})})}temporarilyUnmapTradingAccount(i){this.userService.unmapTradingAccount(i.userId).subscribe({next:r=>{this.toastrService.success("Trading account unmapped successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while temporarily unmapping trading account:",r),this.toastrService.error(r.error.message,"Error")}})}mapTradingAccount(i){this.userService.mapTradingAccount(i.userId).subscribe({next:r=>{this.toastrService.success("Trading account mapped successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while mapping trading account:",r),this.toastrService.error(r.error.message,"Error")}})}showInfo(i){let r=Q({name:i.name,userId:i.userId,tokenStatus:i.tokenStatus,active:i.active},i.profile);this.utilsService.showInfo(r,`User Profile - ${i.name}`)}fetchAndDisplayTotp(i){this.userService.getTotp(i).subscribe({next:r=>{let o=String(r.data);this.totpData.set(i,{value:o,timeRemaining:30}),this.startTotpRefreshTimer(i)},error:r=>{console.error(`Error while fetching TOTP for ${i}:`,r)}})}startTotpRefreshTimer(i){this.totpRefreshTimers.has(i)&&this.totpRefreshTimers.get(i)?.unsubscribe();let r=Wd(1e3).pipe(nn(this.destroy$)).subscribe(()=>{let o=this.totpData.get(i);o&&(o.timeRemaining--,o.timeRemaining<=0&&this.fetchAndDisplayTotp(i))});this.totpRefreshTimers.set(i,r)}copyTotpToClipboard(i,r){r.stopPropagation();let o=this.totpData.get(i);o?.value&&navigator.clipboard.writeText(o.value).then(()=>{this.toastrService.success("TOTP copied to clipboard!","Success")}).catch(()=>{this.toastrService.error("Failed to copy TOTP to clipboard","Error")})}getTotpDisplayData(i){return this.totpData.get(i)}refreshTradingAccounts(){this.isTradingAccountsRefreshing=!0,this.fetchTradingAccounts()}get sortedUsers(){return!this.tradingAccountsSortColumn||!this.tradingAccountsSortDirection?this.users:[...this.users].sort((i,r)=>this.compareTradingAccounts(i,r))}setTradingAccountsSort(i){if(this.tradingAccountsSortColumn===i){this.tradingAccountsSortDirection=this.tradingAccountsSortDirection==="desc"?"asc":"desc";return}this.tradingAccountsSortColumn=i,this.tradingAccountsSortDirection="asc"}getTradingAccountsSortIndicator(i){return this.tradingAccountsSortColumn!==i||!this.tradingAccountsSortDirection?"":this.tradingAccountsSortDirection==="asc"?"\u2191":"\u2193"}compareTradingAccounts(i,r){let o=this.tradingAccountsSortColumn?this.tradingAccountsSortAccessors[this.tradingAccountsSortColumn]:null;if(!o||!this.tradingAccountsSortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.tradingAccountsSortDirection==="asc"?-1:1;if(s==null)return this.tradingAccountsSortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.tradingAccountsSortDirection==="asc"?l:-l}get sortedUserPreferences(){return!this.preferencesSortColumn||!this.preferencesSortDirection?this.userPreferences:[...this.userPreferences].sort((i,r)=>this.comparePreferences(i,r))}setPreferencesSort(i){if(this.preferencesSortColumn===i){this.preferencesSortDirection=this.preferencesSortDirection==="desc"?"asc":"desc";return}this.preferencesSortColumn=i,this.preferencesSortDirection="asc"}getPreferencesSortIndicator(i){return this.preferencesSortColumn!==i||!this.preferencesSortDirection?"":this.preferencesSortDirection==="asc"?"\u2191":"\u2193"}comparePreferences(i,r){let o=this.preferencesSortColumn?this.preferencesSortAccessors[this.preferencesSortColumn]:null;if(!o||!this.preferencesSortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.preferencesSortDirection==="asc"?-1:1;if(s==null)return this.preferencesSortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.preferencesSortDirection==="asc"?l:-l}};t.\u0275fac=function(r){return new(r||t)(V(tr),V(zv),V($Z),V(YZ),V(ar),V(nt),V(un),V(Rr),V(Fo),V(Xn),V(In),V(Un),V(Dn))},t.\u0275cmp=ie({type:t,selectors:[["app-profile"]],decls:4,vars:2,consts:[[1,"page-container"],[1,""],["class","flex flex-col items-center justify-center py-16",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"flex","flex-col","items-center","justify-center","py-16"],[1,"text-4xl","text-blue-500","animate-spin","mb-4",3,"icon"],[1,"text-gray-600"],[1,"space-y-6"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","animate-fade-in",4,"ngIf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"animate-fade-in"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-md","shadow-md","p-6","md:p-6","border","border-gray-100","transition-shadow"],[1,"mb-6"],[1,"text-xl","font-bold","text-gray-800","flex","items-center","gap-2"],[1,"text-blue-600"],[1,"text-sm","text-gray-500","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","fullName",1,"block","text-sm","text-gray-700"],["id","fullName","type","text","formControlName","fullName","placeholder","Enter your full name",1,"form-control"],["class","mt-1.5 text-sm text-red-600 space-y-0.5",4,"ngIf"],["for","userName",1,"block","text-sm","text-gray-700"],["id","userName","type","text","formControlName","userName","placeholder","Enter your username",1,"form-control","mb-2"],[1,"mt-2","text-sm","text-amber-600","flex","items-center","gap-1.5"],[1,"bg-gradient-to-br","from-blue-50","to-indigo-50","rounded-md","p-4","border","border-blue-200"],[1,"font-semibold","text-gray-900","mb-3","text-sm"],[1,"space-y-2"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","text-sm","font-medium"],[1,"text-gray-900","text-sm"],[1,"pt-1"],["type","submit",1,"w-full","px-6","py-3","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","disabled:bg-gray-400","disabled:cursor-not-allowed","transition-colors","font-medium","flex","items-center","justify-center","gap-2","text-sm","shadow-md","hover:shadow-lg",3,"disabled"],[3,"icon",4,"ngIf"],["class","animate-spin",3,"icon",4,"ngIf"],[1,"text-orange-600"],["for","oldPassword",1,"block","text-sm","text-gray-700"],[1,"relative"],["id","oldPassword","formControlName","oldPassword","placeholder","Enter your current password",1,"form-control",3,"type"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-500","hover:text-gray-700","transition",3,"click"],[1,"text-lg",3,"icon"],["for","newPassword",1,"block","text-sm","text-gray-700"],["id","newPassword","formControlName","newPassword","placeholder","Enter your new password",1,"form-control",3,"type"],["for","confirmPassword",1,"block","text-sm","text-gray-700"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your new password",1,"form-control",3,"type"],[1,"bg-gradient-to-br","from-orange-50","to-amber-50","border","border-orange-200","rounded-md","p-4"],[1,"font-semibold","text-orange-900","text-sm","flex","items-center","gap-2"],[1,"text-sm","text-orange-800","space-y-2"],[1,"flex","items-center","gap-2"],[1,"text-green-600","font-bold"],[1,"text-amber-600","font-bold"],["type","submit",1,"w-full","px-6","py-3","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:bg-gray-400","disabled:cursor-not-allowed","transition-colors","font-medium","flex","items-center","justify-center","gap-2","text-sm","shadow-md","hover:shadow-lg",3,"disabled"],[1,"mt-1.5","text-sm","text-red-600","space-y-0.5"],[4,"ngIf"],[3,"icon"],[1,"animate-spin",3,"icon"],["class","mb-4 flex justify-between items-center flex-wrap gap-2",4,"ngIf"],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"mb-4","flex","justify-between","items-center","flex-wrap","gap-2"],[1,"flex","gap-2"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none","flex","items-center",3,"click","disabled"],[1,"mr-1",3,"icon"],["class","text-sm text-blue-600 hover:underline focus:outline-none flex items-center",3,"disabled","click",4,"ngIf"],["matTooltip","Onboard Trading Account",1,"px-3","py-2","rounded-md","bg-green-500","text-white","hover:bg-green-600","shadow-sm","transition-all","flex","items-center","gap-2",3,"click"],[1,"text-white",3,"icon"],["class","mr-1",3,"icon",4,"ngIf"],["class","fa-spin mr-1",3,"icon",4,"ngIf"],[1,"fa-spin","mr-1",3,"icon"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngClass"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],["width","32","height","32",1,"object-cover","border","border-gray-300","shadow-sm","rounded",3,"ngSrc","alt"],[3,"text","color"],[1,"text-xs","text-gray-400"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],[1,"cursor-pointer","text-sm",3,"click","matTooltip","text","color"],[1,"text-xs","text-gray-500","font-medium","min-w-[28px]","text-center"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","uppercase","whitespace-nowrap"],[1,"px-2","md:px-4","py-2","md:py-3","text-gray-500","whitespace-nowrap"],[1,"border","border-gray-300","rounded-md","px-2","py-1","w-full","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","text-sm",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(p(0,"div",0)(1,"div",1),A(2,Twe,4,1,"div",2)(3,vMe,7,4,"div",3),h()()),r&2&&(g(2),x("ngIf",o.isLoadingProfile),g(),x("ngIf",!o.isLoadingProfile&&o.profile))},dependencies:[We,Oe,Ae,ye,hn,Or,La,Aa,Yt,Ao,Zt,Pr,Gi,di,_r,br,at,gn,jr,kr,Bt,ti],encapsulation:2});let n=t;return n})();function yMe(n,t){n&1&&(p(0,"div",1)(1,"p",3),y(2,"No users to display"),h()())}function _Me(n,t){if(n&1&&(p(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("id"))}}function bMe(n,t){if(n&1&&(p(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("userName"))}}function xMe(n,t){if(n&1&&(p(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("fullName"))}}function CMe(n,t){if(n&1&&(p(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("role"))}}function SMe(n,t){if(n&1&&(p(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("createdAt"))}}function wMe(n,t){if(n&1&&(p(0,"tr",13)(1,"td",14),y(2),h(),p(3,"td",14),y(4),h(),p(5,"td",14),y(6),h(),p(7,"td",14),y(8),h(),p(9,"td",14),y(10),$(11,"istDate"),h()()),n&2){let e=t.$implicit;g(2),j(e.id),g(2),j(e.userName),g(2),j(e.fullName),g(2),j(e.role),g(2),j(X(11,5,e.createdAt,"datetime-ordinal"))}}function MMe(n,t){if(n&1){let e=ee();p(0,"div",2)(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("id"))}),y(6," ID "),A(7,_Me,2,1,"span",9),h()(),p(8,"th",7)(9,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("userName"))}),y(10," USER NAME "),A(11,bMe,2,1,"span",9),h()(),p(12,"th",7)(13,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("fullName"))}),y(14," FULL NAME "),A(15,xMe,2,1,"span",9),h()(),p(16,"th",7)(17,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("role"))}),y(18," ROLE "),A(19,CMe,2,1,"span",9),h()(),p(20,"th",7)(21,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("createdAt"))}),y(22," CREATION DATE "),A(23,SMe,2,1,"span",9),h()()()(),p(24,"tbody",10),A(25,wMe,12,8,"tr",11),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("id")),g(4),x("ngIf",e.getSortIndicator("userName")),g(4),x("ngIf",e.getSortIndicator("fullName")),g(4),x("ngIf",e.getSortIndicator("role")),g(4),x("ngIf",e.getSortIndicator("createdAt")),g(2),x("ngForOf",e.sortedRows)}}var XZ=(()=>{let t=class t{constructor(){this.rows=[],this.sortColumn="createdAt",this.sortDirection="asc",this.sortAccessors={id:i=>(i.id??"").toString().toLowerCase(),userName:i=>(i.userName??"").toString().toLowerCase(),fullName:i=>(i.fullName??"").toString().toLowerCase(),role:i=>(i.role??"").toString().toLowerCase(),createdAt:i=>i.createdAt??0}}get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((i,r)=>this.compareRows(i,r))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection="asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-application-users-table"]],inputs:{rows:"rows"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,yMe,3,0,"div",1)(2,MMe,26,6,"div",2),h()),r&2&&(g(),Wt(!o.rows||o.rows.length===0?1:2))},dependencies:[We,Ae,ye,ti],encapsulation:2});let n=t;return n})();var TMe=n=>({"text-red-500 hover:text-red-600":n});function EMe(n,t){n&1&&(p(0,"div",1)(1,"p",3),y(2,"No scheduled tasks to display"),h()())}function DMe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("schedulerName"))}}function IMe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("cronExpression"))}}function LMe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("lastExecutionDate"))}}function AMe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("executionStartTime"))}}function zMe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("executionEndTime"))}}function kMe(n,t){if(n&1&&(p(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function NMe(n,t){if(n&1){let e=ee();p(0,"tr",14)(1,"td",15)(2,"div",16),O(3,"app-small-chip",17),p(4,"span",18),y(5),h()()(),p(6,"td",15)(7,"span",18),y(8),p(9,"span",19),y(10),h()()(),p(11,"td",15),y(12),$(13,"istDate"),h(),p(14,"td",15),y(15),$(16,"istDate"),h(),p(17,"td",15),y(18),$(19,"istDate"),h(),p(20,"td",15),O(21,"app-small-chip",20),h(),p(22,"td",21)(23,"app-action-menu",22),z("handleAction",function(r){k(e);let o=M(2);return N(o.handleAction(r))}),h()()()}if(n&2){let e=t.$implicit,i=M(2);x("ngClass",bi(25,TMe,e.errorMessage)),g(3),x("text",e.isActive?"ACTIVE":"PAUSED")("color",i.getStatusColor(e.isActive?"ACTIVE":"PAUSED")),g(),x("matTooltip",e.description),g(),j(e.schedulerName),g(2),x("matTooltip",e.cronDescription),g(),H("",e.cronExpression," "),g(2),j(e.timeZone),g(2),H(" ",X(13,16,e.lastExecutionDate,"date-ordinal")," "),g(3),H(" ",X(16,19,e.executionStartTime,"time-no-mod")," "),g(3),H(" ",X(19,22,e.executionEndTime,"time-no-mod")," "),g(3),x("matTooltip",e.errorMessage?e.errorMessage:"")("text",e.status)("color",i.getStatusColor(e.status)),g(2),x("row",e)("actions",i.getActionButtons(e))}}function PMe(n,t){if(n&1){let e=ee();p(0,"div",2)(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("schedulerName"))}),y(6," NAME "),A(7,DMe,2,1,"span",9),h()(),p(8,"th",7)(9,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("cronExpression"))}),y(10," CRON EXPRESSION "),A(11,IMe,2,1,"span",9),h()(),p(12,"th",7)(13,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("lastExecutionDate"))}),y(14," LAST EXECUTION DATE "),A(15,LMe,2,1,"span",9),h()(),p(16,"th",7)(17,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("executionStartTime"))}),y(18," START TIME "),A(19,AMe,2,1,"span",9),h()(),p(20,"th",7)(21,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("executionEndTime"))}),y(22," END TIME "),A(23,zMe,2,1,"span",9),h()(),p(24,"th",7)(25,"button",8),z("click",function(){k(e);let r=M();return N(r.setSort("status"))}),y(26," STTAUS "),A(27,kMe,2,1,"span",9),h()(),p(28,"th",10),y(29,"ACTION"),h()()(),p(30,"tbody",11),A(31,NMe,24,27,"tr",12),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("schedulerName")),g(4),x("ngIf",e.getSortIndicator("cronExpression")),g(4),x("ngIf",e.getSortIndicator("lastExecutionDate")),g(4),x("ngIf",e.getSortIndicator("executionStartTime")),g(4),x("ngIf",e.getSortIndicator("executionEndTime")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngForOf",e.sortedRows)}}var QZ=(()=>{let t=class t{constructor(){this.rows=[],this.handleClickAction=new be,this.actions=[],this.sortColumn="executionStartTime",this.sortDirection="desc",this.sortAccessors={schedulerName:i=>(i.schedulerName??"").toString().toLowerCase(),cronExpression:i=>(i.cronExpression??"").toString().toLowerCase(),lastExecutionDate:i=>i.lastExecutionDate??0,executionStartTime:i=>i.executionStartTime??0,executionEndTime:i=>i.executionEndTime??0,status:i=>(i.status??"").toString().toLowerCase()}}get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((i,r)=>this.compareRows(i,r))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection="asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}getActionButtons(i){return i.isActive?this.actions.filter(r=>r.action!=="activate"):this.actions.filter(r=>r.action!=="pause")}handleAction(i){this.handleClickAction.emit(i)}getStatusColor(i){switch(i?.toUpperCase()){case"COMPLETED":case"ACTIVE":return"green";case"IN_PROGRESS":return"blue";case"FAILED":return"red";case"PAUSED":return"orange";default:return"gray"}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-scheduled-tasks-table"]],inputs:{rows:"rows",actions:"actions"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngClass"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[3,"text","color"],[3,"matTooltip"],[1,"text-sm","text-gray-400","uppercase","ml-1"],[3,"matTooltip","text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"]],template:function(r,o){r&1&&(p(0,"div",0),Gt(1,EMe,3,0,"div",1)(2,PMe,32,7,"div",2),h()),r&2&&(g(),Wt(!o.rows||o.rows.length===0?1:2))},dependencies:[We,Oe,Ae,ye,jr,gn,Bt,ti],encapsulation:2});let n=t;return n})();var KZ=(()=>{let t=class t{constructor(){this.message="Just a moment, we're preparing your view"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-data-loading-message"]],inputs:{message:"message"},decls:7,vars:0,consts:[[1,"relative","w-full"],[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-white/60","backdrop-blur-sm"],["role","status","aria-live","polite",1,"flex","items-center","space-x-3","p-6","rounded-md","bg-white","shadow-sm","border","border-blue-100"],["aria-hidden","true",1,"flex","space-x-2"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-1"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-2"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-3"]],template:function(r,o){r&1&&(es(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),C6(4,"div",4)(5,"div",5)(6,"div",6),l2()()()())},styles:["@keyframes _ngcontent-%COMP%_loader-bounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-6px) scale(1.1)}}.bounce-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loader-bounce .6s infinite ease-in-out}.bounce-delay-1[_ngcontent-%COMP%]{animation-delay:0s}.bounce-delay-2[_ngcontent-%COMP%]{animation-delay:.15s}.bounce-delay-3[_ngcontent-%COMP%]{animation-delay:.3s}"]});let n=t;return n})();var JZ=(()=>{let t=class t{constructor(i){this.api=i}getAllApplicationUsers(){return this.api.get("/v1/admin/users")}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var eX=(()=>{let t=class t{constructor(i){this.api=i}getScheduledTasks(){return this.api.get("/v1/admin/schedulers")}executeScheduledTask(i){return this.api.post(`/v1/admin/schedulers/${i}/execute`)}updateScheduledTaskStatus(i,r){return this.api.patch(`/v1/admin/schedulers/${i}/status`,r)}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var tX=(()=>{let t=class t{constructor(i){this.api=i}getApplicationLogs(i){return this.api.get(`/v1/logs/${i}`,{responseType:"text"})}getAlgoLogs(i){return this.api.get(`/v1/logs/algo/${i}`,{responseType:"text"})}};t.\u0275fac=function(r){return new(r||t)(ae(Vt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var BMe=["scrollContainer"];function VMe(n,t){n&1&&O(0,"span",13)}function UMe(n,t){if(n&1){let e=ee();p(0,"div",11),z("click",function(){let r=k(e).$implicit,o=M(2);return N(o.setActiveTab(r))}),y(1),A(2,VMe,1,0,"span",12),h()}if(n&2){let e=t.$implicit,i=M(2);Ce("active-tab",e===i.activeTab)("text-gray-700",e!==i.activeTab),g(),H(" ",e," "),g(),x("ngIf",e===i.activeTab)}}function HMe(n,t){if(n&1&&(p(0,"div",18),O(1,"app-application-users-table",19),h()),n&2){let e=M(3);g(),x("rows",e.applicationUsers)}}function jMe(n,t){n&1&&(p(0,"div",18)(1,"app-note",20),y(2," No application users have been onboarded to the application. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function GMe(n,t){if(n&1){let e=ee();p(0,"div",14)(1,"button",15),z("click",function(){k(e);let r=M(2);return N(r.refreshApplicationUsers())}),O(2,"fa-icon",16),p(3,"span"),y(4),h()(),A(5,HMe,2,1,"div",17)(6,jMe,3,3,"ng-template",null,0,Tn),h()}if(n&2){let e=pn(7),i=M(2);g(),x("disabled",i.isRefreshingUsers),g(),Ce("fa-spin",i.isRefreshingUsers),x("icon",i.isRefreshingUsers?i.faSpinner:i.faRefresh),g(2),j(i.isRefreshingUsers?"Loading":"Refresh"),g(),x("ngIf",i.applicationUsers.length>0)("ngIfElse",e)}}function WMe(n,t){if(n&1){let e=ee();p(0,"div",18)(1,"app-scheduled-tasks-table",21),z("handleClickAction",function(r){k(e);let o=M(3);return N(o.handleAction(r))}),h()()}if(n&2){let e=M(3);g(),x("rows",e.scheduledTasks)("actions",e.actions)}}function qMe(n,t){n&1&&(p(0,"div",18)(1,"app-note",20),y(2," No scheduled tasks to display. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function $Me(n,t){if(n&1){let e=ee();p(0,"div",14)(1,"button",15),z("click",function(){k(e);let r=M(2);return N(r.refreshScheduledTasks())}),O(2,"fa-icon",16),p(3,"span"),y(4),h()(),A(5,WMe,2,2,"div",17)(6,qMe,3,3,"ng-template",null,1,Tn),h()}if(n&2){let e=pn(7),i=M(2);g(),x("disabled",i.isRefreshingTasks),g(),Ce("fa-spin",i.isRefreshingTasks),x("icon",i.isRefreshingTasks?i.faSpinner:i.faRefresh),g(2),j(i.isRefreshingTasks?"Loading":"Refresh"),g(),x("ngIf",i.scheduledTasks.length>0)("ngIfElse",e)}}function YMe(n,t){if(n&1&&(p(0,"option",33),y(1),h()),n&2){let e=t.$implicit;x("value",e.value),g(),H(" ",e.label," ")}}function ZMe(n,t){if(n&1&&(p(0,"option",33),y(1),h()),n&2){let e=t.$implicit;x("value",e.value),g(),H(" ",e.label," ")}}function XMe(n,t){n&1&&(p(0,"div",42),O(1,"app-data-loading-message"),h())}function QMe(n,t){if(n&1&&(p(0,"div"),y(1),h()),n&2){let e=t.$implicit;g(),j(e)}}function KMe(n,t){if(n&1&&(At(0),A(1,QMe,2,1,"div",43),zt()),n&2){let e=M(3);g(),x("ngForOf",e.filteredLogs)}}function JMe(n,t){n&1&&(p(0,"div",45)(1,"app-note",20),y(2," No logs to display "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function eTe(n,t){if(n&1&&A(0,JMe,3,3,"div",44),n&2){let e=M(3);x("ngIf",!e.showLogLoader)}}function tTe(n,t){if(n&1){let e=ee();p(0,"div",14)(1,"div",22)(2,"div",23)(3,"select",24),bt("ngModelChange",function(r){k(e);let o=M(2);return Mt(o.logFileType,r)||(o.logFileType=r),N(r)}),z("ngModelChange",function(){k(e);let r=M(2);return N(r.onLogFileTypeChange())}),A(4,YMe,2,2,"option",25),h(),p(5,"select",26),bt("ngModelChange",function(r){k(e);let o=M(2);return Mt(o.logFileName,r)||(o.logFileName=r),N(r)}),z("ngModelChange",function(){k(e);let r=M(2);return N(r.onLogFileNameChange())}),A(6,ZMe,2,2,"option",25),h()(),p(7,"div",27)(8,"div",28),y(9),$(10,"date"),h(),p(11,"div",29)(12,"label",30)(13,"input",31),bt("ngModelChange",function(r){k(e);let o=M(2);return Mt(o.autoRefresh,r)||(o.autoRefresh=r),N(r)}),h(),y(14," Auto "),h(),p(15,"select",32),bt("ngModelChange",function(r){k(e);let o=M(2);return Mt(o.refreshInterval,r)||(o.refreshInterval=r),N(r)}),p(16,"option",33),y(17,"5s"),h(),p(18,"option",33),y(19,"10s"),h(),p(20,"option",33),y(21,"15s"),h(),p(22,"option",33),y(23,"30s"),h()(),p(24,"button",34),z("click",function(){k(e);let r=M(2);return N(r.refreshLogs())}),O(25,"fa-icon",35),y(26," Refresh "),h()()()(),p(27,"div",36)(28,"input",37),bt("ngModelChange",function(r){k(e);let o=M(2);return Mt(o.searchTerm,r)||(o.searchTerm=r),N(r)}),h(),p(29,"button",38),z("click",function(){k(e);let r=M(2);return N(r.performSearch())}),y(30," Search "),h()(),p(31,"div",39,2),A(33,XMe,2,0,"div",40)(34,KMe,2,1,"ng-container",41)(35,eTe,1,1,"ng-template",null,3,Tn),h()()}if(n&2){let e=pn(36),i=M(2);g(3),_t("ngModel",i.logFileType),g(),x("ngForOf",i.logFileTypeOptions),g(),_t("ngModel",i.logFileName),g(),x("ngForOf",i.logFileNameOptions),g(3),H("Last updated: ",X(10,20,i.lastUpdated,"shortTime")),g(4),_t("ngModel",i.autoRefresh),g(2),_t("ngModel",i.refreshInterval),x("disabled",!i.autoRefresh),g(),x("value",5e3),g(2),x("value",1e4),g(2),x("value",15e3),g(2),x("value",3e4),g(2),x("disabled",i.isRefreshingLogs),g(),Ce("fa-spin",i.isRefreshingLogs),x("icon",i.isRefreshingLogs?i.faSpinner:i.faRefresh),g(3),_t("ngModel",i.searchTerm),g(5),x("ngIf",i.showLogLoader),g(),x("ngIf",i.filteredLogs.length)("ngIfElse",e)}}function nTe(n,t){if(n&1&&(p(0,"div",6)(1,"div",7)(2,"div",8),A(3,UMe,3,6,"div",9),h()(),A(4,GMe,8,7,"div",10)(5,$Me,8,7,"div",10)(6,tTe,37,23,"div",10),h()),n&2){let e=M();g(3),x("ngForOf",e.tabs),g(),x("ngIf",e.activeTab==="Application Users"),g(),x("ngIf",e.activeTab==="Scheduled Tasks"),g(),x("ngIf",e.activeTab==="Log Viewer")}}var nX=(()=>{let t=class t{get autoRefresh(){return this._autoRefresh}set autoRefresh(i){this._autoRefresh=i,this.updateAutoRefreshTimer()}get refreshInterval(){return this._refreshInterval}set refreshInterval(i){this._refreshInterval=i,this.updateAutoRefreshTimer()}constructor(i,r,o,a,s,l,c,u){this.applicationUsersListService=i,this.scheduledTasksService=r,this.logsService=o,this.toastrService=a,this.userDataStateService=s,this.userViewStateService=l,this.utilsService=c,this.alertService=u,this.tabs=["Scheduled Tasks","Application Users","Log Viewer"],this.activeTab="Application Users",this.applicationUsers=[],this.isRefreshingUsers=!1,this.scheduledTasks=[],this.isRefreshingTasks=!1,this.logs="",this.searchTerm="",this.filteredLogs=[],this.logFileType="application",this.logFileName="fam-vest.log",this.isRefreshingLogs=!1,this.showLogLoader=!1,this.lastUpdated=new Date,this._autoRefresh=!0,this._refreshInterval=1e4,this.destroy$=new me,this.logFileTypeOptions=[{value:"application",label:"Application"},{value:"algo",label:"Algorithm"}],this.logFileNameOptions=[],this.applicationLogFiles=["fam-vest.log"],this.algoLogFiles=["straddle.log"],this.faSpinner=ko,this.faRefresh=fs,this.actions=[{action:"activate",color:"blue",label:"Activate Scheduled Task"},{action:"pause",color:"orange",label:"Pause Scheduled Task"},{action:"execute",color:"blue",label:"Execute Scheduled Task"},{action:"info",color:"gray",label:"Scheduled Task Details"}],this.faPlus=_2}ngOnInit(){this.loadCachedViewState(),this.getCachedData(),this.loadTabData()}ngOnDestroy(){clearInterval(this.timer),this.destroy$.next(),this.destroy$.complete()}loadCachedViewState(){let i=this.userViewStateService.getState();i?.administration?.selectedTab&&(this.activeTab=i.administration.selectedTab)}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.applicationUsers&&(this.applicationUsers=i.applicationUsers),i.scheduledTasks&&(this.scheduledTasks=i.scheduledTasks))}loadTabData(){this.fetchApplicationUsers(),this.fetchScheduledTasks(),this.initializeLogViewer(),this.fetchLogs()}setActiveTab(i){this.activeTab=i;let r=this.userViewStateService.getState();r.administration=r.administration||{},r.administration.selectedTab=i,this.userViewStateService.setState(r)}fetchApplicationUsers(){this.isRefreshingUsers=!0,this.applicationUsersListService.getAllApplicationUsers().pipe(nn(this.destroy$)).subscribe({next:i=>{this.applicationUsers=i.data||[],this.setCachedData(),this.isRefreshingUsers=!1},error:i=>{this.isRefreshingUsers=!1,this.toastrService.error(i.error?.message||"Error fetching application users","Error")}})}refreshApplicationUsers(){this.fetchApplicationUsers()}fetchScheduledTasks(){this.isRefreshingTasks=!0,this.scheduledTasksService.getScheduledTasks().pipe(nn(this.destroy$)).subscribe({next:i=>{this.scheduledTasks=i.data||[],this.setCachedData(),this.isRefreshingTasks=!1},error:i=>{this.isRefreshingTasks=!1,this.toastrService.error(i.error?.message||"Error fetching scheduled tasks","Error")}})}handleAction(i){(i.action==="activate"||i.action==="pause")&&this.toggleScheduledTaskStatus(i.action,i.row),i.action==="execute"?this.executeScheduledTask(i.row):i.action==="info"&&this.utilsService.showInfo(i.row,`Scheduled Task - ${i.row.schedulerName}`)}executeScheduledTask(i){this.alertService.confirm("Execute Scheduled Task","Are you sure you want to execute this scheduled task now? This will trigger immediate execution.",()=>{this.isRefreshingTasks=!0,i.status="IN_PROGRESS",this.scheduledTasksService.executeScheduledTask(i.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchScheduledTasks(),this.isRefreshingTasks=!1},error:r=>{this.isRefreshingTasks=!1,this.fetchScheduledTasks(),this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}toggleScheduledTaskStatus(i,r){this.scheduledTasksService.updateScheduledTaskStatus(r.id,{status:i}).subscribe({next:o=>{this.toastrService.success(o.message,"Success"),this.fetchScheduledTasks()},error:o=>{this.toastrService.error(o.error.message,"Error"),console.error(o)}})}refreshScheduledTasks(){this.fetchScheduledTasks()}initializeLogViewer(){this.updateLogFileOptions()}fetchLogs(){this.showLogLoader=!0,(this.logFileType==="application"?this.logsService.getApplicationLogs(this.logFileName):this.logsService.getAlgoLogs(this.logFileName)).pipe(nn(this.destroy$)).subscribe({next:r=>{this.logs=r,this.filterLogs(),this.lastUpdated=new Date,this.showLogLoader=!1,this.scrollToBottom()},error:r=>{this.showLogLoader=!1,this.logs="",this.filteredLogs=[],r.error?.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching logs.","Error")}})}filterLogs(){let i=this.logs.split(`
`);this.filteredLogs=this.searchTerm?i.filter(r=>r.toLowerCase().includes(this.searchTerm.toLowerCase())):i}performSearch(){this.showLogLoader=!0,setTimeout(()=>{this.filterLogs(),this.showLogLoader=!1},100)}refreshLogs(){this.fetchLogs()}scrollToBottom(){try{setTimeout(()=>{this.scrollContainer&&this.scrollContainer.nativeElement&&(this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight)},100)}catch(i){console.warn("Scroll failed:",i)}}updateAutoRefreshTimer(){clearInterval(this.timer),this.autoRefresh&&this.activeTab==="Log Viewer"&&(this.timer=setInterval(()=>{this.fetchLogs()},this.refreshInterval))}onLogFileTypeChange(){this.updateLogFileOptions(),this.fetchLogs()}onLogFileNameChange(){this.fetchLogs()}updateLogFileOptions(){this.logFileNameOptions=this.logFileType==="application"?this.applicationLogFiles.map(i=>({value:i,label:i})):this.algoLogFiles.map(i=>({value:i,label:i})),this.logFileName=this.logFileNameOptions.length>0?this.logFileNameOptions[0].value:""}setCachedData(){this.userDataStateService.setState({applicationUsers:this.applicationUsers,scheduledTasks:this.scheduledTasks})}};t.\u0275fac=function(r){return new(r||t)(V(JZ),V(eX),V(tX),V(nt),V(Dn),V(Un),V(In),V(Fo))},t.\u0275cmp=ie({type:t,selectors:[["app-administration"]],viewQuery:function(r,o){if(r&1&&Rn(BMe,5),r&2){let a;an(a=sn())&&(o.scrollContainer=a.first)}},decls:2,vars:1,consts:[["noApplicationUsers",""],["noScheduledTasks",""],["scrollContainer",""],["noLogsTemplate",""],[1,"page-container"],["class","space-y-6",4,"ngIf"],[1,"space-y-6"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","animate-fade-in",4,"ngIf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"animate-fade-in"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1","mb-4",3,"click","disabled"],[1,"mr-0.5",3,"icon"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"rows"],[3,"type","dismissible","atCenter"],[3,"handleClickAction","rows","actions"],[1,"flex","flex-col","md:flex-row","gap-3","md:items-center","md:justify-between","bg-white","p-4","rounded-md","border","border-gray-200","text-gray-700"],[1,"flex","flex-col","sm:flex-row","gap-2","w-full","md:w-auto"],[1,"border","px-3","py-1.5","rounded-md","text-sm",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"border","px-3","py-1.5","rounded-md","text-sm","flex-1","sm:min-w-[200px]",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-3","flex-wrap"],[1,"text-sm","text-gray-500","mr-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1","text-sm","whitespace-nowrap"],["type","checkbox",1,"form-checkbox",3,"ngModelChange","ngModel"],[1,"border","px-2","py-1.5","rounded-md","text-sm",3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"bg-blue-600","text-white","px-3","py-1.5","rounded-md","text-sm","whitespace-nowrap","flex-shrink-0","flex","items-center","gap-1",3,"click","disabled"],[3,"icon"],[1,"flex","gap-2","w-full","mt-3"],["type","text","placeholder","Search logs...",1,"border","px-3","py-1.5","rounded-md","text-sm","w-full",3,"ngModelChange","ngModel"],[1,"bg-blue-600","text-white","px-3","py-1.5","rounded-md","text-sm","whitespace-nowrap","flex-shrink-0",3,"click"],[1,"bg-black","text-green-400","text-sm","font-mono","p-4","rounded-md","min-h-[300px]","page-content","whitespace-pre-wrap","relative","mt-3"],["class","absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-70","z-10"],[4,"ngFor","ngForOf"],["class","h-full w-full flex items-center justify-center",4,"ngIf"],[1,"h-full","w-full","flex","items-center","justify-center"]],template:function(r,o){r&1&&(p(0,"div",4),A(1,nTe,7,4,"div",5),h()),r&2&&(g(),x("ngIf",!(o.activeTab==="Application Users"&&o.applicationUsers.length===0&&o.isRefreshingUsers||o.activeTab==="Scheduled Tasks"&&o.scheduledTasks.length===0&&o.isRefreshingTasks||o.activeTab==="Log Viewer"&&o.showLogLoader&&o.filteredLogs.length===0)))},dependencies:[We,Ae,ye,hn,La,Aa,Yt,m2,Ao,Zt,Gi,at,XZ,QZ,KZ,lr,jf],encapsulation:2});let n=t;return n})();var iX=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:UZ,canActivate:[go],data:{title:Gr.home}},{path:"watchlist",component:Mv,canActivate:[go],data:{title:Gr.watchlist,standaloneWatchlist:!0}},{path:"orders",component:oZ,canActivate:[go],data:{title:Gr.orders}},{path:"basket-order",component:jZ,canActivate:[go],data:{title:Gr.basketOrder}},{path:"holdings",component:fZ,canActivate:[go],data:{title:Gr.holdings}},{path:"positions",component:vZ,canActivate:[go],data:{title:Gr.positions}},{path:"funds",component:yZ,canActivate:[go],data:{title:Gr.funds}},{path:"mf",component:TZ,canActivate:[go],data:{title:Gr.mf}},{path:"algo",component:AZ,canActivate:[go],data:{title:Gr.algo}},{path:"historical-data",component:kZ,canActivate:[go],data:{title:Gr.historicalData}},{path:"administration",component:nX,canActivate:[go,NZ],data:{title:Gr.administration}},{path:"ipos",component:FZ,canActivate:[go],data:{title:Gr.ipos}},{path:"profile",component:ZZ,canActivate:[go],data:{title:Gr.myProfile}},{path:"login",component:_Z,canActivate:[go],data:{title:Gr.login}},{path:"signup",component:EZ,data:{title:Gr.signup}},{path:"**",redirectTo:"/home"}];function rX(n){return new se(3e3,!1)}function iTe(){return new se(3100,!1)}function rTe(){return new se(3101,!1)}function oTe(n){return new se(3001,!1)}function aTe(n){return new se(3003,!1)}function sTe(n){return new se(3004,!1)}function aX(n,t){return new se(3005,!1)}function sX(){return new se(3006,!1)}function lX(){return new se(3007,!1)}function cX(n,t){return new se(3008,!1)}function uX(n){return new se(3002,!1)}function dX(n,t,e,i,r){return new se(3010,!1)}function fX(){return new se(3011,!1)}function pX(){return new se(3012,!1)}function mX(){return new se(3200,!1)}function hX(){return new se(3202,!1)}function gX(){return new se(3013,!1)}function vX(n){return new se(3014,!1)}function yX(n){return new se(3015,!1)}function _X(n){return new se(3016,!1)}function bX(n,t){return new se(3404,!1)}function lTe(n){return new se(3502,!1)}function xX(n){return new se(3503,!1)}function CX(){return new se(3300,!1)}function SX(n){return new se(3504,!1)}function wX(n){return new se(3301,!1)}function MX(n,t){return new se(3302,!1)}function TX(n){return new se(3303,!1)}function EX(n,t){return new se(3400,!1)}function DX(n){return new se(3401,!1)}function IX(n){return new se(3402,!1)}function LX(n,t){return new se(3505,!1)}function R2(n){switch(n.length){case 0:return new hs;case 1:return n[0];default:return new t3(n)}}function BD(n,t,e=new Map,i=new Map){let r=[],o=[],a=-1,s=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==a,d=u&&s||new Map;l.forEach((f,m)=>{let v=m,_=f;if(m!=="offset")switch(v=n.normalizePropertyName(v,r),_){case uu:_=e.get(m);break;case Oa:_=i.get(m);break;default:_=n.normalizeStyleValue(m,v,_,r);break}d.set(v,_)}),u||o.push(d),s=d,a=c}),r.length)throw lTe(r);return o}function kv(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&OD(e,"start",n)));break;case"done":n.onDone(()=>i(e&&OD(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&OD(e,"destroy",n)));break}}function OD(n,t,e){let i=e.totalTime,r=!!e.disabled,o=Nv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),a=n._data;return a!=null&&(o._data=a),o}function Nv(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Bo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function VD(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var cTe=typeof document>"u"?null:document.documentElement;function Pv(n){let t=n.parentNode||n.host||null;return t===cTe?null:t}function uTe(n){return n.substring(1,6)=="ebkit"}var p3=null,oX=!1;function AX(n){p3||(p3=dTe()||{},oX=p3.style?"WebkitAppearance"in p3.style:!1);let t=!0;return p3.style&&!uTe(n)&&(t=n in p3.style,!t&&oX&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in p3.style)),t}function dTe(){return typeof document<"u"?document.body:null}function UD(n,t){for(;t;){if(t===n)return!0;t=Pv(t)}return!1}function HD(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var fTe=1e3,jD="{{",pTe="}}",GD="ng-enter",Ov="ng-leave",b8="ng-trigger",x8=".ng-trigger",WD="ng-animating",Rv=".ng-animating";function Ms(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:RD(parseFloat(t[1]),t[2])}function RD(n,t){switch(t){case"s":return n*fTe;default:return n}}function C8(n,t,e){return n.hasOwnProperty("duration")?n:hTe(n,t,e)}var mTe=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function hTe(n,t,e){let i,r=0,o="";if(typeof n=="string"){let a=n.match(mTe);if(a===null)return t.push(rX(n)),{duration:0,delay:0,easing:""};i=RD(parseFloat(a[1]),a[2]);let s=a[3];s!=null&&(r=RD(parseFloat(s),a[4]));let l=a[5];l&&(o=l)}else i=n;if(!e){let a=!1,s=t.length;i<0&&(t.push(iTe()),a=!0),r<0&&(t.push(rTe()),a=!0),a&&t.splice(s,0,rX(n))}return{duration:i,delay:r,easing:o}}function zX(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function E1(n,t,e){t.forEach((i,r)=>{let o=Fv(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function m0(n,t){t.forEach((e,i)=>{let r=Fv(i);n.style[r]=""})}function Eu(n){return Array.isArray(n)?n.length==1?n[0]:WW(n):n}function kX(n,t,e){let i=t.params||{},r=qD(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(oTe(o))})}var FD=new RegExp(`${jD}\\s*(.+?)\\s*${pTe}`,"g");function qD(n){let t=[];if(typeof n=="string"){let e;for(;e=FD.exec(n);)t.push(e[1]);FD.lastIndex=0}return t}function Du(n,t,e){let i=`${n}`,r=i.replace(FD,(o,a)=>{let s=t[a];return s==null&&(e.push(aTe(a)),s=""),s.toString()});return r==i?n:r}var gTe=/-+([a-z0-9])/g;function Fv(n){return n.replace(gTe,(...t)=>t[1].toUpperCase())}function NX(n,t){return n===0||t===0}function PX(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(s=>a.set(s,Bv(n,s)))}}return t}function Vo(n,t,e){switch(t.type){case vt.Trigger:return n.visitTrigger(t,e);case vt.State:return n.visitState(t,e);case vt.Transition:return n.visitTransition(t,e);case vt.Sequence:return n.visitSequence(t,e);case vt.Group:return n.visitGroup(t,e);case vt.Animate:return n.visitAnimate(t,e);case vt.Keyframes:return n.visitKeyframes(t,e);case vt.Style:return n.visitStyle(t,e);case vt.Reference:return n.visitReference(t,e);case vt.AnimateChild:return n.visitAnimateChild(t,e);case vt.AnimateRef:return n.visitAnimateRef(t,e);case vt.Query:return n.visitQuery(t,e);case vt.Stagger:return n.visitStagger(t,e);default:throw sTe(t.type)}}function Bv(n,t){return window.getComputedStyle(n)[t]}var cI=(()=>{class n{validateStyleProperty(e){return AX(e)}containsElement(e,i){return UD(e,i)}getParentElement(e){return Pv(e)}query(e,i,r){return HD(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],l){return new hs(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),h3=class{static NOOP=new cI},g3=class{};var vTe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Gv=class extends g3{normalizePropertyName(t,e){return Fv(t)}normalizeStyleValue(t,e,i,r){let o="",a=i.toString().trim();if(vTe.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(aX(t,i))}return a+o}};var Wv="*";function yTe(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>_Te(i,e,t)):e.push(n),e}function _Te(n,t,e){if(n[0]==":"){let l=bTe(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(yX(n)),t;let r=i[1],o=i[2],a=i[3];t.push(OX(r,a));let s=r==Wv&&a==Wv;o[0]=="<"&&!s&&t.push(OX(a,r))}function bTe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(_X(n)),"* => *"}}var Vv=new Set(["true","1"]),Uv=new Set(["false","0"]);function OX(n,t){let e=Vv.has(n)||Uv.has(n),i=Vv.has(t)||Uv.has(t);return(r,o)=>{let a=n==Wv||n==r,s=t==Wv||t==o;return!a&&e&&typeof r=="boolean"&&(a=r?Vv.has(n):Uv.has(n)),!s&&i&&typeof o=="boolean"&&(s=o?Vv.has(t):Uv.has(t)),a&&s}}var qX=":self",xTe=new RegExp(`s*${qX}s*,?`,"g");function $X(n,t,e,i){return new KD(n).build(t,e,i)}var RX="",KD=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new JD(e);return this._resetContextStyleTimingState(r),Vo(this,Eu(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=RX,t.collectedStyles=new Map,t.collectedStyles.set(RX,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return t.name.charAt(0)=="@"&&e.errors.push(sX()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==vt.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==vt.Transition){let l=this.visitTransition(s,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(lX())}),{type:vt.Trigger,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{qD(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(cX(t.name,[...o.values()]))}return{type:vt.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Vo(this,Eu(t.animation),e),r=yTe(t.expr,e.errors);return{type:vt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:m3(t.options)}}visitSequence(t,e){return{type:vt.Sequence,steps:t.steps.map(i=>Vo(this,i,e)),options:m3(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(a=>{e.currentTime=i;let s=Vo(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:vt.Group,steps:o,options:m3(t.options)}}visitAnimate(t,e){let i=MTe(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Cr({});if(o.type==vt.Keyframes)r=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;let c={};i.easing&&(c.easing=i.easing),a=Cr(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:vt.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of r)typeof s=="string"?s===Oa?i.push(s):e.errors.push(uX(s)):i.push(new Map(Object.entries(s)));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(jD)>=0){o=!0;break}}}),{type:vt.Style,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(dX(l,u.startTime,u.endTime,o,r)),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),e.options&&kX(s,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:vt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(fX()),i;let r=1,o=0,a=[],s=!1,l=!1,c=0,u=t.steps.map(C=>{let w=this._makeStyleAst(C,e),E=w.offset!=null?w.offset:wTe(w.styles),D=0;return E!=null&&(o++,D=w.offset=E),l=l||D<0||D>1,s=s||D<c,c=D,a.push(D),w});l&&e.errors.push(pX()),s&&e.errors.push(mX());let d=t.steps.length,f=0;o>0&&o<d?e.errors.push(hX()):o==0&&(f=r/(d-1));let m=d-1,v=e.currentTime,_=e.currentAnimateTimings,b=_.duration;return u.forEach((C,w)=>{let E=f>0?w==m?1:f*w:a[w],D=E*b;e.currentTime=v+_.delay+D,_.duration=D,this._validateStyleAst(C,e),C.offset=E,i.styles.push(C)}),i}visitReference(t,e){return{type:vt.Reference,animation:Vo(this,Eu(t.animation),e),options:m3(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:vt.AnimateChild,options:m3(t.options)}}visitAnimateRef(t,e){return{type:vt.AnimateRef,animation:this.visitReference(t.animation,e),options:m3(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,a]=CTe(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Bo(e.collectedStyles,e.currentQuerySelector,new Map);let s=Vo(this,Eu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:vt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:m3(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(gX());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:C8(t.timings,e.errors,!0);return{type:vt.Stagger,animation:Vo(this,Eu(t.animation),e),timings:i,options:null}}};function CTe(n){let t=!!n.split(/\s*,\s*/).find(e=>e==qX);return t&&(n=n.replace(xTe,"")),n=n.replace(/@\*/g,x8).replace(/@\w+/g,e=>x8+"-"+e.slice(1)).replace(/:animating/g,Rv),[n,t]}function STe(n){return n?Q({},n):null}var JD=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function wTe(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function MTe(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=C8(n,t).duration;return $D(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=$D(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=C8(e,t);return $D(r.duration,r.delay,r.easing)}function m3(n){return n?(n=Q({},n),n.params&&(n.params=STe(n.params))):n={},n}function $D(n,t,e){return{duration:n,delay:t,easing:e}}function uI(n,t,e,i,r,o,a=null,s=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var w8=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},TTe=1,ETe=":enter",DTe=new RegExp(ETe,"g"),ITe=":leave",LTe=new RegExp(ITe,"g");function YX(n,t,e,i,r,o=new Map,a=new Map,s,l,c=[]){return new eI().buildKeyframes(n,t,e,i,r,o,a,s,l,c)}var eI=class{buildKeyframes(t,e,i,r,o,a,s,l,c,u=[]){c=c||new w8;let d=new tI(t,e,c,r,o,u,[]);d.options=l;let f=l.delay?Ms(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([a],null,d.errors,l),Vo(this,i,d);let m=d.timelines.filter(v=>v.containsAnimation());if(m.length&&s.size){let v;for(let _=m.length-1;_>=0;_--){let b=m[_];if(b.element===e){v=b;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([s],null,d.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[uI(e,[],[],[],0,f,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let a=typeof o=="number"?o:Ms(Du(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,a=i.duration!=null?Ms(i.duration):null,s=i.delay!=null?Ms(i.delay):null;return a!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Vo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==vt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=qv);let a=Ms(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Vo(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ms(t.options.delay):0;t.steps.forEach(a=>{let s=e.createSubContext(t.options);o&&s.delayNextStep(o),Vo(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?Du(i,e.params,e.errors):i;return C8(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==vt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ms(r.delay):0;o&&(e.previousNode.type===vt.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qv);let a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),Vo(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;a=Math.max(a,f)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Vo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},qv={},tI=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=qv;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,a,s,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=l||new $v(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Ms(i.duration)),i.delay!=null&&(r.delay=Ms(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=Du(o[s],a,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=qv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new nI(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let s=[];if(r&&s.push(this.element),t.length>0){t=t.replace(DTe,"."+this._enterClassName),t=t.replace(LTe,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&s.length==0&&a.push(vX(e)),s}},$v=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=TTe,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Oa),this._currentKeyframe.set(e,Oa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=ATe(t,this._globalTimelineStyles);for(let[s,l]of a){let c=Du(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Oa),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((u,d)=>{u===uu?t.add(d):u===Oa&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...t.values()],a=[...e.values()];if(i){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return uI(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},nI=class extends $v{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,a,s=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=i+e,s=e/a,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",FX(s)),o.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let f=new Map(t[d]),m=f.get("offset"),v=e+m*i;f.set("offset",FX(v/a)),o.push(f)}i=a,e=0,r="",t=o}return uI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function FX(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function ATe(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,Oa)}else for(let[o,a]of r)e.set(o,a)}),e}function BX(n,t,e,i,r,o,a,s,l,c,u,d,f){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var YD={},Yv=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return zTe(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,s,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||YD,m=s&&s.params||YD,v=this.buildStyles(i,m,d),_=l&&l.params||YD,b=this.buildStyles(r,_,d),C=new Set,w=new Map,E=new Map,D=r==="void",L={params:ZX(_,f),delay:this.ast.options?.delay},P=u?[]:YX(t,e,this.ast.animation,o,a,v,b,L,c,d),F=0;return P.forEach(G=>{F=Math.max(G.duration+G.delay,F)}),d.length?BX(e,this._triggerName,i,r,D,v,b,[],[],w,E,F,d):(P.forEach(G=>{let q=G.element,Y=Bo(w,q,new Set);G.preStyleProps.forEach(Z=>Y.add(Z));let W=Bo(E,q,new Set);G.postStyleProps.forEach(Z=>W.add(Z)),q!==e&&C.add(q)}),BX(e,this._triggerName,i,r,D,v,b,P,[...C.values()],w,E,F))}};function zTe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function ZX(n,t){let e=Q({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var iI=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=ZX(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=Du(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),i.set(s,a)})}),i}};function kTe(n,t,e){return new rI(n,t,e)}var rI=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new iI(r.style,o,i))}),VX(this.states,"true","1"),VX(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Yv(t,r,this.states))}),this.fallbackTransition=NTe(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function NTe(n,t,e){let i=[(a,s)=>!0],r={type:vt.Sequence,steps:[],options:null},o={type:vt.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Yv(n,o,t)}function VX(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var PTe=new w8,oI=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],o=$X(this._driver,e,i,r);if(i.length)throw xX(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=BD(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),a,s=new Map;if(o?(a=YX(this._driver,e,o,GD,Ov,new Map,new Map,i,PTe,r),a.forEach(u=>{let d=Bo(s,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(CX()),a=[]),r.length)throw SX(r);s.forEach((u,d)=>{u.forEach((f,m)=>{u.set(m,this._driver.computeStyle(d,m,Oa))})});let l=a.map(u=>{let d=s.get(u.element);return this._buildPlayer(u,new Map,d)}),c=R2(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw wX(t);return e}listen(t,e,i,r){let o=Nv(e,"","","");return kv(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(t,e,a);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},UX="ng-animate-queued",OTe=".ng-animate-queued",ZD="ng-animate-disabled",RTe=".ng-animate-disabled",FTe="ng-star-inserted",BTe=".ng-star-inserted",VTe=[],XX={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},UTe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},D1="__ng_removed",M8=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=jTe(r),i){let o=t,{value:a}=o,s=vx(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},S8="void",XD=new M8(S8),aI=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Ua(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw MX(i,e);if(i==null||i.length==0)throw TX(e);if(!GTe(i))throw EX(i,e);let o=Bo(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);let s=Bo(this._engine.statesByElement,t,new Map);return s.has(e)||(Ua(t,b8),Ua(t,b8+"-"+e),s.set(e,XD)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw DX(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),a=new T8(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Ua(t,b8),Ua(t,b8+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e),c=new M8(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=XD),!(c.value===S8)&&l.value===c.value){if(!$Te(l.params,c.params)){let _=[],b=o.matchStyles(l.value,l.params,_),C=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{m0(t,b),E1(t,C)})}return}let f=Bo(this._engine.playersByElement,t,[]);f.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let m=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!m){if(!r)return;m=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:m,fromState:l,toState:c,player:a,isFallbackTransition:v}),v||(Ua(t,UX),a.onStart(()=>{Iu(t,UX)})),a.onDone(()=>{let _=this.players.indexOf(a);_>=0&&this.players.splice(_,1);let b=this._engine.playersByElement.get(t);if(b){let C=b.indexOf(a);C>=0&&b.splice(C,1)}}),this.players.push(a),f.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,x8,!0);i.forEach(r=>{if(r[D1])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),a=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,S8,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&R2(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=i.get(a)||XD,u=new M8(S8),d=new T8(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[D1];(!o||o===XX)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ua(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){let l=Nv(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,kv(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},sI=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new aI(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(Hv(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Hv(e))return;let o=e[D1];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){let a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ua(t,ZD)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Iu(t,ZD))}removeNode(t,e,i){if(Hv(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[D1]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Hv(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,x8,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Rv,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return R2(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[D1];if(e&&e.setForRemoval){if(t[D1]=XX,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ZD)&&this.markElementAsDisabled(t,!1),this.driver.query(t,RTe,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Ua(r,FTe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?R2(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw IX(t)}_flushAnimations(t,e){let i=new w8,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(ne=>{u.add(ne);let he=this.driver.query(ne,OTe,!0);for(let oe=0;oe<he.length;oe++)u.add(he[oe])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=GX(f,this.collectedEnterElements),v=new Map,_=0;m.forEach((ne,he)=>{let oe=GD+_++;v.set(he,oe),ne.forEach(ve=>Ua(ve,oe))});let b=[],C=new Set,w=new Set;for(let ne=0;ne<this.collectedLeaveElements.length;ne++){let he=this.collectedLeaveElements[ne],oe=he[D1];oe&&oe.setForRemoval&&(b.push(he),C.add(he),oe.hasAnimation?this.driver.query(he,BTe,!0).forEach(ve=>C.add(ve)):w.add(he))}let E=new Map,D=GX(f,Array.from(C));D.forEach((ne,he)=>{let oe=Ov+_++;E.set(he,oe),ne.forEach(ve=>Ua(ve,oe))}),t.push(()=>{m.forEach((ne,he)=>{let oe=v.get(he);ne.forEach(ve=>Iu(ve,oe))}),D.forEach((ne,he)=>{let oe=E.get(he);ne.forEach(ve=>Iu(ve,oe))}),b.forEach(ne=>{this.processLeaveNode(ne)})});let L=[],P=[];for(let ne=this._namespaceList.length-1;ne>=0;ne--)this._namespaceList[ne].drainQueuedTransitions(e).forEach(oe=>{let ve=oe.player,Ee=oe.element;if(L.push(ve),this.collectedEnterElements.length){let _n=Ee[D1];if(_n&&_n.setForMove){if(_n.previousTriggersValues&&_n.previousTriggersValues.has(oe.triggerName)){let Qi=_n.previousTriggersValues.get(oe.triggerName),Sn=this.statesByElement.get(oe.element);if(Sn&&Sn.has(oe.triggerName)){let kn=Sn.get(oe.triggerName);kn.value=Qi,Sn.set(oe.triggerName,kn)}}ve.destroy();return}}let Ge=!d||!this.driver.containsElement(d,Ee),Ye=E.get(Ee),Rt=v.get(Ee),Xe=this._buildInstruction(oe,i,Rt,Ye,Ge);if(Xe.errors&&Xe.errors.length){P.push(Xe);return}if(Ge){ve.onStart(()=>m0(Ee,Xe.fromStyles)),ve.onDestroy(()=>E1(Ee,Xe.toStyles)),r.push(ve);return}if(oe.isFallbackTransition){ve.onStart(()=>m0(Ee,Xe.fromStyles)),ve.onDestroy(()=>E1(Ee,Xe.toStyles)),r.push(ve);return}let Jt=[];Xe.timelines.forEach(_n=>{_n.stretchStartingKeyframe=!0,this.disabledNodes.has(_n.element)||Jt.push(_n)}),Xe.timelines=Jt,i.append(Ee,Xe.timelines);let Mr={instruction:Xe,player:ve,element:Ee};a.push(Mr),Xe.queriedElements.forEach(_n=>Bo(s,_n,[]).push(ve)),Xe.preStyleProps.forEach((_n,Qi)=>{if(_n.size){let Sn=l.get(Qi);Sn||l.set(Qi,Sn=new Set),_n.forEach((kn,ot)=>Sn.add(ot))}}),Xe.postStyleProps.forEach((_n,Qi)=>{let Sn=c.get(Qi);Sn||c.set(Qi,Sn=new Set),_n.forEach((kn,ot)=>Sn.add(ot))})});if(P.length){let ne=[];P.forEach(he=>{ne.push(LX(he.triggerName,he.errors))}),L.forEach(he=>he.destroy()),this.reportError(ne)}let F=new Map,G=new Map;a.forEach(ne=>{let he=ne.element;i.has(he)&&(G.set(he,he),this._beforeAnimationBuild(ne.player.namespaceId,ne.instruction,F))}),r.forEach(ne=>{let he=ne.element;this._getPreviousPlayers(he,!1,ne.namespaceId,ne.triggerName,null).forEach(ve=>{Bo(F,he,[]).push(ve),ve.destroy()})});let q=b.filter(ne=>WX(ne,l,c)),Y=new Map;jX(Y,this.driver,w,c,Oa).forEach(ne=>{WX(ne,l,c)&&q.push(ne)});let Z=new Map;m.forEach((ne,he)=>{jX(Z,this.driver,new Set(ne),l,uu)}),q.forEach(ne=>{let he=Y.get(ne),oe=Z.get(ne);Y.set(ne,new Map([...he?.entries()??[],...oe?.entries()??[]]))});let te=[],re=[],ce={};a.forEach(ne=>{let{element:he,player:oe,instruction:ve}=ne;if(i.has(he)){if(u.has(he)){oe.onDestroy(()=>E1(he,ve.toStyles)),oe.disabled=!0,oe.overrideTotalTime(ve.totalTime),r.push(oe);return}let Ee=ce;if(G.size>1){let Ye=he,Rt=[];for(;Ye=Ye.parentNode;){let Xe=G.get(Ye);if(Xe){Ee=Xe;break}Rt.push(Ye)}Rt.forEach(Xe=>G.set(Xe,Ee))}let Ge=this._buildAnimation(oe.namespaceId,ve,F,o,Z,Y);if(oe.setRealPlayer(Ge),Ee===ce)te.push(oe);else{let Ye=this.playersByElement.get(Ee);Ye&&Ye.length&&(oe.parentPlayer=R2(Ye)),r.push(oe)}}else m0(he,ve.fromStyles),oe.onDestroy(()=>E1(he,ve.toStyles)),re.push(oe),u.has(he)&&r.push(oe)}),re.forEach(ne=>{let he=o.get(ne.element);if(he&&he.length){let oe=R2(he);ne.setRealPlayer(oe)}}),r.forEach(ne=>{ne.parentPlayer?ne.syncPlayerEvents(ne.parentPlayer):ne.destroy()});for(let ne=0;ne<b.length;ne++){let he=b[ne],oe=he[D1];if(Iu(he,Ov),oe&&oe.hasAnimation)continue;let ve=[];if(s.size){let Ge=s.get(he);Ge&&Ge.length&&ve.push(...Ge);let Ye=this.driver.query(he,Rv,!0);for(let Rt=0;Rt<Ye.length;Rt++){let Xe=s.get(Ye[Rt]);Xe&&Xe.length&&ve.push(...Xe)}}let Ee=ve.filter(Ge=>!Ge.destroyed);Ee.length?WTe(this,he,Ee):this.processLeaveNode(he)}return b.length=0,te.forEach(ne=>{this.players.push(ne),ne.onDone(()=>{ne.destroy();let he=this.players.indexOf(ne);this.players.splice(he,1)}),ne.play()}),te}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(a=s)}else{let s=this.playersByElement.get(t);if(s){let l=!o||o==S8;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==o,d=Bo(i,c,[]);this._getPreviousPlayers(c,u,a,s,e.toState).forEach(m=>{let v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),d.push(m)})}m0(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){let s=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,f=e.timelines.map(v=>{let _=v.element;u.add(_);let b=_[D1];if(b&&b.removedBeforeQueried)return new hs(v.duration,v.delay);let C=_!==l,w=qTe((i.get(_)||VTe).map(F=>F.getRealPlayer())).filter(F=>{let G=F;return G.element?G.element===_:!1}),E=o.get(_),D=a.get(_),L=BD(this._normalizer,v.keyframes,E,D),P=this._buildPlayer(v,L,w);if(v.subTimeline&&r&&d.add(_),C){let F=new T8(t,s,_);F.setRealPlayer(P),c.push(F)}return P});c.forEach(v=>{Bo(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>HTe(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Ua(v,WD));let m=R2(f);return m.onDestroy(()=>{u.forEach(v=>Iu(v,WD)),E1(l,e.toStyles)}),d.forEach(v=>{Bo(r,v,[]).push(m)}),m}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hs(t.duration,t.delay)}},T8=class{namespaceId;triggerName;element;_player=new hs;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>kv(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function HTe(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function jTe(n){return n??null}function Hv(n){return n&&n.nodeType===1}function GTe(n){return n=="start"||n=="done"}function HX(n,t){let e=n.style.display;return n.style.display=t??"none",e}function jX(n,t,e,i,r){let o=[];e.forEach(l=>o.push(HX(l)));let a=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=t.computeStyle(c,d,r);u.set(d,f),(!f||f.length==0)&&(c[D1]=UTe,a.push(c))}),n.set(c,u)});let s=0;return e.forEach(l=>HX(l,o[s++])),a}function GX(n,t){let e=new Map;if(n.forEach(s=>e.set(s,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function a(s){if(!s)return i;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=a(c),o.set(s,l),l}return t.forEach(s=>{let l=a(s);l!==i&&e.get(l).push(s)}),e}function Ua(n,t){n.classList?.add(t)}function Iu(n,t){n.classList?.remove(t)}function WTe(n,t,e){R2(e).onDone(()=>n.processLeaveNode(t))}function qTe(n){let t=[];return QX(n,t),t}function QX(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof t3?QX(i.players,t):t.push(i)}}function $Te(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function WX(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var Lu=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new sI(t.body,e,i),this._timelineEngine=new oI(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let a=t+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],u=$X(this._driver,o,l,c);if(l.length)throw bX(r,l);s=kTe(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,a]=VD(i),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[a,s]=VD(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function YTe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=QD(t[0]),t.length>1&&(i=QD(t[t.length-1]))):t instanceof Map&&(e=QD(t)),e||i?new ZTe(n,e,i):null}var ZTe=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&E1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(E1(this._element,this._initialStyles),this._endStyles&&(E1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(m0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(m0(this._element,this._endStyles),this._endStyles=null),E1(this._element,this._initialStyles),this._state=3)}}return n})();function QD(n){let t=null;return n.forEach((e,i)=>{XTe(i)&&(t=t||new Map,t.set(i,e))}),t}function XTe(n){return n==="display"||n==="position"}var Zv=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){let r=this._convertKeyframesToObject(e);try{return t.animate(r,i)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:Bv(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Xv=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return UD(t,e)}getParentElement(t){return Pv(t)}query(t,e,i){return HD(t,e,i)}computeStyle(t,e,i){return Bv(t,e)}animate(t,e,i,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:i,delay:r,fill:s};o&&(l.easing=o);let c=new Map,u=a.filter(m=>m instanceof Zv);NX(i,r)&&u.forEach(m=>{m.currentSnapshot.forEach((v,_)=>c.set(_,v))});let d=zX(e).map(m=>new Map(m));d=PX(t,d,c);let f=YTe(t,d);return new Zv(t,d,l,f)}};var jv="@",KX="@.disabled",Qv=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i,r){if(r){this.delegate.removeChild(t,e,i,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==jv&&e==KX?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},lI=class extends Qv{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==jv?e.charAt(1)=="."&&e==KX?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==jv){let o=QTe(t),a=e.slice(1),s="";return a.charAt(0)!=jv&&([a,s]=KTe(a)),this.engine.listen(this.namespaceId,o,a,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(t,e,i,r)}};function QTe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function KTe(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Kv=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new Qv("",r,this.engine,d),c.set(r,u)}return u}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,a,t,c.name,c)};return e.data.animation.forEach(s),new lI(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var eEe=(()=>{class n extends Lu{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(ae(Te),ae(h3),ae(g3))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function tEe(){return new Gv}function nEe(n,t,e){return new Kv(n,t,e)}var JX=[{provide:g3,useFactory:tEe},{provide:Lu,useClass:eEe},{provide:vi,useFactory:nEe,deps:[Yf,Lu,Pe]}],iEe=[{provide:h3,useClass:cI},{provide:Dl,useValue:"NoopAnimations"},...JX],dI=[{provide:h3,useFactory:()=>new Xv},{provide:Dl,useFactory:()=>"BrowserAnimations"},...JX],eQ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?iEe:dI}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=gt({type:n});static \u0275inj=mt({providers:dI,imports:[aM]})}return n})();function tQ(){return Ta("NgEagerAnimations"),[...dI]}var nQ=(()=>{let t=class t{constructor(i,r){this.authUserService=i,this.router=r}intercept(i,r){if(this.authUserService.isLoggingOut())return console.warn("HTTP request blocked - user is logging out:",i.url),Bi;let o=this.authUserService.getToken(),a=i;return o&&(a=i.clone({headers:i.headers.set("Authorization",`Bearer ${o}`)})),r.handle(a).pipe(Ut(s=>s.status===401||s.status===403?(this.authUserService.isLoggingOut()||(this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"session-expired"}})),Bi):U1(()=>s)))}};t.\u0275fac=function(r){return new(r||t)(ae(ar),ae(un))},t.\u0275prov=K({token:t,factory:t.\u0275fac});let n=t;return n})();var lk={};Ko(lk,{Axis:()=>Eb,ChartView:()=>Sr,ComponentModel:()=>kt,ComponentView:()=>Kn,List:()=>db,Model:()=>$t,PRIORITY:()=>Cz,SeriesModel:()=>xo,color:()=>Dy,connect:()=>uke,dataTool:()=>vke,dependencies:()=>qze,disConnect:()=>dke,disconnect:()=>Pie,dispose:()=>fke,env:()=>Be,extendChartView:()=>zNe,extendComponentModel:()=>INe,extendComponentView:()=>LNe,extendSeriesModel:()=>ANe,format:()=>ak,getCoordinateSystemDimensions:()=>mke,getInstanceByDom:()=>Mz,getInstanceById:()=>pke,getMap:()=>gke,graphic:()=>ok,helper:()=>Qz,init:()=>cke,innerDrawElementOnCanvas:()=>Sd,matrix:()=>G2,number:()=>ik,parseGeoJSON:()=>Tb,parseGeoJson:()=>Tb,registerAction:()=>no,registerCoordinateSystem:()=>Iz,registerLayout:()=>Lz,registerLoading:()=>sb,registerLocale:()=>v_,registerMap:()=>zz,registerPostInit:()=>Ez,registerPostUpdate:()=>Dz,registerPreprocessor:()=>ob,registerProcessor:()=>ab,registerTheme:()=>Tz,registerTransform:()=>kz,registerUpdateLifecycle:()=>Gp,registerVisual:()=>al,setCanvasCreator:()=>hke,setPlatformAPI:()=>iy,throttle:()=>p4,time:()=>rk,use:()=>Fi,util:()=>sk,vector:()=>Ts,version:()=>Wze,zrUtil:()=>$e,zrender:()=>By});var wQ=D7(SQ(),1),{__extends:de,__assign:Z8t,__rest:X8t,__decorate:Q8t,__param:K8t,__metadata:J8t,__awaiter:ept,__generator:tpt,__exportStar:npt,__createBinding:ipt,__values:rpt,__read:opt,__spread:apt,__spreadArrays:spt,__spreadArray:lpt,__await:cpt,__asyncGenerator:upt,__asyncDelegator:dpt,__asyncValues:fpt,__makeTemplateObject:ppt,__importStar:mpt,__importDefault:hpt,__classPrivateFieldGet:gpt,__classPrivateFieldSet:vpt}=wQ.default;var By={};Ko(By,{dispose:()=>VDe,disposeAll:()=>UDe,getElementSSRData:()=>jDe,getInstance:()=>HDe,init:()=>Fy,registerPainter:()=>uL,registerSSRDataGetter:()=>dL,version:()=>GDe});var rEe=(function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n})(),oEe=(function(){function n(){this.browser=new rEe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n})(),h0=new oEe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(h0.wxa=!0,h0.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?h0.worker=!0:!h0.hasGlobalWindow||"Deno"in window?(h0.node=!0,h0.svgSupported=!0):aEe(navigator.userAgent,h0);function aEe(n,t){var e=t.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(e.firefox=!0,e.version=i[1]),r&&(e.ie=!0,e.version=r[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),a&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}var Be=h0;var $e={};Ko($e,{HashMap:()=>LQ,RADIAN_TO_DEGREE:()=>ay,assert:()=>Yi,bind:()=>ze,clone:()=>ke,concatArray:()=>vI,createCanvas:()=>yEe,createHashMap:()=>Le,createObject:()=>V2,curry:()=>ct,defaults:()=>Ne,disableUserSelect:()=>A8,each:()=>R,eqNaN:()=>y3,extend:()=>fe,filter:()=>vn,find:()=>_Ee,guid:()=>E8,hasOwn:()=>Uo,indexOf:()=>qe,inherits:()=>D8,isArray:()=>pe,isArrayLike:()=>Mi,isBuiltInObject:()=>pI,isDom:()=>F2,isFunction:()=>Ie,isGradientObject:()=>B2,isImagePatternObject:()=>gI,isNumber:()=>Ct,isObject:()=>we,isPrimitive:()=>zu,isRegExp:()=>xEe,isString:()=>_e,isStringSafe:()=>Nu,isTypedArray:()=>ai,keys:()=>Lt,logError:()=>v3,map:()=>ge,merge:()=>je,mergeAll:()=>vEe,mixin:()=>cr,noop:()=>fi,normalizeCssArray:()=>L8,reduce:()=>Wr,retrieve:()=>g0,retrieve2:()=>it,retrieve3:()=>v0,setAsPrimitive:()=>_3,slice:()=>I8,trim:()=>ur});var ny=12,sEe="sans-serif",I1=ny+"px "+sEe,lEe=20,cEe=100,uEe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function dEe(n){var t={};if(typeof JSON>"u")return t;for(var e=0;e<n.length;e++){var i=String.fromCharCode(e+32),r=(n.charCodeAt(e)-lEe)/cEe;t[i]=r}return t}var fEe=dEe(uEe),vo={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var n,t;return function(e,i){if(!n){var r=vo.createCanvas();n=r&&r.getContext("2d")}if(n)return t!==i&&(t=n.font=i||I1),n.measureText(e);e=e||"",i=i||I1;var o=/((?:\d+)?\.?\d*)px/.exec(i),a=o&&+o[1]||ny,s=0;if(i.indexOf("mono")>=0)s=a*e.length;else for(var l=0;l<e.length;l++){var c=fEe[e[l]];s+=c==null?a:c*a}return{width:s}}})(),loadImage:function(n,t,e){var i=new Image;return i.onload=t,i.onerror=e,i.src=n,i}};function iy(n){for(var t in vo)n[t]&&(vo[t]=n[t])}var TQ=Wr(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,t){return n["[object "+t+"]"]=!0,n},{}),EQ=Wr(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,t){return n["[object "+t+"Array]"]=!0,n},{}),ku=Object.prototype.toString,oy=Array.prototype,pEe=oy.forEach,mEe=oy.filter,mI=oy.slice,hEe=oy.map,MQ=(function(){}).constructor,ry=MQ?MQ.prototype:null,hI="__proto__",gEe=2311;function E8(){return gEe++}function v3(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];typeof console<"u"&&console.error.apply(console,n)}function ke(n){if(n==null||typeof n!="object")return n;var t=n,e=ku.call(n);if(e==="[object Array]"){if(!zu(n)){t=[];for(var i=0,r=n.length;i<r;i++)t[i]=ke(n[i])}}else if(EQ[e]){if(!zu(n)){var o=n.constructor;if(o.from)t=o.from(n);else{t=new o(n.length);for(var i=0,r=n.length;i<r;i++)t[i]=n[i]}}}else if(!TQ[e]&&!zu(n)&&!F2(n)){t={};for(var a in n)n.hasOwnProperty(a)&&a!==hI&&(t[a]=ke(n[a]))}return t}function je(n,t,e){if(!we(t)||!we(n))return e?ke(t):n;for(var i in t)if(t.hasOwnProperty(i)&&i!==hI){var r=n[i],o=t[i];we(o)&&we(r)&&!pe(o)&&!pe(r)&&!F2(o)&&!F2(r)&&!pI(o)&&!pI(r)&&!zu(o)&&!zu(r)?je(r,o,e):(e||!(i in n))&&(n[i]=ke(t[i]))}return n}function vEe(n,t){for(var e=n[0],i=1,r=n.length;i<r;i++)e=je(e,n[i],t);return e}function fe(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==hI&&(n[e]=t[e]);return n}function Ne(n,t,e){for(var i=Lt(t),r=0,o=i.length;r<o;r++){var a=i[r];(e?t[a]!=null:n[a]==null)&&(n[a]=t[a])}return n}var yEe=vo.createCanvas;function qe(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,i=n.length;e<i;e++)if(n[e]===t)return e}return-1}function D8(n,t){var e=n.prototype;function i(){}i.prototype=t.prototype,n.prototype=new i;for(var r in e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);n.prototype.constructor=n,n.superClass=t}function cr(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];o!=="constructor"&&(e?t[o]!=null:n[o]==null)&&(n[o]=t[o])}else Ne(n,t,e)}function Mi(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function R(n,t,e){if(n&&t)if(n.forEach&&n.forEach===pEe)n.forEach(t,e);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&t.call(e,n[o],o,n)}function ge(n,t,e){if(!n)return[];if(!t)return I8(n);if(n.map&&n.map===hEe)return n.map(t,e);for(var i=[],r=0,o=n.length;r<o;r++)i.push(t.call(e,n[r],r,n));return i}function Wr(n,t,e,i){if(n&&t){for(var r=0,o=n.length;r<o;r++)e=t.call(i,e,n[r],r,n);return e}}function vn(n,t,e){if(!n)return[];if(!t)return I8(n);if(n.filter&&n.filter===mEe)return n.filter(t,e);for(var i=[],r=0,o=n.length;r<o;r++)t.call(e,n[r],r,n)&&i.push(n[r]);return i}function _Ee(n,t,e){if(n&&t){for(var i=0,r=n.length;i<r;i++)if(t.call(e,n[i],i,n))return n[i]}}function Lt(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}function bEe(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return function(){return n.apply(t,e.concat(mI.call(arguments)))}}var ze=ry&&Ie(ry.bind)?ry.call.bind(ry.bind):bEe;function ct(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(mI.call(arguments)))}}function pe(n){return Array.isArray?Array.isArray(n):ku.call(n)==="[object Array]"}function Ie(n){return typeof n=="function"}function _e(n){return typeof n=="string"}function Nu(n){return ku.call(n)==="[object String]"}function Ct(n){return typeof n=="number"}function we(n){var t=typeof n;return t==="function"||!!n&&t==="object"}function pI(n){return!!TQ[ku.call(n)]}function ai(n){return!!EQ[ku.call(n)]}function F2(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function B2(n){return n.colorStops!=null}function gI(n){return n.image!=null}function xEe(n){return ku.call(n)==="[object RegExp]"}function y3(n){return n!==n}function g0(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,i=n.length;e<i;e++)if(n[e]!=null)return n[e]}function it(n,t){return n??t}function v0(n,t,e){return n??t??e}function I8(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return mI.apply(n,t)}function L8(n){if(typeof n=="number")return[n,n,n,n];var t=n.length;return t===2?[n[0],n[1],n[0],n[1]]:t===3?[n[0],n[1],n[2],n[1]]:n}function Yi(n,t){if(!n)throw new Error(t)}function ur(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var DQ="__ec_primitive__";function _3(n){n[DQ]=!0}function zu(n){return n[DQ]}var CEe=(function(){function n(){this.data={}}return n.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},n.prototype.has=function(t){return this.data.hasOwnProperty(t)},n.prototype.get=function(t){return this.data[t]},n.prototype.set=function(t,e){return this.data[t]=e,this},n.prototype.keys=function(){return Lt(this.data)},n.prototype.forEach=function(t){var e=this.data;for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},n})(),IQ=typeof Map=="function";function SEe(){return IQ?new Map:new CEe}var LQ=(function(){function n(t){var e=pe(t);this.data=SEe();var i=this;t instanceof n?t.each(r):t&&R(t,r);function r(o,a){e?i.set(o,a):i.set(a,o)}}return n.prototype.hasKey=function(t){return this.data.has(t)},n.prototype.get=function(t){return this.data.get(t)},n.prototype.set=function(t,e){return this.data.set(t,e),e},n.prototype.each=function(t,e){this.data.forEach(function(i,r){t.call(e,i,r)})},n.prototype.keys=function(){var t=this.data.keys();return IQ?Array.from(t):t},n.prototype.removeKey=function(t){this.data.delete(t)},n})();function Le(n){return new LQ(n)}function vI(n,t){for(var e=new n.constructor(n.length+t.length),i=0;i<n.length;i++)e[i]=n[i];for(var r=n.length,i=0;i<t.length;i++)e[i+r]=t[i];return e}function V2(n,t){var e;if(Object.create)e=Object.create(n);else{var i=function(){};i.prototype=n,e=new i}return t&&fe(e,t),e}function A8(n){var t=n.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Uo(n,t){return n.hasOwnProperty(t)}function fi(){}var ay=180/Math.PI;var KQ=D7(QQ(),1),{__extends:et,__assign:Spt,__rest:wpt,__decorate:Mpt,__param:Tpt,__metadata:Ept,__awaiter:Dpt,__generator:Ipt,__exportStar:Lpt,__createBinding:Apt,__values:zpt,__read:kpt,__spread:Npt,__spreadArrays:Ppt,__spreadArray:Opt,__await:Rpt,__asyncGenerator:Fpt,__asyncDelegator:Bpt,__asyncValues:Vpt,__makeTemplateObject:Upt,__importStar:Hpt,__importDefault:jpt,__classPrivateFieldGet:Gpt,__classPrivateFieldSet:Wpt}=KQ.default;var Ts={};Ko(Ts,{add:()=>uy,applyTransform:()=>Ti,clone:()=>_I,copy:()=>wEe,create:()=>U2,dist:()=>wI,distSquare:()=>y0,distance:()=>k8,distanceSquare:()=>JQ,div:()=>LEe,dot:()=>AEe,len:()=>xI,lenSquare:()=>CI,length:()=>EEe,lengthSquare:()=>DEe,lerp:()=>kEe,max:()=>ja,min:()=>Ha,mul:()=>IEe,negate:()=>zEe,normalize:()=>SI,scale:()=>z8,scaleAndAdd:()=>TEe,set:()=>MEe,sub:()=>bI});function U2(n,t){return n==null&&(n=0),t==null&&(t=0),[n,t]}function wEe(n,t){return n[0]=t[0],n[1]=t[1],n}function _I(n){return[n[0],n[1]]}function MEe(n,t,e){return n[0]=t,n[1]=e,n}function uy(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function TEe(n,t,e,i){return n[0]=t[0]+e[0]*i,n[1]=t[1]+e[1]*i,n}function bI(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function xI(n){return Math.sqrt(CI(n))}var EEe=xI;function CI(n){return n[0]*n[0]+n[1]*n[1]}var DEe=CI;function IEe(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n}function LEe(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n}function AEe(n,t){return n[0]*t[0]+n[1]*t[1]}function z8(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function SI(n,t){var e=xI(t);return e===0?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function k8(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var wI=k8;function JQ(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var y0=JQ;function zEe(n,t){return n[0]=-t[0],n[1]=-t[1],n}function kEe(n,t,e,i){return n[0]=t[0]+i*(e[0]-t[0]),n[1]=t[1]+i*(e[1]-t[1]),n}function Ti(n,t,e){var i=t[0],r=t[1];return n[0]=e[0]*i+e[2]*r+e[4],n[1]=e[1]*i+e[3]*r+e[5],n}function Ha(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function ja(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var Ou=(function(){function n(t,e){this.target=t,this.topTarget=e&&e.topTarget}return n})(),NEe=(function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Ou(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,r=t.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,e.drift(o,a,t),this.handler.dispatchToElement(new Ou(e,t),"drag",t.event);var s=this.handler.findHover(i,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Ou(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Ou(s,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Ou(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Ou(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n})(),eK=NEe;var PEe=(function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof e=="function"&&(r=i,i=e,e=null),!i||!t)return this;var a=this._$eventProcessor;e!=null&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===i)return this;var l={h:i,query:e,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},c=o[t].length-1,u=o[t][c];return u&&u.callAtLast?o[t].splice(c,0,l):o[t].push(l),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var r=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e&&r.push(i[t][o]);i[t]=r}i[t]&&i[t].length===0&&delete i[t]}else delete i[t];return this},n.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=r.length,l=0;l<s;l++){var c=r[l];if(!(o&&o.filter&&c.query!=null&&!o.filter(t,c.query)))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,e[0]);break;case 2:c.h.call(c.ctx,e[0],e[1]);break;default:c.h.apply(c.ctx,e);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=e[a-1],l=r.length,c=0;c<l;c++){var u=r[c];if(!(o&&o.filter&&u.query!=null&&!o.filter(t,u.query)))switch(a){case 0:u.h.call(s);break;case 1:u.h.call(s,e[0]);break;case 2:u.h.call(s,e[0],e[1]);break;default:u.h.apply(s,e.slice(1,a-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n})(),Ei=PEe;var OEe=Math.log(2);function MI(n,t,e,i,r,o){var a=i+"-"+r,s=n.length;if(o.hasOwnProperty(a))return o[a];if(t===1){var l=Math.round(Math.log((1<<s)-1&~r)/OEe);return n[e][l]}for(var c=i|1<<e,u=e+1;i&1<<u;)u++;for(var d=0,f=0,m=0;f<s;f++){var v=1<<f;v&r||(d+=(m%2?-1:1)*n[e][f]*MI(n,t-1,u,c,r|v,o),m++)}return o[a]=d,d}function TI(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],i={},r=MI(e,8,0,0,0,i);if(r!==0){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)o[s]==null&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*MI(e,7,a===0?1:0,1<<a,1<<s,i)/r*t[a];return function(l,c,u){var d=c*o[6]+u*o[7]+1;l[0]=(c*o[0]+u*o[1]+o[2])/d,l[1]=(c*o[3]+u*o[4]+o[5])/d}}}var tK="___zrEVENTSAVED",EI=[];function nK(n,t,e,i,r){return dy(EI,t,i,r,!0)&&dy(n,e,EI[0],EI[1])}function dy(n,t,e,i,r){if(t.getBoundingClientRect&&Be.domSupported&&!DI(t)){var o=t[tK]||(t[tK]={}),a=REe(t,o),s=FEe(a,o,r);if(s)return s(n,e,i),!0}return!1}function REe(n,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,c=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[c]+":0",i[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),n.appendChild(a),e.push(a)}return e}function FEe(n,t,e){for(var i=e?"invTrans":"trans",r=t[i],o=t.srcCoords,a=[],s=[],l=!0,c=0;c<4;c++){var u=n[c].getBoundingClientRect(),d=2*c,f=u.left,m=u.top;a.push(f,m),l=l&&o&&f===o[d]&&m===o[d+1],s.push(n[c].offsetLeft,n[c].offsetTop)}return l&&r?r:(t.srcCoords=a,t[i]=e?TI(s,a):TI(a,s))}function DI(n){return n.nodeName.toUpperCase()==="CANVAS"}var BEe=/([&<>"'])/g,VEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Zi(n){return n==null?"":(n+"").replace(BEe,function(t,e){return VEe[e]})}var UEe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,II=[],HEe=Be.browser.firefox&&+Be.browser.version.split(".")[0]<39;function fy(n,t,e,i){return e=e||{},i?iK(n,t,e):HEe&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):iK(n,t,e),e}function iK(n,t,e){if(Be.domSupported&&n.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(DI(n)){var o=n.getBoundingClientRect();e.zrX=i-o.left,e.zrY=r-o.top;return}else if(dy(II,n,i,r)){e.zrX=II[0],e.zrY=II[1];return}}e.zrX=e.zrY=0}function py(n){return n||window.event}function Ho(n,t,e){if(t=py(t),t.zrX!=null)return t;var i=t.type,r=i&&i.indexOf("touch")>=0;if(r){var a=i!=="touchend"?t.targetTouches[0]:t.changedTouches[0];a&&fy(n,a,t,e)}else{fy(n,t,t,e);var o=jEe(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&UEe.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function jEe(n){var t=n.wheelDelta;if(t)return t;var e=n.deltaX,i=n.deltaY;if(e==null||i==null)return t;var r=Math.abs(i!==0?i:e),o=i>0?-1:i<0?1:e>0?-1:1;return 3*r*o}function N8(n,t,e,i){n.addEventListener(t,e,i)}function rK(n,t,e,i){n.removeEventListener(t,e,i)}var Es=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function LI(n){return n.which===2||n.which===3}var aK=(function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,i){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,s=r.length;a<s;a++){var l=r[a],c=fy(i,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(t){for(var e in AI)if(AI.hasOwnProperty(e)){var i=AI[e](this._track,t);if(i)return i}},n})();function oK(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}function GEe(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var AI={pinch:function(n,t){var e=n.length;if(e){var i=(n[e-1]||{}).points,r=(n[e-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=oK(i)/oK(r);!isFinite(o)&&(o=1),t.pinchScale=o;var a=GEe(i);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:n[0].target,event:t}}}}};var G2={};Ko(G2,{clone:()=>WEe,copy:()=>my,create:()=>L1,identity:()=>H2,invert:()=>j2,mul:()=>Ga,rotate:()=>b3,scale:()=>zI,translate:()=>Ru});function L1(){return[1,0,0,1,0,0]}function H2(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function my(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Ga(n,t,e){var i=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=i,n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=l,n}function Ru(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function b3(n,t,e,i){i===void 0&&(i=[0,0]);var r=t[0],o=t[2],a=t[4],s=t[1],l=t[3],c=t[5],u=Math.sin(e),d=Math.cos(e);return n[0]=r*d+s*u,n[1]=-r*u+s*d,n[2]=o*d+l*u,n[3]=-o*u+d*l,n[4]=d*(a-i[0])+u*(c-i[1])+i[0],n[5]=d*(c-i[1])-u*(a-i[0])+i[1],n}function zI(n,t,e){var i=e[0],r=e[1];return n[0]=t[0]*i,n[1]=t[1]*r,n[2]=t[2]*i,n[3]=t[3]*r,n[4]=t[4]*i,n[5]=t[5]*r,n}function j2(n,t){var e=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=e*a-o*i;return l?(l=1/l,n[0]=a*l,n[1]=-o*l,n[2]=-i*l,n[3]=e*l,n[4]=(i*s-a*r)*l,n[5]=(o*r-e*s)*l,n):null}function WEe(n){var t=L1();return my(t,n),t}var qEe=(function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,i){t.x=e,t.y=i},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},n.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},n.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},n.scaleAndAdd=function(t,e,i,r){t.x=e.x+i.x*r,t.y=e.y+i.y*r},n.lerp=function(t,e,i,r){var o=1-r;t.x=o*e.x+r*i.x,t.y=o*e.y+r*i.y},n})(),Kt=qEe;var hy=Math.min,gy=Math.max,x3=new Kt,C3=new Kt,S3=new Kt,w3=new Kt,O8=new Kt,R8=new Kt,$Ee=(function(){function n(t,e,i,r){i<0&&(t=t+i,i=-i),r<0&&(e=e+r,r=-r),this.x=t,this.y=e,this.width=i,this.height=r}return n.prototype.union=function(t){var e=hy(t.x,this.x),i=hy(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=gy(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=gy(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=e,this.y=i},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,r=t.height/e.height,o=L1();return Ru(o,o,[-e.x,-e.y]),zI(o,o,[i,r]),Ru(o,o,[t.x,t.y]),o},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=t.x,c=t.x+t.width,u=t.y,d=t.y+t.height,f=!(o<l||c<r||s<u||d<a);if(e){var m=1/0,v=0,_=Math.abs(o-l),b=Math.abs(c-r),C=Math.abs(s-u),w=Math.abs(d-a),E=Math.min(_,b),D=Math.min(C,w);o<l||c<r?E>v&&(v=E,_<b?Kt.set(R8,-_,0):Kt.set(R8,b,0)):E<m&&(m=E,_<b?Kt.set(O8,_,0):Kt.set(O8,-b,0)),s<u||d<a?D>v&&(v=D,C<w?Kt.set(R8,0,-C):Kt.set(R8,0,w)):E<m&&(m=E,C<w?Kt.set(O8,0,C):Kt.set(O8,0,-w))}return e&&Kt.copy(e,f?O8:R8),f},n.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,i){if(!i){t!==e&&n.copy(t,e);return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],s=i[5];t.x=e.x*r+a,t.y=e.y*o+s,t.width=e.width*r,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}x3.x=S3.x=e.x,x3.y=w3.y=e.y,C3.x=w3.x=e.x+e.width,C3.y=S3.y=e.y+e.height,x3.transform(i),w3.transform(i),C3.transform(i),S3.transform(i),t.x=hy(x3.x,C3.x,S3.x,w3.x),t.y=hy(x3.y,C3.y,S3.y,w3.y);var l=gy(x3.x,C3.x,S3.x,w3.x),c=gy(x3.y,C3.y,S3.y,w3.y);t.width=l-t.x,t.height=c-t.y},n})(),Je=$Ee;var lK="silent";function YEe(n,t,e){return{type:n,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:ZEe}}function ZEe(){Es(this.event)}var XEe=(function(n){et(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(Ei),F8=(function(){function n(t,e){this.x=t,this.y=e}return n})(),QEe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],kI=new Je(0,0,0,0),cK=(function(n){et(t,n);function t(e,i,r,o,a){var s=n.call(this)||this;return s._hovered=new F8(0,0),s.storage=e,s.painter=i,s.painterRoot=o,s._pointerSize=a,r=r||new XEe,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new eK(s),s}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(R(QEe,function(i){e.on&&e.on(i,this[i],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var i=e.zrX,r=e.zrY,o=uK(this,i,r),a=this._hovered,s=a.target;s&&!s.__zr&&(a=this.findHover(a.x,a.y),s=a.target);var l=this._hovered=o?new F8(i,r):this.findHover(i,r),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(l,"mousemove",e),c&&c!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var i=e.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new F8(0,0)},t.prototype.dispatch=function(e,i){var r=this[e];r&&r.call(this,i)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},t.prototype.dispatchToElement=function(e,i,r){e=e||{};var o=e.target;if(!(o&&o.silent)){for(var a="on"+i,s=YEe(i,e,r);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(i,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,s),l.trigger&&l.trigger(i,s)}))}},t.prototype.findHover=function(e,i,r){var o=this.storage.getDisplayList(),a=new F8(e,i);if(sK(o,a,e,i,r),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,c=l/2,u=new Je(e-c,i-c,l,l),d=o.length-1;d>=0;d--){var f=o[d];f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(kI.copy(f.getBoundingRect()),f.transform&&kI.applyTransform(f.transform),kI.intersect(u)&&s.push(f))}if(s.length)for(var m=4,v=Math.PI/12,_=Math.PI*2,b=0;b<c;b+=m)for(var C=0;C<_;C+=v){var w=e+b*Math.cos(C),E=i+b*Math.sin(C);if(sK(s,a,w,E,r),a.target)return a}}return a},t.prototype.processGesture=function(e,i){this._gestureMgr||(this._gestureMgr=new aK);var r=this._gestureMgr;i==="start"&&r.clear();var o=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(i==="end"&&r.clear(),o){var a=o.type;e.gestureEvent=a;var s=new F8;s.target=o.target,this.dispatchToElement(s,a,o.event)}},t})(Ei);R(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){cK.prototype[n]=function(t){var e=t.zrX,i=t.zrY,r=uK(this,e,i),o,a;if((n!=="mouseup"||!r)&&(o=this.findHover(e,i),a=o.target),n==="mousedown")this._downEl=a,this._downPoint=[t.zrX,t.zrY],this._upEl=a;else if(n==="mouseup")this._upEl=a;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||wI(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,n,t)}});function KEe(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(t,e))return!1}i.silent&&(r=!0);var s=i.__hostTarget;i=s||i.parent}return r?lK:!0}return!1}function sK(n,t,e,i,r){for(var o=n.length-1;o>=0;o--){var a=n[o],s=void 0;if(a!==r&&!a.ignore&&(s=KEe(a,e,i))&&(!t.topTarget&&(t.topTarget=a),s!==lK)){t.target=a;break}}}function uK(n,t,e){var i=n.painter;return t<0||t>i.getWidth()||e<0||e>i.getHeight()}var dK=cK;var mK=32,B8=7;function JEe(n){for(var t=0;n>=mK;)t|=n&1,n>>=1;return n+t}function fK(n,t,e,i){var r=t+1;if(r===e)return 1;if(i(n[r++],n[t])<0){for(;r<e&&i(n[r],n[r-1])<0;)r++;eDe(n,t,r)}else for(;r<e&&i(n[r],n[r-1])>=0;)r++;return r-t}function eDe(n,t,e){for(e--;t<e;){var i=n[t];n[t++]=n[e],n[e--]=i}}function pK(n,t,e,i,r){for(i===t&&i++;i<e;i++){for(var o=n[i],a=t,s=i,l;a<s;)l=a+s>>>1,r(o,n[l])<0?s=l:a=l+1;var c=i-a;switch(c){case 3:n[a+3]=n[a+2];case 2:n[a+2]=n[a+1];case 1:n[a+1]=n[a];break;default:for(;c>0;)n[a+c]=n[a+c-1],c--}n[a]=o}}function NI(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])>0){for(s=i-r;l<s&&o(n,t[e+r+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(n,t[e+r-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}for(a++;a<l;){var u=a+(l-a>>>1);o(n,t[e+u])>0?a=u+1:l=u}return l}function PI(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])<0){for(s=r+1;l<s&&o(n,t[e+r-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}else{for(s=i-r;l<s&&o(n,t[e+r+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(n,t[e+u])<0?l=u:a=u+1}return l}function tDe(n,t){var e=B8,i,r,o=0,a=[];i=[],r=[];function s(m,v){i[o]=m,r[o]=v,o+=1}function l(){for(;o>1;){var m=o-2;if(m>=1&&r[m-1]<=r[m]+r[m+1]||m>=2&&r[m-2]<=r[m]+r[m-1])r[m-1]<r[m+1]&&m--;else if(r[m]>r[m+1])break;u(m)}}function c(){for(;o>1;){var m=o-2;m>0&&r[m-1]<r[m+1]&&m--,u(m)}}function u(m){var v=i[m],_=r[m],b=i[m+1],C=r[m+1];r[m]=_+C,m===o-3&&(i[m+1]=i[m+2],r[m+1]=r[m+2]),o--;var w=PI(n[b],n,v,_,0,t);v+=w,_-=w,_!==0&&(C=NI(n[v+_-1],n,b,C,C-1,t),C!==0&&(_<=C?d(v,_,b,C):f(v,_,b,C)))}function d(m,v,_,b){var C=0;for(C=0;C<v;C++)a[C]=n[m+C];var w=0,E=_,D=m;if(n[D++]=n[E++],--b===0){for(C=0;C<v;C++)n[D+C]=a[w+C];return}if(v===1){for(C=0;C<b;C++)n[D+C]=n[E+C];n[D+b]=a[w];return}for(var L=e,P,F,G;;){P=0,F=0,G=!1;do if(t(n[E],a[w])<0){if(n[D++]=n[E++],F++,P=0,--b===0){G=!0;break}}else if(n[D++]=a[w++],P++,F=0,--v===1){G=!0;break}while((P|F)<L);if(G)break;do{if(P=PI(n[E],a,w,v,0,t),P!==0){for(C=0;C<P;C++)n[D+C]=a[w+C];if(D+=P,w+=P,v-=P,v<=1){G=!0;break}}if(n[D++]=n[E++],--b===0){G=!0;break}if(F=NI(a[w],n,E,b,0,t),F!==0){for(C=0;C<F;C++)n[D+C]=n[E+C];if(D+=F,E+=F,b-=F,b===0){G=!0;break}}if(n[D++]=a[w++],--v===1){G=!0;break}L--}while(P>=B8||F>=B8);if(G)break;L<0&&(L=0),L+=2}if(e=L,e<1&&(e=1),v===1){for(C=0;C<b;C++)n[D+C]=n[E+C];n[D+b]=a[w]}else{if(v===0)throw new Error;for(C=0;C<v;C++)n[D+C]=a[w+C]}}function f(m,v,_,b){var C=0;for(C=0;C<b;C++)a[C]=n[_+C];var w=m+v-1,E=b-1,D=_+b-1,L=0,P=0;if(n[D--]=n[w--],--v===0){for(L=D-(b-1),C=0;C<b;C++)n[L+C]=a[C];return}if(b===1){for(D-=v,w-=v,P=D+1,L=w+1,C=v-1;C>=0;C--)n[P+C]=n[L+C];n[D]=a[E];return}for(var F=e;;){var G=0,q=0,Y=!1;do if(t(a[E],n[w])<0){if(n[D--]=n[w--],G++,q=0,--v===0){Y=!0;break}}else if(n[D--]=a[E--],q++,G=0,--b===1){Y=!0;break}while((G|q)<F);if(Y)break;do{if(G=v-PI(a[E],n,m,v,v-1,t),G!==0){for(D-=G,w-=G,v-=G,P=D+1,L=w+1,C=G-1;C>=0;C--)n[P+C]=n[L+C];if(v===0){Y=!0;break}}if(n[D--]=a[E--],--b===1){Y=!0;break}if(q=b-NI(n[w],a,0,b,b-1,t),q!==0){for(D-=q,E-=q,b-=q,P=D+1,L=E+1,C=0;C<q;C++)n[P+C]=a[L+C];if(b<=1){Y=!0;break}}if(n[D--]=n[w--],--v===0){Y=!0;break}F--}while(G>=B8||q>=B8);if(Y)break;F<0&&(F=0),F+=2}if(e=F,e<1&&(e=1),b===1){for(D-=v,w-=v,P=D+1,L=w+1,C=v-1;C>=0;C--)n[P+C]=n[L+C];n[D]=a[E]}else{if(b===0)throw new Error;for(L=D-(b-1),C=0;C<b;C++)n[L+C]=a[C]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:s}}function M3(n,t,e,i){e||(e=0),i||(i=n.length);var r=i-e;if(!(r<2)){var o=0;if(r<mK){o=fK(n,e,i,t),pK(n,e,i,e+o,t);return}var a=tDe(n,t),s=JEe(r);do{if(o=fK(n,e,i,t),o<s){var l=r;l>s&&(l=s),pK(n,e,e+l,e+o,t),o=l}a.pushRun(e,o),a.mergeRuns(),r-=o,e+=o}while(r!==0);a.forceMergeRuns()}}var Ri=1,T3=2,_0=4;var hK=!1;function OI(){hK||(hK=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function gK(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var nDe=(function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=gK}return n.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return(t||!i.length)&&this.updateDisplayList(e),i},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,M3(i,gK)},n.prototype._updateAndAddDisplayable=function(t,e,i){if(!(t.ignore&&!i)){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e?e=e.slice():e=[];for(var o=r,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var c=s[l];t.__dirty&&(c.__dirty|=Ri),this._updateAndAddDisplayable(c,e,i)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(OI(),u.z=0),isNaN(u.z2)&&(OI(),u.z2=0),isNaN(u.zlevel)&&(OI(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var d=t.getDecalElement&&t.getDecalElement();d&&this._updateAndAddDisplayable(d,e,i);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,e,i);var m=t.getTextContent();m&&this._updateAndAddDisplayable(m,e,i)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);return}var r=qe(this._roots,t);r>=0&&this._roots.splice(r,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n})(),vK=nDe;var yK;yK=Be.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var V8=yK;var vy={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1,i=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=i/4):t=i*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)))},elasticOut:function(n){var t,e=.1,i=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=i/4):t=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/i)+1)},elasticInOut:function(n){var t,e=.1,i=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=i/4):t=i*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?-.5*(e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)):e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?.5*(n*n*((t+1)*n-t)):.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-vy.bounceOut(1-n)},bounceOut:function(n){return n<.36363636363636365?7.5625*n*n:n<.7272727272727273?7.5625*(n-=.5454545454545454)*n+.75:n<.9090909090909091?7.5625*(n-=.8181818181818182)*n+.9375:7.5625*(n-=.9545454545454546)*n+.984375},bounceInOut:function(n){return n<.5?vy.bounceIn(n*2)*.5:vy.bounceOut(n*2-1)*.5+.5}},yy=vy;var _y=Math.pow,x0=Math.sqrt,xy=1e-8,bK=1e-4,_K=x0(3),by=1/3,Ds=U2(),Wa=U2(),Fu=U2();function b0(n){return n>-xy&&n<xy}function xK(n){return n>xy||n<-xy}function ii(n,t,e,i,r){var o=1-r;return o*o*(o*n+3*r*t)+r*r*(r*i+3*o*e)}function RI(n,t,e,i,r){var o=1-r;return 3*(((t-n)*o+2*(e-t)*r)*o+(i-e)*r*r)}function E3(n,t,e,i,r,o){var a=i+3*(t-e)-n,s=3*(e-t*2+n),l=3*(t-n),c=n-r,u=s*s-3*a*l,d=s*l-9*a*c,f=l*l-3*s*c,m=0;if(b0(u)&&b0(d))if(b0(s))o[0]=0;else{var v=-l/s;v>=0&&v<=1&&(o[m++]=v)}else{var _=d*d-4*u*f;if(b0(_)){var b=d/u,v=-s/a+b,C=-b/2;v>=0&&v<=1&&(o[m++]=v),C>=0&&C<=1&&(o[m++]=C)}else if(_>0){var w=x0(_),E=u*s+1.5*a*(-d+w),D=u*s+1.5*a*(-d-w);E<0?E=-_y(-E,by):E=_y(E,by),D<0?D=-_y(-D,by):D=_y(D,by);var v=(-s-(E+D))/(3*a);v>=0&&v<=1&&(o[m++]=v)}else{var L=(2*u*s-3*a*d)/(2*x0(u*u*u)),P=Math.acos(L)/3,F=x0(u),G=Math.cos(P),v=(-s-2*F*G)/(3*a),C=(-s+F*(G+_K*Math.sin(P)))/(3*a),q=(-s+F*(G-_K*Math.sin(P)))/(3*a);v>=0&&v<=1&&(o[m++]=v),C>=0&&C<=1&&(o[m++]=C),q>=0&&q<=1&&(o[m++]=q)}}return m}function Cy(n,t,e,i,r){var o=6*e-12*t+6*n,a=9*t+3*i-3*n-9*e,s=3*t-3*n,l=0;if(b0(a)){if(xK(o)){var c=-s/o;c>=0&&c<=1&&(r[l++]=c)}}else{var u=o*o-4*a*s;if(b0(u))r[0]=-o/(2*a);else if(u>0){var d=x0(u),c=(-o+d)/(2*a),f=(-o-d)/(2*a);c>=0&&c<=1&&(r[l++]=c),f>=0&&f<=1&&(r[l++]=f)}}return l}function Bu(n,t,e,i,r,o){var a=(t-n)*r+n,s=(e-t)*r+t,l=(i-e)*r+e,c=(s-a)*r+a,u=(l-s)*r+s,d=(u-c)*r+c;o[0]=n,o[1]=a,o[2]=c,o[3]=d,o[4]=d,o[5]=u,o[6]=l,o[7]=i}function CK(n,t,e,i,r,o,a,s,l,c,u){var d,f=.005,m=1/0,v,_,b,C;Ds[0]=l,Ds[1]=c;for(var w=0;w<1;w+=.05)Wa[0]=ii(n,e,r,a,w),Wa[1]=ii(t,i,o,s,w),b=y0(Ds,Wa),b<m&&(d=w,m=b);m=1/0;for(var E=0;E<32&&!(f<bK);E++)v=d-f,_=d+f,Wa[0]=ii(n,e,r,a,v),Wa[1]=ii(t,i,o,s,v),b=y0(Wa,Ds),v>=0&&b<m?(d=v,m=b):(Fu[0]=ii(n,e,r,a,_),Fu[1]=ii(t,i,o,s,_),C=y0(Fu,Ds),_<=1&&C<m?(d=_,m=C):f*=.5);return u&&(u[0]=ii(n,e,r,a,d),u[1]=ii(t,i,o,s,d)),x0(m)}function SK(n,t,e,i,r,o,a,s,l){for(var c=n,u=t,d=0,f=1/l,m=1;m<=l;m++){var v=m*f,_=ii(n,e,r,a,v),b=ii(t,i,o,s,v),C=_-c,w=b-u;d+=Math.sqrt(C*C+w*w),c=_,u=b}return d}function Xi(n,t,e,i){var r=1-i;return r*(r*n+2*i*t)+i*i*e}function FI(n,t,e,i){return 2*((1-i)*(t-n)+i*(e-t))}function wK(n,t,e,i,r){var o=n-2*t+e,a=2*(t-n),s=n-i,l=0;if(b0(o)){if(xK(a)){var c=-s/a;c>=0&&c<=1&&(r[l++]=c)}}else{var u=a*a-4*o*s;if(b0(u)){var c=-a/(2*o);c>=0&&c<=1&&(r[l++]=c)}else if(u>0){var d=x0(u),c=(-a+d)/(2*o),f=(-a-d)/(2*o);c>=0&&c<=1&&(r[l++]=c),f>=0&&f<=1&&(r[l++]=f)}}return l}function Sy(n,t,e){var i=n+e-2*t;return i===0?.5:(n-t)/i}function Vu(n,t,e,i,r){var o=(t-n)*i+n,a=(e-t)*i+t,s=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=e}function MK(n,t,e,i,r,o,a,s,l){var c,u=.005,d=1/0;Ds[0]=a,Ds[1]=s;for(var f=0;f<1;f+=.05){Wa[0]=Xi(n,e,r,f),Wa[1]=Xi(t,i,o,f);var m=y0(Ds,Wa);m<d&&(c=f,d=m)}d=1/0;for(var v=0;v<32&&!(u<bK);v++){var _=c-u,b=c+u;Wa[0]=Xi(n,e,r,_),Wa[1]=Xi(t,i,o,_);var m=y0(Wa,Ds);if(_>=0&&m<d)c=_,d=m;else{Fu[0]=Xi(n,e,r,b),Fu[1]=Xi(t,i,o,b);var C=y0(Fu,Ds);b<=1&&C<d?(c=b,d=C):u*=.5}}return l&&(l[0]=Xi(n,e,r,c),l[1]=Xi(t,i,o,c)),x0(d)}function TK(n,t,e,i,r,o,a){for(var s=n,l=t,c=0,u=1/a,d=1;d<=a;d++){var f=d*u,m=Xi(n,e,r,f),v=Xi(t,i,o,f),_=m-s,b=v-l;c+=Math.sqrt(_*_+b*b),s=m,l=v}return c}var iDe=/cubic-bezier\(([0-9,\.e ]+)\)/;function wy(n){var t=n&&iDe.exec(n);if(t){var e=t[1].split(","),i=+ur(e[0]),r=+ur(e[1]),o=+ur(e[2]),a=+ur(e[3]);if(isNaN(i+r+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:E3(0,i,o,1,l,s)&&ii(0,r,a,1,s[0])}}}var rDe=(function(){function n(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||fi,this.ondestroy=t.ondestroy||fi,this.onrestart=t.onrestart||fi,t.easing&&this.setEasing(t.easing)}return n.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var i=this._life,r=t-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),o===1)if(this.loop){var l=r%i;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Ie(t)?t:yy[t]||wy(t)},n})(),EK=rDe;var Dy={};Ko(Dy,{fastLerp:()=>zK,fastMapToColor:()=>uDe,lerp:()=>Ty,lift:()=>GI,liftColor:()=>Ey,lum:()=>I3,mapToColor:()=>dDe,modifyAlpha:()=>pDe,modifyHSL:()=>fDe,parse:()=>qr,random:()=>mDe,stringify:()=>Is,toHex:()=>cDe});var DK=(function(){function n(t){this.value=t}return n})();var oDe=(function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new DK(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n})();var aDe=(function(){function n(t){this._list=new oDe,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var i=this._list,r=this._map,o=null;if(r[t]==null){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new DK(e),s.key=t,i.insertEntry(s),r[t]=s}return o},n.prototype.get=function(t){var e=this._map[t],i=this._list;if(e!=null)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n})(),W2=aDe;var IK={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function A1(n){return n=Math.round(n),n<0?0:n>255?255:n}function sDe(n){return n=Math.round(n),n<0?0:n>360?360:n}function U8(n){return n<0?0:n>1?1:n}function VI(n){var t=n;return t.length&&t.charAt(t.length-1)==="%"?A1(parseFloat(t)/100*255):A1(parseInt(t,10))}function D3(n){var t=n;return t.length&&t.charAt(t.length-1)==="%"?U8(parseFloat(t)/100):U8(parseFloat(t))}function UI(n,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?n+(t-n)*e*6:e*2<1?t:e*3<2?n+(t-n)*(2/3-e)*6:n}function C0(n,t,e){return n+(t-n)*e}function qa(n,t,e,i,r){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}function HI(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var AK=new W2(20),My=null;function Uu(n,t){My&&HI(My,t),My=AK.put(n,My||t.slice())}function qr(n,t){if(n){t=t||[];var e=AK.get(n);if(e)return HI(t,e);n=n+"";var i=n.replace(/ /g,"").toLowerCase();if(i in IK)return HI(t,IK[i]),Uu(n,t),t;var r=i.length;if(i.charAt(0)==="#"){if(r===4||r===5){var o=parseInt(i.slice(1,4),16);if(!(o>=0&&o<=4095)){qa(t,0,0,0,1);return}return qa(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,r===5?parseInt(i.slice(4),16)/15:1),Uu(n,t),t}else if(r===7||r===9){var o=parseInt(i.slice(1,7),16);if(!(o>=0&&o<=16777215)){qa(t,0,0,0,1);return}return qa(t,(o&16711680)>>16,(o&65280)>>8,o&255,r===9?parseInt(i.slice(7),16)/255:1),Uu(n,t),t}return}var a=i.indexOf("("),s=i.indexOf(")");if(a!==-1&&s+1===r){var l=i.substr(0,a),c=i.substr(a+1,s-(a+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?qa(t,+c[0],+c[1],+c[2],1):qa(t,0,0,0,1);u=D3(c.pop());case"rgb":if(c.length>=3)return qa(t,VI(c[0]),VI(c[1]),VI(c[2]),c.length===3?u:D3(c[3])),Uu(n,t),t;qa(t,0,0,0,1);return;case"hsla":if(c.length!==4){qa(t,0,0,0,1);return}return c[3]=D3(c[3]),jI(c,t),Uu(n,t),t;case"hsl":if(c.length!==3){qa(t,0,0,0,1);return}return jI(c,t),Uu(n,t),t;default:return}}qa(t,0,0,0,1)}}function jI(n,t){var e=(parseFloat(n[0])%360+360)%360/360,i=D3(n[1]),r=D3(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=r*2-o;return t=t||[],qa(t,A1(UI(a,o,e+1/3)*255),A1(UI(a,o,e)*255),A1(UI(a,o,e-1/3)*255),1),n.length===4&&(t[3]=n[3]),t}function lDe(n){if(n){var t=n[0]/255,e=n[1]/255,i=n[2]/255,r=Math.min(t,e,i),o=Math.max(t,e,i),a=o-r,s=(o+r)/2,l,c;if(a===0)l=0,c=0;else{s<.5?c=a/(o+r):c=a/(2-o-r);var u=((o-t)/6+a/2)/a,d=((o-e)/6+a/2)/a,f=((o-i)/6+a/2)/a;t===o?l=f-d:e===o?l=1/3+u-f:i===o&&(l=2/3+d-u),l<0&&(l+=1),l>1&&(l-=1)}var m=[l*360,c,s];return n[3]!=null&&m.push(n[3]),m}}function GI(n,t){var e=qr(n);if(e){for(var i=0;i<3;i++)t<0?e[i]=e[i]*(1-t)|0:e[i]=(255-e[i])*t+e[i]|0,e[i]>255?e[i]=255:e[i]<0&&(e[i]=0);return Is(e,e.length===4?"rgba":"rgb")}}function cDe(n){var t=qr(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function zK(n,t,e){if(!(!(t&&t.length)||!(n>=0&&n<=1))){e=e||[];var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],l=i-r;return e[0]=A1(C0(a[0],s[0],l)),e[1]=A1(C0(a[1],s[1],l)),e[2]=A1(C0(a[2],s[2],l)),e[3]=U8(C0(a[3],s[3],l)),e}}var uDe=zK;function Ty(n,t,e){if(!(!(t&&t.length)||!(n>=0&&n<=1))){var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=qr(t[r]),s=qr(t[o]),l=i-r,c=Is([A1(C0(a[0],s[0],l)),A1(C0(a[1],s[1],l)),A1(C0(a[2],s[2],l)),U8(C0(a[3],s[3],l))],"rgba");return e?{color:c,leftIndex:r,rightIndex:o,value:i}:c}}var dDe=Ty;function fDe(n,t,e,i){var r=qr(n);if(n)return r=lDe(r),t!=null&&(r[0]=sDe(t)),e!=null&&(r[1]=D3(e)),i!=null&&(r[2]=D3(i)),Is(jI(r),"rgba")}function pDe(n,t){var e=qr(n);if(e&&t!=null)return e[3]=U8(t),Is(e,"rgba")}function Is(n,t){if(!(!n||!n.length)){var e=n[0]+","+n[1]+","+n[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+n[3]),t+"("+e+")"}}function I3(n,t){var e=qr(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function mDe(){return Is([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var LK=new W2(100);function Ey(n){if(_e(n)){var t=LK.get(n);return t||(t=GI(n,-.1),LK.put(n,t)),t}else if(B2(n)){var e=fe({},n);return e.colorStops=ge(n.colorStops,function(i){return{offset:i.offset,color:GI(i.color,-.1)}}),e}return n}function kK(n){return n.type==="linear"}function NK(n){return n.type==="radial"}var k7t=(function(){return Be.hasGlobalWindow&&Ie(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})();var qI=Array.prototype.slice;function q2(n,t,e){return(t-n)*e+n}function WI(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=q2(t[o],e[o],i);return n}function hDe(n,t,e,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=q2(t[a][s],e[a][s],i)}return n}function Iy(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=t[o]+e[o]*i;return n}function PK(n,t,e,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=t[a][s]+e[a][s]*i}return n}function gDe(n,t){for(var e=n.length,i=t.length,r=e>i?t:n,o=Math.min(e,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(e,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function vDe(n,t,e){var i=n,r=t;if(!(!i.push||!r.push)){var o=i.length,a=r.length;if(o!==a){var s=o>a;if(s)i.length=a;else for(var l=o;l<a;l++)i.push(e===1?r[l]:qI.call(r[l]))}for(var c=i[0]&&i[0].length,l=0;l<i.length;l++)if(e===1)isNaN(i[l])&&(i[l]=r[l]);else for(var u=0;u<c;u++)isNaN(i[l][u])&&(i[l][u]=r[l][u])}}function G8(n){if(Mi(n)){var t=n.length;if(Mi(n[0])){for(var e=[],i=0;i<t;i++)e.push(qI.call(n[i]));return e}return qI.call(n)}return n}function zy(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function yDe(n){return Mi(n&&n[0])?2:1}var Ly=0,ky=1,FK=2,j8=3,$I=4,YI=5,OK=6;function RK(n){return n===$I||n===YI}function Ay(n){return n===ky||n===FK}var H8=[0,0,0,0],_De=(function(){function n(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e,i){this._needsSort=!0;var r=this.keyframes,o=r.length,a=!1,s=OK,l=e;if(Mi(e)){var c=yDe(e);s=c,(c===1&&!Ct(e[0])||c===2&&!Ct(e[0][0]))&&(a=!0)}else if(Ct(e)&&!y3(e))s=Ly;else if(_e(e))if(!isNaN(+e))s=Ly;else{var u=qr(e);u&&(l=u,s=j8)}else if(B2(e)){var d=fe({},l);d.colorStops=ge(e.colorStops,function(m){return{offset:m.offset,color:qr(m.color)}}),kK(e)?s=$I:NK(e)&&(s=YI),l=d}o===0?this.valType=s:(s!==this.valType||s===OK)&&(a=!0),this.discrete=this.discrete||a;var f={time:t,value:l,rawValue:e,percent:0};return i&&(f.easing=i,f.easingFunc=Ie(i)?i:yy[i]||wy(i)),r.push(f),f},n.prototype.prepare=function(t,e){var i=this.keyframes;this._needsSort&&i.sort(function(_,b){return _.time-b.time});for(var r=this.valType,o=i.length,a=i[o-1],s=this.discrete,l=Ay(r),c=RK(r),u=0;u<o;u++){var d=i[u],f=d.value,m=a.value;d.percent=d.time/t,s||(l&&u!==o-1?vDe(f,m,r):c&&gDe(f.colorStops,m.colorStops))}if(!s&&r!==YI&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;for(var v=i[0].value,u=0;u<o;u++)r===Ly?i[u].additiveValue=i[u].value-v:r===j8?i[u].additiveValue=Iy([],i[u].value,v,-1):Ay(r)&&(i[u].additiveValue=r===ky?Iy([],i[u].value,v,-1):PK([],i[u].value,v,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i=this._additiveTrack!=null,r=i?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,c=o===j8,u,d=this._lastFr,f=Math.min,m,v;if(s===1)m=v=a[0];else{if(e<0)u=0;else if(e<this._lastFrP){var _=f(d+1,s-1);for(u=_;u>=0&&!(a[u].percent<=e);u--);u=f(u,s-2)}else{for(u=d;u<s&&!(a[u].percent>e);u++);u=f(u-1,s-2)}v=a[u+1],m=a[u]}if(m&&v){this._lastFr=u,this._lastFrP=e;var b=v.percent-m.percent,C=b===0?1:f((e-m.percent)/b,1);v.easingFunc&&(C=v.easingFunc(C));var w=i?this._additiveValue:c?H8:t[l];if((Ay(o)||c)&&!w&&(w=this._additiveValue=[]),this.discrete)t[l]=C<1?m.rawValue:v.rawValue;else if(Ay(o))o===ky?WI(w,m[r],v[r],C):hDe(w,m[r],v[r],C);else if(RK(o)){var E=m[r],D=v[r],L=o===$I;t[l]={type:L?"linear":"radial",x:q2(E.x,D.x,C),y:q2(E.y,D.y,C),colorStops:ge(E.colorStops,function(F,G){var q=D.colorStops[G];return{offset:q2(F.offset,q.offset,C),color:zy(WI([],F.color,q.color,C))}}),global:D.global},L?(t[l].x2=q2(E.x2,D.x2,C),t[l].y2=q2(E.y2,D.y2,C)):t[l].r=q2(E.r,D.r,C)}else if(c)WI(w,m[r],v[r],C),i||(t[l]=zy(w));else{var P=q2(m[r],v[r],C);i?this._additiveValue=P:t[l]=P}i&&this._addToTarget(t)}}},n.prototype._addToTarget=function(t){var e=this.valType,i=this.propName,r=this._additiveValue;e===Ly?t[i]=t[i]+r:e===j8?(qr(t[i],H8),Iy(H8,H8,r,1),t[i]=zy(H8)):e===ky?Iy(t[i],t[i],r,1):e===FK&&PK(t[i],t[i],r,1)},n})(),bDe=(function(){function n(t,e,i,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r){v3("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=i}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e,i){return this.whenWithKeys(t,e,Lt(e),i)},n.prototype.whenWithKeys=function(t,e,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var s=i[a],l=o[s];if(!l){l=o[s]=new _De(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var d=u.keyframes,f=d[d.length-1];c=f&&f.value,u.valType===j8&&c&&(c=zy(c))}else c=this._target[s];if(c==null)continue;t>0&&l.addKeyframe(0,G8(c),r),this._trackKeys.push(s)}l.addKeyframe(t,G8(e[s]),r)}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(t);o&&(e=o)}return e},n.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),c=s.keyframes,u=c.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=c[u-1];d&&(e._target[s.propName]=d.rawValue),s.setFinished()}else i.push(s)}if(i.length||this._force){var f=new EK({life:r,loop:this._loop,delay:this._delay||0,onframe:function(m){e._started=2;var v=e._additiveAnimators;if(v){for(var _=!1,b=0;b<v.length;b++)if(v[b]._clip){_=!0;break}_||(e._additiveAnimators=null)}for(var b=0;b<i.length;b++)i[b].step(e._target,m);var C=e._onframeCbs;if(C)for(var b=0;b<C.length;b++)C[b](e._target,m)},ondestroy:function(){e._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),t&&f.setEasing(t)}else this._doneCallback();return this}},n.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.getTracks=function(){var t=this;return ge(this._trackKeys,function(e){return t._tracks[e]})},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var a=i[t[o]];a&&!a.isFinished()&&(e?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var s=!0,o=0;o<r.length;o++)if(!i[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(t,e,i){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var o=e[r],a=this._tracks[o];if(!(!a||a.isFinished())){var s=a.keyframes,l=s[i?0:s.length-1];l&&(t[o]=G8(l.rawValue))}}}},n.prototype.__changeFinalValue=function(t,e){e=e||Lt(t);for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,t[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n})(),W8=bDe;function L3(){return new Date().getTime()}var xDe=(function(n){et(t,n);function t(e){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,e=e||{},i.stage=e.stage||{},i}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var i=e.getClip();i&&this.addClip(i)},t.prototype.removeClip=function(e){if(e.animation){var i=e.prev,r=e.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var i=e.getClip();i&&this.removeClip(i),e.animation=null},t.prototype.update=function(e){for(var i=L3()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next,s=o.step(i,r);s&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,e||(this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function i(){e._running&&(V8(i),!e._paused&&e.update())}V8(i)},t.prototype.start=function(){this._running||(this._time=L3(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=L3(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=L3()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var i=e.next;e.prev=e.next=e.animation=null,e=i}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,i){i=i||{},this.start();var r=new W8(e,i.loop);return this.addAnimator(r),r},t})(Ei),BK=xDe;var CDe=300,ZI=Be.domSupported,XI=(function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=ge(n,function(r){var o=r.replace("mouse","pointer");return e.hasOwnProperty(o)?o:r});return{mouse:n,touch:t,pointer:i}})(),VK={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},UK=!1;function JI(n){var t=n.pointerType;return t==="pen"||t==="touch"}function SDe(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function QI(n){n&&(n.zrByTouch=!0)}function wDe(n,t){return Ho(n.dom,new MDe(n,t),!0)}function jK(n,t){for(var e=t,i=!1;e&&e.nodeType!==9&&!(i=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return i}var MDe=(function(){function n(t,e){this.stopPropagation=fi,this.stopImmediatePropagation=fi,this.preventDefault=fi,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return n})(),z1={mousedown:function(n){n=Ho(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Ho(this.dom,n);var t=this.__mayPointerCapture;t&&(n.zrX!==t[0]||n.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Ho(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=Ho(this.dom,n);var t=n.toElement||n.relatedTarget;jK(this,t)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){UK=!0,n=Ho(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){UK||(n=Ho(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=Ho(this.dom,n),QI(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),z1.mousemove.call(this,n),z1.mousedown.call(this,n)},touchmove:function(n){n=Ho(this.dom,n),QI(n),this.handler.processGesture(n,"change"),z1.mousemove.call(this,n)},touchend:function(n){n=Ho(this.dom,n),QI(n),this.handler.processGesture(n,"end"),z1.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<CDe&&z1.click.call(this,n)},pointerdown:function(n){z1.mousedown.call(this,n)},pointermove:function(n){JI(n)||z1.mousemove.call(this,n)},pointerup:function(n){z1.mouseup.call(this,n)},pointerout:function(n){JI(n)||z1.mouseout.call(this,n)}};R(["click","dblclick","contextmenu"],function(n){z1[n]=function(t){t=Ho(this.dom,t),this.trigger(n,t)}});var eL={pointermove:function(n){JI(n)||eL.mousemove.call(this,n)},pointerup:function(n){eL.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function TDe(n,t){var e=t.domHandlers;Be.pointerEventsSupported?R(XI.pointer,function(i){Ny(t,i,function(r){e[i].call(n,r)})}):(Be.touchEventsSupported&&R(XI.touch,function(i){Ny(t,i,function(r){e[i].call(n,r),SDe(t)})}),R(XI.mouse,function(i){Ny(t,i,function(r){r=py(r),t.touching||e[i].call(n,r)})}))}function EDe(n,t){Be.pointerEventsSupported?R(VK.pointer,e):Be.touchEventsSupported||R(VK.mouse,e);function e(i){function r(o){o=py(o),jK(n,o.target)||(o=wDe(n,o),t.domHandlers[i].call(n,o))}Ny(t,i,r,{capture:!0})}}function Ny(n,t,e,i){n.mounted[t]=e,n.listenerOpts[t]=i,N8(n.domTarget,t,e,i)}function KI(n){var t=n.mounted;for(var e in t)t.hasOwnProperty(e)&&rK(n.domTarget,e,t[e],n.listenerOpts[e]);n.mounted={}}var HK=(function(){function n(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return n})(),DDe=(function(n){et(t,n);function t(e,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=i,r._localHandlerScope=new HK(e,z1),ZI&&(r._globalHandlerScope=new HK(document,eL)),TDe(r,r._localHandlerScope),r}return t.prototype.dispose=function(){KI(this._localHandlerScope),ZI&&KI(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,ZI&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var i=this._globalHandlerScope;e?EDe(this,i):KI(i)}},t})(Ei),GK=DDe;var WK=1;Be.hasGlobalWindow&&(WK=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var A3=WK,q8=.4,$8="#333",Y8="#ccc",qK="#eee";var $K=H2,YK=5e-5;function z3(n){return n>YK||n<-YK}var k3=[],Hu=[],tL=L1(),nL=Math.abs,IDe=(function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return z3(this.rotation)||z3(this.x)||z3(this.y)||z3(this.scaleX-1)||z3(this.scaleY-1)||z3(this.skewX)||z3(this.skewY)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),i=this.transform;if(!(e||t)){i&&($K(i),this.invTransform=null);return}i=i||L1(),e?this.getLocalTransform(i):$K(i),t&&(e?Ga(i,t,i):my(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(k3);var i=k3[0]<0?-1:1,r=k3[1]<0?-1:1,o=((k3[0]-i)*e+i)/k3[0]||0,a=((k3[1]-r)*e+r)/k3[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||L1(),j2(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),o=Math.PI/2+r-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||L1(),Ga(Hu,t.invTransform,e),e=Hu);var i=this.originX,r=this.originY;(i||r)&&(tL[4]=i,tL[5]=r,Ga(Hu,e,tL),Hu[4]-=i,Hu[5]-=r,e=Hu),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var i=[t,e],r=this.invTransform;return r&&Ti(i,i,r),i},n.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],r=this.transform;return r&&Ti(i,i,r),i},n.prototype.getLineScale=function(){var t=this.transform;return t&&nL(t[0]-1)>1e-10&&nL(t[3]-1)>1e-10?Math.sqrt(nL(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){LDe(this,t)},n.getLocalTransform=function(t,e){e=e||[];var i=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.anchorX,l=t.anchorY,c=t.rotation||0,u=t.x,d=t.y,f=t.skewX?Math.tan(t.skewX):0,m=t.skewY?Math.tan(-t.skewY):0;if(i||r||s||l){var v=i+s,_=r+l;e[4]=-v*o-f*_*a,e[5]=-_*a-m*v*o}else e[4]=e[5]=0;return e[0]=o,e[3]=a,e[1]=m*o,e[2]=f*a,c&&b3(e,e,c),e[4]+=i+u,e[5]+=r+d,e},n.initDefaultProps=(function(){var t=n.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),n})(),N3=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function LDe(n,t){for(var e=0;e<N3.length;e++){var i=N3[e];n[i]=t[i]}}var Z8=IDe;var ZK={};function jo(n,t){t=t||I1;var e=ZK[t];e||(e=ZK[t]=new W2(500));var i=e.get(n);return i==null&&(i=vo.measureText(n,t).width,e.put(n,i)),i}function XK(n,t,e,i){var r=jo(n,t),o=Py(t),a=ju(0,r,e),s=P3(0,o,i),l=new Je(a,s,r,o);return l}function S0(n,t,e,i){var r=((n||"")+"").split(`
`),o=r.length;if(o===1)return XK(r[0],t,e,i);for(var a=new Je(0,0,0,0),s=0;s<r.length;s++){var l=XK(r[s],t,e,i);s===0?a.copy(l):a.union(l)}return a}function ju(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function P3(n,t,e){return e==="middle"?n-=t/2:e==="bottom"&&(n-=t),n}function Py(n){return jo("\u56FD",n)}function $a(n,t){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function O3(n,t,e){var i=t.position||"inside",r=t.distance!=null?t.distance:5,o=e.height,a=e.width,s=o/2,l=e.x,c=e.y,u="left",d="top";if(i instanceof Array)l+=$a(i[0],e.width),c+=$a(i[1],e.height),u=null,d=null;else switch(i){case"left":l-=r,c+=s,u="right",d="middle";break;case"right":l+=r+a,c+=s,d="middle";break;case"top":l+=a/2,c-=r,u="center",d="bottom";break;case"bottom":l+=a/2,c+=o+r,u="center";break;case"inside":l+=a/2,c+=s,u="center",d="middle";break;case"insideLeft":l+=r,c+=s,d="middle";break;case"insideRight":l+=a-r,c+=s,u="right",d="middle";break;case"insideTop":l+=a/2,c+=r,u="center";break;case"insideBottom":l+=a/2,c+=o-r,u="center",d="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=a-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=o-r,d="bottom";break;case"insideBottomRight":l+=a-r,c+=o-r,u="right",d="bottom";break}return n=n||{},n.x=l,n.y=c,n.align=u,n.verticalAlign=d,n}var rL="__zr_normal__",oL=N3.concat(["ignore"]),ADe=Wr(N3,function(n,t){return n[t]=!0,n},{ignore:!1}),Gu={},zDe=new Je(0,0,0,0),lL=(function(){function n(t){this.id=E8(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=e.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var c=!1;if(o.copyTransform(e),i.position!=null){var u=zDe;i.layoutRect?u.copy(i.layoutRect):u.copy(this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Gu,i,u):O3(Gu,i,u),o.x=Gu.x,o.y=Gu.y,a=Gu.align,s=Gu.verticalAlign;var d=i.origin;if(d&&i.rotation!=null){var f=void 0,m=void 0;d==="center"?(f=u.width*.5,m=u.height*.5):(f=$a(d[0],u.width),m=$a(d[1],u.height)),c=!0,o.originX=-o.x+f+(r?0:u.x),o.originY=-o.y+m+(r?0:u.y)}}i.rotation!=null&&(o.rotation=i.rotation);var v=i.offset;v&&(o.x+=v[0],o.y+=v[1],c||(o.originX=-v[0],o.originY=-v[1]));var _=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),C=void 0,w=void 0,E=void 0;_&&this.canBeInsideText()?(C=i.insideFill,w=i.insideStroke,(C==null||C==="auto")&&(C=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(C),E=!0)):(C=i.outsideFill,w=i.outsideStroke,(C==null||C==="auto")&&(C=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(C),E=!0)),C=C||"#000",(C!==b.fill||w!==b.stroke||E!==b.autoStroke||a!==b.align||s!==b.verticalAlign)&&(l=!0,b.fill=C,b.stroke=w,b.autoStroke=E,b.align=a,b.verticalAlign=s,e.setDefaultTextStyle(b)),e.__dirty|=Ri,l&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Y8:$8},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i=typeof e=="string"&&qr(e);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,Is(i,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},fe(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(we(t))for(var i=t,r=Lt(i),o=0;o<r.length;o++){var a=r[o];this.attrKV(a,t[a])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==rL)){var a=r.targetName,s=a?e[a]:e;r.saveTo(s)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,oL)},n.prototype._savePrimaryToNormal=function(t,e,i){for(var r=0;r<i.length;r++){var o=i[r];t[o]!=null&&!(o in e)&&(e[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(rL,!1,t)},n.prototype.useState=function(t,e,i,r){var o=t===rL,a=this.hasState();if(!(!a&&o)){var s=this.currentStates,l=this.stateTransition;if(!(qe(s,t)>=0&&(e||s.length===1))){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),!c&&!o){v3("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,e,!i&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,f=this._textGuide;return d&&d.useState(t,e,i,u),f&&f.useState(t,e,i,u),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ri),c}}},n.prototype.useStates=function(t,e,i){if(!t.length)this.clearStates();else{var r=[],o=this.currentStates,a=t.length,s=a===o.length;if(s){for(var l=0;l<a;l++)if(t[l]!==o[l]){s=!1;break}}if(s)return;for(var l=0;l<a;l++){var c=t[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,t)),u||(u=this.states[c]),u&&r.push(u)}var d=r[a-1],f=!!(d&&d.hoverLayer||i);f&&this._toggleHoverLayerFlag(!0);var m=this._mergeStates(r),v=this.stateTransition;this.saveCurrentToNormalState(m),this._applyStateObj(t.join(","),m,this._normalState,!1,!e&&!this.__inHover&&v&&v.duration>0,v);var _=this._textContent,b=this._textGuide;_&&_.useStates(t,e,f),b&&b.useStates(t,e,f),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ri)}},n.prototype.isSilent=function(){for(var t=this.silent,e=this.parent;!t&&e;){if(e.silent){t=!0;break}e=e.parent}return t},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=qe(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},n.prototype.replaceState=function(t,e,i){var r=this.currentStates.slice(),o=qe(r,t),a=qe(r,e)>=0;o>=0?a?r.splice(o,1):r[o]=e:i&&!a&&r.push(e),this.useStates(r)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e={},i,r=0;r<t.length;r++){var o=t[r];fe(e,o),o.textConfig&&(i=i||{},fe(i,o.textConfig))}return i&&(e.textConfig=i),e},n.prototype._applyStateObj=function(t,e,i,r,o,a){var s=!(e&&r);e&&e.textConfig?(this.textConfig=fe({},r?this.textConfig:i.textConfig),fe(this.textConfig,e.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},c=!1,u=0;u<oL.length;u++){var d=oL[u],f=o&&ADe[d];e&&e[d]!=null?f?(c=!0,l[d]=e[d]):this[d]=e[d]:s&&i[d]!=null&&(f?(c=!0,l[d]=i[d]):this[d]=i[d])}if(!o)for(var u=0;u<this.animators.length;u++){var m=this.animators[u],v=m.targetName;m.getLoop()||m.__changeFinalValue(v?(e||i)[v]:e||i)}c&&this._transitionState(t,l,a)},n.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new Z8,this._attachComponent(t),this._textContent=t,this.markRedraw())},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),fe(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Ri;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e,i){var r=t?this[t]:this,o=new W8(r,e,i);return t&&(o.targetName=t),this.addAnimator(o,t),o},n.prototype.addAnimator=function(t,e){var i=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var o=r.animators,a=qe(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var s=i[a];!t||t===s.scope?s.stop(e):o.push(s)}return this.animators=o,this},n.prototype.animateTo=function(t,e,i){aL(this,t,e,i)},n.prototype.animateFrom=function(t,e,i){aL(this,t,e,i,!0)},n.prototype._transitionState=function(t,e,i,r){for(var o=aL(this,e,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=(function(){var t=n.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Ri;var e={};function i(o,a,s){e[o+a+s]||(console.warn("DEPRECATED: '"+o+"' has been deprecated. use '"+a+"', '"+s+"' instead"),e[o+a+s]=!0)}function r(o,a,s,l){Object.defineProperty(t,o,{get:function(){if(!this[a]){var u=this[a]=[];c(this,u)}return this[a]},set:function(u){this[s]=u[0],this[l]=u[1],this[a]=u,c(this,u)}});function c(u,d){Object.defineProperty(d,0,{get:function(){return u[s]},set:function(f){u[s]=f}}),Object.defineProperty(d,1,{get:function(){return u[l]},set:function(f){u[l]=f}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))})(),n})();cr(lL,Ei);cr(lL,Z8);function aL(n,t,e,i,r){e=e||{};var o=[];QK(n,"",n,t,e,i,o,r);var a=o.length,s=!1,l=e.done,c=e.aborted,u=function(){s=!0,a--,a<=0&&(s?l&&l():c&&c())},d=function(){a--,a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&e.during&&o[0].during(function(v,_){e.during(_)});for(var f=0;f<o.length;f++){var m=o[f];u&&m.done(u),d&&m.aborted(d),e.force&&m.duration(e.duration),m.start(e.easing)}return o}function sL(n,t,e){for(var i=0;i<e;i++)n[i]=t[i]}function kDe(n){return Mi(n[0])}function NDe(n,t,e){if(Mi(t[e]))if(Mi(n[e])||(n[e]=[]),ai(t[e])){var i=t[e].length;n[e].length!==i&&(n[e]=new t[e].constructor(i),sL(n[e],t[e],i))}else{var r=t[e],o=n[e],a=r.length;if(kDe(r))for(var s=r[0].length,l=0;l<a;l++)o[l]?sL(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else sL(o,r,a);o.length=r.length}else n[e]=t[e]}function PDe(n,t){return n===t||Mi(n)&&Mi(t)&&ODe(n,t)}function ODe(n,t){var e=n.length;if(e!==t.length)return!1;for(var i=0;i<e;i++)if(n[i]!==t[i])return!1;return!0}function QK(n,t,e,i,r,o,a,s){for(var l=Lt(i),c=r.duration,u=r.delay,d=r.additive,f=r.setToFinal,m=!we(o),v=n.animators,_=[],b=0;b<l.length;b++){var C=l[b],w=i[C];if(w!=null&&e[C]!=null&&(m||o[C]))if(we(w)&&!Mi(w)&&!B2(w)){if(t){s||(e[C]=w,n.updateDuringAnimation(t));continue}QK(n,C,e[C],w,r,o&&o[C],a,s)}else _.push(C);else s||(e[C]=w,n.updateDuringAnimation(t),_.push(C))}var E=_.length;if(!d&&E)for(var D=0;D<v.length;D++){var L=v[D];if(L.targetName===t){var P=L.stopTracks(_);if(P){var F=qe(v,L);v.splice(F,1)}}}if(r.force||(_=vn(_,function(W){return!PDe(i[W],e[W])}),E=_.length),E>0||r.force&&!a.length){var G=void 0,q=void 0,Y=void 0;if(s){q={},f&&(G={});for(var D=0;D<E;D++){var C=_[D];q[C]=e[C],f?G[C]=i[C]:e[C]=i[C]}}else if(f){Y={};for(var D=0;D<E;D++){var C=_[D];Y[C]=G8(e[C]),NDe(e,i,C)}}var L=new W8(e,!1,!1,d?vn(v,function(Z){return Z.targetName===t}):null);L.targetName=t,r.scope&&(L.scope=r.scope),f&&G&&L.whenWithKeys(0,G,_),Y&&L.whenWithKeys(0,Y,_),L.whenWithKeys(c??500,s?q:i,_).delay(u||0),n.addAnimator(L,t),a.push(L)}}var Oy=lL;var KK=(function(n){et(t,n);function t(e){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===e)return i[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,i){if(e&&e!==this&&e.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,i){var r=qe(this._children,e);return r>=0&&this.replaceAt(i,r),this},t.prototype.replaceAt=function(e,i){var r=this._children,o=r[i];if(e&&e!==this&&e.parent!==this&&e!==o){r[i]=e,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var i=this.__zr;i&&i!==e.__zr&&e.addSelfToZr(i),i&&i.refresh()},t.prototype.remove=function(e){var i=this.__zr,r=this._children,o=qe(r,e);return o<0?this:(r.splice(o,1),e.parent=null,i&&e.removeSelfFromZr(i),i&&i.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,i=this.__zr,r=0;r<e.length;r++){var o=e[r];i&&o.removeSelfFromZr(i),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,i){for(var r=this._children,o=0;o<r.length;o++){var a=r[o];e.call(i,a,o)}return this},t.prototype.traverse=function(e,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=e.call(i,o);o.isGroup&&!a&&o.traverse(e,i)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var i=new Je(0,0,0,0),r=e||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(o);u?(Je.applyTransform(i,c,u),a=a||i.clone(),a.union(i)):(a=a||c.clone(),a.union(c))}}return a||i},t})(Oy);KK.prototype.type="group";var Pt=KK;var Ry={},R3={};function RDe(n){delete R3[n]}function FDe(n){if(!n)return!1;if(typeof n=="string")return I3(n,1)<q8;if(n.colorStops){for(var t=n.colorStops,e=0,i=t.length,r=0;r<i;r++)e+=I3(t[r].color,1);return e/=i,e<q8}return!1}var BDe=(function(){function n(t,e,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var o=new vK,a=i.renderer||"canvas";Ry[a]||(a=Lt(Ry)[0]),i.useDirtyRect=i.useDirtyRect==null?!1:i.useDirtyRect;var s=new Ry[a](e,o,i,t),l=i.ssr||s.ssrOnly;this.storage=o,this.painter=s;var c=!Be.node&&!Be.worker&&!l?new GK(s.getViewportRoot(),s.root):null,u=i.useCoarsePointer,d=u==null||u==="auto"?Be.touchEventsSupported:!!u,f=44,m;d&&(m=it(i.pointerSize,f)),this.handler=new dK(o,s,c,s.root,m),this.animation=new BK({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},n.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=FDe(t))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(t){var e,i=L3();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=L3();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},n.prototype.on=function(t,e,i){return this._disposed||this.handler.on(t,e,i),this},n.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},n.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},n.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Pt&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,RDe(this.id))},n})();function Fy(n,t){var e=new BDe(E8(),n,t);return R3[e.id]=e,e}function VDe(n){n.dispose()}function UDe(){for(var n in R3)R3.hasOwnProperty(n)&&R3[n].dispose();R3={}}function HDe(n){return R3[n]}function uL(n,t){Ry[n]=t}var cL;function jDe(n){if(typeof cL=="function")return cL(n)}function dL(n){cL=n}var GDe="5.6.1";var JK=1e-4,eJ=20;function WDe(n){return n.replace(/^\s+|\s+$/g,"")}function Di(n,t,e,i){var r=t[0],o=t[1],a=e[0],s=e[1],l=o-r,c=s-a;if(l===0)return c===0?a:(a+s)/2;if(i)if(l>0){if(n<=r)return a;if(n>=o)return s}else{if(n>=r)return a;if(n<=o)return s}else{if(n===r)return a;if(n===o)return s}return(n-r)/l*c+a}function pi(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return _e(n)?WDe(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):n==null?NaN:+n}function Cn(n,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),eJ),n=(+n).toFixed(t),e?n:+n}function $2(n){return n.sort(function(t,e){return t-e}),n}function yo(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e}return fL(n)}function fL(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),i=e>0?+t.slice(e+1):0,r=e>0?e:t.length,o=t.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}function Wu(n,t){var e=Math.log,i=Math.LN10,r=Math.floor(e(n[1]-n[0])/i),o=Math.round(e(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function tJ(n,t,e){if(!n[t])return 0;var i=qDe(n,e);return i[t]||0}function qDe(n,t){var e=Wr(n,function(m,v){return m+(isNaN(v)?0:v)},0);if(e===0)return[];for(var i=Math.pow(10,t),r=ge(n,function(m){return(isNaN(m)?0:m)/e*i*100}),o=i*100,a=ge(r,function(m){return Math.floor(m)}),s=Wr(a,function(m,v){return m+v},0),l=ge(r,function(m,v){return m-a[v]});s<o;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,f=l.length;d<f;++d)l[d]>c&&(c=l[d],u=d);++a[u],l[u]=0,++s}return ge(a,function(m){return m/i})}function nJ(n,t){var e=Math.max(yo(n),yo(t)),i=n+t;return e>eJ?i:Cn(i,e)}var iJ=9007199254740991;function X8(n){var t=Math.PI*2;return(n%t+t)%t}function F3(n){return n>-JK&&n<JK}var $De=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function dr(n){if(n instanceof Date)return n;if(_e(n)){var t=$De.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function Vy(n){return Math.pow(10,qu(n))}function qu(n){if(n===0)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function $u(n,t){var e=qu(n),i=Math.pow(10,e),r=n/i,o;return t?r<1.5?o=1:r<2.5?o=2:r<4?o=3:r<7?o=5:o=10:r<1?o=1:r<2?o=2:r<3?o=3:r<5?o=5:o=10,n=o*i,e>=-20?+n.toFixed(e<0?-e:0):n}function rJ(n,t){var e=(n.length-1)*t+1,i=Math.floor(e),r=+n[i-1],o=e-i;return o?r+o*(n[i]-r):r}function oJ(n){n.sort(function(l,c){return s(l,c,0)?-1:1});for(var t=-1/0,e=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-e),t=r[a],e=o[a];r[0]===r[1]&&o[0]*o[1]!==1?n.splice(i,1):i++}return n;function s(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]===(u?-1:1)||!u&&s(l,c,1))}}function Ya(n){var t=parseFloat(n);return t==n&&(t!==0||!_e(n)||n.indexOf("x")<=0)?t:NaN}function Q8(n){return!isNaN(Ya(n))}function Uy(){return Math.round(Math.random()*9)}function aJ(n,t){return t===0?n:aJ(t,n%t)}function pL(n,t){return n==null?t:t==null?n:n*t/aJ(n,t)}function fr(n){throw new Error(n)}function sJ(n,t,e){return(t-n)*e+n}var lJ="series\0",cJ="\0_ec_\0";function ri(n){return n instanceof Array?n:n==null?[]:[n]}function mL(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var i=0,r=e.length;i<r;i++){var o=e[i];!n.emphasis[t].hasOwnProperty(o)&&n[t].hasOwnProperty(o)&&(n.emphasis[t][o]=n[t][o])}}}var hL=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Y2(n){return we(n)&&!pe(n)&&!(n instanceof Date)?n.value:n}function uJ(n){return we(n)&&!(n instanceof Array)}function dJ(n,t,e){var i=e==="normalMerge",r=e==="replaceMerge",o=e==="replaceAll";n=n||[],t=(t||[]).slice();var a=Le();R(t,function(l,c){if(!we(l)){t[c]=null;return}});var s=YDe(n,a,e);return(i||r)&&ZDe(s,n,a,t),i&&XDe(s,t),i||r?QDe(s,t,r):o&&KDe(s,t),JDe(s),s}function YDe(n,t,e){var i=[];if(e==="replaceAll")return i;for(var r=0;r<n.length;r++){var o=n[r];o&&o.id!=null&&t.set(o.id,r),i.push({existing:e==="replaceMerge"||Yu(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}function ZDe(n,t,e,i){R(i,function(r,o){if(!(!r||r.id==null)){var a=J8(r.id),s=e.get(a);if(s!=null){var l=n[s];Yi(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=t[s],i[o]=null}}})}function XDe(n,t){R(t,function(e,i){if(!(!e||e.name==null))for(var r=0;r<n.length;r++){var o=n[r].existing;if(!n[r].newOption&&o&&(o.id==null||e.id==null)&&!Yu(e)&&!Yu(o)&&fJ("name",o,e)){n[r].newOption=e,t[i]=null;return}}})}function QDe(n,t,e){R(t,function(i){if(i){for(var r,o=0;(r=n[o])&&(r.newOption||Yu(r.existing)||r.existing&&i.id!=null&&!fJ("id",i,r.existing));)o++;r?(r.newOption=i,r.brandNew=e):n.push({newOption:i,brandNew:e,existing:null,keyInfo:null}),o++}})}function KDe(n,t){R(t,function(e){n.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function JDe(n){var t=Le();R(n,function(e){var i=e.existing;i&&t.set(i.id,e)}),R(n,function(e){var i=e.newOption;Yi(!i||i.id==null||!t.get(i.id)||t.get(i.id)===e,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,e),!e.keyInfo&&(e.keyInfo={})}),R(n,function(e,i){var r=e.existing,o=e.newOption,a=e.keyInfo;if(we(o)){if(a.name=o.name!=null?J8(o.name):r?r.name:lJ+i,r)a.id=J8(r.id);else if(o.id!=null)a.id=J8(o.id);else{var s=0;do a.id="\0"+a.name+"\0"+s++;while(t.get(a.id))}t.set(a.id,e)}})}function fJ(n,t,e){var i=da(t[n],null),r=da(e[n],null);return i!=null&&r!=null&&i===r}function J8(n){return da(n,"")}function da(n,t){return n==null?t:_e(n)?n:Ct(n)||Nu(n)?n+"":t}function Zu(n){var t=n.name;return!!(t&&t.indexOf(lJ))}function Yu(n){return n&&n.id!=null&&J8(n.id).indexOf(cJ)===0}function pJ(n){return cJ+n}function mJ(n,t,e){R(n,function(i){var r=i.newOption;we(r)&&(i.keyInfo.mainType=t,i.keyInfo.subType=eIe(t,r,i.existing,e))})}function eIe(n,t,e,i){var r=t.type?t.type:e?e.subType:i.determineSubType(n,t);return r}function Za(n,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return pe(t.dataIndex)?ge(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex);if(t.name!=null)return pe(t.name)?ge(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name)}function Ot(){var n="__ec_inner_"+tIe++;return function(t){return t[n]||(t[n]={})}}var tIe=Uy();function w0(n,t,e){var i=ep(t,e),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,s=a,l=e?e.defaultMainType:null;return!r&&l&&o.set(l,{}),o.each(function(c,u){var d=M0(n,u,c,{useDefault:l===u,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});s[u+"Models"]=d.models,s[u+"Model"]=d.models[0]}),s}function ep(n,t){var e;if(_e(n)){var i={};i[n+"Index"]=0,e=i}else e=n;var r=Le(),o={},a=!1;return R(e,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){o[l]=s;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],d=(c[2]||"").toLowerCase();if(!(!u||!d||t&&t.includeMainTypes&&qe(t.includeMainTypes,u)<0)){a=a||!!u;var f=r.get(u)||r.set(u,{});f[d]=s}}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var si={useDefault:!0,enableAll:!1,enableNone:!1},hJ={useDefault:!1,enableAll:!0,enableNone:!0};function M0(n,t,e,i){i=i||si;var r=e.index,o=e.id,a=e.name,s={models:null,specified:r!=null||o!=null||a!=null};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=n.getComponent(t))?[l]:[],s}return r==="none"||r===!1?(Yi(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(r==="all"&&(Yi(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=n.queryComponents({mainType:t,index:r,id:o,name:a}),s)}function gL(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function gJ(n,t){return n.getAttribute?n.getAttribute(t):n[t]}function vJ(n){return n==="auto"?Be.domSupported?"html":"richText":n||"html"}function vL(n,t,e,i,r){var o=t==null||t==="auto";if(i==null)return i;if(Ct(i)){var a=sJ(e||0,i,r);return Cn(a,o?Math.max(yo(e||0),yo(i)):t)}else{if(_e(i))return r<1?e:i;for(var s=[],l=e,c=i,u=Math.max(l?l.length:0,c.length),d=0;d<u;++d){var f=n.getDimensionInfo(d);if(f&&f.type==="ordinal")s[d]=(r<1&&l?l:c)[d];else{var m=l&&l[d]?l[d]:0,v=c[d],a=sJ(m,v,r);s[d]=Cn(a,o?Math.max(yo(m),yo(v)):t)}}return s}}var nIe=".",V3="___EC__COMPONENT__CONTAINER___",yJ="___EC__EXTENDED_CLASS___";function Go(n){var t={main:"",sub:""};if(n){var e=n.split(nIe);t.main=e[0]||"",t.sub=e[1]||""}return t}function iIe(n){Yi(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function _J(n){return!!(n&&n[yJ])}function Xu(n,t){n.$constructor=n,n.extend=function(e){var i=this,r;return rIe(i)?r=(function(o){de(a,o);function a(){return o.apply(this,arguments)||this}return a})(i):(r=function(){(e.$constructor||i).apply(this,arguments)},D8(r,this)),fe(r.prototype,e),r[yJ]=!0,r.extend=this.extend,r.superCall=aIe,r.superApply=sIe,r.superClass=i,r}}function rIe(n){return Ie(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function Hy(n,t){n.extend=t.extend}var oIe=Math.round(Math.random()*10);function bJ(n){var t=["__\0is_clz",oIe++].join("_");n.prototype[t]=!0,n.isInstance=function(e){return!!(e&&e[t])}}function aIe(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return this.superClass.prototype[t].apply(n,e)}function sIe(n,t,e){return this.superClass.prototype[t].apply(n,e)}function T0(n){var t={};n.registerClass=function(i){var r=i.type||i.prototype.type;if(r){iIe(r),i.prototype.type=r;var o=Go(r);if(!o.sub)t[o.main]=i;else if(o.sub!==V3){var a=e(o);a[o.sub]=i}}return i},n.getClass=function(i,r,o){var a=t[i];if(a&&a[V3]&&(a=r?a[r]:null),o&&!a)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return a},n.getClassesByMainType=function(i){var r=Go(i),o=[],a=t[r.main];return a&&a[V3]?R(a,function(s,l){l!==V3&&o.push(s)}):o.push(a),o},n.hasClass=function(i){var r=Go(i);return!!t[r.main]},n.getAllClassMainTypes=function(){var i=[];return R(t,function(r,o){i.push(o)}),i},n.hasSubTypes=function(i){var r=Go(i),o=t[r.main];return o&&o[V3]};function e(i){var r=t[i.main];return(!r||!r[V3])&&(r=t[i.main]={},r[V3]=!0),r}}function Ls(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(i,r,o){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(r&&qe(r,l)>=0||o&&qe(o,l)<0)){var c=i.getShallow(l,t);c!=null&&(a[n[s][0]]=c)}}return a}}var lIe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],cIe=Ls(lIe),xJ=(function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return cIe(this,t,e)},n})();var _L=new W2(50);function SJ(n){if(typeof n=="string"){var t=_L.get(n);return t&&t.image}else return n}function bL(n,t,e,i,r){if(n)if(typeof n=="string"){if(t&&t.__zrImageSrc===n||!e)return t;var o=_L.get(n),a={hostEl:e,cb:i,cbPayload:r};return o?(t=o.image,!Qu(t)&&o.pending.push(a)):(t=vo.loadImage(n,CJ,CJ),t.__zrImageSrc=n,_L.put(n,t.__cachedImgObj={image:t,pending:[a]})),t}else return n;else return t}function CJ(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],i=e.cb;i&&i(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Qu(n){return n&&n.width&&n.height}var xL=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function SL(n,t,e,i,r){var o={};return MJ(o,n,t,e,i,r),o.text}function MJ(n,t,e,i,r,o){if(!e){n.text="",n.isTruncated=!1;return}var a=(t+"").split(`
`);o=TJ(e,i,r,o);for(var s=!1,l={},c=0,u=a.length;c<u;c++)EJ(l,a[c],o),a[c]=l.textLine,s=s||l.isTruncated;n.text=a.join(`
`),n.isTruncated=s}function TJ(n,t,e,i){i=i||{};var r=fe({},i);r.font=t,e=it(e,"..."),r.maxIterations=it(i.maxIterations,2);var o=r.minChar=it(i.minChar,0);r.cnCharWidth=jo("\u56FD",t);var a=r.ascCharWidth=jo("a",t);r.placeholder=it(i.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<o&&s>=a;l++)s-=a;var c=jo(e,t);return c>s&&(e="",c=0),s=n-c,r.ellipsis=e,r.ellipsisWidth=c,r.contentWidth=s,r.containerWidth=n,r}function EJ(n,t,e){var i=e.containerWidth,r=e.font,o=e.contentWidth;if(!i){n.textLine="",n.isTruncated=!1;return}var a=jo(t,r);if(a<=i){n.textLine=t,n.isTruncated=!1;return}for(var s=0;;s++){if(a<=o||s>=e.maxIterations){t+=e.ellipsis;break}var l=s===0?dIe(t,o,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*o/a):0;t=t.substr(0,l),a=jo(t,r)}t===""&&(t=e.placeholder),n.textLine=t,n.isTruncated=!0}function dIe(n,t,e,i){for(var r=0,o=0,a=n.length;o<a&&r<t;o++){var s=n.charCodeAt(o);r+=0<=s&&s<=127?e:i}return o}function DJ(n,t){n!=null&&(n+="");var e=t.overflow,i=t.padding,r=t.font,o=e==="truncate",a=Py(r),s=it(t.lineHeight,a),l=!!t.backgroundColor,c=t.lineOverflow==="truncate",u=!1,d=t.width,f;d!=null&&(e==="break"||e==="breakAll")?f=n?LJ(n,t.font,d,e==="breakAll",0).lines:[]:f=n?n.split(`
`):[];var m=f.length*s,v=it(t.height,m);if(m>v&&c){var _=Math.floor(v/s);u=u||f.length>_,f=f.slice(0,_)}if(n&&o&&d!=null)for(var b=TJ(d,r,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),C={},w=0;w<f.length;w++)EJ(C,f[w],b),f[w]=C.textLine,u=u||C.isTruncated;for(var E=v,D=0,w=0;w<f.length;w++)D=Math.max(jo(f[w],r),D);d==null&&(d=D);var L=D;return i&&(E+=i[0]+i[2],L+=i[1]+i[3],d+=i[1]+i[3]),l&&(L=d),{lines:f,height:v,outerWidth:L,outerHeight:E,lineHeight:s,calculatedLineHeight:a,contentWidth:D,contentHeight:m,width:d,isTruncated:u}}var fIe=(function(){function n(){}return n})(),wJ=(function(){function n(t){this.tokens=[],t&&(this.tokens=t)}return n})(),pIe=(function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return n})();function IJ(n,t){var e=new pIe;if(n!=null&&(n+=""),!n)return e;for(var i=t.width,r=t.height,o=t.overflow,a=(o==="break"||o==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:o==="breakAll"}:null,s=xL.lastIndex=0,l;(l=xL.exec(n))!=null;){var c=l.index;c>s&&CL(e,n.substring(s,c),t,a),CL(e,l[2],t,a,l[1]),s=xL.lastIndex}s<n.length&&CL(e,n.substring(s,n.length),t,a);var u=[],d=0,f=0,m=t.padding,v=o==="truncate",_=t.lineOverflow==="truncate",b={};function C(Ee,Ge,Ye){Ee.width=Ge,Ee.lineHeight=Ye,d+=Ye,f=Math.max(f,Ge)}e:for(var w=0;w<e.lines.length;w++){for(var E=e.lines[w],D=0,L=0,P=0;P<E.tokens.length;P++){var F=E.tokens[P],G=F.styleName&&t.rich[F.styleName]||{},q=F.textPadding=G.padding,Y=q?q[1]+q[3]:0,W=F.font=G.font||t.font;F.contentHeight=Py(W);var Z=it(G.height,F.contentHeight);if(F.innerHeight=Z,q&&(Z+=q[0]+q[2]),F.height=Z,F.lineHeight=v0(G.lineHeight,t.lineHeight,Z),F.align=G&&G.align||t.align,F.verticalAlign=G&&G.verticalAlign||"middle",_&&r!=null&&d+F.lineHeight>r){var te=e.lines.length;P>0?(E.tokens=E.tokens.slice(0,P),C(E,L,D),e.lines=e.lines.slice(0,w+1)):e.lines=e.lines.slice(0,w),e.isTruncated=e.isTruncated||e.lines.length<te;break e}var re=G.width,ce=re==null||re==="auto";if(typeof re=="string"&&re.charAt(re.length-1)==="%")F.percentWidth=re,u.push(F),F.contentWidth=jo(F.text,W);else{if(ce){var ne=G.backgroundColor,he=ne&&ne.image;he&&(he=SJ(he),Qu(he)&&(F.width=Math.max(F.width,he.width*Z/he.height)))}var oe=v&&i!=null?i-L:null;oe!=null&&oe<F.width?!ce||oe<Y?(F.text="",F.width=F.contentWidth=0):(MJ(b,F.text,oe-Y,W,t.ellipsis,{minChar:t.truncateMinChar}),F.text=b.text,e.isTruncated=e.isTruncated||b.isTruncated,F.width=F.contentWidth=jo(F.text,W)):F.contentWidth=jo(F.text,W)}F.width+=Y,L+=F.width,G&&(D=Math.max(D,F.lineHeight))}C(E,L,D)}e.outerWidth=e.width=it(i,f),e.outerHeight=e.height=it(r,d),e.contentHeight=d,e.contentWidth=f,m&&(e.outerWidth+=m[1]+m[3],e.outerHeight+=m[0]+m[2]);for(var w=0;w<u.length;w++){var F=u[w],ve=F.percentWidth;F.width=parseInt(ve,10)/100*e.width}return e}function CL(n,t,e,i,r){var o=t==="",a=r&&e.rich[r]||{},s=n.lines,l=a.font||e.font,c=!1,u,d;if(i){var f=a.padding,m=f?f[1]+f[3]:0;if(a.width!=null&&a.width!=="auto"){var v=$a(a.width,i.width)+m;s.length>0&&v+i.accumWidth>i.width&&(u=t.split(`
`),c=!0),i.accumWidth=v}else{var _=LJ(t,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=_.accumWidth+m,d=_.linesWidths,u=_.lines}}else u=t.split(`
`);for(var b=0;b<u.length;b++){var C=u[b],w=new fIe;if(w.styleName=r,w.text=C,w.isLineHolder=!C&&!o,typeof a.width=="number"?w.width=a.width:w.width=d?d[b]:jo(C,l),!b&&!c){var E=(s[s.length-1]||(s[0]=new wJ)).tokens,D=E.length;D===1&&E[0].isLineHolder?E[0]=w:(C||!D||o)&&E.push(w)}else s.push(new wJ([w]))}}function mIe(n){var t=n.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var hIe=Wr(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function gIe(n){return mIe(n)?!!hIe[n]:!0}function LJ(n,t,e,i,r){for(var o=[],a=[],s="",l="",c=0,u=0,d=0;d<n.length;d++){var f=n.charAt(d);if(f===`
`){l&&(s+=l,u+=c),o.push(s),a.push(u),s="",l="",c=0,u=0;continue}var m=jo(f,t),v=i?!1:!gIe(f);if(o.length?u+m>e:r+u+m>e){u?(s||l)&&(v?(s||(s=l,l="",c=0,u=c),o.push(s),a.push(u-c),l+=f,c+=m,s="",u=c):(l&&(s+=l,l="",c=0),o.push(s),a.push(u),s=f,u=m)):v?(o.push(l),a.push(c),l=f,c=m):(o.push(f),a.push(m));continue}u+=m,v?(l+=f,c+=m):(l&&(s+=l,l="",c=0),s+=f)}return!o.length&&!s&&(s=n,l="",c=0),l&&(s+=l),s&&(o.push(s),a.push(u)),o.length===1&&(u+=r),{accumWidth:u,lines:o,linesWidths:a}}var TL="__zr_style_"+Math.round(Math.random()*10),As={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},U3={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};As[TL]=!0;var AJ=["z","z2","invisible"],vIe=["invisible"],yIe=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype._init=function(e){for(var i=Lt(e),r=0;r<i.length;r++){var o=i[r];o==="style"?this.useStyle(e[o]):n.prototype.attrKV.call(this,o,e[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,i,r,o){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&_Ie(this,e,i)||a&&!a[0]&&!a[3])return!1;if(r&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(e,i){return this.rectContain(e,i)},t.prototype.traverse=function(e,i){e.call(i,this)},t.prototype.rectContain=function(e,i){var r=this.transformCoordToLocal(e,i),o=this.getBoundingRect();return o.contain(r[0],r[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Je(0,0,0,0)),i?Je.applyTransform(e,r,i):e.copy(r),(a||s||l)&&(e.width+=a*2+Math.abs(s),e.height+=a*2+Math.abs(l),e.x=Math.min(e.x,e.x+s-a),e.y=Math.min(e.y,e.y+l-a));var c=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-c),e.y=Math.floor(e.y-c),e.width=Math.ceil(e.width+1+c*2),e.height=Math.ceil(e.height+1+c*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Je(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,i){e!=="style"?n.prototype.attrKV.call(this,e,i):this.style?this.setStyle(i):this.useStyle(i)},t.prototype.setStyle=function(e,i){return typeof e=="string"?this.style[e]=i:fe(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=T3,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&T3)},t.prototype.styleUpdated=function(){this.__dirty&=~T3},t.prototype.createStyle=function(e){return V2(As,e)},t.prototype.useStyle=function(e){e[TL]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[TL]},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,i,AJ)},t.prototype._applyStateObj=function(e,i,r,o,a,s){n.prototype._applyStateObj.call(this,e,i,r,o,a,s);var l=!(i&&o),c;if(i&&i.style?a?o?c=i.style:(c=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(c,i.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(c,i.style)):l&&(c=r.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=Lt(u),f=0;f<d.length;f++){var m=d[f];m in c&&(c[m]=c[m],this.style[m]=u[m])}for(var v=Lt(c),f=0;f<v.length;f++){var m=v[f];this.style[m]=this.style[m]}this._transitionState(e,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);for(var _=this.__inHover?vIe:AJ,f=0;f<_.length;f++){var m=_[f];i&&i[m]!=null?this[m]=i[m]:l&&r[m]!=null&&(this[m]=r[m])}},t.prototype._mergeStates=function(e){for(var i=n.prototype._mergeStates.call(this,e),r,o=0;o<e.length;o++){var a=e[o];a.style&&(r=r||{},this._mergeStyle(r,a.style))}return r&&(i.style=r),i},t.prototype._mergeStyle=function(e,i){return fe(e,i),e},t.prototype.getAnimationStyleProps=function(){return U3},t.initDefaultProps=(function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Ri|T3})(),t})(Oy),wL=new Je(0,0,0,0),ML=new Je(0,0,0,0);function _Ie(n,t,e){return wL.copy(n.getBoundingRect()),n.transform&&wL.applyTransform(n.transform),ML.width=t,ML.height=e,!wL.intersect(ML)}var zs=yIe;var Xa=Math.min,Qa=Math.max,EL=Math.sin,DL=Math.cos,H3=Math.PI*2,jy=U2(),Gy=U2(),Wy=U2();function IL(n,t,e,i,r,o){r[0]=Xa(n,e),r[1]=Xa(t,i),o[0]=Qa(n,e),o[1]=Qa(t,i)}var zJ=[],kJ=[];function NJ(n,t,e,i,r,o,a,s,l,c){var u=Cy,d=ii,f=u(n,e,r,a,zJ);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var m=0;m<f;m++){var v=d(n,e,r,a,zJ[m]);l[0]=Xa(v,l[0]),c[0]=Qa(v,c[0])}f=u(t,i,o,s,kJ);for(var m=0;m<f;m++){var _=d(t,i,o,s,kJ[m]);l[1]=Xa(_,l[1]),c[1]=Qa(_,c[1])}l[0]=Xa(n,l[0]),c[0]=Qa(n,c[0]),l[0]=Xa(a,l[0]),c[0]=Qa(a,c[0]),l[1]=Xa(t,l[1]),c[1]=Qa(t,c[1]),l[1]=Xa(s,l[1]),c[1]=Qa(s,c[1])}function PJ(n,t,e,i,r,o,a,s){var l=Sy,c=Xi,u=Qa(Xa(l(n,e,r),1),0),d=Qa(Xa(l(t,i,o),1),0),f=c(n,e,r,u),m=c(t,i,o,d);a[0]=Xa(n,r,f),a[1]=Xa(t,o,m),s[0]=Qa(n,r,f),s[1]=Qa(t,o,m)}function OJ(n,t,e,i,r,o,a,s,l){var c=Ha,u=ja,d=Math.abs(r-o);if(d%H3<1e-4&&d>1e-4){s[0]=n-e,s[1]=t-i,l[0]=n+e,l[1]=t+i;return}if(jy[0]=DL(r)*e+n,jy[1]=EL(r)*i+t,Gy[0]=DL(o)*e+n,Gy[1]=EL(o)*i+t,c(s,jy,Gy),u(l,jy,Gy),r=r%H3,r<0&&(r=r+H3),o=o%H3,o<0&&(o=o+H3),r>o&&!a?o+=H3:r<o&&a&&(r+=H3),a){var f=o;o=r,r=f}for(var m=0;m<o;m+=Math.PI/2)m>r&&(Wy[0]=DL(m)*e+n,Wy[1]=EL(m)*i+t,c(s,Wy,s),u(l,Wy,l))}var yn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},j3=[],G3=[],ks=[],E0=[],Ns=[],Ps=[],LL=Math.min,AL=Math.max,W3=Math.cos,q3=Math.sin,Z2=Math.abs,NL=Math.PI,D0=NL*2,zL=typeof Float32Array<"u",tp=[];function kL(n){var t=Math.round(n/NL*1e8)/1e8;return t%2*NL}function bIe(n,t){var e=kL(n[0]);e<0&&(e+=D0);var i=e-n[0],r=n[1];r+=i,!t&&r-e>=D0?r=e+D0:t&&e-r>=D0?r=e-D0:!t&&e>r?r=e+(D0-kL(e-r)):t&&e<r&&(r=e-(D0-kL(r-e))),n[0]=e,n[1]=r}var xIe=(function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,i){i=i||0,i>0&&(this._ux=Z2(i/A3/t)||0,this._uy=Z2(i/A3/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(yn.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var i=Z2(t-this._xi),r=Z2(e-this._yi),o=i>this._ux||r>this._uy;if(this.addData(yn.L,t,e),this._ctx&&o&&this._ctx.lineTo(t,e),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){return this._drawPendingPt(),this.addData(yn.C,t,e,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(t,e,i,r,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(t,e,i,r){return this._drawPendingPt(),this.addData(yn.Q,t,e,i,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(t,e,i,r,o,a){this._drawPendingPt(),tp[0]=r,tp[1]=o,bIe(tp,a),r=tp[0],o=tp[1];var s=o-r;return this.addData(yn.A,t,e,i,i,r,s,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,r,o,a),this._xi=W3(o)*i+t,this._yi=q3(o)*i+e,this},n.prototype.arcTo=function(t,e,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,i,r,o),this},n.prototype.rect=function(t,e,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,i,r),this.addData(yn.R,t,e,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(yn.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&t.closePath(),this._xi=e,this._yi=i,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;!(this.data&&this.data.length===e)&&zL&&(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,r=this._len,o=0;o<e;o++)i+=t[o].len();zL&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i));for(var o=0;o<e;o++)for(var a=t[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},n.prototype.addData=function(t,e,i,r,o,a,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,zL&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){ks[0]=ks[1]=Ns[0]=Ns[1]=Number.MAX_VALUE,E0[0]=E0[1]=Ps[0]=Ps[1]=-Number.MAX_VALUE;var t=this.data,e=0,i=0,r=0,o=0,a;for(a=0;a<this._len;){var s=t[a++],l=a===1;switch(l&&(e=t[a],i=t[a+1],r=e,o=i),s){case yn.M:e=r=t[a++],i=o=t[a++],Ns[0]=r,Ns[1]=o,Ps[0]=r,Ps[1]=o;break;case yn.L:IL(e,i,t[a],t[a+1],Ns,Ps),e=t[a++],i=t[a++];break;case yn.C:NJ(e,i,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],Ns,Ps),e=t[a++],i=t[a++];break;case yn.Q:PJ(e,i,t[a++],t[a++],t[a],t[a+1],Ns,Ps),e=t[a++],i=t[a++];break;case yn.A:var c=t[a++],u=t[a++],d=t[a++],f=t[a++],m=t[a++],v=t[a++]+m;a+=1;var _=!t[a++];l&&(r=W3(m)*d+c,o=q3(m)*f+u),OJ(c,u,d,f,m,v,_,Ns,Ps),e=W3(v)*d+c,i=q3(v)*f+u;break;case yn.R:r=e=t[a++],o=i=t[a++];var b=t[a++],C=t[a++];IL(r,o,r+b,o+C,Ns,Ps);break;case yn.Z:e=r,i=o;break}Ha(ks,ks,Ns),ja(E0,E0,Ps)}return a===0&&(ks[0]=ks[1]=E0[0]=E0[1]=0),new Je(ks[0],ks[1],E0[0]-ks[0],E0[1]-ks[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,d=0,f=0;f<e;){var m=t[f++],v=f===1;v&&(o=t[f],a=t[f+1],s=o,l=a);var _=-1;switch(m){case yn.M:o=s=t[f++],a=l=t[f++];break;case yn.L:{var b=t[f++],C=t[f++],w=b-o,E=C-a;(Z2(w)>i||Z2(E)>r||f===e-1)&&(_=Math.sqrt(w*w+E*E),o=b,a=C);break}case yn.C:{var D=t[f++],L=t[f++],b=t[f++],C=t[f++],P=t[f++],F=t[f++];_=SK(o,a,D,L,b,C,P,F,10),o=P,a=F;break}case yn.Q:{var D=t[f++],L=t[f++],b=t[f++],C=t[f++];_=TK(o,a,D,L,b,C,10),o=b,a=C;break}case yn.A:var G=t[f++],q=t[f++],Y=t[f++],W=t[f++],Z=t[f++],te=t[f++],re=te+Z;f+=1,v&&(s=W3(Z)*Y+G,l=q3(Z)*W+q),_=AL(Y,W)*LL(D0,Math.abs(te)),o=W3(re)*Y+G,a=q3(re)*W+q;break;case yn.R:{s=o=t[f++],l=a=t[f++];var ce=t[f++],ne=t[f++];_=ce*2+ne*2;break}case yn.Z:{var w=s-o,E=l-a;_=Math.sqrt(w*w+E*E),o=s,a=l;break}}_>=0&&(c[d++]=_,u+=_)}return this._pathLen=u,u},n.prototype.rebuildPath=function(t,e){var i=this.data,r=this._ux,o=this._uy,a=this._len,s,l,c,u,d,f,m=e<1,v,_,b=0,C=0,w,E=0,D,L;if(!(m&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,_=this._pathLen,w=e*_,!w)))e:for(var P=0;P<a;){var F=i[P++],G=P===1;switch(G&&(c=i[P],u=i[P+1],s=c,l=u),F!==yn.L&&E>0&&(t.lineTo(D,L),E=0),F){case yn.M:s=c=i[P++],l=u=i[P++],t.moveTo(c,u);break;case yn.L:{d=i[P++],f=i[P++];var q=Z2(d-c),Y=Z2(f-u);if(q>r||Y>o){if(m){var W=v[C++];if(b+W>w){var Z=(w-b)/W;t.lineTo(c*(1-Z)+d*Z,u*(1-Z)+f*Z);break e}b+=W}t.lineTo(d,f),c=d,u=f,E=0}else{var te=q*q+Y*Y;te>E&&(D=d,L=f,E=te)}break}case yn.C:{var re=i[P++],ce=i[P++],ne=i[P++],he=i[P++],oe=i[P++],ve=i[P++];if(m){var W=v[C++];if(b+W>w){var Z=(w-b)/W;Bu(c,re,ne,oe,Z,j3),Bu(u,ce,he,ve,Z,G3),t.bezierCurveTo(j3[1],G3[1],j3[2],G3[2],j3[3],G3[3]);break e}b+=W}t.bezierCurveTo(re,ce,ne,he,oe,ve),c=oe,u=ve;break}case yn.Q:{var re=i[P++],ce=i[P++],ne=i[P++],he=i[P++];if(m){var W=v[C++];if(b+W>w){var Z=(w-b)/W;Vu(c,re,ne,Z,j3),Vu(u,ce,he,Z,G3),t.quadraticCurveTo(j3[1],G3[1],j3[2],G3[2]);break e}b+=W}t.quadraticCurveTo(re,ce,ne,he),c=ne,u=he;break}case yn.A:var Ee=i[P++],Ge=i[P++],Ye=i[P++],Rt=i[P++],Xe=i[P++],Jt=i[P++],Mr=i[P++],_n=!i[P++],Qi=Ye>Rt?Ye:Rt,Sn=Z2(Ye-Rt)>.001,kn=Xe+Jt,ot=!1;if(m){var W=v[C++];b+W>w&&(kn=Xe+Jt*(w-b)/W,ot=!0),b+=W}if(Sn&&t.ellipse?t.ellipse(Ee,Ge,Ye,Rt,Mr,Xe,kn,_n):t.arc(Ee,Ge,Qi,Xe,kn,_n),ot)break e;G&&(s=W3(Xe)*Ye+Ee,l=q3(Xe)*Rt+Ge),c=W3(kn)*Ye+Ee,u=q3(kn)*Rt+Ge;break;case yn.R:s=c=i[P],l=u=i[P+1],d=i[P++],f=i[P++];var Ft=i[P++],Ws=i[P++];if(m){var W=v[C++];if(b+W>w){var bn=w-b;t.moveTo(d,f),t.lineTo(d+LL(bn,Ft),f),bn-=Ft,bn>0&&t.lineTo(d+Ft,f+LL(bn,Ws)),bn-=Ws,bn>0&&t.lineTo(d+AL(Ft-bn,0),f+Ws),bn-=Ft,bn>0&&t.lineTo(d,f+AL(Ws-bn,0));break e}b+=W}t.rect(d,f,Ft,Ws);break;case yn.Z:if(m){var W=v[C++];if(b+W>w){var Z=(w-b)/W;t.lineTo(c*(1-Z)+s*Z,u*(1-Z)+l*Z);break e}b+=W}t.closePath(),c=s,u=l}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=yn,n.initDefaultProps=(function(){var t=n.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),n})(),fa=xIe;function $3(n,t,e,i,r,o,a){if(r===0)return!1;var s=r,l=0,c=n;if(a>t+s&&a>i+s||a<t-s&&a<i-s||o>n+s&&o>e+s||o<n-s&&o<e-s)return!1;if(n!==e)l=(t-i)/(n-e),c=(n*i-e*t)/(n-e);else return Math.abs(o-n)<=s/2;var u=l*o-a+c,d=u*u/(l*l+1);return d<=s/2*s/2}function RJ(n,t,e,i,r,o,a,s,l,c,u){if(l===0)return!1;var d=l;if(u>t+d&&u>i+d&&u>o+d&&u>s+d||u<t-d&&u<i-d&&u<o-d&&u<s-d||c>n+d&&c>e+d&&c>r+d&&c>a+d||c<n-d&&c<e-d&&c<r-d&&c<a-d)return!1;var f=CK(n,t,e,i,r,o,a,s,c,u,null);return f<=d/2}function FJ(n,t,e,i,r,o,a,s,l){if(a===0)return!1;var c=a;if(l>t+c&&l>i+c&&l>o+c||l<t-c&&l<i-c&&l<o-c||s>n+c&&s>e+c&&s>r+c||s<n-c&&s<e-c&&s<r-c)return!1;var u=MK(n,t,e,i,r,o,s,l,null);return u<=c/2}var BJ=Math.PI*2;function np(n){return n%=BJ,n<0&&(n+=BJ),n}var ip=Math.PI*2;function VJ(n,t,e,i,r,o,a,s,l){if(a===0)return!1;var c=a;s-=n,l-=t;var u=Math.sqrt(s*s+l*l);if(u-c>e||u+c<e)return!1;if(Math.abs(i-r)%ip<1e-4)return!0;if(o){var d=i;i=np(r),r=np(d)}else i=np(i),r=np(r);i>r&&(r+=ip);var f=Math.atan2(l,s);return f<0&&(f+=ip),f>=i&&f<=r||f+ip>=i&&f+ip<=r}function Ka(n,t,e,i,r,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var a=(o-t)/(i-t),s=i<t?1:-1;(a===1||a===0)&&(s=i<t?.5:-.5);var l=a*(e-n)+n;return l===r?1/0:l>r?s:0}var I0=fa.CMD,Y3=Math.PI*2,TIe=1e-4;function EIe(n,t){return Math.abs(n-t)<TIe}var _o=[-1,-1,-1],Ja=[-1,-1];function DIe(){var n=Ja[0];Ja[0]=Ja[1],Ja[1]=n}function IIe(n,t,e,i,r,o,a,s,l,c){if(c>t&&c>i&&c>o&&c>s||c<t&&c<i&&c<o&&c<s)return 0;var u=E3(t,i,o,s,c,_o);if(u===0)return 0;for(var d=0,f=-1,m=void 0,v=void 0,_=0;_<u;_++){var b=_o[_],C=b===0||b===1?.5:1,w=ii(n,e,r,a,b);w<l||(f<0&&(f=Cy(t,i,o,s,Ja),Ja[1]<Ja[0]&&f>1&&DIe(),m=ii(t,i,o,s,Ja[0]),f>1&&(v=ii(t,i,o,s,Ja[1]))),f===2?b<Ja[0]?d+=m<t?C:-C:b<Ja[1]?d+=v<m?C:-C:d+=s<v?C:-C:b<Ja[0]?d+=m<t?C:-C:d+=s<m?C:-C)}return d}function LIe(n,t,e,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var l=wK(t,i,o,s,_o);if(l===0)return 0;var c=Sy(t,i,o);if(c>=0&&c<=1){for(var u=0,d=Xi(t,i,o,c),f=0;f<l;f++){var m=_o[f]===0||_o[f]===1?.5:1,v=Xi(n,e,r,_o[f]);v<a||(_o[f]<c?u+=d<t?m:-m:u+=o<d?m:-m)}return u}else{var m=_o[0]===0||_o[0]===1?.5:1,v=Xi(n,e,r,_o[0]);return v<a?0:o<t?m:-m}}function AIe(n,t,e,i,r,o,a,s){if(s-=t,s>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);_o[0]=-l,_o[1]=l;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c>=Y3-1e-4){i=0,r=Y3;var u=o?1:-1;return a>=_o[0]+n&&a<=_o[1]+n?u:0}if(i>r){var d=i;i=r,r=d}i<0&&(i+=Y3,r+=Y3);for(var f=0,m=0;m<2;m++){var v=_o[m];if(v+n>a){var _=Math.atan2(s,v),u=o?1:-1;_<0&&(_=Y3+_),(_>=i&&_<=r||_+Y3>=i&&_+Y3<=r)&&(_>Math.PI/2&&_<Math.PI*1.5&&(u=-u),f+=u)}}return f}function UJ(n,t,e,i,r){for(var o=n.data,a=n.len(),s=0,l=0,c=0,u=0,d=0,f,m,v=0;v<a;){var _=o[v++],b=v===1;switch(_===I0.M&&v>1&&(e||(s+=Ka(l,c,u,d,i,r))),b&&(l=o[v],c=o[v+1],u=l,d=c),_){case I0.M:u=o[v++],d=o[v++],l=u,c=d;break;case I0.L:if(e){if($3(l,c,o[v],o[v+1],t,i,r))return!0}else s+=Ka(l,c,o[v],o[v+1],i,r)||0;l=o[v++],c=o[v++];break;case I0.C:if(e){if(RJ(l,c,o[v++],o[v++],o[v++],o[v++],o[v],o[v+1],t,i,r))return!0}else s+=IIe(l,c,o[v++],o[v++],o[v++],o[v++],o[v],o[v+1],i,r)||0;l=o[v++],c=o[v++];break;case I0.Q:if(e){if(FJ(l,c,o[v++],o[v++],o[v],o[v+1],t,i,r))return!0}else s+=LIe(l,c,o[v++],o[v++],o[v],o[v+1],i,r)||0;l=o[v++],c=o[v++];break;case I0.A:var C=o[v++],w=o[v++],E=o[v++],D=o[v++],L=o[v++],P=o[v++];v+=1;var F=!!(1-o[v++]);f=Math.cos(L)*E+C,m=Math.sin(L)*D+w,b?(u=f,d=m):s+=Ka(l,c,f,m,i,r);var G=(i-C)*D/E+C;if(e){if(VJ(C,w,D,L,L+P,F,t,G,r))return!0}else s+=AIe(C,w,D,L,L+P,F,G,r);l=Math.cos(L+P)*E+C,c=Math.sin(L+P)*D+w;break;case I0.R:u=l=o[v++],d=c=o[v++];var q=o[v++],Y=o[v++];if(f=u+q,m=d+Y,e){if($3(u,d,f,d,t,i,r)||$3(f,d,f,m,t,i,r)||$3(f,m,u,m,t,i,r)||$3(u,m,u,d,t,i,r))return!0}else s+=Ka(f,d,f,m,i,r),s+=Ka(u,m,u,d,i,r);break;case I0.Z:if(e){if($3(l,c,u,d,t,i,r))return!0}else s+=Ka(l,c,u,d,i,r);l=u,c=d;break}}return!e&&!EIe(c,d)&&(s+=Ka(l,c,u,d,i,r)||0),s!==0}function HJ(n,t,e){return UJ(n,0,!1,t,e)}function jJ(n,t,e,i){return UJ(n,t,!0,e,i)}var OL=Ne({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},As),kIe={style:Ne({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},U3.style)},PL=N3.concat(["invisible","culling","z","z2","zlevel","parent"]),NIe=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(){var e=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new t;r.buildPath===t.prototype.buildPath&&(r.buildPath=function(l){e.buildPath(l,e.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<PL.length;++s)r[PL[s]]=this[PL[s]];r.__dirty|=Ri}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var i=Lt(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<i.length;o++){var a=i[o],s=e[a];a==="style"?this.style?fe(this.style,s):this.useStyle(s):a==="shape"?fe(this.shape,s):n.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(_e(e)){var i=I3(e,0);return i>.5?$8:i>.2?qK:Y8}else if(e)return Y8}return $8},t.prototype.getInsideTextStroke=function(e){var i=this.style.fill;if(_e(i)){var r=this.__zr,o=!!(r&&r.isDarkMode()),a=I3(e,0)<q8;if(o===a)return i}},t.prototype.buildPath=function(e,i,r){},t.prototype.pathUpdated=function(){this.__dirty&=~_0},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new fa(!1)},t.prototype.hasStroke=function(){var e=this.style,i=e.stroke;return!(i==null||i==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,i=e.fill;return i!=null&&i!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,i=this.style,r=!e;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&_0)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),e=a.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||r){s.copy(e);var l=i.strokeNoScale?this.getLineScale():1,c=i.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return e},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i),o=this.getBoundingRect(),a=this.style;if(e=r[0],i=r[1],o.contain(e,i)){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),jJ(s,l/c,e,i)))return!0}if(this.hasFill())return HJ(s,e,i)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=_0,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,i){e==="shape"?this.setShape(i):n.prototype.attrKV.call(this,e,i)},t.prototype.setShape=function(e,i){var r=this.shape;return r||(r=this.shape={}),typeof e=="string"?r[e]=i:fe(r,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&_0)},t.prototype.createStyle=function(e){return V2(OL,e)},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.shape&&!i.shape&&(i.shape=fe({},this.shape))},t.prototype._applyStateObj=function(e,i,r,o,a,s){n.prototype._applyStateObj.call(this,e,i,r,o,a,s);var l=!(i&&o),c;if(i&&i.shape?a?o?c=i.shape:(c=fe({},r.shape),fe(c,i.shape)):(c=fe({},o?this.shape:r.shape),fe(c,i.shape)):l&&(c=r.shape),c)if(a){this.shape=fe({},this.shape);for(var u={},d=Lt(c),f=0;f<d.length;f++){var m=d[f];typeof c[m]=="object"?this.shape[m]=c[m]:u[m]=c[m]}this._transitionState(e,{shape:u},s)}else this.shape=c,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var i=n.prototype._mergeStates.call(this,e),r,o=0;o<e.length;o++){var a=e[o];a.shape&&(r=r||{},this._mergeStyle(r,a.shape))}return r&&(i.shape=r),i},t.prototype.getAnimationStyleProps=function(){return kIe},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var i=(function(o){et(a,o);function a(s){var l=o.call(this,s)||this;return e.init&&e.init.call(l,s),l}return a.prototype.getDefaultStyle=function(){return ke(e.style)},a.prototype.getDefaultShape=function(){return ke(e.shape)},a})(t);for(var r in e)typeof e[r]=="function"&&(i.prototype[r]=e[r]);return i},t.initDefaultProps=(function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Ri|T3|_0})(),t})(zs),ut=NIe;var PIe=Ne({strokeFirst:!0,font:I1,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},OL),GJ=(function(n){et(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var e=this.style,i=e.stroke;return i!=null&&i!=="none"&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style,i=e.fill;return i!=null&&i!=="none"},t.prototype.createStyle=function(e){return V2(PIe,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var i=e.text;i!=null?i+="":i="";var r=S0(i,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},t.initDefaultProps=(function(){var e=t.prototype;e.dirtyRectTolerance=10})(),t})(zs);GJ.prototype.type="tspan";var rp=GJ;var OIe=Ne({x:0,y:0},As),RIe={style:Ne({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},U3.style)};function FIe(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var WJ=(function(n){et(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return V2(OIe,e)},t.prototype._getSize=function(e){var i=this.style,r=i[e];if(r!=null)return r;var o=FIe(i.image)?i.image:this.__image;if(!o)return 0;var a=e==="width"?"height":"width",s=i[a];return s==null?o[e]:o[e]/o[a]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return RIe},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Je(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t})(zs);WJ.prototype.type="image";var Wo=WJ;function qJ(n,t){var e=t.x,i=t.y,r=t.width,o=t.height,a=t.r,s,l,c,u;r<0&&(e=e+r,r=-r),o<0&&(i=i+o,o=-o),typeof a=="number"?s=l=c=u=a:a instanceof Array?a.length===1?s=l=c=u=a[0]:a.length===2?(s=c=a[0],l=u=a[1]):a.length===3?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=0;var d;s+l>r&&(d=s+l,s*=r/d,l*=r/d),c+u>r&&(d=c+u,c*=r/d,u*=r/d),l+c>o&&(d=l+c,l*=o/d,c*=o/d),s+u>o&&(d=s+u,s*=o/d,u*=o/d),n.moveTo(e+s,i),n.lineTo(e+r-l,i),l!==0&&n.arc(e+r-l,i+l,l,-Math.PI/2,0),n.lineTo(e+r,i+o-c),c!==0&&n.arc(e+r-c,i+o-c,c,0,Math.PI/2),n.lineTo(e+u,i+o),u!==0&&n.arc(e+u,i+o-u,u,Math.PI/2,Math.PI),n.lineTo(e,i+s),s!==0&&n.arc(e+s,i+s,s,Math.PI,Math.PI*1.5)}var Ku=Math.round;function qy(n,t,e){if(t){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var s=e&&e.lineWidth;return s&&(Ku(i*2)===Ku(r*2)&&(n.x1=n.x2=L0(i,s,!0)),Ku(o*2)===Ku(a*2)&&(n.y1=n.y2=L0(o,s,!0))),n}}function $y(n,t,e){if(t){var i=t.x,r=t.y,o=t.width,a=t.height;n.x=i,n.y=r,n.width=o,n.height=a;var s=e&&e.lineWidth;return s&&(n.x=L0(i,s,!0),n.y=L0(r,s,!0),n.width=Math.max(L0(i+o,s,!1)-n.x,o===0?0:1),n.height=Math.max(L0(r+a,s,!1)-n.y,a===0?0:1)),n}}function L0(n,t,e){if(!t)return n;var i=Ku(n*2);return(i+Ku(t))%2===0?i/2:(i+(e?1:-1))/2}var UIe=(function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n})();var HIe={},$J=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new UIe},t.prototype.buildPath=function(e,i){var r,o,a,s;if(this.subPixelOptimize){var l=$y(HIe,i,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,a=i.width,s=i.height;i.r?qJ(e,i):e.rect(r,o,a,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(ut);$J.prototype.type="rect";var Tt=$J;var YJ={fill:"#000"},ZJ=2,jIe={style:Ne({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},U3.style)},iee=(function(n){et(t,n);function t(e){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=YJ,i.attr(e),i}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var i=this.innerTransformable;return i?i.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,YIe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Je(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var s=i[a],l=s.getBoundingRect(),c=s.getLocalTransform(r);c?(e.copy(l),e.applyTransform(c),o=o||e.clone(),o.union(e)):(o=o||l.clone(),o.union(l))}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||YJ},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,i){if(!i)return e;var r=i.rich,o=e.rich||r&&{};return fe(e,i),r&&o?(this._mergeRich(o,r),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,i){for(var r=Lt(i),o=0;o<r.length;o++){var a=r[o];e[a]=e[a]||{},fe(e[a],i[a])}},t.prototype.getAnimationStyleProps=function(){return jIe},t.prototype._getOrCreateChild=function(e){var i=this._children[this._childCursor];return(!i||!(i instanceof e))&&(i=new e),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},t.prototype._updatePlainTexts=function(){var e=this.style,i=e.font||I1,r=e.padding,o=nee(e),a=DJ(o,e),s=RL(e),l=!!e.backgroundColor,c=a.outerHeight,u=a.outerWidth,d=a.contentWidth,f=a.lines,m=a.lineHeight,v=this._defaultStyle;this.isTruncated=!!a.isTruncated;var _=e.x||0,b=e.y||0,C=e.align||v.align||"left",w=e.verticalAlign||v.verticalAlign||"top",E=_,D=P3(b,a.contentHeight,w);if(s||r){var L=ju(_,u,C),P=P3(b,c,w);s&&this._renderBackground(e,e,L,P,u,c)}D+=m/2,r&&(E=tee(_,C,r),w==="top"?D+=r[0]:w==="bottom"&&(D-=r[2]));for(var F=0,G=!1,q=eee("fill"in e?e.fill:(G=!0,v.fill)),Y=JJ("stroke"in e?e.stroke:!l&&(!v.autoStroke||G)?(F=ZJ,v.stroke):null),W=e.textShadowBlur>0,Z=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll"),te=a.calculatedLineHeight,re=0;re<f.length;re++){var ce=this._getOrCreateChild(rp),ne=ce.createStyle();ce.useStyle(ne),ne.text=f[re],ne.x=E,ne.y=D,C&&(ne.textAlign=C),ne.textBaseline="middle",ne.opacity=e.opacity,ne.strokeFirst=!0,W&&(ne.shadowBlur=e.textShadowBlur||0,ne.shadowColor=e.textShadowColor||"transparent",ne.shadowOffsetX=e.textShadowOffsetX||0,ne.shadowOffsetY=e.textShadowOffsetY||0),ne.stroke=Y,ne.fill=q,Y&&(ne.lineWidth=e.lineWidth||F,ne.lineDash=e.lineDash,ne.lineDashOffset=e.lineDashOffset||0),ne.font=i,QJ(ne,e),D+=m,Z&&ce.setBoundingRect(new Je(ju(ne.x,d,ne.textAlign),P3(ne.y,te,ne.textBaseline),d,te))}},t.prototype._updateRichTexts=function(){var e=this.style,i=nee(e),r=IJ(i,e),o=r.width,a=r.outerWidth,s=r.outerHeight,l=e.padding,c=e.x||0,u=e.y||0,d=this._defaultStyle,f=e.align||d.align,m=e.verticalAlign||d.verticalAlign;this.isTruncated=!!r.isTruncated;var v=ju(c,a,f),_=P3(u,s,m),b=v,C=_;l&&(b+=l[3],C+=l[0]);var w=b+o;RL(e)&&this._renderBackground(e,e,v,_,a,s);for(var E=!!e.backgroundColor,D=0;D<r.lines.length;D++){for(var L=r.lines[D],P=L.tokens,F=P.length,G=L.lineHeight,q=L.width,Y=0,W=b,Z=w,te=F-1,re=void 0;Y<F&&(re=P[Y],!re.align||re.align==="left");)this._placeToken(re,e,G,C,W,"left",E),q-=re.width,W+=re.width,Y++;for(;te>=0&&(re=P[te],re.align==="right");)this._placeToken(re,e,G,C,Z,"right",E),q-=re.width,Z-=re.width,te--;for(W+=(o-(W-b)-(w-Z)-q)/2;Y<=te;)re=P[Y],this._placeToken(re,e,G,C,W+re.width/2,"center",E),W+=re.width,Y++;C+=G}},t.prototype._placeToken=function(e,i,r,o,a,s,l){var c=i.rich[e.styleName]||{};c.text=e.text;var u=e.verticalAlign,d=o+r/2;u==="top"?d=o+e.height/2:u==="bottom"&&(d=o+r-e.height/2);var f=!e.isLineHolder&&RL(c);f&&this._renderBackground(c,i,s==="right"?a-e.width:s==="center"?a-e.width/2:a,d-e.height/2,e.width,e.height);var m=!!c.backgroundColor,v=e.textPadding;v&&(a=tee(a,s,v),d-=e.height/2-v[0]-e.innerHeight/2);var _=this._getOrCreateChild(rp),b=_.createStyle();_.useStyle(b);var C=this._defaultStyle,w=!1,E=0,D=eee("fill"in c?c.fill:"fill"in i?i.fill:(w=!0,C.fill)),L=JJ("stroke"in c?c.stroke:"stroke"in i?i.stroke:!m&&!l&&(!C.autoStroke||w)?(E=ZJ,C.stroke):null),P=c.textShadowBlur>0||i.textShadowBlur>0;b.text=e.text,b.x=a,b.y=d,P&&(b.shadowBlur=c.textShadowBlur||i.textShadowBlur||0,b.shadowColor=c.textShadowColor||i.textShadowColor||"transparent",b.shadowOffsetX=c.textShadowOffsetX||i.textShadowOffsetX||0,b.shadowOffsetY=c.textShadowOffsetY||i.textShadowOffsetY||0),b.textAlign=s,b.textBaseline="middle",b.font=e.font||I1,b.opacity=v0(c.opacity,i.opacity,1),QJ(b,c),L&&(b.lineWidth=v0(c.lineWidth,i.lineWidth,E),b.lineDash=it(c.lineDash,i.lineDash),b.lineDashOffset=i.lineDashOffset||0,b.stroke=L),D&&(b.fill=D);var F=e.contentWidth,G=e.contentHeight;_.setBoundingRect(new Je(ju(b.x,F,b.textAlign),P3(b.y,G,b.textBaseline),F,G))},t.prototype._renderBackground=function(e,i,r,o,a,s){var l=e.backgroundColor,c=e.borderWidth,u=e.borderColor,d=l&&l.image,f=l&&!d,m=e.borderRadius,v=this,_,b;if(f||e.lineHeight||c&&u){_=this._getOrCreateChild(Tt),_.useStyle(_.createStyle()),_.style.fill=null;var C=_.shape;C.x=r,C.y=o,C.width=a,C.height=s,C.r=m,_.dirtyShape()}if(f){var w=_.style;w.fill=l||null,w.fillOpacity=it(e.fillOpacity,1)}else if(d){b=this._getOrCreateChild(Wo),b.onload=function(){v.dirtyStyle()};var E=b.style;E.image=l.image,E.x=r,E.y=o,E.width=a,E.height=s}if(c&&u){var w=_.style;w.lineWidth=c,w.stroke=u,w.strokeOpacity=it(e.strokeOpacity,1),w.lineDash=e.borderDash,w.lineDashOffset=e.borderDashOffset||0,_.strokeContainThreshold=0,_.hasFill()&&_.hasStroke()&&(w.strokeFirst=!0,w.lineWidth*=2)}var D=(_||b).style;D.shadowBlur=e.shadowBlur||0,D.shadowColor=e.shadowColor||"transparent",D.shadowOffsetX=e.shadowOffsetX||0,D.shadowOffsetY=e.shadowOffsetY||0,D.opacity=v0(e.opacity,i.opacity,1)},t.makeFont=function(e){var i="";return $Ie(e)&&(i=[e.fontStyle,e.fontWeight,qIe(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),i&&ur(i)||e.textFont||e.font},t})(zs),GIe={left:!0,right:1,center:1},WIe={top:1,bottom:1,middle:1},XJ=["fontStyle","fontWeight","fontSize","fontFamily"];function qIe(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?ny+"px":n+"px"}function QJ(n,t){for(var e=0;e<XJ.length;e++){var i=XJ[e],r=t[i];r!=null&&(n[i]=r)}}function $Ie(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function YIe(n){return KJ(n),R(n.rich,KJ),n}function KJ(n){if(n){n.font=iee.makeFont(n);var t=n.align;t==="middle"&&(t="center"),n.align=t==null||GIe[t]?t:"left";var e=n.verticalAlign;e==="center"&&(e="middle"),n.verticalAlign=e==null||WIe[e]?e:"top";var i=n.padding;i&&(n.padding=L8(n.padding))}}function JJ(n,t){return n==null||t<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function eee(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function tee(n,t,e){return t==="right"?n-e[1]:t==="center"?n+e[3]/2-e[1]/2:n+e[3]}function nee(n){var t=n.text;return t!=null&&(t+=""),t}function RL(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var qt=iee;var yt=Ot(),ree=function(n,t,e,i){if(i){var r=yt(i);r.dataIndex=e,r.dataType=t,r.seriesIndex=n,r.ssrType="chart",i.type==="group"&&i.traverse(function(o){var a=yt(o);a.seriesIndex=n,a.dataIndex=e,a.dataType=t,a.ssrType="chart"})}};var oee=1,aee={},dee=Ot(),VL=Ot(),UL=0,op=1,ap=2,e1=["emphasis","blur","select"],HL=["normal","emphasis","blur","select"],ZIe=10,XIe=9,A0="highlight",sp="downplay",ed="select",lp="unselect",td="toggleSelect";function Ju(n){return n!=null&&n!=="none"}function Zy(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function fee(n){Zy(n,"emphasis",ap)}function pee(n){n.hoverState===ap&&Zy(n,"normal",UL)}function jL(n){Zy(n,"blur",op)}function mee(n){n.hoverState===op&&Zy(n,"normal",UL)}function QIe(n){n.selected=!0}function KIe(n){n.selected=!1}function see(n,t,e){t(n,e)}function X2(n,t,e){see(n,t,e),n.isGroup&&n.traverse(function(i){see(i,t,e)})}function GL(n,t){switch(t){case"emphasis":n.hoverState=ap;break;case"normal":n.hoverState=UL;break;case"blur":n.hoverState=op;break;case"select":n.selected=!0}}function JIe(n,t,e,i){for(var r=n.style,o={},a=0;a<t.length;a++){var s=t[a],l=r[s];o[s]=l??(i&&i[s])}for(var a=0;a<n.animators.length;a++){var c=n.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(e)<0&&c.targetName==="style"&&c.saveTo(o,t)}return o}function eLe(n,t,e,i){var r=e&&qe(e,"select")>=0,o=!1;if(n instanceof ut){var a=dee(n),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(Ju(s)||Ju(l)){i=i||{};var c=i.style||{};c.fill==="inherit"?(o=!0,i=fe({},i),c=fe({},c),c.fill=s):!Ju(c.fill)&&Ju(s)?(o=!0,i=fe({},i),c=fe({},c),c.fill=Ey(s)):!Ju(c.stroke)&&Ju(l)&&(o||(i=fe({},i),c=fe({},c)),c.stroke=Ey(l)),i.style=c}}if(i&&i.z2==null){o||(i=fe({},i));var u=n.z2EmphasisLift;i.z2=n.z2+(u??ZIe)}return i}function tLe(n,t,e){if(e&&e.z2==null){e=fe({},e);var i=n.z2SelectLift;e.z2=n.z2+(i??XIe)}return e}function nLe(n,t,e){var i=qe(n.currentStates,t)>=0,r=n.style.opacity,o=i?null:JIe(n,["opacity"],t,{opacity:1});e=e||{};var a=e.style||{};return a.opacity==null&&(e=fe({},e),a=fe({opacity:i?r:o.opacity*.1},a),e.style=a),e}function FL(n,t){var e=this.states[n];if(this.style){if(n==="emphasis")return eLe(this,n,t,e);if(n==="blur")return nLe(this,n,e);if(n==="select")return tLe(this,n,e)}return e}function iLe(n){n.stateProxy=FL;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=FL),e&&(e.stateProxy=FL)}function lee(n,t){!gee(n,t)&&!n.__highByOuter&&X2(n,fee)}function cee(n,t){!gee(n,t)&&!n.__highByOuter&&X2(n,pee)}function Os(n,t){n.__highByOuter|=1<<(t||0),X2(n,fee)}function Rs(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&X2(n,pee)}function hee(n){X2(n,jL)}function WL(n){X2(n,mee)}function qL(n){X2(n,QIe)}function $L(n){X2(n,KIe)}function gee(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function YL(n){var t=n.getModel(),e=[],i=[];t.eachComponent(function(r,o){var a=VL(o),s=r==="series",l=s?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!s&&i.push(l),a.isBlured&&(l.group.traverse(function(c){mee(c)}),s&&e.push(o)),a.isBlured=!1}),R(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(e,!1,t)})}function BL(n,t,e,i){var r=i.getModel();e=e||"coordinateSystem";function o(c,u){for(var d=0;d<u.length;d++){var f=c.getItemGraphicEl(u[d]);f&&WL(f)}}if(n!=null&&!(!t||t==="none")){var a=r.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(c){var u=a===c,d=c.coordinateSystem;d&&d.master&&(d=d.master);var f=d&&s?d===s:u;if(!(e==="series"&&!u||e==="coordinateSystem"&&!f||t==="series"&&u)){var m=i.getViewOfSeriesModel(c);if(m.group.traverse(function(b){b.__highByOuter&&u&&t==="self"||jL(b)}),Mi(t))o(c.getData(),t);else if(we(t))for(var v=Lt(t),_=0;_<v.length;_++)o(c.getData(v[_]),t[v[_]]);l.push(c),VL(c).isBlured=!0}}),r.eachComponent(function(c,u){if(c!=="series"){var d=i.getViewOfComponentModel(u);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,r)}})}}function Yy(n,t,e){if(!(n==null||t==null)){var i=e.getModel().getComponent(n,t);if(i){VL(i).isBlured=!0;var r=e.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(o){jL(o)})}}}function vee(n,t,e){var i=n.seriesIndex,r=n.getData(t.dataType);if(r){var o=Za(r,t);o=(pe(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l<s;)a=r.getItemGraphicEl(l++);if(a){var c=yt(a);BL(i,c.focus,c.blurScope,e)}else{var u=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);u!=null&&BL(i,u,d,e)}}}function Xy(n,t,e,i){var r={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||t==null||e==null)return r;var o=i.getModel().getComponent(n,t);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s=a.findHighDownDispatchers(e),l,c=0;c<s.length;c++)if(yt(s[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function yee(n,t,e){var i=yt(n),r=Xy(i.componentMainType,i.componentIndex,i.componentHighDownName,e),o=r.dispatchers,a=r.focusSelf;o?(a&&Yy(i.componentMainType,i.componentIndex,e),R(o,function(s){return lee(s,t)})):(BL(i.seriesIndex,i.focus,i.blurScope,e),i.focus==="self"&&Yy(i.componentMainType,i.componentIndex,e),lee(n,t))}function _ee(n,t,e){YL(e);var i=yt(n),r=Xy(i.componentMainType,i.componentIndex,i.componentHighDownName,e).dispatchers;r?R(r,function(o){return cee(o,t)}):cee(n,t)}function bee(n,t,e){if(Qy(t)){var i=t.dataType,r=n.getData(i),o=Za(r,t);pe(o)||(o=[o]),n[t.type===td?"toggleSelect":t.type===ed?"select":"unselect"](o,i)}}function ZL(n){var t=n.getAllData();R(t,function(e){var i=e.data,r=e.type;i.eachItemGraphicEl(function(o,a){n.isSelected(a,r)?qL(o):$L(o)})})}function xee(n){var t=[];return n.eachSeries(function(e){var i=e.getAllData();R(i,function(r){var o=r.data,a=r.type,s=e.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:e.seriesIndex};a!=null&&(l.dataType=a),t.push(l)}})}),t}function z0(n,t,e){Cee(n,!0),X2(n,iLe),oLe(n,t,e)}function rLe(n){Cee(n,!1)}function Z3(n,t,e,i){i?rLe(n):z0(n,t,e)}function oLe(n,t,e){var i=yt(n);t!=null?(i.focus=t,i.blurScope=e):i.focus&&(i.focus=null)}var uee=["emphasis","blur","select"],aLe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function cp(n,t,e,i){e=e||"itemStyle";for(var r=0;r<uee.length;r++){var o=uee[r],a=t.getModel([o,e]),s=n.ensureState(o);s.style=i?i(a):a[aLe[e]]()}}function Cee(n,t){var e=t===!1,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!e||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!e)}function up(n){return!!(n&&n.__highDownDispatcher)}function See(n){var t=aee[n];return t==null&&oee<=32&&(t=aee[n]=oee++),t}function Qy(n){var t=n.type;return t===ed||t===lp||t===td}function XL(n){var t=n.type;return t===A0||t===sp}function wee(n){var t=dee(n);t.normalFill=n.style.fill,t.normalStroke=n.style.stroke;var e=n.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var li={};Ko(li,{Arc:()=>K3,BezierCurve:()=>gp,BoundingRect:()=>Je,Circle:()=>X3,CompoundPath:()=>n_,Ellipse:()=>fp,Group:()=>Pt,Image:()=>Wo,IncrementalDisplayable:()=>s_,Line:()=>pa,LinearGradient:()=>rd,OrientedBoundingRect:()=>od,Path:()=>ut,Point:()=>Kt,Polygon:()=>Q2,Polyline:()=>K2,RadialGradient:()=>r_,Rect:()=>Tt,Ring:()=>hp,Sector:()=>Bs,Text:()=>qt,applyTransform:()=>i4,clipPointsByRect:()=>bp,clipRectByRect:()=>uA,createIcon:()=>el,extendPath:()=>aA,extendShape:()=>oA,getShapeClass:()=>sA,getTransform:()=>J2,groupTransition:()=>cA,initProps:()=>Yr,isElementRemoved:()=>t4,lineLineIntersect:()=>Jee,linePolygonIntersect:()=>VLe,makeImage:()=>yp,makePath:()=>sd,mergePath:()=>lA,registerShape:()=>ma,removeElement:()=>ad,removeElementWithFadeOut:()=>vp,resizePath:()=>d_,setTooltipConfig:()=>k0,subPixelOptimize:()=>FLe,subPixelOptimizeLine:()=>n4,subPixelOptimizeRect:()=>RLe,transformDirection:()=>_p,traverseElements:()=>r4,updateProps:()=>mi});var nd=fa.CMD,sLe=[[],[],[]],Mee=Math.sqrt,lLe=Math.atan2;function QL(n,t){if(t){var e=n.data,i=n.len(),r,o,a,s,l,c,u=nd.M,d=nd.C,f=nd.L,m=nd.R,v=nd.A,_=nd.Q;for(a=0,s=0;a<i;){switch(r=e[a++],s=a,o=0,r){case u:o=1;break;case f:o=1;break;case d:o=3;break;case _:o=2;break;case v:var b=t[4],C=t[5],w=Mee(t[0]*t[0]+t[1]*t[1]),E=Mee(t[2]*t[2]+t[3]*t[3]),D=lLe(-t[1]/E,t[0]/w);e[a]*=w,e[a++]+=b,e[a]*=E,e[a++]+=C,e[a++]*=w,e[a++]*=E,e[a++]+=D,e[a++]+=D,a+=2,s=a;break;case m:c[0]=e[a++],c[1]=e[a++],Ti(c,c,t),e[s++]=c[0],e[s++]=c[1],c[0]+=e[a++],c[1]+=e[a++],Ti(c,c,t),e[s++]=c[0],e[s++]=c[1]}for(l=0;l<o;l++){var L=sLe[l];L[0]=e[a++],L[1]=e[a++],Ti(L,L,t),e[s++]=L[0],e[s++]=L[1]}}n.increaseVersion()}}var KL=Math.sqrt,Ky=Math.sin,Jy=Math.cos,dp=Math.PI;function Tee(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function JL(n,t){return(n[0]*t[0]+n[1]*t[1])/(Tee(n)*Tee(t))}function Eee(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(JL(n,t))}function Dee(n,t,e,i,r,o,a,s,l,c,u){var d=l*(dp/180),f=Jy(d)*(n-e)/2+Ky(d)*(t-i)/2,m=-1*Ky(d)*(n-e)/2+Jy(d)*(t-i)/2,v=f*f/(a*a)+m*m/(s*s);v>1&&(a*=KL(v),s*=KL(v));var _=(r===o?-1:1)*KL((a*a*(s*s)-a*a*(m*m)-s*s*(f*f))/(a*a*(m*m)+s*s*(f*f)))||0,b=_*a*m/s,C=_*-s*f/a,w=(n+e)/2+Jy(d)*b-Ky(d)*C,E=(t+i)/2+Ky(d)*b+Jy(d)*C,D=Eee([1,0],[(f-b)/a,(m-C)/s]),L=[(f-b)/a,(m-C)/s],P=[(-1*f-b)/a,(-1*m-C)/s],F=Eee(L,P);if(JL(L,P)<=-1&&(F=dp),JL(L,P)>=1&&(F=0),F<0){var G=Math.round(F/dp*1e6)/1e6;F=dp*2+G%2*dp}u.addData(c,w,E,a,s,D,F,d,o)}var cLe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,uLe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function dLe(n){var t=new fa;if(!n)return t;var e=0,i=0,r=e,o=i,a,s=fa.CMD,l=n.match(cLe);if(!l)return t;for(var c=0;c<l.length;c++){for(var u=l[c],d=u.charAt(0),f=void 0,m=u.match(uLe)||[],v=m.length,_=0;_<v;_++)m[_]=parseFloat(m[_]);for(var b=0;b<v;){var C=void 0,w=void 0,E=void 0,D=void 0,L=void 0,P=void 0,F=void 0,G=e,q=i,Y=void 0,W=void 0;switch(d){case"l":e+=m[b++],i+=m[b++],f=s.L,t.addData(f,e,i);break;case"L":e=m[b++],i=m[b++],f=s.L,t.addData(f,e,i);break;case"m":e+=m[b++],i+=m[b++],f=s.M,t.addData(f,e,i),r=e,o=i,d="l";break;case"M":e=m[b++],i=m[b++],f=s.M,t.addData(f,e,i),r=e,o=i,d="L";break;case"h":e+=m[b++],f=s.L,t.addData(f,e,i);break;case"H":e=m[b++],f=s.L,t.addData(f,e,i);break;case"v":i+=m[b++],f=s.L,t.addData(f,e,i);break;case"V":i=m[b++],f=s.L,t.addData(f,e,i);break;case"C":f=s.C,t.addData(f,m[b++],m[b++],m[b++],m[b++],m[b++],m[b++]),e=m[b-2],i=m[b-1];break;case"c":f=s.C,t.addData(f,m[b++]+e,m[b++]+i,m[b++]+e,m[b++]+i,m[b++]+e,m[b++]+i),e+=m[b-2],i+=m[b-1];break;case"S":C=e,w=i,Y=t.len(),W=t.data,a===s.C&&(C+=e-W[Y-4],w+=i-W[Y-3]),f=s.C,G=m[b++],q=m[b++],e=m[b++],i=m[b++],t.addData(f,C,w,G,q,e,i);break;case"s":C=e,w=i,Y=t.len(),W=t.data,a===s.C&&(C+=e-W[Y-4],w+=i-W[Y-3]),f=s.C,G=e+m[b++],q=i+m[b++],e+=m[b++],i+=m[b++],t.addData(f,C,w,G,q,e,i);break;case"Q":G=m[b++],q=m[b++],e=m[b++],i=m[b++],f=s.Q,t.addData(f,G,q,e,i);break;case"q":G=m[b++]+e,q=m[b++]+i,e+=m[b++],i+=m[b++],f=s.Q,t.addData(f,G,q,e,i);break;case"T":C=e,w=i,Y=t.len(),W=t.data,a===s.Q&&(C+=e-W[Y-4],w+=i-W[Y-3]),e=m[b++],i=m[b++],f=s.Q,t.addData(f,C,w,e,i);break;case"t":C=e,w=i,Y=t.len(),W=t.data,a===s.Q&&(C+=e-W[Y-4],w+=i-W[Y-3]),e+=m[b++],i+=m[b++],f=s.Q,t.addData(f,C,w,e,i);break;case"A":E=m[b++],D=m[b++],L=m[b++],P=m[b++],F=m[b++],G=e,q=i,e=m[b++],i=m[b++],f=s.A,Dee(G,q,e,i,P,F,E,D,L,f,t);break;case"a":E=m[b++],D=m[b++],L=m[b++],P=m[b++],F=m[b++],G=e,q=i,e+=m[b++],i+=m[b++],f=s.A,Dee(G,q,e,i,P,F,E,D,L,f,t);break}}(d==="z"||d==="Z")&&(f=s.Z,t.addData(f),e=r,i=o),a=f}return t.toStatic(),t}var Iee=(function(n){et(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t})(ut);function Lee(n){return n.setData!=null}function Aee(n,t){var e=dLe(n),i=fe({},t);return i.buildPath=function(r){if(Lee(r)){r.setData(e.data);var o=r.getContext();o&&r.rebuildPath(o,1)}else{var o=r;e.rebuildPath(o,1)}},i.applyTransform=function(r){QL(e,r),this.dirtyShape()},i}function zee(n,t){return new Iee(Aee(n,t))}function kee(n,t){var e=Aee(n,t),i=(function(r){et(o,r);function o(a){var s=r.call(this,a)||this;return s.applyTransform=e.applyTransform,s.buildPath=e.buildPath,s}return o})(Iee);return i}function Nee(n,t){for(var e=[],i=n.length,r=0;r<i;r++){var o=n[r];e.push(o.getUpdatedPathProxy(!0))}var a=new ut(t);return a.createPathProxy(),a.buildPath=function(s){if(Lee(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},a}var pLe=(function(){function n(){this.cx=0,this.cy=0,this.r=0}return n})();var Pee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new pLe},t.prototype.buildPath=function(e,i){e.moveTo(i.cx+i.r,i.cy),e.arc(i.cx,i.cy,i.r,0,Math.PI*2)},t})(ut);Pee.prototype.type="circle";var X3=Pee;var mLe=(function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n})();var Oee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new mLe},t.prototype.buildPath=function(e,i){var r=.5522848,o=i.cx,a=i.cy,s=i.rx,l=i.ry,c=s*r,u=l*r;e.moveTo(o-s,a),e.bezierCurveTo(o-s,a-u,o-c,a-l,o,a-l),e.bezierCurveTo(o+c,a-l,o+s,a-u,o+s,a),e.bezierCurveTo(o+s,a+u,o+c,a+l,o,a+l),e.bezierCurveTo(o-c,a+l,o-s,a+u,o-s,a),e.closePath()},t})(ut);Oee.prototype.type="ellipse";var fp=Oee;var Fee=Math.PI,eA=Fee*2,Q3=Math.sin,id=Math.cos,hLe=Math.acos,$r=Math.atan2,Ree=Math.abs,mp=Math.sqrt,pp=Math.max,Fs=Math.min,k1=1e-4;function gLe(n,t,e,i,r,o,a,s){var l=e-n,c=i-t,u=a-r,d=s-o,f=d*l-u*c;if(!(f*f<k1))return f=(u*(t-o)-d*(n-r))/f,[n+f*l,t+f*c]}function e_(n,t,e,i,r,o,a){var s=n-e,l=t-i,c=(a?o:-o)/mp(s*s+l*l),u=c*l,d=-c*s,f=n+u,m=t+d,v=e+u,_=i+d,b=(f+v)/2,C=(m+_)/2,w=v-f,E=_-m,D=w*w+E*E,L=r-o,P=f*_-v*m,F=(E<0?-1:1)*mp(pp(0,L*L*D-P*P)),G=(P*E-w*F)/D,q=(-P*w-E*F)/D,Y=(P*E+w*F)/D,W=(-P*w+E*F)/D,Z=G-b,te=q-C,re=Y-b,ce=W-C;return Z*Z+te*te>re*re+ce*ce&&(G=Y,q=W),{cx:G,cy:q,x0:-u,y0:-d,x1:G*(r/L-1),y1:q*(r/L-1)}}function vLe(n){var t;if(pe(n)){var e=n.length;if(!e)return n;e===1?t=[n[0],n[0],0,0]:e===2?t=[n[0],n[0],n[1],n[1]]:e===3?t=n.concat(n[2]):t=n}else t=[n,n,n,n];return t}function Bee(n,t){var e,i=pp(t.r,0),r=pp(t.r0||0,0),o=i>0,a=r>0;if(!(!o&&!a)){if(o||(i=r,r=0),r>i){var s=i;i=r,r=s}var l=t.startAngle,c=t.endAngle;if(!(isNaN(l)||isNaN(c))){var u=t.cx,d=t.cy,f=!!t.clockwise,m=Ree(c-l),v=m>eA&&m%eA;if(v>k1&&(m=v),!(i>k1))n.moveTo(u,d);else if(m>eA-k1)n.moveTo(u+i*id(l),d+i*Q3(l)),n.arc(u,d,i,l,c,!f),r>k1&&(n.moveTo(u+r*id(c),d+r*Q3(c)),n.arc(u,d,r,c,l,f));else{var _=void 0,b=void 0,C=void 0,w=void 0,E=void 0,D=void 0,L=void 0,P=void 0,F=void 0,G=void 0,q=void 0,Y=void 0,W=void 0,Z=void 0,te=void 0,re=void 0,ce=i*id(l),ne=i*Q3(l),he=r*id(c),oe=r*Q3(c),ve=m>k1;if(ve){var Ee=t.cornerRadius;Ee&&(e=vLe(Ee),_=e[0],b=e[1],C=e[2],w=e[3]);var Ge=Ree(i-r)/2;if(E=Fs(Ge,C),D=Fs(Ge,w),L=Fs(Ge,_),P=Fs(Ge,b),q=F=pp(E,D),Y=G=pp(L,P),(F>k1||G>k1)&&(W=i*id(c),Z=i*Q3(c),te=r*id(l),re=r*Q3(l),m<Fee)){var Ye=gLe(ce,ne,te,re,W,Z,he,oe);if(Ye){var Rt=ce-Ye[0],Xe=ne-Ye[1],Jt=W-Ye[0],Mr=Z-Ye[1],_n=1/Q3(hLe((Rt*Jt+Xe*Mr)/(mp(Rt*Rt+Xe*Xe)*mp(Jt*Jt+Mr*Mr)))/2),Qi=mp(Ye[0]*Ye[0]+Ye[1]*Ye[1]);q=Fs(F,(i-Qi)/(_n+1)),Y=Fs(G,(r-Qi)/(_n-1))}}}if(!ve)n.moveTo(u+ce,d+ne);else if(q>k1){var Sn=Fs(C,q),kn=Fs(w,q),ot=e_(te,re,ce,ne,i,Sn,f),Ft=e_(W,Z,he,oe,i,kn,f);n.moveTo(u+ot.cx+ot.x0,d+ot.cy+ot.y0),q<F&&Sn===kn?n.arc(u+ot.cx,d+ot.cy,q,$r(ot.y0,ot.x0),$r(Ft.y0,Ft.x0),!f):(Sn>0&&n.arc(u+ot.cx,d+ot.cy,Sn,$r(ot.y0,ot.x0),$r(ot.y1,ot.x1),!f),n.arc(u,d,i,$r(ot.cy+ot.y1,ot.cx+ot.x1),$r(Ft.cy+Ft.y1,Ft.cx+Ft.x1),!f),kn>0&&n.arc(u+Ft.cx,d+Ft.cy,kn,$r(Ft.y1,Ft.x1),$r(Ft.y0,Ft.x0),!f))}else n.moveTo(u+ce,d+ne),n.arc(u,d,i,l,c,!f);if(!(r>k1)||!ve)n.lineTo(u+he,d+oe);else if(Y>k1){var Sn=Fs(_,Y),kn=Fs(b,Y),ot=e_(he,oe,W,Z,r,-kn,f),Ft=e_(ce,ne,te,re,r,-Sn,f);n.lineTo(u+ot.cx+ot.x0,d+ot.cy+ot.y0),Y<G&&Sn===kn?n.arc(u+ot.cx,d+ot.cy,Y,$r(ot.y0,ot.x0),$r(Ft.y0,Ft.x0),!f):(kn>0&&n.arc(u+ot.cx,d+ot.cy,kn,$r(ot.y0,ot.x0),$r(ot.y1,ot.x1),!f),n.arc(u,d,r,$r(ot.cy+ot.y1,ot.cx+ot.x1),$r(Ft.cy+Ft.y1,Ft.cx+Ft.x1),f),Sn>0&&n.arc(u+Ft.cx,d+Ft.cy,Sn,$r(Ft.y1,Ft.x1),$r(Ft.y0,Ft.x0),!f))}else n.lineTo(u+he,d+oe),n.arc(u,d,r,c,l,f)}n.closePath()}}}var _Le=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n})();var Vee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new _Le},t.prototype.buildPath=function(e,i){Bee(e,i)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(ut);Vee.prototype.type="sector";var Bs=Vee;var bLe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n})();var Uee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new bLe},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.PI*2;e.moveTo(r+i.r,o),e.arc(r,o,i.r,0,a,!1),e.moveTo(r+i.r0,o),e.arc(r,o,i.r0,0,a,!0)},t})(ut);Uee.prototype.type="ring";var hp=Uee;function tA(n,t,e,i){var r=[],o=[],a=[],s=[],l,c,u,d;if(i){u=[1/0,1/0],d=[-1/0,-1/0];for(var f=0,m=n.length;f<m;f++)Ha(u,u,n[f]),ja(d,d,n[f]);Ha(u,u,i[0]),ja(d,d,i[1])}for(var f=0,m=n.length;f<m;f++){var v=n[f];if(e)l=n[f?f-1:m-1],c=n[(f+1)%m];else if(f===0||f===m-1){r.push(_I(n[f]));continue}else l=n[f-1],c=n[f+1];bI(o,c,l),z8(o,o,t);var _=k8(v,l),b=k8(v,c),C=_+b;C!==0&&(_/=C,b/=C),z8(a,o,-_),z8(s,o,b);var w=uy([],v,a),E=uy([],v,s);i&&(ja(w,w,u),Ha(w,w,d),ja(E,E,u),Ha(E,E,d)),r.push(w),r.push(E)}return e&&r.push(r.shift()),r}function t_(n,t,e){var i=t.smooth,r=t.points;if(r&&r.length>=2){if(i){var o=tA(r,i,e,t.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(e?a:a-1);s++){var l=o[s*2],c=o[s*2+1],u=r[(s+1)%a];n.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{n.moveTo(r[0][0],r[0][1]);for(var s=1,d=r.length;s<d;s++)n.lineTo(r[s][0],r[s][1])}e&&n.closePath()}}var xLe=(function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n})();var jee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new xLe},t.prototype.buildPath=function(e,i){t_(e,i,!0)},t})(ut);jee.prototype.type="polygon";var Q2=jee;var CLe=(function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n})();var Gee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new CLe},t.prototype.buildPath=function(e,i){t_(e,i,!1)},t})(ut);Gee.prototype.type="polyline";var K2=Gee;var SLe={},wLe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})();var Wee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new wLe},t.prototype.buildPath=function(e,i){var r,o,a,s;if(this.subPixelOptimize){var l=qy(SLe,i,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=i.x1,o=i.y1,a=i.x2,s=i.y2;var c=i.percent;c!==0&&(e.moveTo(r,o),c<1&&(a=r*(1-c)+a*c,s=o*(1-c)+s*c),e.lineTo(a,s))},t.prototype.pointAt=function(e){var i=this.shape;return[i.x1*(1-e)+i.x2*e,i.y1*(1-e)+i.y2*e]},t})(ut);Wee.prototype.type="line";var pa=Wee;var qo=[],MLe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n})();function qee(n,t,e){var i=n.cpx2,r=n.cpy2;return i!=null||r!=null?[(e?RI:ii)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?RI:ii)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?FI:Xi)(n.x1,n.cpx1,n.x2,t),(e?FI:Xi)(n.y1,n.cpy1,n.y2,t)]}var $ee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new MLe},t.prototype.buildPath=function(e,i){var r=i.x1,o=i.y1,a=i.x2,s=i.y2,l=i.cpx1,c=i.cpy1,u=i.cpx2,d=i.cpy2,f=i.percent;f!==0&&(e.moveTo(r,o),u==null||d==null?(f<1&&(Vu(r,l,a,f,qo),l=qo[1],a=qo[2],Vu(o,c,s,f,qo),c=qo[1],s=qo[2]),e.quadraticCurveTo(l,c,a,s)):(f<1&&(Bu(r,l,u,a,f,qo),l=qo[1],u=qo[2],a=qo[3],Bu(o,c,d,s,f,qo),c=qo[1],d=qo[2],s=qo[3]),e.bezierCurveTo(l,c,u,d,a,s)))},t.prototype.pointAt=function(e){return qee(this.shape,e,!1)},t.prototype.tangentAt=function(e){var i=qee(this.shape,e,!0);return SI(i,i)},t})(ut);$ee.prototype.type="bezier-curve";var gp=$ee;var TLe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})();var Yee=(function(n){et(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new TLe},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),s=i.startAngle,l=i.endAngle,c=i.clockwise,u=Math.cos(s),d=Math.sin(s);e.moveTo(u*a+r,d*a+o),e.arc(r,o,a,s,l,!c)},t})(ut);Yee.prototype.type="arc";var K3=Yee;var ELe=(function(n){et(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,i=this.shapeChanged(),r=0;r<e.length;r++)i=i||e[r].shapeChanged();i&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(i[0],i[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(e,r[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],i=0;i<e.length;i++)e[i].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),ut.prototype.getBoundingRect.call(this)},t})(ut),n_=ELe;var DLe=(function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n})(),i_=DLe;var ILe=(function(n){et(t,n);function t(e,i,r,o,a,s){var l=n.call(this,a)||this;return l.x=e??0,l.y=i??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return t})(i_),rd=ILe;var LLe=(function(n){et(t,n);function t(e,i,r,o,a){var s=n.call(this,o)||this;return s.x=e??.5,s.y=i??.5,s.r=r??.5,s.type="radial",s.global=a||!1,s}return t})(i_),r_=LLe;var J3=[0,0],e4=[0,0],o_=new Kt,a_=new Kt,ALe=(function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Kt;for(var i=0;i<2;i++)this._axes[i]=new Kt;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var i=this._corners,r=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(i[0].set(o,a),i[1].set(s,a),i[2].set(s,l),i[3].set(o,l),e)for(var c=0;c<4;c++)i[c].transform(e);Kt.sub(r[0],i[1],i[0]),Kt.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize();for(var c=0;c<2;c++)this._origin[c]=r[c].dot(i[0])},n.prototype.intersect=function(t,e){var i=!0,r=!e;return o_.set(1/0,1/0),a_.set(0,0),!this._intersectCheckOneSide(this,t,o_,a_,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(t,this,o_,a_,r,-1)&&(i=!1,r)||r||Kt.copy(e,i?o_:a_),i},n.prototype._intersectCheckOneSide=function(t,e,i,r,o,a){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,J3),this._getProjMinMaxOnAxis(l,e._corners,e4),J3[1]<e4[0]||J3[0]>e4[1]){if(s=!1,o)return s;var u=Math.abs(e4[0]-J3[1]),d=Math.abs(J3[0]-e4[1]);Math.min(u,d)>r.len()&&(u<d?Kt.scale(r,c,-u*a):Kt.scale(r,c,d*a))}else if(i){var u=Math.abs(e4[0]-J3[1]),d=Math.abs(J3[0]-e4[1]);Math.min(u,d)<i.len()&&(u<d?Kt.scale(i,c,u*a):Kt.scale(i,c,-d*a))}}return s},n.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var r=this._axes[t],o=this._origin,a=e[0].dot(r)+o[t],s=a,l=a,c=1;c<e.length;c++){var u=e[c].dot(r)+o[t];s=Math.min(u,s),l=Math.max(u,l)}i[0]=s,i[1]=l},n})(),od=ALe;var zLe=[],kLe=(function(n){et(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,i){e.call(i,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,i){i?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,i){i=i||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],i)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var i=this._cursor;i<this._displayables.length;i++)e&&e(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)e&&e(this._temporaryDisplayables[i])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var i=this._displayables[e];i.parent=this,i.update(),i.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var i=this._temporaryDisplayables[e];i.parent=this,i.update(),i.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Je(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(zLe)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i),o=this.getBoundingRect();if(o.contain(r[0],r[1]))for(var a=0;a<this._displayables.length;a++){var s=this._displayables[a];if(s.contain(e,i))return!0}return!1},t})(zs),s_=kLe;var NLe=Ot();function PLe(n,t,e,i,r){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s=t&&t.isAnimationEnabled(),l=n==="update";if(s){var c=void 0,u=void 0,d=void 0;i?(c=it(i.duration,200),u=it(i.easing,"cubicOut"),d=0):(c=t.getShallow(l?"animationDurationUpdate":"animationDuration"),u=t.getShallow(l?"animationEasingUpdate":"animationEasing"),d=t.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(c=o.duration),o.easing!=null&&(u=o.easing),o.delay!=null&&(d=o.delay)),Ie(d)&&(d=d(e,r)),Ie(c)&&(c=c(e));var f={duration:c||0,delay:d,easing:u};return f}else return null}function nA(n,t,e,i,r,o,a){var s=!1,l;Ie(r)?(a=o,o=r,r=null):we(r)&&(o=r.cb,a=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var c=n==="leave";c||t.stopAnimation("leave");var u=PLe(n,i,r,c?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null);if(u&&u.duration>0){var d=u.duration,f=u.delay,m=u.easing,v={duration:d,delay:f||0,easing:m,done:o,force:!!o||!!a,setToFinal:!c,scope:n,during:a};s?t.animateFrom(e,v):t.animateTo(e,v)}else t.stopAnimation(),!s&&t.attr(e),a&&a(1),o&&o()}function mi(n,t,e,i,r,o){nA("update",n,t,e,i,r,o)}function Yr(n,t,e,i,r,o){nA("enter",n,t,e,i,r,o)}function t4(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++){var e=n.animators[t];if(e.scope==="leave")return!0}return!1}function ad(n,t,e,i,r,o){t4(n)||nA("leave",n,t,e,i,r,o)}function Zee(n,t,e,i){n.removeTextContent(),n.removeTextGuideLine(),ad(n,{style:{opacity:0}},t,e,i)}function vp(n,t,e){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||Zee(r,t,e,i)}):Zee(n,t,e,i)}function l_(n){NLe(n).oldStyle=n.style}var c_=Math.max,u_=Math.min,rA={};function oA(n){return ut.extend(n)}var OLe=kee;function aA(n,t){return OLe(n,t)}function ma(n,t){rA[n]=t}function sA(n){if(rA.hasOwnProperty(n))return rA[n]}function sd(n,t,e,i){var r=zee(n,t);return e&&(i==="center"&&(e=Kee(e,r.getBoundingRect())),d_(r,e)),r}function yp(n,t,e){var i=new Wo({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){if(e==="center"){var o={width:r.width,height:r.height};i.setStyle(Kee(t,o))}}});return i}function Kee(n,t){var e=t.width/t.height,i=n.height*e,r;i<=n.width?r=n.height:(i=n.width,r=i/e);var o=n.x+n.width/2,a=n.y+n.height/2;return{x:o-i/2,y:a-r/2,width:i,height:r}}var lA=Nee;function d_(n,t){if(n.applyTransform){var e=n.getBoundingRect(),i=e.calculateTransform(t);n.applyTransform(i)}}function n4(n,t){return qy(n,n,{lineWidth:t}),n}function RLe(n){return $y(n.shape,n.shape,n.style),n}var FLe=L0;function J2(n,t){for(var e=H2([]);n&&n!==t;)Ga(e,n.getLocalTransform(),e),n=n.parent;return e}function i4(n,t,e){return t&&!Mi(t)&&(t=Z8.getLocalTransform(t)),e&&(t=j2([],t)),Ti([],n,t)}function _p(n,t,e){var i=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),r=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[n==="left"?-i:n==="right"?i:0,n==="top"?-r:n==="bottom"?r:0];return o=i4(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Xee(n){return!n.isGroup}function BLe(n){return n.shape!=null}function cA(n,t,e){if(!n||!t)return;function i(a){var s={};return a.traverse(function(l){Xee(l)&&l.anid&&(s[l.anid]=l)}),s}function r(a){var s={x:a.x,y:a.y,rotation:a.rotation};return BLe(a)&&(s.shape=fe({},a.shape)),s}var o=i(n);t.traverse(function(a){if(Xee(a)&&a.anid){var s=o[a.anid];if(s){var l=r(a);a.attr(r(s)),mi(a,l,e,yt(a).dataIndex)}}})}function bp(n,t){return ge(n,function(e){var i=e[0];i=c_(i,t.x),i=u_(i,t.x+t.width);var r=e[1];return r=c_(r,t.y),r=u_(r,t.y+t.height),[i,r]})}function uA(n,t){var e=c_(n.x,t.x),i=u_(n.x+n.width,t.x+t.width),r=c_(n.y,t.y),o=u_(n.y+n.height,t.y+t.height);if(i>=e&&o>=r)return{x:e,y:r,width:i-e,height:o-r}}function el(n,t,e){var i=fe({rectHover:!0},t),r=i.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(r.image=n.slice(8),Ne(r,e),new Wo(i)):sd(n.replace("path://",""),i,e,"center")}function VLe(n,t,e,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(Jee(n,t,e,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function Jee(n,t,e,i,r,o,a,s){var l=e-n,c=i-t,u=a-r,d=s-o,f=iA(u,d,l,c);if(ULe(f))return!1;var m=n-r,v=t-o,_=iA(m,v,l,c)/f;if(_<0||_>1)return!1;var b=iA(m,v,u,d)/f;return!(b<0||b>1)}function iA(n,t,e,i){return n*i-e*t}function ULe(n){return n<=1e-6&&n>=-1e-6}function k0(n){var t=n.itemTooltipOption,e=n.componentModel,i=n.itemName,r=_e(t)?{formatter:t}:t,o=e.mainType,a=e.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=n.formatterParamsExtra;l&&R(Lt(l),function(u){Uo(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=yt(n.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:i,option:Ne({content:i,encodeHTMLContent:!0,formatterParams:s},r)}}function Qee(n,t){var e;n.isGroup&&(e=t(n)),e||n.traverse(t)}function r4(n,t){if(n)if(pe(n))for(var e=0;e<n.length;e++)Qee(n[e],t);else Qee(n,t)}ma("circle",X3);ma("ellipse",fp);ma("sector",Bs);ma("ring",hp);ma("polygon",Q2);ma("polyline",K2);ma("rect",Tt);ma("line",pa);ma("bezierCurve",gp);ma("arc",K3);var f_={};function HLe(n,t){for(var e=0;e<e1.length;e++){var i=e1[e],r=t[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(a,!0)}function ete(n,t,e){var i=n.labelFetcher,r=n.labelDataIndex,o=n.labelDimIndex,a=t.normal,s;i&&(s=i.getFormattedLabel(r,"normal",null,o,a&&a.get("formatter"),e!=null?{interpolatedValue:e}:null)),s==null&&(s=Ie(n.defaultText)?n.defaultText(r,n,e):n.defaultText);for(var l={normal:s},c=0;c<e1.length;c++){var u=e1[c],d=t[u];l[u]=it(i?i.getFormattedLabel(r,u,null,o,d&&d.get("formatter")):null,s)}return l}function N0(n,t,e,i){e=e||f_;for(var r=n instanceof qt,o=!1,a=0;a<HL.length;a++){var s=t[HL[a]];if(s&&s.getShallow("show")){o=!0;break}}var l=r?n:n.getTextContent();if(o){r||(l||(l=new qt,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var c=ete(e,t),u=t.normal,d=!!u.getShallow("show"),f=Zr(u,i&&i.normal,e,!1,!r);f.text=c.normal,r||n.setTextConfig(tte(u,e,!1));for(var a=0;a<e1.length;a++){var m=e1[a],s=t[m];if(s){var v=l.ensureState(m),_=!!it(s.getShallow("show"),d);if(_!==d&&(v.ignore=!_),v.style=Zr(s,i&&i[m],e,!0,!r),v.style.text=c[m],!r){var b=n.ensureState(m);b.textConfig=tte(s,e,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!d,l.useStyle(f),l.dirty(),e.enableTextSetter&&(ld(l).setLabelText=function(C){var w=ete(e,t,C);HLe(l,w)})}else l&&(l.ignore=!0);n.dirty()}function P0(n,t){t=t||"label";for(var e={normal:n.getModel(t)},i=0;i<e1.length;i++){var r=e1[i];e[r]=n.getModel([r,t])}return e}function Zr(n,t,e,i,r){var o={};return jLe(o,n,e,i,r),t&&fe(o,t),o}function tte(n,t,e){t=t||{};var i={},r,o=n.getShallow("rotate"),a=it(n.getShallow("distance"),e?null:5),s=n.getShallow("offset");return r=n.getShallow("position")||(e?null:"inside"),r==="outside"&&(r=t.defaultOutsidePosition||"top"),r!=null&&(i.position=r),s!=null&&(i.offset=s),o!=null&&(o*=Math.PI/180,i.rotation=o),a!=null&&(i.distance=a),i.outsideFill=n.get("color")==="inherit"?t.inheritColor||null:"auto",i}function jLe(n,t,e,i,r){e=e||f_;var o=t.ecModel,a=o&&o.option.textStyle,s=GLe(t),l;if(s){l={};for(var c in s)if(s.hasOwnProperty(c)){var u=t.getModel(["rich",c]);ote(l[c]={},u,a,e,i,r,!1,!0)}}l&&(n.rich=l);var d=t.get("overflow");d&&(n.overflow=d);var f=t.get("minMargin");f!=null&&(n.margin=f),ote(n,t,a,e,i,r,!0,!1)}function GLe(n){for(var t;n&&n!==n.ecModel;){var e=(n.option||f_).rich;if(e){t=t||{};for(var i=Lt(e),r=0;r<i.length;r++){var o=i[r];t[o]=1}}n=n.parentModel}return t}var nte=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],ite=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],rte=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function ote(n,t,e,i,r,o,a,s){e=!r&&e||f_;var l=i&&i.inheritColor,c=t.getShallow("color"),u=t.getShallow("textBorderColor"),d=it(t.getShallow("opacity"),e.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),o||(c=c||e.color,u=u||e.textBorderColor),c!=null&&(n.fill=c),u!=null&&(n.stroke=u);var f=it(t.getShallow("textBorderWidth"),e.textBorderWidth);f!=null&&(n.lineWidth=f);var m=it(t.getShallow("textBorderType"),e.textBorderType);m!=null&&(n.lineDash=m);var v=it(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);v!=null&&(n.lineDashOffset=v),!r&&d==null&&!s&&(d=i&&i.defaultOpacity),d!=null&&(n.opacity=d),!r&&!o&&n.fill==null&&i.inheritColor&&(n.fill=i.inheritColor);for(var _=0;_<nte.length;_++){var b=nte[_],C=it(t.getShallow(b),e[b]);C!=null&&(n[b]=C)}for(var _=0;_<ite.length;_++){var b=ite[_],C=t.getShallow(b);C!=null&&(n[b]=C)}if(n.verticalAlign==null){var w=t.getShallow("baseline");w!=null&&(n.verticalAlign=w)}if(!a||!i.disableBox){for(var _=0;_<rte.length;_++){var b=rte[_],C=t.getShallow(b);C!=null&&(n[b]=C)}var E=t.getShallow("borderType");E!=null&&(n.borderDash=E),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&l&&(n.backgroundColor=l),(n.borderColor==="auto"||n.borderColor==="inherit")&&l&&(n.borderColor=l)}}function p_(n,t){var e=t&&t.getModel("textStyle");return ur([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var ld=Ot();function ate(n,t,e,i){if(n){var r=ld(n);r.prevValue=r.value,r.value=e;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=t)}}var WLe=["textStyle","color"],dA=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],fA=new qt,qLe=(function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(WLe):null)},n.prototype.getFont=function(){return p_({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<dA.length;i++)e[dA[i]]=this.getShallow(dA[i]);return fA.useStyle(e),fA.update(),fA.getBoundingRect()},n})(),ste=qLe;var pA=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],$Le=Ls(pA),lte=(function(){function n(){}return n.prototype.getLineStyle=function(t){return $Le(this,t)},n})();var mA=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],YLe=Ls(mA),cte=(function(){function n(){}return n.prototype.getItemStyle=function(t,e){return YLe(this,t,e)},n})();var o4=(function(){function n(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return n.prototype.init=function(t,e,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(t,e){je(this.option,t,!0)},n.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var i=this.option,r=i==null?i:i[t];if(r==null&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},n.prototype.getModel=function(t,e){var i=t!=null,r=i?this.parsePath(t):null,o=i?this._doGet(r):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new n(o,e,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var t=this.constructor;return new t(ke(this.option))},n.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!Be.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var r=0;r<t.length&&!(t[r]&&(i=i&&typeof i=="object"?i[t[r]]:null,i==null));r++);return i==null&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},n})();Xu(o4);bJ(o4);cr(o4,lte);cr(o4,cte);cr(o4,xJ);cr(o4,ste);var $t=o4;var ZLe=Math.round(Math.random()*10);function Vs(n){return[n||"",ZLe++].join("_")}function ute(n){var t={};n.registerSubTypeDefaulter=function(e,i){var r=Go(e);t[r.main]=i},n.determineSubType=function(e,i){var r=i.type;if(!r){var o=Go(e).main;n.hasSubTypes(e)&&t[o]&&(r=t[o](i))}return r}}function dte(n,t){n.topologicalTravel=function(o,a,s,l){if(!o.length)return;var c=e(a),u=c.graph,d=c.noEntryList,f={};for(R(o,function(w){f[w]=!0});d.length;){var m=d.pop(),v=u[m],_=!!f[m];_&&(s.call(l,m,v.originalDeps.slice()),delete f[m]),R(v.successor,_?C:b)}R(f,function(){var w="";throw new Error(w)});function b(w){u[w].entryCount--,u[w].entryCount===0&&d.push(w)}function C(w){f[w]=!0,b(w)}};function e(o){var a={},s=[];return R(o,function(l){var c=i(a,l),u=c.originalDeps=t(l),d=r(u,o);c.entryCount=d.length,c.entryCount===0&&s.push(l),R(d,function(f){qe(c.predecessor,f)<0&&c.predecessor.push(f);var m=i(a,f);qe(m.successor,f)<0&&m.successor.push(l)})}),{graph:a,noEntryList:s}}function i(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}function r(o,a){var s=[];return R(o,function(l){qe(a,l)>=0&&s.push(l)}),s}}function O0(n,t){return je(je({},n,!0),t,!0)}var fte={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var pte={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE",custom:"\u81EA\u5B9A\u4E49\u56FE\u8868",chart:"\u56FE\u8868"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var h_="ZH",gA="EN",cd=gA,m_={},vA={},g_=Be.domSupported?(function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||cd).toUpperCase();return n.indexOf(h_)>-1?h_:cd})():cd;function v_(n,t){n=n.toUpperCase(),vA[n]=new $t(t),m_[n]=t}function mte(n){if(_e(n)){var t=m_[n.toUpperCase()]||{};return n===h_||n===gA?ke(t):je(ke(t),ke(m_[cd]),!1)}else return je(ke(n),ke(m_[cd]),!1)}function hte(n){return vA[n]}function gte(){return vA[cd]}v_(gA,fte);v_(h_,pte);var __=1e3,b_=__*60,dd=b_*60,ha=dd*24,_A=ha*365,xp={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},y_="{yyyy}-{MM}-{dd}",bA={year:"{yyyy}",month:"{yyyy}-{MM}",day:y_,hour:y_+" "+xp.hour,minute:y_+" "+xp.minute,second:y_+" "+xp.second,millisecond:xp.none},yA=["year","month","day","hour","minute","second","millisecond"],xA=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Xr(n,t){return n+="","0000".substr(0,t-n.length)+n}function s4(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function vte(n){return n===s4(n)}function yte(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function tl(n,t,e,i){var r=dr(n),o=r[x_(e)](),a=r[a4(e)]()+1,s=Math.floor((a-1)/3)+1,l=r[Cp(e)](),c=r["get"+(e?"UTC":"")+"Day"](),u=r[ud(e)](),d=(u-1)%12+1,f=r[Sp(e)](),m=r[wp(e)](),v=r[Mp(e)](),_=u>=12?"pm":"am",b=_.toUpperCase(),C=i instanceof $t?i:hte(i||g_)||gte(),w=C.getModel("time"),E=w.get("month"),D=w.get("monthAbbr"),L=w.get("dayOfWeek"),P=w.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,_+"").replace(/{A}/g,b+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Xr(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,E[a-1]).replace(/{MMM}/g,D[a-1]).replace(/{MM}/g,Xr(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Xr(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,L[c]).replace(/{ee}/g,P[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Xr(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Xr(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Xr(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Xr(m,2)).replace(/{s}/g,m+"").replace(/{SSS}/g,Xr(v,3)).replace(/{S}/g,v+"")}function _te(n,t,e,i,r){var o=null;if(_e(e))o=e;else if(Ie(e))o=e(n.value,t,{level:n.level});else{var a=fe({},xp);if(n.level>0)for(var s=0;s<yA.length;++s)a[yA[s]]="{primary|"+a[yA[s]]+"}";var l=e?e.inherit===!1?e:Ne(e,a):a,c=bte(n.value,r);if(l[c])o=l[c];else if(l.inherit){for(var u=xA.indexOf(c),s=u-1;s>=0;--s)if(l[c]){o=l[c];break}o=o||a.none}if(pe(o)){var d=n.level==null?0:n.level>=0?n.level:o.length+n.level;d=Math.min(d,o.length-1),o=o[d]}}return tl(new Date(n.value),o,r,i)}function bte(n,t){var e=dr(n),i=e[a4(t)]()+1,r=e[Cp(t)](),o=e[ud(t)](),a=e[Sp(t)](),s=e[wp(t)](),l=e[Mp(t)](),c=l===0,u=c&&s===0,d=u&&a===0,f=d&&o===0,m=f&&r===1,v=m&&i===1;return v?"year":m?"month":f?"day":d?"hour":u?"minute":c?"second":"millisecond"}function CA(n,t,e){var i=Ct(n)?dr(n):n;switch(t=t||bte(n,e),t){case"year":return i[x_(e)]();case"half-year":return i[a4(e)]()>=6?1:0;case"quarter":return Math.floor((i[a4(e)]()+1)/4);case"month":return i[a4(e)]();case"day":return i[Cp(e)]();case"half-day":return i[ud(e)]()/24;case"hour":return i[ud(e)]();case"minute":return i[Sp(e)]();case"second":return i[wp(e)]();case"millisecond":return i[Mp(e)]()}}function x_(n){return n?"getUTCFullYear":"getFullYear"}function a4(n){return n?"getUTCMonth":"getMonth"}function Cp(n){return n?"getUTCDate":"getDate"}function ud(n){return n?"getUTCHours":"getHours"}function Sp(n){return n?"getUTCMinutes":"getMinutes"}function wp(n){return n?"getUTCSeconds":"getSeconds"}function Mp(n){return n?"getUTCMilliseconds":"getMilliseconds"}function xte(n){return n?"setUTCFullYear":"setFullYear"}function SA(n){return n?"setUTCMonth":"setMonth"}function wA(n){return n?"setUTCDate":"setDate"}function MA(n){return n?"setUTCHours":"setHours"}function TA(n){return n?"setUTCMinutes":"setMinutes"}function EA(n){return n?"setUTCSeconds":"setSeconds"}function DA(n){return n?"setUTCMilliseconds":"setMilliseconds"}function IA(n,t,e,i,r,o,a,s){var l=new qt({style:{text:n,font:t,align:e,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function Tp(n){if(!Q8(n))return _e(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function fd(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,i){return i.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Us=L8;function C_(n,t,e){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(u){return u&&ur(u)?u:"-"}function o(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var a=t==="time",s=n instanceof Date;if(a||s){var l=a?dr(n):n;if(isNaN(+l)){if(s)return"-"}else return tl(l,i,e)}if(t==="ordinal")return Nu(n)?r(n):Ct(n)&&o(n)?n+"":"-";var c=Ya(n);return o(c)?Tp(c):Nu(n)?r(n):typeof n=="boolean"?n+"":"-"}var Cte=["a","b","c","d","e","f","g"],LA=function(n,t){return"{"+n+(t??"")+"}"};function pd(n,t,e){pe(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=Cte[o];n=n.replace(LA(a),LA(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var c=t[s][r[l]];n=n.replace(LA(Cte[l],s),e?Zi(c):c)}return n}function S_(n,t){var e=_e(n)?{color:n,extraCssText:t}:n||{},i=e.color,r=e.type;t=e.extraCssText;var o=e.renderMode||"html";if(!i)return"";if(o==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Zi(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Zi(i)+";"+(t||"")+'"></span>';var a=e.markerId||"markerX";return{renderMode:o,content:"{"+a+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function Ste(n,t,e){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var i=dr(t),r=e?"getUTC":"get",o=i[r+"FullYear"](),a=i[r+"Month"]()+1,s=i[r+"Date"](),l=i[r+"Hours"](),c=i[r+"Minutes"](),u=i[r+"Seconds"](),d=i[r+"Milliseconds"]();return n=n.replace("MM",Xr(a,2)).replace("M",a).replace("yyyy",o).replace("yy",Xr(o%100+"",2)).replace("dd",Xr(s,2)).replace("d",s).replace("hh",Xr(l,2)).replace("h",l).replace("mm",Xr(c,2)).replace("m",c).replace("ss",Xr(u,2)).replace("s",u).replace("SSS",Xr(d,3)),n}function wte(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function N1(n,t){return t=t||"transparent",_e(n)?n:we(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function AA(n,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var T_=R,XLe=["left","right","top","bottom","width","height"],M_=[["width","left","right"],["height","top","bottom"]];function zA(n,t,e,i,r){var o=0,a=0;i==null&&(i=1/0),r==null&&(r=1/0);var s=0;t.eachChild(function(l,c){var u=l.getBoundingRect(),d=t.childAt(c+1),f=d&&d.getBoundingRect(),m,v;if(n==="horizontal"){var _=u.width+(f?-f.x+u.x:0);m=o+_,m>i||l.newline?(o=0,m=_,a+=s+e,s=u.height):s=Math.max(s,u.height)}else{var b=u.height+(f?-f.y+u.y:0);v=a+b,v>r||l.newline?(o+=s+e,a=0,v=b,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),n==="horizontal"?o=m+e:a=v+e)})}var nl=zA,uvt=ct(zA,"vertical"),dvt=ct(zA,"horizontal");function Qr(n,t,e){e=Us(e||0);var i=t.width,r=t.height,o=pi(n.left,i),a=pi(n.top,r),s=pi(n.right,i),l=pi(n.bottom,r),c=pi(n.width,i),u=pi(n.height,r),d=e[2]+e[0],f=e[1]+e[3],m=n.aspect;switch(isNaN(c)&&(c=i-s-f-o),isNaN(u)&&(u=r-l-d-a),m!=null&&(isNaN(c)&&isNaN(u)&&(m>i/r?c=i*.8:u=r*.8),isNaN(c)&&(c=m*u),isNaN(u)&&(u=c/m)),isNaN(o)&&(o=i-s-c-f),isNaN(a)&&(a=r-l-u-d),n.left||n.right){case"center":o=i/2-c/2-e[3];break;case"right":o=i-c-f;break}switch(n.top||n.bottom){case"middle":case"center":a=r/2-u/2-e[0];break;case"bottom":a=r-u-d;break}o=o||0,a=a||0,isNaN(c)&&(c=i-f-o-(s||0)),isNaN(u)&&(u=r-d-a-(l||0));var v=new Je(o+e[3],a+e[0],c,u);return v.margin=e,v}function Mte(n,t,e,i,r,o){var a=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(o=o||n,o.x=n.x,o.y=n.y,!a&&!s)return!1;var c;if(l==="raw")c=n.type==="group"?new Je(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(c=n.getBoundingRect(),n.needLocalTransform()){var u=n.getLocalTransform();c=c.clone(),c.applyTransform(u)}var d=Qr(Ne({width:c.width,height:c.height},t),e,i),f=a?d.x-c.x:0,m=s?d.y-c.y:0;return l==="raw"?(o.x=f,o.y=m):(o.x+=f,o.y+=m),o===n&&n.markRedraw(),!0}function R0(n){var t=n.layoutMode||n.constructor.layoutMode;return we(t)?t:t?{type:t}:null}function Hs(n,t,e){var i=e&&e.ignoreSize;!pe(i)&&(i=[i,i]);var r=a(M_[0],0),o=a(M_[1],1);c(M_[0],n,r),c(M_[1],n,o);function a(u,d){var f={},m=0,v={},_=0,b=2;if(T_(u,function(E){v[E]=n[E]}),T_(u,function(E){s(t,E)&&(f[E]=v[E]=t[E]),l(f,E)&&m++,l(v,E)&&_++}),i[d])return l(t,u[1])?v[u[2]]=null:l(t,u[2])&&(v[u[1]]=null),v;if(_===b||!m)return v;if(m>=b)return f;for(var C=0;C<u.length;C++){var w=u[C];if(!s(f,w)&&s(n,w)){f[w]=n[w];break}}return f}function s(u,d){return u.hasOwnProperty(d)}function l(u,d){return u[d]!=null&&u[d]!=="auto"}function c(u,d,f){T_(u,function(m){d[m]=f[m]})}}function js(n){return QLe({},n)}function QLe(n,t){return t&&n&&T_(XLe,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}var KLe=Ot(),md=(function(n){de(t,n);function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.uid=Vs("ec_cpt_model"),o}return t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=R0(this),o=r?js(e):{},a=i.getTheme();je(e,a.get(this.mainType)),je(e,this.getDefaultOption()),r&&Hs(e,o,r)},t.prototype.mergeOption=function(e,i){je(this.option,e,!0);var r=R0(this);r&&Hs(this.option,e,r)},t.prototype.optionUpdated=function(e,i){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!_J(e))return e.defaultOption;var i=KLe(this);if(!i.defaultOption){for(var r=[],o=e;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=je(s,r[l],!0);i.defaultOption=s}return i.defaultOption},t.prototype.getReferringComponents=function(e,i){var r=e+"Index",o=e+"Id";return M0(this.ecModel,e,{index:this.get(r,!0),id:this.get(o,!0)},i)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=(function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0})(),t})($t);Hy(md,$t);T0(md);ute(md);dte(md,JLe);function JLe(n){var t=[];return R(md.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=ge(t,function(e){return Go(e).main}),n!=="dataset"&&qe(t,"dataset")<=0&&t.unshift("dataset"),t}var kt=md;var Tte="";typeof navigator<"u"&&(Tte=navigator.platform||"");var hd="rgba(0, 0, 0, 0.2)",Ete={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:hd,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:hd,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:hd,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:hd,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:hd,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:hd,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Tte.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var D_=Le(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),pr="original",mr="arrayRows",$o="objectRows",t1="keyedColumns",ga="typedArray",kA="unknown",n1="column",il="row";var bo={Must:1,Might:2,Not:3},Dte=Ot();function Ite(n){Dte(n).datasetMap=Le()}function Lte(n,t,e){var i={},r=NA(t);if(!r||!n)return i;var o=[],a=[],s=t.ecModel,l=Dte(s).datasetMap,c=r.uid+"_"+e.seriesLayoutBy,u,d;n=n.slice(),R(n,function(_,b){var C=we(_)?_:n[b]={name:_};C.type==="ordinal"&&u==null&&(u=b,d=v(C)),i[C.name]=[]});var f=l.get(c)||l.set(c,{categoryWayDim:d,valueWayDim:0});R(n,function(_,b){var C=_.name,w=v(_);if(u==null){var E=f.valueWayDim;m(i[C],E,w),m(a,E,w),f.valueWayDim+=w}else if(u===b)m(i[C],0,w),m(o,0,w);else{var E=f.categoryWayDim;m(i[C],E,w),m(a,E,w),f.categoryWayDim+=w}});function m(_,b,C){for(var w=0;w<C;w++)_.push(b+w)}function v(_){var b=_.dimsDef;return b?b.length:1}return o.length&&(i.itemName=o),a.length&&(i.seriesName=a),i}function NA(n){var t=n.get("data",!0);if(!t)return M0(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},si).models[0]}function Ate(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:M0(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},si).models}function I_(n,t){return eAe(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function eAe(n,t,e,i,r,o){var a,s=5;if(ai(n))return bo.Not;var l,c;if(i){var u=i[o];we(u)?(l=u.name,c=u.type):_e(u)&&(l=u)}if(c!=null)return c==="ordinal"?bo.Must:bo.Not;if(t===mr){var d=n;if(e===il){for(var f=d[o],m=0;m<(f||[]).length&&m<s;m++)if((a=D(f[r+m]))!=null)return a}else for(var m=0;m<d.length&&m<s;m++){var v=d[r+m];if(v&&(a=D(v[o]))!=null)return a}}else if(t===$o){var _=n;if(!l)return bo.Not;for(var m=0;m<_.length&&m<s;m++){var b=_[m];if(b&&(a=D(b[l]))!=null)return a}}else if(t===t1){var C=n;if(!l)return bo.Not;var f=C[l];if(!f||ai(f))return bo.Not;for(var m=0;m<f.length&&m<s;m++)if((a=D(f[m]))!=null)return a}else if(t===pr)for(var w=n,m=0;m<w.length&&m<s;m++){var b=w[m],E=Y2(b);if(!pe(E))return bo.Not;if((a=D(E[o]))!=null)return a}function D(L){var P=_e(L);if(L!=null&&Number.isFinite(Number(L))&&L!=="")return P?bo.Might:bo.Not;if(P&&L!=="-")return bo.Must}return bo.Not}var PA=Le();function zte(n,t){Yi(PA.get(n)==null&&t),PA.set(n,t)}function kte(n,t,e){var i=PA.get(t);if(!i)return e;var r=i(n);if(!r)return e;if(0)for(var o;o<r.length;o++);return e.concat(r)}var Nte=Ot(),Evt=Ot(),Ep=(function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,i){var r=ri(this.get("color",!0)),o=this.get("colorLayer",!0);return nAe(this,Nte,r,o,t,e,i)},n.prototype.clearColorPalette=function(){iAe(this,Nte)},n})();function tAe(n,t){for(var e=n.length,i=0;i<e;i++)if(n[i].length>t)return n[i];return n[e-1]}function nAe(n,t,e,i,r,o,a){o=o||n;var s=t(o),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var u=a==null||!i?e:tAe(i,a);if(u=u||e,!(!u||!u.length)){var d=u[l];return r&&(c[r]=d),s.paletteIdx=(l+1)%u.length,d}}function iAe(n,t){t(n).paletteIdx=0,t(n).paletteNameMap={}}var L_,Dp,Pte,Ote="\0_ec_inner",rAe=1;var Vte=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e,i,r,o,a,s){o=o||{},this.option=null,this._theme=new $t(o),this._locale=new $t(a),this._optionManager=s},t.prototype.setOption=function(e,i,r){var o=Bte(i);this._optionManager.setOption(e,r,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,i){return this._resetOption(e,Bte(i))},t.prototype._resetOption=function(e,i){var r=!1,o=this._optionManager;if(!e||e==="recreate"){var a=o.mountOption(e==="recreate");!this.option||e==="recreate"?Pte(this,a):(this.restoreData(),this._mergeOption(a,i)),r=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!e||e==="recreate"||e==="media"){var l=o.getMediaOption(this);l.length&&R(l,function(c){r=!0,this._mergeOption(c,i)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Le(),c=i&&i.replaceMergeMainTypeMap;Ite(this),R(e,function(d,f){d!=null&&(kt.hasClass(f)?f&&(s.push(f),l.set(f,!0)):r[f]=r[f]==null?ke(d):je(r[f],d,!0))}),c&&c.each(function(d,f){kt.hasClass(f)&&!l.get(f)&&(s.push(f),l.set(f,!0))}),kt.topologicalTravel(s,kt.getAllClassMainTypes(),u,this);function u(d){var f=kte(this,d,ri(e[d])),m=o.get(d),v=m?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll",_=dJ(m,f,v);mJ(_,d,kt),r[d]=null,o.set(d,null),a.set(d,0);var b=[],C=[],w=0,E,D;R(_,function(L,P){var F=L.existing,G=L.newOption;if(!G)F&&(F.mergeOption({},this),F.optionUpdated({},!1));else{var q=d==="series",Y=kt.getClass(d,L.keyInfo.subType,!q);if(!Y){if(0)var W,Z;return}if(d==="tooltip"){if(E)return;E=!0}if(F&&F.constructor===Y)F.name=L.keyInfo.name,F.mergeOption(G,this),F.optionUpdated(G,!1);else{var te=fe({componentIndex:P},L.keyInfo);F=new Y(G,this,this,te),fe(F,te),L.brandNew&&(F.__requireNewView=!0),F.init(G,this,this),F.optionUpdated(null,!0)}}F?(b.push(F.option),C.push(F),w++):(b.push(void 0),C.push(void 0))},this),r[d]=b,o.set(d,C),a.set(d,w),d==="series"&&L_(this)}this._seriesIndices||L_(this)},t.prototype.getOption=function(){var e=ke(this.option);return R(e,function(i,r){if(kt.hasClass(r)){for(var o=ri(i),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!Yu(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,e[r]=o}}),delete e[Ote],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,i){var r=this._componentsMap.get(e);if(r){var o=r[i||0];if(o)return o;if(i==null){for(var a=0;a<r.length;a++)if(r[a])return r[a]}}},t.prototype.queryComponents=function(e){var i=e.mainType;if(!i)return[];var r=e.index,o=e.id,a=e.name,s=this._componentsMap.get(i);if(!s||!s.length)return[];var l;return r!=null?(l=[],R(ri(r),function(c){s[c]&&l.push(s[c])})):o!=null?l=Rte("id",o,s):a!=null?l=Rte("name",a,s):l=vn(s,function(c){return!!c}),Fte(l,e)},t.prototype.findComponents=function(e){var i=e.query,r=e.mainType,o=s(i),a=o?this.queryComponents(o):vn(this._componentsMap.get(r),function(c){return!!c});return l(Fte(a,e));function s(c){var u=r+"Index",d=r+"Id",f=r+"Name";return c&&(c[u]!=null||c[d]!=null||c[f]!=null)?{mainType:r,index:c[u],id:c[d],name:c[f]}:null}function l(c){return e.filter?vn(c,e.filter):c}},t.prototype.eachComponent=function(e,i,r){var o=this._componentsMap;if(Ie(e)){var a=i,s=e;o.each(function(d,f){for(var m=0;d&&m<d.length;m++){var v=d[m];v&&s.call(a,f,v,v.componentIndex)}})}else for(var l=_e(e)?o.get(e):we(e)?this.findComponents(e):null,c=0;l&&c<l.length;c++){var u=l[c];u&&i.call(r,u,u.componentIndex)}},t.prototype.getSeriesByName=function(e){var i=da(e,null);return vn(this._componentsMap.get("series"),function(r){return!!r&&i!=null&&r.name===i})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return vn(this._componentsMap.get("series"),function(i){return!!i&&i.subType===e})},t.prototype.getSeries=function(){return vn(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,i){Dp(this),R(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];e.call(i,o,r)},this)},t.prototype.eachRawSeries=function(e,i){R(this._componentsMap.get("series"),function(r){r&&e.call(i,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,i,r){Dp(this),R(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===e&&i.call(r,a,o)},this)},t.prototype.eachRawSeriesByType=function(e,i,r){return R(this.getSeriesByType(e),i,r)},t.prototype.isSeriesFiltered=function(e){return Dp(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,i){Dp(this);var r=[];R(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Le(r)},t.prototype.restoreData=function(e){L_(this);var i=this._componentsMap,r=[];i.each(function(o,a){kt.hasClass(a)&&r.push(a)}),kt.topologicalTravel(r,kt.getAllClassMainTypes(),function(o){R(i.get(o),function(a){a&&(o!=="series"||!oAe(a,e))&&a.restoreData()})})},t.internalField=(function(){L_=function(e){var i=e._seriesIndices=[];R(e._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),e._seriesIndicesMap=Le(i)},Dp=function(e){},Pte=function(e,i){e.option={},e.option[Ote]=rAe,e._componentsMap=Le({series:[]}),e._componentsCount=Le();var r=i.aria;we(r)&&r.enabled==null&&(r.enabled=!0),aAe(i,e._theme.option),je(i,Ete,!1),e._mergeOption(i,null)}})(),t})($t);function oAe(n,t){if(t){var e=t.seriesIndex,i=t.seriesId,r=t.seriesName;return e!=null&&n.componentIndex!==e||i!=null&&n.id!==i||r!=null&&n.name!==r}}function aAe(n,t){var e=n.color&&!n.colorLayer;R(t,function(i,r){r==="colorLayer"&&e||kt.hasClass(r)||(typeof i=="object"?n[r]=n[r]?je(n[r],i,!1):ke(i):n[r]==null&&(n[r]=i))})}function Rte(n,t,e){if(pe(t)){var i=Le();return R(t,function(o){if(o!=null){var a=da(o,null);a!=null&&i.set(o,!0)}}),vn(e,function(o){return o&&i.get(o[n])})}else{var r=da(t,null);return vn(e,function(o){return o&&r!=null&&o[n]===r})}}function Fte(n,t){return t.hasOwnProperty("subType")?vn(n,function(e){return e&&e.subType===t.subType}):n}function Bte(n){var t=Le();return n&&R(ri(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}cr(Vte,Ep);var A_=Vte;var sAe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],lAe=(function(){function n(t){R(sAe,function(e){this[e]=ze(t[e],t)},this)}return n})(),z_=lAe;var OA={},cAe=(function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var i=[];R(OA,function(r,o){var a=r.create(t,e);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(t,e){R(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){OA[t]=e},n.get=function(t){return OA[t]},n})(),gd=cAe;var uAe=/^(min|max)?(.+)$/,dAe=(function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,i){t&&(R(ri(t.series),function(a){a&&a.data&&ai(a.data)&&_3(a.data)}),R(ri(t.dataset),function(a){a&&a.source&&ai(a.source)&&_3(a.source)})),t=ke(t);var r=this._optionBackup,o=fAe(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],ke(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var r=t.getComponent("timeline");r&&(e=ke(i[r.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var e=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!r.length&&!o)return s;for(var l=0,c=r.length;l<c;l++)pAe(r[l].query,e,i)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!hAe(a,this._currentMediaIndices)&&(s=ge(a,function(u){return ke(u===-1?o.option:r[u].option)})),this._currentMediaIndices=a,s},n})();function fAe(n,t,e){var i=[],r,o,a=n.baseOption,s=n.timeline,l=n.options,c=n.media,u=!!n.media,d=!!(l||s||a&&a.timeline);a?(o=a,o.timeline||(o.timeline=s)):((d||u)&&(n.options=n.media=null),o=n),u&&pe(c)&&R(c,function(m){m&&m.option&&(m.query?i.push(m):r||(r=m))}),f(o),R(l,function(m){return f(m)}),R(i,function(m){return f(m.option)});function f(m){R(t,function(v){v(m,e)})}return{baseOption:o,timelineOptions:l||[],mediaDefault:r,mediaList:i}}function pAe(n,t,e){var i={width:t,height:e,aspectratio:t/e},r=!0;return R(n,function(o,a){var s=a.match(uAe);if(!(!s||!s[1]||!s[2])){var l=s[1],c=s[2].toLowerCase();mAe(i[c],o,l)||(r=!1)}}),r}function mAe(n,t,e){return e==="min"?n>=t:e==="max"?n<=t:n===t}function hAe(n,t){return n.join(",")===t.join(",")}var Ute=dAe;var P1=R,Lp=we,Hte=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function RA(n){var t=n&&n.itemStyle;if(t)for(var e=0,i=Hte.length;e<i;e++){var r=Hte[e],o=t.normal,a=t.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?je(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?je(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function Kr(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var i=n[t].normal,r=n[t].emphasis;i&&(e?(n[t].normal=n[t].emphasis=null,Ne(n[t],i)):n[t]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[t]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function Ip(n){Kr(n,"itemStyle"),Kr(n,"lineStyle"),Kr(n,"areaStyle"),Kr(n,"label"),Kr(n,"labelLine"),Kr(n,"upperLabel"),Kr(n,"edgeLabel")}function Ii(n,t){var e=Lp(n)&&n[t],i=Lp(e)&&e.textStyle;if(i)for(var r=0,o=hL.length;r<o;r++){var a=hL[r];i.hasOwnProperty(a)&&(e[a]=i[a])}}function i1(n){n&&(Ip(n),Ii(n,"label"),n.emphasis&&Ii(n.emphasis,"label"))}function gAe(n){if(Lp(n)){RA(n),Ip(n),Ii(n,"label"),Ii(n,"upperLabel"),Ii(n,"edgeLabel"),n.emphasis&&(Ii(n.emphasis,"label"),Ii(n.emphasis,"upperLabel"),Ii(n.emphasis,"edgeLabel"));var t=n.markPoint;t&&(RA(t),i1(t));var e=n.markLine;e&&(RA(e),i1(e));var i=n.markArea;i&&i1(i);var r=n.data;if(n.type==="graph"){r=r||n.nodes;var o=n.links||n.edges;if(o&&!ai(o))for(var a=0;a<o.length;a++)i1(o[a]);R(n.categories,function(c){Ip(c)})}if(r&&!ai(r))for(var a=0;a<r.length;a++)i1(r[a]);if(t=n.markPoint,t&&t.data)for(var s=t.data,a=0;a<s.length;a++)i1(s[a]);if(e=n.markLine,e&&e.data)for(var l=e.data,a=0;a<l.length;a++)pe(l[a])?(i1(l[a][0]),i1(l[a][1])):i1(l[a]);n.type==="gauge"?(Ii(n,"axisLabel"),Ii(n,"title"),Ii(n,"detail")):n.type==="treemap"?(Kr(n.breadcrumb,"itemStyle"),R(n.levels,function(c){Ip(c)})):n.type==="tree"&&Ip(n.leaves)}}function rl(n){return pe(n)?n:n?[n]:[]}function jte(n){return(pe(n)?n[0]:n)||{}}function FA(n,t){P1(rl(n.series),function(i){Lp(i)&&gAe(i)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),P1(e,function(i){P1(rl(n[i]),function(r){r&&(Ii(r,"axisLabel"),Ii(r.axisPointer,"label"))})}),P1(rl(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Ii(r,"axisLabel"),Ii(r&&r.axisPointer,"label")}),P1(rl(n.calendar),function(i){Kr(i,"itemStyle"),Ii(i,"dayLabel"),Ii(i,"monthLabel"),Ii(i,"yearLabel")}),P1(rl(n.radar),function(i){Ii(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),P1(rl(n.geo),function(i){Lp(i)&&(i1(i),P1(rl(i.regions),function(r){i1(r)}))}),P1(rl(n.timeline),function(i){i1(i),Kr(i,"label"),Kr(i,"itemStyle"),Kr(i,"controlStyle",!0);var r=i.data;pe(r)&&R(r,function(o){we(o)&&(Kr(o,"label"),Kr(o,"itemStyle"))})}),P1(rl(n.toolbox),function(i){Kr(i,"iconStyle"),P1(i.feature,function(r){Kr(r,"iconStyle")})}),Ii(jte(n.axisPointer),"label"),Ii(jte(n.tooltip).axisPointer,"label")}function vAe(n,t){for(var e=t.split(","),i=n,r=0;r<e.length&&(i=i&&i[e[r]],i!=null);r++);return i}function yAe(n,t,e,i){for(var r=t.split(","),o=n,a,s=0;s<r.length-1;s++)a=r[s],o[a]==null&&(o[a]={}),o=o[a];(i||o[r[s]]==null)&&(o[r[s]]=e)}function Gte(n){n&&R(_Ae,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var _Ae=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],bAe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BA=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Ap(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<BA.length;e++){var i=BA[e][1],r=BA[e][0];t[i]!=null&&(t[r]=t[i])}}function Wte(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function qte(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function xAe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function $te(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&$te(n[e].children,t)}function k_(n,t){FA(n,t),n.series=ri(n.series),R(n.series,function(e){if(we(e)){var i=e.type;if(i==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(i==="pie"||i==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),Wte(e.label);var r=e.data;if(r&&!ai(r))for(var o=0;o<r.length;o++)Wte(r[o]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(i==="gauge"){var a=vAe(e,"pointer.color");a!=null&&yAe(e,"itemStyle.color",a)}else if(i==="bar"){Ap(e),Ap(e.backgroundStyle),Ap(e.emphasis);var r=e.data;if(r&&!ai(r))for(var o=0;o<r.length;o++)typeof r[o]=="object"&&(Ap(r[o]),Ap(r[o]&&r[o].emphasis))}else if(i==="sunburst"){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),qte(e),$te(e.data,qte)}else i==="graph"||i==="sankey"?xAe(e):i==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Ne(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),Gte(e)}}),n.dataRange&&(n.visualMap=n.dataRange),R(bAe,function(e){var i=n[e];i&&(pe(i)||(i=[i]),R(i,function(r){Gte(r)}))})}function VA(n){var t=Le();n.eachSeries(function(e){var i=e.get("stack");if(i){var r=t.get(i)||t.set(i,[]),o=e.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),t.each(CAe)}function CAe(n){R(n,function(t,e){var i=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(c,u,d){var f=a.get(t.stackedDimension,d);if(isNaN(f))return r;var m,v;s?v=a.getRawIndex(d):m=a.get(t.stackedByDimension,d);for(var _=NaN,b=e-1;b>=0;b--){var C=n[b];if(s||(v=C.data.rawIndexOf(C.stackedByDimension,m)),v>=0){var w=C.data.getByRawIndex(C.stackResultDimension,v);if(l==="all"||l==="positive"&&w>0||l==="negative"&&w<0||l==="samesign"&&f>=0&&w>0||l==="samesign"&&f<=0&&w<0){f=nJ(f,w),_=w;break}}}return i[0]=f,i[1]=_,i})})}var N_=(function(){function n(t){this.data=t.data||(t.sourceFormat===t1?{}:[]),this.sourceFormat=t.sourceFormat||kA,this.seriesLayoutBy=t.seriesLayoutBy||n1,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var i=0;i<e.length;i++){var r=e[i];r.type==null&&I_(this,i)===bo.Must&&(r.type="ordinal")}}return n})();function vd(n){return n instanceof N_}function zp(n,t,e){e=e||UA(n);var i=t.seriesLayoutBy,r=SAe(n,e,i,t.sourceHeader,t.dimensions),o=new N_({data:n,sourceFormat:e,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:ke(t)});return o}function yd(n){return new N_({data:n,sourceFormat:ai(n)?ga:pr})}function Xte(n){return new N_({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:ke(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function UA(n){var t=kA;if(ai(n))t=ga;else if(pe(n)){n.length===0&&(t=mr);for(var e=0,i=n.length;e<i;e++){var r=n[e];if(r!=null){if(pe(r)||ai(r)){t=mr;break}else if(we(r)){t=$o;break}}}}else if(we(n)){for(var o in n)if(Uo(n,o)&&Mi(n[o])){t=t1;break}}return t}function SAe(n,t,e,i,r){var o,a;if(!n)return{dimensionsDefine:Yte(r),startIndex:a,dimensionsDetectedCount:o};if(t===mr){var s=n;i==="auto"||i==null?Zte(function(c){c!=null&&c!=="-"&&(_e(c)?a==null&&(a=1):a=0)},e,s,10):a=Ct(i)?i:i?1:0,!r&&a===1&&(r=[],Zte(function(c,u){r[u]=c!=null?c+"":""},e,s,1/0)),o=r?r.length:e===il?s.length:s[0]?s[0].length:null}else if(t===$o)r||(r=wAe(n));else if(t===t1)r||(r=[],R(n,function(c,u){r.push(u)}));else if(t===pr){var l=Y2(n[0]);o=pe(l)&&l.length||1}return{startIndex:a,dimensionsDefine:Yte(r),dimensionsDetectedCount:o}}function wAe(n){for(var t=0,e;t<n.length&&!(e=n[t++]););if(e)return Lt(e)}function Yte(n){if(n){var t=Le();return ge(n,function(e,i){e=we(e)?e:{name:e};var r={name:e.name,displayName:e.displayName,type:e.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r})}}function Zte(n,t,e,i){if(t===il)for(var r=0;r<e.length&&r<i;r++)n(e[r]?e[r][0]:null,r);else for(var o=e[0]||[],r=0;r<o.length&&r<i;r++)n(o[r],r)}function P_(n){var t=n.sourceFormat;return t===$o||t===t1}var l4,c4,u4,Qte,Kte,O_=(function(){function n(t,e){var i=vd(t)?t:yd(t);this._source=i;var r=this._data=i.data;i.sourceFormat===ga&&(this._offset=0,this._dimSize=e,this._data=r),Kte(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=(function(){var t=n.prototype;t.pure=!1,t.persistent=!0})(),n.internalField=(function(){var t;Kte=function(a,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,d=l.startIndex,f=l.dimensionsDefine,m=Qte[qA(c,u)];if(fe(a,m),c===ga)a.getItem=e,a.count=r,a.fillStorage=i;else{var v=jA(c,u);a.getItem=ze(v,null,s,d,f);var _=GA(c,u);a.count=ze(_,null,s,d,f)}};var e=function(a,s){a=a-this._offset,s=s||[];for(var l=this._data,c=this._dimSize,u=c*a,d=0;d<c;d++)s[d]=l[u+d];return s},i=function(a,s,l,c){for(var u=this._data,d=this._dimSize,f=0;f<d;f++){for(var m=c[f],v=m[0]==null?1/0:m[0],_=m[1]==null?-1/0:m[1],b=s-a,C=l[f],w=0;w<b;w++){var E=u[w*d+f];C[a+w]=E,E<v&&(v=E),E>_&&(_=E)}m[0]=v,m[1]=_}},r=function(){return this._data?this._data.length/this._dimSize:0};Qte=(t={},t[mr+"_"+n1]={pure:!0,appendData:o},t[mr+"_"+il]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[$o]={pure:!0,appendData:o},t[t1]={pure:!0,appendData:function(a){var s=this._data;R(a,function(l,c){for(var u=s[c]||(s[c]=[]),d=0;d<(l||[]).length;d++)u.push(l[d])})}},t[pr]={appendData:o},t[ga]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}})(),n})();var Jte=function(n,t,e,i){return n[i]},MAe=(l4={},l4[mr+"_"+n1]=function(n,t,e,i){return n[i+t]},l4[mr+"_"+il]=function(n,t,e,i,r){i+=t;for(var o=r||[],a=n,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},l4[$o]=Jte,l4[t1]=function(n,t,e,i,r){for(var o=r||[],a=0;a<e.length;a++){var s=e[a].name,l=n[s];o[a]=l?l[i]:null}return o},l4[pr]=Jte,l4);function jA(n,t){var e=MAe[qA(n,t)];return e}var ene=function(n,t,e){return n.length},TAe=(c4={},c4[mr+"_"+n1]=function(n,t,e){return Math.max(0,n.length-t)},c4[mr+"_"+il]=function(n,t,e){var i=n[0];return i?Math.max(0,i.length-t):0},c4[$o]=ene,c4[t1]=function(n,t,e){var i=e[0].name,r=n[i];return r?r.length:0},c4[pr]=ene,c4);function GA(n,t){var e=TAe[qA(n,t)];return e}var HA=function(n,t,e){return n[t]},EAe=(u4={},u4[mr]=HA,u4[$o]=function(n,t,e){return n[e]},u4[t1]=HA,u4[pr]=function(n,t,e){var i=Y2(n);return i instanceof Array?i[t]:i},u4[ga]=HA,u4);function WA(n){var t=EAe[n];return t}function qA(n,t){return n===mr?n+"_"+t:n}function ol(n,t,e){if(n){var i=n.getRawDataItem(t);if(i!=null){var r=n.getStore(),o=r.getSource().sourceFormat;if(e!=null){var a=n.getDimensionIndex(e),s=r.getDimensionProperty(a);return WA(o)(i,a,s)}else{var l=i;return o===pr&&(l=Y2(i)),l}}}}var DAe=/\{@(.+?)\}/g,tne=(function(){function n(){}return n.prototype.getDataParams=function(t,e){var i=this.getData(e),r=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),s=i.getRawDataItem(t),l=i.getItemVisual(t,"style"),c=l&&l[i.getItemVisual(t,"drawType")||"fill"],u=l&&l.stroke,d=this.mainType,f=d==="series",m=i.userOutput&&i.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:a,dataIndex:o,data:s,dataType:e,value:r,color:c,borderColor:u,dimensionNames:m?m.fullDimensions:null,encode:m?m.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,i,r,o,a){e=e||"normal";var s=this.getData(i),l=this.getDataParams(t,i);if(a&&(l.value=a.interpolatedValue),r!=null&&pe(l.value)&&(l.value=l.value[r]),!o){var c=s.getItemModel(t);o=c.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(Ie(o))return l.status=e,l.dimensionIndex=r,o(l);if(_e(o)){var u=pd(o,l);return u.replace(DAe,function(d,f){var m=f.length,v=f;v.charAt(0)==="["&&v.charAt(m-1)==="]"&&(v=+v.slice(1,m-1));var _=ol(s,t,v);if(a&&pe(a.interpolatedValue)){var b=s.getDimensionIndex(v);b>=0&&(_=a.interpolatedValue[b])}return _!=null?_+"":""})}},n.prototype.getRawValue=function(t,e){return ol(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,i){},n})();function $A(n){var t,e;return we(n)?n.type&&(e=n):t=n,{text:t,frag:e}}function F0(n){return new IAe(n)}var IAe=(function(){function n(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e=this._upstream,i=t&&t.skip;if(this._dirty&&e){var r=this.context;r.data=r.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!i&&(o=this._plan(this.context));var a=u(this._modBy),s=this._modDataCount||0,l=u(t&&t.modBy),c=t&&t.modDataCount||0;(a!==l||s!==c)&&(o="reset");function u(w){return!(w>=1)&&(w=1),w}var d;(this._dirty||o==="reset")&&(this._dirty=!1,d=this._doReset(i)),this._modBy=l,this._modDataCount=c;var f=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var m=this._dueIndex,v=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(d||m<v)){var _=this._progress;if(pe(_))for(var b=0;b<_.length;b++)this._doProgress(_[b],m,v,l,c);else this._doProgress(_,m,v,l,c)}this._dueIndex=v;var C=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=C}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,i,r,o){nne.reset(e,i,r,o),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:nne.next},this.context)},n.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,i;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(i=e.forceFirstProgress,e=e.progress),pe(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n})();var nne=(function(){var n,t,e,i,r,o={reset:function(l,c,u,d){t=l,n=c,e=u,i=d,r=Math.ceil(i/e),o.next=e>1&&i>0?s:a}};return o;function a(){return t<n?t++:null}function s(){var l=t%r*e+Math.ceil(t/r),c=t>=n?null:l<i?l:t;return t++,c}})();function _d(n,t){var e=t&&t.type;return e==="ordinal"?n:(e==="time"&&!Ct(n)&&n!=null&&n!=="-"&&(n=+dr(n)),n==null||n===""?NaN:Number(n))}var xyt=Le({number:function(n){return parseFloat(n)},time:function(n){return+dr(n)},trim:function(n){return _e(n)?ur(n):n}});var LAe={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},Cyt=(function(){function n(t,e){if(!Ct(e)){var i="";fr(i)}this._opFn=LAe[t],this._rvalFloat=Ya(e)}return n.prototype.evaluate=function(t){return Ct(t)?this._opFn(t,this._rvalFloat):this._opFn(Ya(t),this._rvalFloat)},n})(),ine=(function(){function n(t,e){var i=t==="desc";this._resultLT=i?1:-1,e==null&&(e=i?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return n.prototype.evaluate=function(t,e){var i=Ct(t)?t:Ya(t),r=Ct(e)?e:Ya(e),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var s=_e(t),l=_e(e);s&&(i=l?t:0),l&&(r=s?e:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n})();var Syt=(function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Ya(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i!==this._rvalTypeof&&(i==="number"||this._rvalTypeof==="number")&&(e=Ya(t)===this._rvalFloat)}return this._isEQ?e:!e},n})();var AAe=(function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return _d(t,e)},n})();function zAe(n,t){var e=new AAe,i=n.data,r=e.sourceFormat=n.sourceFormat,o=n.startIndex,a="";n.seriesLayoutBy!==n1&&fr(a);var s=[],l={},c=n.dimensionsDefine;if(c)R(c,function(_,b){var C=_.name,w={index:b,name:C,displayName:_.displayName};if(s.push(w),C!=null){var E="";Uo(l,C)&&fr(E),l[C]=w}});else for(var u=0;u<n.dimensionsDetectedCount;u++)s.push({index:u});var d=jA(r,n1);t.__isBuiltIn&&(e.getRawDataItem=function(_){return d(i,o,s,_)},e.getRawData=ze(kAe,null,n)),e.cloneRawData=ze(NAe,null,n);var f=GA(r,n1);e.count=ze(f,null,i,o,s);var m=WA(r);e.retrieveValue=function(_,b){var C=d(i,o,s,_);return v(C,b)};var v=e.retrieveValueFromItem=function(_,b){if(_!=null){var C=s[b];if(C)return m(_,b,C.name)}};return e.getDimensionInfo=ze(PAe,null,s,l),e.cloneAllDimensionInfo=ze(OAe,null,s),e}function kAe(n){var t=n.sourceFormat;if(!YA(t)){var e="";fr(e)}return n.data}function NAe(n){var t=n.sourceFormat,e=n.data;if(!YA(t)){var i="";fr(i)}if(t===mr){for(var r=[],o=0,a=e.length;o<a;o++)r.push(e[o].slice());return r}else if(t===$o){for(var r=[],o=0,a=e.length;o<a;o++)r.push(fe({},e[o]));return r}}function PAe(n,t,e){if(e!=null){if(Ct(e)||!isNaN(e)&&!Uo(t,e))return n[e];if(Uo(t,e))return t[e]}}function OAe(n){return ke(n)}var rne=Le();function one(n){n=ke(n);var t=n.type,e="";t||fr(e);var i=t.split(":");i.length!==2&&fr(e);var r=!1;i[0]==="echarts"&&(t=i[1],r=!0),n.__isBuiltIn=r,rne.set(t,n)}function ane(n,t,e){var i=ri(n),r=i.length,o="";r||fr(o);for(var a=0,s=r;a<s;a++){var l=i[a];t=RAe(l,t,e,r===1?null:a),a!==s-1&&(t.length=Math.max(t.length,1))}return t}function RAe(n,t,e,i){var r="";t.length||fr(r),we(n)||fr(r);var o=n.type,a=rne.get(o);a||fr(r);var s=ge(t,function(u){return zAe(u,a)}),l=ri(a.transform({upstream:s[0],upstreamList:s,config:ke(n.config)}));if(0&&n.print)var c;return ge(l,function(u,d){var f="";we(u)||fr(f),u.data||fr(f);var m=UA(u.data);YA(m)||fr(f);var v,_=t[0];if(_&&d===0&&!u.dimensions){var b=_.startIndex;b&&(u.data=_.data.slice(0,b).concat(u.data)),v={seriesLayoutBy:n1,sourceHeader:b,dimensions:_.metaRawOption.dimensions}}else v={seriesLayoutBy:n1,sourceHeader:0,dimensions:u.dimensions};return zp(u.data,v,null)})}function YA(n){return n===mr||n===$o}var R_="undefined",FAe=typeof Uint32Array===R_?Array:Uint32Array,BAe=typeof Uint16Array===R_?Array:Uint16Array,XA=typeof Int32Array===R_?Array:Int32Array,sne=typeof Float64Array===R_?Array:Float64Array,cne={float:sne,int:XA,ordinal:Array,number:Array,time:sne},ZA;function bd(n){return n>65535?FAe:BAe}function xd(){return[1/0,-1/0]}function VAe(n){var t=n.constructor;return t===Array?n.slice():new t(n)}function lne(n,t,e,i,r){var o=cne[e||"float"];if(r){var a=n[t],s=a&&a.length;if(s!==i){for(var l=new o(i),c=0;c<s;c++)l[c]=a[c];n[t]=l}}else n[t]=new o(i)}var UAe=(function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Le()}return n.prototype.initData=function(t,e,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),o=this.defaultDimValueGetter=ZA[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[];var a=P_(r);this._dimensions=ge(e,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(t);if(o!=null){if(r[o].type===e)return o}else o=r.length;return r[o]={type:e},i.set(t,o),this._chunks[o]=new cne[e||"float"](this._rawCount),this._rawExtent[o]=xd(),o},n.prototype.collectOrdinalMeta=function(t,e){var i=this._chunks[t],r=this._dimensions[t],o=this._rawExtent,a=r.ordinalOffset||0,s=i.length;a===0&&(o[t]=xd());for(var l=o[t],c=a;c<s;c++){var u=i[c]=e.parseAndCollect(i[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}r.ordinalMeta=e,r.ordinalOffset=s,r.type="ordinal"},n.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],i=e.ordinalMeta;return i},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,i=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(t,e){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),c=0;c<o;c++){var u=r[c];lne(i,c,u.type,l,!0)}for(var d=[],f=s;f<l;f++)for(var m=f-s,v=0;v<o;v++){var u=r[v],_=ZA.arrayRows.call(this,t[m]||d,u.property,m,v);i[v][f]=_;var b=a[v];_<b[0]&&(b[0]=_),_>b[1]&&(b[1]=_)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(t,e,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,c=ge(a,function(w){return w.property}),u=0;u<s;u++){var d=a[u];l[u]||(l[u]=xd()),lne(o,u,d.type,e,i)}if(r.fillStorage)r.fillStorage(t,e,o,l);else for(var f=[],m=t;m<e;m++){f=r.getItem(m,f);for(var v=0;v<s;v++){var _=o[v],b=this._dimValueGetter(f,c[v],m,v);_[m]=b;var C=l[v];b<C[0]&&(C[0]=b),b>C[1]&&(C[1]=b)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var i=[],r=[];if(e==null){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=t;for(var o=0,a=r.length;o<a;o++)i.push(this.get(r[o],e));return i},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._chunks[t];return i?i[e]:NaN},n.prototype.getSum=function(t){var e=this._chunks[t],i=0;if(e)for(var r=0,o=this.count();r<o;r++){var a=this.get(t,r);isNaN(a)||(i+=a)}return i},n.prototype.getMedian=function(t){var e=[];this.each([t],function(o){isNaN(o)||e.push(o)});var i=e.sort(function(o,a){return o-a}),r=this.count();return r===0?0:r%2===1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(i!=null&&i<this._count&&i===t)return t;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(e[a]<t)r=a+1;else if(e[a]>t)o=a-1;else return a}return-1},n.prototype.indicesOfNearest=function(t,e,i){var r=this._chunks,o=r[t],a=[];if(!o)return a;i==null&&(i=1/0);for(var s=1/0,l=-1,c=0,u=0,d=this.count();u<d;u++){var f=this.getRawIndex(u),m=e-o[f],v=Math.abs(m);v<=i&&((v<s||v===s&&m>=0&&l<0)&&(s=v,l=m,c=0),m===l&&(a[c++]=u))}return a.length=c,a},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,r=this._count;if(i===Array){t=new i(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new i(e.buffer,0,r)}else{var i=bd(this._rawCount);t=new i(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=bd(i._rawCount),a=new o(r),s=[],l=t.length,c=0,u=t[0],d=i._chunks,f=0;f<r;f++){var m=void 0,v=i.getRawIndex(f);if(l===0)m=e(f);else if(l===1){var _=d[u][v];m=e(_,f)}else{for(var b=0;b<l;b++)s[b]=d[t[b]][v];s[b]=f,m=e.apply(null,s)}m&&(a[c++]=v)}return c<r&&(i._indices=a),i._count=c,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(t){var e=this.clone(),i=e._count;if(!i)return this;var r=Lt(t),o=r.length;if(!o)return this;var a=e.count(),s=bd(e._rawCount),l=new s(a),c=0,u=r[0],d=t[u][0],f=t[u][1],m=e._chunks,v=!1;if(!e._indices){var _=0;if(o===1){for(var b=m[r[0]],C=0;C<i;C++){var w=b[C];(w>=d&&w<=f||isNaN(w))&&(l[c++]=_),_++}v=!0}else if(o===2){for(var b=m[r[0]],E=m[r[1]],D=t[r[1]][0],L=t[r[1]][1],C=0;C<i;C++){var w=b[C],P=E[C];(w>=d&&w<=f||isNaN(w))&&(P>=D&&P<=L||isNaN(P))&&(l[c++]=_),_++}v=!0}}if(!v)if(o===1)for(var C=0;C<a;C++){var F=e.getRawIndex(C),w=m[r[0]][F];(w>=d&&w<=f||isNaN(w))&&(l[c++]=F)}else for(var C=0;C<a;C++){for(var G=!0,F=e.getRawIndex(C),q=0;q<o;q++){var Y=r[q],w=m[Y][F];(w<t[Y][0]||w>t[Y][1])&&(G=!1)}G&&(l[c++]=e.getRawIndex(C))}return c<a&&(e._indices=l),e._count=c,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var i=this.clone(t);return this._updateDims(i,t,e),i},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,i){for(var r=t._chunks,o=[],a=e.length,s=t.count(),l=[],c=t._rawExtent,u=0;u<e.length;u++)c[e[u]]=xd();for(var d=0;d<s;d++){for(var f=t.getRawIndex(d),m=0;m<a;m++)l[m]=r[e[m]][f];l[a]=d;var v=i&&i.apply(null,l);if(v!=null){typeof v!="object"&&(o[0]=v,v=o);for(var u=0;u<v.length;u++){var _=e[u],b=v[u],C=c[_],w=r[_];w&&(w[f]=b),b<C[0]&&(C[0]=b),b>C[1]&&(C[1]=b)}}}},n.prototype.lttbDownSample=function(t,e){var i=this.clone([t],!0),r=i._chunks,o=r[t],a=this.count(),s=0,l=Math.floor(1/e),c=this.getRawIndex(0),u,d,f,m=new(bd(this._rawCount))(Math.min((Math.ceil(a/l)+2)*2,a));m[s++]=c;for(var v=1;v<a-1;v+=l){for(var _=Math.min(v+l,a-1),b=Math.min(v+l*2,a),C=(b+_)/2,w=0,E=_;E<b;E++){var D=this.getRawIndex(E),L=o[D];isNaN(L)||(w+=L)}w/=b-_;var P=v,F=Math.min(v+l,a),G=v-1,q=o[c];u=-1,f=P;for(var Y=-1,W=0,E=P;E<F;E++){var D=this.getRawIndex(E),L=o[D];if(isNaN(L)){W++,Y<0&&(Y=D);continue}d=Math.abs((G-C)*(L-q)-(G-E)*(w-q)),d>u&&(u=d,f=D)}W>0&&W<F-P&&(m[s++]=Math.min(Y,f),f=Math.max(Y,f)),m[s++]=f,c=f}return m[s++]=this.getRawIndex(a-1),i._count=s,i._indices=m,i.getRawIndex=this._getRawIdx,i},n.prototype.minmaxDownSample=function(t,e){for(var i=this.clone([t],!0),r=i._chunks,o=Math.floor(1/e),a=r[t],s=this.count(),l=new(bd(this._rawCount))(Math.ceil(s/o)*2),c=0,u=0;u<s;u+=o){var d=u,f=a[this.getRawIndex(d)],m=u,v=a[this.getRawIndex(m)],_=o;u+o>s&&(_=s-u);for(var b=0;b<_;b++){var C=this.getRawIndex(u+b),w=a[C];w<f&&(f=w,d=u+b),w>v&&(v=w,m=u+b)}var E=this.getRawIndex(d),D=this.getRawIndex(m);d<m?(l[c++]=E,l[c++]=D):(l[c++]=D,l[c++]=E)}return i._count=c,i._indices=l,i._updateGetRawIdx(),i},n.prototype.downSample=function(t,e,i,r){for(var o=this.clone([t],!0),a=o._chunks,s=[],l=Math.floor(1/e),c=a[t],u=this.count(),d=o._rawExtent[t]=xd(),f=new(bd(this._rawCount))(Math.ceil(u/l)),m=0,v=0;v<u;v+=l){l>u-v&&(l=u-v,s.length=l);for(var _=0;_<l;_++){var b=this.getRawIndex(v+_);s[_]=c[b]}var C=i(s),w=this.getRawIndex(Math.min(v+r(s,C)||0,u-1));c[w]=C,C<d[0]&&(d[0]=C),C>d[1]&&(d[1]=C),f[m++]=w}return o._count=m,o._indices=f,o._updateGetRawIdx(),o},n.prototype.each=function(t,e){if(this._count)for(var i=t.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(i){case 0:e(o);break;case 1:e(r[t[0]][s],o);break;case 2:e(r[t[0]][s],r[t[1]][s],o);break;default:for(var l=0,c=[];l<i;l++)c[l]=r[t[l]][s];c[l]=o,e.apply(null,c)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],i=xd();if(!e)return i;var r=this.count(),o=!this._indices,a;if(o)return this._rawExtent[t].slice();if(a=this._extent[t],a)return a.slice();a=i;for(var s=a[0],l=a[1],c=0;c<r;c++){var u=this.getRawIndex(c),d=e[u];d<s&&(s=d),d>l&&(l=d)}return a=[s,l],this._extent[t]=a,a},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][e]);return i},n.prototype.clone=function(t,e){var i=new n,r=this._chunks,o=t&&Wr(t,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<r.length;a++)i._chunks[a]=o[a]?VAe(r[a]):r[a];else i._chunks=r;return this._copyCommonProps(i),e||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=ke(this._extent),t._rawExtent=ke(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var i=this._indices.length;e=new t(i);for(var r=0;r<i;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=(function(){function t(e,i,r,o){return _d(e[o],this._dimensions[o])}ZA={arrayRows:t,objectRows:function(e,i,r,o){return _d(e[i],this._dimensions[o])},keyedColumns:t,original:function(e,i,r,o){var a=e&&(e.value==null?e:e.value);return _d(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(e,i,r,o){return e[o]}}})(),n})(),kp=UAe;var dne=(function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),i=!!e.length,r,o;if(F_(t)){var a=t,s=void 0,l=void 0,c=void 0;if(i){var u=e[0];u.prepareSource(),c=u.getSource(),s=c.data,l=c.sourceFormat,o=[u._getVersionSign()]}else s=a.get("data",!0),l=ai(s)?ga:pr,o=[];var d=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},m=it(d.seriesLayoutBy,f.seriesLayoutBy)||null,v=it(d.sourceHeader,f.sourceHeader),_=it(d.dimensions,f.dimensions),b=m!==f.seriesLayoutBy||!!v!=!!f.sourceHeader||_;r=b?[zp(s,{seriesLayoutBy:m,sourceHeader:v,dimensions:_},l)]:[]}else{var C=t;if(i){var w=this._applyTransform(e);r=w.sourceList,o=w.upstreamSignList}else{var E=C.get("source",!0);r=[zp(E,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(r,o)},n.prototype._applyTransform=function(t){var e=this._sourceHost,i=e.get("transform",!0),r=e.get("fromTransformResult",!0);if(r!=null){var o="";t.length!==1&&une(o)}var a,s=[],l=[];return R(t,function(c){c.prepareSource();var u=c.getSource(r||0),d="";r!=null&&!u&&une(d),s.push(u),l.push(c._getVersionSign())}),i?a=ane(i,s,{datasetIndex:e.componentIndex}):r!=null&&(a=[Xte(s[0])]),{sourceList:a,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var i=t[e];if(i._isDirty()||this._upstreamSignList[e]!==i._getVersionSign())return!0}},n.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,i){var r=0,o=this._storeList,a=o[r];a||(a=o[r]={});var s=a[i];if(!s){var l=this._getUpstreamSourceManagers()[0];F_(this._sourceHost)&&l?s=l._innerGetDataStore(t,e,i):(s=new kp,s.initData(new O_(e,t.length),t)),a[i]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(F_(t)){var e=NA(t);return e?[e.getSourceManager()]:[]}else return ge(Ate(t),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,i,r;if(F_(t))e=t.get("seriesLayoutBy",!0),i=t.get("sourceHeader",!0),r=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;e=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),r=o.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:i,dimensions:r}},n})();function F_(n){return n.mainType==="series"}function une(n){throw new Error(n)}var HAe="line-height:1";function fne(n){var t=n.lineHeight;return t==null?HAe:"line-height:"+Zi(t+"")+"px"}function pne(n,t){var e=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Zi(i+"")+"px;color:"+Zi(e)+";font-weight:"+Zi(r+""),valueStyle:"font-size:"+Zi(a+"")+"px;color:"+Zi(o)+";font-weight:"+Zi(s+"")}:{nameStyle:{fontSize:i,fill:e,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var jAe=[0,10,20,30],GAe=["",`
`,`

`,`


`];function d4(n,t){return t.type=n,t}function QA(n){return n.type==="section"}function mne(n){return QA(n)?WAe:qAe}function hne(n){if(QA(n)){var t=0,e=n.blocks.length,i=e>1||e>0&&!n.noHeader;return R(n.blocks,function(r){var o=hne(r);o>=t&&(t=o+ +(i&&(!o||QA(r)&&!r.noHeader)))}),t}return 0}function WAe(n,t,e,i){var r=t.noHeader,o=$Ae(hne(t)),a=[],s=t.blocks||[];Yi(!s||pe(s)),s=s||[];var l=n.orderMode;if(t.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Uo(c,l)){var u=new ine(c[l],null);s.sort(function(_,b){return u.evaluate(_.sortParam,b.sortParam)})}else l==="seriesDesc"&&s.reverse()}R(s,function(_,b){var C=t.valueFormatter,w=mne(_)(C?fe(fe({},n),{valueFormatter:C}):n,_,b>0?o.html:0,i);w!=null&&a.push(w)});var d=n.renderMode==="richText"?a.join(o.richText):KA(i,a.join(""),r?e:o.html);if(r)return d;var f=C_(t.header,"ordinal",n.useUTC),m=pne(i,n.renderMode).nameStyle,v=fne(i);return n.renderMode==="richText"?gne(n,f,m)+o.richText+d:KA(i,'<div style="'+m+";"+v+';">'+Zi(f)+"</div>"+d,e)}function qAe(n,t,e,i){var r=n.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,l=t.name,c=n.useUTC,u=t.valueFormatter||n.valueFormatter||function(D){return D=pe(D)?D:[D],ge(D,function(L,P){return C_(L,pe(m)?m[P]:m,c)})};if(!(o&&a)){var d=s?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),f=o?"":C_(l,"ordinal",c),m=t.valueType,v=a?[]:u(t.value,t.dataIndex),_=!s||!o,b=!s&&o,C=pne(i,r),w=C.nameStyle,E=C.valueStyle;return r==="richText"?(s?"":d)+(o?"":gne(n,f,w))+(a?"":XAe(n,v,_,b,E)):KA(i,(s?"":d)+(o?"":YAe(f,!s,w))+(a?"":ZAe(v,_,b,E)),e)}}function JA(n,t,e,i,r,o){if(n){var a=mne(n),s={useUTC:r,renderMode:e,orderMode:i,markupStyleCreator:t,valueFormatter:n.valueFormatter};return a(s,n,0,o)}}function $Ae(n){return{html:jAe[n],richText:GAe[n]}}function KA(n,t,e){var i='<div style="clear:both"></div>',r="margin: "+e+"px 0 0",o=fne(n);return'<div style="'+r+";"+o+';">'+t+i+"</div>"}function YAe(n,t,e){var i=t?"margin-left:2px":"";return'<span style="'+e+";"+i+'">'+Zi(n)+"</span>"}function ZAe(n,t,e,i){var r=e?"10px":"20px",o=t?"float:right;margin-left:"+r:"";return n=pe(n)?n:[n],'<span style="'+o+";"+i+'">'+ge(n,function(a){return Zi(a)}).join("&nbsp;&nbsp;")+"</span>"}function gne(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function XAe(n,t,e,i,r){var o=[r],a=i?10:20;return e&&o.push({padding:[0,0,0,a],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(pe(t)?t.join("  "):t,o)}function vne(n,t){var e=n.getData().getItemVisual(t,"style"),i=e[n.visualDrawType];return N1(i)}function B_(n,t){var e=n.get("padding");return e??(t==="richText"?[8,10]:10)}var V_=(function(){function n(){this.richTextStyles={},this._nextStyleNameId=Uy()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,i){var r=i==="richText"?this._generateStyleName():null,o=S_({color:e,type:t,renderMode:i,markerId:r});return _e(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(t,e){var i={};pe(e)?R(e,function(o){return fe(i,o)}):fe(i,e);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+t+"}"},n})();function yne(n){var t=n.series,e=n.dataIndex,i=n.multipleSeries,r=t.getData(),o=r.mapDimensionsAll("defaultedTooltip"),a=o.length,s=t.getRawValue(e),l=pe(s),c=vne(t,e),u,d,f,m;if(a>1||l&&!a){var v=QAe(s,t,e,o,c);u=v.inlineValues,d=v.inlineValueTypes,f=v.blocks,m=v.inlineValues[0]}else if(a){var _=r.getDimensionInfo(o[0]);m=u=ol(r,e,o[0]),d=_.type}else m=u=l?s[0]:s;var b=Zu(t),C=b&&t.name||"",w=r.getName(e),E=i?C:w;return d4("section",{header:C,noHeader:i||!b,sortParam:m,blocks:[d4("nameValue",{markerType:"item",markerColor:c,name:E,noName:!ur(E),value:u,valueType:d,dataIndex:e})].concat(f||[])})}function QAe(n,t,e,i,r){var o=t.getData(),a=Wr(n,function(d,f,m){var v=o.getDimensionInfo(m);return d=d||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],l=[],c=[];i.length?R(i,function(d){u(ol(o,e,d),d)}):R(n,u);function u(d,f){var m=o.getDimensionInfo(f);!m||m.otherDims.tooltip===!1||(a?c.push(d4("nameValue",{markerType:"subItem",markerColor:r,name:m.displayName,value:d,valueType:m.type})):(s.push(d),l.push(m.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:c}}var B0=Ot();function U_(n,t){return n.getName(t)||n.getId(t)}var KAe="__universalTransitionEnabled",H_=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,i,r){this.seriesIndex=this.componentIndex,this.dataTask=F0({count:eze,reset:tze}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r);var o=B0(this).sourceManager=new dne(this);o.prepareSource();var a=this.getInitialData(e,r);bne(a,this),this.dataTask.context.data=a,B0(this).dataBeforeProcessed=a,_ne(this),this._initSelectedMapFromData(a)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=R0(this),o=r?js(e):{},a=this.subType;kt.hasClass(a)&&(a+="Series"),je(e,i.getTheme().get(this.subType)),je(e,this.getDefaultOption()),mL(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Hs(e,o,r)},t.prototype.mergeOption=function(e,i){e=je(this.option,e,!0),this.fillDataTextStyle(e.data);var r=R0(this);r&&Hs(this.option,e,r);var o=B0(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(e,i);bne(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,B0(this).dataBeforeProcessed=a,_ne(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!ai(e))for(var i=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&mL(e[r],"label",i)},t.prototype.getInitialData=function(e,i){},t.prototype.appendData=function(e){var i=this.getRawData();i.appendData(e.data)},t.prototype.getData=function(e){var i=ez(this);if(i){var r=i.context.data;return e==null||!r.getLinkedData?r:r.getLinkedData(e)}else return B0(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var i=ez(this);if(i){var r=i.context;r.outputData=e,i!==this.dataTask&&(r.data=e)}B0(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Le(e)},t.prototype.getSourceManager=function(){return B0(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return B0(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,i,r){return yne({series:this,dataIndex:e,multipleSeries:i})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Be.node&&!(e&&e.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,i,r){var o=this.ecModel,a=Ep.prototype.getColorFromPalette.call(this,e,i,r);return a||(a=o.getColorFromPalette(e,i,r)),a},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,i){this._innerSelect(this.getData(i),e)},t.prototype.unselect=function(e,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if(o==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<e.length;s++){var l=e[s],c=U_(a,l);r[c]=!1,this._selectedDataIndicesMap[c]=-1}}},t.prototype.toggleSelect=function(e,i){for(var r=[],o=0;o<e.length;o++)r[0]=e[o],this.isSelected(e[o],i)?this.unselect(r,i):this.select(r,i)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,i=Lt(e),r=[],o=0;o<i.length;o++){var a=e[i[o]];a>=0&&r.push(a)}return r},t.prototype.isSelected=function(e,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return(r==="all"||r[U_(o,e)])&&!o.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[KAe])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,i){var r,o,a=this.option,s=a.selectedMode,l=i.length;if(!(!s||!l)){if(s==="series")a.selectedMap="all";else if(s==="multiple"){we(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,u=0;u<l;u++){var d=i[u],f=U_(e,d);c[f]=!0,this._selectedDataIndicesMap[f]=e.getRawIndex(d)}}else if(s==="single"||s===!0){var m=i[l-1],f=U_(e,m);a.selectedMap=(r={},r[f]=!0,r),this._selectedDataIndicesMap=(o={},o[f]=e.getRawIndex(m),o)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var i=[];e.hasItemOption&&e.each(function(r){var o=e.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(e,i)}},t.registerClass=function(e){return kt.registerClass(e)},t.protoInitialize=(function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"})(),t})(kt);cr(H_,tne);cr(H_,Ep);Hy(H_,kt);function _ne(n){var t=n.name;Zu(n)||(n.name=JAe(n)||t)}function JAe(n){var t=n.getRawData(),e=t.mapDimensionsAll("seriesName"),i=[];return R(e,function(r){var o=t.getDimensionInfo(r);o.displayName&&i.push(o.displayName)}),i.join(" ")}function eze(n){return n.model.getRawData().count()}function tze(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),nze}function nze(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function bne(n,t){R(vI(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,ct(ize,t))})}function ize(n,t){var e=ez(n);return e&&e.setOutputEnd((t||this).count()),t}function ez(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var i=e.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}var xo=H_;var tz=(function(){function n(){this.group=new Pt,this.uid=Vs("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){},n.prototype.updateLayout=function(t,e,i,r){},n.prototype.updateVisual=function(t,e,i,r){},n.prototype.toggleBlurSeries=function(t,e,i){},n.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},n})();Xu(tz);T0(tz);var Kn=tz;function f4(){var n=Ot();return function(t){var e=n(t),i=t.pipelineContext,r=!!e.large,o=!!e.progressiveRender,a=e.large=!!(i&&i.large),s=e.progressiveRender=!!(i&&i.progressiveRender);return(r!==a||o!==s)&&"reset"}}var Sne=Ot(),rze=f4(),nz=(function(){function n(){this.group=new Pt,this.uid=Vs("viewChart"),this.renderTask=F0({plan:oze,reset:aze}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.highlight=function(t,e,i,r){var o=t.getData(r&&r.dataType);o&&Cne(o,r,"emphasis")},n.prototype.downplay=function(t,e,i,r){var o=t.getData(r&&r.dataType);o&&Cne(o,r,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateLayout=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateVisual=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.eachRendered=function(t){r4(this.group,t)},n.markUpdateMethod=function(t,e){Sne(t).updateMethod=e},n.protoInitialize=(function(){var t=n.prototype;t.type="chart"})(),n})();function xne(n,t,e){n&&up(n)&&(t==="emphasis"?Os:Rs)(n,e)}function Cne(n,t,e){var i=Za(n,t),r=t&&t.highlightKey!=null?See(t.highlightKey):null;i!=null?R(ri(i),function(o){xne(n.getItemGraphicEl(o),e,r)}):n.eachItemGraphicEl(function(o){xne(o,e,r)})}Xu(nz,["dispose"]);T0(nz);function oze(n){return rze(n.model)}function aze(n){var t=n.model,e=n.ecModel,i=n.api,r=n.payload,o=t.pipelineContext.progressiveRender,a=n.view,s=r&&Sne(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return l!=="render"&&a[l](t,e,i,r),sze[l]}var sze={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Sr=nz;var j_="\0__throttleOriginMethod",wne="\0__throttleRate",Mne="\0__throttleType";function p4(n,t,e){var i,r=0,o=0,a=null,s,l,c,u;t=t||0;function d(){o=new Date().getTime(),a=null,n.apply(l,c||[])}var f=function(){for(var m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];i=new Date().getTime(),l=this,c=m;var _=u||t,b=u||e;u=null,s=i-(b?r:o)-_,clearTimeout(a),b?a=setTimeout(d,_):s>=0?d():a=setTimeout(d,-s),r=i};return f.clear=function(){a&&(clearTimeout(a),a=null)},f.debounceNextCall=function(m){u=m},f}function V0(n,t,e,i){var r=n[t];if(r){var o=r[j_]||r,a=r[Mne],s=r[wne];if(s!==e||a!==i){if(e==null||!i)return n[t]=o;r=n[t]=p4(o,e,i==="debounce"),r[j_]=o,r[Mne]=i,r[wne]=e}return r}}function m4(n,t){var e=n[t];e&&e[j_]&&(e.clear&&e.clear(),n[t]=e[j_])}var Tne=Ot(),Ene={itemStyle:Ls(mA,!0),lineStyle:Ls(pA,!0)},lze={lineStyle:"stroke",itemStyle:"fill"};function Dne(n,t){var e=n.visualStyleMapper||Ene[t];return e||(console.warn("Unknown style type '"+t+"'."),Ene.itemStyle)}function Ine(n,t){var e=n.visualDrawType||lze[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var Lne={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=Dne(n,i),a=o(r),s=r.getShallow("decal");s&&(e.setVisual("decal",s),s.dirty=!0);var l=Ine(n,i),c=a[l],u=Ie(c)?c:null,d=a.fill==="auto"||a.stroke==="auto";if(!a[l]||u||d){var f=n.getColorFromPalette(n.name,null,t.getSeriesCount());a[l]||(a[l]=f,e.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||Ie(a.fill)?f:a.fill,a.stroke=a.stroke==="auto"||Ie(a.stroke)?f:a.stroke}if(e.setVisual("style",a),e.setVisual("drawType",l),!t.isSeriesFiltered(n)&&u)return e.setVisual("colorFromPalette",!1),{dataEach:function(m,v){var _=n.getDataParams(v),b=fe({},a);b[l]=u(_),m.setItemVisual(v,"style",b)}}}},Np=new $t,Ane={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!(n.ignoreStyleOnData||t.isSeriesFiltered(n))){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=Dne(n,i),o=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[i]){Np.option=l[i];var c=r(Np),u=a.ensureUniqueItemVisual(s,"style");fe(u,c),Np.option.decal&&(a.setItemVisual(s,"decal",Np.option.decal),Np.option.decal.dirty=!0),o in c&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},zne={performRawSeries:!0,overallReset:function(n){var t=Le();n.eachSeries(function(e){var i=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+i,o=t.get(r);o||(o={},t.set(r,o)),Tne(e).scope=o}}),n.eachSeries(function(e){if(!(e.isColorBySeries()||n.isSeriesFiltered(e))){var i=e.getRawData(),r={},o=e.getData(),a=Tne(e).scope,s=e.visualStyleAccessPath||"itemStyle",l=Ine(e,s);o.each(function(c){var u=o.getRawIndex(c);r[u]=c}),i.each(function(c){var u=r[c],d=o.getItemVisual(u,"colorFromPalette");if(d){var f=o.ensureUniqueItemVisual(u,"style"),m=i.getName(c)||c+"",v=i.count();f[l]=e.getColorFromPalette(m,a,v)}})}})}};var G_=Math.PI;function rz(n,t){t=t||{},Ne(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Pt,i=new Tt({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(i);var r=new qt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new Tt({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(o);var a;return t.showSpinner&&(a=new K3({shape:{startAngle:-G_/2,endAngle:-G_/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:G_*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:G_*3/2}).delay(300).start("circularInOut"),e.add(a)),e.resize=function(){var s=r.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,c=(n.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),u=n.getHeight()/2;t.showSpinner&&a.setShape({cx:c,cy:u}),o.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}var cze=(function(){function n(t,e,i,r){this._stageTaskMap=Le(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),r=i.context,o=!e&&i.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>i.blockIndex,a=o?i.step:null,s=r&&r.modDataCount,l=s!=null?Math.ceil(s/a):null;return{step:a,modBy:l,modDataCount:s}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),r=t.getData(),o=r.count(),a=i.progressiveEnabled&&e.incrementalPrepareRender&&o>=i.threshold,s=t.get("large")&&o>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=i.context={progressiveRender:a,modDataCount:l,large:s}},n.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=Le();t.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;R(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{}),a="";Yi(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,o,e,i),r.overallReset&&this._createOverallStageTask(r,o,e,i)},this)},n.prototype.prepareView=function(t,e,i,r){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},n.prototype._performStageTasks=function(t,e,i,r){r=r||{};var o=!1,a=this;R(t,function(l,c){if(!(r.visualType&&r.visualType!==l.visualType)){var u=a._stageTaskMap.get(l.uid),d=u.seriesTaskMap,f=u.overallTask;if(f){var m,v=f.agentStubMap;v.each(function(b){s(r,b)&&(b.dirty(),m=!0)}),m&&f.dirty(),a.updatePayload(f,i);var _=a.getPerformArgs(f,r.block);v.each(function(b){b.perform(_)}),f.perform(_)&&(o=!0)}else d&&d.each(function(b,C){s(r,b)&&b.dirty();var w=a.getPerformArgs(b,r.block);w.skip=!l.performRawSeries&&e.isSeriesFiltered(b.context.model),a.updatePayload(b,i),b.perform(w)&&(o=!0)})}});function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(i){e=i.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,i,r){var o=this,a=e.seriesTaskMap,s=e.seriesTaskMap=Le(),l=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(u):l?i.eachRawSeriesByType(l,u):c&&c(i,r).each(u);function u(d){var f=d.uid,m=s.set(f,a&&a.get(f)||F0({plan:mze,reset:hze,count:vze}));m.context={model:d,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(d,m)}},n.prototype._createOverallStageTask=function(t,e,i,r){var o=this,a=e.overallTask=e.overallTask||F0({reset:uze});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Le(),c=t.seriesType,u=t.getTargetSeries,d=!0,f=!1,m="";Yi(!t.createOnAllSeries,m),c?i.eachRawSeriesByType(c,v):u?u(i,r).each(v):(d=!1,R(i.getSeries(),v));function v(_){var b=_.uid,C=l.set(b,s&&s.get(b)||(f=!0,F0({reset:dze,onDirty:pze})));C.context={model:_,overallProgress:d},C.agent=a,C.__block=d,o._pipe(_,C)}f&&a.dirty()},n.prototype._pipe=function(t,e){var i=t.uid,r=this._pipelineMap.get(i);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},n.wrapStageHandler=function(t,e){return Ie(t)&&(t={overallReset:t,seriesType:yze(t)}),t.uid=Vs("stageHandler"),e&&(t.visualType=e),t},n})();function uze(n){n.overallReset(n.ecModel,n.api,n.payload)}function dze(n){return n.overallProgress&&fze}function fze(){this.agent.dirty(),this.getDownstream().dirty()}function pze(){this.agent&&this.agent.dirty()}function mze(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function hze(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=ri(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?ge(t,function(e,i){return kne(i)}):gze}var gze=kne(0);function kne(n){return function(t,e){var i=e.data,r=e.resetDefines[n];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function vze(n){return n.data.count()}function yze(n){W_=null;try{n(Pp,Nne)}catch{}return W_}var Pp={},Nne={},W_;Pne(Pp,A_);Pne(Nne,z_);Pp.eachSeriesByType=Pp.eachRawSeriesByType=function(n){W_=n};Pp.eachComponent=function(n){n.mainType==="series"&&n.subType&&(W_=n.subType)};function Pne(n,t){for(var e in t.prototype)n[e]=fi}var oz=cze;var One=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Rne={color:One,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],One]};var Jr="#B9B8CE",Fne="#100C2A",q_=function(){return{axisLine:{lineStyle:{color:Jr}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Bne=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Vne={darkMode:!0,color:Bne,backgroundColor:Fne,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Jr},pageTextStyle:{color:Jr}},textStyle:{color:Jr},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Jr}},dataZoom:{borderColor:"#71708A",textStyle:{color:Jr},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Jr}},timeline:{lineStyle:{color:Jr},label:{color:Jr},controlStyle:{color:Jr,borderColor:Jr}},calendar:{itemStyle:{color:Fne},dayLabel:{color:Jr},monthLabel:{color:Jr},yearLabel:{color:Jr}},timeAxis:q_(),logAxis:q_(),valueAxis:q_(),categoryAxis:q_(),line:{symbol:"circle"},graph:{color:Bne},gauge:{title:{color:Jr},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Jr},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Vne.categoryAxis.splitLine.show=!1;var Une=Vne;var Hne=(function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},i={},r={};if(_e(t)){var o=Go(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};R(t,function(l,c){for(var u=!1,d=0;d<a.length;d++){var f=a[d],m=c.lastIndexOf(f);if(m>0&&m===c.length-f.length){var v=c.slice(0,m);v!=="data"&&(e.mainType=v,e[f.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(i[c]=l,u=!0),u||(r[c]=l)})}return{cptQuery:e,dataQuery:i,otherQuery:r}},n.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=e.cptQuery,c=e.dataQuery;return u(l,a,"mainType")&&u(l,a,"subType")&&u(l,a,"index","componentIndex")&&u(l,a,"name")&&u(l,a,"id")&&u(c,o,"name")&&u(c,o,"dataIndex")&&u(c,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,o));function u(d,f,m,v){return d[m]==null||f[v||m]===d[m]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n})();var az=["symbol","symbolSize","symbolRotate","symbolOffset"],jne=az.concat(["symbolKeepAspect"]),Gne={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var i={},r={},o=!1,a=0;a<az.length;a++){var s=az[a],l=n.get(s);Ie(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||n.defaultSymbol,e.setVisual(fe({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),t.isSeriesFiltered(n))return;var c=Lt(r);function u(d,f){for(var m=n.getRawValue(f),v=n.getDataParams(f),_=0;_<c.length;_++){var b=c[_];d.setItemVisual(f,b,r[b](m,v))}}return{dataEach:o?u:null}}},Wne={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.hasSymbolVisual||t.isSeriesFiltered(n))return;var e=n.getData();function i(r,o){for(var a=r.getItemModel(o),s=0;s<jne.length;s++){var l=jne[s],c=a.getShallow(l,!0);c!=null&&r.setItemVisual(o,l,c)}}return{dataEach:e.hasItemOption?i:null}}};function qne(n,t,e){switch(e){case"color":var i=n.getItemVisual(t,"style");return i[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e);default:}}function $ne(n,t){switch(t){case"color":var e=n.getVisual("style");return e[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t);default:}}function Cd(n,t,e,i,r){var o=n+t;e.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,c=r.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var d=a.getData(),f=Za(d,r.fromActionPayload);e.trigger(o,{type:o,seriesId:a.id,name:pe(f)?d.getName(f[0]):d.getName(f),selected:_e(l)?l:fe({},l)})}})}function Yne(n,t,e){n.on("selectchanged",function(i){var r=e.getModel();i.isFromClick?(Cd("map","selectchanged",t,r,i),Cd("pie","selectchanged",t,r,i)):i.fromAction==="select"?(Cd("map","selected",t,r,i),Cd("pie","selected",t,r,i)):i.fromAction==="unselect"&&(Cd("map","unselected",t,r,i),Cd("pie","unselected",t,r,i))})}function h4(n,t,e){for(var i;n&&!(t(n)&&(i=n,e));)n=n.__hostTarget||n.parent;return i}var _ze=Math.round(Math.random()*9),bze=typeof Object.defineProperty=="function",xze=(function(){function n(){this._id="__ec_inner_"+_ze++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var i=this._guard(t);return bze?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},n.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n})(),Zne=xze;var Cze=ut.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i+o),n.lineTo(e-r,i+o),n.closePath()}}),Sze=ut.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i),n.lineTo(e,i+o),n.lineTo(e-r,i),n.closePath()}}),wze=ut.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,d=Math.sin(c),f=Math.cos(c),m=a*.6,v=a*.7;n.moveTo(e-u,l+s),n.arc(e,l,a,Math.PI-c,Math.PI*2+c),n.bezierCurveTo(e+u-d*m,l+s+f*m,e,i-v,e,i),n.bezierCurveTo(e,i-v,e-u+d*m,l+s+f*m,e-u,l+s),n.closePath()}}),Mze=ut.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,i=t.width,r=t.x,o=t.y,a=i/3*2;n.moveTo(r,o),n.lineTo(r+a,o+e),n.lineTo(r,o+e/4*3),n.lineTo(r-a,o+e),n.lineTo(r,o),n.closePath()}}),Tze={line:pa,rect:Tt,roundRect:Tt,square:Tt,circle:X3,diamond:Sze,pin:wze,arrow:Mze,triangle:Cze},Eze={line:function(n,t,e,i,r){r.x1=n,r.y1=t+i/2,r.x2=n+e,r.y2=t+i/2},rect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i},roundRect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i,r.r=Math.min(e,i)/4},square:function(n,t,e,i,r){var o=Math.min(e,i);r.x=n,r.y=t,r.width=o,r.height=o},circle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.r=Math.min(e,i)/2},diamond:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i},pin:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},arrow:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},triangle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i}},Op={};R(Tze,function(n,t){Op[t]=new n});var Dze=ut.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var i=O3(n,t,e),r=this.shape;return r&&r.symbolType==="pin"&&t.position==="inside"&&(i.y=e.y+e.height*.4),i},buildPath:function(n,t,e){var i=t.symbolType;if(i!=="none"){var r=Op[i];r||(i="rect",r=Op[i]),Eze[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,e)}}});function Ize(n,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=n:e.fill=n,this.markRedraw()}}function eo(n,t,e,i,r,o,a){var s=n.indexOf("empty")===0;s&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=yp(n.slice(8),new Je(t,e,i,r),a?"center":"cover"):n.indexOf("path://")===0?l=sd(n.slice(7),{},new Je(t,e,i,r),a?"center":"cover"):l=new Dze({shape:{symbolType:n,x:t,y:e,width:i,height:r}}),l.__isEmptyBrush=s,l.setColor=Ize,o&&l.setColor(o),l}function Xne(n){return pe(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function $_(n,t){if(n!=null)return pe(n)||(n=[n,n]),[pi(n[0],t[0])||0,pi(it(n[1],n[0]),t[1])||0]}function g4(n){return isFinite(n)}function Lze(n,t,e){var i=t.x==null?0:t.x,r=t.x2==null?1:t.x2,o=t.y==null?0:t.y,a=t.y2==null?0:t.y2;t.global||(i=i*e.width+e.x,r=r*e.width+e.x,o=o*e.height+e.y,a=a*e.height+e.y),i=g4(i)?i:0,r=g4(r)?r:1,o=g4(o)?o:0,a=g4(a)?a:0;var s=n.createLinearGradient(i,o,r,a);return s}function Aze(n,t,e){var i=e.width,r=e.height,o=Math.min(i,r),a=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(a=a*i+e.x,s=s*r+e.y,l=l*o),a=g4(a)?a:.5,s=g4(s)?s:.5,l=l>=0&&g4(l)?l:.5;var c=n.createRadialGradient(a,s,0,a,s,l);return c}function Rp(n,t,e){for(var i=t.type==="radial"?Aze(n,t,e):Lze(n,t,e),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Qne(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!0;return!1}function Y_(n){return parseInt(n,10)}function Fp(n,t,e){var i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(e[i]!=null&&e[i]!=="auto")return parseFloat(e[i]);var s=document.defaultView.getComputedStyle(n);return(n[r]||Y_(s[i])||Y_(n.style[i]))-(Y_(s[o])||0)-(Y_(s[a])||0)|0}function zze(n,t){return!n||n==="solid"||!(t>0)?null:n==="dashed"?[4*t,2*t]:n==="dotted"?[t]:Ct(n)?[n]:pe(n)?n:null}function sz(n){var t=n.style,e=t.lineDash&&t.lineWidth>0&&zze(t.lineDash,t.lineWidth),i=t.lineDashOffset;if(e){var r=t.strokeNoScale&&n.getLineScale?n.getLineScale():1;r&&r!==1&&(e=ge(e,function(o){return o/r}),i/=r)}return[e,i]}var kze=new fa(!0);function Z_(n){var t=n.stroke;return!(t==null||t==="none"||!(n.lineWidth>0))}function Kne(n){return typeof n=="string"&&n!=="none"}function X_(n){var t=n.fill;return t!=null&&t!=="none"}function Jne(n,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function eie(n,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function Q_(n,t,e){var i=bL(t.image,t.__image,e);if(Qu(i)){var r=n.createPattern(i,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*ay),o.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(o)}return r}}function Nze(n,t,e,i){var r,o=Z_(e),a=X_(e),s=e.strokePercent,l=s<1,c=!t.path;(!t.silent||l)&&c&&t.createPathProxy();var u=t.path||kze,d=t.__dirty;if(!i){var f=e.fill,m=e.stroke,v=a&&!!f.colorStops,_=o&&!!m.colorStops,b=a&&!!f.image,C=o&&!!m.image,w=void 0,E=void 0,D=void 0,L=void 0,P=void 0;(v||_)&&(P=t.getBoundingRect()),v&&(w=d?Rp(n,f,P):t.__canvasFillGradient,t.__canvasFillGradient=w),_&&(E=d?Rp(n,m,P):t.__canvasStrokeGradient,t.__canvasStrokeGradient=E),b&&(D=d||!t.__canvasFillPattern?Q_(n,f,t):t.__canvasFillPattern,t.__canvasFillPattern=D),C&&(L=d||!t.__canvasStrokePattern?Q_(n,m,t):t.__canvasStrokePattern,t.__canvasStrokePattern=D),v?n.fillStyle=w:b&&(D?n.fillStyle=D:a=!1),_?n.strokeStyle=E:C&&(L?n.strokeStyle=L:o=!1)}var F=t.getGlobalScale();u.setScale(F[0],F[1],t.segmentIgnoreThreshold);var G,q;n.setLineDash&&e.lineDash&&(r=sz(t),G=r[0],q=r[1]);var Y=!0;(c||d&_0)&&(u.setDPR(n.dpr),l?u.setContext(null):(u.setContext(n),Y=!1),u.reset(),t.buildPath(u,t.shape,i),u.toStatic(),t.pathUpdated()),Y&&u.rebuildPath(n,l?s:1),G&&(n.setLineDash(G),n.lineDashOffset=q),i||(e.strokeFirst?(o&&eie(n,e),a&&Jne(n,e)):(a&&Jne(n,e),o&&eie(n,e))),G&&n.setLineDash([])}function Pze(n,t,e){var i=t.__image=bL(e.image,t.__image,t,t.onload);if(!(!i||!Qu(i))){var r=e.x||0,o=e.y||0,a=t.getWidth(),s=t.getHeight(),l=i.width/i.height;if(a==null&&s!=null?a=s*l:s==null&&a!=null?s=a/l:a==null&&s==null&&(a=i.width,s=i.height),e.sWidth&&e.sHeight){var c=e.sx||0,u=e.sy||0;n.drawImage(i,c,u,e.sWidth,e.sHeight,r,o,a,s)}else if(e.sx&&e.sy){var c=e.sx,u=e.sy,d=a-c,f=s-u;n.drawImage(i,c,u,d,f,r,o,a,s)}else n.drawImage(i,r,o,a,s)}}function Oze(n,t,e){var i,r=e.text;if(r!=null&&(r+=""),r){n.font=e.font||I1,n.textAlign=e.textAlign,n.textBaseline=e.textBaseline;var o=void 0,a=void 0;n.setLineDash&&e.lineDash&&(i=sz(t),o=i[0],a=i[1]),o&&(n.setLineDash(o),n.lineDashOffset=a),e.strokeFirst?(Z_(e)&&n.strokeText(r,e.x,e.y),X_(e)&&n.fillText(r,e.x,e.y)):(X_(e)&&n.fillText(r,e.x,e.y),Z_(e)&&n.strokeText(r,e.x,e.y)),o&&n.setLineDash([])}}var tie=["shadowBlur","shadowOffsetX","shadowOffsetY"],nie=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function lie(n,t,e,i,r){var o=!1;if(!i&&(e=e||{},t===e))return!1;if(i||t.opacity!==e.opacity){Yo(n,r),o=!0;var a=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(a)?As.opacity:a}(i||t.blend!==e.blend)&&(o||(Yo(n,r),o=!0),n.globalCompositeOperation=t.blend||As.blend);for(var s=0;s<tie.length;s++){var l=tie[s];(i||t[l]!==e[l])&&(o||(Yo(n,r),o=!0),n[l]=n.dpr*(t[l]||0))}return(i||t.shadowColor!==e.shadowColor)&&(o||(Yo(n,r),o=!0),n.shadowColor=t.shadowColor||As.shadowColor),o}function iie(n,t,e,i,r){var o=Bp(t,r.inHover),a=i?null:e&&Bp(e,r.inHover)||{};if(o===a)return!1;var s=lie(n,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(Yo(n,r),s=!0),Kne(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(Yo(n,r),s=!0),Kne(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(Yo(n,r),s=!0),n.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var l=o.lineWidth,c=l/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==c&&(s||(Yo(n,r),s=!0),n.lineWidth=c)}for(var u=0;u<nie.length;u++){var d=nie[u],f=d[0];(i||o[f]!==a[f])&&(s||(Yo(n,r),s=!0),n[f]=o[f]||d[1])}return s}function Rze(n,t,e,i,r){return lie(n,Bp(t,r.inHover),e&&Bp(e,r.inHover),i,r)}function cie(n,t){var e=t.transform,i=n.dpr||1;e?n.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):n.setTransform(i,0,0,i,0,0)}function Fze(n,t,e){for(var i=!1,r=0;r<n.length;r++){var o=n[r];i=i||o.isZeroArea(),cie(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}e.allClipped=i}function Bze(n,t){return n&&t?n[0]!==t[0]||n[1]!==t[1]||n[2]!==t[2]||n[3]!==t[3]||n[4]!==t[4]||n[5]!==t[5]:!(!n&&!t)}var rie=1,oie=2,aie=3,sie=4;function Vze(n){var t=X_(n),e=Z_(n);return!(n.lineDash||!(+t^+e)||t&&typeof n.fill!="string"||e&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function Yo(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function Bp(n,t){return t&&n.__hoverStyle||n.style}function Sd(n,t){U0(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function U0(n,t,e,i){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Ri,t.__isRendered=!1;return}var o=t.__clipPaths,a=e.prevElClipPaths,s=!1,l=!1;if((!a||Qne(o,a))&&(a&&a.length&&(Yo(n,e),n.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(Yo(n,e),n.save(),Fze(o,n,e),s=!0),e.prevElClipPaths=o),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var c=e.prevEl;c||(l=s=!0);var u=t instanceof ut&&t.autoBatch&&Vze(t.style);s||Bze(r,c.transform)?(Yo(n,e),cie(n,t)):u||Yo(n,e);var d=Bp(t,e.inHover);t instanceof ut?(e.lastDrawType!==rie&&(l=!0,e.lastDrawType=rie),iie(n,t,c,l,e),(!u||!e.batchFill&&!e.batchStroke)&&n.beginPath(),Nze(n,t,d,u),u&&(e.batchFill=d.fill||"",e.batchStroke=d.stroke||"")):t instanceof rp?(e.lastDrawType!==aie&&(l=!0,e.lastDrawType=aie),iie(n,t,c,l,e),Oze(n,t,d)):t instanceof Wo?(e.lastDrawType!==oie&&(l=!0,e.lastDrawType=oie),Rze(n,t,c,l,e),Pze(n,t,d)):t.getTemporalDisplayables&&(e.lastDrawType!==sie&&(l=!0,e.lastDrawType=sie),Uze(n,t,e)),u&&i&&Yo(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function Uze(n,t,e){var i=t.getDisplayables(),r=t.getTemporalDisplayables();n.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},a,s;for(a=t.getCursor(),s=i.length;a<s;a++){var l=i[a];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),U0(n,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}for(var c=0,u=r.length;c<u;c++){var l=r[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),U0(n,l,o,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,n.restore()}var lz=new Zne,uie=new W2(100),die=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Vp(n,t){if(n==="none")return null;var e=t.getDevicePixelRatio(),i=t.getZr(),r=i.painter.type==="svg";n.dirty&&lz.delete(n);var o=lz.get(n);if(o)return o;var a=Ne(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/e,lz.set(n,s),n.dirty=!1,s;function l(c){for(var u=[e],d=!0,f=0;f<die.length;++f){var m=a[die[f]];if(m!=null&&!pe(m)&&!_e(m)&&!Ct(m)&&typeof m!="boolean"){d=!1;break}u.push(m)}var v;if(d){v=u.join(",")+(r?"-svg":"");var _=uie.get(v);_&&(r?c.svgElement=_:c.image=_)}var b=pie(a.dashArrayX),C=Hze(a.dashArrayY),w=fie(a.symbol),E=jze(b),D=mie(C),L=!r&&vo.createCanvas(),P=r&&{tag:"g",attrs:{},key:"dcl",children:[]},F=q(),G;L&&(L.width=F.width*e,L.height=F.height*e,G=L.getContext("2d")),Y(),d&&uie.put(v,L||P),c.image=L,c.svgElement=P,c.svgWidth=F.width,c.svgHeight=F.height;function q(){for(var W=1,Z=0,te=E.length;Z<te;++Z)W=pL(W,E[Z]);for(var re=1,Z=0,te=w.length;Z<te;++Z)re=pL(re,w[Z].length);W*=re;var ce=D*E.length*w.length;if(0)var ne;return{width:Math.max(1,Math.min(W,a.maxTileWidth)),height:Math.max(1,Math.min(ce,a.maxTileHeight))}}function Y(){G&&(G.clearRect(0,0,L.width,L.height),a.backgroundColor&&(G.fillStyle=a.backgroundColor,G.fillRect(0,0,L.width,L.height)));for(var W=0,Z=0;Z<C.length;++Z)W+=C[Z];if(W<=0)return;for(var te=-D,re=0,ce=0,ne=0;te<F.height;){if(re%2===0){for(var he=ce/2%w.length,oe=0,ve=0,Ee=0;oe<F.width*2;){for(var Ge=0,Z=0;Z<b[ne].length;++Z)Ge+=b[ne][Z];if(Ge<=0)break;if(ve%2===0){var Ye=(1-a.symbolSize)*.5,Rt=oe+b[ne][ve]*Ye,Xe=te+C[re]*Ye,Jt=b[ne][ve]*a.symbolSize,Mr=C[re]*a.symbolSize,_n=Ee/2%w[he].length;Qi(Rt,Xe,Jt,Mr,w[he][_n])}oe+=b[ne][ve],++Ee,++ve,ve===b[ne].length&&(ve=0)}++ne,ne===b.length&&(ne=0)}te+=C[re],++ce,++re,re===C.length&&(re=0)}function Qi(Sn,kn,ot,Ft,Ws){var bn=r?1:e,ya=eo(Ws,Sn*bn,kn*bn,ot*bn,Ft*bn,a.color,a.symbolKeepAspect);if(r){var m7=i.painter.renderOneToVNode(ya);m7&&P.children.push(m7)}else Sd(G,ya)}}}}function fie(n){if(!n||n.length===0)return[["rect"]];if(_e(n))return[[n]];for(var t=!0,e=0;e<n.length;++e)if(!_e(n[e])){t=!1;break}if(t)return fie([n]);for(var i=[],e=0;e<n.length;++e)_e(n[e])?i.push([n[e]]):i.push(n[e]);return i}function pie(n){if(!n||n.length===0)return[[0,0]];if(Ct(n)){var t=Math.ceil(n);return[[t,t]]}for(var e=!0,i=0;i<n.length;++i)if(!Ct(n[i])){e=!1;break}if(e)return pie([n]);for(var r=[],i=0;i<n.length;++i)if(Ct(n[i])){var t=Math.ceil(n[i]);r.push([t,t])}else{var t=ge(n[i],function(s){return Math.ceil(s)});t.length%2===1?r.push(t.concat(t)):r.push(t)}return r}function Hze(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Ct(n)){var t=Math.ceil(n);return[t,t]}var e=ge(n,function(i){return Math.ceil(i)});return n.length%2?e.concat(e):e}function jze(n){return ge(n,function(t){return mie(t)})}function mie(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2===1?t*2:t}function cz(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var i=e.getData();i.hasItemVisual()&&i.each(function(a){var s=i.getItemVisual(a,"decal");if(s){var l=i.ensureUniqueItemVisual(a,"style");l.decal=Vp(s,t)}});var r=i.getVisual("decal");if(r){var o=i.getVisual("style");o.decal=Vp(r,t)}}})}var Gze=new Ei,r1=Gze;var hie={};function gie(n,t){hie[n]=t}function uz(n){return hie[n]}var Wze="5.6.0",qze={zrender:"5.6.1"},$ze=1,Yze=800,Zze=900,Xze=1e3,Qze=2e3,Kze=5e3,Mie=1e3,Jze=1100,xz=2e3,Tie=3e3,eke=4e3,rb=4500,tke=4600,nke=5e3,ike=6e3,Eie=7e3,Cz={PROCESSOR:{FILTER:Xze,SERIES_FILTER:Yze,STATISTIC:Kze},VISUAL:{LAYOUT:Mie,PROGRESSIVE_LAYOUT:Jze,GLOBAL:xz,CHART:Tie,POST_CHART_LAYOUT:tke,COMPONENT:eke,BRUSH:nke,CHART_ITEM:rb,ARIA:ike,DECAL:Eie}},to="__flagInMainProcess",Zo="__pendingUpdate",dz="__needsUpdateStatus",vie=/^[a-zA-Z0-9_]+$/,fz="__connectUpdateStatus",yie=0,rke=1,oke=2;function Die(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return Lie(this,n,t)}}function Iie(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Lie(this,n,t)}}function Lie(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Ei.prototype[t].apply(n,e)}var Aie=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(Ei),zie=Aie.prototype;zie.on=Iie("on");zie.off=Iie("off");var wd,pz,K_,H0,mz,hz,gz,Up,Hp,_ie,bie,vz,xie,J_,Cie,kie,o1,Sie,eb=(function(n){de(t,n);function t(e,i,r){var o=n.call(this,new Hne)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},_e(i)&&(i=Nie[i]),o._dom=e;var a="canvas",s="auto",l=!1;if(0)var c;r.ssr&&dL(function(m){var v=yt(m),_=v.dataIndex;if(_!=null){var b=Le();return b.set("series_index",v.seriesIndex),b.set("data_index",_),v.ssrType&&b.set("ssr_type",v.ssrType),b}});var u=o._zr=Fy(e,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:it(r.useDirtyRect,l),useCoarsePointer:it(r.useCoarsePointer,s),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=p4(ze(u.flush,u),17),i=ke(i),i&&k_(i,!0),o._theme=i,o._locale=mte(r.locale||g_),o._coordSysMgr=new gd;var d=o._api=Cie(o);function f(m,v){return m.__prio-v.__prio}return M3(nb,f),M3(yz,f),o._scheduler=new oz(o,d,yz,nb),o._messageCenter=new Aie,o._initEvents(),o.resize=ze(o.resize,o),u.animation.on("frame",o._onframe,o),_ie(u,o),bie(u,o),_3(o),o}return t.prototype._onframe=function(){if(!this._disposed){Sie(this);var e=this._scheduler;if(this[Zo]){var i=this[Zo].silent;this[to]=!0;try{wd(this),H0.update.call(this,null,this[Zo].updateParams)}catch(l){throw this[to]=!1,this[Zo]=null,l}this._zr.flush(),this[to]=!1,this[Zo]=null,Up.call(this,i),Hp.call(this,i)}else if(e.unfinished){var r=$ze,o=this._model,a=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),hz(this,o),e.performVisualTasks(o),J_(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,i,r){if(!this[to]){if(this._disposed){this.id;return}var o,a,s;if(we(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,s=i.transition,i=i.notMerge),this[to]=!0,!this._model||i){var l=new Ute(this._api),c=this._theme,u=this._model=new A_;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(e,{replaceMerge:a},_z);var d={seriesTransition:s,optionChanged:!0};if(r)this[Zo]={silent:o,updateParams:d},this[to]=!1,this.getZr().wakeUp();else{try{wd(this),H0.update.call(this,null,d)}catch(f){throw this[Zo]=null,this[to]=!1,f}this._ssr||this._zr.flush(),this[Zo]=null,this[to]=!1,Up.call(this,o),Hp.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Be.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var i=this._zr.painter;return i.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(Be.svgSupported){var e=this._zr,i=e.storage.getDisplayList();return R(i,function(r){r.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var i=e.excludeComponents,r=this._model,o=[],a=this;R(i,function(l){r.eachComponent({mainType:l},function(c){var u=a._componentsMap[c.__viewId];u.group.ignore||(o.push(u),u.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return R(o,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var i=e.type==="svg",r=this.group,o=Math.min,a=Math.max,s=1/0;if(ib[r]){var l=s,c=s,u=-s,d=-s,f=[],m=e&&e.pixelRatio||this.getDevicePixelRatio();R(v4,function(E,D){if(E.group===r){var L=i?E.getZr().painter.getSvgDom().innerHTML:E.renderToCanvas(ke(e)),P=E.getDom().getBoundingClientRect();l=o(P.left,l),c=o(P.top,c),u=a(P.right,u),d=a(P.bottom,d),f.push({dom:L,left:P.left,top:P.top})}}),l*=m,c*=m,u*=m,d*=m;var v=u-l,_=d-c,b=vo.createCanvas(),C=Fy(b,{renderer:i?"svg":"canvas"});if(C.resize({width:v,height:_}),i){var w="";return R(f,function(E){var D=E.left-l,L=E.top-c;w+='<g transform="translate('+D+","+L+')">'+E.dom+"</g>"}),C.painter.getSvgRoot().innerHTML=w,e.connectedBackgroundColor&&C.painter.setBackgroundColor(e.connectedBackgroundColor),C.refreshImmediately(),C.painter.toDataURL()}else return e.connectedBackgroundColor&&C.add(new Tt({shape:{x:0,y:0,width:v,height:_},style:{fill:e.connectedBackgroundColor}})),R(f,function(E){var D=new Wo({style:{x:E.left*m-l,y:E.top*m-c,image:E.dom}});C.add(D)}),C.refreshImmediately(),b.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,i){return mz(this,"convertToPixel",e,i)},t.prototype.convertFromPixel=function(e,i){return mz(this,"convertFromPixel",e,i)},t.prototype.containPixel=function(e,i){if(this._disposed){this.id;return}var r=this._model,o,a=w0(r,e);return R(a,function(s,l){l.indexOf("Models")>=0&&R(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)o=o||!!u.containPoint(i);else if(l==="seriesModels"){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(o=o||d.containPoint(i,c))}},this)},this),!!o},t.prototype.getVisual=function(e,i){var r=this._model,o=w0(r,e,{defaultMainType:"series"}),a=o.seriesModel,s=a.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return l!=null?qne(s,l,i):$ne(s,i)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;R(ake,function(i){var r=function(o){var a=e.getModel(),s=o.target,l,c=i==="globalout";if(c?l={}:s&&h4(s,function(v){var _=yt(v);if(_&&_.dataIndex!=null){var b=_.dataModel||a.getSeriesByIndex(_.seriesIndex);return l=b&&b.getDataParams(_.dataIndex,_.dataType,s)||{},!0}else if(_.eventData)return l=fe({},_.eventData),!0},!0),l){var u=l.componentType,d=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",d=l.seriesIndex);var f=u&&d!=null&&a.getComponent(u,d),m=f&&e[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=o,l.type=i,e._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:f,view:m},e.trigger(i,l)}};r.zrEventfulCallAtLast=!0,e._zr.on(i,r,e)}),R(jp,function(i,r){e._messageCenter.on(r,function(o){this.trigger(r,o)},e)}),R(["selectchanged"],function(i){e._messageCenter.on(i,function(r){this.trigger(i,r)},e)}),Yne(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&gL(this.getDom(),wz,"");var i=this,r=i._api,o=i._model;R(i._componentsViews,function(a){a.dispose(o,r)}),R(i._chartsViews,function(a){a.dispose(o,r)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete v4[i.id]},t.prototype.resize=function(e){if(!this[to]){if(this._disposed){this.id;return}this._zr.resize(e);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!i){var r=i.resetOption("media"),o=e&&e.silent;this[Zo]&&(o==null&&(o=this[Zo].silent),r=!0,this[Zo]=null),this[to]=!0;try{r&&wd(this),H0.update.call(this,{type:"resize",animation:fe({duration:0},e&&e.animation)})}catch(a){throw this[to]=!1,a}this[to]=!1,Up.call(this,o),Hp.call(this,o)}}},t.prototype.showLoading=function(e,i){if(this._disposed){this.id;return}if(we(e)&&(i=e,e=""),e=e||"default",this.hideLoading(),!!bz[e]){var r=bz[e](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var i=fe({},e);return i.type=jp[e.type],i},t.prototype.dispatchAction=function(e,i){if(this._disposed){this.id;return}if(we(i)||(i={silent:!!i}),!!tb[e.type]&&this._model){if(this[to]){this._pendingActions.push(e);return}var r=i.silent;gz.call(this,e,r);var o=i.flush;o?this._zr.flush():o!==!1&&Be.browser.weChat&&this._throttledZrFlush(),Up.call(this,r),Hp.call(this,r)}},t.prototype.updateLabelLayout=function(){r1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var i=e.seriesIndex,r=this.getModel(),o=r.getSeriesByIndex(i);o.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){wd=function(d){var f=d._scheduler;f.restorePipelines(d._model),f.prepareStageTasks(),pz(d,!0),pz(d,!1),f.plan()},pz=function(d,f){for(var m=d._model,v=d._scheduler,_=f?d._componentsViews:d._chartsViews,b=f?d._componentsMap:d._chartsMap,C=d._zr,w=d._api,E=0;E<_.length;E++)_[E].__alive=!1;f?m.eachComponent(function(P,F){P!=="series"&&D(F)}):m.eachSeries(D);function D(P){var F=P.__requireNewView;P.__requireNewView=!1;var G="_ec_"+P.id+"_"+P.type,q=!F&&b[G];if(!q){var Y=Go(P.type),W=f?Kn.getClass(Y.main,Y.sub):Sr.getClass(Y.sub);q=new W,q.init(m,w),b[G]=q,_.push(q),C.add(q.group)}P.__viewId=q.__id=G,q.__alive=!0,q.__model=P,q.group.__ecComponentInfo={mainType:P.mainType,index:P.componentIndex},!f&&v.prepareView(q,P,m,w)}for(var E=0;E<_.length;){var L=_[E];L.__alive?E++:(!f&&L.renderTask.dispose(),C.remove(L.group),L.dispose(m,w),_.splice(E,1),b[L.__id]===L&&delete b[L.__id],L.__id=L.group.__ecComponentInfo=null)}},K_=function(d,f,m,v,_){var b=d._model;if(b.setUpdatePayload(m),!v){R([].concat(d._componentsViews).concat(d._chartsViews),L);return}var C={};C[v+"Id"]=m[v+"Id"],C[v+"Index"]=m[v+"Index"],C[v+"Name"]=m[v+"Name"];var w={mainType:v,query:C};_&&(w.subType=_);var E=m.excludeSeriesId,D;E!=null&&(D=Le(),R(ri(E),function(P){var F=da(P,null);F!=null&&D.set(F,!0)})),b&&b.eachComponent(w,function(P){var F=D&&D.get(P.id)!=null;if(!F)if(XL(m))if(P instanceof xo)m.type===A0&&!m.notBlur&&!P.get(["emphasis","disabled"])&&vee(P,m,d._api);else{var G=Xy(P.mainType,P.componentIndex,m.name,d._api),q=G.focusSelf,Y=G.dispatchers;m.type===A0&&q&&!m.notBlur&&Yy(P.mainType,P.componentIndex,d._api),Y&&R(Y,function(W){m.type===A0?Os(W):Rs(W)})}else Qy(m)&&P instanceof xo&&(bee(P,m,d._api),ZL(P),o1(d))},d),b&&b.eachComponent(w,function(P){var F=D&&D.get(P.id)!=null;F||L(d[v==="series"?"_chartsMap":"_componentsMap"][P.__viewId])},d);function L(P){P&&P.__alive&&P[f]&&P[f](P.__model,b,d._api,m)}},H0={prepareAndUpdate:function(d){wd(this),H0.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,f){var m=this._model,v=this._api,_=this._zr,b=this._coordSysMgr,C=this._scheduler;if(m){m.setUpdatePayload(d),C.restoreData(m,d),C.performSeriesTasks(m),b.create(m,v),C.performDataProcessorTasks(m,d),hz(this,m),b.update(m,v),e(m),C.performVisualTasks(m,d),vz(this,m,v,d,f);var w=m.get("backgroundColor")||"transparent",E=m.get("darkMode");_.setBackgroundColor(w),E!=null&&E!=="auto"&&_.setDarkMode(E),r1.trigger("afterupdate",m,v)}},updateTransform:function(d){var f=this,m=this._model,v=this._api;if(m){m.setUpdatePayload(d);var _=[];m.eachComponent(function(C,w){if(C!=="series"){var E=f.getViewOfComponentModel(w);if(E&&E.__alive)if(E.updateTransform){var D=E.updateTransform(w,m,v,d);D&&D.update&&_.push(E)}else _.push(E)}});var b=Le();m.eachSeries(function(C){var w=f._chartsMap[C.__viewId];if(w.updateTransform){var E=w.updateTransform(C,m,v,d);E&&E.update&&b.set(C.uid,1)}else b.set(C.uid,1)}),e(m),this._scheduler.performVisualTasks(m,d,{setDirty:!0,dirtyMap:b}),J_(this,m,v,d,{},b),r1.trigger("afterupdate",m,v)}},updateView:function(d){var f=this._model;f&&(f.setUpdatePayload(d),Sr.markUpdateMethod(d,"updateView"),e(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0}),vz(this,f,this._api,d,{}),r1.trigger("afterupdate",f,this._api))},updateVisual:function(d){var f=this,m=this._model;m&&(m.setUpdatePayload(d),m.eachSeries(function(v){v.getData().clearAllVisual()}),Sr.markUpdateMethod(d,"updateVisual"),e(m),this._scheduler.performVisualTasks(m,d,{visualType:"visual",setDirty:!0}),m.eachComponent(function(v,_){if(v!=="series"){var b=f.getViewOfComponentModel(_);b&&b.__alive&&b.updateVisual(_,m,f._api,d)}}),m.eachSeries(function(v){var _=f._chartsMap[v.__viewId];_.updateVisual(v,m,f._api,d)}),r1.trigger("afterupdate",m,this._api))},updateLayout:function(d){H0.update.call(this,d)}},mz=function(d,f,m,v){if(d._disposed){d.id;return}for(var _=d._model,b=d._coordSysMgr.getCoordinateSystems(),C,w=w0(_,m),E=0;E<b.length;E++){var D=b[E];if(D[f]&&(C=D[f](_,w,v))!=null)return C}},hz=function(d,f){var m=d._chartsMap,v=d._scheduler;f.eachSeries(function(_){v.updateStreamModes(_,m[_.__viewId])})},gz=function(d,f){var m=this,v=this.getModel(),_=d.type,b=d.escapeConnect,C=tb[_],w=C.actionInfo,E=(w.update||"update").split(":"),D=E.pop(),L=E[0]!=null&&Go(E[0]);this[to]=!0;var P=[d],F=!1;d.batch&&(F=!0,P=ge(d.batch,function(re){return re=Ne(fe({},re),d),re.batch=null,re}));var G=[],q,Y=Qy(d),W=XL(d);if(W&&YL(this._api),R(P,function(re){if(q=C.action(re,m._model,m._api),q=q||fe({},re),q.type=w.event||q.type,G.push(q),W){var ce=ep(d),ne=ce.queryOptionMap,he=ce.mainTypeSpecified,oe=he?ne.keys()[0]:"series";K_(m,D,re,oe),o1(m)}else Y?(K_(m,D,re,"series"),o1(m)):L&&K_(m,D,re,L.main,L.sub)}),D!=="none"&&!W&&!Y&&!L)try{this[Zo]?(wd(this),H0.update.call(this,d),this[Zo]=null):H0[D].call(this,d)}catch(re){throw this[to]=!1,re}if(F?q={type:w.event||_,escapeConnect:b,batch:G}:q=G[0],this[to]=!1,!f){var Z=this._messageCenter;if(Z.trigger(q.type,q),Y){var te={type:"selectchanged",escapeConnect:b,selected:xee(v),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};Z.trigger(te.type,te)}}},Up=function(d){for(var f=this._pendingActions;f.length;){var m=f.shift();gz.call(this,m,d)}},Hp=function(d){!d&&this.trigger("updated")},_ie=function(d,f){d.on("rendered",function(m){f.trigger("rendered",m),d.animation.isFinished()&&!f[Zo]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},bie=function(d,f){d.on("mouseover",function(m){var v=m.target,_=h4(v,up);_&&(yee(_,m,f._api),o1(f))}).on("mouseout",function(m){var v=m.target,_=h4(v,up);_&&(_ee(_,m,f._api),o1(f))}).on("click",function(m){var v=m.target,_=h4(v,function(w){return yt(w).dataIndex!=null},!0);if(_){var b=_.selected?"unselect":"select",C=yt(_);f._api.dispatchAction({type:b,dataType:C.dataType,dataIndexInside:C.dataIndex,seriesIndex:C.seriesIndex,isFromClick:!0})}})};function e(d){d.clearColorPalette(),d.eachSeries(function(f){f.clearColorPalette()})}function i(d){var f=[],m=[],v=!1;if(d.eachComponent(function(w,E){var D=E.get("zlevel")||0,L=E.get("z")||0,P=E.getZLevelKey();v=v||!!P,(w==="series"?m:f).push({zlevel:D,z:L,idx:E.componentIndex,type:w,key:P})}),v){var _=f.concat(m),b,C;M3(_,function(w,E){return w.zlevel===E.zlevel?w.z-E.z:w.zlevel-E.zlevel}),R(_,function(w){var E=d.getComponent(w.type,w.idx),D=w.zlevel,L=w.key;b!=null&&(D=Math.max(b,D)),L?(D===b&&L!==C&&D++,C=L):C&&(D===b&&D++,C=""),b=D,E.setZLevel(D)})}}vz=function(d,f,m,v,_){i(f),xie(d,f,m,v,_),R(d._chartsViews,function(b){b.__alive=!1}),J_(d,f,m,v,_),R(d._chartsViews,function(b){b.__alive||b.remove(f,m)})},xie=function(d,f,m,v,_,b){R(b||d._componentsViews,function(C){var w=C.__model;c(w,C),C.render(w,f,m,v),s(w,C),u(w,C)})},J_=function(d,f,m,v,_,b){var C=d._scheduler;_=fe(_||{},{updatedSeries:f.getSeries()}),r1.trigger("series:beforeupdate",f,m,_);var w=!1;f.eachSeries(function(E){var D=d._chartsMap[E.__viewId];D.__alive=!0;var L=D.renderTask;C.updatePayload(L,v),c(E,D),b&&b.get(E.uid)&&L.dirty(),L.perform(C.getPerformArgs(L))&&(w=!0),D.group.silent=!!E.get("silent"),a(E,D),ZL(E)}),C.unfinished=w||C.unfinished,r1.trigger("series:layoutlabels",f,m,_),r1.trigger("series:transition",f,m,_),f.eachSeries(function(E){var D=d._chartsMap[E.__viewId];s(E,D),u(E,D)}),o(d,f),r1.trigger("series:afterupdate",f,m,_)},o1=function(d){d[dz]=!0,d.getZr().wakeUp()},Sie=function(d){d[dz]&&(d.getZr().storage.traverse(function(f){t4(f)||r(f)}),d[dz]=!1)};function r(d){for(var f=[],m=d.currentStates,v=0;v<m.length;v++){var _=m[v];_==="emphasis"||_==="blur"||_==="select"||f.push(_)}d.selected&&d.states.select&&f.push("select"),d.hoverState===ap&&d.states.emphasis?f.push("emphasis"):d.hoverState===op&&d.states.blur&&f.push("blur"),d.useStates(f)}function o(d,f){var m=d._zr,v=m.storage,_=0;v.traverse(function(b){b.isGroup||_++}),_>f.get("hoverLayerThreshold")&&!Be.node&&!Be.worker&&f.eachSeries(function(b){if(!b.preventUsingHoverLayer){var C=d._chartsMap[b.__viewId];C.__alive&&C.eachRendered(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}function a(d,f){var m=d.get("blendMode")||null;f.eachRendered(function(v){v.isGroup||(v.style.blend=m)})}function s(d,f){if(!d.preventAutoZ){var m=d.get("z")||0,v=d.get("zlevel")||0;f.eachRendered(function(_){return l(_,m,v,-1/0),!0})}}function l(d,f,m,v){var _=d.getTextContent(),b=d.getTextGuideLine(),C=d.isGroup;if(C)for(var w=d.childrenRef(),E=0;E<w.length;E++)v=Math.max(l(w[E],f,m,v),v);else d.z=f,d.zlevel=m,v=Math.max(d.z2,v);if(_&&(_.z=f,_.zlevel=m,isFinite(v)&&(_.z2=v+2)),b){var D=d.textGuideLineConfig;b.z=f,b.zlevel=m,isFinite(v)&&(b.z2=v+(D&&D.showAbove?1:-1))}return v}function c(d,f){f.eachRendered(function(m){if(!t4(m)){var v=m.getTextContent(),_=m.getTextGuideLine();m.stateTransition&&(m.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),m.hasState()?(m.prevStates=m.currentStates,m.clearStates()):m.prevStates&&(m.prevStates=null)}})}function u(d,f){var m=d.getModel("stateAnimation"),v=d.isAnimationEnabled(),_=m.get("duration"),b=_>0?{duration:_,delay:m.get("delay"),easing:m.get("easing")}:null;f.eachRendered(function(C){if(C.states&&C.states.emphasis){if(t4(C))return;if(C instanceof ut&&wee(C),C.__dirty){var w=C.prevStates;w&&C.useStates(w)}if(v){C.stateTransition=b;var E=C.getTextContent(),D=C.getTextGuideLine();E&&(E.stateTransition=b),D&&(D.stateTransition=b)}C.__dirty&&r(C)}})}Cie=function(d){return new((function(f){de(m,f);function m(){return f!==null&&f.apply(this,arguments)||this}return m.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},m.prototype.getComponentByElement=function(v){for(;v;){var _=v.__ecComponentInfo;if(_!=null)return d._model.getComponent(_.mainType,_.index);v=v.parent}},m.prototype.enterEmphasis=function(v,_){Os(v,_),o1(d)},m.prototype.leaveEmphasis=function(v,_){Rs(v,_),o1(d)},m.prototype.enterBlur=function(v){hee(v),o1(d)},m.prototype.leaveBlur=function(v){WL(v),o1(d)},m.prototype.enterSelect=function(v){qL(v),o1(d)},m.prototype.leaveSelect=function(v){$L(v),o1(d)},m.prototype.getModel=function(){return d.getModel()},m.prototype.getViewOfComponentModel=function(v){return d.getViewOfComponentModel(v)},m.prototype.getViewOfSeriesModel=function(v){return d.getViewOfSeriesModel(v)},m})(z_))(d)},kie=function(d){function f(m,v){for(var _=0;_<m.length;_++){var b=m[_];b[fz]=v}}R(jp,function(m,v){d._messageCenter.on(v,function(_){if(ib[d.group]&&d[fz]!==yie){if(_&&_.escapeConnect)return;var b=d.makeActionFromEvent(_),C=[];R(v4,function(w){w!==d&&w.group===d.group&&C.push(w)}),f(C,yie),R(C,function(w){w[fz]!==rke&&w.dispatchAction(b)}),f(C,oke)}})})}})(),t})(Ei),Sz=eb.prototype;Sz.on=Die("on");Sz.off=Die("off");Sz.one=function(n,t,e){var i=this;function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),i.off(n,r)}this.on.call(this,n,r,e)};var ake=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var tb={},jp={},yz=[],_z=[],nb=[],Nie={},bz={},v4={},ib={},ske=+new Date-0,lke=+new Date-0,wz="_echarts_instance_";function cke(n,t,e){var i=!(e&&e.ssr);if(i){var r=Mz(n);if(r)return r}var o=new eb(n,t,e);return o.id="ec_"+ske++,v4[o.id]=o,i&&gL(n,wz,o.id),kie(o),r1.trigger("afterinit",o),o}function uke(n){if(pe(n)){var t=n;n=null,R(t,function(e){e.group!=null&&(n=e.group)}),n=n||"g_"+lke++,R(t,function(e){e.group=n})}return ib[n]=!0,n}function Pie(n){ib[n]=!1}var dke=Pie;function fke(n){_e(n)?n=v4[n]:n instanceof eb||(n=Mz(n)),n instanceof eb&&!n.isDisposed()&&n.dispose()}function Mz(n){return v4[gJ(n,wz)]}function pke(n){return v4[n]}function Tz(n,t){Nie[n]=t}function ob(n){qe(_z,n)<0&&_z.push(n)}function ab(n,t){Az(yz,n,t,Qze)}function Ez(n){Gp("afterinit",n)}function Dz(n){Gp("afterupdate",n)}function Gp(n,t){r1.on(n,t)}function no(n,t,e){Ie(t)&&(e=t,t="");var i=we(n)?n.type:[n,n={event:t}][0];n.event=(n.event||i).toLowerCase(),t=n.event,!jp[t]&&(Yi(vie.test(i)&&vie.test(t)),tb[i]||(tb[i]={action:e,actionInfo:n}),jp[t]=i)}function Iz(n,t){gd.register(n,t)}function mke(n){var t=gd.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function Lz(n,t){Az(nb,n,t,Mie,"layout")}function al(n,t){Az(nb,n,t,Tie,"visual")}var wie=[];function Az(n,t,e,i,r){if((Ie(t)||we(t))&&(e=t,t=i),!(qe(wie,e)>=0)){wie.push(e);var o=oz.wrapStageHandler(e,r);o.__prio=t,o.__raw=e,n.push(o)}}function sb(n,t){bz[n]=t}function hke(n){iy({createCanvas:n})}function zz(n,t,e){var i=uz("registerMap");i&&i(n,t,e)}function gke(n){var t=uz("getMap");return t&&t(n)}var kz=one;al(xz,Lne);al(rb,Ane);al(rb,zne);al(xz,Gne);al(rb,Wne);al(Eie,cz);ob(k_);ab(Zze,VA);sb("default",rz);no({type:A0,event:A0,update:A0},fi);no({type:sp,event:sp,update:sp},fi);no({type:ed,event:ed,update:ed},fi);no({type:lp,event:lp,update:lp},fi);no({type:td,event:td,update:td},fi);Tz("light",Rne);Tz("dark",Une);var vke={};function Wp(n){return n==null?0:n.length||1}function Oie(n){return n}var yke=(function(){function n(t,e,i,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=i||Oie,this._newKeyGetter=r||Oie,this.context=o,this._diffModeMultiple=a==="multiple"}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=r[a],l=i[s],c=Wp(l);if(c>1){var u=l.shift();l.length===1&&(i[s]=l[0]),this._update&&this._update(u,a)}else c===1?(i[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var t=this._old,e=this._new,i={},r={},o=[],a=[];this._initIndexMap(t,i,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],c=i[l],u=r[l],d=Wp(c),f=Wp(u);if(d>1&&f===1)this._updateManyToOne&&this._updateManyToOne(u,c),r[l]=null;else if(d===1&&f>1)this._updateOneToMany&&this._updateOneToMany(u,c),r[l]=null;else if(d===1&&f===1)this._update&&this._update(u,c),r[l]=null;else if(d>1&&f>1)this._updateManyToMany&&this._updateManyToMany(u,c),r[l]=null;else if(d>1)for(var m=0;m<d;m++)this._remove&&this._remove(c[m]);else this._remove&&this._remove(c)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=e[r],a=Wp(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else a===1&&this._add&&this._add(o);e[r]=null}},n.prototype._initIndexMap=function(t,e,i,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[r](t[a],a);if(o||(i[a]=s),!!e){var l=e[s],c=Wp(l);c===0?(e[s]=a,o&&i.push(s)):c===1?e[s]=[l,a]:l.push(a)}}},n})(),Md=yke;var _ke=(function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n})();function Rie(n,t){var e={},i=e.encode={},r=Le(),o=[],a=[],s={};R(n.dimensions,function(f){var m=n.getDimensionInfo(f),v=m.coordDim;if(v){var _=m.coordDimIndex;Nz(i,v)[_]=f,m.isExtraCoord||(r.set(v,1),bke(m.type)&&(o[0]=f),Nz(s,v)[_]=n.getDimensionIndex(m.name)),m.defaultTooltip&&a.push(f)}D_.each(function(b,C){var w=Nz(i,C),E=m.otherDims[C];E!=null&&E!==!1&&(w[E]=m.name)})});var l=[],c={};r.each(function(f,m){var v=i[m];c[m]=v[0],l=l.concat(v)}),e.dataDimsOnCoord=l,e.dataDimIndicesOnCoord=ge(l,function(f){return n.getDimensionInfo(f).storeDimIndex}),e.encodeFirstDimNotExtra=c;var u=i.label;u&&u.length&&(o=u.slice());var d=i.tooltip;return d&&d.length?a=d.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,e.userOutput=new _ke(s,t),e}function Nz(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function Fie(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function bke(n){return!(n==="ordinal"||n==="time")}var xke=(function(){function n(t){this.otherDims={},t!=null&&fe(this,t)}return n})(),Td=xke;var Cke=Ot(),Ske={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Pz=(function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=Rz(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return it(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=P_(this.source),i=!Fz(t),r="",o=[],a=0,s=0;a<t;a++){var l=void 0,c=void 0,u=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===a)l=e?d.name:null,c=d.type,u=d.ordinalMeta,s++;else{var f=this.getSourceDimension(a);f&&(l=e?f.name:null,c=f.type)}o.push({property:l,type:c,ordinalMeta:u}),e&&l!=null&&(!d||!d.isCalculationCoord)&&(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=Ske[c]||"f",u&&(r+=u.uid),r+="$"}var m=this.source,v=[m.seriesLayoutBy,m.startIndex,r].join("$$");return{dimensions:o,hash:v}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,i=0;e<this._fullDimCount;e++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(e);a&&(r=a.name)}t.push(r)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n})();function cb(n){return n instanceof Pz}function Oz(n){for(var t=Le(),e=0;e<(n||[]).length;e++){var i=n[e],r=we(i)?i.name:i;r!=null&&t.get(r)==null&&t.set(r,e)}return t}function Rz(n){var t=Cke(n);return t.dimNameMap||(t.dimNameMap=Oz(n.dimensionsDefine))}function Fz(n){return n>30}var qp=we,j0=ge,wke=typeof Int32Array>"u"?Array:Int32Array,Mke="e\0\0",Bie=-1,Tke=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Eke=["_approximateExtent"],Vie,ub,$p,Yp,Bz,Zp,Vz,Dke=(function(){function n(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var i,r=!1;cb(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,i=t),i=i||["x","y"];for(var o={},a=[],s={},l=!1,c={},u=0;u<i.length;u++){var d=i[u],f=_e(d)?new Td({name:d}):d instanceof Td?d:new Td(d),m=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=m,f.coordDimIndex=0);var v=f.otherDims=f.otherDims||{};a.push(m),o[m]=f,c[m]!=null&&(l=!0),f.createInvertedIndices&&(s[m]=[]),v.itemName===0&&(this._nameDimIdx=u),v.itemId===0&&(this._idDimIdx=u),r&&(f.storeDimIndex=u)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var _=this._dimIdxToName=Le();R(a,function(b){_.set(o[b].storeDimIndex,b)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(i!=null)return i;var r=this._schema.getSourceDimension(e);if(r)return r.name},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(Ct(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(i){return e.hasOwnProperty(i)?e[i]:void 0}:function(i){return e[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(e==null)return i.encodeFirstDimNotExtra[t];var r=i.encode[t];return r?r[e]:null},n.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,i=e.encode[t];return(i||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,i){var r=this,o;if(t instanceof kp&&(o=t),!o){var a=this.dimensions,s=vd(t)||Mi(t)?new O_(t,a.length):t;o=new kp;var l=j0(a,function(c){return{type:r._dimInfos[c].type,property:c}});o.initData(s,l,i)}this._store=o,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=Rie(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e&&e.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=r;s<o;s++){var l=s-r;this._nameList[s]=e[l],a&&Vz(this,s)}},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var r=this._dimInfos[e[i]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==ga&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store,r=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,s=r.getSource().sourceFormat,l=s===pr;if(l&&!r.pure)for(var c=[],u=t;u<e;u++){var d=r.getItem(u,c);if(!this.hasItemOption&&uJ(d)&&(this.hasItemOption=!0),d){var f=d.name;o[u]==null&&f!=null&&(o[u]=da(f,null));var m=d.id;a[u]==null&&m!=null&&(a[u]=da(m,null))}}if(this._shouldMakeIdFromName())for(var u=t;u<e;u++)Vz(this,u);Vie(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){qp(t)?fe(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return i==null&&this._nameDimIdx!=null&&(i=$p(this,this._nameDimIdx,e)),i==null&&(i=""),i},n.prototype._getCategory=function(t,e){var i=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[i]:i},n.prototype.getId=function(t){return ub(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var i=this._store,r=this._dimInfos[t];if(r)return i.get(r.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var i=this._store,r=this._dimInfos[t];if(r)return i.getByRawIndex(r.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var i=this,r=this._store;return pe(t)?r.getValues(j0(t,function(o){return i._getStoreDimIndex(o)}),e):r.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,r=e.length;i<r;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var i=t&&this._invertedIndicesMap[t],r=i&&i[e];return r==null||isNaN(r)?Bie:r},n.prototype.indicesOfNearest=function(t,e,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,i)},n.prototype.each=function(t,e,i){"use strict";Ie(t)&&(i=e,e=t,t=[]);var r=i||this,o=j0(Yp(t),this._getStoreDimIndex,this);this._store.each(o,r?ze(e,r):e)},n.prototype.filterSelf=function(t,e,i){"use strict";Ie(t)&&(i=e,e=t,t=[]);var r=i||this,o=j0(Yp(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?ze(e,r):e),this},n.prototype.selectRange=function(t){"use strict";var e=this,i={},r=Lt(t),o=[];return R(r,function(a){var s=e._getStoreDimIndex(a);i[s]=t[a],o.push(s)}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(t,e,i){"use strict";Ie(t)&&(i=e,e=t,t=[]),i=i||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},i),r},n.prototype.map=function(t,e,i,r){"use strict";var o=i||r||this,a=j0(Yp(t),this._getStoreDimIndex,this),s=Zp(this);return s._store=this._store.map(a,o?ze(e,o):e),s},n.prototype.modify=function(t,e,i,r){var o=this,a=i||r||this,s=j0(Yp(t),this._getStoreDimIndex,this);this._store.modify(s,a?ze(e,a):e)},n.prototype.downSample=function(t,e,i,r){var o=Zp(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,i,r),o},n.prototype.minmaxDownSample=function(t,e){var i=Zp(this);return i._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),i},n.prototype.lttbDownSample=function(t,e){var i=Zp(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new $t(i,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new Md(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return ub(t,i)},function(i){return ub(e,i)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},qp(t)?fe(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t],r=i&&i[e];return r??this.getVisual(e)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,r=i[t];r||(r=i[t]={});var o=r[e];return o==null&&(o=this.getVisual(e),pe(o)?o=o.slice():qp(o)&&(o=fe({},o)),r[e]=o),o},n.prototype.setItemVisual=function(t,e,i){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,qp(e)?fe(r,e):r[e]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){qp(t)?fe(this._layout,t):this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?fe(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){var i=this.hostModel&&this.hostModel.seriesIndex;ree(i,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){R(this._graphicEls,function(i,r){i&&t&&t.call(e,i,r)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:j0(this.dimensions,this._getDimInfo,this),this.hostModel)),Bz(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var i=this[t];Ie(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=i.apply(this,arguments);return e.apply(this,[r].concat(I8(arguments)))})},n.internalField=(function(){Vie=function(t){var e=t._invertedIndicesMap;R(e,function(i,r){var o=t._dimInfos[r],a=o.ordinalMeta,s=t._store;if(a){i=e[r]=new wke(a.categories.length);for(var l=0;l<i.length;l++)i[l]=Bie;for(var l=0;l<s.count();l++)i[s.get(o.storeDimIndex,l)]=l}})},$p=function(t,e,i){return da(t._getCategory(e,i),null)},ub=function(t,e){var i=t._idList[e];return i==null&&t._idDimIdx!=null&&(i=$p(t,t._idDimIdx,e)),i==null&&(i=Mke+e),i},Yp=function(t){return pe(t)||(t=t!=null?[t]:[]),t},Zp=function(t){var e=new n(t._schema?t._schema:j0(t.dimensions,t._getDimInfo,t),t.hostModel);return Bz(e,t),e},Bz=function(t,e){R(Tke.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,R(Eke,function(i){t[i]=ke(e[i])}),t._calculationInfo=fe({},e._calculationInfo)},Vz=function(t,e){var i=t._nameList,r=t._idList,o=t._nameDimIdx,a=t._idDimIdx,s=i[e],l=r[e];if(s==null&&o!=null&&(i[e]=s=$p(t,o,e)),l==null&&a!=null&&(r[e]=l=$p(t,a,e)),l==null&&s!=null){var c=t._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),r[e]=l}}})(),n})(),db=Dke;var Qz={};Ko(Qz,{createDimensions:()=>Uie,createList:()=>dNe,createScale:()=>pNe,createSymbol:()=>eo,createTextStyle:()=>hNe,dataStack:()=>fNe,enableHoverEmphasis:()=>z0,getECData:()=>yt,getLayoutRect:()=>Qr,mixinAxisModelCommonMethods:()=>mNe});function Uie(n,t){return fb(n,t).dimensions}function fb(n,t){vd(n)||(n=yd(n)),t=t||{};var e=t.coordDimensions||[],i=t.dimensionsDefine||n.dimensionsDefine||[],r=Le(),o=[],a=Lke(n,e,i,t.dimensionsCount),s=t.canOmitUnusedDimensions&&Fz(a),l=i===n.dimensionsDefine,c=l?Rz(n):Oz(i),u=t.encodeDefine;!u&&t.encodeDefaulter&&(u=t.encodeDefaulter(n,a));for(var d=Le(u),f=new XA(a),m=0;m<f.length;m++)f[m]=-1;function v(q){var Y=f[q];if(Y<0){var W=i[q],Z=we(W)?W:{name:W},te=new Td,re=Z.name;re!=null&&c.get(re)!=null&&(te.name=te.displayName=re),Z.type!=null&&(te.type=Z.type),Z.displayName!=null&&(te.displayName=Z.displayName);var ce=o.length;return f[q]=ce,te.storeDimIndex=q,o.push(te),te}return o[Y]}if(!s)for(var m=0;m<a;m++)v(m);d.each(function(q,Y){var W=ri(q).slice();if(W.length===1&&!_e(W[0])&&W[0]<0){d.set(Y,!1);return}var Z=d.set(Y,[]);R(W,function(te,re){var ce=_e(te)?c.get(te):te;ce!=null&&ce<a&&(Z[re]=ce,b(v(ce),Y,re))})});var _=0;R(e,function(q){var Y,W,Z,te;if(_e(q))Y=q,te={};else{te=q,Y=te.name;var re=te.ordinalMeta;te.ordinalMeta=null,te=fe({},te),te.ordinalMeta=re,W=te.dimsDef,Z=te.otherDims,te.name=te.coordDim=te.coordDimIndex=te.dimsDef=te.otherDims=null}var ce=d.get(Y);if(ce!==!1){if(ce=ri(ce),!ce.length)for(var ne=0;ne<(W&&W.length||1);ne++){for(;_<a&&v(_).coordDim!=null;)_++;_<a&&ce.push(_++)}R(ce,function(he,oe){var ve=v(he);if(l&&te.type!=null&&(ve.type=te.type),b(Ne(ve,te),Y,oe),ve.name==null&&W){var Ee=W[oe];!we(Ee)&&(Ee={name:Ee}),ve.name=ve.displayName=Ee.name,ve.defaultTooltip=Ee.defaultTooltip}Z&&Ne(ve.otherDims,Z)})}});function b(q,Y,W){D_.get(Y)!=null?q.otherDims[Y]=W:(q.coordDim=Y,q.coordDimIndex=W,r.set(Y,!0))}var C=t.generateCoord,w=t.generateCoordCount,E=w!=null;w=C?w||1:0;var D=C||"value";function L(q){q.name==null&&(q.name=q.coordDim)}if(s)R(o,function(q){L(q)}),o.sort(function(q,Y){return q.storeDimIndex-Y.storeDimIndex});else for(var P=0;P<a;P++){var F=v(P),G=F.coordDim;G==null&&(F.coordDim=Ake(D,r,E),F.coordDimIndex=0,(!C||w<=0)&&(F.isExtraCoord=!0),w--),L(F),F.type==null&&(I_(n,P)===bo.Must||F.isExtraCoord&&(F.otherDims.itemName!=null||F.otherDims.seriesName!=null))&&(F.type="ordinal")}return Ike(o),new Pz({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function Ike(n){for(var t=Le(),e=0;e<n.length;e++){var i=n[e],r=i.name,o=t.get(r)||0;o>0&&(i.name=r+(o-1)),o++,t.set(r,o)}}function Lke(n,t,e,i){var r=Math.max(n.dimensionsDetectedCount||1,t.length,e.length,i||0);return R(t,function(o){var a;we(o)&&(a=o.dimsDef)&&(r=Math.max(r,a.length))}),r}function Ake(n,t,e){if(e||t.hasKey(n)){for(var i=0;t.hasKey(n+i);)i++;n+=i}return t.set(n,!0),n}var zke=(function(){function n(t){this.coordSysDims=[],this.axisMap=Le(),this.categoryAxisMap=Le(),this.coordSysName=t}return n})();function Hie(n){var t=n.get("coordinateSystem"),e=new zke(t),i=kke[t];if(i)return i(n,e,e.axisMap,e.categoryAxisMap),e}var kke={cartesian2d:function(n,t,e,i){var r=n.getReferringComponents("xAxis",si).models[0],o=n.getReferringComponents("yAxis",si).models[0];t.coordSysDims=["x","y"],e.set("x",r),e.set("y",o),Ed(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),Ed(o)&&(i.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,i){var r=n.getReferringComponents("singleAxis",si).models[0];t.coordSysDims=["single"],e.set("single",r),Ed(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(n,t,e,i){var r=n.getReferringComponents("polar",si).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",a),Ed(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),Ed(a)&&(i.set("angle",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,i){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();R(o.parallelAxisIndex,function(s,l){var c=r.getComponent("parallelAxis",s),u=a[l];e.set(u,c),Ed(c)&&(i.set(u,c),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function Ed(n){return n.get("type")==="category"}function pb(n,t,e){e=e||{};var i=e.byIndex,r=e.stackedCoordDimension,o,a,s;Nke(t)?o=t:(a=t.schema,o=a.dimensions,s=t.store);var l=!!(n&&n.get("stack")),c,u,d,f;if(R(o,function(w,E){_e(w)&&(o[E]=w={name:w}),l&&!w.isExtraCoord&&(!i&&!c&&w.ordinalMeta&&(c=w),!u&&w.type!=="ordinal"&&w.type!=="time"&&(!r||r===w.coordDim)&&(u=w))}),u&&!i&&!c&&(i=!0),u){d="__\0ecstackresult_"+n.id,f="__\0ecstackedover_"+n.id,c&&(c.createInvertedIndices=!0);var m=u.coordDim,v=u.type,_=0;R(o,function(w){w.coordDim===m&&_++});var b={name:d,coordDim:m,coordDimIndex:_,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},C={name:f,coordDim:f,coordDimIndex:_+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(b.storeDimIndex=s.ensureCalculationDimension(f,v),C.storeDimIndex=s.ensureCalculationDimension(d,v)),a.appendCalculationDimension(b),a.appendCalculationDimension(C)):(o.push(b),o.push(C))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:i,stackedOverDimension:f,stackResultDimension:d}}function Nke(n){return!cb(n.schema)}function O1(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function mb(n,t){return O1(n,t)?n.getCalculationInfo("stackResultDimension"):t}function Pke(n,t){var e=n.get("coordinateSystem"),i=gd.get(e),r;return t&&t.coordSysDims&&(r=ge(t.coordSysDims,function(o){var a={name:o},s=t.axisMap.get(o);if(s){var l=s.get("type");a.type=Fie(l)}return a})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}function Oke(n,t,e){var i,r;return e&&R(n,function(o,a){var s=o.coordDim,l=e.categoryAxisMap.get(s);l&&(i==null&&(i=a),o.ordinalMeta=l.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(r=!0)}),!r&&i!=null&&(n[i].otherDims.itemName=0),i}function Rke(n,t,e){e=e||{};var i=t.getSourceManager(),r,o=!1;n?(o=!0,r=yd(n)):(r=i.getSource(),o=r.sourceFormat===pr);var a=Hie(t),s=Pke(t,a),l=e.useEncodeDefaulter,c=Ie(l)?l:l?ct(Lte,s,t):null,u={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o},d=fb(r,u),f=Oke(d.dimensions,e.createInvertedIndices,a),m=o?null:i.getSharedDataStore(d),v=pb(t,{schema:d,store:m}),_=new db(d,t);_.setCalculationInfo(v);var b=f!=null&&Fke(r)?function(C,w,E,D){return D===f?E:this.defaultDimValueGetter(C,w,E,D)}:null;return _.hasItemOption=!1,_.initData(o?r:m,null,b),_}function Fke(n){if(n.sourceFormat===pr){var t=Bke(n.data||[]);return!pe(Y2(t))}}function Bke(n){for(var t=0;t<n.length&&n[t]==null;)t++;return n[t]}var G0=Rke;var jie=(function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n})();T0(jie);var Xo=jie;var Vke=0,Uke=(function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++Vke}return n.createByAxisModel=function(t){var e=t.option,i=e.data,r=i&&ge(i,Hke);return new n({categories:r,needCollect:!r,deduplication:e.dedplication!==!1})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if(!_e(t)&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=this._getOrCreateMap();return e=r.get(t),e==null&&(i?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Le(this.categories))},n})();function Hke(n){return we(n)&&n.value!=null?n.value:n+""}var Xp=Uke;function Qp(n){return n.type==="interval"||n.type==="log"}function Wie(n,t,e,i){var r={},o=n[1]-n[0],a=r.interval=$u(o/t,!0);e!=null&&a<e&&(a=r.interval=e),i!=null&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=Uz(a),l=r.niceTickExtent=[Cn(Math.ceil(n[0]/a)*a,s),Cn(Math.floor(n[1]/a)*a,s)];return jke(l,n),r}function hb(n){var t=Math.pow(10,qu(n)),e=n/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,Cn(e*t)}function Uz(n){return yo(n)+2}function Gie(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function jke(n,t){!isFinite(n[0])&&(n[0]=t[0]),!isFinite(n[1])&&(n[1]=t[1]),Gie(n,0,t),Gie(n,1,t),n[0]>n[1]&&(n[0]=n[1])}function W0(n,t){return n>=t[0]&&n<=t[1]}function q0(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function $0(n,t){return n*(t[1]-t[0])+t[0]}var qie=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new Xp({})),pe(r)&&(r=new Xp({categories:ge(r,function(o){return we(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return t.prototype.parse=function(e){return e==null?NaN:_e(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),W0(e,this._extent)&&this._ordinalMeta.categories[e]!=null},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),q0(e,this._extent)},t.prototype.scale=function(e){return e=Math.round($0(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],i=this._extent,r=i[0];r<=i[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);a<l;++a){var c=i[a];r[a]=c,o[c]=a}for(var u=0;a<s;++a){for(;o[u]!=null;)u++;r.push(u),o[u]=a}},t.prototype._getTickNumber=function(e){var i=this._ticksByOrdinalNumber;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getRawOrdinalNumber=function(e){var i=this._ordinalNumbersByTick;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var i=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[i];return r==null?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Xo);Xo.registerClass(qie);var Hz=qie;var y4=Cn,$ie=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return W0(e,this._extent)},t.prototype.normalize=function(e){return q0(e,this._extent)},t.prototype.scale=function(e){return $0(e,this._extent)},t.prototype.setExtent=function(e,i){var r=this._extent;isNaN(e)||(r[0]=parseFloat(e)),isNaN(i)||(r[1]=parseFloat(i))},t.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1]),this.setExtent(i[0],i[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Uz(e)},t.prototype.getTicks=function(e){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!i)return s;var l=1e4;r[0]<o[0]&&(e?s.push({value:y4(o[0]-i,a)}):s.push({value:r[0]}));for(var c=o[0];c<=o[1]&&(s.push({value:c}),c=y4(c+i,a),c!==s[s.length-1].value);)if(s.length>l)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&(e?s.push({value:y4(u+i,a)}):s.push({value:r[1]})),s},t.prototype.getMinorTicks=function(e){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var s=i[a],l=i[a-1],c=0,u=[],d=s.value-l.value,f=d/e;c<e-1;){var m=y4(l.value+(c+1)*f);m>o[0]&&m<o[1]&&u.push(m),c++}r.push(u)}return r},t.prototype.getLabel=function(e,i){if(e==null)return"";var r=i&&i.precision;r==null?r=yo(e.value)||0:r==="auto"&&(r=this._intervalPrecision);var o=y4(e.value,r,!0);return Tp(o)},t.prototype.calcNiceTicks=function(e,i,r){e=e||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=Wie(o,e,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var r=Math.abs(i[0]);e.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(i[0]=y4(Math.floor(i[0]/a)*a)),e.fixMax||(i[1]=y4(Math.ceil(i[1]/a)*a))},t.prototype.setNiceExtent=function(e,i){this._niceExtent=[e,i]},t.type="interval",t})(Xo);Xo.registerClass($ie);var sl=$ie;var Yie=typeof Float32Array<"u",Gke=Yie?Float32Array:Array;function va(n){return pe(n)?Yie?new Float32Array(n):n:new Gke(n)}var Wke="__ec_stack_";function jz(n){return n.get("stack")||Wke+n.seriesIndex}function Gz(n){return n.dim+n.index}function Wz(n,t){var e=[];return t.eachSeriesByType(n,function(i){Kie(i)&&e.push(i)}),e}function qke(n){var t={};R(n,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var d=l.getData(),f=u.dim+"_"+u.index,m=d.getDimensionIndex(d.mapDimension(u.dim)),v=d.getStore(),_=0,b=v.count();_<b;++_){var C=v.get(m,_);t[f]?t[f].push(C):t[f]=[C]}});var e={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r){r.sort(function(l,c){return l-c});for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=o===null?s:Math.min(o,s))}e[i]=o}}return e}function qz(n){var t=qke(n),e=[];return R(n,function(i){var r=i.coordinateSystem,o=r.getBaseAxis(),a=o.getExtent(),s;if(o.type==="category")s=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var l=o.dim+"_"+o.index,c=t[l],u=Math.abs(a[1]-a[0]),d=o.scale.getExtent(),f=Math.abs(d[1]-d[0]);s=c?u/f*c:u}else{var m=i.getData();s=Math.abs(a[1]-a[0])/m.count()}var v=pi(i.get("barWidth"),s),_=pi(i.get("barMaxWidth"),s),b=pi(i.get("barMinWidth")||(Jie(i)?.5:1),s),C=i.get("barGap"),w=i.get("barCategoryGap");e.push({bandWidth:s,barWidth:v,barMaxWidth:_,barMinWidth:b,barGap:C,barCategoryGap:w,axisKey:Gz(o),stackId:jz(i)})}),$ke(e)}function $ke(n){var t={};R(n,function(i,r){var o=i.axisKey,a=i.bandWidth,s=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[o]=s;var c=i.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=i.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var d=i.barMaxWidth;d&&(l[c].maxWidth=d);var f=i.barMinWidth;f&&(l[c].minWidth=f);var m=i.barGap;m!=null&&(s.gap=m);var v=i.barCategoryGap;v!=null&&(s.categoryGap=v)});var e={};return R(t,function(i,r){e[r]={};var o=i.stacks,a=i.bandWidth,s=i.categoryGap;if(s==null){var l=Lt(o).length;s=Math.max(35-l*4,15)+"%"}var c=pi(s,a),u=pi(i.gap,1),d=i.remainedWidth,f=i.autoWidthCount,m=(d-c)/(f+(f-1)*u);m=Math.max(m,0),R(o,function(C){var w=C.maxWidth,E=C.minWidth;if(C.width){var D=C.width;w&&(D=Math.min(D,w)),E&&(D=Math.max(D,E)),C.width=D,d-=D+u*D,f--}else{var D=m;w&&w<D&&(D=Math.min(w,d)),E&&E>D&&(D=E),D!==m&&(C.width=D,d-=D+u*D,f--)}}),m=(d-c)/(f+(f-1)*u),m=Math.max(m,0);var v=0,_;R(o,function(C,w){C.width||(C.width=m),_=C,v+=C.width*(1+u)}),_&&(v-=_.width*u);var b=-v/2;R(o,function(C,w){e[r][w]=e[r][w]||{bandWidth:a,offset:b,width:C.width},b+=C.width*(1+u)})}),e}function Zie(n,t,e){if(n&&t){var i=n[Gz(t)];return i!=null&&e!=null?i[jz(e)]:i}}function Xie(n,t){var e=Wz(n,t),i=qz(e);R(e,function(r){var o=r.getData(),a=r.coordinateSystem,s=a.getBaseAxis(),l=jz(r),c=i[Gz(s)][l],u=c.offset,d=c.width;o.setLayout({bandWidth:c.bandWidth,offset:u,size:d})})}function Qie(n){return{seriesType:n,plan:f4(),reset:function(t){if(Kie(t)){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),a=e.getDimensionIndex(e.mapDimension(o.dim)),s=e.getDimensionIndex(e.mapDimension(r.dim)),l=t.get("showBackground",!0),c=e.mapDimension(o.dim),u=e.getCalculationInfo("stackResultDimension"),d=O1(e,c)&&!!e.getCalculationInfo("stackedOnSeries"),f=o.isHorizontal(),m=Yke(r,o),v=Jie(t),_=t.get("barMinHeight")||0,b=u&&e.getDimensionIndex(u),C=e.getLayout("size"),w=e.getLayout("offset");return{progress:function(E,D){for(var L=E.count,P=v&&va(L*3),F=v&&l&&va(L*3),G=v&&va(L),q=i.master.getRect(),Y=f?q.width:q.height,W,Z=D.getStore(),te=0;(W=E.next())!=null;){var re=Z.get(d?b:a,W),ce=Z.get(s,W),ne=m,he=void 0;d&&(he=+re-Z.get(a,W));var oe=void 0,ve=void 0,Ee=void 0,Ge=void 0;if(f){var Ye=i.dataToPoint([re,ce]);if(d){var Rt=i.dataToPoint([he,ce]);ne=Rt[0]}oe=ne,ve=Ye[1]+w,Ee=Ye[0]-ne,Ge=C,Math.abs(Ee)<_&&(Ee=(Ee<0?-1:1)*_)}else{var Ye=i.dataToPoint([ce,re]);if(d){var Rt=i.dataToPoint([ce,he]);ne=Rt[1]}oe=Ye[0]+w,ve=ne,Ee=C,Ge=Ye[1]-ne,Math.abs(Ge)<_&&(Ge=(Ge<=0?-1:1)*_)}v?(P[te]=oe,P[te+1]=ve,P[te+2]=f?Ee:Ge,F&&(F[te]=f?q.x:oe,F[te+1]=f?ve:q.y,F[te+2]=Y),G[W]=W):D.setItemLayout(W,{x:oe,y:ve,width:Ee,height:Ge}),te+=3}v&&D.setLayout({largePoints:P,largeDataIndices:G,largeBackgroundPoints:F,valueAxisHorizontal:f})}}}}}}function Kie(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function Jie(n){return n.pipelineContext&&n.pipelineContext.large}function Yke(n,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?e>0?e:1:e))}var Zke=function(n,t,e,i){for(;e<i;){var r=e+i>>>1;n[r][1]<t?e=r+1:i=r}return e},tre=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="time",i}return t.prototype.getLabel=function(e){var i=this.getSetting("useUTC");return tl(e.value,bA[yte(s4(this._minLevelUnit))]||bA.second,i,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,i,r){var o=this.getSetting("useUTC"),a=this.getSetting("locale");return _te(e,i,r,a,o)},t.prototype.getTicks=function(){var e=this._interval,i=this._extent,r=[];if(!e)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=nNe(this._minLevelUnit,this._approxInterval,o,i);return r=r.concat(a),r.push({value:i[1],level:0}),r},t.prototype.calcNiceExtent=function(e){var i=this._extent;if(i[0]===i[1]&&(i[0]-=ha,i[1]+=ha),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-ha}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,i,r){e=e||10;var o=this._extent,a=o[1]-o[0];this._approxInterval=a/e,i!=null&&this._approxInterval<i&&(this._approxInterval=i),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var s=vb.length,l=Math.min(Zke(vb,this._approxInterval,0,s),s-1);this._interval=vb[l][1],this._minLevelUnit=vb[Math.max(l-1,0)][0]},t.prototype.parse=function(e){return Ct(e)?e:+dr(e)},t.prototype.contain=function(e){return W0(this.parse(e),this._extent)},t.prototype.normalize=function(e){return q0(this.parse(e),this._extent)},t.prototype.scale=function(e){return $0(e,this._extent)},t.type="time",t})(sl),vb=[["second",__],["minute",b_],["hour",dd],["quarter-day",dd*6],["half-day",dd*12],["day",ha*1.2],["half-week",ha*3.5],["week",ha*7],["month",ha*31],["quarter",ha*95],["half-year",_A/2],["year",_A]];function Xke(n,t,e,i){var r=dr(t),o=dr(e),a=function(v){return CA(r,v,i)===CA(o,v,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},c=function(){return l()&&a("day")},u=function(){return c()&&a("hour")},d=function(){return u()&&a("minute")},f=function(){return d()&&a("second")},m=function(){return f()&&a("millisecond")};switch(n){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return d();case"second":return f();case"millisecond":return m()}}function Qke(n,t){return n/=ha,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Kke(n){var t=30*ha;return n/=t,n>6?6:n>3?3:n>2?2:1}function Jke(n){return n/=dd,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function ere(n,t){return n/=t?b_:__,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function eNe(n){return $u(n,!0)}function tNe(n,t,e){var i=new Date(n);switch(s4(t)){case"year":case"month":i[SA(e)](0);case"day":i[wA(e)](1);case"hour":i[MA(e)](0);case"minute":i[TA(e)](0);case"second":i[EA(e)](0),i[DA(e)](0)}return i.getTime()}function nNe(n,t,e,i){var r=1e4,o=xA,a=0;function s(Y,W,Z,te,re,ce,ne){for(var he=new Date(W),oe=W,ve=he[te]();oe<Z&&oe<=i[1];)ne.push({value:oe}),ve+=Y,he[re](ve),oe=he.getTime();ne.push({value:oe,notAdd:!0})}function l(Y,W,Z){var te=[],re=!W.length;if(!Xke(s4(Y),i[0],i[1],e)){re&&(W=[{value:tNe(new Date(i[0]),Y,e)},{value:i[1]}]);for(var ce=0;ce<W.length-1;ce++){var ne=W[ce].value,he=W[ce+1].value;if(ne!==he){var oe=void 0,ve=void 0,Ee=void 0,Ge=!1;switch(Y){case"year":oe=Math.max(1,Math.round(t/ha/365)),ve=x_(e),Ee=xte(e);break;case"half-year":case"quarter":case"month":oe=Kke(t),ve=a4(e),Ee=SA(e);break;case"week":case"half-week":case"day":oe=Qke(t,31),ve=Cp(e),Ee=wA(e),Ge=!0;break;case"half-day":case"quarter-day":case"hour":oe=Jke(t),ve=ud(e),Ee=MA(e);break;case"minute":oe=ere(t,!0),ve=Sp(e),Ee=TA(e);break;case"second":oe=ere(t,!1),ve=wp(e),Ee=EA(e);break;case"millisecond":oe=eNe(t),ve=Mp(e),Ee=DA(e);break}s(oe,ne,he,ve,Ee,Ge,te),Y==="year"&&Z.length>1&&ce===0&&Z.unshift({value:Z[0].value-oe})}}for(var ce=0;ce<te.length;ce++)Z.push(te[ce]);return te}}for(var c=[],u=[],d=0,f=0,m=0;m<o.length&&a++<r;++m){var v=s4(o[m]);if(vte(o[m])){l(o[m],c[c.length-1]||[],u);var _=o[m+1]?s4(o[m+1]):null;if(v!==_){if(u.length){f=d,u.sort(function(Y,W){return Y.value-W.value});for(var b=[],C=0;C<u.length;++C){var w=u[C].value;(C===0||u[C-1].value!==w)&&(b.push(u[C]),w>=i[0]&&w<=i[1]&&d++)}var E=(i[1]-i[0])/t;if(d>E*1.5&&f>E/1.5||(c.push(b),d>E||n===o[m]))break}u=[]}}}for(var D=vn(ge(c,function(Y){return vn(Y,function(W){return W.value>=i[0]&&W.value<=i[1]&&!W.notAdd})}),function(Y){return Y.length>0}),L=[],P=D.length-1,m=0;m<D.length;++m)for(var F=D[m],G=0;G<F.length;++G)L.push({value:F[G].value,level:P-m});L.sort(function(Y,W){return Y.value-W.value});for(var q=[],m=0;m<L.length;++m)(m===0||L[m].value!==L[m-1].value)&&q.push(L[m]);return q}Xo.registerClass(tre);var nre=tre;var ire=Xo.prototype,Kp=sl.prototype,iNe=Cn,rNe=Math.floor,oNe=Math.ceil,yb=Math.pow,R1=Math.log,$z=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new sl,e._interval=0,e}return t.prototype.getTicks=function(e){var i=this._originalScale,r=this._extent,o=i.getExtent(),a=Kp.getTicks.call(this,e);return ge(a,function(s){var l=s.value,c=Cn(yb(this.base,l));return c=l===r[0]&&this._fixMin?_b(c,o[0]):c,c=l===r[1]&&this._fixMax?_b(c,o[1]):c,{value:c}},this)},t.prototype.setExtent=function(e,i){var r=R1(this.base);e=R1(Math.max(0,e))/r,i=R1(Math.max(0,i))/r,Kp.setExtent.call(this,e,i)},t.prototype.getExtent=function(){var e=this.base,i=ire.getExtent.call(this);i[0]=yb(e,i[0]),i[1]=yb(e,i[1]);var r=this._originalScale,o=r.getExtent();return this._fixMin&&(i[0]=_b(i[0],o[0])),this._fixMax&&(i[1]=_b(i[1],o[1])),i},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=R1(e[0])/R1(i),e[1]=R1(e[1])/R1(i),ire.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.calcNiceTicks=function(e){e=e||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=Vy(r),a=e/r*o;for(a<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[Cn(oNe(i[0]/o)*o),Cn(rNe(i[1]/o)*o)];this._interval=o,this._niceExtent=s}},t.prototype.calcNiceExtent=function(e){Kp.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=R1(e)/R1(this.base),W0(e,this._extent)},t.prototype.normalize=function(e){return e=R1(e)/R1(this.base),q0(e,this._extent)},t.prototype.scale=function(e){return e=$0(e,this._extent),yb(this.base,e)},t.type="log",t})(Xo),rre=$z.prototype;rre.getMinorTicks=Kp.getMinorTicks;rre.getLabel=Kp.getLabel;function _b(n,t){return iNe(n,yo(t))}Xo.registerClass($z);var ore=$z;var aNe=(function(){function n(t,e,i){this._prepareParams(t,e,i)}return n.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=e.get("min",!0);o==null&&(o=e.get("startValue",!0));var a=this._modelMinRaw=o;Ie(a)?this._modelMinNum=bb(t,a({min:i[0],max:i[1]})):a!=="dataMin"&&(this._modelMinNum=bb(t,a));var s=this._modelMaxRaw=e.get("max",!0);if(Ie(s)?this._modelMaxNum=bb(t,s({min:i[0],max:i[1]})):s!=="dataMax"&&(this._modelMaxNum=bb(t,s)),r)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),c=pe(l)?l:[l||0,l||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[$a(c[0],1),$a(c[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:i-e||Math.abs(e),s=this._modelMinRaw==="dataMin"?e:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,c=s!=null,u=l!=null;s==null&&(s=t?r?0:NaN:e-o[0]*a),l==null&&(l=t?r?r-1:NaN:i+o[1]*a),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=y3(s)||y3(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var f=this._determinedMin,m=this._determinedMax;return f!=null&&(s=f,c=!0),m!=null&&(l=m,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:d}},n.prototype.modifyDataMinMax=function(t,e){this[lNe[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){var i=sNe[t];this[i]=e},n.prototype.freeze=function(){this.frozen=!0},n})();var sNe={min:"_determinedMin",max:"_determinedMax"},lNe={min:"_dataMin",max:"_dataMax"};function xb(n,t,e){var i=n.rawExtentInfo;return i||(i=new aNe(n,t,e),n.rawExtentInfo=i,i)}function bb(n,t){return t==null?null:y3(t)?NaN:n.parse(t)}function Yz(n,t){var e=n.type,i=xb(n,t,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=t.ecModel;if(a&&e==="time"){var s=Wz("bar",a),l=!1;if(R(s,function(d){l=l||d.getBaseAxis()===t.axis}),l){var c=qz(s),u=cNe(r,o,t,c);r=u.min,o=u.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function cNe(n,t,e,i){var r=e.axis.getExtent(),o=Math.abs(r[1]-r[0]),a=Zie(i,e.axis);if(a===void 0)return{min:n,max:t};var s=1/0;R(a,function(m){s=Math.min(m.offset,s)});var l=-1/0;R(a,function(m){l=Math.max(m.offset+m.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=t-n,d=1-(s+l)/o,f=u/d-u;return t+=f*(l/c),n-=f*(s/c),{min:n,max:t}}function Jp(n,t){var e=t,i=Yz(n,e),r=i.extent,o=e.get("splitNumber");n instanceof ore&&(n.base=e.get("logBase"));var a=n.type,s=e.get("interval"),l=a==="interval"||a==="time";n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?e.get("minInterval"):null,maxInterval:l?e.get("maxInterval"):null}),s!=null&&n.setInterval&&n.setInterval(s)}function Cb(n,t){if(t=t||n.get("type"),t)switch(t){case"category":return new Hz({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new nre({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Xo.getClass(t)||sl)}}function are(n){var t=n.scale.getExtent(),e=t[0],i=t[1];return!(e>0&&i>0||e<0&&i<0)}function _4(n){var t=n.getLabelModel().get("formatter"),e=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?(function(i){return function(r,o){return n.scale.getFormattedLabel(r,o,i)}})(t):_e(t)?(function(i){return function(r){var o=n.scale.getLabel(r),a=i.replace("{value}",o??"");return a}})(t):Ie(t)?(function(i){return function(r,o){return e!=null&&(o=r.value-e),i(e7(n,r),o,r.level!=null?{level:r.level}:null)}})(t):function(i){return n.scale.getLabel(i)}}function e7(n,t){return n.type==="category"?n.scale.getLabel(t):t.value}function sre(n){var t=n.model,e=n.scale;if(!(!t.get(["axisLabel","show"])||e.isBlank())){var i,r,o=e.getExtent();e instanceof Hz?r=e.count():(i=e.getTicks(),r=i.length);var a=n.getLabelModel(),s=_4(n),l,c=1;r>40&&(c=Math.ceil(r/40));for(var u=0;u<r;u+=c){var d=i?i[u]:{value:o[0]+u},f=s(d,u),m=a.getTextRect(f),v=uNe(m,a.get("rotate")||0);l?l.union(v):l=v}return l}}function uNe(n,t){var e=t*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(e))+Math.abs(r*Math.sin(e)),a=i*Math.abs(Math.sin(e))+Math.abs(r*Math.cos(e)),s=new Je(n.x,n.y,o,a);return s}function Sb(n){var t=n.get("interval");return t??"auto"}function wb(n){return n.type==="category"&&Sb(n.getLabelModel())===0}function Zz(n,t){var e={};return R(n.mapDimensionsAll(t),function(i){e[mb(n,i)]=!0}),Lt(e)}function lre(n,t,e){t&&R(Zz(t,e),function(i){var r=t.getApproximateExtent(i);r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])})}var Mb=(function(){function n(){}return n.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},n.prototype.getCoordSysModel=function(){},n})();function dNe(n){return G0(null,n)}var fNe={isDimensionStacked:O1,enableDataStack:pb,getStackedDimension:mb};function pNe(n,t){var e=t;t instanceof $t||(e=new $t(t));var i=Cb(e);return i.setExtent(n[0],n[1]),Jp(i,e),i}function mNe(n){cr(n,Mb)}function hNe(n,t){return t=t||{},Zr(n,null,null,t.state!=="normal")}var cre=[],gNe={registerPreprocessor:ob,registerProcessor:ab,registerPostInit:Ez,registerPostUpdate:Dz,registerUpdateLifecycle:Gp,registerAction:no,registerCoordinateSystem:Iz,registerLayout:Lz,registerVisual:al,registerTransform:kz,registerLoading:sb,registerMap:zz,registerImpl:gie,PRIORITY:Cz,ComponentModel:kt,ComponentView:Kn,SeriesModel:xo,ChartView:Sr,registerComponentModel:function(n){kt.registerClass(n)},registerComponentView:function(n){Kn.registerClass(n)},registerSeriesModel:function(n){xo.registerClass(n)},registerChartView:function(n){Sr.registerClass(n)},registerSubTypeDefaulter:function(n,t){kt.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){uL(n,t)}};function Fi(n){if(pe(n)){R(n,function(t){Fi(t)});return}qe(cre,n)>=0||(cre.push(n),Ie(n)&&(n={install:n}),n.install(gNe))}var vNe=1e-8;function ure(n,t){return Math.abs(n-t)<vNe}function Kz(n,t,e){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=Ka(r[0],r[1],a[0],a[1],t,e),r=a}var s=n[0];return(!ure(r[0],s[0])||!ure(r[1],s[1]))&&(i+=Ka(r[0],r[1],s[0],s[1],t,e)),i!==0}var _Ne=[];function Jz(n,t){for(var e=0;e<n.length;e++)Ti(n[e],n[e],t)}function dre(n,t,e,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Ha(t,t,o),ja(e,e,o))}}function bNe(n){for(var t=0,e=0,i=0,r=n.length,o=n[r-1][0],a=n[r-1][1],s=0;s<r;s++){var l=n[s][0],c=n[s][1],u=o*c-l*a;t+=u,e+=(o+l)*u,i+=(a+c)*u,o=l,a=c}return t?[e/t/3,i/t/3,t]:[n[0][0]||0,n[0][1]||0]}var fre=(function(){function n(t){this.name=t}return n.prototype.setCenter=function(t){this._center=t},n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},n})();var ek=(function(){function n(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return n})();var tk=(function(){function n(t){this.type="linestring",this.points=t}return n})();var pre=(function(n){de(t,n);function t(e,i,r){var o=n.call(this,e)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return t.prototype.calcCenter=function(){for(var e=this.geometries,i,r=0,o=0;o<e.length;o++){var a=e[o],s=a.exterior,l=s&&s.length;l>r&&(i=a,r=l)}if(i)return bNe(i.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},t.prototype.getBoundingRect=function(e){var i=this._rect;if(i&&!e)return i;var r=[1/0,1/0],o=[-1/0,-1/0],a=this.geometries;return R(a,function(s){s.type==="polygon"?dre(s.exterior,r,o,e):R(s.points,function(l){dre(l,r,o,e)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new Je(r[0],r[1],o[0]-r[0],o[1]-r[1]),e||(this._rect=i),i},t.prototype.contain=function(e){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(e[0],e[1]))return!1;e:for(var o=0,a=r.length;o<a;o++){var s=r[o];if(s.type==="polygon"){var l=s.exterior,c=s.interiors;if(Kz(l,e[0],e[1])){for(var u=0;u<(c?c.length:0);u++)if(Kz(c[u],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new Je(e,i,r,o),c=a.calculateTransform(l),u=this.geometries,d=0;d<u.length;d++){var f=u[d];f.type==="polygon"?(Jz(f.exterior,c),R(f.interiors,function(m){Jz(m,c)})):R(f.points,function(m){Jz(m,c)})}a=this._rect,a.copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t})(fre);var wSt=(function(n){de(t,n);function t(e,i){var r=n.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,i=e.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=H2(_Ne),a=e;a&&!a.isGeoSVGGraphicRoot;)Ga(o,a.getLocalTransform(),o),a=a.parent;return j2(o,o),Ti(r,r,o),r},t})(fre);function xNe(n){if(!n.UTF8Encoding)return n;var t=n,e=t.UTF8Scale;e==null&&(e=1024);var i=t.features;return R(i,function(r){var o=r.geometry,a=o.encodeOffsets,s=o.coordinates;if(a)switch(o.type){case"LineString":o.coordinates=mre(s,a,e);break;case"Polygon":nk(s,a,e);break;case"MultiLineString":nk(s,a,e);break;case"MultiPolygon":R(s,function(l,c){return nk(l,a[c],e)})}}),t.UTF8Encoding=!1,t}function nk(n,t,e){for(var i=0;i<n.length;i++)n[i]=mre(n[i],t[i],e)}function mre(n,t,e){for(var i=[],r=t[0],o=t[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=r,l+=o,r=s,o=l,i.push([s/e,l/e])}return i}function Tb(n,t){return n=xNe(n),ge(vn(n.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var i=e.properties,r=e.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new ek(a[0],a.slice(1)));break;case"MultiPolygon":R(r.coordinates,function(l){l[0]&&o.push(new ek(l[0],l.slice(1)))});break;case"LineString":o.push(new tk([r.coordinates]));break;case"MultiLineString":o.push(new tk(r.coordinates))}var s=new pre(i[t||"name"],o,i.cp);return s.properties=i,s})}var ik={};Ko(ik,{MAX_SAFE_INTEGER:()=>iJ,asc:()=>$2,getPercentWithPrecision:()=>tJ,getPixelPrecision:()=>Wu,getPrecision:()=>yo,getPrecisionSafe:()=>fL,isNumeric:()=>Q8,isRadianAroundZero:()=>F3,linearMap:()=>Di,nice:()=>$u,numericToNumber:()=>Ya,parseDate:()=>dr,quantile:()=>rJ,quantity:()=>Vy,quantityExponent:()=>qu,reformIntervals:()=>oJ,remRadian:()=>X8,round:()=>Cn});var rk={};Ko(rk,{format:()=>tl,parse:()=>dr});var ok={};Ko(ok,{Arc:()=>K3,BezierCurve:()=>gp,BoundingRect:()=>Je,Circle:()=>X3,CompoundPath:()=>n_,Ellipse:()=>fp,Group:()=>Pt,Image:()=>Wo,IncrementalDisplayable:()=>s_,Line:()=>pa,LinearGradient:()=>rd,Polygon:()=>Q2,Polyline:()=>K2,RadialGradient:()=>r_,Rect:()=>Tt,Ring:()=>hp,Sector:()=>Bs,Text:()=>qt,clipPointsByRect:()=>bp,clipRectByRect:()=>uA,createIcon:()=>el,extendPath:()=>aA,extendShape:()=>oA,getShapeClass:()=>sA,getTransform:()=>J2,initProps:()=>Yr,makeImage:()=>yp,makePath:()=>sd,mergePath:()=>lA,registerShape:()=>ma,resizePath:()=>d_,updateProps:()=>mi});var ak={};Ko(ak,{addCommas:()=>Tp,capitalFirst:()=>wte,encodeHTML:()=>Zi,formatTime:()=>Ste,formatTpl:()=>pd,getTextRect:()=>IA,getTooltipMarker:()=>S_,normalizeCssArray:()=>Us,toCamelCase:()=>fd,truncateText:()=>SL});var sk={};Ko(sk,{bind:()=>ze,clone:()=>ke,curry:()=>ct,defaults:()=>Ne,each:()=>R,extend:()=>fe,filter:()=>vn,indexOf:()=>qe,inherits:()=>D8,isArray:()=>pe,isFunction:()=>Ie,isObject:()=>we,isString:()=>_e,map:()=>ge,merge:()=>je,reduce:()=>Wr});var t7=Ot();function hre(n,t){var e=ge(t,function(i){return n.scale.parse(i)});return n.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function gre(n){var t=n.getLabelModel().get("customValues");if(t){var e=_4(n),i=n.scale.getExtent(),r=hre(n,t),o=vn(r,function(a){return a>=i[0]&&a<=i[1]});return{labels:ge(o,function(a){var s={value:a};return{formattedLabel:e(s),rawLabel:n.scale.getLabel(s),tickValue:a}})}}return n.type==="category"?CNe(n):wNe(n)}function vre(n,t){var e=n.getTickModel().get("customValues");if(e){var i=n.scale.getExtent(),r=hre(n,e);return{ticks:vn(r,function(o){return o>=i[0]&&o<=i[1]})}}return n.type==="category"?SNe(n,t):{ticks:ge(n.scale.getTicks(),function(o){return o.value})}}function CNe(n){var t=n.getLabelModel(),e=yre(n,t);return!t.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function yre(n,t){var e=_re(n,"labels"),i=Sb(t),r=bre(e,i);if(r)return r;var o,a;return Ie(i)?o=wre(n,i):(a=i==="auto"?MNe(n):i,o=Sre(n,a)),xre(e,i,{labels:o,labelCategoryInterval:a})}function SNe(n,t){var e=_re(n,"ticks"),i=Sb(t),r=bre(e,i);if(r)return r;var o,a;if((!t.get("show")||n.scale.isBlank())&&(o=[]),Ie(i))o=wre(n,i,!0);else if(i==="auto"){var s=yre(n,n.getLabelModel());a=s.labelCategoryInterval,o=ge(s.labels,function(l){return l.tickValue})}else a=i,o=Sre(n,a,!0);return xre(e,i,{ticks:o,tickCategoryInterval:a})}function wNe(n){var t=n.scale.getTicks(),e=_4(n);return{labels:ge(t,function(i,r){return{level:i.level,formattedLabel:e(i,r),rawLabel:n.scale.getLabel(i),tickValue:i.value}})}}function _re(n,t){return t7(n)[t]||(t7(n)[t]=[])}function bre(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function xre(n,t,e){return n.push({key:t,value:e}),e}function MNe(n){var t=t7(n).autoInterval;return t??(t7(n).autoInterval=n.calculateCategoryInterval())}function Cre(n){var t=TNe(n),e=_4(n),i=(t.axisRotate-t.labelRotate)/180*Math.PI,r=n.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],c=n.dataToCoord(l+1)-n.dataToCoord(l),u=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),f=0,m=0;l<=o[1];l+=s){var v=0,_=0,b=S0(e({value:l}),t.font,"center","top");v=b.width*1.3,_=b.height*1.3,f=Math.max(f,v,7),m=Math.max(m,_,7)}var C=f/u,w=m/d;isNaN(C)&&(C=1/0),isNaN(w)&&(w=1/0);var E=Math.max(0,Math.floor(Math.min(C,w))),D=t7(n.model),L=n.getExtent(),P=D.lastAutoInterval,F=D.lastTickCount;return P!=null&&F!=null&&Math.abs(P-E)<=1&&Math.abs(F-a)<=1&&P>E&&D.axisExtent0===L[0]&&D.axisExtent1===L[1]?E=P:(D.lastTickCount=a,D.lastAutoInterval=E,D.axisExtent0=L[0],D.axisExtent1=L[1]),E}function TNe(n){var t=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Sre(n,t,e){var i=_4(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((t||0)+1,1),c=o[0],u=r.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=wb(n),f=a.get("showMinLabel")||d,m=a.get("showMaxLabel")||d;f&&c!==o[0]&&_(o[0]);for(var v=c;v<=o[1];v+=l)_(v);m&&v-l!==o[1]&&_(o[1]);function _(b){var C={value:b};s.push(e?b:{formattedLabel:i(C),rawLabel:r.getLabel(C),tickValue:b})}return s}function wre(n,t,e){var i=n.scale,r=_4(n),o=[];return R(i.getTicks(),function(a){var s=i.getLabel(a),l=a.value;t(a.value,s)&&o.push(e?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var Mre=[0,1],ENe=(function(){function n(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return n.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=i&&t<=r},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return Wu(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},n.prototype.dataToCoord=function(t,e){var i=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&r.type==="ordinal"&&(i=i.slice(),Tre(i,r.count())),Di(t,Mre,i,e)},n.prototype.coordToData=function(t,e){var i=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(i=i.slice(),Tre(i,r.count()));var o=Di(t,i,Mre,e);return this.scale.scale(o)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),i=vre(this,e),r=i.ticks,o=ge(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),a=e.get("alignWithLabel");return DNe(this,o,a,t.clamp),o},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var i=this.scale.getMinorTicks(e),r=ge(i,function(o){return ge(o,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this);return r},n.prototype.getViewLabels=function(){return gre(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);i===0&&(i=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return Cre(this)},n})();function Tre(n,t){var e=n[1]-n[0],i=t,r=e/i/2;n[0]+=r,n[1]-=r}function DNe(n,t,e,i){var r=t.length;if(!n.onBand||e||!r)return;var o=n.getExtent(),a,s;if(r===1)t[0].coord=o[0],a=t[1]={coord:o[1],tickValue:t[0].tickValue};else{var l=t[r-1].tickValue-t[0].tickValue,c=(t[r-1].coord-t[0].coord)/l;R(t,function(m){m.coord-=c/2});var u=n.scale.getExtent();s=1+u[1]-t[r-1].tickValue,a={coord:t[r-1].coord+c*s,tickValue:u[1]+1},t.push(a)}var d=o[0]>o[1];f(t[0].coord,o[0])&&(i?t[0].coord=o[0]:t.shift()),i&&f(o[0],t[0].coord)&&t.unshift({coord:o[0]}),f(o[1],a.coord)&&(i?a.coord=o[1]:t.pop()),i&&f(a.coord,o[1])&&t.push({coord:o[1]});function f(m,v){return m=Cn(m),v=Cn(v),d?m>v:m<v}}var Eb=ENe;function INe(n){var t=kt.extend(n);return kt.registerClass(t),t}function LNe(n){var t=Kn.extend(n);return Kn.registerClass(t),t}function ANe(n){var t=xo.extend(n);return xo.registerClass(t),t}function zNe(n){var t=Sr.extend(n);return Sr.registerClass(t),t}function Ere(n){for(var t=[],e=0;e<n.length;e++){var i=n[e];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,c=a.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new od(a,o):null;t.push({label:r,labelLine:i.labelLine,rect:c,localRect:a,obb:u,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return t}function Dre(n){var t=[];n.sort(function(_,b){return b.priority-_.priority});var e=new Je(0,0,0,0);function i(_){if(!_.ignore){var b=_.ensureState("emphasis");b.ignore==null&&(b.ignore=!1)}_.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,s=o.localRect,l=o.transform,c=o.label,u=o.labelLine;e.copy(o.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var d=o.obb,f=!1,m=0;m<t.length;m++){var v=t[m];if(e.intersect(v.rect)){if(a&&v.axisAligned){f=!0;break}if(v.obb||(v.obb=new od(v.localRect,v.transform)),d||(d=new od(s,l)),d.intersect(v.obb)){f=!0;break}}}f?(i(c),u&&i(u)):(c.attr("ignore",o.defaultAttr.ignore),u&&u.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}var kNe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){if(0)var i;return G0(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var i=new Pt,r=eo("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);i.add(r),r.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s=o==="none"?"circle":o,l=e.itemHeight*.8,c=eo(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);i.add(c),c.setStyle(e.itemStyle);var u=e.iconRotate==="inherit"?a:e.iconRotate||0;return c.rotation=u*Math.PI/180,c.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),i},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(xo),Ire=kNe;function Dd(n,t){var e=n.mapDimensionsAll("defaultedLabel"),i=e.length;if(i===1){var r=ol(n,t,e[0]);return r!=null?r+"":null}else if(i){for(var o=[],a=0;a<e.length;a++)o.push(ol(n,t,e[a]));return o.join(" ")}}function Db(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!pe(t))return t+"";for(var i=[],r=0;r<e.length;r++){var o=n.getDimensionIndex(e[r]);o>=0&&i.push(t[o])}return i.join(" ")}var NNe=(function(n){de(t,n);function t(e,i,r,o){var a=n.call(this)||this;return a.updateData(e,i,r,o),a}return t.prototype._createSymbol=function(e,i,r,o,a){this.removeAll();var s=eo(e,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=PNe,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Os(this.childAt(0))},t.prototype.downplay=function(){Rs(this.childAt(0))},t.prototype.setZ=function(e,i){var r=this.childAt(0);r.zlevel=e,r.z=i},t.prototype.setDraggable=function(e,i){var r=this.childAt(0);r.draggable=e,r.cursor=!i&&e?"move":r.cursor},t.prototype.updateData=function(e,i,r,o){this.silent=!1;var a=e.getItemVisual(i,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,i),c=a!==this._symbolType,u=o&&o.disableAnimation;if(c){var d=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,e,i,l,d)}else{var f=this.childAt(0);f.silent=!1;var m={scaleX:l[0]/2,scaleY:l[1]/2};u?f.attr(m):mi(f,m,s,i),l_(f)}if(this._updateCommon(e,i,l,r,o),c){var f=this.childAt(0);if(!u){var m={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Yr(f,m,s,i)}}u&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,i,r,o,a){var s=this.childAt(0),l=e.hostModel,c,u,d,f,m,v,_,b,C;if(o&&(c=o.emphasisItemStyle,u=o.blurItemStyle,d=o.selectItemStyle,f=o.focus,m=o.blurScope,_=o.labelStatesModels,b=o.hoverScale,C=o.cursorStyle,v=o.emphasisDisabled),!o||e.hasItemOption){var w=o&&o.itemModel?o.itemModel:e.getItemModel(i),E=w.getModel("emphasis");c=E.getModel("itemStyle").getItemStyle(),d=w.getModel(["select","itemStyle"]).getItemStyle(),u=w.getModel(["blur","itemStyle"]).getItemStyle(),f=E.get("focus"),m=E.get("blurScope"),v=E.get("disabled"),_=P0(w),b=E.getShallow("scale"),C=w.getShallow("cursor")}var D=e.getItemVisual(i,"symbolRotate");s.attr("rotation",(D||0)*Math.PI/180||0);var L=$_(e.getItemVisual(i,"symbolOffset"),r);L&&(s.x=L[0],s.y=L[1]),C&&s.attr("cursor",C);var P=e.getItemVisual(i,"style"),F=P.fill;if(s instanceof Wo){var G=s.style;s.useStyle(fe({image:G.image,x:G.x,y:G.y,width:G.width,height:G.height},P))}else s.__isEmptyBrush?s.useStyle(fe({},P)):s.useStyle(P),s.style.decal=null,s.setColor(F,a&&a.symbolInnerColor),s.style.strokeNoScale=!0;var q=e.getItemVisual(i,"liftZ"),Y=this._z2;q!=null?Y==null&&(this._z2=s.z2,s.z2+=q):Y!=null&&(s.z2=Y,this._z2=null);var W=a&&a.useNameLabel;N0(s,_,{labelFetcher:l,labelDataIndex:i,defaultText:Z,inheritColor:F,defaultOpacity:P.opacity});function Z(ce){return W?e.getName(ce):Dd(e,ce)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var te=s.ensureState("emphasis");te.style=c,s.ensureState("select").style=d,s.ensureState("blur").style=u;var re=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;te.scaleX=this._sizeX*re,te.scaleY=this._sizeY*re,this.setSymbolScale(1),Z3(this,f,m,v)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,i,r){var o=this.childAt(0),a=yt(this).dataIndex,s=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var l=o.getTextContent();l&&ad(l,{style:{opacity:0}},i,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();ad(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:e,removeOpt:s})},t.getSymbolSize=function(e,i){return Xne(e.getItemVisual(i,"symbolSize"))},t})(Pt);function PNe(n,t){this.parent.drift(n,t)}var n7=NNe;function ck(n,t,e,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(e))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&n.getItemVisual(e,"symbol")!=="none"}function Lre(n){return n!=null&&!we(n)&&(n={isIgnore:n}),n||{}}function Are(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:P0(t),cursorStyle:t.get("cursor")}}var ONe=(function(){function n(t){this.group=new Pt,this._SymbolCtor=t||n7}return n.prototype.updateData=function(t,e){this._progressiveEls=null,e=Lre(e);var i=this.group,r=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,l=Are(t),c={disableAnimation:s},u=e.getSymbolPoint||function(d){return t.getItemLayout(d)};o||i.removeAll(),t.diff(o).add(function(d){var f=u(d);if(ck(t,f,d,e)){var m=new a(t,d,l,c);m.setPosition(f),t.setItemGraphicEl(d,m),i.add(m)}}).update(function(d,f){var m=o.getItemGraphicEl(f),v=u(d);if(!ck(t,v,d,e)){i.remove(m);return}var _=t.getItemVisual(d,"symbol")||"circle",b=m&&m.getSymbolType&&m.getSymbolType();if(!m||b&&b!==_)i.remove(m),m=new a(t,d,l,c),m.setPosition(v);else{m.updateData(t,d,l,c);var C={x:v[0],y:v[1]};s?m.attr(C):mi(m,C,r)}i.add(m),t.setItemGraphicEl(d,m)}).remove(function(d){var f=o.getItemGraphicEl(d);f&&f.fadeOut(function(){i.remove(f)},r)}).execute(),this._getSymbolPoint=u,this._data=t},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(i,r){var o=t._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Are(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,i){this._progressiveEls=[],i=Lre(i);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(ck(e,a,o,i)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(t){r4(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)},i.hostModel)}):e.removeAll()},n})(),zre=ONe;function Ib(n,t,e){var i=n.getBaseAxis(),r=n.getOtherAxis(i),o=RNe(r,e),a=i.dim,s=r.dim,l=t.mapDimension(s),c=t.mapDimension(a),u=s==="x"||s==="radius"?1:0,d=ge(n.dimensions,function(v){return t.mapDimension(v)}),f=!1,m=t.getCalculationInfo("stackResultDimension");return O1(t,d[0])&&(f=!0,d[0]=m),O1(t,d[1])&&(f=!0,d[1]=m),{dataDimsForPoint:d,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!f,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function RNe(n,t){var e=0,i=n.scale.getExtent();return t==="start"?e=i[0]:t==="end"?e=i[1]:Ct(t)&&!isNaN(t)?e=t:i[0]>0?e=i[0]:i[1]<0&&(e=i[1]),e}function Lb(n,t,e,i){var r=NaN;n.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=e.get(n.baseDim,i),a[1-o]=r,t.dataToPoint(a)}function FNe(n,t){var e=[];return t.diff(n).add(function(i){e.push({cmd:"+",idx:i})}).update(function(i,r){e.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){e.push({cmd:"-",idx:i})}).execute(),e}function uk(n,t,e,i,r,o,a,s){for(var l=FNe(n,t),c=[],u=[],d=[],f=[],m=[],v=[],_=[],b=Ib(r,t,a),C=n.getLayout("points")||[],w=t.getLayout("points")||[],E=0;E<l.length;E++){var D=l[E],L=!0,P=void 0,F=void 0;switch(D.cmd){case"=":P=D.idx*2,F=D.idx1*2;var G=C[P],q=C[P+1],Y=w[F],W=w[F+1];(isNaN(G)||isNaN(q))&&(G=Y,q=W),c.push(G,q),u.push(Y,W),d.push(e[P],e[P+1]),f.push(i[F],i[F+1]),_.push(t.getRawIndex(D.idx1));break;case"+":var Z=D.idx,te=b.dataDimsForPoint,re=r.dataToPoint([t.get(te[0],Z),t.get(te[1],Z)]);F=Z*2,c.push(re[0],re[1]),u.push(w[F],w[F+1]);var ce=Lb(b,r,t,Z);d.push(ce[0],ce[1]),f.push(i[F],i[F+1]),_.push(t.getRawIndex(Z));break;case"-":L=!1}L&&(m.push(D),v.push(v.length))}v.sort(function(Jt,Mr){return _[Jt]-_[Mr]});for(var ne=c.length,he=va(ne),oe=va(ne),ve=va(ne),Ee=va(ne),Ge=[],E=0;E<v.length;E++){var Ye=v[E],Rt=E*2,Xe=Ye*2;he[Rt]=c[Xe],he[Rt+1]=c[Xe+1],oe[Rt]=u[Xe],oe[Rt+1]=u[Xe+1],ve[Rt]=d[Xe],ve[Rt+1]=d[Xe+1],Ee[Rt]=f[Xe],Ee[Rt+1]=f[Xe+1],Ge[E]=m[Ye]}return{current:he,next:oe,stackedOnCurrent:ve,stackedOnNext:Ee,status:Ge}}var Y0=Math.min,Z0=Math.max;function b4(n,t){return isNaN(n)||isNaN(t)}function dk(n,t,e,i,r,o,a,s,l){for(var c,u,d,f,m,v,_=e,b=0;b<i;b++){var C=t[_*2],w=t[_*2+1];if(_>=r||_<0)break;if(b4(C,w)){if(l){_+=o;continue}break}if(_===e)n[o>0?"moveTo":"lineTo"](C,w),d=C,f=w;else{var E=C-c,D=w-u;if(E*E+D*D<.5){_+=o;continue}if(a>0){for(var L=_+o,P=t[L*2],F=t[L*2+1];P===C&&F===w&&b<i;)b++,L+=o,_+=o,P=t[L*2],F=t[L*2+1],C=t[_*2],w=t[_*2+1],E=C-c,D=w-u;var G=b+1;if(l)for(;b4(P,F)&&G<i;)G++,L+=o,P=t[L*2],F=t[L*2+1];var q=.5,Y=0,W=0,Z=void 0,te=void 0;if(G>=i||b4(P,F))m=C,v=w;else{Y=P-c,W=F-u;var re=C-c,ce=P-C,ne=w-u,he=F-w,oe=void 0,ve=void 0;if(s==="x"){oe=Math.abs(re),ve=Math.abs(ce);var Ee=Y>0?1:-1;m=C-Ee*oe*a,v=w,Z=C+Ee*ve*a,te=w}else if(s==="y"){oe=Math.abs(ne),ve=Math.abs(he);var Ge=W>0?1:-1;m=C,v=w-Ge*oe*a,Z=C,te=w+Ge*ve*a}else oe=Math.sqrt(re*re+ne*ne),ve=Math.sqrt(ce*ce+he*he),q=ve/(ve+oe),m=C-Y*a*(1-q),v=w-W*a*(1-q),Z=C+Y*a*q,te=w+W*a*q,Z=Y0(Z,Z0(P,C)),te=Y0(te,Z0(F,w)),Z=Z0(Z,Y0(P,C)),te=Z0(te,Y0(F,w)),Y=Z-C,W=te-w,m=C-Y*oe/ve,v=w-W*oe/ve,m=Y0(m,Z0(c,C)),v=Y0(v,Z0(u,w)),m=Z0(m,Y0(c,C)),v=Z0(v,Y0(u,w)),Y=C-m,W=w-v,Z=C+Y*ve/oe,te=w+W*ve/oe}n.bezierCurveTo(d,f,m,v,C,w),d=Z,f=te}else n.lineTo(C,w)}c=C,u=w,_+=o}return b}var kre=(function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n})(),Nre=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="ec-polyline",i}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kre},t.prototype.buildPath=function(e,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&b4(r[a*2-2],r[a*2-1]);a--);for(;o<a&&b4(r[o*2],r[o*2+1]);o++);}for(;o<a;)o+=dk(e,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},t.prototype.getPointOn=function(e,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,o=r.data,a=fa.CMD,s,l,c=i==="x",u=[],d=0;d<o.length;){var f=o[d++],m=void 0,v=void 0,_=void 0,b=void 0,C=void 0,w=void 0,E=void 0;switch(f){case a.M:s=o[d++],l=o[d++];break;case a.L:if(m=o[d++],v=o[d++],E=c?(e-s)/(m-s):(e-l)/(v-l),E<=1&&E>=0){var D=c?(v-l)*E+l:(m-s)*E+s;return c?[e,D]:[D,e]}s=m,l=v;break;case a.C:m=o[d++],v=o[d++],_=o[d++],b=o[d++],C=o[d++],w=o[d++];var L=c?E3(s,m,_,C,e,u):E3(l,v,b,w,e,u);if(L>0)for(var P=0;P<L;P++){var F=u[P];if(F<=1&&F>=0){var D=c?ii(l,v,b,w,F):ii(s,m,_,C,F);return c?[e,D]:[D,e]}}s=C,l=w;break}}},t})(ut);var BNe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(kre),Pre=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="ec-polygon",i}return t.prototype.getDefaultShape=function(){return new BNe},t.prototype.buildPath=function(e,i){var r=i.points,o=i.stackedOnPoints,a=0,s=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;s>0&&b4(r[s*2-2],r[s*2-1]);s--);for(;a<s&&b4(r[a*2],r[a*2+1]);a++);}for(;a<s;){var c=dk(e,r,a,s,s,1,i.smooth,l,i.connectNulls);dk(e,o,a+c-1,c,s,-1,i.stackedOnSmooth,l,i.connectNulls),a+=c+1,e.closePath()}},t})(ut);function fk(n,t,e,i,r){var o=n.getArea(),a=o.x,s=o.y,l=o.width,c=o.height,u=e.get(["lineStyle","width"])||0;a-=u/2,s-=u/2,l+=u,c+=u,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var d=new Tt({shape:{x:a,y:s,width:l,height:c}});if(t){var f=n.getBaseAxis(),m=f.isHorizontal(),v=f.inverse;m?(v&&(d.shape.x+=l),d.shape.width=0):(v||(d.shape.y+=c),d.shape.height=0);var _=Ie(r)?function(b){r(b,d)}:null;Yr(d,{shape:{width:l,height:c,x:a,y:s}},e,null,i,_)}return d}function pk(n,t,e){var i=n.getArea(),r=Cn(i.r0,1),o=Cn(i.r,1),a=new Bs({shape:{cx:Cn(n.cx,1),cy:Cn(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(t){var s=n.getBaseAxis().dim==="angle";s?a.shape.endAngle=i.startAngle:a.shape.r=r,Yr(a,{shape:{endAngle:i.endAngle,r:o}},e)}return a}function Ore(n,t,e,i,r){if(n){if(n.type==="polar")return pk(n,t,e);if(n.type==="cartesian2d")return fk(n,t,e,i,r)}else return null;return null}function i7(n,t){return n.type===t}function Rre(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function Fre(n){for(var t=1/0,e=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r))}return[[t,e],[i,r]]}function Bre(n,t){var e=Fre(n),i=e[0],r=e[1],o=Fre(t),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function Vre(n){return Ct(n)?n:n?.5:0}function VNe(n,t,e){if(!e.valueDim)return[];for(var i=t.count(),r=va(i*2),o=0;o<i;o++){var a=Lb(e,n,t,o);r[o*2]=a[0],r[o*2+1]=a[1]}return r}function X0(n,t,e,i,r){var o=e.getBaseAxis(),a=o.dim==="x"||o.dim==="radius"?0:1,s=[],l=0,c=[],u=[],d=[],f=[];if(r){for(l=0;l<n.length;l+=2){var m=t||n;!isNaN(m[l])&&!isNaN(m[l+1])&&f.push(n[l],n[l+1])}n=f}for(l=0;l<n.length-2;l+=2)switch(d[0]=n[l+2],d[1]=n[l+3],u[0]=n[l],u[1]=n[l+1],s.push(u[0],u[1]),i){case"end":c[a]=d[a],c[1-a]=u[1-a],s.push(c[0],c[1]);break;case"middle":var v=(u[a]+d[a])/2,_=[];c[a]=_[a]=v,c[1-a]=u[1-a],_[1-a]=d[1-a],s.push(c[0],c[1]),s.push(_[0],_[1]);break;default:c[a]=u[a],c[1-a]=d[1-a],s.push(c[0],c[1])}return s.push(n[l++],n[l++]),s}function UNe(n,t){var e=[],i=n.length,r,o;function a(u,d,f){var m=u.coord,v=(f-m)/(d.coord-m),_=Ty(v,[u.color,d.color]);return{coord:f,color:_}}for(var s=0;s<i;s++){var l=n[s],c=l.coord;if(c<0)r=l;else if(c>t){o?e.push(a(o,l,t)):r&&e.push(a(r,l,0),a(r,l,t));break}else r&&(e.push(a(r,l,0)),r=null),e.push(l),o=l}return e}function HNe(n,t,e){var i=n.getVisual("visualMeta");if(!(!i||!i.length||!n.count())&&t.type==="cartesian2d"){for(var r,o,a=i.length-1;a>=0;a--){var s=n.getDimensionInfo(i[a].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){o=i[a];break}}if(o){var l=t.getAxis(r),c=ge(o.stops,function(E){return{coord:l.toGlobalCoord(l.dataToCoord(E.value)),color:E.color}}),u=c.length,d=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),d.reverse());var f=UNe(c,r==="x"?e.getWidth():e.getHeight()),m=f.length;if(!m&&u)return c[0].coord<0?d[1]?d[1]:c[u-1].color:d[0]?d[0]:c[0].color;var v=10,_=f[0].coord-v,b=f[m-1].coord+v,C=b-_;if(C<.001)return"transparent";R(f,function(E){E.offset=(E.coord-_)/C}),f.push({offset:m?f[m-1].offset:.5,color:d[1]||"transparent"}),f.unshift({offset:m?f[0].offset:.5,color:d[0]||"transparent"});var w=new rd(0,0,0,0,f,!0);return w[r]=_,w[r+"2"]=b,w}}}function jNe(n,t,e){var i=n.get("showAllSymbol"),r=i==="auto";if(!(i&&!r)){var o=e.getAxesByScale("ordinal")[0];if(o&&!(r&&GNe(o,t))){var a=t.mapDimension(o.dim),s={};return R(o.getViewLabels(),function(l){var c=o.scale.getRawOrdinalNumber(l.tickValue);s[c]=1}),function(l){return!s.hasOwnProperty(t.get(a,l))}}}}function GNe(n,t){var e=n.getExtent(),i=Math.abs(e[1]-e[0])/n.scale.count();isNaN(i)&&(i=0);for(var r=t.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(n7.getSymbolSize(t,a)[n.isHorizontal()?1:0]*1.5>i)return!1;return!0}function WNe(n,t){return isNaN(n)||isNaN(t)}function qNe(n){for(var t=n.length/2;t>0&&WNe(n[t*2-2],n[t*2-1]);t--);return t-1}function Ure(n,t){return[n[t*2],n[t*2+1]]}function $Ne(n,t,e){for(var i=n.length/2,r=e==="x"?0:1,o,a,s=0,l=-1,c=0;c<i;c++)if(a=n[c*2+r],!(isNaN(a)||isNaN(n[c*2+1-r]))){if(c===0){o=a;continue}if(o<=t&&a>=t||o>=t&&a<=t){l=c;break}s=c,o=a}return{range:[s,l],t:(t-o)/(a-o)}}function Hre(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<e1.length;t++)if(n.get([e1[t],"endLabel","show"]))return!0;return!1}function mk(n,t,e,i){if(i7(t,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=Hre(i)?function(m,v){n._endLabelOnDuring(m,v,a,s,o,r,t)}:null,c=t.getBaseAxis().isHorizontal(),u=fk(t,e,i,function(){var m=n._endLabel;m&&e&&s.originalX!=null&&m.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var d=u.shape,f=Math.max(d.width,d.height);c?(d.y-=f,d.height+=f*2):(d.x-=f,d.width+=f*2)}return l&&l(1,u),u}else return pk(t,e,i)}function YNe(n,t){var e=t.getBaseAxis(),i=e.isHorizontal(),r=e.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:n.get("align")||o,verticalAlign:n.get("verticalAlign")||a}}}var ZNe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=new Pt,i=new zre;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=e,this._changePolyState=ze(this._changePolyState,this)},t.prototype.render=function(e,i,r){var o=e.coordinateSystem,a=this.group,s=e.getData(),l=e.getModel("lineStyle"),c=e.getModel("areaStyle"),u=s.getLayout("points")||[],d=o.type==="polar",f=this._coordSys,m=this._symbolDraw,v=this._polyline,_=this._polygon,b=this._lineGroup,C=!i.ssr&&e.get("animation"),w=!c.isEmpty(),E=c.get("origin"),D=Ib(o,s,E),L=w&&VNe(o,s,D),P=e.get("showSymbol"),F=e.get("connectNulls"),G=P&&!d&&jNe(e,s,o),q=this._data;q&&q.eachItemGraphicEl(function(Jt,Mr){Jt.__temp&&(a.remove(Jt),q.setItemGraphicEl(Mr,null))}),P||m.remove(),a.add(b);var Y=d?!1:e.get("step"),W;o&&o.getArea&&e.get("clip",!0)&&(W=o.getArea(),W.width!=null?(W.x-=.1,W.y-=.1,W.width+=.2,W.height+=.2):W.r0&&(W.r0-=.5,W.r+=.5)),this._clipShapeForSymbol=W;var Z=HNe(s,o,r)||s.getVisual("style")[s.getVisual("drawType")];if(!(v&&f.type===o.type&&Y===this._step))P&&m.updateData(s,{isIgnore:G,clipShape:W,disableAnimation:!0,getSymbolPoint:function(Jt){return[u[Jt*2],u[Jt*2+1]]}}),C&&this._initSymbolLabelAnimation(s,o,W),Y&&(L&&(L=X0(L,u,o,Y,F)),u=X0(u,null,o,Y,F)),v=this._newPolyline(u),w?_=this._newPolygon(u,L):_&&(b.remove(_),_=this._polygon=null),d||this._initOrUpdateEndLabel(e,o,N1(Z)),b.setClipPath(mk(this,o,!0,e));else{w&&!_?_=this._newPolygon(u,L):_&&!w&&(b.remove(_),_=this._polygon=null),d||this._initOrUpdateEndLabel(e,o,N1(Z));var te=b.getClipPath();if(te){var re=mk(this,o,!1,e);Yr(te,{shape:re.shape},e)}else b.setClipPath(mk(this,o,!0,e));P&&m.updateData(s,{isIgnore:G,clipShape:W,disableAnimation:!0,getSymbolPoint:function(Jt){return[u[Jt*2],u[Jt*2+1]]}}),(!Rre(this._stackedOnPoints,L)||!Rre(this._points,u))&&(C?this._doUpdateAnimation(s,L,o,r,Y,E,F):(Y&&(L&&(L=X0(L,u,o,Y,F)),u=X0(u,null,o,Y,F)),v.setShape({points:u}),_&&_.setShape({points:u,stackedOnPoints:L})))}var ce=e.getModel("emphasis"),ne=ce.get("focus"),he=ce.get("blurScope"),oe=ce.get("disabled");if(v.useStyle(Ne(l.getLineStyle(),{fill:"none",stroke:Z,lineJoin:"bevel"})),cp(v,e,"lineStyle"),v.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var ve=v.getState("emphasis").style;ve.lineWidth=+v.style.lineWidth+1}yt(v).seriesIndex=e.seriesIndex,Z3(v,ne,he,oe);var Ee=Vre(e.get("smooth")),Ge=e.get("smoothMonotone");if(v.setShape({smooth:Ee,smoothMonotone:Ge,connectNulls:F}),_){var Ye=s.getCalculationInfo("stackedOnSeries"),Rt=0;_.useStyle(Ne(c.getAreaStyle(),{fill:Z,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),Ye&&(Rt=Vre(Ye.get("smooth"))),_.setShape({smooth:Ee,stackedOnSmooth:Rt,smoothMonotone:Ge,connectNulls:F}),cp(_,e,"areaStyle"),yt(_).seriesIndex=e.seriesIndex,Z3(_,ne,he,oe)}var Xe=this._changePolyState;s.eachItemGraphicEl(function(Jt){Jt&&(Jt.onHoverStateChange=Xe)}),this._polyline.onHoverStateChange=Xe,this._data=s,this._coordSys=o,this._stackedOnPoints=L,this._points=u,this._step=Y,this._valueOrigin=E,e.get("triggerLineEvent")&&(this.packEventData(e,v),_&&this.packEventData(e,_))},t.prototype.packEventData=function(e,i){yt(i).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,i,r,o){var a=e.getData(),s=Za(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=a.getLayout("points"),c=a.getItemGraphicEl(s);if(!c){var u=l[s*2],d=l[s*2+1];if(isNaN(u)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,d))return;var f=e.get("zlevel")||0,m=e.get("z")||0;c=new n7(a,s),c.x=u,c.y=d,c.setZ(f,m);var v=c.getSymbolPath().getTextContent();v&&(v.zlevel=f,v.z=m,v.z2=this._polyline.z2+1),c.__temp=!0,a.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else Sr.prototype.highlight.call(this,e,i,r,o)},t.prototype.downplay=function(e,i,r,o){var a=e.getData(),s=Za(a,o);if(this._changePolyState("normal"),s!=null&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Sr.prototype.downplay.call(this,e,i,r,o)},t.prototype._changePolyState=function(e){var i=this._polygon;GL(this._polyline,e),i&&GL(i,e)},t.prototype._newPolyline=function(e){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new Nre({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},t.prototype._newPolygon=function(e,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Pre({shape:{points:e,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,i,r){var o,a,s=i.getBaseAxis(),l=s.inverse;i.type==="cartesian2d"?(o=s.isHorizontal(),a=!1):i.type==="polar"&&(o=s.dim==="angle",a=!0);var c=e.hostModel,u=c.get("animationDuration");Ie(u)&&(u=u(null));var d=c.get("animationDelay")||0,f=Ie(d)?d(null):d;e.eachItemGraphicEl(function(m,v){var _=m;if(_){var b=[m.x,m.y],C=void 0,w=void 0,E=void 0;if(r)if(a){var D=r,L=i.pointToCoord(b);o?(C=D.startAngle,w=D.endAngle,E=-L[1]/180*Math.PI):(C=D.r0,w=D.r,E=L[0])}else{var P=r;o?(C=P.x,w=P.x+P.width,E=m.x):(C=P.y+P.height,w=P.y,E=m.y)}var F=w===C?0:(E-C)/(w-C);l&&(F=1-F);var G=Ie(d)?d(v):u*F+f,q=_.getSymbolPath(),Y=q.getTextContent();_.attr({scaleX:0,scaleY:0}),_.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:G}),Y&&Y.animateFrom({style:{opacity:0}},{duration:300,delay:G}),q.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,i,r){var o=e.getModel("endLabel");if(Hre(e)){var a=e.getData(),s=this._polyline,l=a.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new qt({z2:200}),c.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=qNe(l);u>=0&&(N0(s,P0(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:u,defaultText:function(d,f,m){return m!=null?Db(a,m):Dd(a,d)},enableTextSetter:!0},YNe(o,i)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,i,r,o,a,s,l){var c=this._endLabel,u=this._polyline;if(c){e<1&&o.originalX==null&&(o.originalX=c.x,o.originalY=c.y);var d=r.getLayout("points"),f=r.hostModel,m=f.get("connectNulls"),v=s.get("precision"),_=s.get("distance")||0,b=l.getBaseAxis(),C=b.isHorizontal(),w=b.inverse,E=i.shape,D=w?C?E.x:E.y+E.height:C?E.x+E.width:E.y,L=(C?_:0)*(w?-1:1),P=(C?0:-_)*(w?-1:1),F=C?"x":"y",G=$Ne(d,D,F),q=G.range,Y=q[1]-q[0],W=void 0;if(Y>=1){if(Y>1&&!m){var Z=Ure(d,q[0]);c.attr({x:Z[0]+L,y:Z[1]+P}),a&&(W=f.getRawValue(q[0]))}else{var Z=u.getPointOn(D,F);Z&&c.attr({x:Z[0]+L,y:Z[1]+P});var te=f.getRawValue(q[0]),re=f.getRawValue(q[1]);a&&(W=vL(r,v,te,re,G.t))}o.lastFrameIndex=q[0]}else{var ce=e===1||o.lastFrameIndex>0?q[0]:0,Z=Ure(d,ce);a&&(W=f.getRawValue(ce)),c.attr({x:Z[0]+L,y:Z[1]+P})}if(a){var ne=ld(c);typeof ne.setLabelText=="function"&&ne.setLabelText(W)}}},t.prototype._doUpdateAnimation=function(e,i,r,o,a,s,l){var c=this._polyline,u=this._polygon,d=e.hostModel,f=uk(this._data,e,this._stackedOnPoints,i,this._coordSys,r,this._valueOrigin,s),m=f.current,v=f.stackedOnCurrent,_=f.next,b=f.stackedOnNext;if(a&&(v=X0(f.stackedOnCurrent,f.current,r,a,l),m=X0(f.current,null,r,a,l),b=X0(f.stackedOnNext,f.next,r,a,l),_=X0(f.next,null,r,a,l)),Bre(m,_)>3e3||u&&Bre(v,b)>3e3){c.stopAnimation(),c.setShape({points:_}),u&&(u.stopAnimation(),u.setShape({points:_,stackedOnPoints:b}));return}c.shape.__points=f.current,c.shape.points=m;var C={shape:{points:_}};f.current!==m&&(C.shape.__points=f.next),c.stopAnimation(),mi(c,C,d),u&&(u.setShape({points:m,stackedOnPoints:v}),u.stopAnimation(),mi(u,{shape:{stackedOnPoints:b}},d),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var w=[],E=f.status,D=0;D<E.length;D++){var L=E[D].cmd;if(L==="="){var P=e.getItemGraphicEl(E[D].idx1);P&&w.push({el:P,ptIdx:D})}}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var F=c.shape.__points,G=0;G<w.length;G++){var q=w[G].el,Y=w[G].ptIdx*2;q.x=F[Y],q.y=F[Y+1],q.markRedraw()}})},t.prototype.remove=function(e){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(Sr),jre=ZNe;function hk(n,t){return{seriesType:n,plan:f4(),reset:function(e){var i=e.getData(),r=e.coordinateSystem,o=e.pipelineContext,a=t||o.large;if(r){var s=ge(r.dimensions,function(m){return i.mapDimension(m)}).slice(0,2),l=s.length,c=i.getCalculationInfo("stackResultDimension");O1(i,s[0])&&(s[0]=c),O1(i,s[1])&&(s[1]=c);var u=i.getStore(),d=i.getDimensionIndex(s[0]),f=i.getDimensionIndex(s[1]);return l&&{progress:function(m,v){for(var _=m.end-m.start,b=a&&va(_*l),C=[],w=[],E=m.start,D=0;E<m.end;E++){var L=void 0;if(l===1){var P=u.get(d,E);L=r.dataToPoint(P,null,w)}else C[0]=u.get(d,E),C[1]=u.get(f,E),L=r.dataToPoint(C,null,w);a?(b[D++]=L[0],b[D++]=L[1]):v.setItemLayout(E,L.slice())}a&&v.setLayout("points",b)}}}}}}var XNe={average:function(n){for(var t=0,e=0,i=0;i<n.length;i++)isNaN(n[i])||(t+=n[i],e++);return e===0?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},QNe=function(n){return Math.round(n.length/2)};function r7(n){return{seriesType:n,reset:function(t,e,i){var r=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,s=r.count();if(s>10&&a.type==="cartesian2d"&&o){var l=a.getBaseAxis(),c=a.getOtherAxis(l),u=l.getExtent(),d=i.getDevicePixelRatio(),f=Math.abs(u[1]-u[0])*(d||1),m=Math.round(s/f);if(isFinite(m)&&m>1){o==="lttb"?t.setData(r.lttbDownSample(r.mapDimension(c.dim),1/m)):o==="minmax"&&t.setData(r.minmaxDownSample(r.mapDimension(c.dim),1/m));var v=void 0;_e(o)?v=XNe[o]:Ie(o)&&(v=o),v&&t.setData(r.downSample(r.mapDimension(c.dim),1/m,v,QNe))}}}}}function gk(n){n.registerChartView(jre),n.registerSeriesModel(Ire),n.registerLayout(hk("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,r7("line"))}var Gre=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,i){return G0(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,i,r){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.clampData(e),s=o.dataToPoint(a);if(r)R(o.getAxes(),function(f,m){if(f.type==="category"&&i!=null){var v=f.getTicksCoords(),_=f.getTickModel().get("alignWithLabel"),b=a[m],C=i[m]==="x1"||i[m]==="y1";if(C&&!_&&(b+=1),v.length<2)return;if(v.length===2){s[m]=f.toGlobalCoord(f.getExtent()[C?1:0]);return}for(var w=void 0,E=void 0,D=1,L=0;L<v.length;L++){var P=v[L].coord,F=L===v.length-1?v[L-1].tickValue+D:v[L].tickValue;if(F===b){E=P;break}else if(F<b)w=P;else if(w!=null&&F>b){E=(P+w)/2;break}L===1&&(D=F-v[0].tickValue)}E==null&&(w?w&&(E=v[v.length-1].coord):E=v[0].coord),s[m]=f.toGlobalCoord(E)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;s[d]+=c+u/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t})(xo);xo.registerClass(Gre);var vk=Gre;var KNe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return G0(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>e&&(e=i),e},t.prototype.brushSelector=function(e,i,r){return r.rect(i.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=O0(vk.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t})(vk),Wre=KNe;var JNe=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),ePe=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="sausage",i}return t.prototype.getDefaultShape=function(){return new JNe},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),s=Math.max(i.r,0),l=(s-a)*.5,c=a+l,u=i.startAngle,d=i.endAngle,f=i.clockwise,m=Math.PI*2,v=f?d-u<m:u-d<m;v||(u=d-(f?m:-m));var _=Math.cos(u),b=Math.sin(u),C=Math.cos(d),w=Math.sin(d);v?(e.moveTo(_*a+r,b*a+o),e.arc(_*c+r,b*c+o,l,-Math.PI+u,u,!f)):e.moveTo(_*s+r,b*s+o),e.arc(r,o,s,u,d,!f),e.arc(C*c+r,w*c+o,l,d-Math.PI*2,d-Math.PI,!f),a!==0&&e.arc(r,o,a,d,u,f)},t})(ut),yk=ePe;function qre(n,t){t=t||{};var e=t.isRoundCap;return function(i,r,o){var a=r.position;if(!a||a instanceof Array)return O3(i,r,o);var s=n(a),l=r.distance!=null?r.distance:5,c=this.shape,u=c.cx,d=c.cy,f=c.r,m=c.r0,v=(f+m)/2,_=c.startAngle,b=c.endAngle,C=(_+b)/2,w=e?Math.abs(f-m)/2:0,E=Math.cos,D=Math.sin,L=u+f*E(_),P=d+f*D(_),F="left",G="top";switch(s){case"startArc":L=u+(m-l)*E(C),P=d+(m-l)*D(C),F="center",G="top";break;case"insideStartArc":L=u+(m+l)*E(C),P=d+(m+l)*D(C),F="center",G="bottom";break;case"startAngle":L=u+v*E(_)+Ab(_,l+w,!1),P=d+v*D(_)+zb(_,l+w,!1),F="right",G="middle";break;case"insideStartAngle":L=u+v*E(_)+Ab(_,-l+w,!1),P=d+v*D(_)+zb(_,-l+w,!1),F="left",G="middle";break;case"middle":L=u+v*E(C),P=d+v*D(C),F="center",G="middle";break;case"endArc":L=u+(f+l)*E(C),P=d+(f+l)*D(C),F="center",G="bottom";break;case"insideEndArc":L=u+(f-l)*E(C),P=d+(f-l)*D(C),F="center",G="top";break;case"endAngle":L=u+v*E(b)+Ab(b,l+w,!0),P=d+v*D(b)+zb(b,l+w,!0),F="left",G="middle";break;case"insideEndAngle":L=u+v*E(b)+Ab(b,-l+w,!0),P=d+v*D(b)+zb(b,-l+w,!0),F="right",G="middle";break;default:return O3(i,r,o)}return i=i||{},i.x=L,i.y=P,i.align=F,i.verticalAlign=G,i}}function $re(n,t,e,i){if(Ct(i)){n.setTextConfig({rotation:i});return}else if(pe(t)){n.setTextConfig({rotation:0});return}var r=n.shape,o=r.clockwise?r.startAngle:r.endAngle,a=r.clockwise?r.endAngle:r.startAngle,s=(o+a)/2,l,c=e(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=o;break;case"endAngle":case"insideEndAngle":l=a;break;default:n.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),n.setTextConfig({rotation:u})}function Ab(n,t,e){return t*Math.sin(n)*(e?-1:1)}function zb(n,t,e){return t*Math.cos(n)*(e?1:-1)}function Yre(n,t,e){var i=n.get("borderRadius");if(i==null)return e?{cornerRadius:0}:null;pe(i)||(i=[i,i,i,i]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:ge(i,function(o){return $a(o,r)})}}var _k=Math.max,bk=Math.min;function tPe(n,t){var e=n.getArea&&n.getArea();if(i7(n,"cartesian2d")){var i=n.getBaseAxis();if(i.type!=="category"||!i.onBand){var r=t.getLayout("bandWidth");i.isHorizontal()?(e.x-=r,e.width+=r*2):(e.y-=r,e.height+=r*2)}}return e}var nPe=(function(n){de(t,n);function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,i,r,o){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var a=e.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,i,r):this._renderNormal(e,i,r,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,i){this._progressiveEls=[],this._incrementalRenderLarge(e,i)},t.prototype.eachRendered=function(e){r4(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e,i,r,o){var a=this.group,s=e.getData(),l=this._data,c=e.coordinateSystem,u=c.getBaseAxis(),d;c.type==="cartesian2d"?d=u.isHorizontal():c.type==="polar"&&(d=u.dim==="angle");var f=e.isAnimationEnabled()?e:null,m=iPe(e,c);m&&this._enableRealtimeSort(m,s,r);var v=e.get("clip",!0)||m,_=tPe(c,s);a.removeClipPath();var b=e.get("roundCap",!0),C=e.get("showBackground",!0),w=e.getModel("backgroundStyle"),E=w.get("borderRadius")||0,D=[],L=this._backgroundEls,P=o&&o.isInitSort,F=o&&o.type==="changeAxisOrder";function G(W){var Z=kb[c.type](s,W),te=uPe(c,d,Z);return te.useStyle(w.getItemStyle()),c.type==="cartesian2d"?te.setShape("r",E):te.setShape("cornerRadius",E),D[W]=te,te}s.diff(l).add(function(W){var Z=s.getItemModel(W),te=kb[c.type](s,W,Z);if(C&&G(W),!(!s.hasValue(W)||!Jre[c.type](te))){var re=!1;v&&(re=Zre[c.type](_,te));var ce=Xre[c.type](e,s,W,te,d,f,u.model,!1,b);m&&(ce.forceLabelAnimation=!0),eoe(ce,s,W,Z,te,e,d,c.type==="polar"),P?ce.attr({shape:te}):m?Qre(m,f,ce,te,W,d,!1,!1):Yr(ce,{shape:te},e,W),s.setItemGraphicEl(W,ce),a.add(ce),ce.ignore=re}}).update(function(W,Z){var te=s.getItemModel(W),re=kb[c.type](s,W,te);if(C){var ce=void 0;L.length===0?ce=G(Z):(ce=L[Z],ce.useStyle(w.getItemStyle()),c.type==="cartesian2d"?ce.setShape("r",E):ce.setShape("cornerRadius",E),D[W]=ce);var ne=kb[c.type](s,W),he=ooe(d,ne,c);mi(ce,{shape:he},f,W)}var oe=l.getItemGraphicEl(Z);if(!s.hasValue(W)||!Jre[c.type](re)){a.remove(oe);return}var ve=!1;if(v&&(ve=Zre[c.type](_,re),ve&&a.remove(oe)),oe?l_(oe):oe=Xre[c.type](e,s,W,re,d,f,u.model,!!oe,b),m&&(oe.forceLabelAnimation=!0),F){var Ee=oe.getTextContent();if(Ee){var Ge=ld(Ee);Ge.prevValue!=null&&(Ge.prevValue=Ge.value)}}else eoe(oe,s,W,te,re,e,d,c.type==="polar");P?oe.attr({shape:re}):m?Qre(m,f,oe,re,W,d,!0,F):mi(oe,{shape:re},e,W,null),s.setItemGraphicEl(W,oe),oe.ignore=ve,a.add(oe)}).remove(function(W){var Z=l.getItemGraphicEl(W);Z&&vp(Z,e,W)}).execute();var q=this._backgroundGroup||(this._backgroundGroup=new Pt);q.removeAll();for(var Y=0;Y<D.length;++Y)q.add(D[Y]);a.add(q),this._backgroundEls=D,this._data=s},t.prototype._renderLarge=function(e,i,r){this._clear(),noe(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,i){this._removeBackground(),noe(i,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var i=e.get("clip",!0)&&Ore(e.coordinateSystem,!1,e),r=this.group;i?r.setClipPath(i):r.removeClipPath()},t.prototype._enableRealtimeSort=function(e,i,r){var o=this;if(i.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,e,r),this._isFirstFrame=!1;else{var s=function(l){var c=i.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(a.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,i,r){var o=[];return e.each(e.mapDimension(i.dim),function(a,s){var l=r(s);l=l??NaN,o.push({dataIndex:s,mappedValue:l,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:ge(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,i,r){for(var o=r.scale,a=e.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,c=o.getOrdinalMeta().categories.length;l<c;++l){var u=e.rawIndexOf(a,o.getRawOrdinalNumber(l)),d=u<0?Number.MIN_VALUE:i(e.indexOfRawIndex(u));if(d>s)return!0;s=d}return!1},t.prototype._isOrderDifferentInView=function(e,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(e.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,i,r,o){if(this._isOrderChangedWithinSameData(e,i,r)){var a=this._dataSort(e,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,i,r){var o=i.baseAxis,a=this._dataSort(e,o,function(s){return e.get(e.mapDimension(i.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},t.prototype.remove=function(e,i){this._clear(this._model),this._removeOnRenderedListener(i)},t.prototype.dispose=function(e,i){this._removeOnRenderedListener(i)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var i=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){vp(o,e,yt(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(Sr),Zre={cartesian2d:function(n,t){var e=t.width<0?-1:1,i=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=n.x+n.width,o=n.y+n.height,a=_k(t.x,n.x),s=bk(t.x+t.width,r),l=_k(t.y,n.y),c=bk(t.y+t.height,o),u=s<a,d=c<l;return t.x=u&&a>r?s:a,t.y=d&&l>o?c:l,t.width=u?0:s-a,t.height=d?0:c-l,e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),u||d},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var i=t.r;t.r=t.r0,t.r0=i}var r=bk(t.r,n.r),o=_k(t.r0,n.r0);t.r=r,t.r0=o;var a=r-o<0;if(e<0){var i=t.r;t.r=t.r0,t.r0=i}return a}},Xre={cartesian2d:function(n,t,e,i,r,o,a,s,l){var c=new Tt({shape:fe({},i),z2:1});if(c.__dataIndex=e,c.name="item",o){var u=c.shape,d=r?"height":"width";u[d]=0}return c},polar:function(n,t,e,i,r,o,a,s,l){var c=!r&&l?yk:Bs,u=new c({shape:i,z2:1});u.name="item";var d=roe(r);if(u.calculateTextPosition=qre(d,{isRoundCap:c===yk}),o){var f=u.shape,m=r?"r":"endAngle",v={};f[m]=r?i.r0:i.startAngle,v[m]=i[m],(s?mi:Yr)(u,{shape:v},o)}return u}};function iPe(n,t){var e=n.get("realtimeSort",!0),i=t.getBaseAxis();if(e&&i.type==="category"&&t.type==="cartesian2d")return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}function Qre(n,t,e,i,r,o,a,s){var l,c;o?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?mi:Yr)(e,{shape:l},t,r,null);var u=t?n.baseAxis.model:null;(a?mi:Yr)(e,{shape:c},u,r)}function Kre(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var rPe=["x","y","width","height"],oPe=["cx","cy","r","startAngle","endAngle"],Jre={cartesian2d:function(n){return!Kre(n,rPe)},polar:function(n){return!Kre(n,oPe)}},kb={cartesian2d:function(n,t,e){var i=n.getItemLayout(t),r=e?sPe(e,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,t,e){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function aPe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function roe(n){return(function(t){var e=t?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+e;default:return i}}})(n)}function eoe(n,t,e,i,r,o,a,s){var l=t.getItemVisual(e,"style");if(s){if(!o.get("roundCap")){var u=n.shape,d=Yre(i.getModel("itemStyle"),u,!0);fe(u,d),n.setShape(u)}}else{var c=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",c)}n.useStyle(l);var f=i.getShallow("cursor");f&&n.attr("cursor",f);var m=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",v=P0(i);N0(n,v,{labelFetcher:o,labelDataIndex:e,defaultText:Dd(o.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:m});var _=n.getTextContent();if(s&&_){var b=i.get(["label","position"]);n.textConfig.inside=b==="middle"?!0:null,$re(n,b==="outside"?m:b,roe(a),i.get(["label","rotate"]))}ate(_,v,o.getRawValue(e),function(w){return Db(t,w)});var C=i.getModel(["emphasis"]);Z3(n,C.get("focus"),C.get("blurScope"),C.get("disabled")),cp(n,i),aPe(r)&&(n.style.fill="none",n.style.stroke="none",R(n.states,function(w){w.style&&(w.style.fill=w.style.stroke="none")}))}function sPe(n,t){var e=n.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var i=n.get(["itemStyle","borderWidth"])||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,r,o)}var lPe=(function(){function n(){}return n})(),toe=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="largeBar",i}return t.prototype.getDefaultShape=function(){return new lPe},t.prototype.buildPath=function(e,i){for(var r=i.points,o=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],c=this.barWidth,u=0;u<r.length;u+=3)l[o]=c,l[a]=r[u+2],s[o]=r[u+o],s[a]=r[u+a],e.rect(s[0],s[1],l[0],l[1])},t})(ut);function noe(n,t,e,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=n.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new toe({shape:{points:c},incremental:!!i,silent:!0,z2:0});u.baseDimIdx=o,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),t.add(u),e&&e.push(u)}var d=new toe({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=a,d.barWidth=s,t.add(d),d.useStyle(r.getVisual("style")),d.style.stroke=null,yt(d).seriesIndex=n.seriesIndex,n.get("silent")||(d.on("mousedown",ioe),d.on("mousemove",ioe)),e&&e.push(d)}var ioe=p4(function(n){var t=this,e=cPe(t,n.offsetX,n.offsetY);yt(t).dataIndex=e>=0?e:null},30,!1);function cPe(n,t,e){for(var i=n.baseDimIdx,r=1-i,o=n.shape.points,a=n.largeDataIndices,s=[],l=[],c=n.barWidth,u=0,d=o.length/3;u<d;u++){var f=u*3;if(l[i]=c,l[r]=o[f+2],s[i]=o[f+i],s[r]=o[f+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return a[u]}return-1}function ooe(n,t,e){if(i7(e,"cartesian2d")){var i=t,r=e.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}else{var r=e.getArea(),o=t;return{cx:r.cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:Math.PI*2}}}function uPe(n,t,e){var i=n.type==="polar"?Bs:Tt;return new i({shape:ooe(t,e,n),silent:!0,z2:0})}var aoe=nPe;function xk(n){n.registerChartView(aoe),n.registerSeriesModel(Wre),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,ct(Xie,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Qie("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,r7("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})}var dPe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t})(kt),soe=dPe;var Nb=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",si).models[0]},t.type="cartesian2dAxis",t})(kt);cr(Nb,Mb);var loe={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},fPe=je({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},loe),Ck=je({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},loe),pPe=je({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Ck),mPe=Ne({logBase:10},Ck),coe={category:fPe,value:Ck,time:pPe,log:mPe};var uoe={value:1,category:1,time:1,log:1};function Pb(n,t,e,i){R(uoe,function(r,o){var a=je(je({},coe[o],!0),i,!0),s=(function(l){de(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=t+"Axis."+o,u}return c.prototype.mergeDefaultAndTheme=function(u,d){var f=R0(this),m=f?js(u):{},v=d.getTheme();je(u,v.get(o+"Axis")),je(u,this.getDefaultOption()),u.type=doe(u),f&&Hs(u,m,f)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=Xp.createByAxisModel(this))},c.prototype.getCategories=function(u){var d=this.option;if(d.type==="category")return u?d.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=t+"Axis."+o,c.defaultOption=a,c})(e);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(t+"Axis",doe)}function doe(n){return n.type||(n.data?"category":"value")}var hPe=(function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return ge(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),vn(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n})(),foe=hPe;var Ob=["x","y"];function poe(n){return n.type==="interval"||n.type==="time"}var gPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Ob,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!poe(e)||!poe(i))){var r=e.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],c=o[1]-o[0];if(!(!l||!c)){var u=(s[0]-a[0])/l,d=(s[1]-a[1])/c,f=a[0]-r[0]*u,m=a[1]-o[0]*d,v=this._transform=[u,0,0,d,f,m];this._invTransform=j2([],v)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,i){var r=this.dataToPoint(e),o=this.dataToPoint(i),a=this.getArea(),s=new Je(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(s)},t.prototype.dataToPoint=function(e,i,r){r=r||[];var o=e[0],a=e[1];if(this._transform&&o!=null&&isFinite(o)&&a!=null&&isFinite(a))return Ti(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(a,i)),r},t.prototype.clampData=function(e,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(e[0]),c=o.parse(e[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),i},t.prototype.pointToData=function(e,i){var r=[];if(this._invTransform)return Ti(r,e,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(e[0]),i),r[1]=a.coordToData(a.toLocalCoord(e[1]),i),r},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var i=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),o=Math.min(i[0],i[1])-e,a=Math.min(r[0],r[1])-e,s=Math.max(i[0],i[1])-o+e,l=Math.max(r[0],r[1])-a+e;return new Je(o,a,s,l)},t})(foe),moe=gPe;var vPe=(function(n){de(t,n);function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),e&&i[0]>i[1]&&i.reverse(),i},t.prototype.pointToData=function(e,i){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),i)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t})(Eb),hoe=vPe;function o7(n,t,e){e=e||{};var i=n.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,c=r.dim,u=i.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],f={left:0,right:1,top:0,bottom:1,onZero:2},m=t.get("offset")||0,v=c==="x"?[d[2]-m,d[3]+m]:[d[0]-m,d[1]+m];if(a){var _=a.toGlobalCoord(a.dataToCoord(0));v[f.onZero]=Math.max(Math.min(_,v[1]),v[0])}o.position=[c==="y"?v[f[l]]:d[0],c==="x"?v[f[l]]:d[3]],o.rotation=Math.PI/2*(c==="x"?0:1);var b={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=b[s],o.labelOffset=a?v[f[s]]-v[f.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),g0(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var C=t.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-C:C,o.z2=1,o}function Sk(n){return n.get("coordinateSystem")==="cartesian2d"}function wk(n){var t={xAxisModel:null,yAxisModel:null};return R(t,function(e,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,si).models[0];t[i]=o}),t}var Mk=Math.log;function voe(n,t,e){var i=sl.prototype,r=i.getTicks.call(e),o=i.getTicks.call(e,!0),a=r.length-1,s=i.getInterval.call(e),l=Yz(n,t),c=l.extent,u=l.fixMin,d=l.fixMax;if(n.type==="log"){var f=Mk(n.base);c=[Mk(c[0])/f,Mk(c[1])/f]}n.setExtent(c[0],c[1]),n.calcNiceExtent({splitNumber:a,fixMin:u,fixMax:d});var m=i.getExtent.call(n);u&&(c[0]=m[0]),d&&(c[1]=m[1]);var v=i.getInterval.call(n),_=c[0],b=c[1];if(u&&d)v=(b-_)/a;else if(u)for(b=c[0]+v*a;b<c[1]&&isFinite(b)&&isFinite(c[1]);)v=hb(v),b=c[0]+v*a;else if(d)for(_=c[1]-v*a;_>c[0]&&isFinite(_)&&isFinite(c[0]);)v=hb(v),_=c[1]-v*a;else{var C=n.getTicks().length-1;C>a&&(v=hb(v));var w=v*a;b=Math.ceil(c[1]/v)*v,_=Cn(b-w),_<0&&c[0]>=0?(_=0,b=Cn(w)):b>0&&c[1]<=0&&(b=0,_=-Cn(w))}var E=(r[0].value-o[0].value)/s,D=(r[a].value-o[a].value)/s;if(i.setExtent.call(n,_+v*E,b+v*D),i.setInterval.call(n,v),(E||D)&&i.setNiceExtent.call(n,_+v,b-v),0)var L}var yPe=(function(){function n(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ob,this._initCartesian(t,e,i),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model);function r(a){var s,l=Lt(a),c=l.length;if(c){for(var u=[],d=c-1;d>=0;d--){var f=+l[d],m=a[f],v=m.model,_=m.scale;Qp(_)&&v.get("alignTicks")&&v.get("interval")==null?u.push(m):(Jp(_,v),Qp(_)&&(s=m))}u.length&&(s||(s=u.pop(),Jp(s.scale,s.model)),R(u,function(b){voe(b.scale,b.model,s.scale)}))}}r(i.x),r(i.y);var o={};R(i.x,function(a){yoe(i,"y",a,o)}),R(i.y,function(a){yoe(i,"x",a,o)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,i){var r=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),a=Qr(r,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var s=this._axesList;l(),o&&(R(s,function(c){if(!c.model.get(["axisLabel","inside"])){var u=sre(c);if(u){var d=c.isHorizontal()?"height":"width",f=c.model.get(["axisLabel","margin"]);a[d]-=u[d]+f,c.position==="top"?a.y+=u.height+f:c.position==="left"&&(a.x+=u.width+f)}}}),l()),R(this._coordsList,function(c){c.calcAffineTransform()});function l(){R(s,function(c){var u=c.isHorizontal(),d=u?[0,a.width]:[0,a.height],f=c.inverse?1:0;c.setExtent(d[f],d[1-f]),_Pe(c,u?a.x:a.y)})}},n.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(i!=null)return i[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var i="x"+t+"y"+e;return this._coordsMap[i]}we(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(t){var e=t.seriesModel,i=t.xAxisModel||e&&e.getReferringComponents("xAxis",si).models[0],r=t.yAxisModel||e&&e.getReferringComponents("yAxis",si).models[0],o=t.gridModel,a=this._coordsList,s,l;if(e)s=e.coordinateSystem,qe(a,s)<0&&(s=null);else if(i&&r)s=this.getCartesian(i.componentIndex,r.componentIndex);else if(i)l=this.getAxis("x",i.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(o){var c=o.coordinateSystem;c===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",c("x"),this),e.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,R(s.x,function(u,d){R(s.y,function(f,m){var v="x"+d+"y"+m,_=new moe(v);_.master=r,_.model=t,r._coordsMap[v]=_,r._coordsList.push(_),_.addAxis(u),_.addAxis(f)})});function c(u){return function(d,f){if(Tk(d,t)){var m=d.get("position");u==="x"?m!=="top"&&m!=="bottom"&&(m=a.bottom?"top":"bottom"):m!=="left"&&m!=="right"&&(m=a.left?"right":"left"),a[m]=!0;var v=new hoe(u,Cb(d),[0,0],d.get("type"),m),_=v.type==="category";v.onBand=_&&d.get("boundaryGap"),v.inverse=d.get("inverse"),d.axis=v,v.model=d,v.grid=o,v.index=f,o._axesList.push(v),s[u][f]=v,l[u]++}}}},n.prototype._updateScale=function(t,e){R(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),t.eachSeries(function(r){if(Sk(r)){var o=wk(r),a=o.xAxisModel,s=o.yAxisModel;if(!Tk(a,e)||!Tk(s,e))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),c=r.getData(),u=l.getAxis("x"),d=l.getAxis("y");i(c,u),i(c,d)}},this);function i(r,o){R(Zz(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}},n.prototype.getTooltipAxes=function(t){var e=[],i=[];return R(this.getCartesians(),function(r){var o=t!=null&&t!=="auto"?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(o);qe(e,o)<0&&e.push(o),qe(i,a)<0&&i.push(a)}),{baseAxes:e,otherAxes:i}},n.create=function(t,e){var i=[];return t.eachComponent("grid",function(r,o){var a=new n(r,t,e);a.name="grid_"+o,a.resize(r,e,!0),r.coordinateSystem=a,i.push(a)}),t.eachSeries(function(r){if(Sk(r)){var o=wk(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel(),c=l.coordinateSystem;r.coordinateSystem=c.getCartesian(a.componentIndex,s.componentIndex)}}),i},n.dimensions=Ob,n})();function Tk(n,t){return n.getCoordSysModel()===t}function yoe(n,t,e,i){e.getAxesOnZeroOf=function(){return o?[o]:[]};var r=n[t],o,a=e.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)_oe(r[l])&&(o=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&_oe(r[c])&&!i[u(r[c])]){o=r[c];break}o&&(i[u(o)]=!0);function u(d){return d.dim+"_"+d.index}}function _oe(n){return n&&n.type!=="category"&&n.type!=="time"&&are(n)}function _Pe(n,t){var e=n.getExtent(),i=e[0]+e[1];n.toGlobalCoord=n.dim==="x"?function(r){return r+t}:function(r){return i-r+t},n.toLocalCoord=n.dim==="x"?function(r){return r-t}:function(r){return i-r+t}}var boe=yPe;var Q0=Math.PI,x4=(function(){function n(t,e){this.group=new Pt,this.opt=e,this.axisModel=t,Ne(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Pt({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(t){return!!xoe[t]},n.prototype.add=function(t){xoe[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,i){var r=X8(e-t),o,a;return F3(r)?(a=i>0?"top":"bottom",o="center"):F3(r-Q0)?(a=i>0?"bottom":"top",o="center"):(a="middle",r>0&&r<Q0?o=i>0?"right":"left":o=i>0?"left":"right"),{rotation:r,textAlign:o,textVerticalAlign:a}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n})(),xoe={axisLine:function(n,t,e,i){var r=t.get(["axisLine","show"]);if(r==="auto"&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),!!r){var o=t.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0],c=s[0]>l[0];a&&(Ti(s,s,a),Ti(l,l,a));var u=fe({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new pa({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});n4(d.shape,d.style.lineWidth),d.anid="line",e.add(d);var f=t.get(["axisLine","symbol"]);if(f!=null){var m=t.get(["axisLine","symbolSize"]);_e(f)&&(f=[f,f]),(_e(m)||Ct(m))&&(m=[m,m]);var v=$_(t.get(["axisLine","symbolOffset"])||0,m),_=m[0],b=m[1];R([{rotate:n.rotation+Math.PI/2,offset:v[0],r:0},{rotate:n.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(C,w){if(f[w]!=="none"&&f[w]!=null){var E=eo(f[w],-_/2,-b/2,_,b,u.stroke,!0),D=C.r+C.offset,L=c?l:s;E.attr({rotation:C.rotate,x:L[0]+D*Math.cos(n.rotation),y:L[1]-D*Math.sin(n.rotation),silent:!0,z2:11}),e.add(E)}})}}},axisTickLabel:function(n,t,e,i){var r=CPe(e,i,t,n),o=wPe(e,i,t,n);if(xPe(t,o,r),SPe(e,i,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])){var a=Ere(ge(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Dre(a)}},axisName:function(n,t,e,i){var r=g0(n.axisName,t.get("name"));if(r){var o=t.get("nameLocation"),a=n.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,c=t.axis.getExtent(),u=c[0]>c[1]?-1:1,d=[o==="start"?c[0]-u*l:o==="end"?c[1]+u*l:(c[0]+c[1])/2,Soe(o)?n.labelOffset+a*l:0],f,m=t.get("nameRotate");m!=null&&(m=m*Q0/180);var v;Soe(o)?f=x4.innerTextLayout(n.rotation,m??n.rotation,a):(f=bPe(n.rotation,o,m||0,c),v=n.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(f.rotation)),!isFinite(v)&&(v=null)));var _=s.getFont(),b=t.get("nameTruncate",!0)||{},C=b.ellipsis,w=g0(n.nameTruncateMaxWidth,b.maxWidth,v),E=new qt({x:d[0],y:d[1],rotation:f.rotation,silent:x4.isLabelSilent(t),style:Zr(s,{text:r,font:_,overflow:"truncate",width:w,ellipsis:C,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(k0({el:E,componentModel:t,itemName:r}),E.__fullText=r,E.anid="name",t.get("triggerEvent")){var D=x4.makeAxisEventDataBase(t);D.targetType="axisName",D.name=r,yt(E).eventData=D}i.add(E),E.updateTransform(),e.add(E),E.decomposeTransform()}}};function bPe(n,t,e,i){var r=X8(e-n),o,a,s=i[0]>i[1],l=t==="start"&&!s||t!=="start"&&s;return F3(r-Q0/2)?(a=l?"bottom":"top",o="center"):F3(r-Q0*1.5)?(a=l?"top":"bottom",o="center"):(a="middle",r<Q0*1.5&&r>Q0/2?o=l?"left":"right":o=l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}function xPe(n,t,e){if(!wb(n.axis)){var i=n.get(["axisLabel","showMinLabel"]),r=n.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var o=t[0],a=t[1],s=t[t.length-1],l=t[t.length-2],c=e[0],u=e[1],d=e[e.length-1],f=e[e.length-2];i===!1?(a1(o),a1(c)):Coe(o,a)&&(i?(a1(a),a1(u)):(a1(o),a1(c))),r===!1?(a1(s),a1(d)):Coe(l,s)&&(r?(a1(l),a1(f)):(a1(s),a1(d)))}}function a1(n){n&&(n.ignore=!0)}function Coe(n,t){var e=n&&n.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(!(!e||!i)){var r=H2([]);return b3(r,r,-n.rotation),e.applyTransform(Ga([],r,n.getLocalTransform())),i.applyTransform(Ga([],r,t.getLocalTransform())),e.intersect(i)}}function Soe(n){return n==="middle"||n==="center"}function woe(n,t,e,i,r){for(var o=[],a=[],s=[],l=0;l<n.length;l++){var c=n[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=e,t&&(Ti(a,a,t),Ti(s,s,t));var u=new pa({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});n4(u.shape,u.style.lineWidth),u.anid=r+"_"+n[l].tickValue,o.push(u)}return o}function CPe(n,t,e,i){var r=e.axis,o=e.getModel("axisTick"),a=o.get("show");if(a==="auto"&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick")),!(!a||r.scale.isBlank())){for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),c=r.getTicksCoords(),u=woe(c,t.transform,l,Ne(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)n.add(u[d]);return u}}function SPe(n,t,e,i){var r=e.axis,o=e.getModel("minorTick");if(!(!o.get("show")||r.scale.isBlank())){var a=r.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=i*o.get("length"),c=Ne(s.getLineStyle(),Ne(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var d=woe(a[u],t.transform,l,c,"minorticks_"+u),f=0;f<d.length;f++)n.add(d[f])}}function wPe(n,t,e,i){var r=e.axis,o=g0(i.axisLabelShow,e.get(["axisLabel","show"]));if(!(!o||r.scale.isBlank())){var a=e.getModel("axisLabel"),s=a.get("margin"),l=r.getViewLabels(),c=(g0(i.labelRotate,a.get("rotate"))||0)*Q0/180,u=x4.innerTextLayout(i.rotation,c,i.labelDirection),d=e.getCategories&&e.getCategories(!0),f=[],m=x4.isLabelSilent(e),v=e.get("triggerEvent");return R(l,function(_,b){var C=r.scale.type==="ordinal"?r.scale.getRawOrdinalNumber(_.tickValue):_.tickValue,w=_.formattedLabel,E=_.rawLabel,D=a;if(d&&d[C]){var L=d[C];we(L)&&L.textStyle&&(D=new $t(L.textStyle,a,e.ecModel))}var P=D.getTextColor()||e.get(["axisLine","lineStyle","color"]),F=r.dataToCoord(C),G=D.getShallow("align",!0)||u.textAlign,q=it(D.getShallow("alignMinLabel",!0),G),Y=it(D.getShallow("alignMaxLabel",!0),G),W=D.getShallow("verticalAlign",!0)||D.getShallow("baseline",!0)||u.textVerticalAlign,Z=it(D.getShallow("verticalAlignMinLabel",!0),W),te=it(D.getShallow("verticalAlignMaxLabel",!0),W),re=new qt({x:F,y:i.labelOffset+i.labelDirection*s,rotation:u.rotation,silent:m,z2:10+(_.level||0),style:Zr(D,{text:w,align:b===0?q:b===l.length-1?Y:G,verticalAlign:b===0?Z:b===l.length-1?te:W,fill:Ie(P)?P(r.type==="category"?E:r.type==="value"?C+"":C,b):P})});if(re.anid="label_"+C,k0({el:re,componentModel:e,itemName:w,formatterParamsExtra:{isTruncated:function(){return re.isTruncated},value:E,tickIndex:b}}),v){var ce=x4.makeAxisEventDataBase(e);ce.targetType="axisLabel",ce.value=E,ce.tickIndex=b,r.type==="category"&&(ce.dataIndex=C),yt(re).eventData=ce}t.add(re),re.updateTransform(),f.push(re),n.add(re),re.decomposeTransform()}),f}}var Rb=x4;function Moe(n,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return MPe(e,n,t),e.seriesInvolved&&EPe(e,n),e}function MPe(n,t,e){var i=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];R(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Id(s.model),c=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var u=s.model,d=u.getModel("tooltip",i);if(R(s.getAxes(),ct(_,!1,null)),s.getTooltipAxes&&i&&d.get("show")){var f=d.get("trigger")==="axis",m=d.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(d.get(["axisPointer","axis"]));(f||m)&&R(v.baseAxes,ct(_,m?"cross":!0,f)),m&&R(v.otherAxes,ct(_,"cross",!1))}function _(b,C,w){var E=w.model.getModel("axisPointer",r),D=E.get("show");if(!(!D||D==="auto"&&!b&&!Dk(E))){C==null&&(C=E.get("triggerTooltip")),E=b?TPe(w,d,r,t,b,C):E;var L=E.get("snap"),P=E.get("triggerEmphasis"),F=Id(w.model),G=C||L||w.type==="category",q=n.axesInfo[F]={key:F,axis:w,coordSys:s,axisPointerModel:E,triggerTooltip:C,triggerEmphasis:P,involveSeries:G,snap:L,useHandle:Dk(E),seriesModels:[],linkGroup:null};c[F]=q,n.seriesInvolved=n.seriesInvolved||G;var Y=DPe(o,w);if(Y!=null){var W=a[Y]||(a[Y]={axesInfo:{}});W.axesInfo[F]=q,W.mapper=o[Y].mapper,q.linkGroup=W}}}})}function TPe(n,t,e,i,r,o){var a=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};R(s,function(f){l[f]=ke(a.get(f))}),l.snap=n.type!=="category"&&!!o,a.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),r==="cross"){var u=a.get(["label","show"]);if(c.show=u??!0,!o){var d=l.lineStyle=a.get("crossStyle");d&&Ne(c,d.textStyle)}}return n.model.getModel("axisPointer",new $t(l,e,i))}function EPe(n,t){t.eachSeries(function(e){var i=e.coordinateSystem,r=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);!i||r==="none"||r===!1||r==="item"||o===!1||e.get(["axisPointer","show"],!0)===!1||R(n.coordSysAxesInfo[Id(i.model)],function(a){var s=a.axis;i.getAxis(s.dim)===s&&(a.seriesModels.push(e),a.seriesDataCount==null&&(a.seriesDataCount=0),a.seriesDataCount+=e.getData().count())})})}function DPe(n,t){for(var e=t.model,i=t.dim,r=0;r<n.length;r++){var o=n[r]||{};if(Ek(o[i+"AxisId"],e.id)||Ek(o[i+"AxisIndex"],e.componentIndex)||Ek(o[i+"AxisName"],e.name))return r}}function Ek(n,t){return n==="all"||pe(n)&&qe(n,t)>=0||n===t}function Toe(n){var t=Fb(n);if(t){var e=t.axisPointerModel,i=t.axis.scale,r=e.option,o=e.get("status"),a=e.get("value");a!=null&&(a=i.parse(a));var s=Dk(e);o==null&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function Fb(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Id(n)]}function Eoe(n){var t=Fb(n);return t&&t.axisPointerModel}function Dk(n){return!!n.get(["handle","show"])}function Id(n){return n.type+"||"+n.id}var Doe={},IPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,i,r,o){this.axisPointerClass&&Toe(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,i,r,o){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,i){var r=this._axisPointer;r&&r.remove(i)},t.prototype.dispose=function(e,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,i,r){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=Eoe(e);a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,i,r):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,i){Doe[e]=i},t.getAxisPointerClass=function(e){return e&&Doe[e]},t.type="axis",t})(Kn),Bb=IPe;var Lk=Ot();function Ioe(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var u=s.length,d=Lk(n).splitAreaColors,f=Le(),m=0;if(d)for(var v=0;v<c.length;v++){var _=d.get(c[v].tickValue);if(_!=null){m=(_+(u-1)*v)%u;break}}var b=r.toGlobalCoord(c[0].coord),C=a.getAreaStyle();s=pe(s)?s:[s];for(var v=1;v<c.length;v++){var w=r.toGlobalCoord(c[v].coord),E=void 0,D=void 0,L=void 0,P=void 0;r.isHorizontal()?(E=b,D=l.y,L=w-E,P=l.height,b=E+L):(E=l.x,D=b,L=l.width,P=w-D,b=D+P);var F=c[v-1].tickValue;F!=null&&f.set(F,m),t.add(new Tt({anid:F!=null?"area_"+F:null,shape:{x:E,y:D,width:L,height:P},style:Ne({fill:s[m]},C),autoBatch:!0,silent:!0})),m=(m+1)%u}Lk(n).splitAreaColors=f}}}function Loe(n){Lk(n).splitAreaColors=null}var LPe=["axisLine","axisTickLabel","axisName"],APe=["splitArea","splitLine","minorSplitLine"],Aoe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Pt,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=o7(s,e),c=new Rb(e,fe({handleAutoShown:function(d){for(var f=s.coordinateSystem.getCartesians(),m=0;m<f.length;m++)if(Qp(f[m].getOtherAxis(e.axis).scale))return!0;return!1}},l));R(LPe,c.add,c),this._axisGroup.add(c.getGroup()),R(APe,function(d){e.get([d,"show"])&&zPe[d](this,this._axisGroup,e,s)},this);var u=o&&o.type==="changeAxisOrder"&&o.isInitSort;u||cA(a,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)}},t.prototype.remove=function(){Loe(this)},t.type="cartesianAxis",t})(Bb),zPe={splitLine:function(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color"),l=o.get("showMinLine")!==!1,c=o.get("showMaxLine")!==!1;s=pe(s)?s:[s];for(var u=i.coordinateSystem.getRect(),d=r.isHorizontal(),f=0,m=r.getTicksCoords({tickModel:o}),v=[],_=[],b=a.getLineStyle(),C=0;C<m.length;C++){var w=r.toGlobalCoord(m[C].coord);if(!(C===0&&!l||C===m.length-1&&!c)){var E=m[C].tickValue;d?(v[0]=w,v[1]=u.y,_[0]=w,_[1]=u.y+u.height):(v[0]=u.x,v[1]=w,_[0]=u.x+u.width,_[1]=w);var D=f++%s.length,L=new pa({anid:E!=null?"line_"+E:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:_[0],y2:_[1]},style:Ne({stroke:s[D]},b),silent:!0});n4(L.shape,b.lineWidth),t.add(L)}}}},minorSplitLine:function(n,t,e,i){var r=e.axis,o=e.getModel("minorSplitLine"),a=o.getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var u=[],d=[],f=a.getLineStyle(),m=0;m<c.length;m++)for(var v=0;v<c[m].length;v++){var _=r.toGlobalCoord(c[m][v].coord);l?(u[0]=_,u[1]=s.y,d[0]=_,d[1]=s.y+s.height):(u[0]=s.x,u[1]=_,d[0]=s.x+s.width,d[1]=_);var b=new pa({anid:"minor_line_"+c[m][v].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:f,silent:!0});n4(b.shape,f.lineWidth),t.add(b)}},splitArea:function(n,t,e,i){Ioe(n,t,e,i)}},Ak=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t})(Aoe);var zoe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Ak.type,e}return t.type="yAxis",t})(Aoe);var kPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,i){this.group.removeAll(),e.get("show")&&this.group.add(new Tt({shape:e.coordinateSystem.getRect(),style:Ne({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(Kn),koe={offset:0};function Noe(n){n.registerComponentView(kPe),n.registerComponentModel(soe),n.registerCoordinateSystem("cartesian2d",boe),Pb(n,"x",Nb,koe),Pb(n,"y",Nb,koe),n.registerComponentView(Ak),n.registerComponentView(zoe),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var Poe="\0_ec_interaction_mutex";function Ooe(n,t,e){var i=kk(n);i[t]=e}function Roe(n,t,e){var i=kk(n),r=i[t];r===e&&(i[t]=null)}function zk(n,t){return!!kk(n)[t]}function kk(n){return n[Poe]||(n[Poe]={})}no({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},fi);var NPe=(function(n){de(t,n);function t(e){var i=n.call(this)||this;i._zr=e;var r=ze(i._mousedownHandler,i),o=ze(i._mousemoveHandler,i),a=ze(i._mouseupHandler,i),s=ze(i._mousewheelHandler,i),l=ze(i._pinchHandler,i);return i.enable=function(c,u){this.disable(),this._opt=Ne(ke(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),c==null&&(c=!0),(c===!0||c==="move"||c==="pan")&&(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a)),(c===!0||c==="scale"||c==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},i.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",l)},i}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!LI(e)){for(var i=e.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=e.offsetX,o=e.offsetY;this.pointerChecker&&this.pointerChecker(e,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!Vb("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||zk(this._zr,"globalPan"))){var i=e.offsetX,r=e.offsetY,o=this._x,a=this._y,s=i-o,l=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&Es(e.event),Boe(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){LI(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var i=Vb("zoomOnMouseWheel",e,this._opt),r=Vb("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,a=Math.abs(o),s=e.offsetX,l=e.offsetY;if(!(o===0||!i&&!r)){if(i){var c=a>3?1.4:a>1?1.2:1.1,u=o>0?c:1/c;Nk(this,"zoom","zoomOnMouseWheel",e,{scale:u,originX:s,originY:l,isAvailableBehavior:null})}if(r){var d=Math.abs(o),f=(o>0?1:-1)*(d>3?.4:d>1?.15:.05);Nk(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:f,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!zk(this._zr,"globalPan")){var i=e.pinchScale>1?1.1:1/1.1;Nk(this,"zoom",null,e,{scale:i,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t})(Ei);function Nk(n,t,e,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(Es(i.event),Boe(n,t,e,i,r))}function Boe(n,t,e,i,r){r.isAvailableBehavior=ze(Vb,null,e,i),n.trigger(t,r)}function Vb(n,t,e){var i=e[n];return!n||i&&(!_e(i)||t.event[i+"Key"])}var Voe=NPe;var PPe={axisPointer:1,tooltip:1,brush:1};function Uoe(n,t,e){var i=t.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==e&&!PPe.hasOwnProperty(i.mainType)&&r&&r.model!==e}function Gs(n,t,e,i,r,o){n=n||0;var a=e[1]-e[0];if(r!=null&&(r=Ld(r,[0,a])),o!=null&&(o=Math.max(o,r??0)),i==="all"){var s=Math.abs(t[1]-t[0]);s=Ld(s,[0,a]),r=o=Ld(s,[r,o]),i=0}t[0]=Ld(t[0],e),t[1]=Ld(t[1],e);var l=Pk(t,i);t[i]+=n;var c=r||0,u=e.slice();l.sign<0?u[0]+=c:u[1]-=c,t[i]=Ld(t[i],u);var d;return d=Pk(t,i),r!=null&&(d.sign!==l.sign||d.span<r)&&(t[1-i]=t[i]+l.sign*r),d=Pk(t,i),o!=null&&d.span>o&&(t[1-i]=t[i]+d.sign*o),t}function Pk(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Ld(n,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,n))}var C4=!0,a7=Math.min,Ad=Math.max,OPe=Math.pow,RPe=1e4,FPe=6,BPe=6,Hoe="globalPan",VPe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},UPe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},joe={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},HPe=0,jPe=(function(n){de(t,n);function t(e){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=e,i.group=new Pt,i._uid="brushController_"+HPe++,R(XPe,function(r,o){this._handlers[o]=ze(r,this)},i),i}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var i=this._zr;this._enableGlobalPan||Ooe(i,Hoe,this._uid),R(this._handlers,function(r,o){i.on(o,r)}),this._brushType=e.brushType,this._brushOption=je(ke(joe),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;Roe(e,Hoe,this._uid),R(this._handlers,function(i,r){e.off(r,i)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var i=this._panels={};R(e,function(r){i[r.panelId]=ke(r)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=i.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=ge(e,function(f){return je(ke(joe),f,!0)});var i="\0-brush-index-",r=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new Md(r,e,c,l).add(u).update(u).remove(d).execute(),this;function l(f,m){return(f.id!=null?f.id:i+m)+"-"+f.brushType}function c(f,m){return l(f.__brushOption,m)}function u(f,m){var v=e[f];if(m!=null&&r[m]===s)o[f]=r[m];else{var _=o[f]=m!=null?(r[m].__brushOption=v,r[m]):Zoe(a,Yoe(a,v));Uk(a,_)}}function d(f){r[f]!==s&&a.group.remove(r[f])}},t.prototype.unmount=function(){return this.enableBrush(!1),Ok(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t})(Ei);function Yoe(n,t){var e=Ub[t.brushType].createCover(n,t);return e.__brushOption=t,Qoe(e,t),n.group.add(e),e}function Zoe(n,t){var e=Hk(t);return e.endCreating&&(e.endCreating(n,t),Qoe(t,t.__brushOption)),t}function Xoe(n,t){var e=t.__brushOption;Hk(t).updateCoverShape(n,t,e.range,e)}function Qoe(n,t){var e=t.z;e==null&&(e=RPe),n.traverse(function(i){i.z=e,i.z2=e})}function Uk(n,t){Hk(t).updateCommon(n,t),Xoe(n,t)}function Hk(n){return Ub[n.__brushOption.brushType]}function jk(n,t,e){var i=n._panels;if(!i)return C4;var r,o=n._transform;return R(i,function(a){a.isTargetByCursor(t,e,o)&&(r=a)}),r}function Koe(n,t){var e=n._panels;if(!e)return C4;var i=t.__brushOption.panelId;return i!=null?e[i]:C4}function Ok(n){var t=n._covers,e=t.length;return R(t,function(i){n.group.remove(i)},n),t.length=0,!!e}function S4(n,t){var e=ge(n._covers,function(i){var r=i.__brushOption,o=ke(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function GPe(n){var t=n._track;if(!t.length)return!1;var e=t[t.length-1],i=t[0],r=e[0]-i[0],o=e[1]-i[1],a=OPe(r*r+o*o,.5);return a>FPe}function Joe(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function eae(n,t,e,i){var r=new Pt;return r.add(new Tt({name:"main",style:Gk(e),silent:!0,draggable:!0,cursor:"move",drift:ct(Goe,n,t,r,["n","s","w","e"]),ondragend:ct(S4,t,{isEnd:!0})})),R(i,function(o){r.add(new Tt({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ct(Goe,n,t,r,o),ondragend:ct(S4,t,{isEnd:!0})}))}),r}function tae(n,t,e,i){var r=i.brushStyle.lineWidth||0,o=Ad(r,BPe),a=e[0][0],s=e[1][0],l=a-r/2,c=s-r/2,u=e[0][1],d=e[1][1],f=u-o+r/2,m=d-o+r/2,v=u-a,_=d-s,b=v+r,C=_+r;ll(n,t,"main",a,s,v,_),i.transformable&&(ll(n,t,"w",l,c,o,C),ll(n,t,"e",f,c,o,C),ll(n,t,"n",l,c,b,o),ll(n,t,"s",l,m,b,o),ll(n,t,"nw",l,c,o,o),ll(n,t,"ne",f,c,o,o),ll(n,t,"sw",l,m,o,o),ll(n,t,"se",f,m,o,o))}function Rk(n,t){var e=t.__brushOption,i=e.transformable,r=t.childAt(0);r.useStyle(Gk(e)),r.attr({silent:!i,cursor:i?"move":"default"}),R([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=t.childOfName(o.join("")),s=o.length===1?Fk(n,o[0]):qPe(n,o);a&&a.attr({silent:!i,invisible:!i,cursor:i?UPe[s]+"-resize":null})})}function ll(n,t,e,i,r,o,a){var s=t.childOfName(e);s&&s.setShape(YPe(Wk(n,t,[[i,r],[i+o,r+a]])))}function Gk(n){return Ne({strokeNoScale:!0},n.brushStyle)}function nae(n,t,e,i){var r=[a7(n,e),a7(t,i)],o=[Ad(n,e),Ad(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function WPe(n){return J2(n.group)}function Fk(n,t){var e={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},r=_p(e[t],WPe(n));return i[r]}function qPe(n,t){var e=[Fk(n,t[0]),Fk(n,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function Goe(n,t,e,i,r,o){var a=e.__brushOption,s=n.toRectRange(a.range),l=iae(t,r,o);R(i,function(c){var u=VPe[c];s[u[0]][u[1]]+=l[u[0]]}),a.range=n.fromRectRange(nae(s[0][0],s[1][0],s[0][1],s[1][1])),Uk(t,e),S4(t,{isEnd:!1})}function $Pe(n,t,e,i){var r=t.__brushOption.range,o=iae(n,e,i);R(r,function(a){a[0]+=o[0],a[1]+=o[1]}),Uk(n,t),S4(n,{isEnd:!1})}function iae(n,t,e){var i=n.group,r=i.transformCoordToLocal(t,e),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function Wk(n,t,e){var i=Koe(n,t);return i&&i!==C4?i.clipPath(e,n._transform):ke(e)}function YPe(n){var t=a7(n[0][0],n[1][0]),e=a7(n[0][1],n[1][1]),i=Ad(n[0][0],n[1][0]),r=Ad(n[0][1],n[1][1]);return{x:t,y:e,width:i-t,height:r-e}}function ZPe(n,t,e){if(!(!n._brushType||QPe(n,t.offsetX,t.offsetY))){var i=n._zr,r=n._covers,o=jk(n,t,e);if(!n._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(o===C4||s.panelId===o.panelId)&&Ub[s.brushType].contain(r[a],e[0],e[1]))return}o&&i.setCursorStyle("crosshair")}}function Bk(n){var t=n.event;t.preventDefault&&t.preventDefault()}function Vk(n,t,e){return n.childOfName("main").contain(t,e)}function rae(n,t,e,i){var r=n._creatingCover,o=n._creatingPanel,a=n._brushOption,s;if(n._track.push(e.slice()),GPe(n)||r){if(o&&!r){a.brushMode==="single"&&Ok(n);var l=ke(a);l.brushType=Woe(l.brushType,o),l.panelId=o===C4?null:o.panelId,r=n._creatingCover=Yoe(n,l),n._covers.push(r)}if(r){var c=Ub[Woe(n._brushType,o)],u=r.__brushOption;u.range=c.getCreatingRange(Wk(n,r,n._track)),i&&(Zoe(n,r),c.updateCommon(n,r)),Xoe(n,r),s={isEnd:i}}}else i&&a.brushMode==="single"&&a.removeOnClick&&jk(n,t,e)&&Ok(n)&&(s={isEnd:i,removeOnClick:!0});return s}function Woe(n,t){return n==="auto"?t.defaultBrushType:n}var XPe={mousedown:function(n){if(this._dragging)qoe(this,n);else if(!n.target||!n.target.draggable){Bk(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var e=this._creatingPanel=jk(this,n,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var t=n.offsetX,e=n.offsetY,i=this.group.transformCoordToLocal(t,e);if(ZPe(this,n,i),this._dragging){Bk(n);var r=rae(this,n,i,!1);r&&S4(this,r)}},mouseup:function(n){qoe(this,n)}};function qoe(n,t){if(n._dragging){Bk(t);var e=t.offsetX,i=t.offsetY,r=n.group.transformCoordToLocal(e,i),o=rae(n,t,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&S4(n,o)}}function QPe(n,t,e){var i=n._zr;return t<0||t>i.getWidth()||e<0||e>i.getHeight()}var Ub={lineX:$oe(0),lineY:$oe(1),rect:{createCover:function(n,t){function e(i){return i}return eae({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=Joe(n);return nae(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,i){tae(n,t,e,i)},updateCommon:Rk,contain:Vk},polygon:{createCover:function(n,t){var e=new Pt;return e.add(new K2({name:"main",style:Gk(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new Q2({name:"main",draggable:!0,drift:ct($Pe,n,t),ondragend:ct(S4,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,i){t.childAt(0).setShape({points:Wk(n,t,e)})},updateCommon:Rk,contain:Vk}};function $oe(n){return{createCover:function(t,e){return eae({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=Joe(t),i=a7(e[0][n],e[1][n]),r=Ad(e[0][n],e[1][n]);return[i,r]},updateCoverShape:function(t,e,i,r){var o,a=Koe(t,e);if(a!==C4&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[i,o];n&&l.reverse(),tae(t,e,l,r)},updateCommon:Rk,contain:Vk}}var oae=jPe;function aae(n){return n=qk(n),function(t){return bp(t,n)}}function sae(n,t){return n=qk(n),function(e){var i=t??e,r=i?n.width:n.height,o=i?n.x:n.y;return[o,o+(r||0)]}}function lae(n,t,e){var i=qk(n);return function(r,o){return i.contain(o[0],o[1])&&!Uoe(r,t,e)}}function qk(n){return Je.create(n)}var w4=Ot(),cae=ke,$k=ze,JPe=(function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,i,r){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,!(!r&&this._lastValue===o&&this._lastStatus===a)){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||a==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var c={};this.makeElOption(c,o,t,e,i);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(t,e);if(!s)s=this._group=new Pt,this.createPointerEl(s,c,t,e),this.createLabelEl(s,c,t,e),i.getZr().add(s);else{var f=ct(uae,e,d);this.updatePointerEl(s,c,f),this.updateLabelEl(s,c,f,e)}fae(s,e,!0),this._renderHandle(o)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var i=e.get("animation"),r=t.axis,o=r.type==="category",a=e.get("snap");if(!a&&!o)return!1;if(i==="auto"||i==null){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=Fb(t).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return i===!0},n.prototype.makeElOption=function(t,e,i,r,o){},n.prototype.createPointerEl=function(t,e,i,r){var o=e.pointer;if(o){var a=w4(t).pointerEl=new li[o.type](cae(e.pointer));t.add(a)}},n.prototype.createLabelEl=function(t,e,i,r){if(e.label){var o=w4(t).labelEl=new qt(cae(e.label));t.add(o),dae(o,r)}},n.prototype.updatePointerEl=function(t,e,i){var r=w4(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),i(r,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,i,r){var o=w4(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),dae(o,r))},n.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=e.getModel("handle"),a=e.get("status");if(!o.get("show")||!a||a==="hide"){r&&i.remove(r),this._handle=null;return}var s;this._handle||(s=!0,r=this._handle=el(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){Es(c.event)},onmousedown:$k(this._onHandleDragMove,this,0,0),drift:$k(this._onHandleDragMove,this),ondragend:$k(this._onHandleDragEnd,this)}),i.add(r)),fae(r,e,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");pe(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,V0(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},n.prototype._moveHandleToValue=function(t,e){uae(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Yk(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(Yk(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(Yk(r)),w4(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,r=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),m4(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}},n})();function uae(n,t,e,i){pae(w4(e).lastProp,i)||(w4(e).lastProp=i,t?mi(e,i,n):(e.stopAnimation(),e.attr(i)))}function pae(n,t){if(we(n)&&we(t)){var e=!0;return R(t,function(i,r){e=e&&pae(n[r],i)}),!!e}else return n===t}function dae(n,t){n[t.get(["label","show"])?"show":"hide"]()}function Yk(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function fae(n,t,e){var i=t.get("z"),r=t.get("zlevel");n&&n.traverse(function(o){o.type!=="group"&&(i!=null&&(o.z=i),r!=null&&(o.zlevel=r),o.silent=e)})}var mae=JPe;function hae(n){var t=n.get("type"),e=n.getModel(t+"Style"),i;return t==="line"?(i=e.getLineStyle(),i.fill=null):t==="shadow"&&(i=e.getAreaStyle(),i.stroke=null),i}function eOe(n,t,e,i,r){var o=e.get("value"),a=Zk(o,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=Us(s.get("padding")||0),c=s.getFont(),u=S0(a,c),d=r.position,f=u.width+l[1]+l[3],m=u.height+l[0]+l[2],v=r.align;v==="right"&&(d[0]-=f),v==="center"&&(d[0]-=f/2);var _=r.verticalAlign;_==="bottom"&&(d[1]-=m),_==="middle"&&(d[1]-=m/2),tOe(d,f,m,i);var b=s.get("backgroundColor");(!b||b==="auto")&&(b=t.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:Zr(s,{text:a,font:c,fill:s.getTextColor(),padding:l,backgroundColor:b}),z2:10}}function tOe(n,t,e,i){var r=i.getWidth(),o=i.getHeight();n[0]=Math.min(n[0]+t,r)-t,n[1]=Math.min(n[1]+e,o)-e,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function Zk(n,t,e,i,r){n=t.scale.parse(n);var o=t.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var s={value:e7(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};R(i,function(l){var c=e.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,d=c&&c.getDataParams(u);d&&s.seriesData.push(d)}),_e(a)?o=a.replace("{value}",o):Ie(a)&&(o=a(s))}return o}function Xk(n,t,e){var i=L1();return b3(i,i,e.rotation),Ru(i,i,e.position),i4([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],i)}function gae(n,t,e,i,r,o){var a=Rb.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),eOe(t,i,r,o,{position:Xk(i.axis,n,e),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function vae(n,t,e){return e=e||0,{x1:n[e],y1:n[1-e],x2:t[e],y2:t[1-e]}}function yae(n,t,e){return e=e||0,{x:n[e],y:n[1-e],width:t[e],height:t[1-e]}}var nOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis,l=s.grid,c=o.get("type"),u=bae(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(i,!0));if(c&&c!=="none"){var f=hae(o),m=iOe[c](s,d,u);m.style=f,e.graphicKey=m.type,e.pointer=m}var v=o7(l.model,r);gae(i,e,v,r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=o7(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=Xk(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),c=bae(s,a).getOtherAxis(a).getGlobalExtent(),u=a.dim==="x"?0:1,d=[e.x,e.y];d[u]+=i[u],d[u]=Math.min(l[1],d[u]),d[u]=Math.max(l[0],d[u]);var f=(c[1]+c[0])/2,m=[f,f];m[u]=d[u];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:e.rotation,cursorPoint:m,tooltipOption:v[u]}},t})(mae);function bae(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var iOe={line:function(n,t,e){var i=vae([t,e[0]],[t,e[1]],xae(n));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(n,t,e){var i=Math.max(1,n.getBandWidth()),r=e[1]-e[0];return{type:"Rect",shape:yae([t-i/2,e[0]],[i,r],xae(n))}}};function xae(n){return n.dim==="x"?0:1}var Cae=nOe;var rOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t})(kt),Sae=rOe;var cl=Ot(),oOe=R;function Hb(n,t,e){if(!Be.node){var i=t.getZr();cl(i).records||(cl(i).records={}),aOe(i,t);var r=cl(i).records[n]||(cl(i).records[n]={});r.handler=e}}function aOe(n,t){if(cl(n).initialized)return;cl(n).initialized=!0,e("click",ct(wae,"click")),e("mousemove",ct(wae,"mousemove")),e("globalout",lOe);function e(i,r){n.on(i,function(o){var a=cOe(t);oOe(cl(n).records,function(s){s&&r(s,o,a.dispatchAction)}),sOe(a.pendings,t)})}}function sOe(n,t){var e=n.showTip.length,i=n.hideTip.length,r;e?r=n.showTip[e-1]:i&&(r=n.hideTip[i-1]),r&&(r.dispatchAction=null,t.dispatchAction(r))}function lOe(n,t,e){n.handler("leave",null,e)}function wae(n,t,e,i){t.handler(n,e,i)}function cOe(n){var t={showTip:[],hideTip:[]},e=function(i){var r=t[i.type];r?r.push(i):(i.dispatchAction=e,n.dispatchAction(i))};return{dispatchAction:e,pendings:t}}function s7(n,t){if(!Be.node){var e=t.getZr(),i=(cl(e).records||{})[n];i&&(cl(e).records[n]=null)}}var uOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,i,r){var o=i.getComponent("tooltip"),a=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";Hb("axisPointer",r,function(s,l,c){a!=="none"&&(s==="leave"||a.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,i){s7("axisPointer",i)},t.prototype.dispose=function(e,i){s7("axisPointer",i)},t.type="axisPointer",t})(Kn),Tae=uOe;function l7(n,t){var e=[],i=n.seriesIndex,r;if(i==null||!(r=t.getSeriesByIndex(i)))return{point:[]};var o=r.getData(),a=Za(o,n);if(a==null||a<0||pe(a))return{point:[]};var s=o.getItemGraphicEl(a),l=r.coordinateSystem;if(r.getTooltipPosition)e=r.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),d=u.dim,f=c.dim,m=d==="x"||d==="radius"?1:0,v=o.mapDimension(f),_=[];_[m]=o.get(v,a),_[1-m]=o.get(o.getCalculationInfo("stackResultDimension"),a),e=l.dataToPoint(_)||[]}else e=l.dataToPoint(o.getValues(ge(l.dimensions,function(C){return o.mapDimension(C)}),a))||[];else if(s){var b=s.getBoundingRect().clone();b.applyTransform(s.transform),e=[b.x+b.width/2,b.y+b.height/2]}return{point:e,el:s}}var Eae=Ot();function Qk(n,t,e){var i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||ze(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){jb(r)&&(r=l7({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=jb(r),c=o.axesInfo,u=s.axesInfo,d=i==="leave"||jb(r),f={},m={},v={list:[],map:{}},_={showPointer:ct(fOe,m),showTooltip:ct(pOe,v)};R(s.coordSysMap,function(C,w){var E=l||C.containPoint(r);R(s.coordSysAxesInfo[w],function(D,L){var P=D.axis,F=vOe(c,D);if(!d&&E&&(!c||F)){var G=F&&F.value;G==null&&!l&&(G=P.pointToData(r)),G!=null&&Dae(D,G,_,!1,f)}})});var b={};return R(u,function(C,w){var E=C.linkGroup;E&&!m[w]&&R(E.axesInfo,function(D,L){var P=m[L];if(D!==C&&P){var F=P.value;E.mapper&&(F=C.axis.scale.parse(E.mapper(F,Iae(D),Iae(C)))),b[C.key]=F}})}),R(b,function(C,w){Dae(u[w],C,_,!0,f)}),mOe(m,u,f),hOe(v,r,n,a),gOe(u,a,e),f}}function Dae(n,t,e,i,r){var o=n.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!n.involveSeries){e.showPointer(n,t);return}var a=dOe(t,n),s=a.payloadBatch,l=a.snapToValue;s[0]&&r.seriesIndex==null&&fe(r,s[0]),!i&&n.snap&&o.containData(l)&&l!=null&&(t=l),e.showPointer(n,t,s),e.showTooltip(n,a,l)}}function dOe(n,t){var e=t.axis,i=e.dim,r=n,o=[],a=Number.MAX_VALUE,s=-1;return R(t.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(i),d,f;if(l.getAxisTooltipData){var m=l.getAxisTooltipData(u,n,e);f=m.dataIndices,d=m.nestestValue}else{if(f=l.getData().indicesOfNearest(u[0],n,e.type==="category"?.5:null),!f.length)return;d=l.getData().get(u[0],f[0])}if(!(d==null||!isFinite(d))){var v=n-d,_=Math.abs(v);_<=a&&((_<a||v>=0&&s<0)&&(a=_,s=v,r=d,o.length=0),R(f,function(b){o.push({seriesIndex:l.seriesIndex,dataIndexInside:b,dataIndex:l.getData().getRawIndex(b)})}))}}),{payloadBatch:o,snapToValue:r}}function fOe(n,t,e,i){n[t.key]={value:e,payloadBatch:i}}function pOe(n,t,e,i){var r=e.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!r.length)){var l=t.coordSys.model,c=Id(l),u=n.map[c];u||(u=n.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function mOe(n,t,e){var i=e.axesInfo=[];R(t,function(r,o){var a=r.axisPointerModel.option,s=n[o];s?(!r.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(a.status="hide"),a.status==="show"&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:a.value})})}function hOe(n,t,e,i){if(jb(t)||!n.list.length){i({type:"hideTip"});return}var r=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:n.list})}function gOe(n,t,e){var i=e.getZr(),r="axisPointerLastHighlights",o=Eae(i)[r]||{},a=Eae(i)[r]={};R(n,function(c,u){var d=c.axisPointerModel.option;d.status==="show"&&c.triggerEmphasis&&R(d.seriesDataIndices,function(f){var m=f.seriesIndex+" | "+f.dataIndex;a[m]=f})});var s=[],l=[];R(o,function(c,u){!a[u]&&l.push(c)}),R(a,function(c,u){!o[u]&&s.push(c)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function vOe(n,t){for(var e=0;e<(n||[]).length;e++){var i=n[e];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}function Iae(n){var t=n.axis.model,e={},i=e.axisDim=n.axis.dim;return e.axisIndex=e[i+"AxisIndex"]=t.componentIndex,e.axisName=e[i+"AxisName"]=t.name,e.axisId=e[i+"AxisId"]=t.id,e}function jb(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function Gb(n){Bb.registerAxisPointerClass("CartesianAxisPointer",Cae),n.registerComponentModel(Sae),n.registerComponentView(Tae),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!pe(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Moe(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Qk)}function Kk(n){Fi(Noe),Fi(Gb)}var Jk=["x","y","radius","angle","single"],yOe=["cartesian2d","polar","singleAxis"];function Lae(n){var t=n.get("coordinateSystem");return qe(yOe,t)>=0}function s1(n){return n+"Axis"}function Aae(n,t){var e=Le(),i=[],r=Le();n.eachComponent({mainType:"dataZoom",query:t},function(u){r.get(u.uid)||s(u)});var o;do o=!1,n.eachComponent("dataZoom",a);while(o);function a(u){!r.get(u.uid)&&l(u)&&(s(u),o=!0)}function s(u){r.set(u.uid,!0),i.push(u),c(u)}function l(u){var d=!1;return u.eachTargetAxis(function(f,m){var v=e.get(f);v&&v[m]&&(d=!0)}),d}function c(u){u.eachTargetAxis(function(d,f){(e.get(d)||e.set(d,[]))[f]=!0})}return i}function Wb(n){var t=n.ecModel,e={infoList:[],infoMap:Le()};return n.eachTargetAxis(function(i,r){var o=t.getComponent(s1(i),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=e.infoMap.get(s);l||(l={model:a,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(o)}}}),e}var eN=(function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n})(),_Oe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,i,r){var o=zae(e);this.settledOption=o,this.mergeDefaultAndTheme(e,r),this._doInit(o)},t.prototype.mergeOption=function(e){var i=zae(e);je(this.option,e,!0),je(this.settledOption,i,!0),this._doInit(i)},t.prototype._doInit=function(e){var i=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;R([["start","startValue"],["end","endValue"]],function(o,a){this._rangePropMode[a]==="value"&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),i=this._targetAxisInfoMap=Le(),r=this._fillSpecifiedTargetAxis(i);r?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var i=!1;return R(Jk,function(r){var o=this.getReferringComponents(s1(r),hJ);if(o.specified){i=!0;var a=new eN;R(o.models,function(s){a.add(s.componentIndex)}),e.set(r,a)}},this),i},t.prototype._fillAutoTargetAxisByOrient=function(e,i){var r=this.ecModel,o=!0;if(o){var a=i==="vertical"?"y":"x",s=r.findComponents({mainType:a+"Axis"});l(s,a)}if(o){var s=r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===i}});l(s,"single")}function l(c,u){var d=c[0];if(d){var f=new eN;if(f.add(d.componentIndex),e.set(u,f),o=!1,u==="x"||u==="y"){var m=d.getReferringComponents("grid",si).models[0];m&&R(c,function(v){d.componentIndex!==v.componentIndex&&m===v.getReferringComponents("grid",si).models[0]&&f.add(v.componentIndex)})}}}o&&R(Jk,function(c){if(o){var u=r.findComponents({mainType:s1(c),filter:function(f){return f.get("type",!0)==="category"}});if(u[0]){var d=new eN;d.add(u[0].componentIndex),e.set(c,d),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(i){!e&&(e=i)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var i=this._rangePropMode,r=this.get("rangeMode");R([["start","startValue"],["end","endValue"]],function(o,a){var s=e[o[0]]!=null,l=e[o[1]]!=null;s&&!l?i[a]="percent":!s&&l?i[a]="value":r?i[a]=r[a]:s&&(i[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(i,r){e==null&&(e=this.ecModel.getComponent(s1(i),r))},this),e},t.prototype.eachTargetAxis=function(e,i){this._targetAxisInfoMap.each(function(r,o){R(r.indexList,function(a){e.call(i,o,a)})})},t.prototype.getAxisProxy=function(e,i){var r=this.getAxisModel(e,i);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,i){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[i])return this.ecModel.getComponent(s1(e),i)},t.prototype.setRawRange=function(e){var i=this.option,r=this.settledOption;R([["start","startValue"],["end","endValue"]],function(o){(e[o[0]]!=null||e[o[1]]!=null)&&(i[o[0]]=r[o[0]]=e[o[0]],i[o[1]]=r[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var i=this.option;R(["start","startValue","end","endValue"],function(r){i[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,i){if(e==null&&i==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(e,i).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var c=this.getAxisProxy(a,s.indexList[l]);if(c.hostedBy(this))return c;i||(i=c)}return i},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(kt);function zae(n){var t={};return R(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var K0=_Oe;var bOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(K0),kae=bOe;var xOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,i,r,o){this.dataZoomModel=e,this.ecModel=i,this.api=r},t.type="dataZoom",t})(Kn),zd=xOe;var COe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(zd),Nae=COe;var kd=R,Pae=$2,SOe=(function(){function n(t,e,i,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(Lae(e)){var i=s1(this._dimName),r=e.getReferringComponents(i,si).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return ke(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e=this._dataExtent,i=this.getAxisModel(),r=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[],c;kd(["start","end"],function(f,m){var v=t[f],_=t[f+"Value"];o[m]==="percent"?(v==null&&(v=a[m]),_=r.parse(Di(v,a,e))):(c=!0,_=_==null?e[m]:r.parse(_),v=Di(_,e,a)),l[m]=_==null||isNaN(_)?e[m]:_,s[m]=v==null||isNaN(v)?a[m]:v}),Pae(l),Pae(s);var u=this._minMaxSpan;c?d(l,s,e,a,!1):d(s,l,a,e,!0);function d(f,m,v,_,b){var C=b?"Span":"ValueSpan";Gs(0,f,v,"all",u["min"+C],u["max"+C]);for(var w=0;w<2;w++)m[w]=Di(f[w],v,_,!0),b&&(m[w]=r.parse(m[w]))}return{valueWindow:l,percentWindow:s}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=wOe(this,this._dimName,e),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var i=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;if(o==="none")return;kd(r,function(l){var c=l.getData(),u=c.mapDimensionsAll(i);if(u.length){if(o==="weakFilter"){var d=c.getStore(),f=ge(u,function(m){return c.getDimensionIndex(m)},c);c.filterSelf(function(m){for(var v,_,b,C=0;C<u.length;C++){var w=d.get(f[C],m),E=!isNaN(w),D=w<a[0],L=w>a[1];if(E&&!D&&!L)return!0;E&&(b=!0),D&&(v=!0),L&&(_=!0)}return b&&v&&_})}else kd(u,function(m){if(o==="empty")l.setData(c=c.map(m,function(_){return s(_)?_:NaN}));else{var v={};v[m]=a,c.selectRange(v)}});kd(u,function(m){c.setApproximateExtent(a,m)})}});function s(l){return l>=a[0]&&l<=a[1]}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,i=this._dataExtent;kd(["min","max"],function(r){var o=e.get(r+"Span"),a=e.get(r+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?o=Di(i[0]+a,i,[0,100],!0):o!=null&&(a=Di(o,[0,100],i,!0)-i[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,i=this._valueWindow;if(e){var r=Wu(i,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;e[0]!==0&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),e[1]!==100&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n})();function wOe(n,t,e){var i=[1/0,-1/0];kd(e,function(a){lre(i,a.getData(),t)});var r=n.getAxisModel(),o=xb(r.axis.scale,r,i).calculate();return[o.min,o.max]}var Oae=SOe;var MOe={getTargetSeries:function(n){function t(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=n.getComponent(s1(a),s);r(a,s,l,o)})})}t(function(r,o,a,s){a.__dzAxisProxy=null});var e=[];t(function(r,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new Oae(r,o,s,n),e.push(a.__dzAxisProxy))});var i=Le();return R(e,function(r){R(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).reset(e)}),e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var i=e.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},Rae=MOe;function tN(n){n.registerAction("dataZoom",function(t,e){var i=Aae(e,t);R(i,function(r){r.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var Fae=!1;function M4(n){Fae||(Fae=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,Rae),tN(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Bae(n){n.registerComponentModel(kae),n.registerComponentView(Nae),M4(n)}var wr=(function(){function n(){}return n})();var Vae={};function Nd(n,t){Vae[n]=t}function qb(n){return Vae[n]}var EOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;R(this.option.feature,function(i,r){var o=qb(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),je(i,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t})(kt),Uae=EOe;function Hae(n,t,e){var i=t.getBoxLayoutParams(),r=t.get("padding"),o={width:e.getWidth(),height:e.getHeight()},a=Qr(i,o,r);nl(t.get("orient"),n,t.get("itemGap"),a.width,a.height),Mte(n,i,o,r)}function $b(n,t){var e=Us(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),n=new Tt({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1}),n}var IOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(e,i,r,o){var a=this.group;if(a.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),l=e.get("orient")==="vertical",c=e.get("feature")||{},u=this._features||(this._features={}),d=[];R(c,function(v,_){d.push(_)}),new Md(this._featureNames||[],d).add(f).update(f).remove(ct(f,null)).execute(),this._featureNames=d;function f(v,_){var b=d[v],C=d[_],w=c[b],E=new $t(w,e,e.ecModel),D;if(o&&o.newTitle!=null&&o.featureName===b&&(w.title=o.newTitle),b&&!C){if(LOe(b))D={onclick:E.option.onclick,featureName:b};else{var L=qb(b);if(!L)return;D=new L}u[b]=D}else if(D=u[C],!D)return;D.uid=Vs("toolbox-feature"),D.model=E,D.ecModel=i,D.api=r;var P=D instanceof wr;if(!b&&C){P&&D.dispose&&D.dispose(i,r);return}if(!E.get("show")||P&&D.unusable){P&&D.remove&&D.remove(i,r);return}m(E,D,b),E.setIconStatus=function(F,G){var q=this.option,Y=this.iconPaths;q.iconStatus=q.iconStatus||{},q.iconStatus[F]=G,Y[F]&&(G==="emphasis"?Os:Rs)(Y[F])},D instanceof wr&&D.render&&D.render(E,i,r,o)}function m(v,_,b){var C=v.getModel("iconStyle"),w=v.getModel(["emphasis","iconStyle"]),E=_ instanceof wr&&_.getIcons?_.getIcons():v.get("icon"),D=v.get("title")||{},L,P;_e(E)?(L={},L[b]=E):L=E,_e(D)?(P={},P[b]=D):P=D;var F=v.iconPaths={};R(L,function(G,q){var Y=el(G,{},{x:-s/2,y:-s/2,width:s,height:s});Y.setStyle(C.getItemStyle());var W=Y.ensureState("emphasis");W.style=w.getItemStyle();var Z=new qt({style:{text:P[q],align:w.get("textAlign"),borderRadius:w.get("textBorderRadius"),padding:w.get("textPadding"),fill:null,font:p_({fontStyle:w.get("textFontStyle"),fontFamily:w.get("textFontFamily"),fontSize:w.get("textFontSize"),fontWeight:w.get("textFontWeight")},i)},ignore:!0});Y.setTextContent(Z),k0({el:Y,componentModel:e,itemName:q,formatterParamsExtra:{title:P[q]}}),Y.__title=P[q],Y.on("mouseover",function(){var te=w.getItemStyle(),re=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";Z.setStyle({fill:w.get("textFill")||te.fill||te.stroke||"#000",backgroundColor:w.get("textBackgroundColor")}),Y.setTextConfig({position:w.get("textPosition")||re}),Z.ignore=!e.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",q])!=="emphasis"&&r.leaveEmphasis(this),Z.hide()}),(v.get(["iconStatus",q])==="emphasis"?Os:Rs)(Y),a.add(Y),Y.on("click",ze(_.onclick,_,i,r,q)),F[q]=Y})}Hae(a,e,r),a.add($b(a.getBoundingRect(),e)),l||a.eachChild(function(v){var _=v.__title,b=v.ensureState("emphasis"),C=b.textConfig||(b.textConfig={}),w=v.getTextContent(),E=w&&w.ensureState("emphasis");if(E&&!Ie(E)&&_){var D=E.style||(E.style={}),L=S0(_,qt.makeFont(D)),P=v.x+a.x,F=v.y+a.y+s,G=!1;F+L.height>r.getHeight()&&(C.position="top",G=!0);var q=G?-5-L.height:s+10;P+L.width/2>r.getWidth()?(C.position=["100%",q],D.align="right"):P-L.width/2<0&&(C.position=[0,q],D.align="left")}})},t.prototype.updateView=function(e,i,r,o){R(this._features,function(a){a instanceof wr&&a.updateView&&a.updateView(a.model,i,r,o)})},t.prototype.remove=function(e,i){R(this._features,function(r){r instanceof wr&&r.remove&&r.remove(e,i)}),this.group.removeAll()},t.prototype.dispose=function(e,i){R(this._features,function(r){r instanceof wr&&r.dispose&&r.dispose(e,i)})},t.type="toolbox",t})(Kn);function LOe(n){return n.indexOf("my")===0}var jae=IOe;var AOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,i){var r=this.model,o=r.get("name")||e.get("title.0.text")||"echarts",a=i.getZr().painter.getType()==="svg",s=a?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),c=Be.browser;if(typeof MouseEvent=="function"&&(c.newEdge||!c.ie&&!c.edge)){var u=document.createElement("a");u.download=o+"."+s,u.target="_blank",u.href=l;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||a){var f=l.split(","),m=f[0].indexOf("base64")>-1,v=a?decodeURIComponent(f[1]):f[1];m&&(v=window.atob(v));var _=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var b=v.length,C=new Uint8Array(b);b--;)C[b]=v.charCodeAt(b);var w=new Blob([C]);window.navigator.msSaveOrOpenBlob(w,_)}else{var E=document.createElement("iframe");document.body.appendChild(E);var D=E.contentWindow,L=D.document;L.open("image/svg+xml","replace"),L.write(v),L.close(),D.focus(),L.execCommand("SaveAs",!0,_),document.body.removeChild(E)}}else{var P=r.get("lang"),F='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(P&&P[0]||"")+'" /></body>',G=window.open();G.document.write(F),G.document.title=o}},t.getDefaultOption=function(e){var i={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return i},t})(wr),Gae=AOe;var Wae="__ec_magicType_stack__";var zOe=[["line","bar"],["stack"]],kOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,i=e.get("icon"),r={};return R(e.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},t.getDefaultOption=function(e){var i={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return i},t.prototype.onclick=function(e,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(qae[r]){var s={series:[]},l=function(d){var f=d.subType,m=d.id,v=qae[r](f,m,d,o);v&&(Ne(v,d.option),s.series.push(v));var _=d.coordinateSystem;if(_&&_.type==="cartesian2d"&&(r==="line"||r==="bar")){var b=_.getAxesByScale("ordinal")[0];if(b){var C=b.dim,w=C+"Axis",E=d.getReferringComponents(w,si).models[0],D=E.componentIndex;s[w]=s[w]||[];for(var L=0;L<=D;L++)s[w][D]=s[w][D]||{};s[w][D].boundaryGap=r==="bar"}}};R(zOe,function(d){qe(d,r)>=0&&R(d,function(f){o.setIconStatus(f,"normal")})}),o.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},l);var c,u=r;r==="stack"&&(c=je({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",r])!=="emphasis"&&(u="tiled")),i.dispatchAction({type:"changeMagicType",currentType:u,newOption:s,newTitle:c,featureName:"magicType"})}},t})(wr),qae={line:function(n,t,e,i){if(n==="bar")return je({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,t,e,i){if(n==="line")return je({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,t,e,i){var r=e.get("stack")===Wae;if(n==="line"||n==="bar")return i.setIconStatus("stack",r?"normal":"emphasis"),je({id:t,stack:r?"":Wae},i.get(["option","stack"])||{},!0)}};no({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var $ae=kOe;var Zb=new Array(60).join("-"),Pd="	";function NOe(n){var t={},e=[],i=[];return n.eachRawSeries(function(r){var o=r.coordinateSystem;if(o&&(o.type==="cartesian2d"||o.type==="polar")){var a=o.getBaseAxis();if(a.type==="category"){var s=a.dim+"_"+a.index;t[s]||(t[s]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},i.push({axisDim:a.dim,axisIndex:a.index})),t[s].series.push(r)}else e.push(r)}else e.push(r)}),{seriesGroupByCategoryAxis:t,other:e,meta:i}}function POe(n){var t=[];return R(n,function(e,i){var r=e.categoryAxis,o=e.valueAxis,a=o.dim,s=[" "].concat(ge(e.series,function(m){return m.name})),l=[r.model.getCategories()];R(e.series,function(m){var v=m.getRawData();l.push(m.getRawData().mapArray(v.mapDimension(a),function(_){return _}))});for(var c=[s.join(Pd)],u=0;u<l[0].length;u++){for(var d=[],f=0;f<l.length;f++)d.push(l[f][u]);c.push(d.join(Pd))}t.push(c.join(`
`))}),t.join(`

`+Zb+`

`)}function OOe(n){return ge(n,function(t){var e=t.getRawData(),i=[t.name],r=[];return e.each(e.dimensions,function(){for(var o=arguments.length,a=arguments[o-1],s=e.getName(a),l=0;l<o-1;l++)r[l]=arguments[l];i.push((s?s+Pd:"")+r.join(Pd))}),i.join(`
`)}).join(`

`+Zb+`

`)}function ROe(n){var t=NOe(n);return{value:vn([POe(t.seriesGroupByCategoryAxis),OOe(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+Zb+`

`),meta:t.meta}}function Yb(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function FOe(n){var t=n.slice(0,n.indexOf(`
`));if(t.indexOf(Pd)>=0)return!0}var nN=new RegExp("["+Pd+"]+","g");function BOe(n){for(var t=n.split(/\n+/g),e=Yb(t.shift()).split(nN),i=[],r=ge(e,function(l){return{name:l,data:[]}}),o=0;o<t.length;o++){var a=Yb(t[o]).split(nN);i.push(a.shift());for(var s=0;s<a.length;s++)r[s]&&(r[s].data[o]=a[s])}return{series:r,categories:i}}function VOe(n){for(var t=n.split(/\n+/g),e=Yb(t.shift()),i=[],r=0;r<t.length;r++){var o=Yb(t[r]);if(o){var a=o.split(nN),s="",l=void 0,c=!1;isNaN(a[0])?(c=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var u=0;u<a.length;u++)l.push(+a[u]);l.length===1&&(c?i[r].value=l[0]:i[r]=l[0])}}return{name:e,data:i}}function UOe(n,t){var e=n.split(new RegExp(`
*`+Zb+`
*`,"g")),i={series:[]};return R(e,function(r,o){if(FOe(r)){var a=BOe(r),s=t[o],l=s.axisDim+"Axis";s&&(i[l]=i[l]||[],i[l][s.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else{var a=VOe(r);i.series.push(a)}}),i}var HOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var d=o.get("optionToContent"),f=o.get("contentToOption"),m=ROe(e);if(Ie(d)){var v=d(i.getOption());_e(v)?c.innerHTML=v:F2(v)&&c.appendChild(v)}else{u.readOnly=o.get("readOnly");var _=u.style;_.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",_.color=o.get("textColor"),_.borderColor=o.get("textareaBorderColor"),_.backgroundColor=o.get("textareaColor"),u.value=m.value,c.appendChild(u)}var b=m.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",E=document.createElement("div"),D=document.createElement("div");w+=";background-color:"+o.get("buttonColor"),w+=";color:"+o.get("buttonTextColor");var L=this;function P(){r.removeChild(a),L._dom=null}N8(E,"click",P),N8(D,"click",function(){if(f==null&&d!=null||f!=null&&d==null){P();return}var F;try{Ie(f)?F=f(c,i.getOption()):F=UOe(u.value,b)}catch(G){throw P(),new Error("Data view format error "+G)}F&&i.dispatchAction({type:"changeDataView",newOption:F}),P()}),E.innerHTML=l[1],D.innerHTML=l[2],D.style.cssText=E.style.cssText=w,!o.get("readOnly")&&C.appendChild(D),C.appendChild(E),a.appendChild(s),a.appendChild(c),a.appendChild(C),c.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},t.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.getDefaultOption=function(e){var i={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return i},t})(wr);function jOe(n,t){return ge(n,function(e,i){var r=t&&t[i];if(we(r)&&!pe(r)){var o=we(e)&&!pe(e);o||(e={value:e});var a=r.name!=null&&e.name==null;return e=Ne(e,r),a&&delete e.name,e}else return e})}no({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];R(n.newOption.series,function(i){var r=t.getSeriesByName(i.name)[0];if(!r)e.push(fe({type:"scatter"},i));else{var o=r.get("data");e.push({name:i.name,data:jOe(i.data,o)})}}),t.mergeOption(Ne({series:e},n.newOption))});var Yae=HOe;var Zae=R,Xae=Ot();function Qae(n,t){var e=iN(n);Zae(t,function(i,r){for(var o=e.length-1;o>=0;o--){var a=e[o];if(a[r])break}if(o<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();e[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),e.push(t)}function Kae(n){var t=iN(n),e=t[t.length-1];t.length>1&&t.pop();var i={};return Zae(e,function(r,o){for(var a=t.length-1;a>=0;a--)if(r=t[a][o],r){i[o]=r;break}}),i}function Jae(n){Xae(n).snapshots=null}function e1e(n){return iN(n).length}function iN(n){var t=Xae(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var GOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,i){Jae(e),i.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var i={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return i},t})(wr);no({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var n1e=GOe;var WOe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],qOe=(function(){function n(t,e,i){var r=this;this._targetInfoList=[];var o=i1e(e,t);R($Oe,function(a,s){(!i||!i.include||qe(i.include,s)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=rN[i.brushType](0,o,r);i.__rangeOffset={offset:s1e[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,i){R(t,function(r){var o=this.findTargetInfo(r,e);o&&o!==!0&&R(o.coordSyses,function(a){var s=rN[r.brushType](1,a,r.range,!0);i(r,s.values,a,e)})},this)},n.prototype.setInputRanges=function(t,e){R(t,function(i){var r=this.findTargetInfo(i,e);if(i.range=i.range||[],r&&r!==!0){i.panelId=r.panelId;var o=rN[i.brushType](0,r.coordSys,i.coordRange),a=i.__rangeOffset;i.range=a?s1e[i.brushType](o.values,a.offset,YOe(o.xyMinMax,a.xyMinMax)):o.values}},this)},n.prototype.makePanelOpts=function(t,e){return ge(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e?e(i):null,clipPath:aae(r),isTargetByCursor:lae(r,t,i.coordSysModel),getLinearBrushOtherExtent:sae(r)}})},n.prototype.controlSeries=function(t,e,i){var r=this.findTargetInfo(t,i);return r===!0||r&&qe(r.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var i=this._targetInfoList,r=i1e(e,t),o=0;o<i.length;o++){var a=i[o],s=t.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<r1e.length;l++)if(r1e[l](r,a))return a}return!0},n})();function oN(n){return n[0]>n[1]&&n.reverse(),n}function i1e(n,t){return w0(n,t,{includeMainTypes:WOe})}var $Oe={grid:function(n,t){var e=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=Le(),a={},s={};!e&&!i&&!r||(R(e,function(l){var c=l.axis.grid.model;o.set(c.id,c),a[c.id]=!0}),R(i,function(l){var c=l.axis.grid.model;o.set(c.id,c),s[c.id]=!0}),R(r,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var c=l.coordinateSystem,u=[];R(c.getCartesians(),function(d,f){(qe(e,d.getAxis("x").model)>=0||qe(i,d.getAxis("y").model)>=0)&&u.push(d)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:o1e.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,t){R(n.geoModels,function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:o1e.geo})})}},r1e=[function(n,t){var e=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],o1e={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(J2(n)),t}},rN={lineX:ct(a1e,0),lineY:ct(a1e,1),rect:function(n,t,e,i){var r=n?t.pointToData([e[0][0],e[1][0]],i):t.dataToPoint([e[0][0],e[1][0]],i),o=n?t.pointToData([e[0][1],e[1][1]],i):t.dataToPoint([e[0][1],e[1][1]],i),a=[oN([r[0],o[0]]),oN([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,t,e,i){var r=[[1/0,-1/0],[1/0,-1/0]],o=ge(e,function(a){var s=n?t.pointToData(a,i):t.dataToPoint(a,i);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s});return{values:o,xyMinMax:r}}};function a1e(n,t,e,i){var r=e.getAxis(["x","y"][n]),o=oN(ge([0,1],function(s){return t?r.coordToData(r.toLocalCoord(i[s]),!0):r.toGlobalCoord(r.dataToCoord(i[s]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var s1e={lineX:ct(l1e,0),lineY:ct(l1e,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return ge(n,function(i,r){return[i[0]-e[0]*t[r][0],i[1]-e[1]*t[r][1]]})}};function l1e(n,t,e,i){return[t[0]-i[n]*e[0],t[1]-i[n]*e[1]]}function YOe(n,t){var e=c1e(n),i=c1e(t),r=[e[0]/i[0],e[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function c1e(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var aN=qOe;var sN=R,ZOe=pJ("toolbox-dataZoom_");var XOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(e,i,r,o){this._brushController||(this._brushController=new oae(r.getZr()),this._brushController.on("brush",ze(this._onBrush,this)).mount()),JOe(e,i,this,o,r),KOe(e,i)},t.prototype.onclick=function(e,i,r){QOe[r].call(this)},t.prototype.remove=function(e,i){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,i){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var i=e.areas;if(!e.isEnd||!i.length)return;var r={},o=this.ecModel;this._brushController.updateCovers([]);var a=new aN(lN(this.model),o,{include:["grid"]});a.matchOutputRanges(i,o,function(c,u,d){if(d.type==="cartesian2d"){var f=c.brushType;f==="rect"?(s("x",d,u[0]),s("y",d,u[1])):s({lineX:"x",lineY:"y"}[f],d,u)}}),Qae(o,r),this._dispatchZoomAction(r);function s(c,u,d){var f=u.getAxis(c),m=f.model,v=l(c,m,o),_=v.findRepresentativeAxisProxy(m).getMinMaxSpan();(_.minValueSpan!=null||_.maxValueSpan!=null)&&(d=Gs(0,d.slice(),f.scale.getExtent(),0,_.minValueSpan,_.maxValueSpan)),v&&(r[v.id]={dataZoomId:v.id,startValue:d[0],endValue:d[1]})}function l(c,u,d){var f;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(m){var v=m.getAxisModel(c,u.componentIndex);v&&(f=m)}),f}},t.prototype._dispatchZoomAction=function(e){var i=[];sN(e,function(r,o){i.push(ke(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},t.getDefaultOption=function(e){var i={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return i},t})(wr),QOe={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(Kae(this.ecModel))}};function lN(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function KOe(n,t){n.setIconStatus("back",e1e(t)>1?"emphasis":"normal")}function JOe(n,t,e,i,r){var o=e._isZoomActive;i&&i.type==="takeGlobalCursor"&&(o=i.key==="dataZoomSelect"?i.dataZoomSelectActive:!1),e._isZoomActive=o,n.setIconStatus("zoom",o?"emphasis":"normal");var a=new aN(lN(n),t,{include:["grid"]}),s=a.makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(o&&s.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}zte("dataZoom",function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var i=t.getModel(e),r=[],o=lN(i),a=w0(n,o);sN(a.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),sN(a.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,c,u){var d=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:ZOe+c+d};f[u]=d,r.push(f)}return r});var u1e=XOe;function cN(n){n.registerComponentModel(Uae),n.registerComponentView(jae),Nd("saveAsImage",Gae),Nd("magicType",$ae),Nd("dataView",Yae),Nd("dataZoom",u1e),Nd("restore",n1e),Fi(Bae)}var eRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t})(kt),d1e=eRe;function Xb(n){var t=n.get("confine");return t!=null?!!t:n.get("renderMode")==="richText"}function f1e(n){if(Be.domSupported){for(var t=document.documentElement.style,e=0,i=n.length;e<i;e++)if(n[e]in t)return n[e]}}var uN=f1e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),p1e=f1e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function dN(n,t){if(!n)return t;t=fd(t,!0);var e=n.indexOf(t);return n=e===-1?t:"-"+n.slice(0,e)+"-"+t,n.toLowerCase()}function m1e(n,t){var e=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return e?t?e[t]:e:null}var tRe=dN(p1e,"transition"),fN=dN(uN,"transform"),nRe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Be.transform3dSupported?"will-change:transform;":"");function iRe(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function rRe(n,t,e){if(!_e(e)||e==="inside")return"";var i=n.get("backgroundColor"),r=n.get("borderWidth");t=N1(t);var o=iRe(e),a=Math.max(Math.round(r)*1.5,6),s="",l=fN+":",c;qe(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c=o==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c=o==="top"?225:45)+"deg)");var u=c*Math.PI/180,d=a+r,f=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),m=Math.round(((f-Math.SQRT2*r)/2+Math.SQRT2*r-(f-d)/2)*100)/100;s+=";"+o+":-"+m+"px";var v=t+" solid "+r+"px;",_=["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+i+";"];return'<div style="'+_.join("")+'"></div>'}function oRe(n,t){var e="cubic-bezier(0.23,1,0.32,1)",i=" "+n/2+"s "+e,r="opacity"+i+",visibility"+i;return t||(i=" "+n+"s "+e,r+=Be.transformSupported?","+fN+i:",left"+i+",top"+i),tRe+":"+r}function h1e(n,t,e){var i=n.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!Be.transformSupported)return e?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=Be.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return e?"top:0;left:0;"+fN+":"+a+";":[["top",0],["left",0],[uN,a]]}function aRe(n){var t=[],e=n.get("fontSize"),i=n.getTextColor();i&&t.push("color:"+i),t.push("font:"+n.getFont());var r=it(n.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+r+"px");var o=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return o&&a&&t.push("text-shadow:"+s+"px "+l+"px "+a+"px "+o),R(["decoration","align"],function(c){var u=n.get(c);u&&t.push("text-"+c+":"+u)}),t.join(";")}function sRe(n,t,e){var i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),u=n.getModel("textStyle"),d=B_(n,"html"),f=l+"px "+c+"px "+a+"px "+s;return i.push("box-shadow:"+f),t&&r&&i.push(oRe(r,e)),o&&i.push("background-color:"+o),R(["width","color","radius"],function(m){var v="border-"+m,_=fd(v),b=n.get(_);b!=null&&i.push(v+":"+b+(m==="color"?"":"px"))}),i.push(aRe(u)),d!=null&&i.push("padding:"+Us(d).join("px ")+"px"),i.join(";")+";"}function g1e(n,t,e,i,r){var o=t&&t.painter;if(e){var a=o&&o.getViewportRoot();a&&nK(n,a,e,i,r)}else{n[0]=i,n[1]=r;var s=o&&o.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var lRe=(function(){function n(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Be.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=t.getZr(),o=e.appendTo,a=o&&(_e(o)?document.querySelector(o):F2(o)?o:Ie(o)&&o(t.getDom()));g1e(this._styleCoord,r,a,t.getWidth()/2,t.getHeight()/2),(a||t.getDom()).appendChild(i),this._api=t,this._container=a;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=r.handler,u=r.painter.getViewportRoot();Ho(u,l,!0),c.dispatch("mousemove",l)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),i=m1e(e,"position"),r=e.style;r.position!=="absolute"&&i!=="absolute"&&(r.position="relative")}var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=nRe+sRe(t,!this._firstShow,this._longHide)+h1e(o[0],o[1],!0)+("border-color:"+N1(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,i,r,o){var a=this.el;if(t==null){a.innerHTML="";return}var s="";if(_e(o)&&i.get("trigger")==="item"&&!Xb(i)&&(s=rRe(i,r,o)),_e(t))a.innerHTML=t+s;else if(t){a.innerHTML="",pe(t)||(t=[t]);for(var l=0;l<t.length;l++)F2(t[l])&&t[l].parentNode!==a&&a.appendChild(t[l]);if(s&&a.childNodes.length){var c=document.createElement("div");c.innerHTML=s,a.appendChild(c)}}},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},n.prototype.moveTo=function(t,e){if(this.el){var i=this._styleCoord;if(g1e(i,this._zr,this._container,t,e),i[0]!=null&&i[1]!=null){var r=this.el.style,o=h1e(i[0],i[1]);R(o,function(a){r[a[0]]=a[1]})}}},n.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Be.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(ze(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},n})(),v1e=lRe;var cRe=(function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),_1e(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,i,r,o){var a=this;we(t)&&fr(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new qt({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:B_(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),R(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){a.el.style[c]=i.get(c)}),R(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){a.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=y1e(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},n.prototype.moveTo=function(t,e){var i=this.el;if(i){var r=this._styleCoord;_1e(r,this._zr,t,e),t=r[0],e=r[1];var o=i.style,a=J0(o.borderWidth||0),s=y1e(o);i.x=t+a+s.left,i.y=e+a+s.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(ze(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n})();function J0(n){return Math.max(0,n)}function y1e(n){var t=J0(n.shadowBlur||0),e=J0(n.shadowOffsetX||0),i=J0(n.shadowOffsetY||0);return{left:J0(t-e),right:J0(t+e),top:J0(t-i),bottom:J0(t+i)}}function _1e(n,t,e,i){n[0]=e,n[1]=i,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var b1e=cRe;var uRe=new Tt({shape:{x:-1,y:-1,width:2,height:2}}),dRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,i){if(!(Be.node||!i.getDom())){var r=e.getComponent("tooltip"),o=this._renderMode=vJ(r.get("renderMode"));this._tooltipContent=o==="richText"?new b1e(i):new v1e(i,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},t.prototype.render=function(e,i,r){if(!(Be.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=i,this._api=r;var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?V0(this,"_updatePosition",50,"fixRate"):m4(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,i=e.get("triggerOn");Hb("itemTooltip",this._api,ze(function(r,o,a){i!=="none"&&(i.indexOf(r)>=0?this._tryShow(o,a):r==="leave"&&this._hide(a))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,i=this._ecModel,r=this._api,o=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(e,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,i,r,o){if(!(o.from===this.uid||Be.node||!r.getDom())){var a=x1e(o,r);this._ticket="";var s=o.dataByCoordSys,l=hRe(o,i,r);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var u=uRe;u.x=o.x,u.y=o.y,u.update(),yt(u).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:u},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(e,i,r,o))return;var d=l7(o,i),f=d.point[0],m=d.point[1];f!=null&&m!=null&&this._tryShow({offsetX:f,offsetY:m,target:d.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(e,i,r,o){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(x1e(o,r))},t.prototype._manuallyAxisShowTip=function(e,i,r,o){var a=o.seriesIndex,s=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(!(a==null||s==null||l==null)){var c=i.getSeriesByIndex(a);if(c){var u=c.getData(),d=c7([u.getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}}},t.prototype._tryShow=function(e,i){var r=e.target,o=this._tooltipModel;if(o){this._lastX=e.offsetX,this._lastY=e.offsetY;var a=e.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,e);else if(r){var s=yt(r);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,c;h4(r,function(u){if(yt(u).dataIndex!=null)return l=u,!0;if(yt(u).tooltipConfig!=null)return c=u,!0},!0),l?this._showSeriesItemTooltip(e,l,i):c?this._showComponentItemTooltip(e,c,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},t.prototype._showOrMove=function(e,i){var r=e.get("showDelay");i=ze(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},t.prototype._showAxisTooltip=function(e,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],s=c7([i.tooltipOption],o),l=this._renderMode,c=[],u=d4("section",{blocks:[],noHeader:!0}),d=[],f=new V_;R(e,function(w){R(w.dataByAxis,function(E){var D=r.getComponent(E.axisDim+"Axis",E.axisIndex),L=E.value;if(!(!D||L==null)){var P=Zk(L,D.axis,r,E.seriesDataIndices,E.valueLabelOpt),F=d4("section",{header:P,noHeader:!ur(P),sortBlocks:!0,blocks:[]});u.blocks.push(F),R(E.seriesDataIndices,function(G){var q=r.getSeriesByIndex(G.seriesIndex),Y=G.dataIndexInside,W=q.getDataParams(Y);if(!(W.dataIndex<0)){W.axisDim=E.axisDim,W.axisIndex=E.axisIndex,W.axisType=E.axisType,W.axisId=E.axisId,W.axisValue=e7(D.axis,{value:L}),W.axisValueLabel=P,W.marker=f.makeTooltipMarker("item",N1(W.color),l);var Z=$A(q.formatTooltip(Y,!0,null)),te=Z.frag;if(te){var re=c7([q],o).get("valueFormatter");F.blocks.push(re?fe({valueFormatter:re},te):te)}Z.text&&d.push(Z.text),c.push(W)}})}})}),u.blocks.reverse(),d.reverse();var m=i.position,v=s.get("order"),_=JA(u,f,l,v,r.get("useUTC"),s.get("textStyle"));_&&d.unshift(_);var b=l==="richText"?`

`:"<br/>",C=d.join(b);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,c)?this._updatePosition(s,m,a[0],a[1],this._tooltipContent,c):this._showTooltipContent(s,C,c,Math.random()+"",a[0],a[1],m,null,f)})},t.prototype._showSeriesItemTooltip=function(e,i,r){var o=this._ecModel,a=yt(i),s=a.seriesIndex,l=o.getSeriesByIndex(s),c=a.dataModel||l,u=a.dataIndex,d=a.dataType,f=c.getData(d),m=this._renderMode,v=e.positionDefault,_=c7([f.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),b=_.get("trigger");if(!(b!=null&&b!=="item")){var C=c.getDataParams(u,d),w=new V_;C.marker=w.makeTooltipMarker("item",N1(C.color),m);var E=$A(c.formatTooltip(u,!1,d)),D=_.get("order"),L=_.get("valueFormatter"),P=E.frag,F=P?JA(L?fe({valueFormatter:L},P):P,w,m,D,o.get("useUTC"),_.get("textStyle")):E.text,G="item_"+c.name+"_"+u;this._showOrMove(_,function(){this._showTooltipContent(_,F,C,G,e.offsetX,e.offsetY,e.position,e.target,w)}),r({type:"showTip",dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,i,r){var o=this._renderMode==="html",a=yt(i),s=a.tooltipConfig,l=s.option||{},c=l.encodeHTMLContent;if(_e(l)){var u=l;l={content:u,formatter:u},c=!0}c&&o&&l.content&&(l=ke(l),l.content=Zi(l.content));var d=[l],f=this._ecModel.getComponent(a.componentMainType,a.componentIndex);f&&d.push(f),d.push({formatter:l.content});var m=e.positionDefault,v=c7(d,this._tooltipModel,m?{position:m}:null),_=v.get("content"),b=Math.random()+"",C=new V_;this._showOrMove(v,function(){var w=ke(v.get("formatterParams")||{});this._showTooltipContent(v,_,w,b,e.offsetX,e.offsetY,e.position,i,C)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,i,r,o,a,s,l,c,u){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var d=this._tooltipContent;d.setEnterable(e.get("enterable"));var f=e.get("formatter");l=l||e.get("position");var m=i,v=this._getNearestPoint([a,s],r,e.get("trigger"),e.get("borderColor")),_=v.color;if(f)if(_e(f)){var b=e.ecModel.get("useUTC"),C=pe(r)?r[0]:r,w=C&&C.axisType&&C.axisType.indexOf("time")>=0;m=f,w&&(m=tl(C.axisValue,m,b)),m=pd(m,r,!0)}else if(Ie(f)){var E=ze(function(D,L){D===this._ticket&&(d.setContent(L,u,e,_,l),this._updatePosition(e,l,a,s,d,r,c))},this);this._ticket=o,m=f(r,o,E)}else m=f;d.setContent(m,u,e,_,l),d.show(e,_),this._updatePosition(e,l,a,s,d,r,c)}},t.prototype._getNearestPoint=function(e,i,r,o){if(r==="axis"||pe(i))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!pe(i))return{color:o||i.color||i.borderColor}},t.prototype._updatePosition=function(e,i,r,o,a,s,l){var c=this._api.getWidth(),u=this._api.getHeight();i=i||e.get("position");var d=a.getSize(),f=e.get("align"),m=e.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),Ie(i)&&(i=i([r,o],s,a.el,v,{viewSize:[c,u],contentSize:d.slice()})),pe(i))r=pi(i[0],c),o=pi(i[1],u);else if(we(i)){var _=i;_.width=d[0],_.height=d[1];var b=Qr(_,{width:c,height:u});r=b.x,o=b.y,f=null,m=null}else if(_e(i)&&l){var C=mRe(i,v,d,e.get("borderWidth"));r=C[0],o=C[1]}else{var C=fRe(r,o,a,c,u,f?null:20,m?null:20);r=C[0],o=C[1]}if(f&&(r-=C1e(f)?d[0]/2:f==="right"?d[0]:0),m&&(o-=C1e(m)?d[1]/2:m==="bottom"?d[1]:0),Xb(e)){var C=pRe(r,o,a,c,u);r=C[0],o=C[1]}a.moveTo(r,o)},t.prototype._updateContentNotChangedOnAxis=function(e,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===e.length;return a&&R(r,function(s,l){var c=s.dataByAxis||[],u=e[l]||{},d=u.dataByAxis||[];a=a&&c.length===d.length,a&&R(c,function(f,m){var v=d[m]||{},_=f.seriesDataIndices||[],b=v.seriesDataIndices||[];a=a&&f.value===v.value&&f.axisType===v.axisType&&f.axisId===v.axisId&&_.length===b.length,a&&R(_,function(C,w){var E=b[w];a=a&&C.seriesIndex===E.seriesIndex&&C.dataIndex===E.dataIndex}),o&&R(f.seriesDataIndices,function(C){var w=C.seriesIndex,E=i[w],D=o[w];E&&D&&D.data!==E.data&&(a=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=i,!!a},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,i){Be.node||!i.getDom()||(m4(this,"_updatePosition"),this._tooltipContent.dispose(),s7("itemTooltip",i))},t.type="tooltip",t})(Kn);function c7(n,t,e){var i=t.ecModel,r;e?(r=new $t(e,i,i),r=new $t(t.option,r,i)):r=t;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof $t&&(a=a.get("tooltip",!0)),_e(a)&&(a={formatter:a}),a&&(r=new $t(a,r,i)))}return r}function x1e(n,t){return n.dispatchAction||ze(t.dispatchAction,t)}function fRe(n,t,e,i,r,o,a){var s=e.getSize(),l=s[0],c=s[1];return o!=null&&(n+l+o+2>i?n-=l+o:n+=o),a!=null&&(t+c+a>r?t-=c+a:t+=a),[n,t]}function pRe(n,t,e,i,r){var o=e.getSize(),a=o[0],s=o[1];return n=Math.min(n+a,i)-a,t=Math.min(t+s,r)-s,n=Math.max(n,0),t=Math.max(t,0),[n,t]}function mRe(n,t,e,i){var r=e[0],o=e[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,c=t.width,u=t.height;switch(n){case"inside":s=t.x+c/2-r/2,l=t.y+u/2-o/2;break;case"top":s=t.x+c/2-r/2,l=t.y-o-a;break;case"bottom":s=t.x+c/2-r/2,l=t.y+u+a;break;case"left":s=t.x-r-a,l=t.y+u/2-o/2;break;case"right":s=t.x+c+a,l=t.y+u/2-o/2}return[s,l]}function C1e(n){return n==="center"||n==="middle"}function hRe(n,t,e){var i=ep(n).queryOptionMap,r=i.keys()[0];if(!(!r||r==="series")){var o=M0(t,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(a){var s=e.getViewOfComponentModel(a),l;if(s.group.traverse(function(c){var u=yt(c).tooltipConfig;if(u&&u.name===n.name)return l=c,!0}),l)return{componentMainType:r,componentIndex:a.componentIndex,el:l}}}}var S1e=dRe;function pN(n){Fi(Gb),n.registerComponentModel(d1e),n.registerComponentView(S1e),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},fi),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},fi)}var gRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t})(kt),vRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,i,r){if(this.group.removeAll(),!!e.get("show")){var o=this.group,a=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),c=it(e.get("textBaseline"),e.get("textVerticalAlign")),u=new qt({style:Zr(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),f=e.get("subtext"),m=new qt({style:Zr(s,{text:f,fill:s.getTextColor(),y:d.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=e.get("link"),_=e.get("sublink"),b=e.get("triggerEvent",!0);u.silent=!v&&!b,m.silent=!_&&!b,v&&u.on("click",function(){AA(v,"_"+e.get("target"))}),_&&m.on("click",function(){AA(_,"_"+e.get("subtarget"))}),yt(u).eventData=yt(m).eventData=b?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(u),f&&o.add(m);var C=o.getBoundingRect(),w=e.getBoxLayoutParams();w.width=C.width,w.height=C.height;var E=Qr(w,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));l||(l=e.get("left")||e.get("right"),l==="middle"&&(l="center"),l==="right"?E.x+=E.width:l==="center"&&(E.x+=E.width/2)),c||(c=e.get("top")||e.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?E.y+=E.height:c==="middle"&&(E.y+=E.height/2),c=c||"top"),o.x=E.x,o.y=E.y,o.markRedraw();var D={align:l,verticalAlign:c};u.setStyle(D),m.setStyle(D),C=o.getBoundingRect();var L=E.margin,P=e.getItemStyle(["color","opacity"]);P.fill=e.get("backgroundColor");var F=new Tt({shape:{x:C.x-L[3],y:C.y-L[0],width:C.width+L[1]+L[3],height:C.height+L[0]+L[2],r:e.get("borderRadius")},style:P,subPixelOptimize:!0,silent:!0});o.add(F)}},t.type="title",t})(Kn);function mN(n){n.registerComponentModel(gRe),n.registerComponentView(vRe)}var yRe=function(n,t){if(t==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},_Re=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},t.prototype._updateSelector=function(e){var i=e.selector,r=this.ecModel;i===!0&&(i=e.selector=["all","inverse"]),pe(i)&&R(i,function(o,a){_e(o)&&(o={type:o}),i[a]=je(o,yRe(r,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var i=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var i=[],r=[];e.eachRawSeries(function(l){var c=l.name;r.push(c);var u;if(l.legendVisualProvider){var d=l.legendVisualProvider,f=d.getAllNames();e.isSeriesFiltered(l)||(r=r.concat(f)),f.length?i=i.concat(f):u=!0}else u=!0;u&&Zu(l)&&i.push(l.name)}),this._availableNames=r;var o=this.get("data")||i,a=Le(),s=ge(o,function(l){return(_e(l)||Ct(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new $t(l,this,this.ecModel))},this);this._data=vn(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var i=this.option.selected,r=this.get("selectedMode");if(r==="single"){var o=this._data;R(o,function(a){i[a.get("name")]=!1})}i[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var i=this.option.selected;i.hasOwnProperty(e)||(i[e]=!0),this[i[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,i=this.option.selected;R(e,function(r){i[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,i=this.option.selected;R(e,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},t.prototype.isSelected=function(e){var i=this.option.selected;return!(i.hasOwnProperty(e)&&!i[e])&&qe(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t})(kt),u7=_Re;var Od=ct,hN=R,Qb=Pt,bRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new Qb),this.group.add(this._selectorGroup=new Qb),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var a=e.get("align"),s=e.get("orient");(!a||a==="auto")&&(a=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),c=e.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=s==="horizontal"?"end":"start"),this.renderInner(a,e,i,r,l,s,c);var u=e.getBoxLayoutParams(),d={width:r.getWidth(),height:r.getHeight()},f=e.get("padding"),m=Qr(u,d,f),v=this.layoutInner(e,a,m,o,l,c),_=Qr(Ne({width:v.width,height:v.height},u),d,f);this.group.x=_.x-v.x,this.group.y=_.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=$b(v,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,i,r,o,a,s,l){var c=this.getContentGroup(),u=Le(),d=i.get("selectedMode"),f=[];r.eachRawSeries(function(m){!m.get("legendHoverLink")&&f.push(m.id)}),hN(i.getData(),function(m,v){var _=m.get("name");if(!this.newlineDisabled&&(_===""||_===`
`)){var b=new Qb;b.newline=!0,c.add(b);return}var C=r.getSeriesByName(_)[0];if(!u.get(_))if(C){var w=C.getData(),E=w.getVisual("legendLineStyle")||{},D=w.getVisual("legendIcon"),L=w.getVisual("style"),P=this._createItem(C,_,v,m,i,e,E,L,D,d,o);P.on("click",Od(w1e,_,null,o,f)).on("mouseover",Od(gN,C.name,null,o,f)).on("mouseout",Od(vN,C.name,null,o,f)),r.ssr&&P.eachChild(function(F){var G=yt(F);G.seriesIndex=C.seriesIndex,G.dataIndex=v,G.ssrType="legend"}),u.set(_,!0)}else r.eachRawSeries(function(F){if(!u.get(_)&&F.legendVisualProvider){var G=F.legendVisualProvider;if(!G.containName(_))return;var q=G.indexOfName(_),Y=G.getItemVisual(q,"style"),W=G.getItemVisual(q,"legendIcon"),Z=qr(Y.fill);Z&&Z[3]===0&&(Z[3]=.2,Y=fe(fe({},Y),{fill:Is(Z,"rgba")}));var te=this._createItem(F,_,v,m,i,e,{},Y,W,d,o);te.on("click",Od(w1e,null,_,o,f)).on("mouseover",Od(gN,null,_,o,f)).on("mouseout",Od(vN,null,_,o,f)),r.ssr&&te.eachChild(function(re){var ce=yt(re);ce.seriesIndex=F.seriesIndex,ce.dataIndex=v,ce.ssrType="legend"}),u.set(_,!0)}},this)},this),a&&this._createSelector(a,i,o,s,l)},t.prototype._createSelector=function(e,i,r,o,a){var s=this.getSelectorGroup();hN(e,function(c){var u=c.type,d=new qt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect",legendId:i.id})}});s.add(d);var f=i.getModel("selectorLabel"),m=i.getModel(["emphasis","selectorLabel"]);N0(d,{normal:f,emphasis:m},{defaultText:c.title}),z0(d)})},t.prototype._createItem=function(e,i,r,o,a,s,l,c,u,d,f){var m=e.visualDrawType,v=a.get("itemWidth"),_=a.get("itemHeight"),b=a.isSelected(i),C=o.get("symbolRotate"),w=o.get("symbolKeepAspect"),E=o.get("icon");u=E||u||"roundRect";var D=xRe(u,o,l,c,m,b,f),L=new Qb,P=o.getModel("textStyle");if(Ie(e.getLegendIcon)&&(!E||E==="inherit"))L.add(e.getLegendIcon({itemWidth:v,itemHeight:_,icon:u,iconRotate:C,itemStyle:D.itemStyle,lineStyle:D.lineStyle,symbolKeepAspect:w}));else{var F=E==="inherit"&&e.getData().getVisual("symbol")?C==="inherit"?e.getData().getVisual("symbolRotate"):C:0;L.add(CRe({itemWidth:v,itemHeight:_,icon:u,iconRotate:F,itemStyle:D.itemStyle,lineStyle:D.lineStyle,symbolKeepAspect:w}))}var G=s==="left"?v+5:-5,q=s,Y=a.get("formatter"),W=i;_e(Y)&&Y?W=Y.replace("{name}",i??""):Ie(Y)&&(W=Y(i));var Z=b?P.getTextColor():o.get("inactiveColor");L.add(new qt({style:Zr(P,{text:W,x:G,y:_/2,fill:Z,align:q,verticalAlign:"middle"},{inheritColor:Z})}));var te=new Tt({shape:L.getBoundingRect(),style:{fill:"transparent"}}),re=o.getModel("tooltip");return re.get("show")&&k0({el:te,componentModel:a,itemName:i,itemTooltipOption:re.option}),L.add(te),L.eachChild(function(ce){ce.silent=!0}),te.silent=!d,this.getContentGroup().add(L),z0(L),L.__legendDataIndex=r,L},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getContentGroup(),c=this.getSelectorGroup();nl(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var u=l.getBoundingRect(),d=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),a){nl("horizontal",c,e.get("selectorItemGap",!0));var f=c.getBoundingRect(),m=[-f.x,-f.y],v=e.get("selectorButtonGap",!0),_=e.getOrient().index,b=_===0?"width":"height",C=_===0?"height":"width",w=_===0?"y":"x";s==="end"?m[_]+=u[b]+v:d[_]+=f[b]+v,m[1-_]+=u[C]/2-f[C]/2,c.x=m[0],c.y=m[1],l.x=d[0],l.y=d[1];var E={x:0,y:0};return E[b]=u[b]+v+f[b],E[C]=Math.max(u[C],f[C]),E[w]=Math.min(0,f[w]+m[1-_]),E}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(Kn);function xRe(n,t,e,i,r,o,a){function s(b,C){b.lineWidth==="auto"&&(b.lineWidth=C.lineWidth>0?2:0),hN(b,function(w,E){b[E]==="inherit"&&(b[E]=C[E])})}var l=t.getModel("itemStyle"),c=l.getItemStyle(),u=n.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");c.decal=!d||d==="inherit"?i.decal:Vp(d,a),c.fill==="inherit"&&(c.fill=i[r]),c.stroke==="inherit"&&(c.stroke=i[u]),c.opacity==="inherit"&&(c.opacity=(r==="fill"?i:e).opacity),s(c,i);var f=t.getModel("lineStyle"),m=f.getLineStyle();if(s(m,e),c.fill==="auto"&&(c.fill=i.fill),c.stroke==="auto"&&(c.stroke=i.fill),m.stroke==="auto"&&(m.stroke=i.fill),!o){var v=t.get("inactiveBorderWidth"),_=c[u];c.lineWidth=v==="auto"?i.lineWidth>0&&_?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),m.stroke=f.get("inactiveColor"),m.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:m}}function CRe(n){var t=n.icon||"roundRect",e=eo(t,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return e.setStyle(n.itemStyle),e.rotation=(n.iconRotate||0)*Math.PI/180,e.setOrigin([n.itemWidth/2,n.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function w1e(n,t,e,i){vN(n,t,e,i),e.dispatchAction({type:"legendToggleSelect",name:n??t}),gN(n,t,e,i)}function M1e(n){for(var t=n.getZr().storage.getDisplayList(),e,i=0,r=t.length;i<r&&!(e=t[i].states.emphasis);)i++;return e&&e.hoverLayer}function gN(n,t,e,i){M1e(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:i})}function vN(n,t,e,i){M1e(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:i})}var Kb=bRe;function yN(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}function d7(n,t,e){var i=n==="allSelect"||n==="inverseSelect",r={},o=[];e.eachComponent({mainType:"legend",query:t},function(s){i?s[n]():s[n](t.name),T1e(s,r),o.push(s.componentIndex)});var a={};return e.eachComponent("legend",function(s){R(r,function(l,c){s[l?"select":"unSelect"](c)}),T1e(s,a)}),i?{selected:a,legendIndex:o}:{name:t.name,selected:a}}function T1e(n,t){var e=t||{};return R(n.getData(),function(i){var r=i.get("name");if(!(r===`
`||r==="")){var o=n.isSelected(r);Uo(e,r)?e[r]=e[r]&&o:e[r]=o}}),e}function E1e(n){n.registerAction("legendToggleSelect","legendselectchanged",ct(d7,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",ct(d7,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",ct(d7,"inverseSelect")),n.registerAction("legendSelect","legendselected",ct(d7,"select")),n.registerAction("legendUnSelect","legendunselected",ct(d7,"unSelect"))}function Jb(n){n.registerComponentModel(u7),n.registerComponentView(Kb),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,yN),n.registerSubTypeDefaulter("legend",function(){return"plain"}),E1e(n)}var SRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,i,r){var o=js(e);n.prototype.init.call(this,e,i,r),D1e(this,e,o)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),D1e(this,this.option,e)},t.type="legend.scroll",t.defaultOption=O0(u7.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t})(u7);function D1e(n,t,e){var i=n.getOrient(),r=[1,1];r[i.index]=0,Hs(t,e,{type:"box",ignoreSize:!!r})}var I1e=SRe;var L1e=Pt,_N=["width","height"],bN=["x","y"],wRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new L1e),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new L1e)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,i,r,o,a,s,l){var c=this;n.prototype.renderInner.call(this,e,i,r,o,a,s,l);var u=this._controllerGroup,d=i.get("pageIconSize",!0),f=pe(d)?d:[d,d];v("pagePrev",0);var m=i.getModel("pageTextStyle");u.add(new qt({name:"pageText",style:{text:"xx/xx",fill:m.getTextColor(),font:m.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(_,b){var C=_+"DataIndex",w=el(i.get("pageIcons",!0)[i.getOrient().name][b],{onclick:ze(c._pageGo,c,C,i,o)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});w.name=_,u.add(w)}},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getSelectorGroup(),c=e.getOrient().index,u=_N[c],d=bN[c],f=_N[1-c],m=bN[1-c];a&&nl("horizontal",l,e.get("selectorItemGap",!0));var v=e.get("selectorButtonGap",!0),_=l.getBoundingRect(),b=[-_.x,-_.y],C=ke(r);a&&(C[u]=r[u]-_[u]-v);var w=this._layoutContentAndController(e,o,C,c,u,f,m,d);if(a){if(s==="end")b[c]+=w[u]+v;else{var E=_[u]+v;b[c]-=E,w[d]-=E}w[u]+=_[u]+v,b[1-c]+=w[m]+w[f]/2-_[f]/2,w[f]=Math.max(w[f],_[f]),w[m]=Math.min(w[m],_[m]+b[1-c]),l.x=b[0],l.y=b[1],l.markRedraw()}return w},t.prototype._layoutContentAndController=function(e,i,r,o,a,s,l,c){var u=this.getContentGroup(),d=this._containerGroup,f=this._controllerGroup;nl(e.get("orient"),u,e.get("itemGap"),o?r.width:null,o?null:r.height),nl("horizontal",f,e.get("pageButtonItemGap",!0));var m=u.getBoundingRect(),v=f.getBoundingRect(),_=this._showController=m[a]>r[a],b=[-m.x,-m.y];i||(b[o]=u[c]);var C=[0,0],w=[-v.x,-v.y],E=it(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(_){var D=e.get("pageButtonPosition",!0);D==="end"?w[o]+=r[a]-v[a]:C[o]+=v[a]+E}w[1-o]+=m[s]/2-v[s]/2,u.setPosition(b),d.setPosition(C),f.setPosition(w);var L={x:0,y:0};if(L[a]=_?r[a]:m[a],L[s]=Math.max(m[s],v[s]),L[l]=Math.min(0,v[l]+w[1-o]),d.__rectSize=r[a],_){var P={x:0,y:0};P[a]=Math.max(r[a]-v[a]-E,0),P[s]=L[s],d.setClipPath(new Tt({shape:P})),d.__rectSize=P[a]}else f.eachChild(function(G){G.attr({invisible:!0,silent:!0})});var F=this._getPageInfo(e);return F.pageIndex!=null&&mi(u,{x:F.contentPosition[0],y:F.contentPosition[1]},_?e:null),this._updatePageInfoView(e,F),L},t.prototype._pageGo=function(e,i,r){var o=this._getPageInfo(i)[e];o!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},t.prototype._updatePageInfoView=function(e,i){var r=this._controllerGroup;R(["pagePrev","pageNext"],function(u){var d=u+"DataIndex",f=i[d]!=null,m=r.childOfName(u);m&&(m.setStyle("fill",f?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),m.cursor=f?"pointer":"default")});var o=r.childOfName("pageText"),a=e.get("pageFormatter"),s=i.pageIndex,l=s!=null?s+1:0,c=i.pageCount;o&&a&&o.setStyle("text",_e(a)?a.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):a({current:l,total:c}))},t.prototype._getPageInfo=function(e){var i=e.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=e.getOrient().index,s=_N[a],l=bN[a],c=this._findTargetItemIndex(i),u=r.children(),d=u[c],f=u.length,m=f?1:0,v={contentPosition:[r.x,r.y],pageCount:m,pageIndex:m-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return v;var _=D(d);v.contentPosition[a]=-_.s;for(var b=c+1,C=_,w=_,E=null;b<=f;++b)E=D(u[b]),(!E&&w.e>C.s+o||E&&!L(E,C.s))&&(w.i>C.i?C=w:C=E,C&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=C.i),++v.pageCount)),w=E;for(var b=c-1,C=_,w=_,E=null;b>=-1;--b)E=D(u[b]),(!E||!L(w,E.s))&&C.i<w.i&&(w=C,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=C.i),++v.pageCount,++v.pageIndex),C=E;return v;function D(P){if(P){var F=P.getBoundingRect(),G=F[l]+P[l];return{s:G,e:G+F[s],i:P.__legendDataIndex}}}function L(P,F){return P.e>=F&&P.s<=F+o}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var i,r=this.getContentGroup(),o;return r.eachChild(function(a,s){var l=a.__legendDataIndex;o==null&&l!=null&&(o=s),l===e&&(i=s)}),i??o},t.type="legend.scroll",t})(Kb),A1e=wRe;function xN(n){n.registerAction("legendScroll","legendscroll",function(t,e){var i=t.scrollDataIndex;i!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(r){r.setScrollDataIndex(i)})})}function z1e(n){Fi(Jb),n.registerComponentModel(I1e),n.registerComponentView(A1e),xN(n)}function CN(n){Fi(Jb),Fi(z1e)}var MRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=O0(K0.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(K0),k1e=MRe;var SN=Ot();function N1e(n,t,e){SN(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}function P1e(n,t){for(var e=SN(n).coordSysRecordMap,i=e.keys(),r=0;r<i.length;r++){var o=i[r],a=e.get(o),s=a.dataZoomInfoMap;if(s){var l=t.uid,c=s.get(l);c&&(s.removeKey(l),s.keys().length||O1e(e,a))}}}function O1e(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function TRe(n,t){var e={model:t,containsPoint:ct(DRe,t),dispatchAction:ct(ERe,n),dataZoomInfoMap:null,controller:null},i=e.controller=new Voe(n.getZr());return R(["pan","zoom","scrollMove"],function(r){i.on(r,function(o){var a=[];e.dataZoomInfoMap.each(function(s){if(o.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],c=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,o);!s.model.get("disabled",!0)&&c&&a.push({dataZoomId:s.model.id,start:c[0],end:c[1]})}}),a.length&&e.dispatchAction(a)})}),e}function ERe(n,t){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function DRe(n,t,e,i){return n.coordinateSystem.containPoint([e,i])}function IRe(n){var t,e="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return n.each(function(o){var a=o.model,s=a.get("disabled",!0)?!1:a.get("zoomLock",!0)?"move":!0;i[e+s]>i[e+t]&&(t=s),r=r&&a.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}function R1e(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var i=SN(e),r=i.coordSysRecordMap||(i.coordSysRecordMap=Le());r.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var a=Wb(o);R(a.infoList,function(s){var l=s.model.uid,c=r.get(l)||r.set(l,TRe(e,s.model)),u=c.dataZoomInfoMap||(c.dataZoomInfoMap=Le());u.set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),r.each(function(o){var a=o.controller,s,l=o.dataZoomInfoMap;if(l){var c=l.keys()[0];c!=null&&(s=l.get(c))}if(!s){O1e(r,o);return}var u=IRe(l);a.enable(u.controlType,u.opt),a.setPointerChecker(o.containsPoint),V0(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var ARe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,i,r){if(n.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),N1e(r,e,{pan:ze(wN.pan,this),zoom:ze(wN.zoom,this),scrollMove:ze(wN.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){P1e(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(zd),wN={zoom:function(n,t,e,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var s=MN[t](null,[i.originX,i.originY],a,e,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],c=Math.max(1/i.scale,0);o[0]=(o[0]-l)*c+l,o[1]=(o[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Gs(0,o,[0,100],0,u.minSpan,u.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1])return o}},pan:F1e(function(n,t,e,i,r,o){var a=MN[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,e);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:F1e(function(n,t,e,i,r,o){var a=MN[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,e);return a.signal*(n[1]-n[0])*o.scrollDelta})};function F1e(n){return function(t,e,i,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s){var l=n(a,s,t,e,i,r);if(Gs(l,a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1])return a}}}var MN={grid:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem.getRect();return n=n||[0,0],o.dim==="x"?(a.pixel=t[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(a.pixel=t[0]-n[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,t,e,i,r){var o=e.axis,a=r.model.coordinateSystem.getRect(),s={};return n=n||[0,0],o.orient==="horizontal"?(s.pixel=t[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},B1e=ARe;function V1e(n){M4(n),n.registerComponentModel(k1e),n.registerComponentView(B1e),R1e(n)}var zRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=O0(K0.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t})(K0),U1e=zRe;var f7=Tt,H1e=7,kRe=1,TN=30,NRe=7,p7="horizontal",j1e="vertical",PRe=5,ORe=["line","bar","candlestick","scatter"],RRe={easing:"cubicOut",duration:100,delay:0},FRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,i){this.api=i,this._onBrush=ze(this._onBrush,this),this._onBrushEnd=ze(this._onBrushEnd,this)},t.prototype.render=function(e,i,r,o){if(n.prototype.render.apply(this,arguments),V0(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){m4(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new Pt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(i),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,i=this.api,r=e.get("brushSelect"),o=r?NRe:0,a=this._findCoordRect(),s={width:i.getWidth(),height:i.getHeight()},l=this._orient===p7?{right:s.width-a.x-a.width,top:s.height-TN-H1e-o,width:a.width,height:TN}:{right:H1e,top:a.y,width:TN,height:a.height},c=js(e.option);R(["right","top","width","height"],function(d){c[d]==="ph"&&(c[d]=l[d])});var u=Qr(c,s);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===j1e&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r===p7&&!a?{scaleY:l?1:-1,scaleX:1}:r===p7&&a?{scaleY:l?1:-1,scaleX:-1}:r===j1e&&!a?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var c=e.getBoundingRect([s]);e.x=i.x-c.x,e.y=i.y-c.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new f7({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new f7({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:ze(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var i=this._size,r=this._shadowSize||[],o=e.series,a=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&a.getDimensionInfo(s)?o.getShadowDim():e.otherDim;if(l==null)return;var c=this._shadowPolygonPts,u=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var d=a.getDataExtent(l),f=(d[1]-d[0])*.3;d=[d[0]-f,d[1]+f];var m=[0,i[1]],v=[0,i[0]],_=[[i[0],0],[0,0]],b=[],C=v[1]/(a.count()-1),w=0,E=Math.round(a.count()/i[0]),D;a.each([l],function(q,Y){if(E>0&&Y%E){w+=C;return}var W=q==null||isNaN(q)||q==="",Z=W?0:Di(q,d,m,!0);W&&!D&&Y?(_.push([_[_.length-1][0],0]),b.push([b[b.length-1][0],0])):!W&&D&&(_.push([w,0]),b.push([w,0])),_.push([w,Z]),b.push([w,Z]),w+=C,D=W}),c=this._shadowPolygonPts=_,u=this._shadowPolylinePts=b}this._shadowData=a,this._shadowDim=l,this._shadowSize=[i[0],i[1]];var L=this.dataZoomModel;function P(q){var Y=L.getModel(q?"selectedDataBackground":"dataBackground"),W=new Pt,Z=new Q2({shape:{points:c},segmentIgnoreThreshold:1,style:Y.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),te=new K2({shape:{points:u},segmentIgnoreThreshold:1,style:Y.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return W.add(Z),W.add(te),W}for(var F=0;F<3;F++){var G=P(F===1);this._displayables.sliderGroup.add(G),this._displayables.dataShadowSegs.push(G)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,i=e.get("showDataShadow");if(i!==!1){var r,o=this.ecModel;return e.eachTargetAxis(function(a,s){var l=e.getAxisProxy(a,s).getTargetSeriesModels();R(l,function(c){if(!r&&!(i!==!0&&qe(ORe,c.get("type"))<0)){var u=o.getComponent(s1(a),s).axis,d=BRe(a),f,m=c.coordinateSystem;d!=null&&m.getOtherAxis&&(f=m.getOtherAxis(u).inverse),d=c.getData().mapDimension(d),r={thisAxis:u,series:c,thisDim:a,otherDim:d,otherAxisInverse:f}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,c=this.api,u=l.get("borderRadius")||0,d=l.get("brushSelect"),f=i.filler=new f7({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(f),a.add(new f7({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:u},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:kRe,fill:"rgba(0,0,0,0)"}})),R([0,1],function(E){var D=l.get("handleIcon");!Op[D]&&D.indexOf("path://")<0&&D.indexOf("image://")<0&&(D="path://"+D);var L=eo(D,-1,0,2,2,null,!0);L.attr({cursor:G1e(this._orient),draggable:!0,drift:ze(this._onDragMove,this,E),ondragend:ze(this._onDragEnd,this),onmouseover:ze(this._showDataInfo,this,!0),onmouseout:ze(this._showDataInfo,this,!1),z2:5});var P=L.getBoundingRect(),F=l.get("handleSize");this._handleHeight=pi(F,this._size[1]),this._handleWidth=P.width/P.height*this._handleHeight,L.setStyle(l.getModel("handleStyle").getItemStyle()),L.style.strokeNoScale=!0,L.rectHover=!0,L.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),z0(L);var G=l.get("handleColor");G!=null&&(L.style.fill=G),a.add(r[E]=L);var q=l.getModel("textStyle"),Y=l.get("handleLabel")||{},W=Y.show||!1;e.add(o[E]=new qt({silent:!0,invisible:!W,style:Zr(q,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:q.getTextColor(),font:q.getFont()}),z2:10}))},this);var m=f;if(d){var v=pi(l.get("moveHandleSize"),s[1]),_=i.moveHandle=new Tt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),b=v*.8,C=i.moveHandleIcon=eo(l.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);C.silent=!0,C.y=s[1]+v/2-.5,_.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var w=Math.min(s[1]/2,Math.max(v,10));m=i.moveZone=new Tt({invisible:!0,shape:{y:s[1]-w,height:v+w}}),m.on("mouseover",function(){c.enterEmphasis(_)}).on("mouseout",function(){c.leaveEmphasis(_)}),a.add(_),a.add(C),a.add(m)}m.attr({draggable:!0,cursor:G1e(this._orient),drift:ze(this._onDragMove,this,"all"),ondragstart:ze(this._showDataInfo,this,!0),ondragend:ze(this._onDragEnd,this),onmouseover:ze(this._showDataInfo,this,!0),onmouseout:ze(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[Di(e[0],[0,100],i,!0),Di(e[1],[0,100],i,!0)]},t.prototype._updateInterval=function(e,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Gs(i,o,a,r.get("zoomLock")?"all":e,s.minSpan!=null?Di(s.minSpan,l,a,!0):null,s.maxSpan!=null?Di(s.maxSpan,l,a,!0):null);var c=this._range,u=this._range=$2([Di(o[0],a,l,!0),Di(o[1],a,l,!0)]);return!c||c[0]!==u[0]||c[1]!==u[1]},t.prototype._updateView=function(e){var i=this._displayables,r=this._handleEnds,o=$2(r.slice()),a=this._size;R([0,1],function(m){var v=i.handles[m],_=this._handleHeight;v.attr({scaleX:_/2,scaleY:_/2,x:r[m]+(m?-1:1),y:a[1]/2-_/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(s),i.moveZone.setShape(s),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=i.dataShadowSegs,c=[0,o[0],o[1],a[0]],u=0;u<l.length;u++){var d=l[u],f=d.getClipPath();f||(f=new Tt,d.setClipPath(f)),f.setShape({x:c[u],y:0,width:c[u+1]-c[u],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,d=e?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(d[0],c),this._formatLabel(d[1],c)]}}var f=$2(this._handleEnds.slice());m.call(this,0),m.call(this,1);function m(v){var _=J2(r.handles[v].parent,this.group),b=_p(v===0?"right":"left",_),C=this._handleWidth/2+PRe,w=i4([f[v]+(v===0?-C:C),this._size[1]/2],_);o[v].setStyle({x:w[0],y:w[1],verticalAlign:a===p7?"middle":b,align:a===p7?b:"center",text:s[v]})}},t.prototype._formatLabel=function(e,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");(a==null||a==="auto")&&(a=i.getPixelPrecision());var s=e==null||isNaN(e)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return Ie(o)?o(e,s):_e(o)?o.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var i=this.dataZoomModel.get("handleLabel")||{},r=i.show||!1,o=this.dataZoomModel.getModel(["emphasis","handleLabel"]),a=o.get("show")||!1,s=e||this._dragging?a:r,l=this._displayables,c=l.handleLabels;c[0].attr("invisible",!s),c[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(e,i,r,o){this._dragging=!0,Es(o.event);var a=this._displayables.sliderGroup.getLocalTransform(),s=i4([i,r],a,!0),l=this._updateInterval(e,s[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,a=(o[0]+o[1])/2,s=this._updateInterval("all",r[0]-a);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var i=e.offsetX,r=e.offsetY;this._brushStart=new Kt(i,r),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,!!i){i.attr("ignore",!0);var r=i.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(r.width)<5)){var a=this._getViewExtent(),s=[0,100];this._range=$2([Di(r.x,a,s,!0),Di(r.x+r.width,a,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Es(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,i){var r=this._displayables,o=this.dataZoomModel,a=r.brushRect;a||(a=r.brushRect=new f7({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(e,i),u=l.transformCoordToLocal(s.x,s.y),d=this._size;c[0]=Math.max(Math.min(d[0],c[0]),0),a.setShape({x:u[0],y:0,width:c[0]-u[0],height:d[1]})},t.prototype._dispatchZoomAction=function(e){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?RRe:null,start:i[0],end:i[1]})},t.prototype._findCoordRect=function(){var e,i=Wb(this.dataZoomModel).infoList;if(!e&&i.length){var r=i[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var o=this.api.getWidth(),a=this.api.getHeight();e={x:o*.2,y:a*.2,width:o*.6,height:a*.6}}return e},t.type="dataZoom.slider",t})(zd);function BRe(n){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[n]}function G1e(n){return n==="vertical"?"ns-resize":"ew-resize"}var W1e=FRe;function q1e(n){n.registerComponentModel(U1e),n.registerComponentView(W1e),M4(n)}function EN(n){Fi(V1e),Fi(q1e)}function $1e(n,t,e){var i=vo.createCanvas(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*e,i.height=o*e,i}var VRe=(function(n){et(t,n);function t(e,i,r){var o=n.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var a;r=r||A3,typeof e=="string"?a=$1e(e,i,r):we(e)&&(a=e,e=a.id),o.id=e,o.dom=a;var s=a.style;return s&&(A8(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=i,o.dpr=r,o}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=$1e("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a=[],s=this.maxRepaintRectCount,l=!1,c=new Je(0,0,0,0);function u(w){if(!(!w.isFinite()||w.isZero()))if(a.length===0){var E=new Je(0,0,0,0);E.copy(w),a.push(E)}else{for(var D=!1,L=1/0,P=0,F=0;F<a.length;++F){var G=a[F];if(G.intersect(w)){var q=new Je(0,0,0,0);q.copy(G),q.union(w),a[F]=q,D=!0;break}else if(l){c.copy(w),c.union(G);var Y=w.width*w.height,W=G.width*G.height,Z=c.width*c.height,te=Z-Y-W;te<L&&(L=te,P=F)}}if(l&&(a[P].union(w),D=!0),!D){var E=new Je(0,0,0,0);E.copy(w),a.push(E)}l||(l=a.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var f=e[d];if(f){var m=f.shouldBePainted(r,o,!0,!0),v=f.__isRendered&&(f.__dirty&Ri||!m)?f.getPrevPaintRect():null;v&&u(v);var _=m&&(f.__dirty&Ri||!f.__isRendered)?f.getPaintRect():null;_&&u(_)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var f=i[d],m=f&&f.shouldBePainted(r,o,!0,!0);if(f&&(!m||!f.__zr)&&f.__isRendered){var v=f.getPrevPaintRect();v&&u(v)}}var b;do{b=!1;for(var d=0;d<a.length;){if(a[d].isZero()){a.splice(d,1);continue}for(var C=d+1;C<a.length;)a[d].intersect(a[C])?(b=!0,a[d].union(a[C]),a.splice(C,1)):C++;d++}}while(b);return this._paintRects=a,a},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,i){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=e+"px",a.height=i+"px"),o.width=e*r,o.height=i*r,s&&(s.width=e*r,s.height=i*r,r!==1&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,i,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;i=i||this.clearColor;var c=this.motionBlur&&!e,u=this.lastFrameAlpha,d=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/d,l/d));var m=this.domBack;function v(_,b,C,w){if(a.clearRect(_,b,C,w),i&&i!=="transparent"){var E=void 0;if(B2(i)){var D=i.global||i.__width===C&&i.__height===w;E=D&&i.__canvasGradient||Rp(a,i,{x:0,y:0,width:C,height:w}),i.__canvasGradient=E,i.__width=C,i.__height=w}else gI(i)&&(i.scaleX=i.scaleX||d,i.scaleY=i.scaleY||d,E=Q_(a,i,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));a.save(),a.fillStyle=E||i,a.fillRect(_,b,C,w),a.restore()}c&&(a.save(),a.globalAlpha=u,a.drawImage(m,_,b,C,w),a.restore())}!r||c?v(0,0,s,l):r.length&&R(r,function(_){v(_.x*d,_.y*d,_.width*d,_.height*d)})},t})(Ei),ex=VRe;var Y1e=1e5,T4=314159,tx=.01,URe=.001;function HRe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function jRe(n,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var GRe=(function(){function n(t,e,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=i=fe({},i||{}),this.dpr=i.devicePixelRatio||A3,this._singleCanvas=o,this.root=t;var a=t.style;a&&(A8(t),t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=t,d=u.width,f=u.height;i.width!=null&&(d=i.width),i.height!=null&&(f=i.height),this.dpr=i.devicePixelRatio||1,u.width=d*this.dpr,u.height=f*this.dpr,this._width=d,this._height=f;var m=new ex(u,this,this.dpr);m.__builtin__=!0,m.initContext(),l[T4]=m,m.zlevel=T4,s.push(T4),this._domRoot=t}else{this._width=Fp(t,0,i),this._height=Fp(t,1,i);var c=this._domRoot=jRe(this._width,this._height);t.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var o=0;o<r.length;o++){var a=r[o],s=this._layers[a];if(!s.__builtin__&&s.refresh){var l=o===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),!!e){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,a=0;a<e;a++){var s=t[a];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(Y1e)),o||(o=i.ctx,o.save()),U0(o,s,r,a===e-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(Y1e)},n.prototype.paintOne=function(t,e){Sd(t,e)},n.prototype._paintList=function(t,e,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,i),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),a)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;V8(function(){l._paintList(t,e,i,r)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(T4).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,i)})},n.prototype._doPaintList=function(t,e,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&o.push(c)}for(var u=!0,d=!1,f=function(_){var b=o[_],C=b.ctx,w=a&&b.createRepaintRects(t,e,m._width,m._height),E=i?b.__startIndex:b.__drawIndex,D=!i&&b.incremental&&Date.now,L=D&&Date.now(),P=b.zlevel===m._zlevelList[0]?m._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,P,w);else if(E===b.__startIndex){var F=t[E];(!F.incremental||!F.notClear||i)&&b.clear(!1,P,w)}E===-1&&(console.error("For some unknown reason. drawIndex is -1"),E=b.__startIndex);var G,q=function(te){var re={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(G=E;G<b.__endIndex;G++){var ce=t[G];if(ce.__inHover&&(d=!0),r._doPaintEl(ce,b,a,te,re,G===b.__endIndex-1),D){var ne=Date.now()-L;if(ne>15)break}}re.prevElClipPaths&&C.restore()};if(w)if(w.length===0)G=b.__endIndex;else for(var Y=m.dpr,W=0;W<w.length;++W){var Z=w[W];C.save(),C.beginPath(),C.rect(Z.x*Y,Z.y*Y,Z.width*Y,Z.height*Y),C.clip(),q(Z),C.restore()}else C.save(),q(),C.restore();b.__drawIndex=G,b.__drawIndex<b.__endIndex&&(u=!1)},m=this,v=0;v<o.length;v++)f(v);return Be.wxa&&R(this._layers,function(_){_&&_.ctx&&_.ctx.draw&&_.ctx.draw()}),{finished:u,needsRefreshHover:d}},n.prototype._doPaintEl=function(t,e,i,r,o,a){var s=e.ctx;if(i){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(U0(s,t,o,a),t.setPrevPaintRect(l))}else U0(s,t,o,a)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=T4);var i=this._layers[t];return i||(i=new ex("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]?je(i,this._layerConfig[t],!0):this._layerConfig[t-tx]&&je(i,this._layerConfig[t-tx],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},n.prototype.insertLayer=function(t,e){var i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(!i[t]&&HRe(e)){if(o>0&&t>r[0]){for(l=0;l<o-1&&!(r[l]<t&&r[l+1]>t);l++);s=i[r[l]]}if(r.splice(l+1,0,t),i[t]=e,!e.virtual)if(s){var c=s.dom;c.nextSibling?a.insertBefore(e.dom,c.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.painter||(e.painter=this)}},n.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];t.call(e,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},n.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(d,f){d.__dirty=d.__used=!1});function e(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this._singleCanvas)for(var i=1;i<t.length;i++){var r=t[i];if(r.zlevel!==t[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var o=null,a=0,s,l;for(l=0;l<t.length;l++){var r=t[l],c=r.zlevel,u=void 0;s!==c&&(s=c,a=0),r.incremental?(u=this.getLayer(c+URe,this._needsManuallyCompositing),u.incremental=!0,a=1):u=this.getLayer(c+(a>0?tx:0),this._needsManuallyCompositing),u.__builtin__||v3("ZLevel "+c+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,e(l),o=u),r.__dirty&Ri&&!r.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}e(l),this.eachBuiltinLayer(function(d,f){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,R(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?je(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===t||o===t+tx){var a=this._layers[o];je(a,i[t],!0)}}}},n.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(qe(i,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(t!=null&&(r.width=t),e!=null&&(r.height=e),t=Fp(o,0,r),e=Fp(o,1,r),i.style.display="",this._width!==t||e!==this._height){i.style.width=t+"px",i.style.height=e+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(T4).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[T4].dom;var e=new ex("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(d){d.__builtin__?i.drawImage(d.dom,0,0,r,o):d.renderToCanvas&&(i.save(),d.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++){var u=s[l];U0(i,u,a,l===c-1)}return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n})(),Z1e=GRe;function DN(n){n.registerPainter("canvas",Z1e)}Fi([mN,pN,Kk,CN,EN,cN,gk,xk,DN]);function WRe(n){return()=>n.loadConfig()}var X1e={providers:[eQ,jM(iX),tQ(),VY({timeOut:1e4,positionClass:"toast-top-right",preventDuplicates:!0,closeButton:!0,progressBar:!0}),Mm(fM),{provide:d9,useClass:nQ,multi:!0},{provide:Df,useFactory:WRe,deps:[Ul],multi:!0},{provide:ts,useValue:"en-IN"},ED({echarts:lk})]};function qRe(n,t){if(n&1&&(At(0),p(1,"div",3)(2,"div",4)(3,"span",5),y(4),h(),p(5,"span",6),y(6),$(7,"number"),h()(),p(8,"span",7),y(9),$(10,"number"),p(11,"span",8),y(12),$(13,"percent"),h()()(),zt()),n&2){let e=t.$implicit,i=M(2);g(4),H(" ",e.symbol," "),g(),x("ngClass",i.color(e.change)),g(),H(" ",X(7,13,e.lastTradedPrice,"1.2-2")," "),g(2),Ce("text-green-600",e.change>0)("text-red-600",e.change<0),g(),H(" ",X(10,16,e.change,"1.2-2")," "),g(2),Ce("bg-green-50",e.percentChange>0)("bg-red-50",e.percentChange<0),g(),H(" ",X(13,19,e.percentChange/100,"1.2-2")," ")}}function $Re(n,t){if(n&1&&(p(0,"div",1),A(1,qRe,14,22,"ng-container",2),h()),n&2){let e=M();g(),x("ngForOf",e.quotes)}}var Q1e=(()=>{let t=class t{constructor(){this.quotes=[]}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-index-ticker"]],inputs:{quotes:"quotes",showTickers:"showTickers"},decls:1,vars:1,consts:[["class","index-ticker flex items-center gap-3 text-sm whitespace-nowrap",4,"ngIf"],[1,"index-ticker","flex","items-center","gap-3","text-sm","whitespace-nowrap"],[4,"ngFor","ngForOf"],[1,"ticker-item","flex","flex-col","items-start"],[1,"ticker-symbol","flex","items-center","gap-2","font-normal"],[1,"symbol","text-gray-700","uppercase"],[1,"price",3,"ngClass"],[1,"font-normal","text-gray-600"],[1,"text-sm","rounded-md","px-1","py-[1px]"]],template:function(r,o){r&1&&A(0,$Re,2,1,"div",0),r&2&&x("ngIf",o.showTickers)},dependencies:[Oe,Ae,ye,ln,$n],encapsulation:2});let n=t;return n})();var YRe=["header"],ZRe=["menuTrigger"],XRe=["profileTrigger"],QRe=(n,t,e)=>({"bg-green-100 text-green-600":n,"bg-red-100 text-red-600":t,"bg-yellow-100 text-yellow-600":e});function KRe(n,t){n&1&&O(0,"div",51)}function JRe(n,t){if(n&1){let e=ee();p(0,"a",58),z("click",function(){k(e);let r=M(2);return N(r.closeMoreMenu())}),p(1,"span"),y(2,"Administration"),h()()}}function eFe(n,t){if(n&1){let e=ee();p(0,"div",45)(1,"a",46),z("click",function(){k(e);let r=M();return N(r.closeMoreMenu())}),y(2," IPO "),h(),p(3,"a",47),z("click",function(){k(e);let r=M();return N(r.closeMoreMenu())}),p(4,"span"),y(5,"Mutual Funds"),h()(),p(6,"a",48),z("click",function(){k(e);let r=M();return N(r.closeMoreMenu())}),y(7," Algo "),h(),p(8,"a",49),z("click",function(){k(e);let r=M();return N(r.closeMoreMenu())}),p(9,"span"),y(10,"Algo"),h()(),p(11,"a",50),z("click",function(){k(e);let r=M();return N(r.closeMoreMenu())}),p(12,"span"),y(13,"IPO"),h()(),O(14,"div",51),p(15,"a",52),z("click",function(){k(e);let r=M();return N(r.closeMoreMenu())}),p(16,"span"),y(17,"Funds"),h()(),p(18,"a",53),z("click",function(){k(e);let r=M();return N(r.closeMoreMenu())}),p(19,"span"),y(20,"Historical Data"),h()(),p(21,"a",54),z("click",function(){k(e);let r=M();return N(r.logout())}),O(22,"fa-icon",55),p(23,"span"),y(24,"Logout"),h()(),A(25,KRe,1,0,"div",56)(26,JRe,3,0,"a",57),h()}if(n&2){let e=M();g(22),x("icon",e.faSignOutAlt),g(3),x("ngIf",e.isAdmin()),g(),x("ngIf",e.isAdmin())}}function tFe(n,t){if(n&1&&(p(0,"a",59),O(1,"fa-icon",15),h()),n&2){let e=M();x("matTooltip","Administration"),g(),x("icon",e.faGear)}}var K1e=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u){this.authUserService=i,this.ws=r,this.toastrService=o,this.router=a,this.userDataStateService=s,this.dialog=l,this.document=c,this.overlay=u,this.instrumentTokens=[],this.indexTickers=[{symbol:"NIFTY 50",instrumentToken:256265,lastTradedPrice:0,change:0,percentChange:0},{symbol:"SENSEX",instrumentToken:265,lastTradedPrice:0,change:0,percentChange:0}],this.showTickers=!0,this.lastFeedTimestamp=0,this.lastFeedChangedTimestamp=0,this.feedStatus="idle",this.heightCheckAttempts=0,this.maxHeightCheckAttempts=20,this.showMoreMenu=!1,this.faSignOutAlt=eG,this.faChevronDown=cG,this.faUserTie=Fj,this.faCircleExclamation=Xj,this.faCircle=Zj,this.faHome=oG,this.faCartPlus=k5,this.faWallet=K6,this.faChartLine=yg,this.faListCheck=tu,this.faStar=fG,this.faGear=Jj,this.instrumentTokens=this.indexTickers.map(d=>d.instrumentToken)}checkFeedStatus(){let i=Date.now(),r=5*1e3,o=60*1e3;if(this.lastFeedTimestamp===0){this.feedStatus="disconnected";return}let a=i-this.lastFeedTimestamp,s=i-this.lastFeedChangedTimestamp;a>o?this.feedStatus="disconnected":s>r?this.feedStatus="idle":this.feedStatus="live"}isAdmin(){return this.authUserService.isAdmin()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.indexTickers&&(this.indexTickers=i.indexTickers)}setCachedData(){this.userDataStateService.setState({indexTickers:this.indexTickers})}ngOnInit(){this.getCachedData(),this.subscribeToWebSocket(),this.statusCheckInterval=setInterval(()=>{this.checkFeedStatus()},1e4)}ngAfterViewInit(){this.updateHeaderHeight(),this.startPeriodicHeightCheck()}startPeriodicHeightCheck(){this.heightCheckAttempts=0,this.heightCheckInterval=setInterval(()=>{this.heightCheckAttempts++,this.updateHeaderHeight(),this.heightCheckAttempts>=this.maxHeightCheckAttempts&&clearInterval(this.heightCheckInterval)},100)}updateHeaderHeight(){if(this.headerElement?.nativeElement){let i=this.headerElement.nativeElement.offsetHeight;if(i===0)return;let r=parseInt(getComputedStyle(this.document.documentElement).getPropertyValue("--header-height")||"43");Math.abs(i-r)>1&&(this.document.documentElement.style.setProperty("--header-height",`${i}px`),console.log(`Header height updated: ${i}px (attempt ${this.heightCheckAttempts})`))}}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.statusCheckInterval&&clearInterval(this.statusCheckInterval),this.headerHeightUpdateTimeout&&clearTimeout(this.headerHeightUpdateTimeout),this.heightCheckInterval&&clearInterval(this.heightCheckInterval),this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe(),this.orderSub?.unsubscribe()}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(tt(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updateIndexTickerOnUpdate(i)}),this.orderSub=this.ws.orderUpdates().subscribe(i=>{console.log("Received order update:",i),this.playOrderNotificationSound();let r=this.toastrService.info(`Account ID:${i.user_id}. ${i.transaction_type} order with
        quantity ${i.quantity} and price ${i.price} is ${i.status}. Order ID:${i.order_id}.`,"Order Update",{timeOut:0,extendedTimeOut:0,closeButton:!0,tapToDismiss:!0}),o=this.router.url;o.includes("/holdings")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/holdings"])}):o.includes("/orders")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/orders"])}):o.includes("/positions")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/positions"])}):console.log("No matching route found for refresh."),r.onTap.subscribe(()=>{})})):console.log("No instrument tokens available for web socket subscription.")}updateIndexTickerOnUpdate(i){i.forEach(r=>{this.lastFeedTimestamp=Date.now(),this.indexTickers.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{this.showTickers=!0,a&&a.lastTradedPrice!==r.lastTradedPrice&&(this.lastFeedChangedTimestamp=Date.now(),this.feedStatus="live",a.lastTradedPrice=r.lastTradedPrice,a.change=r.lastTradedPrice-r.closePrice,a.percentChange=r.change)})}),this.setCachedData()}closeMoreMenu(){this.showMoreMenu=!1}onDocumentClick(i){let r=this.menuTrigger?.nativeElement,o=r?.nextElementSibling;!r||!o||this.showMoreMenu&&!r.contains(i.target)&&!o.contains(i.target)&&this.closeMoreMenu()}toggleMoreMenu(){this.showMoreMenu=!this.showMoreMenu}logout(){this.closeMoreMenu(),this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"logged-out"}})}playOrderNotificationSound(){try{let i=new window.AudioContext||new window.webkitAudioContext,r=i.createOscillator(),o=i.createGain();r.connect(o),o.connect(i.destination),r.frequency.value=1200,r.type="sine",o.gain.setValueAtTime(.3,i.currentTime),o.gain.exponentialRampToValueAtTime(.01,i.currentTime+.15),r.start(i.currentTime),r.stop(i.currentTime+.2)}catch(i){console.error("Error playing notification sound:",i)}}};t.\u0275fac=function(r){return new(r||t)(V(ar),V(sr),V(nt),V(un),V(Dn),V(Xn),V(Te),V(Vr))},t.\u0275cmp=ie({type:t,selectors:[["app-header"]],viewQuery:function(r,o){if(r&1&&(Rn(YRe,7),Rn(ZRe,5),Rn(XRe,5)),r&2){let a;an(a=sn())&&(o.headerElement=a.first),an(a=sn())&&(o.menuTrigger=a.first),an(a=sn())&&(o.profileTrigger=a.first)}},hostBindings:function(r,o){r&1&&z("click",function(s){return o.onDocumentClick(s)},Sf)},decls:77,vars:35,consts:[["header",""],["menuTrigger",""],[1,"header","fixed","top-0","left-0","w-full","z-50","bg-white","shadow-sm","border-b","border-gray-200"],[1,"mx-auto","px-4","py-1"],[1,"flex","items-center","justify-between","gap-6"],[1,"flex","items-center","gap-6","flex-1","min-w-0"],[1,"flex","items-center","gap-2","flex-shrink-0"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","width","40","height","40",1,"w-9","h-9","rounded-lg","object-contain"],[1,"hidden","md:flex","flex-col","justify-center"],[1,"text-md","font-medium","text-gray-800","leading-tight"],[1,"text-sm","text-gray-500","leading-tight"],[1,"flex-1","min-w-0","overflow-x-auto","scrollbar-hide"],[3,"quotes","showTickers"],[1,"flex","items-center","gap-1"],["routerLink","/home","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],[1,"text-base",3,"icon"],[1,"hidden","lg:inline"],["routerLink","/holdings","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/positions","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/orders","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/mf","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],[1,"relative"],[1,"nav-link","flex","items-center","gap-1","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],[1,"md:inline","hidden"],[1,"text-xs","transition-transform","duration-200",3,"icon"],["class","absolute right-0 mt-2 w-56 bg-white shadow-xl rounded-lg border border-gray-200 py-2 z-50",4,"ngIf"],["routerLink","/basket-order","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"],["routerLink","/profile","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"],["routerLink","/administration","routerLinkActive","active-link","matTooltipPosition","below","class","nav-link hidden md:flex items-center gap-2 pb-2 px-4 py-2 text-sm text-gray-700 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-all",3,"matTooltip",4,"ngIf"],["matTooltipPosition","below",1,"flex","items-center","gap-1.5","px-2","py-1","rounded-lg","transition-all","cursor-default","ml-1",3,"ngClass","matTooltip"],[1,"text-xs",3,"icon"],[1,"hidden","xl:inline","text-xs"],["matTooltipPosition","below",1,"hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-red-600","rounded-lg","hover:bg-red-50","transition-all","ml-1",3,"click","matTooltip"],[1,"hidden","xl:inline"],[1,"md:hidden","fixed","bottom-0","left-0","w-full","bg-white","shadow-lg","border-t","border-gray-200","z-50","pb-[env(safe-area-inset-bottom)]"],[1,"flex","items-center","justify-between","px-0","py-0"],["routerLink","/home","routerLinkActive","!bg-blue-50 !text-blue-600 ",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],[1,"text-lg",3,"icon"],[1,"text-xs"],["routerLink","/watchlist","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/holdings","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/positions","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/orders","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/basket-order","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/profile","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],[1,"absolute","right-0","mt-2","w-56","bg-white","shadow-xl","rounded-lg","border","border-gray-200","py-2","z-50"],["routerLink","/ipos","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],["routerLink","/mf","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/algo","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],["routerLink","/algo","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/ipos","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],[1,"md:hidden","border-t","border-gray-200","my-2"],["routerLink","/funds","routerLinkActive","active-link",1,"nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/historical-data","routerLinkActive","active-link",1,"nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],[1,"md:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-red-600","hover:bg-red-50","transition-colors","cursor-pointer",3,"click"],[1,"w-4",3,"icon"],["class","md:hidden border-t border-gray-200 my-2",4,"ngIf"],["routerLink","/administration","routerLinkActive","active-link","class","md:hidden nav-link flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",3,"click",4,"ngIf"],["routerLink","/administration","routerLinkActive","active-link",1,"md:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/administration","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"]],template:function(r,o){if(r&1){let a=ee();p(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),O(6,"img",7),p(7,"div",8)(8,"span",9),y(9,"FamVest"),h(),p(10,"span",10),y(11,"Portfolio Manager"),h()()(),p(12,"div",11),O(13,"app-index-ticker",12),h()(),p(14,"nav",13)(15,"a",14),O(16,"fa-icon",15),p(17,"span",16),y(18,"Dashboard"),h()(),p(19,"a",17),y(20," Holdings "),h(),p(21,"a",18),y(22," Positions "),h(),p(23,"a",19),y(24," Orders "),h(),p(25,"a",20),y(26," Mutual Funds "),h(),p(27,"div",21)(28,"button",22,1),z("click",function(){return k(a),N(o.toggleMoreMenu())}),p(30,"span",23),y(31,"More"),h(),O(32,"fa-icon",24),h(),A(33,eFe,27,3,"div",25),h(),p(34,"a",26),O(35,"fa-icon",15),h(),p(36,"a",27),O(37,"fa-icon",15),h(),A(38,tFe,2,2,"a",28),p(39,"div",29),O(40,"fa-icon",30),p(41,"span",31),y(42),h()(),p(43,"button",32),z("click",function(){return k(a),N(o.logout())}),O(44,"fa-icon",15),p(45,"span",33),y(46,"Logout"),h()()()()()(),p(47,"div",34)(48,"div",35)(49,"a",36),O(50,"fa-icon",37),p(51,"span",38),y(52,"Dashboard"),h()(),p(53,"a",39),O(54,"fa-icon",37),p(55,"span",38),y(56,"Watchlist"),h()(),p(57,"a",40),O(58,"fa-icon",37),p(59,"span",38),y(60,"Holdings"),h()(),p(61,"a",41),O(62,"fa-icon",37),p(63,"span",38),y(64,"Positions"),h()(),p(65,"a",42),O(66,"fa-icon",37),p(67,"span",38),y(68,"Orders"),h()(),p(69,"a",43),O(70,"fa-icon",37),p(71,"span",38),y(72,"Basket"),h()(),p(73,"a",44),O(74,"fa-icon",37),p(75,"span",38),y(76,"Profile"),h()()()()}r&2&&(g(13),x("quotes",o.indexTickers)("showTickers",o.showTickers),g(3),x("icon",o.faHome),g(12),Ce("bg-blue-50",o.showMoreMenu)("text-blue-600",o.showMoreMenu),g(4),Ce("rotate-180",o.showMoreMenu),x("icon",o.faChevronDown),g(),x("ngIf",o.showMoreMenu),g(),x("matTooltip","Basket Order"),g(),x("icon",o.faCartPlus),g(),x("matTooltip","Add Trading Accounts, Manage Preferences and Update Profile"),g(),x("icon",o.faUserTie),g(),x("ngIf",o.isAdmin()),g(),x("ngClass",mn(31,QRe,o.feedStatus==="live",o.feedStatus==="disconnected",o.feedStatus==="idle"))("matTooltip",o.feedStatus==="live"?"Market is Open":o.feedStatus==="idle"?"Market is Closed":"Market Feed Disconnected"),g(),Ce("animate-pulse",o.feedStatus==="live"),x("icon",o.feedStatus==="live"?o.faCircle:o.faCircleExclamation),g(2),H(" ",o.feedStatus==="live"?"Open":o.feedStatus==="idle"?"Closed":"Offline"," "),g(),x("matTooltip","Logout"),g(),x("icon",o.faSignOutAlt),g(6),x("icon",o.faHome),g(4),x("icon",o.faStar),g(4),x("icon",o.faWallet),g(4),x("icon",o.faChartLine),g(4),x("icon",o.faListCheck),g(4),x("icon",o.faCartPlus),g(4),x("icon",o.faUserTie))},dependencies:[Vc,Lo,HM,kr,We,Oe,ye,Q1e,at,Bt],encapsulation:2});let n=t;return n})();function nFe(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var J1e=["en-IN",[["a","p"],["am","pm"]],[["am","pm"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[0,0],["dd/MM/yy","dd-MMM-y","d MMMM y","EEEE, d MMMM, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##,##0.###","#,##,##0%","\xA4#,##,##0.00","#E0"],"INR","\u20B9","Indian Rupee",{JPY:["JP\xA5","\xA5"]},"ltr",nFe];var iFe=(n,t)=>({"w-[75%]":n,"w-full":t}),rFe=(n,t)=>({"w-[25%]":n,"w-0":t});function oFe(n,t){n&1&&O(0,"app-header")}function aFe(n,t){if(n&1){let e=ee();p(0,"div",5)(1,"app-watchlist",6),z("collapseChanged",function(r){k(e);let o=M();return N(o.onCollapseChanged(r))}),h()()}if(n&2){let e=M();x("ngClass",Qe(1,rFe,!e.isWatchlistCollapsed,e.isWatchlistCollapsed))}}gV(J1e,"en-IN");var ese=(()=>{let t=class t{constructor(i,r,o,a,s,l){this.router=i,this.activatedRoute=r,this.titleService=o,this.authUserService=a,this.userPreferencesService=s,this.userDataStateService=l,this.isAuthenticated=!1,this.isWatchlistCollapsed=!1,this.isWatchlistRoute=!1,this.themeClass="from-gray-50",this.themeMap={BLUE:"from-blue-50",PINK:"from-pink-50",GREEN:"from-green-50",ORANGE:"from-orange-50",YELLOW:"from-yellow-50",GRAY:"from-gray-50"},this.authUserService.authStatus$.subscribe(c=>{this.isAuthenticated=c}),this.router.events.pipe(tt(c=>c instanceof po),Ke(()=>this.activatedRoute),Ke(c=>{for(;c.firstChild;)c=c.firstChild;return c}),Jn(c=>c.data)).subscribe(c=>{this.isWatchlistRoute=this.router.url.includes("/watchlist"),this.titleService.setTitle(c.title||"FamVest App")})}onCollapseChanged(i){this.isWatchlistCollapsed=i}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.themeClass&&(this.themeClass=i.themeClass)}setCachedData(){this.userDataStateService.setState({themeClass:this.themeClass})}ngOnInit(){this.getCachedData(),this.isAuthenticated&&this.userPreferencesService.getUserPreferences().subscribe(i=>{let o=(i.data||[]).find(a=>a.preference==="THEME_COLOR");o&&o.value&&(this.themeClass=this.themeMap[o.value]||this.themeClass,this.setCachedData())})}};t.\u0275fac=function(r){return new(r||t)(V(un),V(Nr),V(f9),V(ar),V(zv),V(Dn))},t.\u0275cmp=ie({type:t,selectors:[["app-root"]],decls:6,vars:7,consts:[[4,"ngIf"],[1,"bg-gradient-to-b","to-white","min-h-screen","w-full",3,"ngClass"],[1,"flex","w-full","min-h-screen","text-sm"],["class","transition-all duration-300 overflow-hidden",3,"ngClass",4,"ngIf"],[1,"transition-all","duration-300",3,"ngClass"],[1,"transition-all","duration-300","overflow-hidden",3,"ngClass"],[3,"collapseChanged"]],template:function(r,o){r&1&&(A(0,oFe,1,0,"app-header",0),p(1,"div",1)(2,"div",2),A(3,aFe,2,4,"div",3),p(4,"div",4),O(5,"router-outlet"),h()()()),r&2&&(x("ngIf",o.isAuthenticated),g(),x("ngClass",o.themeClass),g(2),x("ngIf",o.isAuthenticated&&!o.isWatchlistRoute),g(),x("ngClass",Qe(4,iFe,!o.isWatchlistCollapsed&&o.isAuthenticated&&!o.isWatchlistRoute,o.isWatchlistCollapsed||!o.isAuthenticated||o.isWatchlistRoute)))},dependencies:[p5,Vc,K1e,We,Oe,ye,Oj,o0,di,Mv],encapsulation:2});let n=t;return n})();window.global=window;oM(ese,X1e).catch(n=>console.error(n));
