var wle=Object.create;var M7=Object.defineProperty,Mle=Object.defineProperties,Tle=Object.getOwnPropertyDescriptor,Ele=Object.getOwnPropertyDescriptors,Dle=Object.getOwnPropertyNames,w7=Object.getOwnPropertySymbols,Ile=Object.getPrototypeOf,dx=Object.prototype.hasOwnProperty,xP=Object.prototype.propertyIsEnumerable;var bP=(n,t,e)=>t in n?M7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,X=(n,t)=>{for(var e in t||={})dx.call(t,e)&&bP(n,e,t[e]);if(w7)for(var e of w7(t))xP.call(t,e)&&bP(n,e,t[e]);return n},Ie=(n,t)=>Mle(n,Ele(t));var fx=(n,t)=>{var e={};for(var i in n)dx.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&w7)for(var i of w7(n))t.indexOf(i)<0&&xP.call(n,i)&&(e[i]=n[i]);return e};var Re=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Ko=(n,t)=>{for(var e in t)M7(n,e,{get:t[e],enumerable:!0})},Lle=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Dle(t))!dx.call(n,r)&&r!==e&&M7(n,r,{get:()=>t[r],enumerable:!(i=Tle(t,r))||i.enumerable});return n};var T7=(n,t,e)=>(e=n!=null?wle(Ile(n)):{},Lle(t||!n||!n.__esModule?M7(e,"default",{value:n,enumerable:!0}):e,n));var Jo=(n,t,e)=>new Promise((i,r)=>{var o=l=>{try{s(e.next(l))}catch(c){r(c)}},a=l=>{try{s(e.throw(l))}catch(c){r(c)}},s=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(n,t)).next())});var GW=Re((Gst,_E)=>{"use strict";global.crypto&&global.crypto.getRandomValues?_E.exports.randomBytes=function(n){var t=new Uint8Array(n);return global.crypto.getRandomValues(t),t}:_E.exports.randomBytes=function(n){for(var t=new Array(n),e=0;e<n;e++)t[e]=Math.floor(Math.random()*256);return t}});var n3=Re((Wst,qW)=>{"use strict";var Hme=GW(),WW="abcdefghijklmnopqrstuvwxyz012345";qW.exports={string:function(n){for(var t=WW.length,e=Hme.randomBytes(n),i=[],r=0;r<n;r++)i.push(WW.substr(e[r]%t,1));return i.join("")},number:function(n){return Math.floor(Math.random()*n)},numberString:function(n){var t=(""+(n-1)).length,e=new Array(t+1).join("0");return(e+this.number(n)).slice(-t)}}});var E2=Re((qst,$g)=>{"use strict";var jme=n3(),uu={},bE=!1,$W=global.chrome&&global.chrome.app&&global.chrome.app.runtime;$g.exports={attachEvent:function(n,t){typeof global.addEventListener<"u"?global.addEventListener(n,t,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+n,t),global.attachEvent("on"+n,t))},detachEvent:function(n,t){typeof global.addEventListener<"u"?global.removeEventListener(n,t,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+n,t),global.detachEvent("on"+n,t))},unloadAdd:function(n){if($W)return null;var t=jme.string(8);return uu[t]=n,bE&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(n){n in uu&&delete uu[n]},triggerUnloadCallbacks:function(){for(var n in uu)uu[n](),delete uu[n]}};var Gme=function(){bE||(bE=!0,$g.exports.triggerUnloadCallbacks())};$W||$g.exports.attachEvent("unload",Gme)});var ZW=Re(($st,YW)=>{"use strict";YW.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var KW=Re(xE=>{"use strict";var Wme=Object.prototype.hasOwnProperty,qme;function XW(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch{return null}}function QW(n){try{return encodeURIComponent(n)}catch{return null}}function $me(n){for(var t=/([^=?#&]+)=?([^&]*)/g,e={},i;i=t.exec(n);){var r=XW(i[1]),o=XW(i[2]);r===null||o===null||r in e||(e[r]=o)}return e}function Yme(n,t){t=t||"";var e=[],i,r;typeof t!="string"&&(t="?");for(r in n)if(Wme.call(n,r)){if(i=n[r],!i&&(i===null||i===qme||isNaN(i))&&(i=""),r=QW(r),i=QW(i),r===null||i===null)continue;e.push(r+"="+i)}return e.length?t+e.join("&"):""}xE.stringify=Yme;xE.parse=$me});var wE=Re((Zst,oq)=>{"use strict";var eq=ZW(),Yg=KW(),Zme=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,tq=/[\n\r\t]/g,Xme=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,nq=/:\d+$/,Qme=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Kme=/^[a-zA-Z]:/;function SE(n){return(n||"").toString().replace(Zme,"")}var CE=[["#","hash"],["?","query"],function(t,e){return vs(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],JW={hash:1,query:1};function iq(n){var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t={};var e=t.location||{};n=n||e;var i={},r=typeof n,o;if(n.protocol==="blob:")i=new ys(unescape(n.pathname),{});else if(r==="string"){i=new ys(n,{});for(o in JW)delete i[o]}else if(r==="object"){for(o in n)o in JW||(i[o]=n[o]);i.slashes===void 0&&(i.slashes=Xme.test(n.href))}return i}function vs(n){return n==="file:"||n==="ftp:"||n==="http:"||n==="https:"||n==="ws:"||n==="wss:"}function rq(n,t){n=SE(n),n=n.replace(tq,""),t=t||{};var e=Qme.exec(n),i=e[1]?e[1].toLowerCase():"",r=!!e[2],o=!!e[3],a=0,s;return r?o?(s=e[2]+e[3]+e[4],a=e[2].length+e[3].length):(s=e[2]+e[4],a=e[2].length):o?(s=e[3]+e[4],a=e[3].length):s=e[4],i==="file:"?a>=2&&(s=s.slice(2)):vs(i)?s=e[4]:i?r&&(s=s.slice(2)):a>=2&&vs(t.protocol)&&(s=e[4]),{protocol:i,slashes:r||vs(i),slashesCount:a,rest:s}}function Jme(n,t){if(n==="")return t;for(var e=(t||"/").split("/").slice(0,-1).concat(n.split("/")),i=e.length,r=e[i-1],o=!1,a=0;i--;)e[i]==="."?e.splice(i,1):e[i]===".."?(e.splice(i,1),a++):a&&(i===0&&(o=!0),e.splice(i,1),a--);return o&&e.unshift(""),(r==="."||r==="..")&&e.push(""),e.join("/")}function ys(n,t,e){if(n=SE(n),n=n.replace(tq,""),!(this instanceof ys))return new ys(n,t,e);var i,r,o,a,s,l,c=CE.slice(),u=typeof t,d=this,f=0;for(u!=="object"&&u!=="string"&&(e=t,t=null),e&&typeof e!="function"&&(e=Yg.parse),t=iq(t),r=rq(n||"",t),i=!r.protocol&&!r.slashes,d.slashes=r.slashes||i&&t.slashes,d.protocol=r.protocol||t.protocol||"",n=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||Kme.test(n))||!r.slashes&&(r.protocol||r.slashesCount<2||!vs(d.protocol)))&&(c[3]=[/(.*)/,"pathname"]);f<c.length;f++){if(a=c[f],typeof a=="function"){n=a(n,d);continue}o=a[0],l=a[1],o!==o?d[l]=n:typeof o=="string"?(s=o==="@"?n.lastIndexOf(o):n.indexOf(o),~s&&(typeof a[2]=="number"?(d[l]=n.slice(0,s),n=n.slice(s+a[2])):(d[l]=n.slice(s),n=n.slice(0,s)))):(s=o.exec(n))&&(d[l]=s[1],n=n.slice(0,s.index)),d[l]=d[l]||i&&a[3]&&t[l]||"",a[4]&&(d[l]=d[l].toLowerCase())}e&&(d.query=e(d.query)),i&&t.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||t.pathname!=="")&&(d.pathname=Jme(d.pathname,t.pathname)),d.pathname.charAt(0)!=="/"&&vs(d.protocol)&&(d.pathname="/"+d.pathname),eq(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(s=d.auth.indexOf(":"),~s?(d.username=d.auth.slice(0,s),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(s+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&vs(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function ehe(n,t,e){var i=this;switch(n){case"query":typeof t=="string"&&t.length&&(t=(e||Yg.parse)(t)),i[n]=t;break;case"port":i[n]=t,eq(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[n]="");break;case"hostname":i[n]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[n]=t,nq.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!e;break;case"pathname":case"hash":if(t){var r=n==="pathname"?"/":"#";i[n]=t.charAt(0)!==r?r+t:t}else i[n]=t;break;case"username":case"password":i[n]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(i.username=t.slice(0,o),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(o+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<CE.length;a++){var s=CE[a];s[4]&&(i[s[1]]=i[s[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&vs(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function the(n){(!n||typeof n!="function")&&(n=Yg.stringify);var t,e=this,i=e.host,r=e.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var o=r+(e.protocol&&e.slashes||vs(e.protocol)?"//":"");return e.username?(o+=e.username,e.password&&(o+=":"+e.password),o+="@"):e.password?(o+=":"+e.password,o+="@"):e.protocol!=="file:"&&vs(e.protocol)&&!i&&e.pathname!=="/"&&(o+="@"),(i[i.length-1]===":"||nq.test(e.hostname)&&!e.port)&&(i+=":"),o+=i+e.pathname,t=typeof e.query=="object"?n(e.query):e.query,t&&(o+=t.charAt(0)!=="?"?"?"+t:t),e.hash&&(o+=e.hash),o}ys.prototype={set:ehe,toString:the};ys.extractProtocol=rq;ys.location=iq;ys.trimLeft=SE;ys.qs=Yg;oq.exports=ys});var la=Re((Xst,aq)=>{"use strict";var nhe=wE(),ihe=function(){};aq.exports={getOrigin:function(n){if(!n)return null;var t=new nhe(n);if(t.protocol==="file:")return null;var e=t.port;return e||(e=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+e},isOriginEqual:function(n,t){var e=this.getOrigin(n)===this.getOrigin(t);return ihe("same",n,t,e),e},isSchemeEqual:function(n,t){return n.split(":")[0]===t.split(":")[0]},addPath:function(n,t){var e=n.split("?");return e[0]+t+(e[1]?"?"+e[1]:"")},addQuery:function(n,t){return n+(n.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(n){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(n)||/^\[::1\]$/.test(n)}}});var Xt=Re((Qst,ME)=>{"use strict";typeof Object.create=="function"?ME.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ME.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}});var TE=Re((Kst,sq)=>{"use strict";function Zg(){this._listeners={}}Zg.prototype.addEventListener=function(n,t){n in this._listeners||(this._listeners[n]=[]);var e=this._listeners[n];e.indexOf(t)===-1&&(e=e.concat([t])),this._listeners[n]=e};Zg.prototype.removeEventListener=function(n,t){var e=this._listeners[n];if(e){var i=e.indexOf(t);if(i!==-1){e.length>1?this._listeners[n]=e.slice(0,i).concat(e.slice(i+1)):delete this._listeners[n];return}}};Zg.prototype.dispatchEvent=function(){var n=arguments[0],t=n.type,e=arguments.length===1?[n]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,e),t in this._listeners)for(var i=this._listeners[t],r=0;r<i.length;r++)i[r].apply(this,e)};sq.exports=Zg});var Hr=Re((Jst,lq)=>{"use strict";var rhe=Xt(),Xg=TE();function l0(){Xg.call(this)}rhe(l0,Xg);l0.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}};l0.prototype.once=function(n,t){var e=this,i=!1;function r(){e.removeListener(n,r),i||(i=!0,t.apply(this,arguments))}this.on(n,r)};l0.prototype.emit=function(){var n=arguments[0],t=this._listeners[n];if(t){for(var e=arguments.length,i=new Array(e-1),r=1;r<e;r++)i[r-1]=arguments[r];for(var o=0;o<t.length;o++)t[o].apply(this,i)}};l0.prototype.on=l0.prototype.addListener=Xg.prototype.addEventListener;l0.prototype.removeListener=Xg.prototype.removeEventListener;lq.exports.EventEmitter=l0});var uq=Re((e2t,EE)=>{"use strict";var cq=global.WebSocket||global.MozWebSocket;cq?EE.exports=function(t){return new cq(t)}:EE.exports=void 0});var hq=Re((t2t,mq)=>{"use strict";var dq=E2(),ohe=la(),ahe=Xt(),fq=Hr().EventEmitter,pq=uq(),D2=function(){};function I2(n,t,e){if(!I2.enabled())throw new Error("Transport created when disabled");fq.call(this),D2("constructor",n);var i=this,r=ohe.addPath(n,"/websocket");r.slice(0,5)==="https"?r="wss"+r.slice(5):r="ws"+r.slice(4),this.url=r,this.ws=new pq(this.url,[],e),this.ws.onmessage=function(o){D2("message event",o.data),i.emit("message",o.data)},this.unloadRef=dq.unloadAdd(function(){D2("unload"),i.ws.close()}),this.ws.onclose=function(o){D2("close event",o.code,o.reason),i.emit("close",o.code,o.reason),i._cleanup()},this.ws.onerror=function(o){D2("error event",o),i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}ahe(I2,fq);I2.prototype.send=function(n){var t="["+n+"]";D2("send",t),this.ws.send(t)};I2.prototype.close=function(){D2("close");var n=this.ws;this._cleanup(),n&&n.close()};I2.prototype._cleanup=function(){D2("_cleanup");var n=this.ws;n&&(n.onmessage=n.onclose=n.onerror=null),dq.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};I2.enabled=function(){return D2("enabled"),!!pq};I2.transportName="websocket";I2.roundTrips=2;mq.exports=I2});var yq=Re((n2t,vq)=>{"use strict";var she=Xt(),gq=Hr().EventEmitter,L2=function(){};function i3(n,t){L2(n),gq.call(this),this.sendBuffer=[],this.sender=t,this.url=n}she(i3,gq);i3.prototype.send=function(n){L2("send",n),this.sendBuffer.push(n),this.sendStop||this.sendSchedule()};i3.prototype.sendScheduleWait=function(){L2("sendScheduleWait");var n=this,t;this.sendStop=function(){L2("sendStop"),n.sendStop=null,clearTimeout(t)},t=setTimeout(function(){L2("timeout"),n.sendStop=null,n.sendSchedule()},25)};i3.prototype.sendSchedule=function(){L2("sendSchedule",this.sendBuffer.length);var n=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(e){n.sendStop=null,e?(L2("error",e),n.emit("close",e.code||1006,"Sending error: "+e),n.close()):n.sendScheduleWait()}),this.sendBuffer=[]}};i3.prototype._cleanup=function(){L2("_cleanup"),this.removeAllListeners()};i3.prototype.close=function(){L2("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};vq.exports=i3});var xq=Re((i2t,bq)=>{"use strict";var lhe=Xt(),_q=Hr().EventEmitter,Q5=function(){};function Qg(n,t,e){Q5(t),_q.call(this),this.Receiver=n,this.receiveUrl=t,this.AjaxObject=e,this._scheduleReceiver()}lhe(Qg,_q);Qg.prototype._scheduleReceiver=function(){Q5("_scheduleReceiver");var n=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(e){Q5("message",e),n.emit("message",e)}),t.once("close",function(e,i){Q5("close",e,i,n.pollIsClosing),n.poll=t=null,n.pollIsClosing||(i==="network"?n._scheduleReceiver():(n.emit("close",e||1006,i),n.removeAllListeners()))})};Qg.prototype.abort=function(){Q5("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};bq.exports=Qg});var LE=Re((r2t,Cq)=>{"use strict";var che=Xt(),uhe=la(),DE=yq(),dhe=xq(),Kg=function(){};function IE(n,t,e,i,r){var o=uhe.addPath(n,t);Kg(o);var a=this;DE.call(this,n,e),this.poll=new dhe(i,o,r),this.poll.on("message",function(s){Kg("poll message",s),a.emit("message",s)}),this.poll.once("close",function(s,l){Kg("poll close",s,l),a.poll=null,a.emit("close",s,l),a.close()})}che(IE,DE);IE.prototype.close=function(){DE.prototype.close.call(this),Kg("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};Cq.exports=IE});var r3=Re((o2t,Mq)=>{"use strict";var fhe=Xt(),phe=la(),Sq=LE(),AE=function(){};function mhe(n){return function(t,e,i){AE("create ajax sender",t,e);var r={};typeof e=="string"&&(r.headers={"Content-type":"text/plain"});var o=phe.addPath(t,"/xhr_send"),a=new n("POST",o,e,r);return a.once("finish",function(s){if(AE("finish",s),a=null,s!==200&&s!==204)return i(new Error("http status "+s));i()}),function(){AE("abort"),a.close(),a=null;var s=new Error("Aborted");s.code=1e3,i(s)}}}function wq(n,t,e,i){Sq.call(this,n,t,mhe(i),e,i)}fhe(wq,Sq);Mq.exports=wq});var J5=Re((a2t,Eq)=>{"use strict";var hhe=Xt(),Tq=Hr().EventEmitter,c0=function(){};function K5(n,t){c0(n),Tq.call(this);var e=this;this.bufferPosition=0,this.xo=new t("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(i,r){c0("finish",i,r),e._chunkHandler(i,r),e.xo=null;var o=i===200?"network":"permanent";c0("close",o),e.emit("close",null,o),e._cleanup()})}hhe(K5,Tq);K5.prototype._chunkHandler=function(n,t){if(c0("_chunkHandler",n),!(n!==200||!t))for(var e=-1;;this.bufferPosition+=e+1){var i=t.slice(this.bufferPosition);if(e=i.indexOf(`
`),e===-1)break;var r=i.slice(0,e);r&&(c0("message",r),this.emit("message",r))}};K5.prototype._cleanup=function(){c0("_cleanup"),this.removeAllListeners()};K5.prototype.abort=function(){c0("abort"),this.xo&&(this.xo.close(),c0("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()};Eq.exports=K5});var zE=Re((s2t,zq)=>{"use strict";var Iq=Hr().EventEmitter,ghe=Xt(),Lq=E2(),vhe=la(),e8=global.XMLHttpRequest,Po=function(){};function _s(n,t,e,i){Po(n,t);var r=this;Iq.call(this),setTimeout(function(){r._start(n,t,e,i)},0)}ghe(_s,Iq);_s.prototype._start=function(n,t,e,i){var r=this;try{this.xhr=new e8}catch{}if(!this.xhr){Po("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}t=vhe.addQuery(t,"t="+ +new Date),this.unloadRef=Lq.unloadAdd(function(){Po("unload cleanup"),r._cleanup(!0)});try{this.xhr.open(n,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Po("xhr timeout"),r.emit("finish",0,""),r._cleanup(!1)})}catch(a){Po("exception",a),this.emit("finish",0,""),this._cleanup(!1);return}if((!i||!i.noCredentials)&&_s.supportsCORS&&(Po("withCredentials"),this.xhr.withCredentials=!0),i&&i.headers)for(var o in i.headers)this.xhr.setRequestHeader(o,i.headers[o]);this.xhr.onreadystatechange=function(){if(r.xhr){var a=r.xhr,s,l;switch(Po("readyState",a.readyState),a.readyState){case 3:try{l=a.status,s=a.responseText}catch{}Po("status",l),l===1223&&(l=204),l===200&&s&&s.length>0&&(Po("chunk"),r.emit("chunk",l,s));break;case 4:l=a.status,Po("status",l),l===1223&&(l=204),(l===12005||l===12029)&&(l=0),Po("finish",l,a.responseText),r.emit("finish",l,a.responseText),r._cleanup(!1);break}}};try{r.xhr.send(e)}catch{r.emit("finish",0,""),r._cleanup(!1)}};_s.prototype._cleanup=function(n){if(Po("cleanup"),!!this.xhr){if(this.removeAllListeners(),Lq.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),n)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};_s.prototype.close=function(){Po("close"),this._cleanup(!0)};_s.enabled=!!e8;var Dq=["Active"].concat("Object").join("X");!_s.enabled&&Dq in global&&(Po("overriding xmlhttprequest"),e8=function(){try{return new global[Dq]("Microsoft.XMLHTTP")}catch{return null}},_s.enabled=!!new e8);var Aq=!1;try{Aq="withCredentials"in new e8}catch{}_s.supportsCORS=Aq;zq.exports=_s});var t8=Re((l2t,kq)=>{"use strict";var yhe=Xt(),Jg=zE();function kE(n,t,e,i){Jg.call(this,n,t,e,i)}yhe(kE,Jg);kE.enabled=Jg.enabled&&Jg.supportsCORS;kq.exports=kE});var du=Re((c2t,Nq)=>{"use strict";var _he=Xt(),NE=zE();function PE(n,t,e){NE.call(this,n,t,e,{noCredentials:!0})}_he(PE,NE);PE.enabled=NE.enabled;Nq.exports=PE});var fu=Re((u2t,Pq)=>{"use strict";Pq.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch{return!1}}}});var Fq=Re((d2t,Rq)=>{"use strict";var bhe=Xt(),Oq=r3(),xhe=J5(),OE=t8(),Che=du(),She=fu();function pu(n){if(!Che.enabled&&!OE.enabled)throw new Error("Transport created when disabled");Oq.call(this,n,"/xhr_streaming",xhe,OE)}bhe(pu,Oq);pu.enabled=function(n){return n.nullOrigin||She.isOpera()?!1:OE.enabled};pu.transportName="xhr-streaming";pu.roundTrips=2;pu.needBody=!!global.document;Rq.exports=pu});var ev=Re((f2t,Uq)=>{"use strict";var Bq=Hr().EventEmitter,whe=Xt(),Vq=E2(),Mhe=fu(),The=la(),u0=function(){};function o3(n,t,e){u0(n,t);var i=this;Bq.call(this),setTimeout(function(){i._start(n,t,e)},0)}whe(o3,Bq);o3.prototype._start=function(n,t,e){u0("_start");var i=this,r=new global.XDomainRequest;t=The.addQuery(t,"t="+ +new Date),r.onerror=function(){u0("onerror"),i._error()},r.ontimeout=function(){u0("ontimeout"),i._error()},r.onprogress=function(){u0("progress",r.responseText),i.emit("chunk",200,r.responseText)},r.onload=function(){u0("load"),i.emit("finish",200,r.responseText),i._cleanup(!1)},this.xdr=r,this.unloadRef=Vq.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(n,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(e)}catch{this._error()}};o3.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};o3.prototype._cleanup=function(n){if(u0("cleanup",n),!!this.xdr){if(this.removeAllListeners(),Vq.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,n)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};o3.prototype.close=function(){u0("close"),this._cleanup(!0)};o3.enabled=!!(global.XDomainRequest&&Mhe.hasDomain());Uq.exports=o3});var FE=Re((p2t,jq)=>{"use strict";var Ehe=Xt(),Hq=r3(),Dhe=J5(),RE=ev();function n8(n){if(!RE.enabled)throw new Error("Transport created when disabled");Hq.call(this,n,"/xhr_streaming",Dhe,RE)}Ehe(n8,Hq);n8.enabled=function(n){return n.cookie_needed||n.nullOrigin?!1:RE.enabled&&n.sameScheme};n8.transportName="xdr-streaming";n8.roundTrips=2;jq.exports=n8});var BE=Re((m2t,Gq)=>{"use strict";Gq.exports=global.EventSource});var $q=Re((h2t,qq)=>{"use strict";var Ihe=Xt(),Wq=Hr().EventEmitter,Lhe=BE(),mu=function(){};function i8(n){mu(n),Wq.call(this);var t=this,e=this.es=new Lhe(n);e.onmessage=function(i){mu("message",i.data),t.emit("message",decodeURI(i.data))},e.onerror=function(i){mu("error",e.readyState,i);var r=e.readyState!==2?"network":"permanent";t._cleanup(),t._close(r)}}Ihe(i8,Wq);i8.prototype.abort=function(){mu("abort"),this._cleanup(),this._close("user")};i8.prototype._cleanup=function(){mu("cleanup");var n=this.es;n&&(n.onmessage=n.onerror=null,n.close(),this.es=null)};i8.prototype._close=function(n){mu("close",n);var t=this;setTimeout(function(){t.emit("close",null,n),t.removeAllListeners()},200)};qq.exports=i8});var VE=Re((g2t,Zq)=>{"use strict";var Ahe=Xt(),Yq=r3(),zhe=$q(),khe=t8(),Nhe=BE();function hu(n){if(!hu.enabled())throw new Error("Transport created when disabled");Yq.call(this,n,"/eventsource",zhe,khe)}Ahe(hu,Yq);hu.enabled=function(){return!!Nhe};hu.transportName="eventsource";hu.roundTrips=2;Zq.exports=hu});var UE=Re((v2t,Xq)=>{"use strict";Xq.exports="1.6.1"});var gu=Re((y2t,A2)=>{"use strict";var tv=E2(),Phe=fu(),a3=function(){};A2.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){A2.exports.WPrefix in global||(global[A2.exports.WPrefix]={})},postMessage:function(n,t){global.parent!==global?global.parent.postMessage(JSON.stringify({windowId:A2.exports.currentWindowId,type:n,data:t||""}),"*"):a3("Cannot postMessage, no parent window.",n,t)},createIframe:function(n,t){var e=global.document.createElement("iframe"),i,r,o=function(){a3("unattach"),clearTimeout(i);try{e.onload=null}catch{}e.onerror=null},a=function(){a3("cleanup"),e&&(o(),setTimeout(function(){e&&e.parentNode.removeChild(e),e=null},0),tv.unloadDel(r))},s=function(c){a3("onerror",c),e&&(a(),t(c))},l=function(c,u){a3("post",c,u),setTimeout(function(){try{e&&e.contentWindow&&e.contentWindow.postMessage(c,u)}catch{}},0)};return e.src=n,e.style.display="none",e.style.position="absolute",e.onerror=function(){s("onerror")},e.onload=function(){a3("onload"),clearTimeout(i),i=setTimeout(function(){s("onload timeout")},2e3)},global.document.body.appendChild(e),i=setTimeout(function(){s("timeout")},15e3),r=tv.unloadAdd(a),{post:l,cleanup:a,loaded:o}},createHtmlfile:function(n,t){var e=["Active"].concat("Object").join("X"),i=new global[e]("htmlfile"),r,o,a,s=function(){clearTimeout(r),a.onerror=null},l=function(){i&&(s(),tv.unloadDel(o),a.parentNode.removeChild(a),a=i=null,CollectGarbage())},c=function(f){a3("onerror",f),i&&(l(),t(f))},u=function(f,p){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(f,p)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[A2.exports.WPrefix]=global[A2.exports.WPrefix];var d=i.createElement("div");return i.body.appendChild(d),a=i.createElement("iframe"),d.appendChild(a),a.src=n,a.onerror=function(){c("onerror")},r=setTimeout(function(){c("timeout")},15e3),o=tv.unloadAdd(l),{post:u,cleanup:l,loaded:s}}};A2.exports.iframeEnabled=!1;global.document&&(A2.exports.iframeEnabled=(typeof global.postMessage=="function"||typeof global.postMessage=="object")&&!Phe.isKonqueror())});var jE=Re((_2t,e$)=>{"use strict";var Ohe=Xt(),Qq=Hr().EventEmitter,Rhe=UE(),HE=la(),Kq=gu(),Jq=E2(),Fhe=n3(),bs=function(){};function xs(n,t,e){if(!xs.enabled())throw new Error("Transport created when disabled");Qq.call(this);var i=this;this.origin=HE.getOrigin(e),this.baseUrl=e,this.transUrl=t,this.transport=n,this.windowId=Fhe.string(8);var r=HE.addPath(e,"/iframe.html")+"#"+this.windowId;bs(n,t,r),this.iframeObj=Kq.createIframe(r,function(o){bs("err callback"),i.emit("close",1006,"Unable to load an iframe ("+o+")"),i.close()}),this.onmessageCallback=this._message.bind(this),Jq.attachEvent("message",this.onmessageCallback)}Ohe(xs,Qq);xs.prototype.close=function(){if(bs("close"),this.removeAllListeners(),this.iframeObj){Jq.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};xs.prototype._message=function(n){if(bs("message",n.data),!HE.isOriginEqual(n.origin,this.origin)){bs("not same origin",n.origin,this.origin);return}var t;try{t=JSON.parse(n.data)}catch{bs("bad json",n.data);return}if(t.windowId!==this.windowId){bs("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([Rhe,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var e;try{e=JSON.parse(t.data)}catch{bs("bad json",t.data);return}this.emit("close",e[0],e[1]),this.close();break}};xs.prototype.postMessage=function(n,t){bs("postMessage",n,t),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:n,data:t||""}),this.origin)};xs.prototype.send=function(n){bs("send",n),this.postMessage("m",n)};xs.enabled=function(){return Kq.iframeEnabled};xs.transportName="iframe";xs.roundTrips=2;e$.exports=xs});var nv=Re((b2t,t$)=>{"use strict";t$.exports={isObject:function(n){var t=typeof n;return t==="function"||t==="object"&&!!n},extend:function(n){if(!this.isObject(n))return n;for(var t,e,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n}}});var rv=Re((x2t,n$)=>{"use strict";var Bhe=Xt(),iv=jE(),Vhe=nv();n$.exports=function(n){function t(e,i){iv.call(this,n.transportName,e,i)}return Bhe(t,iv),t.enabled=function(e,i){if(!global.document)return!1;var r=Vhe.extend({},i);return r.sameOrigin=!0,n.enabled(r)&&iv.enabled()},t.transportName="iframe-"+n.transportName,t.needBody=!0,t.roundTrips=iv.roundTrips+n.roundTrips-1,t.facadeTransport=n,t}});var a$=Re((C2t,o$)=>{"use strict";var Uhe=Xt(),s3=gu(),Hhe=la(),r$=Hr().EventEmitter,jhe=n3(),z2=function(){};function M1(n){z2(n),r$.call(this);var t=this;s3.polluteGlobalNamespace(),this.id="a"+jhe.string(6),n=Hhe.addQuery(n,"c="+decodeURIComponent(s3.WPrefix+"."+this.id)),z2("using htmlfile",M1.htmlfileEnabled);var e=M1.htmlfileEnabled?s3.createHtmlfile:s3.createIframe;global[s3.WPrefix][this.id]={start:function(){z2("start"),t.iframeObj.loaded()},message:function(i){z2("message",i),t.emit("message",i)},stop:function(){z2("stop"),t._cleanup(),t._close("network")}},this.iframeObj=e(n,function(){z2("callback"),t._cleanup(),t._close("permanent")})}Uhe(M1,r$);M1.prototype.abort=function(){z2("abort"),this._cleanup(),this._close("user")};M1.prototype._cleanup=function(){z2("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[s3.WPrefix][this.id]};M1.prototype._close=function(n){z2("_close",n),this.emit("close",null,n),this.removeAllListeners()};M1.htmlfileEnabled=!1;var i$=["Active"].concat("Object").join("X");if(i$ in global)try{M1.htmlfileEnabled=!!new global[i$]("htmlfile")}catch{}M1.enabled=M1.htmlfileEnabled||s3.iframeEnabled;o$.exports=M1});var WE=Re((S2t,l$)=>{"use strict";var Ghe=Xt(),GE=a$(),Whe=du(),s$=r3();function r8(n){if(!GE.enabled)throw new Error("Transport created when disabled");s$.call(this,n,"/htmlfile",GE,Whe)}Ghe(r8,s$);r8.enabled=function(n){return GE.enabled&&n.sameOrigin};r8.transportName="htmlfile";r8.roundTrips=2;l$.exports=r8});var $E=Re((w2t,d$)=>{"use strict";var qhe=Xt(),c$=r3(),$he=J5(),qE=t8(),u$=du();function o8(n){if(!u$.enabled&&!qE.enabled)throw new Error("Transport created when disabled");c$.call(this,n,"/xhr",$he,qE)}qhe(o8,c$);o8.enabled=function(n){return n.nullOrigin?!1:u$.enabled&&n.sameOrigin?!0:qE.enabled};o8.transportName="xhr-polling";o8.roundTrips=2;d$.exports=o8});var h$=Re((M2t,m$)=>{"use strict";var Yhe=Xt(),p$=r3(),Zhe=FE(),Xhe=J5(),f$=ev();function a8(n){if(!f$.enabled)throw new Error("Transport created when disabled");p$.call(this,n,"/xhr",Xhe,f$)}Yhe(a8,p$);a8.enabled=Zhe.enabled;a8.transportName="xdr-polling";a8.roundTrips=2;m$.exports=a8});var _$=Re((T2t,y$)=>{"use strict";var s8=gu(),g$=n3(),Qhe=fu(),Khe=la(),Jhe=Xt(),v$=Hr().EventEmitter,T1=function(){};function Ra(n){T1(n);var t=this;v$.call(this),s8.polluteGlobalNamespace(),this.id="a"+g$.string(6);var e=Khe.addQuery(n,"c="+encodeURIComponent(s8.WPrefix+"."+this.id));global[s8.WPrefix][this.id]=this._callback.bind(this),this._createScript(e),this.timeoutId=setTimeout(function(){T1("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Ra.timeout)}Jhe(Ra,v$);Ra.prototype.abort=function(){if(T1("abort"),global[s8.WPrefix][this.id]){var n=new Error("JSONP user aborted read");n.code=1e3,this._abort(n)}};Ra.timeout=35e3;Ra.scriptErrorTimeout=1e3;Ra.prototype._callback=function(n){T1("_callback",n),this._cleanup(),!this.aborting&&(n&&(T1("message",n),this.emit("message",n)),this.emit("close",null,"network"),this.removeAllListeners())};Ra.prototype._abort=function(n){T1("_abort",n),this._cleanup(),this.aborting=!0,this.emit("close",n.code,n.message),this.removeAllListeners()};Ra.prototype._cleanup=function(){if(T1("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var n=this.script;n.parentNode.removeChild(n),n.onreadystatechange=n.onerror=n.onload=n.onclick=null,this.script=null}delete global[s8.WPrefix][this.id]};Ra.prototype._scriptError=function(){T1("_scriptError");var n=this;this.errorTimer||(this.errorTimer=setTimeout(function(){n.loadedOkay||n._abort(new Error("JSONP script loaded abnormally (onerror)"))},Ra.scriptErrorTimeout))};Ra.prototype._createScript=function(n){T1("_createScript",n);var t=this,e=this.script=global.document.createElement("script"),i;if(e.id="a"+g$.string(8),e.src=n,e.type="text/javascript",e.charset="UTF-8",e.onerror=this._scriptError.bind(this),e.onload=function(){T1("onload"),t._abort(new Error("JSONP script loaded abnormally (onload)"))},e.onreadystatechange=function(){if(T1("onreadystatechange",e.readyState),/loaded|closed/.test(e.readyState)){if(e&&e.htmlFor&&e.onclick){t.loadedOkay=!0;try{e.onclick()}catch{}}e&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof e.async>"u"&&global.document.attachEvent)if(Qhe.isOpera())i=this.script2=global.document.createElement("script"),i.text="try{var a = document.getElementById('"+e.id+"'); if(a)a.onerror();}catch(x){};",e.async=i.async=!1;else{try{e.htmlFor=e.id,e.event="onclick"}catch{}e.async=!0}typeof e.async<"u"&&(e.async=!0);var r=global.document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild),i&&r.insertBefore(i,r.firstChild)};y$.exports=Ra});var C$=Re((E2t,x$)=>{"use strict";var e9e=n3(),b$=la(),k2=function(){},ca,l8;function t9e(n){k2("createIframe",n);try{return global.document.createElement('<iframe name="'+n+'">')}catch{var t=global.document.createElement("iframe");return t.name=n,t}}function n9e(){k2("createForm"),ca=global.document.createElement("form"),ca.style.display="none",ca.style.position="absolute",ca.method="POST",ca.enctype="application/x-www-form-urlencoded",ca.acceptCharset="UTF-8",l8=global.document.createElement("textarea"),l8.name="d",ca.appendChild(l8),global.document.body.appendChild(ca)}x$.exports=function(n,t,e){k2(n,t),ca||n9e();var i="a"+e9e.string(8);ca.target=i,ca.action=b$.addQuery(b$.addPath(n,"/jsonp_send"),"i="+i);var r=t9e(i);r.id=i,r.style.display="none",ca.appendChild(r);try{l8.value=t}catch{}ca.submit();var o=function(a){k2("completed",i,a),r.onerror&&(r.onreadystatechange=r.onerror=r.onload=null,setTimeout(function(){k2("cleaning up",i),r.parentNode.removeChild(r),r=null},500),l8.value="",e(a))};return r.onerror=function(){k2("onerror",i),o()},r.onload=function(){k2("onload",i),o()},r.onreadystatechange=function(a){k2("onreadystatechange",i,r.readyState,a),r.readyState==="complete"&&o()},function(){k2("aborted",i),o(new Error("Aborted"))}}});var M$=Re((D2t,w$)=>{"use strict";var i9e=Xt(),S$=LE(),r9e=_$(),o9e=C$();function l3(n){if(!l3.enabled())throw new Error("Transport created when disabled");S$.call(this,n,"/jsonp",o9e,r9e)}i9e(l3,S$);l3.enabled=function(){return!!global.document};l3.transportName="jsonp-polling";l3.roundTrips=1;l3.needBody=!0;w$.exports=l3});var E$=Re((I2t,T$)=>{"use strict";T$.exports=[hq(),Fq(),FE(),VE(),rv()(VE()),WE(),rv()(WE()),$E(),h$(),rv()($E()),M$()]});var N$=Re(()=>{"use strict";var c8=Array.prototype,QE=Object.prototype,a9e=Function.prototype,u8=String.prototype,YE=c8.slice,KE=QE.toString,L$=function(n){return QE.toString.call(n)==="[object Function]"},s9e=function(t){return KE.call(t)==="[object Array]"},A$=function(t){return KE.call(t)==="[object String]"},l9e=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),XE;l9e?XE=function(n,t,e,i){!i&&t in n||Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:!0,value:e})}:XE=function(n,t,e,i){!i&&t in n||(n[t]=e)};var d8=function(n,t,e){for(var i in t)QE.hasOwnProperty.call(t,i)&&XE(n,i,t[i],e)},z$=function(n){if(n==null)throw new TypeError("can't convert "+n+" to object");return Object(n)};function c9e(n){var t=+n;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function u9e(n){return n>>>0}function ZE(){}d8(a9e,{bind:function(t){var e=this;if(!L$(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var i=YE.call(arguments,1),r=function(){if(this instanceof l){var c=e.apply(this,i.concat(YE.call(arguments)));return Object(c)===c?c:this}else return e.apply(t,i.concat(YE.call(arguments)))},o=Math.max(0,e.length-i.length),a=[],s=0;s<o;s++)a.push("$"+s);var l=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(ZE.prototype=e.prototype,l.prototype=new ZE,ZE.prototype=null),l}});d8(Array,{isArray:s9e});var D$=Object("a"),k$=D$[0]!=="a"||!(0 in D$),d9e=function(t){var e=!0,i=!0;return t&&(t.call("foo",function(r,o,a){typeof a!="object"&&(e=!1)}),t.call([1],function(){"use strict";i=typeof this=="string"},"x")),!!t&&e&&i};d8(c8,{forEach:function(t){var e=z$(this),i=k$&&A$(this)?this.split(""):e,r=arguments[1],o=-1,a=i.length>>>0;if(!L$(t))throw new TypeError;for(;++o<a;)o in i&&t.call(r,i[o],o,e)}},!d9e(c8.forEach));var f9e=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;d8(c8,{indexOf:function(t){var e=k$&&A$(this)?this.split(""):z$(this),i=e.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=c9e(arguments[1])),r=r>=0?r:Math.max(0,i+r);r<i;r++)if(r in e&&e[r]===t)return r;return-1}},f9e);var I$=u8.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var n=/()??/.exec("")[1]===void 0;u8.split=function(t,e){var i=this;if(t===void 0&&e===0)return[];if(KE.call(t)!=="[object RegExp]")return I$.call(this,t,e);var r=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),a=0,s,l,c,u;for(t=new RegExp(t.source,o+"g"),i+="",n||(s=new RegExp("^"+t.source+"$(?!\\s)",o)),e=e===void 0?-1>>>0:u9e(e);(l=t.exec(i))&&(c=l.index+l[0].length,!(c>a&&(r.push(i.slice(a,l.index)),!n&&l.length>1&&l[0].replace(s,function(){for(var d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(l[d]=void 0)}),l.length>1&&l.index<i.length&&c8.push.apply(r,l.slice(1)),u=l[0].length,a=c,r.length>=e)));)t.lastIndex===l.index&&t.lastIndex++;return a===i.length?(u||!t.test(""))&&r.push(""):r.push(i.slice(a)),r.length>e?r.slice(0,e):r}})():"0".split(void 0,0).length&&(u8.split=function(t,e){return t===void 0&&e===0?[]:I$.call(this,t,e)});var p9e=u8.substr,m9e="".substr&&"0b".substr(-1)!=="b";d8(u8,{substr:function(t,e){return p9e.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},m9e)});var O$=Re((z2t,P$)=>{"use strict";var ov=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,JE,h9e=function(n){var t,e={},i=[];for(t=0;t<65536;t++)i.push(String.fromCharCode(t));return n.lastIndex=0,i.join("").replace(n,function(r){return e[r]="\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,e};P$.exports={quote:function(n){var t=JSON.stringify(n);return ov.lastIndex=0,ov.test(t)?(JE||(JE=h9e(ov)),t.replace(ov,function(e){return JE[e]})):t}}});var F$=Re((k2t,R$)=>{"use strict";var av=function(){};R$.exports=function(n){return{filterToEnabled:function(t,e){var i={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],n.forEach(function(r){if(r){if(r.transportName==="websocket"&&e.websocket===!1){av("disabled from server","websocket");return}if(t.length&&t.indexOf(r.transportName)===-1){av("not in whitelist",r.transportName);return}r.enabled(e)?(av("enabled",r.transportName),i.main.push(r),r.facadeTransport&&i.facade.push(r.facadeTransport)):av("disabled",r.transportName)}}),i}}}});var V$=Re((N2t,B$)=>{"use strict";var eD={};["log","debug","warn"].forEach(function(n){var t;try{t=global.console&&global.console[n]&&global.console[n].apply}catch{}eD[n]=t?function(){return global.console[n].apply(global.console,arguments)}:n==="log"?function(){}:eD.log});B$.exports=eD});var sv=Re((P2t,U$)=>{"use strict";function c3(n){this.type=n}c3.prototype.initEvent=function(n,t,e){return this.type=n,this.bubbles=t,this.cancelable=e,this.timeStamp=+new Date,this};c3.prototype.stopPropagation=function(){};c3.prototype.preventDefault=function(){};c3.CAPTURING_PHASE=1;c3.AT_TARGET=2;c3.BUBBLING_PHASE=3;U$.exports=c3});var tD=Re((O2t,H$)=>{"use strict";H$.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}});var q$=Re((R2t,W$)=>{"use strict";var g9e=Xt(),j$=sv();function G$(){j$.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}g9e(G$,j$);W$.exports=G$});var X$=Re((F2t,Z$)=>{"use strict";var v9e=Xt(),$$=sv();function Y$(n){$$.call(this),this.initEvent("message",!1,!1),this.data=n}v9e(Y$,$$);Z$.exports=Y$});var J$=Re((B2t,K$)=>{"use strict";var Q$=Hr().EventEmitter,y9e=Xt();function f8(){var n=this;Q$.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},f8.timeout)}y9e(f8,Q$);f8.prototype.close=function(){clearTimeout(this.to)};f8.timeout=2e3;K$.exports=f8});var iD=Re((V2t,tY)=>{"use strict";var eY=Hr().EventEmitter,_9e=Xt(),b9e=nv(),x9e=function(){};function nD(n,t){eY.call(this);var e=this,i=+new Date;this.xo=new t("GET",n),this.xo.once("finish",function(r,o){var a,s;if(r===200){if(s=+new Date-i,o)try{a=JSON.parse(o)}catch{x9e("bad json",o)}b9e.isObject(a)||(a={})}e.emit("finish",a,s),e.removeAllListeners()})}_9e(nD,eY);nD.prototype.close=function(){this.removeAllListeners(),this.xo.close()};tY.exports=nD});var rD=Re((U2t,iY)=>{"use strict";var C9e=Xt(),nY=Hr().EventEmitter,S9e=du(),w9e=iD();function lv(n){var t=this;nY.call(this),this.ir=new w9e(n,S9e),this.ir.once("finish",function(e,i){t.ir=null,t.emit("message",JSON.stringify([e,i]))})}C9e(lv,nY);lv.transportName="iframe-info-receiver";lv.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()};iY.exports=lv});var sY=Re((H2t,aY)=>{"use strict";var rY=Hr().EventEmitter,M9e=Xt(),T9e=E2(),oY=jE(),E9e=rD(),D9e=function(){};function cv(n,t){var e=this;rY.call(this);var i=function(){var r=e.ifr=new oY(E9e.transportName,t,n);r.once("message",function(o){if(o){var a;try{a=JSON.parse(o)}catch{D9e("bad json",o),e.emit("finish"),e.close();return}var s=a[0],l=a[1];e.emit("finish",s,l)}e.close()}),r.once("close",function(){e.emit("finish"),e.close()})};global.document.body?i():T9e.attachEvent("load",i)}M9e(cv,rY);cv.enabled=function(){return oY.enabled()};cv.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};aY.exports=cv});var pY=Re((j2t,fY)=>{"use strict";var dY=Hr().EventEmitter,I9e=Xt(),L9e=la(),lY=ev(),cY=t8(),A9e=du(),z9e=J$(),uY=sY(),uv=iD(),vu=function(){};function N2(n,t){vu(n);var e=this;dY.call(this),setTimeout(function(){e.doXhr(n,t)},0)}I9e(N2,dY);N2._getReceiver=function(n,t,e){return e.sameOrigin?new uv(t,A9e):cY.enabled?new uv(t,cY):lY.enabled&&e.sameScheme?new uv(t,lY):uY.enabled()?new uY(n,t):new uv(t,z9e)};N2.prototype.doXhr=function(n,t){var e=this,i=L9e.addPath(n,"/info");vu("doXhr",i),this.xo=N2._getReceiver(n,i,t),this.timeoutRef=setTimeout(function(){vu("timeout"),e._cleanup(!1),e.emit("finish")},N2.timeout),this.xo.once("finish",function(r,o){vu("finish",r,o),e._cleanup(!0),e.emit("finish",r,o)})};N2.prototype._cleanup=function(n){vu("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!n&&this.xo&&this.xo.close(),this.xo=null};N2.prototype.close=function(){vu("close"),this.removeAllListeners(),this._cleanup(!1)};N2.timeout=8e3;fY.exports=N2});var gY=Re((G2t,hY)=>{"use strict";var mY=gu();function p8(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}p8.prototype._transportClose=function(n,t){mY.postMessage("c",JSON.stringify([n,t]))};p8.prototype._transportMessage=function(n){mY.postMessage("t",n)};p8.prototype._send=function(n){this._transport.send(n)};p8.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()};hY.exports=p8});var bY=Re((W2t,_Y)=>{"use strict";var vY=la(),k9e=E2(),N9e=gY(),yY=rD(),oD=gu(),dv=tD(),aD=function(){};_Y.exports=function(n,t){var e={};t.forEach(function(r){r.facadeTransport&&(e[r.facadeTransport.transportName]=r.facadeTransport)}),e[yY.transportName]=yY;var i;n.bootstrap_iframe=function(){var r;oD.currentWindowId=dv.hash.slice(1);var o=function(a){if(a.source===parent&&(typeof i>"u"&&(i=a.origin),a.origin===i)){var s;try{s=JSON.parse(a.data)}catch{aD("bad json",a.data);return}if(s.windowId===oD.currentWindowId)switch(s.type){case"s":var l;try{l=JSON.parse(s.data)}catch{aD("bad json",s.data);break}var c=l[0],u=l[1],d=l[2],f=l[3];if(aD(c,u,d,f),c!==n.version)throw new Error('Incompatible SockJS! Main site uses: "'+c+'", the iframe: "'+n.version+'".');if(!vY.isOriginEqual(d,dv.href)||!vY.isOriginEqual(f,dv.href))throw new Error("Can't connect to different domain from within an iframe. ("+dv.href+", "+d+", "+f+")");r=new N9e(new e[u](d,f));break;case"m":r._send(s.data);break;case"c":r&&r._close(),r=null;break}}};k9e.attachEvent("message",o),oD.postMessage("s")}}});var EY=Re((q2t,TY)=>{"use strict";N$();var P9e=wE(),O9e=Xt(),xY=n3(),R9e=O$(),m8=la(),F9e=E2(),B9e=F$(),V9e=nv(),U9e=fu(),H9e=V$(),sD=sv(),SY=TE(),fv=tD(),j9e=q$(),CY=X$(),G9e=pY(),Oi=function(){},wY;function Qt(n,t,e){if(!(this instanceof Qt))return new Qt(n,t,e);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");SY.call(this),this.readyState=Qt.CONNECTING,this.extensions="",this.protocol="",e=e||{},e.protocols_whitelist&&H9e.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=e.transports,this._transportOptions=e.transportOptions||{},this._timeout=e.timeout||0;var i=e.sessionId||8;if(typeof i=="function")this._generateSessionId=i;else if(typeof i=="number")this._generateSessionId=function(){return xY.string(i)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=e.server||xY.numberString(1e3);var r=new P9e(n);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+n+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if(r.protocol!=="http:"&&r.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var o=r.protocol==="https:";if(fv.protocol==="https:"&&!o&&!m8.isLoopbackAddr(r.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(l,c){if(!l)throw new SyntaxError("The protocols entry '"+l+"' is invalid.");if(c<a.length-1&&l===a[c+1])throw new SyntaxError("The protocols entry '"+l+"' is duplicated.")});var s=m8.getOrigin(fv.href);this._origin=s?s.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,Oi("using url",this.url),this._urlInfo={nullOrigin:!U9e.hasDomain(),sameOrigin:m8.isOriginEqual(this.url,fv.href),sameScheme:m8.isSchemeEqual(this.url,fv.href)},this._ir=new G9e(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}O9e(Qt,SY);function MY(n){return n===1e3||n>=3e3&&n<=4999}Qt.prototype.close=function(n,t){if(n&&!MY(n))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===Qt.CLOSING||this.readyState===Qt.CLOSED)){var e=!0;this._close(n||1e3,t||"Normal closure",e)}};Qt.prototype.send=function(n){if(typeof n!="string"&&(n=""+n),this.readyState===Qt.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Qt.OPEN&&this._transport.send(R9e.quote(n))};Qt.version=UE();Qt.CONNECTING=0;Qt.OPEN=1;Qt.CLOSING=2;Qt.CLOSED=3;Qt.prototype._receiveInfo=function(n,t){if(Oi("_receiveInfo",t),this._ir=null,!n){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=n.base_url?n.base_url:this.url,n=V9e.extend(n,this._urlInfo),Oi("info",n);var e=wY.filterToEnabled(this._transportsWhitelist,n);this._transports=e.main,Oi(this._transports.length+" enabled transports"),this._connect()};Qt.prototype._connect=function(){for(var n=this._transports.shift();n;n=this._transports.shift()){if(Oi("attempt",n.transportName),n.needBody&&(!global.document.body||typeof global.document.readyState<"u"&&global.document.readyState!=="complete"&&global.document.readyState!=="interactive")){Oi("waiting for body"),this._transports.unshift(n),F9e.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*n.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),Oi("using timeout",t);var e=m8.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[n.transportName];Oi("transport url",e);var r=new n(e,this._transUrl,i);r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=n.transportName,this._transport=r;return}this._close(2e3,"All transports failed",!1)};Qt.prototype._transportTimeout=function(){Oi("_transportTimeout"),this.readyState===Qt.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};Qt.prototype._transportMessage=function(n){Oi("_transportMessage",n);var t=this,e=n.slice(0,1),i=n.slice(1),r;switch(e){case"o":this._open();return;case"h":this.dispatchEvent(new sD("heartbeat")),Oi("heartbeat",this.transport);return}if(i)try{r=JSON.parse(i)}catch{Oi("bad json",i)}if(typeof r>"u"){Oi("empty payload",i);return}switch(e){case"a":Array.isArray(r)&&r.forEach(function(o){Oi("message",t.transport,o),t.dispatchEvent(new CY(o))});break;case"m":Oi("message",this.transport,r),this.dispatchEvent(new CY(r));break;case"c":Array.isArray(r)&&r.length===2&&this._close(r[0],r[1],!0);break}};Qt.prototype._transportClose=function(n,t){if(Oi("_transportClose",this.transport,n,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!MY(n)&&n!==2e3&&this.readyState===Qt.CONNECTING){this._connect();return}this._close(n,t)};Qt.prototype._open=function(){Oi("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===Qt.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Qt.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new sD("open")),Oi("connected",this.transport)):this._close(1006,"Server lost session")};Qt.prototype._close=function(n,t,e){Oi("_close",this.transport,n,t,e,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Qt.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Qt.CLOSING,setTimeout((function(){this.readyState=Qt.CLOSED,i&&this.dispatchEvent(new sD("error"));var r=new j9e("close");r.wasClean=e||!1,r.code=n||1e3,r.reason=t,this.dispatchEvent(r),this.onmessage=this.onclose=this.onerror=null,Oi("disconnected")}).bind(this),0)};Qt.prototype.countRTO=function(n){return n>100?4*n:300+n};TY.exports=function(n){return wY=B9e(n),bY()(Qt,n),Qt}});var IY=Re(($2t,DY)=>{"use strict";var W9e=E$();DY.exports=EY()(W9e);"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)});var JY=Re((ws,xD)=>{"use strict";(function(n,t){typeof ws=="object"&&typeof xD<"u"?xD.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=t())})(ws,function(){"use strict";function n(S,T,I){if(typeof S=="function"?S===T:S.has(T))return arguments.length<3?T:I;throw new TypeError("Private element is not present on this object")}function t(S,T){if(T.has(S))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(S,T){return S.get(n(S,T))}function i(S,T,I){t(S,T),T.set(S,I)}function r(S,T,I){return S.set(n(S,T),I),I}let o=100,a={},s=()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus()},l=S=>new Promise(T=>{if(!S)return T();let I=window.scrollX,U=window.scrollY;a.restoreFocusTimeout=setTimeout(()=>{s(),T()},o),window.scrollTo(I,U)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((S,T)=>(S[T]=c+T,S),{}),p=["success","warning","info","question","error"].reduce((S,T)=>(S[T]=c+T,S),{}),v="SweetAlert2:",_=S=>S.charAt(0).toUpperCase()+S.slice(1),b=S=>{console.warn(`${v} ${typeof S=="object"?S.join(" "):S}`)},C=S=>{console.error(`${v} ${S}`)},w=[],E=S=>{w.includes(S)||(w.push(S),b(S))},D=(S,T=null)=>{E(`"${S}" is deprecated and will be removed in the next major release.${T?` Use "${T}" instead.`:""}`)},L=S=>typeof S=="function"?S():S,z=S=>S&&typeof S.toPromise=="function",R=S=>z(S)?S.toPromise():Promise.resolve(S),H=S=>S&&Promise.resolve(S)===S,W=()=>document.body.querySelector(`.${d.container}`),$=S=>{let T=W();return T?T.querySelector(S):null},G=S=>$(`.${S}`),Z=()=>G(d.popup),te=()=>G(d.icon),re=()=>G(d["icon-content"]),ce=()=>G(d.title),ne=()=>G(d["html-container"]),he=()=>G(d.image),oe=()=>G(d["progress-steps"]),ve=()=>G(d["validation-message"]),Ee=()=>$(`.${d.actions} .${d.confirm}`),Ge=()=>$(`.${d.actions} .${d.cancel}`),Ye=()=>$(`.${d.actions} .${d.deny}`),Rt=()=>G(d["input-label"]),Xe=()=>$(`.${d.loader}`),Jt=()=>G(d.actions),Mr=()=>G(d.footer),vn=()=>G(d["timer-progress-bar"]),Qi=()=>G(d.close),xn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,zn=()=>{let S=Z();if(!S)return[];let T=S.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),I=Array.from(T).sort((Ce,St)=>{let jt=parseInt(Ce.getAttribute("tabindex")||"0"),Dn=parseInt(St.getAttribute("tabindex")||"0");return jt>Dn?1:jt<Dn?-1:0}),U=S.querySelectorAll(xn),K=Array.from(U).filter(Ce=>Ce.getAttribute("tabindex")!=="-1");return[...new Set(I.concat(K))].filter(Ce=>Co(Ce))},rt=()=>ya(document.body,d.shown)&&!ya(document.body,d["toast-shown"])&&!ya(document.body,d["no-backdrop"]),Ft=()=>{let S=Z();return S?ya(S,d.toast):!1},Ws=()=>{let S=Z();return S?S.hasAttribute("data-loading"):!1},yn=(S,T)=>{if(S.textContent="",T){let U=new DOMParser().parseFromString(T,"text/html"),K=U.querySelector("head");K&&Array.from(K.childNodes).forEach(St=>{S.appendChild(St)});let Ce=U.querySelector("body");Ce&&Array.from(Ce.childNodes).forEach(St=>{St instanceof HTMLVideoElement||St instanceof HTMLAudioElement?S.appendChild(St.cloneNode(!0)):S.appendChild(St)})}},ya=(S,T)=>{if(!T)return!1;let I=T.split(/\s+/);for(let U=0;U<I.length;U++)if(!S.classList.contains(I[U]))return!1;return!0},f7=(S,T)=>{Array.from(S.classList).forEach(I=>{!Object.values(d).includes(I)&&!Object.values(p).includes(I)&&!Object.values(T.showClass||{}).includes(I)&&S.classList.remove(I)})},Qo=(S,T,I)=>{if(f7(S,T),!T.customClass)return;let U=T.customClass[I];if(U){if(typeof U!="string"&&!U.forEach){b(`Invalid type of customClass.${I}! Expected string or iterable object, got "${typeof U}"`);return}en(S,U)}},p7=(S,T)=>{if(!T)return null;switch(T){case"select":case"textarea":case"file":return S.querySelector(`.${d.popup} > .${d[T]}`);case"checkbox":return S.querySelector(`.${d.popup} > .${d.checkbox} input`);case"radio":return S.querySelector(`.${d.popup} > .${d.radio} input:checked`)||S.querySelector(`.${d.popup} > .${d.radio} input:first-child`);case"range":return S.querySelector(`.${d.popup} > .${d.range} input`);default:return S.querySelector(`.${d.popup} > .${d.input}`)}},wN=S=>{if(S.focus(),S.type!=="file"){let T=S.value;S.value="",S.value=T}},MN=(S,T,I)=>{!S||!T||(typeof T=="string"&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(U=>{Array.isArray(S)?S.forEach(K=>{I?K.classList.add(U):K.classList.remove(U)}):I?S.classList.add(U):S.classList.remove(U)}))},en=(S,T)=>{MN(S,T,!0)},_a=(S,T)=>{MN(S,T,!1)},ul=(S,T)=>{let I=Array.from(S.children);for(let U=0;U<I.length;U++){let K=I[U];if(K instanceof HTMLElement&&ya(K,T))return K}},J0=(S,T,I)=>{I===`${parseInt(`${I}`)}`&&(I=parseInt(I)),I||parseInt(`${I}`)===0?S.style.setProperty(T,typeof I=="number"?`${I}px`:I):S.style.removeProperty(T)},Ki=(S,T="flex")=>{S&&(S.style.display=T)},Tr=S=>{S&&(S.style.display="none")},Qb=(S,T="block")=>{S&&new MutationObserver(()=>{Pd(S,S.innerHTML,T)}).observe(S,{childList:!0,subtree:!0})},TN=(S,T,I,U)=>{let K=S.querySelector(T);K&&K.style.setProperty(I,U)},Pd=(S,T,I="flex")=>{T?Ki(S,I):Tr(S)},Co=S=>!!(S&&(S.offsetWidth||S.offsetHeight||S.getClientRects().length)),K1e=()=>!Co(Ee())&&!Co(Ye())&&!Co(Ge()),Kb=S=>S.scrollHeight>S.clientHeight,J1e=(S,T)=>{let I=S;for(;I&&I!==T;){if(Kb(I))return!0;I=I.parentElement}return!1},EN=S=>{let T=window.getComputedStyle(S),I=parseFloat(T.getPropertyValue("animation-duration")||"0"),U=parseFloat(T.getPropertyValue("transition-duration")||"0");return I>0||U>0},Jb=(S,T=!1)=>{let I=vn();I&&Co(I)&&(T&&(I.style.transition="none",I.style.width="100%"),setTimeout(()=>{I.style.transition=`width ${S/1e3}s linear`,I.style.width="0%"},10))},ese=()=>{let S=vn();if(!S)return;let T=parseInt(window.getComputedStyle(S).width);S.style.removeProperty("transition"),S.style.width="100%";let I=parseInt(window.getComputedStyle(S).width),U=T/I*100;S.style.width=`${U}%`},tse=()=>typeof window>"u"||typeof document>"u",nse=`
 <div aria-labelledby="${d.title}" aria-describedby="${d["html-container"]}" class="${d.popup}" tabindex="-1">
   <button type="button" class="${d.close}"></button>
   <ul class="${d["progress-steps"]}"></ul>
   <div class="${d.icon}"></div>
   <img class="${d.image}" />
   <h2 class="${d.title}" id="${d.title}"></h2>
   <div class="${d["html-container"]}" id="${d["html-container"]}"></div>
   <input class="${d.input}" id="${d.input}" />
   <input type="file" class="${d.file}" />
   <div class="${d.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${d.select}" id="${d.select}"></select>
   <div class="${d.radio}"></div>
   <label class="${d.checkbox}">
     <input type="checkbox" id="${d.checkbox}" />
     <span class="${d.label}"></span>
   </label>
   <textarea class="${d.textarea}" id="${d.textarea}"></textarea>
   <div class="${d["validation-message"]}" id="${d["validation-message"]}"></div>
   <div class="${d.actions}">
     <div class="${d.loader}"></div>
     <button type="button" class="${d.confirm}"></button>
     <button type="button" class="${d.deny}"></button>
     <button type="button" class="${d.cancel}"></button>
   </div>
   <div class="${d.footer}"></div>
   <div class="${d["timer-progress-bar-container"]}">
     <div class="${d["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ise=()=>{let S=W();return S?(S.remove(),_a([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0):!1},ec=()=>{a.currentInstance&&a.currentInstance.resetValidationMessage()},rse=()=>{let S=Z();if(!S)return;let T=ul(S,d.input),I=ul(S,d.file),U=S.querySelector(`.${d.range} input`),K=S.querySelector(`.${d.range} output`),Ce=ul(S,d.select),St=S.querySelector(`.${d.checkbox} input`),jt=ul(S,d.textarea);T&&(T.oninput=ec),I&&(I.onchange=ec),Ce&&(Ce.onchange=ec),St&&(St.onchange=ec),jt&&(jt.oninput=ec),U&&K&&(U.oninput=()=>{ec(),K.value=U.value},U.onchange=()=>{ec(),K.value=U.value})},ose=S=>{if(typeof S=="string"){let T=document.querySelector(S);if(!T)throw new Error(`Target element "${S}" not found`);return T}return S},ase=S=>{let T=Z();T&&(T.setAttribute("role",S.toast?"alert":"dialog"),T.setAttribute("aria-live",S.toast?"polite":"assertive"),S.toast||T.setAttribute("aria-modal","true"))},sse=S=>{window.getComputedStyle(S).direction==="rtl"&&(en(W(),d.rtl),a.isRTL=!0)},lse=S=>{let T=ise();if(tse()){C("SweetAlert2 requires document to initialize");return}let I=document.createElement("div");I.className=d.container,T&&en(I,d["no-transition"]),yn(I,nse),I.dataset.swal2Theme=S.theme;let U=ose(S.target||"body");U.appendChild(I),S.topLayer&&(I.setAttribute("popover",""),I.showPopover()),ase(S),sse(U),rse()},ex=(S,T)=>{S instanceof HTMLElement?T.appendChild(S):typeof S=="object"?cse(S,T):S&&yn(T,S)},cse=(S,T)=>{"jquery"in S?use(T,S):yn(T,S.toString())},use=(S,T)=>{if(S.textContent="",0 in T)for(let I=0;I in T;I++)S.appendChild(T[I].cloneNode(!0));else S.appendChild(T.cloneNode(!0))},dse=(S,T)=>{let I=Jt(),U=Xe();!I||!U||(!T.showConfirmButton&&!T.showDenyButton&&!T.showCancelButton?Tr(I):Ki(I),Qo(I,T,"actions"),fse(I,U,T),yn(U,T.loaderHtml||""),Qo(U,T,"loader"))};function fse(S,T,I){let U=Ee(),K=Ye(),Ce=Ge();!U||!K||!Ce||(nx(U,"confirm",I),nx(K,"deny",I),nx(Ce,"cancel",I),pse(U,K,Ce,I),I.reverseButtons&&(I.toast?(S.insertBefore(Ce,U),S.insertBefore(K,U)):(S.insertBefore(Ce,T),S.insertBefore(K,T),S.insertBefore(U,T))))}function pse(S,T,I,U){if(!U.buttonsStyling){_a([S,T,I],d.styled);return}en([S,T,I],d.styled),U.confirmButtonColor&&S.style.setProperty("--swal2-confirm-button-background-color",U.confirmButtonColor),U.denyButtonColor&&T.style.setProperty("--swal2-deny-button-background-color",U.denyButtonColor),U.cancelButtonColor&&I.style.setProperty("--swal2-cancel-button-background-color",U.cancelButtonColor),tx(S),tx(T),tx(I)}function tx(S){let T=window.getComputedStyle(S);if(T.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let I=T.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");S.style.setProperty("--swal2-action-button-focus-box-shadow",T.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${I}`))}function nx(S,T,I){let U=_(T);Pd(S,I[`show${U}Button`],"inline-block"),yn(S,I[`${T}ButtonText`]||""),S.setAttribute("aria-label",I[`${T}ButtonAriaLabel`]||""),S.className=d[T],Qo(S,I,`${T}Button`)}let mse=(S,T)=>{let I=Qi();I&&(yn(I,T.closeButtonHtml||""),Qo(I,T,"closeButton"),Pd(I,T.showCloseButton),I.setAttribute("aria-label",T.closeButtonAriaLabel||""))},hse=(S,T)=>{let I=W();I&&(gse(I,T.backdrop),vse(I,T.position),yse(I,T.grow),Qo(I,T,"container"))};function gse(S,T){typeof T=="string"?S.style.background=T:T||en([document.documentElement,document.body],d["no-backdrop"])}function vse(S,T){T&&(T in d?en(S,d[T]):(b('The "position" parameter is not valid, defaulting to "center"'),en(S,d.center)))}function yse(S,T){T&&en(S,d[`grow-${T}`])}var kn={innerParams:new WeakMap,domCache:new WeakMap};let _se=["input","file","range","select","radio","checkbox","textarea"],bse=(S,T)=>{let I=Z();if(!I)return;let U=kn.innerParams.get(S),K=!U||T.input!==U.input;_se.forEach(Ce=>{let St=ul(I,d[Ce]);St&&(Sse(Ce,T.inputAttributes),St.className=d[Ce],K&&Tr(St))}),T.input&&(K&&xse(T),wse(T))},xse=S=>{if(!S.input)return;if(!mi[S.input]){C(`Unexpected type of input! Expected ${Object.keys(mi).join(" | ")}, got "${S.input}"`);return}let T=DN(S.input);if(!T)return;let I=mi[S.input](T,S);Ki(T),S.inputAutoFocus&&setTimeout(()=>{wN(I)})},Cse=S=>{for(let T=0;T<S.attributes.length;T++){let I=S.attributes[T].name;["id","type","value","style"].includes(I)||S.removeAttribute(I)}},Sse=(S,T)=>{let I=Z();if(!I)return;let U=p7(I,S);if(U){Cse(U);for(let K in T)U.setAttribute(K,T[K])}},wse=S=>{if(!S.input)return;let T=DN(S.input);T&&Qo(T,S,"input")},ix=(S,T)=>{!S.placeholder&&T.inputPlaceholder&&(S.placeholder=T.inputPlaceholder)},Od=(S,T,I)=>{if(I.inputLabel){let U=document.createElement("label"),K=d["input-label"];U.setAttribute("for",S.id),U.className=K,typeof I.customClass=="object"&&en(U,I.customClass.inputLabel),U.innerText=I.inputLabel,T.insertAdjacentElement("beforebegin",U)}},DN=S=>{let T=Z();if(T)return ul(T,d[S]||d.input)},m7=(S,T)=>{["string","number"].includes(typeof T)?S.value=`${T}`:H(T)||b(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof T}"`)},mi={};mi.text=mi.email=mi.password=mi.number=mi.tel=mi.url=mi.search=mi.date=mi["datetime-local"]=mi.time=mi.week=mi.month=(S,T)=>{let I=S;return m7(I,T.inputValue),Od(I,I,T),ix(I,T),I.type=T.input,I},mi.file=(S,T)=>{let I=S;return Od(I,I,T),ix(I,T),I},mi.range=(S,T)=>{let I=S,U=I.querySelector("input"),K=I.querySelector("output");return U&&(m7(U,T.inputValue),U.type=T.input,Od(U,S,T)),K&&m7(K,T.inputValue),S},mi.select=(S,T)=>{let I=S;if(I.textContent="",T.inputPlaceholder){let U=document.createElement("option");yn(U,T.inputPlaceholder),U.value="",U.disabled=!0,U.selected=!0,I.appendChild(U)}return Od(I,I,T),I},mi.radio=S=>{let T=S;return T.textContent="",S},mi.checkbox=(S,T)=>{let I=Z();if(!I)throw new Error("Popup not found");let U=p7(I,"checkbox");if(!U)throw new Error("Checkbox input not found");U.value="1",U.checked=!!T.inputValue;let Ce=S.querySelector("span");if(Ce){let St=T.inputPlaceholder||T.inputLabel;St&&yn(Ce,St)}return U},mi.textarea=(S,T)=>{let I=S;m7(I,T.inputValue),ix(I,T),Od(I,I,T);let U=K=>parseInt(window.getComputedStyle(K).marginLeft)+parseInt(window.getComputedStyle(K).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let K=Z();if(!K)return;let Ce=parseInt(window.getComputedStyle(K).width),St=()=>{if(!document.body.contains(I))return;let jt=I.offsetWidth+U(I),Dn=Z();Dn&&(jt>Ce?Dn.style.width=`${jt}px`:J0(Dn,"width",T.width))};new MutationObserver(St).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};let Mse=(S,T)=>{let I=ne();I&&(Qb(I),Qo(I,T,"htmlContainer"),T.html?(ex(T.html,I),Ki(I,"block")):T.text?(I.textContent=T.text,Ki(I,"block")):Tr(I),bse(S,T))},Tse=(S,T)=>{let I=Mr();I&&(Qb(I),Pd(I,!!T.footer,"block"),T.footer&&ex(T.footer,I),Qo(I,T,"footer"))},Ese=(S,T)=>{let I=kn.innerParams.get(S),U=te();if(!U)return;if(I&&T.icon===I.icon){AN(U,T),IN(U,T);return}if(!T.icon&&!T.iconHtml){Tr(U);return}if(T.icon&&Object.keys(p).indexOf(T.icon)===-1){C(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${T.icon}"`),Tr(U);return}Ki(U),AN(U,T),IN(U,T),en(U,T.showClass&&T.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",LN)},IN=(S,T)=>{for(let[I,U]of Object.entries(p))T.icon!==I&&_a(S,U);en(S,T.icon&&p[T.icon]),Lse(S,T),LN(),Qo(S,T,"icon")},LN=()=>{let S=Z();if(!S)return;let T=window.getComputedStyle(S).getPropertyValue("background-color"),I=S.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let U=0;U<I.length;U++)I[U].style.backgroundColor=T},Dse=S=>`
  ${S.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${S.animation?'<div class="swal2-success-fix"></div>':""}
  ${S.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Ise=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,AN=(S,T)=>{if(!T.icon&&!T.iconHtml)return;let I=S.innerHTML,U="";T.iconHtml?U=zN(T.iconHtml):T.icon==="success"?(U=Dse(T),I=I.replace(/ style=".*?"/g,"")):T.icon==="error"?U=Ise:T.icon&&(U=zN({question:"?",warning:"!",info:"i"}[T.icon])),I.trim()!==U.trim()&&yn(S,U)},Lse=(S,T)=>{if(T.iconColor){S.style.color=T.iconColor,S.style.borderColor=T.iconColor;for(let I of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])TN(S,I,"background-color",T.iconColor);TN(S,".swal2-success-ring","border-color",T.iconColor)}},zN=S=>`<div class="${d["icon-content"]}">${S}</div>`,Ase=(S,T)=>{let I=he();if(I){if(!T.imageUrl){Tr(I);return}Ki(I,""),I.setAttribute("src",T.imageUrl),I.setAttribute("alt",T.imageAlt||""),J0(I,"width",T.imageWidth),J0(I,"height",T.imageHeight),I.className=d.image,Qo(I,T,"image")}},rx=!1,kN=0,NN=0,PN=0,ON=0,zse=S=>{S.addEventListener("mousedown",h7),document.body.addEventListener("mousemove",g7),S.addEventListener("mouseup",v7),S.addEventListener("touchstart",h7),document.body.addEventListener("touchmove",g7),S.addEventListener("touchend",v7)},kse=S=>{S.removeEventListener("mousedown",h7),document.body.removeEventListener("mousemove",g7),S.removeEventListener("mouseup",v7),S.removeEventListener("touchstart",h7),document.body.removeEventListener("touchmove",g7),S.removeEventListener("touchend",v7)},h7=S=>{let T=Z();if(!T)return;let I=te();if(S.target===T||I&&I.contains(S.target)){rx=!0;let U=RN(S);kN=U.clientX,NN=U.clientY,PN=parseInt(T.style.insetInlineStart)||0,ON=parseInt(T.style.insetBlockStart)||0,en(T,"swal2-dragging")}},g7=S=>{let T=Z();if(T&&rx){let{clientX:I,clientY:U}=RN(S),K=I-kN;T.style.insetInlineStart=`${PN+(a.isRTL?-K:K)}px`,T.style.insetBlockStart=`${ON+(U-NN)}px`}},v7=()=>{let S=Z();rx=!1,_a(S,"swal2-dragging")},RN=S=>{let T=0,I=0;return S.type.startsWith("mouse")?(T=S.clientX,I=S.clientY):S.type.startsWith("touch")&&(T=S.touches[0].clientX,I=S.touches[0].clientY),{clientX:T,clientY:I}},Nse=(S,T)=>{let I=W(),U=Z();if(!(!I||!U)){if(T.toast){J0(I,"width",T.width),U.style.width="100%";let K=Xe();K&&U.insertBefore(K,te())}else J0(U,"width",T.width);J0(U,"padding",T.padding),T.color&&(U.style.color=T.color),T.background&&(U.style.background=T.background),Tr(ve()),Pse(U,T),T.draggable&&!T.toast?(en(U,d.draggable),zse(U)):(_a(U,d.draggable),kse(U))}},Pse=(S,T)=>{let I=T.showClass||{};S.className=`${d.popup} ${Co(S)?I.popup:""}`,T.toast?(en([document.documentElement,document.body],d["toast-shown"]),en(S,d.toast)):en(S,d.modal),Qo(S,T,"popup"),typeof T.customClass=="string"&&en(S,T.customClass),T.icon&&en(S,d[`icon-${T.icon}`])},Ose=(S,T)=>{let I=oe();if(!I)return;let{progressSteps:U,currentProgressStep:K}=T;if(!U||U.length===0||K===void 0){Tr(I);return}Ki(I),I.textContent="",K>=U.length&&b("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),U.forEach((Ce,St)=>{let jt=Rse(Ce);if(I.appendChild(jt),St===K&&en(jt,d["active-progress-step"]),St!==U.length-1){let Dn=Fse(T);I.appendChild(Dn)}})},Rse=S=>{let T=document.createElement("li");return en(T,d["progress-step"]),yn(T,S),T},Fse=S=>{let T=document.createElement("li");return en(T,d["progress-step-line"]),S.progressStepsDistance&&J0(T,"width",S.progressStepsDistance),T},Bse=(S,T)=>{let I=ce();I&&(Qb(I),Pd(I,!!(T.title||T.titleText),"block"),T.title&&ex(T.title,I),T.titleText&&(I.innerText=T.titleText),Qo(I,T,"title"))},FN=(S,T)=>{var I;Nse(S,T),hse(S,T),Ose(S,T),Ese(S,T),Ase(S,T),Bse(S,T),mse(S,T),Mse(S,T),dse(S,T),Tse(S,T);let U=Z();typeof T.didRender=="function"&&U&&T.didRender(U),(I=a.eventEmitter)===null||I===void 0||I.emit("didRender",U)},Vse=()=>Co(Z()),BN=()=>{var S;return(S=Ee())===null||S===void 0?void 0:S.click()},Use=()=>{var S;return(S=Ye())===null||S===void 0?void 0:S.click()},Hse=()=>{var S;return(S=Ge())===null||S===void 0?void 0:S.click()},M4=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),VN=S=>{if(S.keydownTarget&&S.keydownHandlerAdded&&S.keydownHandler){let T=S.keydownHandler;S.keydownTarget.removeEventListener("keydown",T,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!1}},jse=(S,T,I)=>{if(VN(S),!T.toast){let U=Ce=>Wse(T,Ce,I);S.keydownHandler=U;let K=T.keydownListenerCapture?window:Z();if(K){S.keydownTarget=K,S.keydownListenerCapture=T.keydownListenerCapture;let Ce=U;S.keydownTarget.addEventListener("keydown",Ce,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!0}}},ox=(S,T)=>{var I;let U=zn();if(U.length){S=S+T,S===-2&&(S=U.length-1),S===U.length?S=0:S===-1&&(S=U.length-1),U[S].focus();return}(I=Z())===null||I===void 0||I.focus()},UN=["ArrowRight","ArrowDown"],Gse=["ArrowLeft","ArrowUp"],Wse=(S,T,I)=>{S&&(T.isComposing||T.keyCode===229||(S.stopKeydownPropagation&&T.stopPropagation(),T.key==="Enter"?qse(T,S):T.key==="Tab"?$se(T):[...UN,...Gse].includes(T.key)?Yse(T.key):T.key==="Escape"&&Zse(T,S,I)))},qse=(S,T)=>{if(!L(T.allowEnterKey))return;let I=Z();if(!I||!T.input)return;let U=p7(I,T.input);if(S.target&&U&&S.target instanceof HTMLElement&&S.target.outerHTML===U.outerHTML){if(["textarea","file"].includes(T.input))return;BN(),S.preventDefault()}},$se=S=>{let T=S.target,I=zn(),U=-1;for(let K=0;K<I.length;K++)if(T===I[K]){U=K;break}S.shiftKey?ox(U,-1):ox(U,1),S.stopPropagation(),S.preventDefault()},Yse=S=>{let T=Jt(),I=Ee(),U=Ye(),K=Ge();if(!T||!I||!U||!K)return;let Ce=[I,U,K];if(document.activeElement instanceof HTMLElement&&!Ce.includes(document.activeElement))return;let St=UN.includes(S)?"nextElementSibling":"previousElementSibling",jt=document.activeElement;if(jt){for(let Dn=0;Dn<T.children.length;Dn++){if(jt=jt[St],!jt)return;if(jt instanceof HTMLButtonElement&&Co(jt))break}jt instanceof HTMLButtonElement&&jt.focus()}},Zse=(S,T,I)=>{S.preventDefault(),L(T.allowEscapeKey)&&I(M4.esc)};var T4={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Xse=()=>{let S=W();Array.from(document.body.children).forEach(I=>{I.contains(S)||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")||""),I.setAttribute("aria-hidden","true"))})},HN=()=>{Array.from(document.body.children).forEach(T=>{T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")||""),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})},jN=typeof window<"u"&&!!window.GestureEvent,Qse=()=>{if(jN&&!ya(document.body,d.iosfix)){let S=document.body.scrollTop;document.body.style.top=`${S*-1}px`,en(document.body,d.iosfix),Kse()}},Kse=()=>{let S=W();if(!S)return;let T;S.ontouchstart=I=>{T=Jse(I)},S.ontouchmove=I=>{T&&(I.preventDefault(),I.stopPropagation())}},Jse=S=>{let T=S.target,I=W(),U=ne();return!I||!U||e2e(S)||t2e(S)?!1:T===I||!Kb(I)&&T instanceof HTMLElement&&!J1e(T,U)&&T.tagName!=="INPUT"&&T.tagName!=="TEXTAREA"&&!(Kb(U)&&U.contains(T))},e2e=S=>!!(S.touches&&S.touches.length&&S.touches[0].touchType==="stylus"),t2e=S=>S.touches&&S.touches.length>1,n2e=()=>{if(ya(document.body,d.iosfix)){let S=parseInt(document.body.style.top,10);_a(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=S*-1}},i2e=()=>{let S=document.createElement("div");S.className=d["scrollbar-measure"],document.body.appendChild(S);let T=S.getBoundingClientRect().width-S.clientWidth;return document.body.removeChild(S),T},E4=null,r2e=S=>{E4===null&&(document.body.scrollHeight>window.innerHeight||S==="scroll")&&(E4=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${E4+i2e()}px`)},o2e=()=>{E4!==null&&(document.body.style.paddingRight=`${E4}px`,E4=null)};function GN(S,T,I,U){Ft()?qN(S,U):(l(I).then(()=>qN(S,U)),VN(a)),jN?(T.setAttribute("style","display:none !important"),T.removeAttribute("class"),T.innerHTML=""):T.remove(),rt()&&(o2e(),n2e(),HN()),a2e()}function a2e(){_a([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function dl(S){S=l2e(S);let T=T4.swalPromiseResolve.get(this),I=s2e(this);this.isAwaitingPromise?S.isDismissed||(Rd(this),T(S)):I&&T(S)}let s2e=S=>{let T=Z();if(!T)return!1;let I=kn.innerParams.get(S);if(!I||ya(T,I.hideClass.popup))return!1;_a(T,I.showClass.popup),en(T,I.hideClass.popup);let U=W();return _a(U,I.showClass.backdrop),en(U,I.hideClass.backdrop),c2e(S,T,I),!0};function WN(S){let T=T4.swalPromiseReject.get(this);Rd(this),T&&T(S)}let Rd=S=>{S.isAwaitingPromise&&(delete S.isAwaitingPromise,kn.innerParams.get(S)||S._destroy())},l2e=S=>typeof S>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},S),c2e=(S,T,I)=>{var U;let K=W(),Ce=EN(T);typeof I.willClose=="function"&&I.willClose(T),(U=a.eventEmitter)===null||U===void 0||U.emit("willClose",T),Ce&&K?u2e(S,T,K,!!I.returnFocus,I.didClose):K&&GN(S,K,!!I.returnFocus,I.didClose)},u2e=(S,T,I,U,K)=>{a.swalCloseEventFinishedCallback=GN.bind(null,S,I,U,K);let Ce=function(St){if(St.target===T){var jt;(jt=a.swalCloseEventFinishedCallback)===null||jt===void 0||jt.call(a),delete a.swalCloseEventFinishedCallback,T.removeEventListener("animationend",Ce),T.removeEventListener("transitionend",Ce)}};T.addEventListener("animationend",Ce),T.addEventListener("transitionend",Ce)},qN=(S,T)=>{setTimeout(()=>{var I;typeof T=="function"&&T.bind(S.params)(),(I=a.eventEmitter)===null||I===void 0||I.emit("didClose"),S._destroy&&S._destroy()})},D4=S=>{let T=Z();if(T||new S7,T=Z(),!T)return;let I=Xe();Ft()?Tr(te()):d2e(T,S),Ki(I),T.setAttribute("data-loading","true"),T.setAttribute("aria-busy","true"),T.focus()},d2e=(S,T)=>{let I=Jt(),U=Xe();!I||!U||(!T&&Co(Ee())&&(T=Ee()),Ki(I),T&&(Tr(T),U.setAttribute("data-button-to-replace",T.className),I.insertBefore(U,T)),en([S,I],d.loading))},f2e=(S,T)=>{T.input==="select"||T.input==="radio"?v2e(S,T):["text","email","number","tel","textarea"].some(I=>I===T.input)&&(z(T.inputValue)||H(T.inputValue))&&(D4(Ee()),y2e(S,T))},p2e=(S,T)=>{let I=S.getInput();if(!I)return null;switch(T.input){case"checkbox":return m2e(I);case"radio":return h2e(I);case"file":return g2e(I);default:return T.inputAutoTrim?I.value.trim():I.value}},m2e=S=>S.checked?1:0,h2e=S=>S.checked?S.value:null,g2e=S=>S.files&&S.files.length?S.getAttribute("multiple")!==null?S.files:S.files[0]:null,v2e=(S,T)=>{let I=Z();if(!I)return;let U=K=>{T.input==="select"?_2e(I,y7(K),T):T.input==="radio"&&b2e(I,y7(K),T)};z(T.inputOptions)||H(T.inputOptions)?(D4(Ee()),R(T.inputOptions).then(K=>{S.hideLoading(),U(K)})):typeof T.inputOptions=="object"?U(T.inputOptions):C(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof T.inputOptions}`)},y2e=(S,T)=>{let I=S.getInput();I&&(Tr(I),R(T.inputValue).then(U=>{I.value=T.input==="number"?`${parseFloat(U)||0}`:`${U}`,Ki(I),I.focus(),S.hideLoading()}).catch(U=>{C(`Error in inputValue promise: ${U}`),I.value="",Ki(I),I.focus(),S.hideLoading()}))};function _2e(S,T,I){let U=ul(S,d.select);if(!U)return;let K=(Ce,St,jt)=>{let Dn=document.createElement("option");Dn.value=jt,yn(Dn,St),Dn.selected=$N(jt,I.inputValue),Ce.appendChild(Dn)};T.forEach(Ce=>{let St=Ce[0],jt=Ce[1];if(Array.isArray(jt)){let Dn=document.createElement("optgroup");Dn.label=St,Dn.disabled=!1,U.appendChild(Dn),jt.forEach(I4=>K(Dn,I4[1],I4[0]))}else K(U,jt,St)}),U.focus()}function b2e(S,T,I){let U=ul(S,d.radio);if(!U)return;T.forEach(Ce=>{let St=Ce[0],jt=Ce[1],Dn=document.createElement("input"),I4=document.createElement("label");Dn.type="radio",Dn.name=d.radio,Dn.value=St,$N(St,I.inputValue)&&(Dn.checked=!0);let ux=document.createElement("span");yn(ux,jt),ux.className=d.label,I4.appendChild(Dn),I4.appendChild(ux),U.appendChild(I4)});let K=U.querySelectorAll("input");K.length&&K[0].focus()}let y7=S=>{let T=[];return S instanceof Map?S.forEach((I,U)=>{let K=I;typeof K=="object"&&(K=y7(K)),T.push([U,K])}):Object.keys(S).forEach(I=>{let U=S[I];typeof U=="object"&&(U=y7(U)),T.push([I,U])}),T},$N=(S,T)=>!!T&&T!==null&&T!==void 0&&T.toString()===S.toString(),x2e=S=>{let T=kn.innerParams.get(S);S.disableButtons(),T.input?YN(S,"confirm"):sx(S,!0)},C2e=S=>{let T=kn.innerParams.get(S);S.disableButtons(),T.returnInputValueOnDeny?YN(S,"deny"):ax(S,!1)},S2e=(S,T)=>{S.disableButtons(),T(M4.cancel)},YN=(S,T)=>{let I=kn.innerParams.get(S);if(!I.input){C(`The "input" parameter is needed to be set when using returnInputValueOn${_(T)}`);return}let U=S.getInput(),K=p2e(S,I);I.inputValidator?w2e(S,K,T):U&&!U.checkValidity()?(S.enableButtons(),S.showValidationMessage(I.validationMessage||U.validationMessage)):T==="deny"?ax(S,K):sx(S,K)},w2e=(S,T,I)=>{let U=kn.innerParams.get(S);S.disableInput(),Promise.resolve().then(()=>R(U.inputValidator(T,U.validationMessage))).then(Ce=>{S.enableButtons(),S.enableInput(),Ce?S.showValidationMessage(Ce):I==="deny"?ax(S,T):sx(S,T)})},ax=(S,T)=>{let I=kn.innerParams.get(S);I.showLoaderOnDeny&&D4(Ye()),I.preDeny?(S.isAwaitingPromise=!0,Promise.resolve().then(()=>R(I.preDeny(T,I.validationMessage))).then(K=>{K===!1?(S.hideLoading(),Rd(S)):S.close({isDenied:!0,value:typeof K>"u"?T:K})}).catch(K=>XN(S,K))):S.close({isDenied:!0,value:T})},ZN=(S,T)=>{S.close({isConfirmed:!0,value:T})},XN=(S,T)=>{S.rejectPromise(T)},sx=(S,T)=>{let I=kn.innerParams.get(S);I.showLoaderOnConfirm&&D4(),I.preConfirm?(S.resetValidationMessage(),S.isAwaitingPromise=!0,Promise.resolve().then(()=>R(I.preConfirm(T,I.validationMessage))).then(K=>{Co(ve())||K===!1?(S.hideLoading(),Rd(S)):ZN(S,typeof K>"u"?T:K)}).catch(K=>XN(S,K))):ZN(S,T)};function _7(){let S=kn.innerParams.get(this);if(!S)return;let T=kn.domCache.get(this);Tr(T.loader),Ft()?S.icon&&Ki(te()):M2e(T),_a([T.popup,T.actions],d.loading),T.popup.removeAttribute("aria-busy"),T.popup.removeAttribute("data-loading"),T.confirmButton.disabled=!1,T.denyButton.disabled=!1,T.cancelButton.disabled=!1}let M2e=S=>{let T=S.loader.getAttribute("data-button-to-replace"),I=T?S.popup.getElementsByClassName(T):[];I.length?Ki(I[0],"inline-block"):K1e()&&Tr(S.actions)};function QN(){let S=kn.innerParams.get(this),T=kn.domCache.get(this);return T?p7(T.popup,S.input):null}function KN(S,T,I){let U=kn.domCache.get(S);T.forEach(K=>{U[K].disabled=I})}function JN(S,T){let I=Z();if(!(!I||!S))if(S.type==="radio"){let U=I.querySelectorAll(`[name="${d.radio}"]`);for(let K=0;K<U.length;K++)U[K].disabled=T}else S.disabled=T}function eP(){KN(this,["confirmButton","denyButton","cancelButton"],!1)}function tP(){KN(this,["confirmButton","denyButton","cancelButton"],!0)}function nP(){JN(this.getInput(),!1)}function iP(){JN(this.getInput(),!0)}function rP(S){let T=kn.domCache.get(this),I=kn.innerParams.get(this);yn(T.validationMessage,S),T.validationMessage.className=d["validation-message"],I.customClass&&I.customClass.validationMessage&&en(T.validationMessage,I.customClass.validationMessage),Ki(T.validationMessage);let U=this.getInput();U&&(U.setAttribute("aria-invalid","true"),U.setAttribute("aria-describedby",d["validation-message"]),wN(U),en(U,d.inputerror))}function oP(){let S=kn.domCache.get(this);S.validationMessage&&Tr(S.validationMessage);let T=this.getInput();T&&(T.removeAttribute("aria-invalid"),T.removeAttribute("aria-describedby"),_a(T,d.inputerror))}let fl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},T2e=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],E2e={allowEnterKey:void 0},D2e=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],aP=S=>Object.prototype.hasOwnProperty.call(fl,S),sP=S=>T2e.indexOf(S)!==-1,lP=S=>E2e[S],I2e=S=>{aP(S)||b(`Unknown parameter "${S}"`)},L2e=S=>{D2e.includes(S)&&b(`The parameter "${S}" is incompatible with toasts`)},A2e=S=>{let T=lP(S);T&&D(S,T)},cP=S=>{S.backdrop===!1&&S.allowOutsideClick&&b('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),S.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(S.theme)&&b(`Invalid theme "${S.theme}"`);for(let T in S)I2e(T),S.toast&&L2e(T),A2e(T)};function uP(S){let T=W(),I=Z(),U=kn.innerParams.get(this);if(!I||ya(I,U.hideClass.popup)){b("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let K=z2e(S),Ce=Object.assign({},U,K);cP(Ce),T&&(T.dataset.swal2Theme=Ce.theme),FN(this,Ce),kn.innerParams.set(this,Ce),Object.defineProperties(this,{params:{value:Object.assign({},this.params,S),writable:!1,enumerable:!0}})}let z2e=S=>{let T={};return Object.keys(S).forEach(I=>{if(sP(I)){let U=S;T[I]=U[I]}else b(`Invalid parameter to update: ${I}`)}),T};function dP(){var S;let T=kn.domCache.get(this),I=kn.innerParams.get(this);if(!I){fP(this);return}T.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),typeof I.didDestroy=="function"&&I.didDestroy(),(S=a.eventEmitter)===null||S===void 0||S.emit("didDestroy"),k2e(this)}let k2e=S=>{fP(S),delete S.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},fP=S=>{S.isAwaitingPromise?(lx(kn,S),S.isAwaitingPromise=!0):(lx(T4,S),lx(kn,S),delete S.isAwaitingPromise,delete S.disableButtons,delete S.enableButtons,delete S.getInput,delete S.disableInput,delete S.enableInput,delete S.hideLoading,delete S.disableLoading,delete S.showValidationMessage,delete S.resetValidationMessage,delete S.close,delete S.closePopup,delete S.closeModal,delete S.closeToast,delete S.rejectPromise,delete S.update,delete S._destroy)},lx=(S,T)=>{for(let I in S)S[I].delete(T)};var N2e=Object.freeze({__proto__:null,_destroy:dP,close:dl,closeModal:dl,closePopup:dl,closeToast:dl,disableButtons:tP,disableInput:iP,disableLoading:_7,enableButtons:eP,enableInput:nP,getInput:QN,handleAwaitingPromise:Rd,hideLoading:_7,rejectPromise:WN,resetValidationMessage:oP,showValidationMessage:rP,update:uP});let P2e=(S,T,I)=>{S.toast?O2e(S,T,I):(F2e(T),B2e(T),V2e(S,T,I))},O2e=(S,T,I)=>{T.popup.onclick=()=>{S&&(R2e(S)||S.timer||S.input)||I(M4.close)}},R2e=S=>!!(S.showConfirmButton||S.showDenyButton||S.showCancelButton||S.showCloseButton),b7=!1,F2e=S=>{S.popup.onmousedown=()=>{S.container.onmouseup=function(T){S.container.onmouseup=()=>{},T.target===S.container&&(b7=!0)}}},B2e=S=>{S.container.onmousedown=T=>{T.target===S.container&&T.preventDefault(),S.popup.onmouseup=function(I){S.popup.onmouseup=()=>{},(I.target===S.popup||I.target instanceof HTMLElement&&S.popup.contains(I.target))&&(b7=!0)}}},V2e=(S,T,I)=>{T.container.onclick=U=>{if(b7){b7=!1;return}U.target===T.container&&L(S.allowOutsideClick)&&I(M4.backdrop)}},U2e=S=>typeof S=="object"&&S.jquery,pP=S=>S instanceof Element||U2e(S),H2e=S=>{let T={};return typeof S[0]=="object"&&!pP(S[0])?Object.assign(T,S[0]):["title","html","icon"].forEach((I,U)=>{let K=S[U];typeof K=="string"||pP(K)?T[I]=K:K!==void 0&&C(`Unexpected type of ${I}! Expected "string" or "Element", got ${typeof K}`)}),T};function j2e(...S){return new this(...S)}function G2e(S){class T extends this{_main(U,K){return super._main(U,Object.assign({},S,K))}}return T}let W2e=()=>a.timeout&&a.timeout.getTimerLeft(),mP=()=>{if(a.timeout)return ese(),a.timeout.stop()},hP=()=>{if(a.timeout){let S=a.timeout.start();return Jb(S),S}},q2e=()=>{let S=a.timeout;return S&&(S.running?mP():hP())},$2e=S=>{if(a.timeout){let T=a.timeout.increase(S);return Jb(T,!0),T}},Y2e=()=>!!(a.timeout&&a.timeout.isRunning()),gP=!1,cx={};function Z2e(S="data-swal-template"){cx[S]=this,gP||(document.body.addEventListener("click",X2e),gP=!0)}let X2e=S=>{for(let T=S.target;T&&T!==document;T=T.parentNode)for(let I in cx){let U=T.getAttribute&&T.getAttribute(I);if(U){cx[I].fire({template:U});return}}};class Q2e{constructor(){this.events={}}_getHandlersByEventName(T){return typeof this.events[T]>"u"&&(this.events[T]=[]),this.events[T]}on(T,I){let U=this._getHandlersByEventName(T);U.includes(I)||U.push(I)}once(T,I){let U=(...K)=>{this.removeListener(T,U),I.apply(this,K)};this.on(T,U)}emit(T,...I){this._getHandlersByEventName(T).forEach(U=>{try{U.apply(this,I)}catch(K){console.error(K)}})}removeListener(T,I){let U=this._getHandlersByEventName(T),K=U.indexOf(I);K>-1&&U.splice(K,1)}removeAllListeners(T){this.events[T]!==void 0&&(this.events[T].length=0)}reset(){this.events={}}}a.eventEmitter=new Q2e;var K2e=Object.freeze({__proto__:null,argsToParams:H2e,bindClickHandler:Z2e,clickCancel:Hse,clickConfirm:BN,clickDeny:Use,enableLoading:D4,fire:j2e,getActions:Jt,getCancelButton:Ge,getCloseButton:Qi,getConfirmButton:Ee,getContainer:W,getDenyButton:Ye,getFocusableElements:zn,getFooter:Mr,getHtmlContainer:ne,getIcon:te,getIconContent:re,getImage:he,getInputLabel:Rt,getLoader:Xe,getPopup:Z,getProgressSteps:oe,getTimerLeft:W2e,getTimerProgressBar:vn,getTitle:ce,getValidationMessage:ve,increaseTimer:$2e,isDeprecatedParameter:lP,isLoading:Ws,isTimerRunning:Y2e,isUpdatableParameter:sP,isValidParameter:aP,isVisible:Vse,mixin:G2e,off:(S,T)=>{if(a.eventEmitter){if(!S){a.eventEmitter.reset();return}T?a.eventEmitter.removeListener(S,T):a.eventEmitter.removeAllListeners(S)}},on:(S,T)=>{a.eventEmitter&&a.eventEmitter.on(S,T)},once:(S,T)=>{a.eventEmitter&&a.eventEmitter.once(S,T)},resumeTimer:hP,showLoading:D4,stopTimer:mP,toggleTimer:q2e});class J2e{constructor(T,I){this.callback=T,this.remaining=I,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(T){let I=this.running;return I&&this.stop(),this.remaining+=T,I&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let vP=["swal-title","swal-html","swal-footer"],ele=S=>{let T=typeof S.template=="string"?document.querySelector(S.template):S.template;if(!T)return{};let I=T.content;return lle(I),Object.assign(tle(I),nle(I),ile(I),rle(I),ole(I),ale(I),sle(I,vP))},tle=S=>{let T={};return Array.from(S.querySelectorAll("swal-param")).forEach(U=>{tc(U,["name","value"]);let K=U.getAttribute("name"),Ce=U.getAttribute("value");!K||!Ce||(K in fl&&typeof fl[K]=="boolean"?T[K]=Ce!=="false":K in fl&&typeof fl[K]=="object"?T[K]=JSON.parse(Ce):T[K]=Ce)}),T},nle=S=>{let T={};return Array.from(S.querySelectorAll("swal-function-param")).forEach(U=>{let K=U.getAttribute("name"),Ce=U.getAttribute("value");!K||!Ce||(T[K]=new Function(`return ${Ce}`)())}),T},ile=S=>{let T={};return Array.from(S.querySelectorAll("swal-button")).forEach(U=>{tc(U,["type","color","aria-label"]);let K=U.getAttribute("type");if(!(!K||!["confirm","cancel","deny"].includes(K))){if(T[`${K}ButtonText`]=U.innerHTML,T[`show${_(K)}Button`]=!0,U.hasAttribute("color")){let Ce=U.getAttribute("color");Ce!==null&&(T[`${K}ButtonColor`]=Ce)}if(U.hasAttribute("aria-label")){let Ce=U.getAttribute("aria-label");Ce!==null&&(T[`${K}ButtonAriaLabel`]=Ce)}}}),T},rle=S=>{let T={},I=S.querySelector("swal-image");return I&&(tc(I,["src","width","height","alt"]),I.hasAttribute("src")&&(T.imageUrl=I.getAttribute("src")||void 0),I.hasAttribute("width")&&(T.imageWidth=I.getAttribute("width")||void 0),I.hasAttribute("height")&&(T.imageHeight=I.getAttribute("height")||void 0),I.hasAttribute("alt")&&(T.imageAlt=I.getAttribute("alt")||void 0)),T},ole=S=>{let T={},I=S.querySelector("swal-icon");return I&&(tc(I,["type","color"]),I.hasAttribute("type")&&(T.icon=I.getAttribute("type")),I.hasAttribute("color")&&(T.iconColor=I.getAttribute("color")),T.iconHtml=I.innerHTML),T},ale=S=>{let T={},I=S.querySelector("swal-input");I&&(tc(I,["type","label","placeholder","value"]),T.input=I.getAttribute("type")||"text",I.hasAttribute("label")&&(T.inputLabel=I.getAttribute("label")),I.hasAttribute("placeholder")&&(T.inputPlaceholder=I.getAttribute("placeholder")),I.hasAttribute("value")&&(T.inputValue=I.getAttribute("value")));let U=Array.from(S.querySelectorAll("swal-input-option"));return U.length&&(T.inputOptions={},U.forEach(K=>{tc(K,["value"]);let Ce=K.getAttribute("value");if(!Ce)return;let St=K.innerHTML;T.inputOptions[Ce]=St})),T},sle=(S,T)=>{let I={};for(let U in T){let K=T[U],Ce=S.querySelector(K);Ce&&(tc(Ce,[]),I[K.replace(/^swal-/,"")]=Ce.innerHTML.trim())}return I},lle=S=>{let T=vP.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(S.children).forEach(I=>{let U=I.tagName.toLowerCase();T.includes(U)||b(`Unrecognized element <${U}>`)})},tc=(S,T)=>{Array.from(S.attributes).forEach(I=>{T.indexOf(I.name)===-1&&b([`Unrecognized attribute "${I.name}" on <${S.tagName.toLowerCase()}>.`,`${T.length?`Allowed attributes are: ${T.join(", ")}`:"To set the value, use HTML within the element."}`])})},yP=10,cle=S=>{var T,I;let U=W(),K=Z();if(!U||!K)return;typeof S.willOpen=="function"&&S.willOpen(K),(T=a.eventEmitter)===null||T===void 0||T.emit("willOpen",K);let St=window.getComputedStyle(document.body).overflowY;if(fle(U,K,S),setTimeout(()=>{ule(U,K)},yP),rt()&&(dle(U,S.scrollbarPadding!==void 0?S.scrollbarPadding:!1,St),Xse()),!Ft()&&!a.previousActiveElement&&(a.previousActiveElement=document.activeElement),typeof S.didOpen=="function"){let jt=S.didOpen;setTimeout(()=>jt(K))}(I=a.eventEmitter)===null||I===void 0||I.emit("didOpen",K)},x7=S=>{let T=Z();if(!T||S.target!==T)return;let I=W();I&&(T.removeEventListener("animationend",x7),T.removeEventListener("transitionend",x7),I.style.overflowY="auto",_a(I,d["no-transition"]))},ule=(S,T)=>{EN(T)?(S.style.overflowY="hidden",T.addEventListener("animationend",x7),T.addEventListener("transitionend",x7)):S.style.overflowY="auto"},dle=(S,T,I)=>{Qse(),T&&I!=="hidden"&&r2e(I),setTimeout(()=>{S.scrollTop=0})},fle=(S,T,I)=>{var U;(U=I.showClass)!==null&&U!==void 0&&U.backdrop&&en(S,I.showClass.backdrop),I.animation?(T.style.setProperty("opacity","0","important"),Ki(T,"grid"),setTimeout(()=>{var K;(K=I.showClass)!==null&&K!==void 0&&K.popup&&en(T,I.showClass.popup),T.style.removeProperty("opacity")},yP)):Ki(T,"grid"),en([document.documentElement,document.body],d.shown),I.heightAuto&&I.backdrop&&!I.toast&&en([document.documentElement,document.body],d["height-auto"])};var _P={email:(S,T)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(S)?Promise.resolve():Promise.resolve(T||"Invalid email address"),url:(S,T)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(S)?Promise.resolve():Promise.resolve(T||"Invalid URL")};function ple(S){S.inputValidator||(S.input==="email"&&(S.inputValidator=_P.email),S.input==="url"&&(S.inputValidator=_P.url))}function mle(S){(!S.target||typeof S.target=="string"&&!document.querySelector(S.target)||typeof S.target!="string"&&!S.target.appendChild)&&(b('Target parameter is not valid, defaulting to "body"'),S.target="body")}function hle(S){ple(S),S.showLoaderOnConfirm&&!S.preConfirm&&b(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),mle(S),typeof S.title=="string"&&(S.title=S.title.split(`
`).join("<br />")),lse(S)}let F1;var C7=new WeakMap;class hi{constructor(...T){if(i(this,C7,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;F1=this;let I=Object.freeze(this.constructor.argsToParams(T));this.params=I,this.isAwaitingPromise=!1,r(C7,this,this._main(F1.params))}_main(T,I={}){if(cP(Object.assign({},I,T)),a.currentInstance){let Ce=T4.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:St}=a.currentInstance;a.currentInstance._destroy(),St||Ce({isDismissed:!0}),rt()&&HN()}a.currentInstance=F1;let U=vle(T,I);hle(U),Object.freeze(U),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);let K=yle(F1);return FN(F1,U),kn.innerParams.set(F1,U),gle(F1,K,U)}then(T){return e(C7,this).then(T)}finally(T){return e(C7,this).finally(T)}}let gle=(S,T,I)=>new Promise((U,K)=>{let Ce=St=>{S.close({isDismissed:!0,dismiss:St,isConfirmed:!1,isDenied:!1})};T4.swalPromiseResolve.set(S,U),T4.swalPromiseReject.set(S,K),T.confirmButton.onclick=()=>{x2e(S)},T.denyButton.onclick=()=>{C2e(S)},T.cancelButton.onclick=()=>{S2e(S,Ce)},T.closeButton.onclick=()=>{Ce(M4.close)},P2e(I,T,Ce),jse(a,I,Ce),f2e(S,I),cle(I),_le(a,I,Ce),ble(T,I),setTimeout(()=>{T.container.scrollTop=0})}),vle=(S,T)=>{let I=ele(S),U=Object.assign({},fl,T,I,S);return U.showClass=Object.assign({},fl.showClass,U.showClass),U.hideClass=Object.assign({},fl.hideClass,U.hideClass),U.animation===!1&&(U.showClass={backdrop:"swal2-noanimation"},U.hideClass={}),U},yle=S=>{let T={popup:Z(),container:W(),actions:Jt(),confirmButton:Ee(),denyButton:Ye(),cancelButton:Ge(),loader:Xe(),closeButton:Qi(),validationMessage:ve(),progressSteps:oe()};return kn.domCache.set(S,T),T},_le=(S,T,I)=>{let U=vn();Tr(U),T.timer&&(S.timeout=new J2e(()=>{I("timer"),delete S.timeout},T.timer),T.timerProgressBar&&U&&(Ki(U),Qo(U,T,"timerProgressBar"),setTimeout(()=>{S.timeout&&S.timeout.running&&Jb(T.timer)})))},ble=(S,T)=>{if(!T.toast){if(!L(T.allowEnterKey)){D("allowEnterKey"),Sle();return}xle(S)||Cle(S,T)||ox(-1,1)}},xle=S=>{let T=Array.from(S.popup.querySelectorAll("[autofocus]"));for(let I of T)if(I instanceof HTMLElement&&Co(I))return I.focus(),!0;return!1},Cle=(S,T)=>T.focusDeny&&Co(S.denyButton)?(S.denyButton.focus(),!0):T.focusCancel&&Co(S.cancelButton)?(S.cancelButton.focus(),!0):T.focusConfirm&&Co(S.confirmButton)?(S.confirmButton.focus(),!0):!1,Sle=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};hi.prototype.disableButtons=tP,hi.prototype.enableButtons=eP,hi.prototype.getInput=QN,hi.prototype.disableInput=iP,hi.prototype.enableInput=nP,hi.prototype.hideLoading=_7,hi.prototype.disableLoading=_7,hi.prototype.showValidationMessage=rP,hi.prototype.resetValidationMessage=oP,hi.prototype.close=dl,hi.prototype.closePopup=dl,hi.prototype.closeModal=dl,hi.prototype.closeToast=dl,hi.prototype.rejectPromise=WN,hi.prototype.update=uP,hi.prototype._destroy=dP,Object.assign(hi,K2e),Object.keys(N2e).forEach(S=>{hi[S]=function(...T){if(F1&&F1[S])return F1[S](...T)}}),hi.DismissReason=M4,hi.version="11.26.17";let S7=hi;return S7.default=S7,S7});typeof ws<"u"&&ws.Sweetalert2&&(ws.swal=ws.sweetAlert=ws.Swal=ws.SweetAlert=ws.Sweetalert2);typeof document<"u"&&(function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var bQ=Re((w8t,Xv)=>{"use strict";var eQ,tQ,nQ,iQ,rQ,oQ,aQ,sQ,lQ,Yv,sI,cQ,uQ,dQ,Iu,fQ,pQ,mQ,hQ,gQ,vQ,yQ,_Q,Zv;(function(n){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){n(e(t,e(i)))}):typeof Xv=="object"&&typeof Xv.exports=="object"?n(e(t,e(Xv.exports))):n(e(t));function e(i,r){return i!==t&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(o,a){return i[o]=r?r(o,a):a}}})(function(n){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])};eQ=function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(i,r);function o(){this.constructor=i}i.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)},tQ=Object.assign||function(i){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},nQ=function(i,r){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(i);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(i,a[s])&&(o[a[s]]=i[a[s]]);return o},iQ=function(i,r,o,a){var s=arguments.length,l=s<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,o):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,r,o,a);else for(var u=i.length-1;u>=0;u--)(c=i[u])&&(l=(s<3?c(l):s>3?c(r,o,l):c(r,o))||l);return s>3&&l&&Object.defineProperty(r,o,l),l},rQ=function(i,r){return function(o,a){r(o,a,i)}},oQ=function(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)},aQ=function(i,r,o,a){function s(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(p){try{f(a.next(p))}catch(v){c(v)}}function d(p){try{f(a.throw(p))}catch(v){c(v)}}function f(p){p.done?l(p.value):s(p.value).then(u,d)}f((a=a.apply(i,r||[])).next())})},sQ=function(i,r){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(p){return d([f,p])}}function d(f){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,s&&(l=f[0]&2?s.return:f[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,f[1])).done)return l;switch(s=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,s=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){o.label=f[1];break}if(f[0]===6&&o.label<l[1]){o.label=l[1],l=f;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(f);break}l[2]&&o.ops.pop(),o.trys.pop();continue}f=r.call(i,o)}catch(p){f=[6,p],s=0}finally{a=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},lQ=function(i,r){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&Zv(r,i,o)},Zv=Object.create?function(i,r,o,a){a===void 0&&(a=o),Object.defineProperty(i,a,{enumerable:!0,get:function(){return r[o]}})}:function(i,r,o,a){a===void 0&&(a=o),i[a]=r[o]},Yv=function(i){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&i[r],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},sI=function(i,r){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var a=o.call(i),s,l=[],c;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(c)throw c.error}}return l},cQ=function(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(sI(arguments[r]));return i},uQ=function(){for(var i=0,r=0,o=arguments.length;r<o;r++)i+=arguments[r].length;for(var a=Array(i),s=0,r=0;r<o;r++)for(var l=arguments[r],c=0,u=l.length;c<u;c++,s++)a[s]=l[c];return a},dQ=function(i,r,o){if(o||arguments.length===2)for(var a=0,s=r.length,l;a<s;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return i.concat(l||r)},Iu=function(i){return this instanceof Iu?(this.v=i,this):new Iu(i)},fQ=function(i,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,r||[]),s,l=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(_){a[_]&&(s[_]=function(b){return new Promise(function(C,w){l.push([_,b,C,w])>1||u(_,b)})})}function u(_,b){try{d(a[_](b))}catch(C){v(l[0][3],C)}}function d(_){_.value instanceof Iu?Promise.resolve(_.value.v).then(f,p):v(l[0][2],_)}function f(_){u("next",_)}function p(_){u("throw",_)}function v(_,b){_(b),l.shift(),l.length&&u(l[0][0],l[0][1])}},pQ=function(i){var r,o;return r={},a("next"),a("throw",function(s){throw s}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(s,l){r[s]=i[s]?function(c){return(o=!o)?{value:Iu(i[s](c)),done:s==="return"}:l?l(c):c}:l}},mQ=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],o;return r?r.call(i):(i=typeof Yv=="function"?Yv(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(l){o[l]=i[l]&&function(c){return new Promise(function(u,d){c=i[l](c),s(u,d,c.done,c.value)})}}function s(l,c,u,d){Promise.resolve(d).then(function(f){l({value:f,done:u})},c)}},hQ=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i};var e=Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r};gQ=function(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var o in i)o!=="default"&&Object.prototype.hasOwnProperty.call(i,o)&&Zv(r,i,o);return e(r,i),r},vQ=function(i){return i&&i.__esModule?i:{default:i}},yQ=function(i,r,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!a:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:r.get(i)},_Q=function(i,r,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!s:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(i,o):s?s.value=o:r.set(i,o),o},n("__extends",eQ),n("__assign",tQ),n("__rest",nQ),n("__decorate",iQ),n("__param",rQ),n("__metadata",oQ),n("__awaiter",aQ),n("__generator",sQ),n("__exportStar",lQ),n("__createBinding",Zv),n("__values",Yv),n("__read",sI),n("__spread",cQ),n("__spreadArrays",uQ),n("__spreadArray",dQ),n("__await",Iu),n("__asyncGenerator",fQ),n("__asyncDelegator",pQ),n("__asyncValues",mQ),n("__makeTemplateObject",hQ),n("__importStar",gQ),n("__importDefault",vQ),n("__classPrivateFieldGet",yQ),n("__classPrivateFieldSet",_Q)})});var YQ=Re((K8t,ry)=>{"use strict";var DQ,IQ,LQ,AQ,zQ,kQ,NQ,PQ,OQ,ny,pI,RQ,FQ,BQ,ku,VQ,UQ,HQ,jQ,GQ,WQ,qQ,$Q,iy;(function(n){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){n(e(t,e(i)))}):typeof ry=="object"&&typeof ry.exports=="object"?n(e(t,e(ry.exports))):n(e(t));function e(i,r){return i!==t&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(o,a){return i[o]=r?r(o,a):a}}})(function(n){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])};DQ=function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(i,r);function o(){this.constructor=i}i.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)},IQ=Object.assign||function(i){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},LQ=function(i,r){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(i);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(i,a[s])&&(o[a[s]]=i[a[s]]);return o},AQ=function(i,r,o,a){var s=arguments.length,l=s<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,o):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,r,o,a);else for(var u=i.length-1;u>=0;u--)(c=i[u])&&(l=(s<3?c(l):s>3?c(r,o,l):c(r,o))||l);return s>3&&l&&Object.defineProperty(r,o,l),l},zQ=function(i,r){return function(o,a){r(o,a,i)}},kQ=function(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)},NQ=function(i,r,o,a){function s(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(p){try{f(a.next(p))}catch(v){c(v)}}function d(p){try{f(a.throw(p))}catch(v){c(v)}}function f(p){p.done?l(p.value):s(p.value).then(u,d)}f((a=a.apply(i,r||[])).next())})},PQ=function(i,r){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(p){return d([f,p])}}function d(f){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,s&&(l=f[0]&2?s.return:f[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,f[1])).done)return l;switch(s=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,s=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){o.label=f[1];break}if(f[0]===6&&o.label<l[1]){o.label=l[1],l=f;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(f);break}l[2]&&o.ops.pop(),o.trys.pop();continue}f=r.call(i,o)}catch(p){f=[6,p],s=0}finally{a=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},OQ=function(i,r){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&iy(r,i,o)},iy=Object.create?function(i,r,o,a){a===void 0&&(a=o),Object.defineProperty(i,a,{enumerable:!0,get:function(){return r[o]}})}:function(i,r,o,a){a===void 0&&(a=o),i[a]=r[o]},ny=function(i){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&i[r],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},pI=function(i,r){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var a=o.call(i),s,l=[],c;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(c)throw c.error}}return l},RQ=function(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(pI(arguments[r]));return i},FQ=function(){for(var i=0,r=0,o=arguments.length;r<o;r++)i+=arguments[r].length;for(var a=Array(i),s=0,r=0;r<o;r++)for(var l=arguments[r],c=0,u=l.length;c<u;c++,s++)a[s]=l[c];return a},BQ=function(i,r,o){if(o||arguments.length===2)for(var a=0,s=r.length,l;a<s;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return i.concat(l||r)},ku=function(i){return this instanceof ku?(this.v=i,this):new ku(i)},VQ=function(i,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,r||[]),s,l=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(_){a[_]&&(s[_]=function(b){return new Promise(function(C,w){l.push([_,b,C,w])>1||u(_,b)})})}function u(_,b){try{d(a[_](b))}catch(C){v(l[0][3],C)}}function d(_){_.value instanceof ku?Promise.resolve(_.value.v).then(f,p):v(l[0][2],_)}function f(_){u("next",_)}function p(_){u("throw",_)}function v(_,b){_(b),l.shift(),l.length&&u(l[0][0],l[0][1])}},UQ=function(i){var r,o;return r={},a("next"),a("throw",function(s){throw s}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(s,l){r[s]=i[s]?function(c){return(o=!o)?{value:ku(i[s](c)),done:s==="return"}:l?l(c):c}:l}},HQ=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],o;return r?r.call(i):(i=typeof ny=="function"?ny(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(l){o[l]=i[l]&&function(c){return new Promise(function(u,d){c=i[l](c),s(u,d,c.done,c.value)})}}function s(l,c,u,d){Promise.resolve(d).then(function(f){l({value:f,done:u})},c)}},jQ=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i};var e=Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r};GQ=function(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var o in i)o!=="default"&&Object.prototype.hasOwnProperty.call(i,o)&&iy(r,i,o);return e(r,i),r},WQ=function(i){return i&&i.__esModule?i:{default:i}},qQ=function(i,r,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!a:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(i):a?a.value:r.get(i)},$Q=function(i,r,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!s:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(i,o):s?s.value=o:r.set(i,o),o},n("__extends",DQ),n("__assign",IQ),n("__rest",LQ),n("__decorate",AQ),n("__param",zQ),n("__metadata",kQ),n("__awaiter",NQ),n("__generator",PQ),n("__exportStar",OQ),n("__createBinding",iy),n("__values",ny),n("__read",pI),n("__spread",RQ),n("__spreadArrays",FQ),n("__spreadArray",BQ),n("__await",ku),n("__asyncGenerator",VQ),n("__asyncDelegator",UQ),n("__asyncValues",HQ),n("__makeTemplateObject",jQ),n("__importStar",GQ),n("__importDefault",WQ),n("__classPrivateFieldGet",qQ),n("__classPrivateFieldSet",$Q)})});var px;function E7(){return px}function B1(n){let t=px;return px=n,t}var CP=Symbol("NotFound");function L4(n){return n===CP||n?.name==="\u0275NotFound"}var Er=null,D7=!1,mx=1,Ale=null,hr=Symbol("SIGNAL");function dt(n){let t=Er;return Er=n,t}function z7(){return Er}var nc={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ic(n){if(D7)throw new Error("");if(Er===null)return;Er.consumerOnSignalRead(n);let t=Er.producersTail;if(t!==void 0&&t.producer===n)return;let e,i=Er.recomputing;if(i&&(e=t!==void 0?t.nextProducer:Er.producers,e!==void 0&&e.producer===n)){Er.producersTail=e,e.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===Er&&(!i||kle(r,Er)))return;let o=k4(Er),a={producer:n,consumer:Er,nextProducer:e,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};Er.producersTail=a,t!==void 0?t.nextProducer=a:Er.producers=a,o&&TP(n,a)}function SP(){mx++}function k7(n){if(!(k4(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===mx)){if(!n.producerMustRecompute(n)&&!z4(n)){A7(n);return}n.producerRecomputeValue(n),A7(n)}}function hx(n){if(n.consumers===void 0)return;let t=D7;D7=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||zle(i)}}finally{D7=t}}function gx(){return Er?.consumerAllowSignalWrites!==!1}function zle(n){n.dirty=!0,hx(n),n.consumerMarkedDirty?.(n)}function A7(n){n.dirty=!1,n.lastCleanEpoch=mx}function rc(n){return n&&wP(n),dt(n)}function wP(n){n.producersTail=void 0,n.recomputing=!0}function A4(n,t){dt(t),n&&MP(n)}function MP(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(k4(n))do e=vx(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function z4(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,i=t.lastReadVersion;if(i!==e.version||(k7(e),i!==e.version))return!0}return!1}function oc(n){if(k4(n)){let t=n.producers;for(;t!==void 0;)t=vx(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function TP(n,t){let e=n.consumersTail,i=k4(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)TP(r.producer,r)}function vx(n){let t=n.producer,e=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!k4(t)){let o=t.producers;for(;o!==void 0;)o=vx(o)}return e}function k4(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function N7(n){Ale?.(n)}function kle(n,t){let e=t.producersTail;if(e!==void 0){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function P7(n,t){return Object.is(n,t)}function O7(n,t){let e=Object.create(Nle);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(k7(e),ic(e),e.value===Fd)throw e.error;return e.value};return i[hr]=e,N7(e),i}var I7=Symbol("UNSET"),L7=Symbol("COMPUTING"),Fd=Symbol("ERRORED"),Nle=Ie(X({},nc),{value:I7,dirty:!0,error:null,equal:P7,kind:"computed",producerMustRecompute(n){return n.value===I7||n.value===L7},producerRecomputeValue(n){if(n.value===L7)throw new Error("");let t=n.value;n.value=L7;let e=rc(n),i,r=!1;try{i=n.computation(),dt(null),r=t!==I7&&t!==Fd&&i!==Fd&&n.equal(t,i)}catch(o){i=Fd,n.error=o}finally{A4(n,e)}if(r){n.value=t;return}n.value=i,n.version++}});function Ple(){throw new Error}var EP=Ple;function DP(n){EP(n)}function yx(n){EP=n}var Ole=null;function _x(n,t){let e=Object.create(R7);e.value=n,t!==void 0&&(e.equal=t);let i=()=>IP(e);return i[hr]=e,N7(e),[i,a=>ac(e,a),a=>bx(e,a)]}function IP(n){return ic(n),n.value}function ac(n,t){gx()||DP(n),n.equal(n.value,t)||(n.value=t,Rle(n))}function bx(n,t){gx()||DP(n),ac(n,t(n.value))}var R7=Ie(X({},nc),{equal:P7,value:void 0,kind:"signal"});function Rle(n){n.version++,SP(),hx(n),Ole?.(n)}function wt(n){return typeof n=="function"}function N4(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var F7=N4(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function sc(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Et=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(wt(i))try{i()}catch(o){t=o instanceof F7?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{LP(o)}catch(a){t=t??[],a instanceof F7?t=[...t,...a.errors]:t.push(a)}}if(t)throw new F7(t)}}add(t){var e;if(t&&t!==this)if(this.closed)LP(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&sc(e,t)}remove(t){let{_finalizers:e}=this;e&&sc(e,t),t instanceof n&&t._removeParent(this)}};Et.EMPTY=(()=>{let n=new Et;return n.closed=!0,n})();var xx=Et.EMPTY;function B7(n){return n instanceof Et||n&&"closed"in n&&wt(n.remove)&&wt(n.add)&&wt(n.unsubscribe)}function LP(n){wt(n)?n():n.unsubscribe()}var l1={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var P4={setTimeout(n,t,...e){let{delegate:i}=P4;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=P4;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function V7(n){P4.setTimeout(()=>{let{onUnhandledError:t}=l1;if(t)t(n);else throw n})}function Bd(){}var AP=Cx("C",void 0,void 0);function zP(n){return Cx("E",void 0,n)}function kP(n){return Cx("N",n,void 0)}function Cx(n,t,e){return{kind:n,value:t,error:e}}var lc=null;function O4(n){if(l1.useDeprecatedSynchronousErrorHandling){let t=!lc;if(t&&(lc={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=lc;if(lc=null,e)throw i}}else n()}function NP(n){l1.useDeprecatedSynchronousErrorHandling&&lc&&(lc.errorThrown=!0,lc.error=n)}var cc=class extends Et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,B7(t)&&t.add(this)):this.destination=Vle}static create(t,e,i){return new R4(t,e,i)}next(t){this.isStopped?Mx(kP(t),this):this._next(t)}error(t){this.isStopped?Mx(zP(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Mx(AP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Fle=Function.prototype.bind;function Sx(n,t){return Fle.call(n,t)}var Tx=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){U7(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){U7(i)}else U7(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){U7(e)}}},R4=class extends cc{constructor(t,e,i){super();let r;if(wt(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&l1.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Sx(t.next,o),error:t.error&&Sx(t.error,o),complete:t.complete&&Sx(t.complete,o)}):r=t}this.destination=new Tx(r)}};function U7(n){l1.useDeprecatedSynchronousErrorHandling?NP(n):V7(n)}function Ble(n){throw n}function Mx(n,t){let{onStoppedNotification:e}=l1;e&&P4.setTimeout(()=>e(n,t))}var Vle={closed:!0,next:Bd,error:Ble,complete:Bd};var F4=typeof Symbol=="function"&&Symbol.observable||"@@observable";function io(n){return n}function Ex(...n){return Dx(n)}function Dx(n){return n.length===0?io:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var ut=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=Hle(e)?e:new R4(e,i,r);return O4(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=PP(i),new i((r,o)=>{let a=new R4({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[F4](){return this}pipe(...e){return Dx(e)(this)}toPromise(e){return e=PP(e),new e((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=t=>new n(t),n})();function PP(n){var t;return(t=n??l1.Promise)!==null&&t!==void 0?t:Promise}function Ule(n){return n&&wt(n.next)&&wt(n.error)&&wt(n.complete)}function Hle(n){return n&&n instanceof cc||Ule(n)&&B7(n)}function Ix(n){return wt(n?.lift)}function Dt(n){return t=>{if(Ix(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(n,t,e,i,r){return new Lx(n,t,e,i,r)}var Lx=class extends cc{constructor(t,e,i,r,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){t.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function B4(){return Dt((n,t)=>{let e=null;n._refCount++;let i=mt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var V4=class extends ut{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ix(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Et;let e=this.getSubject();t.add(this.source.subscribe(mt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Et.EMPTY)}return t}refCount(){return B4()(this)}};var U4={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=U4;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);let r=t(o=>{e=void 0,n(o)});return new Et(()=>e?.(r))},requestAnimationFrame(...n){let{delegate:t}=U4;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:t}=U4;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var OP=N4(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class n extends ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new H7(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new OP}next(e){O4(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){O4(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){O4(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?xx:(this.currentObservers=null,o.push(e),new Et(()=>{this.currentObservers=null,sc(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new ut;return e.source=this,e}}return n.create=(t,e)=>new H7(t,e),n})(),H7=class extends me{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:xx}};var Vn=class extends me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Vd={now(){return(Vd.delegate||Date).now()},delegate:void 0};var H4=class extends me{constructor(t=1/0,e=1/0,i=Vd){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let a=e.now(),s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}};var j7=class extends Et{constructor(t,e){super()}schedule(t,e=0){return this}};var Ud={setInterval(n,t,...e){let{delegate:i}=Ud;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Ud;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var j4=class extends j7{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return Ud.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&Ud.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,sc(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var G4=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};G4.now=Vd.now;var W4=class extends G4{constructor(t,e=G4.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var ba=new W4(j4),Ax=ba;var G7=class extends j4{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return i!==null&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=U4.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);let{actions:o}=t;e!=null&&e===t._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(U4.cancelAnimationFrame(e),t._scheduled=void 0)}};var W7=class extends W4{flush(t){this._active=!0;let e;t?e=t.id:(e=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;t=t||i.shift();do if(r=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}};var q7=new W7(G7);var Bi=new ut(n=>n.complete());function $7(n){return n&&wt(n.schedule)}function zx(n){return n[n.length-1]}function Y7(n){return wt(zx(n))?n.pop():void 0}function V1(n){return $7(zx(n))?n.pop():void 0}function RP(n,t){return typeof zx(n)=="number"?n.pop():t}function BP(n,t,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):r(u.value).then(s,l)}c((i=i.apply(n,t||[])).next())})}function FP(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function uc(n){return this instanceof uc?(this.v=n,this):new uc(n)}function VP(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(p){return function(v){return Promise.resolve(v).then(p,d)}}function s(p,v){i[p]&&(r[p]=function(_){return new Promise(function(b,C){o.push([p,_,b,C])>1||l(p,_)})},v&&(r[p]=v(r[p])))}function l(p,v){try{c(i[p](v))}catch(_){f(o[0][3],_)}}function c(p){p.value instanceof uc?Promise.resolve(p.value.v).then(u,d):f(o[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function f(p,v){p(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function UP(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof FP=="function"?FP(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(a){return new Promise(function(s,l){a=n[o](a),r(s,l,a.done,a.value)})}}function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var Z7=n=>n&&typeof n.length=="number"&&typeof n!="function";function X7(n){return wt(n?.then)}function Q7(n){return wt(n[F4])}function K7(n){return Symbol.asyncIterator&&wt(n?.[Symbol.asyncIterator])}function J7(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jle(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var em=jle();function tm(n){return wt(n?.[em])}function nm(n){return VP(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield uc(e.read());if(r)return yield uc(void 0);yield yield uc(i)}}finally{e.releaseLock()}})}function im(n){return wt(n?.getReader)}function Nn(n){if(n instanceof ut)return n;if(n!=null){if(Q7(n))return Gle(n);if(Z7(n))return Wle(n);if(X7(n))return qle(n);if(K7(n))return HP(n);if(tm(n))return $le(n);if(im(n))return Yle(n)}throw J7(n)}function Gle(n){return new ut(t=>{let e=n[F4]();if(wt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Wle(n){return new ut(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function qle(n){return new ut(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,V7)})}function $le(n){return new ut(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function HP(n){return new ut(t=>{Zle(n,t).catch(e=>t.error(e))})}function Yle(n){return HP(nm(n))}function Zle(n,t){var e,i,r,o;return BP(this,void 0,void 0,function*(){try{for(e=UP(n);i=yield e.next(),!i.done;){let a=i.value;if(t.next(a),t.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function So(n,t,e,i=0,r=!1){let o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function rm(n,t=0){return Dt((e,i)=>{e.subscribe(mt(i,r=>So(i,n,()=>i.next(r),t),()=>So(i,n,()=>i.complete(),t),r=>So(i,n,()=>i.error(r),t)))})}function om(n,t=0){return Dt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function jP(n,t){return Nn(n).pipe(om(t),rm(t))}function GP(n,t){return Nn(n).pipe(om(t),rm(t))}function WP(n,t){return new ut(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function qP(n,t){return new ut(e=>{let i;return So(e,t,()=>{i=n[em](),So(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){e.error(a);return}o?e.complete():e.next(r)},0,!0)}),()=>wt(i?.return)&&i.return()})}function am(n,t){if(!n)throw new Error("Iterable cannot be null");return new ut(e=>{So(e,t,()=>{let i=n[Symbol.asyncIterator]();So(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function $P(n,t){return am(nm(n),t)}function YP(n,t){if(n!=null){if(Q7(n))return jP(n,t);if(Z7(n))return WP(n,t);if(X7(n))return GP(n,t);if(K7(n))return am(n,t);if(tm(n))return qP(n,t);if(im(n))return $P(n,t)}throw J7(n)}function tn(n,t){return t?YP(n,t):Nn(n)}function we(...n){let t=V1(n);return tn(n,t)}function U1(n,t){let e=wt(n)?n:()=>n,i=r=>r.error(e());return new ut(t?r=>t.schedule(i,0,r):i)}function sm(n){return!!n&&(n instanceof ut||wt(n.lift)&&wt(n.subscribe))}var qs=N4(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ZP(n){return n instanceof Date&&!isNaN(n)}function Qe(n,t){return Dt((e,i)=>{let r=0;e.subscribe(mt(i,o=>{i.next(n.call(t,o,r++))}))})}var{isArray:Xle}=Array;function Qle(n,t){return Xle(t)?n(...t):n(t)}function lm(n){return Qe(t=>Qle(n,t))}var{isArray:Kle}=Array,{getPrototypeOf:Jle,prototype:e0e,keys:t0e}=Object;function cm(n){if(n.length===1){let t=n[0];if(Kle(t))return{args:t,keys:null};if(n0e(t)){let e=t0e(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function n0e(n){return n&&typeof n=="object"&&Jle(n)===e0e}function um(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function dc(...n){let t=V1(n),e=Y7(n),{args:i,keys:r}=cm(n);if(i.length===0)return tn([],t);let o=new ut(i0e(i,t,r?a=>um(r,a):io));return e?o.pipe(lm(e)):o}function i0e(n,t,e=io){return i=>{XP(t,()=>{let{length:r}=n,o=new Array(r),a=r,s=r;for(let l=0;l<r;l++)XP(t,()=>{let c=tn(n[l],t),u=!1;c.subscribe(mt(i,d=>{o[l]=d,u||(u=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function XP(n,t,e){n?So(e,n,t):t()}function QP(n,t,e,i,r,o,a,s){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},p=_=>c<i?v(_):l.push(_),v=_=>{o&&t.next(_),c++;let b=!1;Nn(e(_,u++)).subscribe(mt(t,C=>{r?.(C),o?p(C):t.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){let C=l.shift();a?So(t,a,()=>v(C)):v(C)}f()}catch(C){t.error(C)}}))};return n.subscribe(mt(t,p,()=>{d=!0,f()})),()=>{s?.()}}function Kn(n,t,e=1/0){return wt(t)?Kn((i,r)=>Qe((o,a)=>t(i,o,r,a))(Nn(n(i,r))),e):(typeof t=="number"&&(e=t),Dt((i,r)=>QP(i,r,n,e)))}function H1(n=1/0){return Kn(io,n)}function KP(){return H1(1)}function pl(...n){return KP()(tn(n,V1(n)))}function $s(n){return new ut(t=>{Nn(n()).subscribe(t)})}function Hd(...n){let t=Y7(n),{args:e,keys:i}=cm(n),r=new ut(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),l=a,c=a;for(let u=0;u<a;u++){let d=!1;Nn(e[u]).subscribe(mt(o,f=>{d||(d=!0,c--),s[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?um(i,s):s),o.complete())}))}});return t?r.pipe(lm(t)):r}function Ys(n=0,t,e=Ax){let i=-1;return t!=null&&($7(t)?e=t:i=t),new ut(r=>{let o=ZP(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function jd(n=0,t=ba){return n<0&&(n=0),Ys(n,n,t)}function j1(...n){let t=V1(n),e=RP(n,1/0),i=n;return i.length?i.length===1?Nn(i[0]):H1(e)(tn(i,t)):Bi}function et(n,t){return Dt((e,i)=>{let r=0;e.subscribe(mt(i,o=>n.call(t,o,r++)&&i.next(o)))})}function JP(n){return Dt((t,e)=>{let i=!1,r=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let c=r;r=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};t.subscribe(mt(e,c=>{i=!0,r=c,o||Nn(n(c)).subscribe(o=mt(e,s,l))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}function dm(n,t=ba){return JP(()=>Ys(n,t))}function Vt(n){return Dt((t,e)=>{let i=null,r=!1,o;i=t.subscribe(mt(e,void 0,void 0,a=>{o=Nn(n(a,Vt(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function eO(n,t,e,i,r){return(o,a)=>{let s=e,l=t,c=0;o.subscribe(mt(a,u=>{let d=c++;l=s?n(l,u,d):(s=!0,u),i&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}function ro(n,t){return wt(t)?Kn(n,t,1):Kn(n,1)}function ea(n,t=ba){return Dt((e,i)=>{let r=null,o=null,a=null,s=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=a+n,u=t.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}s()}e.subscribe(mt(i,c=>{o=c,a=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function ml(n){return Dt((t,e)=>{let i=!1;t.subscribe(mt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Nt(n){return n<=0?()=>Bi:Dt((t,e)=>{let i=0;t.subscribe(mt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function c1(n,t=io){return n=n??r0e,Dt((e,i)=>{let r,o=!0;e.subscribe(mt(i,a=>{let s=t(a);(o||!n(r,s))&&(o=!1,r=s,i.next(a))}))})}function r0e(n,t){return n===t}function fm(n=o0e){return Dt((t,e)=>{let i=!1;t.subscribe(mt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function o0e(){return new qs}function hl(n){return Dt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Zs(n,t){let e=arguments.length>=2;return i=>i.pipe(n?et((r,o)=>n(r,o,i)):io,Nt(1),e?ml(t):fm(()=>new qs))}function q4(n){return n<=0?()=>Bi:Dt((t,e)=>{let i=[];t.subscribe(mt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function kx(n,t){let e=arguments.length>=2;return i=>i.pipe(n?et((r,o)=>n(r,o,i)):io,q4(1),e?ml(t):fm(()=>new qs))}function Nx(n,t){return Dt(eO(n,t,arguments.length>=2,!0))}function Gd(n){return et((t,e)=>n<=e)}function Dr(...n){let t=V1(n);return Dt((e,i)=>{(t?pl(n,e,t):pl(n,e)).subscribe(i)})}function Un(n,t){return Dt((e,i)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&i.complete();e.subscribe(mt(i,l=>{r?.unsubscribe();let c=0,u=o++;Nn(n(l,u)).subscribe(r=mt(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function nn(n){return Dt((t,e)=>{Nn(n).subscribe(mt(e,()=>e.complete(),Bd)),!e.closed&&t.subscribe(e)})}function Hn(n,t,e){let i=wt(n)||t||e?{next:n,error:t,complete:e}:n;return i?Dt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let s=!0;r.subscribe(mt(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;s=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;s=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;s&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):io}function tO(n,t){return Dt((e,i)=>{let{leading:r=!0,trailing:o=!1}=t??{},a=!1,s=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,o&&(p(),c&&i.complete())},d=()=>{l=null,c&&i.complete()},f=v=>l=Nn(n(v)).subscribe(mt(i,u,d)),p=()=>{if(a){a=!1;let v=s;s=null,i.next(v),!c&&f(v)}};e.subscribe(mt(i,v=>{a=!0,s=v,!(l&&!l.closed)&&(r?p():f(v))},()=>{c=!0,!(o&&a&&l&&!l.closed)&&i.complete()}))})}function Px(n,t=ba,e){let i=Ys(n,t);return tO(()=>i,e)}function nO(n){let t=dt(null);try{return n()}finally{dt(t)}}var iO=Ie(X({},nc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function rO(n){if(n.dirty=!1,n.version>0&&!z4(n))return;n.version++;let t=rc(n);try{n.cleanup(),n.fn()}finally{A4(n,t)}}var gm="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",se=class extends Error{code;constructor(t,e){super(xa(t,e)),this.code=t}};function a0e(n){return`NG0${Math.abs(n)}`}function xa(n,t){return`${a0e(n)}${t?": "+t:""}`}var Vi=globalThis;function dn(n){for(let t in n)if(n[t]===dn)return t;throw Error("")}function sO(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Qs(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Qs).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function vm(n,t){return n?t?`${n} ${t}`:n:t||""}var s0e=dn({__forward_ref__:dn});function Ii(n){return n.__forward_ref__=Ii,n.toString=function(){return Qs(this())},n}function gr(n){return qx(n)?n():n}function qx(n){return typeof n=="function"&&n.hasOwnProperty(s0e)&&n.__forward_ref__===Ii}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zd(n){return l0e(n,ym)}function $x(n){return Zd(n)!==null}function l0e(n,t){return n.hasOwnProperty(t)&&n[t]||null}function c0e(n){let t=n?.[ym]??null;return t||null}function Rx(n){return n&&n.hasOwnProperty(mm)?n[mm]:null}var ym=dn({\u0275prov:dn}),mm=dn({\u0275inj:dn}),ue=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yx(n){return n&&!!n.\u0275providers}var Zx=dn({\u0275cmp:dn}),Xx=dn({\u0275dir:dn}),Qx=dn({\u0275pipe:dn}),Kx=dn({\u0275mod:dn}),qd=dn({\u0275fac:dn}),gc=dn({__NG_ELEMENT_ID__:dn}),oO=dn({__NG_ENV_ID__:dn});function Ks(n){return typeof n=="string"?n:n==null?"":String(n)}function lO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ks(n)}var cO=dn({ngErrorCode:dn}),u0e=dn({ngErrorMessage:dn}),d0e=dn({ngTokenPath:dn});function Jx(n,t){return uO("",-200,t)}function _m(n,t){throw new se(-201,!1)}function uO(n,t,e){let i=new se(t,n);return i[cO]=t,i[u0e]=n,e&&(i[d0e]=e),i}function f0e(n){return n[cO]}var Fx;function dO(){return Fx}function oo(n){let t=Fx;return Fx=n,t}function eC(n,t,e){let i=Zd(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;_m(n,"Injector")}var p0e={},fc=p0e,m0e="__NG_DI_FLAG__",Bx=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=pc(e)||0;try{return this.injector.get(t,i&8?null:fc,i)}catch(r){if(L4(r))return r;throw r}}};function h0e(n,t=0){let e=E7();if(e===void 0)throw new se(-203,!1);if(e===null)return eC(n,void 0,t);{let i=g0e(t),r=e.retrieve(n,i);if(L4(r)){if(i.optional)return null;throw r}return r}}function ae(n,t=0){return(dO()||h0e)(gr(n),t)}function B(n,t){return ae(n,pc(t))}function pc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function g0e(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Vx(n){let t=[];for(let e=0;e<n.length;e++){let i=gr(n[e]);if(Array.isArray(i)){if(i.length===0)throw new se(900,!1);let r,o=0;for(let a=0;a<i.length;a++){let s=i[a],l=v0e(s);typeof l=="number"?l===-1?r=s.token:o|=l:r=s}t.push(ae(r,o))}else t.push(ae(i))}return t}function v0e(n){return n[m0e]}function gl(n,t){let e=n.hasOwnProperty(qd);return e?n[qd]:null}function fO(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function pO(n){return n.flat(Number.POSITIVE_INFINITY)}function bm(n,t){n.forEach(e=>Array.isArray(e)?bm(e,t):t(e))}function tC(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Xd(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function mO(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function hO(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function xm(n,t,e){let i=Y4(n,t);return i>=0?n[i|1]=e:(i=~i,hO(n,i,t,e)),i}function Cm(n,t){let e=Y4(n,t);if(e>=0)return n[e|1]}function Y4(n,t){return y0e(n,t,1)}function y0e(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),a=n[o<<e];if(t===a)return o<<e;a>t?r=o:i=o+1}return~(r<<e)}var yl={},ao=[],Js=new ue(""),nC=new ue("",-1),iC=new ue(""),$d=class{get(t,e=fc){if(e===fc){let r=uO("",-201);throw r.name="\u0275NotFound",r}return e}};function rC(n){return n[Kx]||null}function G1(n){return n[Zx]||null}function oC(n){return n[Xx]||null}function gO(n){return n[Qx]||null}function W1(n){return{\u0275providers:n}}function Sm(...n){return{\u0275providers:aC(!0,n),\u0275fromNgModule:!0}}function aC(n,...t){let e=[],i=new Set,r,o=a=>{e.push(a)};return bm(t,a=>{let s=a;hm(s,o,[],i)&&(r||=[],r.push(s))}),r!==void 0&&vO(r,o),e}function vO(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];sC(r,o=>{t(o,i)})}}function hm(n,t,e,i){if(n=gr(n),!n)return!1;let r=null,o=Rx(n),a=!o&&G1(n);if(!o&&!a){let l=n.ngModule;if(o=Rx(l),o)r=l;else return!1}else{if(a&&!a.standalone)return!1;r=n}let s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)hm(c,t,e,i)}}else if(o){if(o.imports!=null&&!s){i.add(r);let c;try{bm(o.imports,u=>{hm(u,t,e,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&vO(c,t)}if(!s){let c=gl(r)||(()=>new r);t({provide:r,useFactory:c,deps:ao},r),t({provide:iC,useValue:r,multi:!0},r),t({provide:Js,useValue:()=>ae(r),multi:!0},r)}let l=o.providers;if(l!=null&&!s){let c=n;sC(l,u=>{t(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function sC(n,t){for(let e of n)Yx(e)&&(e=e.\u0275providers),Array.isArray(e)?sC(e,t):t(e)}var _0e=dn({provide:String,useValue:dn});function yO(n){return n!==null&&typeof n=="object"&&_0e in n}function b0e(n){return!!(n&&n.useExisting)}function x0e(n){return!!(n&&n.useFactory)}function mc(n){return typeof n=="function"}function _O(n){return!!n.useClass}var Qd=new ue(""),pm={},aO={},Ox;function Z4(){return Ox===void 0&&(Ox=new $d),Ox}var In=class{},hc=class extends In{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,Hx(t,a=>this.processProvider(a)),this.records.set(nC,$4(void 0,this)),r.has("environment")&&this.records.set(In,$4(void 0,this));let o=this.records.get(Qd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(iC,ao,{self:!0}))}retrieve(t,e){let i=pc(e)||0;try{return this.get(t,fc,i)}catch(r){if(L4(r))return r;throw r}}destroy(){Wd(this),this._destroyed=!0;let t=dt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),dt(t)}}onDestroy(t){return Wd(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Wd(this);let e=B1(this),i=oo(void 0),r;try{return t()}finally{B1(e),oo(i)}}get(t,e=fc,i){if(Wd(this),t.hasOwnProperty(oO))return t[oO](this);let r=pc(i),o,a=B1(this),s=oo(void 0);try{if(!(r&4)){let c=this.records.get(t);if(c===void 0){let u=T0e(t)&&Zd(t);u&&this.injectableDefInScope(u)?c=$4(Ux(t),pm):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let l=r&2?Z4():this.parent;return e=r&8&&e===fc?null:e,l.get(t,e)}catch(l){let c=f0e(l);throw c===-200||c===-201?new se(c,null):l}finally{oo(s),B1(a)}}resolveInjectorInitializers(){let t=dt(null),e=B1(this),i=oo(void 0),r;try{let o=this.get(Js,ao,{self:!0});for(let a of o)a()}finally{B1(e),oo(i),dt(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Qs(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=gr(t);let e=mc(t)?t:gr(t&&t.provide),i=S0e(t);if(!mc(t)&&t.multi===!0){let r=this.records.get(e);r||(r=$4(void 0,pm,!0),r.factory=()=>Vx(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let r=dt(null);try{if(e.value===aO)throw Jx(Qs(t));return e.value===pm&&(e.value=aO,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&M0e(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{dt(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=gr(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Ux(n){let t=Zd(n),e=t!==null?t.factory:gl(n);if(e!==null)return e;if(n instanceof ue)throw new se(204,!1);if(n instanceof Function)return C0e(n);throw new se(204,!1)}function C0e(n){if(n.length>0)throw new se(204,!1);let e=c0e(n);return e!==null?()=>e.factory(n):()=>new n}function S0e(n){if(yO(n))return $4(void 0,n.useValue);{let t=lC(n);return $4(t,pm)}}function lC(n,t,e){let i;if(mc(n)){let r=gr(n);return gl(r)||Ux(r)}else if(yO(n))i=()=>gr(n.useValue);else if(x0e(n))i=()=>n.useFactory(...Vx(n.deps||[]));else if(b0e(n))i=(r,o)=>ae(gr(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=gr(n&&(n.useClass||n.provide));if(w0e(n))i=()=>new r(...Vx(n.deps));else return gl(r)||Ux(r)}return i}function Wd(n){if(n.destroyed)throw new se(205,!1)}function $4(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function w0e(n){return!!n.deps}function M0e(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function T0e(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Hx(n,t){for(let e of n)Array.isArray(e)?Hx(e,t):e&&Yx(e)?Hx(e.\u0275providers,t):t(e)}function er(n,t){let e;n instanceof hc?(Wd(n),e=n):e=new Bx(n);let i,r=B1(e),o=oo(void 0);try{return t()}finally{B1(r),oo(o)}}function cC(){return dO()!==void 0||E7()!=null}var Ca=0,it=1,ft=2,Ji=3,Sa=4,so=5,X4=6,Q4=7,vr=8,_l=9,q1=10,Cn=11,K4=12,uC=13,vc=14,wo=15,bl=16,yc=17,$1=18,Kd=19,dC=20,Xs=21,wm=22,e2=23,na=24,_c=25,Jd=26,jn=27,fC=1;var xl=7,ef=8,bc=9,Ir=10;function Y1(n){return Array.isArray(n)&&typeof n[fC]=="object"}function d1(n){return Array.isArray(n)&&n[fC]===!0}function pC(n){return(n.flags&4)!==0}function Cl(n){return n.componentOffset>-1}function J4(n){return(n.flags&1)===1}function f1(n){return!!n.template}function e6(n){return(n[ft]&512)!==0}function xc(n){return(n[ft]&256)===256}var mC="svg",bO="math";function wa(n){for(;Array.isArray(n);)n=n[Ca];return n}function hC(n){for(;Array.isArray(n);){if(typeof n[fC]=="object")return n;n=n[Ca]}return null}function gC(n,t){return wa(t[n])}function p1(n,t){return wa(t[n.index])}function tf(n,t){return n.data[t]}function nf(n,t){return n[t]}function vC(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function Ma(n,t){let e=t[n];return Y1(e)?e:e[Ca]}function xO(n){return(n[ft]&4)===4}function Mm(n){return(n[ft]&128)===128}function CO(n){return d1(n[Ji])}function m1(n,t){return t==null?null:n[t]}function yC(n){n[yc]=0}function _C(n){n[ft]&1024||(n[ft]|=1024,Mm(n)&&Sl(n))}function SO(n,t){for(;n>0;)t=t[vc],n--;return t}function rf(n){return!!(n[ft]&9216||n[na]?.dirty)}function Tm(n){n[q1].changeDetectionScheduler?.notify(8),n[ft]&64&&(n[ft]|=1024),rf(n)&&Sl(n)}function Sl(n){n[q1].changeDetectionScheduler?.notify(0);let t=vl(n);for(;t!==null&&!(t[ft]&8192||(t[ft]|=8192,!Mm(t)));)t=vl(t)}function bC(n,t){if(xc(n))throw new se(911,!1);n[Xs]===null&&(n[Xs]=[]),n[Xs].push(t)}function wO(n,t){if(n[Xs]===null)return;let e=n[Xs].indexOf(t);e!==-1&&n[Xs].splice(e,1)}function vl(n){let t=n[Ji];return d1(t)?t[Ji]:t}function xC(n){return n[Q4]??=[]}function CC(n){return n.cleanup??=[]}function MO(n,t,e,i){let r=xC(t);r.push(e),n.firstCreatePass&&CC(n).push(i,r.length-1)}var It={lFrame:OO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jx=!1;function TO(){return It.lFrame.elementDepthCount}function EO(){It.lFrame.elementDepthCount++}function SC(){It.lFrame.elementDepthCount--}function Em(){return It.bindingsEnabled}function wC(){return It.skipHydrationRootTNode!==null}function MC(n){return It.skipHydrationRootTNode===n}function TC(){It.skipHydrationRootTNode=null}function Ze(){return It.lFrame.lView}function Pn(){return It.lFrame.tView}function N(n){return It.lFrame.contextLView=n,n[vr]}function P(n){return It.lFrame.contextLView=null,n}function Li(){let n=EC();for(;n!==null&&n.type===64;)n=n.parent;return n}function EC(){return It.lFrame.currentTNode}function DO(){let n=It.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function t6(n,t){let e=It.lFrame;e.currentTNode=n,e.isParent=t}function DC(){return It.lFrame.isParent}function IC(){It.lFrame.isParent=!1}function IO(){return It.lFrame.contextLView}function LC(){return jx}function n6(n){let t=jx;return jx=n,t}function Z1(){let n=It.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function LO(){return It.lFrame.bindingIndex}function AO(n){return It.lFrame.bindingIndex=n}function t2(){return It.lFrame.bindingIndex++}function Dm(n){let t=It.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function zO(){return It.lFrame.inI18n}function kO(n,t){let e=It.lFrame;e.bindingIndex=e.bindingRootIndex=n,Im(t)}function NO(){return It.lFrame.currentDirectiveIndex}function Im(n){It.lFrame.currentDirectiveIndex=n}function AC(n){let t=It.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function zC(){return It.lFrame.currentQueryIndex}function Lm(n){It.lFrame.currentQueryIndex=n}function E0e(n){let t=n[it];return t.type===2?t.declTNode:t.type===1?n[so]:null}function kC(n,t,e){if(e&4){let r=t,o=n;for(;r=r.parent,r===null&&!(e&1);)if(r=E0e(o),r===null||(o=o[vc],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=It.lFrame=PO();return i.currentTNode=t,i.lView=n,!0}function Am(n){let t=PO(),e=n[it];It.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function PO(){let n=It.lFrame,t=n===null?null:n.child;return t===null?OO(n):t}function OO(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function RO(){let n=It.lFrame;return It.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var NC=RO;function zm(){let n=RO();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FO(n){return(It.lFrame.contextLView=SO(n,It.lFrame.contextLView))[vr]}function n2(){return It.lFrame.selectedIndex}function wl(n){It.lFrame.selectedIndex=n}function i6(){let n=It.lFrame;return tf(n.tView,n.selectedIndex)}function Ut(){It.lFrame.currentNamespace=mC}function Ln(){D0e()}function D0e(){It.lFrame.currentNamespace=null}function BO(){return It.lFrame.currentNamespace}var VO=!0;function km(){return VO}function of(n){VO=n}function Gx(n,t=null,e=null,i){let r=PC(n,t,e,i);return r.resolveInjectorInitializers(),r}function PC(n,t=null,e=null,i,r=new Set){let o=[e||ao,Sm(n)];return i=i||(typeof n=="object"?void 0:Qs(n)),new hc(o,t||Z4(),i||null,r)}var Ve=class n{static THROW_IF_NOT_FOUND=fc;static NULL=new $d;static create(t,e){if(Array.isArray(t))return Gx({name:""},e,t,"");{let i=t.name??"";return Gx({name:i},t.parent,t.providers,i)}}static \u0275prov=Q({token:n,providedIn:"any",factory:()=>ae(nC)});static __NG_ELEMENT_ID__=-1},Me=new ue(""),yr=(()=>{class n{static __NG_ELEMENT_ID__=I0e;static __NG_ENV_ID__=e=>e}return n})(),Yd=class extends yr{_lView;constructor(t){super(),this._lView=t}get destroyed(){return xc(this._lView)}onDestroy(t){let e=this._lView;return bC(e,t),()=>wO(e,t)}};function I0e(){return new Yd(Ze())}var ta=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Mo=new ue("",{providedIn:"root",factory:()=>{let n=B(In),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(ta),t.handleError(e))}}}),UO={provide:Js,useValue:()=>void B(ta),multi:!0};function r6(n){return typeof n=="function"&&n[hr]!==void 0}function fn(n,t){let[e,i,r]=_x(n,t?.equal),o=e,a=o[hr];return o.set=i,o.update=r,o.asReadonly=Nm.bind(o),o}function Nm(){let n=this[hr];if(n.readonlyFn===void 0){let t=()=>this();t[hr]=n,n.readonlyFn=t}return n.readonlyFn}function OC(n){return r6(n)&&typeof n.set=="function"}var o6=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=L0e}return n})();function L0e(){return new o6(Ze(),Li())}var u1=class{},af=new ue("",{providedIn:"root",factory:()=>!1});var RC=new ue(""),FC=new ue(""),X1=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Vn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ut(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})(),a6=(()=>{class n{internalPendingTasks=B(X1);scheduler=B(u1);errorHandler=B(Mo);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Cc(...n){}var sf=(()=>{class n{static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new Wx})}return n})(),Wx=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}};function gf(n){return{toString:n}.toString()}function P0e(n){return typeof n=="function"}var Wm=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function CR(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var rn=(()=>{let n=()=>SR;return n.ngInherit=!0,n})();function SR(n){return n.type.prototype.ngOnChanges&&(n.setInput=R0e),O0e}function O0e(){let n=MR(this),t=n?.current;if(t){let e=n.previous;if(e===yl)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function R0e(n,t,e,i,r){let o=this.declaredInputs[i],a=MR(n)||F0e(n,{previous:yl,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new Wm(c&&c.currentValue,e,l===yl),CR(n,t,r,e)}var wR="__ngSimpleChanges__";function MR(n){return n[wR]||null}function F0e(n,t){return n[wR]=t}var HO=[];var _n=function(n,t=null,e){for(let i=0;i<HO.length;i++){let r=HO[i];r(n,t,e)}};function B0e(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let a=SR(t);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function TR(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(n.contentHooks??=[]).push(-e,a),s&&((n.contentHooks??=[]).push(e,s),(n.contentCheckHooks??=[]).push(e,s)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function Vm(n,t,e){ER(n,t,3,e)}function Um(n,t,e,i){(n[ft]&3)===e&&ER(n,t,e,i)}function BC(n,t){let e=n[ft];(e&3)===t&&(e&=16383,e+=1,n[ft]=e)}function ER(n,t,e,i){let r=i!==void 0?n[yc]&65535:0,o=i??-1,a=t.length-1,s=0;for(let l=r;l<a;l++)if(typeof t[l+1]=="number"){if(s=t[l],i!=null&&s>=i)break}else t[l]<0&&(n[yc]+=65536),(s<o||o==-1)&&(V0e(n,e,t,l),n[yc]=(n[yc]&4294901760)+l+2),l++}function jO(n,t){_n(4,n,t);let e=dt(null);try{t.call(n)}finally{dt(e),_n(5,n,t)}}function V0e(n,t,e,i){let r=e[i]<0,o=e[i+1],a=r?-e[i]:e[i],s=n[a];r?n[ft]>>14<n[yc]>>16&&(n[ft]&3)===t&&(n[ft]+=16384,jO(s,o)):jO(s,o)}var l6=-1,wc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}};function U0e(n){return(n.flags&8)!==0}function H0e(n){return(n.flags&16)!==0}function j0e(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],a=e[i++],s=e[i++];n.setAttribute(t,a,s,o)}else{let o=r,a=e[++i];G0e(o)?n.setProperty(t,o,a):n.setAttribute(t,o,a),i++}}return i}function DR(n){return n===3||n===4||n===6}function G0e(n){return n.charCodeAt(0)===64}function c6(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?GO(n,e,r,null,t[++i]):GO(n,e,r,null,null))}}return n}function GO(n,t,e,i,r){let o=0,a=n.length;if(t===-1)a=-1;else for(;o<n.length;){let s=n[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<n.length;){let s=n[o];if(typeof s=="number")break;if(s===e){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r)}function IR(n){return n!==l6}function qm(n){return n&32767}function W0e(n){return n>>16}function $m(n,t){let e=W0e(n),i=t;for(;e>0;)i=i[vc],e--;return i}var YC=!0;function Ym(n){let t=YC;return YC=n,t}var q0e=256,LR=q0e-1,AR=5,$0e=0,Q1={};function Y0e(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(gc)&&(i=e[gc]),i==null&&(i=e[gc]=$0e++);let r=i&LR,o=1<<r;t.data[n+(r>>AR)]|=o}function Zm(n,t){let e=zR(n,t);if(e!==-1)return e;let i=t[it];i.firstCreatePass&&(n.injectorIndex=t.length,VC(i.data,n),VC(t,null),VC(i.blueprint,null));let r=ES(n,t),o=n.injectorIndex;if(IR(r)){let a=qm(r),s=$m(r,t),l=s[it].data;for(let c=0;c<8;c++)t[o+c]=s[a+c]|l[a+c]}return t[o+8]=r,o}function VC(n,t){n.push(0,0,0,0,0,0,0,0,t)}function zR(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function ES(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=RR(r),i===null)return l6;if(e++,r=r[vc],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return l6}function ZC(n,t,e){Y0e(n,t,e)}function Z0e(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(DR(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function kR(n,t,e){if(e&8||n!==void 0)return n;_m(t,"NodeInjector")}function NR(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=n[_l],o=oo(void 0);try{return r?r.get(t,i,e&8):eC(t,i,e&8)}finally{oo(o)}}return kR(i,t,e)}function PR(n,t,e,i=0,r){if(n!==null){if(t[ft]&2048&&!(i&2)){let a=J0e(n,t,e,i,Q1);if(a!==Q1)return a}let o=OR(n,t,e,i,Q1);if(o!==Q1)return o}return NR(t,e,i,r)}function OR(n,t,e,i,r){let o=Q0e(e);if(typeof o=="function"){if(!kC(t,n,i))return i&1?kR(r,e,i):NR(t,e,i,r);try{let a;if(a=o(i),a==null&&!(i&8))_m(e);else return a}finally{NC()}}else if(typeof o=="number"){let a=null,s=zR(n,t),l=l6,c=i&1?t[wo][so]:null;for((s===-1||i&4)&&(l=s===-1?ES(n,t):t[s+8],l===l6||!qO(i,!1)?s=-1:(a=t[it],s=qm(l),t=$m(l,t)));s!==-1;){let u=t[it];if(WO(o,s,u.data)){let d=X0e(s,t,e,a,i,c);if(d!==Q1)return d}l=t[s+8],l!==l6&&qO(i,t[it].data[s+8]===c)&&WO(o,s,t)?(a=u,s=qm(l),t=$m(l,t)):s=-1}}return r}function X0e(n,t,e,i,r,o){let a=t[it],s=a.data[n+8],l=i==null?Cl(s)&&YC:i!=a&&(s.type&3)!==0,c=r&1&&o===s,u=Hm(s,a,e,l,c);return u!==null?df(t,a,u,s,r):Q1}function Hm(n,t,e,i,r){let o=n.providerIndexes,a=t.data,s=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=i?s:s+u,f=r?s+u:c;for(let p=d;p<f;p++){let v=a[p];if(p<l&&e===v||p>=l&&v.type===e)return p}if(r){let p=a[l];if(p&&f1(p)&&p.type===e)return l}return null}function df(n,t,e,i,r){let o=n[e],a=t.data;if(o instanceof wc){let s=o;if(s.resolving){let p=lO(a[e]);throw Jx(p)}let l=Ym(s.canSeeViewProviders);s.resolving=!0;let c=a[e].type||a[e],u,d=s.injectImpl?oo(s.injectImpl):null,f=kC(n,i,0);try{o=n[e]=s.factory(void 0,r,a,n,i),t.firstCreatePass&&e>=i.directiveStart&&B0e(e,a[e],t)}finally{d!==null&&oo(d),Ym(l),s.resolving=!1,NC()}}return o}function Q0e(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(gc)?n[gc]:void 0;return typeof t=="number"?t>=0?t&LR:K0e:t}function WO(n,t,e){let i=1<<n;return!!(e[t+(n>>AR)]&i)}function qO(n,t){return!(n&2)&&!(n&1&&t)}var Sc=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return PR(this._tNode,this._lView,t,pc(i),e)}};function K0e(){return new Sc(Li(),Ze())}function vi(n){return gf(()=>{let t=n.prototype.constructor,e=t[qd]||XC(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[qd]||XC(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function XC(n){return qx(n)?()=>{let t=XC(gr(n));return t&&t()}:gl(n)}function J0e(n,t,e,i,r){let o=n,a=t;for(;o!==null&&a!==null&&a[ft]&2048&&!e6(a);){let s=OR(o,a,e,i|2,Q1);if(s!==Q1)return s;let l=o.parent;if(!l){let c=a[dC];if(c){let u=c.get(e,Q1,i);if(u!==Q1)return u}l=RR(a),a=a[vc]}o=l}return r}function RR(n){let t=n[it],e=t.type;return e===2?t.declTNode:e===1?n[so]:null}function vf(n){return Z0e(Li(),n)}function ece(){return p6(Li(),Ze())}function p6(n,t){return new at(p1(n,t))}var at=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=ece}return n})();function tce(n){return n instanceof at?n.nativeElement:n}function nce(){return this._results[Symbol.iterator]()}var i2=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new me}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=pO(t);(this._changesDetected=!fO(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=nce};function FR(n){return(n.flags&128)===128}var DS=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(DS||{}),BR=new Map,ice=0;function rce(){return ice++}function oce(n){BR.set(n[Kd],n)}function QC(n){BR.delete(n[Kd])}var $O="__ngContext__";function u6(n,t){Y1(t)?(n[$O]=t[Kd],oce(t)):n[$O]=t}function VR(n){return HR(n[K4])}function UR(n){return HR(n[Sa])}function HR(n){for(;n!==null&&!d1(n);)n=n[Sa];return n}var KC;function IS(n){KC=n}function LS(){if(KC!==void 0)return KC;if(typeof document<"u")return document;throw new se(210,!1)}var El=new ue("",{providedIn:"root",factory:()=>ace}),ace="ng",uh=new ue(""),Tc=new ue("",{providedIn:"platform",factory:()=>"unknown"});var Dl=new ue(""),m6=new ue("",{providedIn:"root",factory:()=>LS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),dh={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},fh=new ue("",{providedIn:"root",factory:()=>dh});var sce="h",lce="b";var jR=!1,GR=new ue("",{providedIn:"root",factory:()=>jR});var ph=new ue("");var cce=(n,t,e,i)=>{};function uce(n,t,e,i){cce(n,t,e,i)}function mh(n){return(n.flags&32)===32}var dce=()=>null;function WR(n,t,e=!1){return dce(n,t,e)}function qR(n,t){let e=n.contentQueries;if(e!==null){let i=dt(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let s=n.data[a];Lm(o),s.contentQueries(2,t[a],a)}}}finally{dt(i)}}}function JC(n,t,e){Lm(0);let i=dt(null);try{t(n,e)}finally{dt(i)}}function AS(n,t,e){if(pC(t)){let i=dt(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let a=r;a<o;a++){let s=n.data[a];if(s.contentQueries){let l=e[a];s.contentQueries(1,l,a)}}}finally{dt(i)}}}var r2=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(r2||{});var Pm;function fce(){if(Pm===void 0&&(Pm=null,Vi.trustedTypes))try{Pm=Vi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pm}function hh(n){return fce()?.createHTML(n)||n}var Om;function $R(){if(Om===void 0&&(Om=null,Vi.trustedTypes))try{Om=Vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Om}function YO(n){return $R()?.createHTML(n)||n}function ZO(n){return $R()?.createScriptURL(n)||n}var o2=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gm})`}},eS=class extends o2{getTypeName(){return"HTML"}},tS=class extends o2{getTypeName(){return"Style"}},nS=class extends o2{getTypeName(){return"Script"}},iS=class extends o2{getTypeName(){return"URL"}},rS=class extends o2{getTypeName(){return"ResourceURL"}};function To(n){return n instanceof o2?n.changingThisBreaksApplicationSecurity:n}function J1(n,t){let e=YR(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${gm})`)}return e===t}function YR(n){return n instanceof o2&&n.getTypeName()||null}function zS(n){return new eS(n)}function kS(n){return new tS(n)}function NS(n){return new nS(n)}function PS(n){return new iS(n)}function OS(n){return new rS(n)}function pce(n){let t=new aS(n);return mce()?new oS(t):t}var oS=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(hh(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},aS=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=hh(t),e}};function mce(){try{return!!new window.DOMParser().parseFromString(hh(""),"text/html")}catch{return!1}}var hce=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yf(n){return n=String(n),n.match(hce)?n:"unsafe:"+n}function a2(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function _f(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var ZR=a2("area,br,col,hr,img,wbr"),XR=a2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QR=a2("rp,rt"),gce=_f(QR,XR),vce=_f(XR,a2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yce=_f(QR,a2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),XO=_f(ZR,vce,yce,gce),KR=a2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_ce=a2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bce=a2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),xce=_f(KR,_ce,bce),Cce=a2("script,style,template"),sS=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=Mce(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=wce(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=QO(t).toLowerCase();if(!XO.hasOwnProperty(e))return this.sanitizedSomething=!0,!Cce.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,s=a.toLowerCase();if(!xce.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;KR[s]&&(l=yf(l)),this.buf.push(" ",a,'="',KO(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=QO(t).toLowerCase();XO.hasOwnProperty(e)&&!ZR.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(KO(t))}};function Sce(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function wce(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw JR(t);return t}function Mce(n){let t=n.firstChild;if(t&&Sce(n,t))throw JR(t);return t}function QO(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function JR(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Tce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ece=/([^\#-~ |!])/g;function KO(n){return n.replace(/&/g,"&amp;").replace(Tce,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(Ece,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Rm;function gh(n,t){let e=null;try{Rm=Rm||pce(n);let i=t?String(t):"";e=Rm.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Rm.getInertBodyElement(i)}while(i!==o);let s=new sS().sanitizeChildren(JO(e)||e);return hh(s)}finally{if(e){let i=JO(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function JO(n){return"content"in n&&Dce(n)?n.content:null}function Dce(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ice=/^>|^->|<!--|-->|--!>|<!-$/g,Lce=/(<|>)/g,Ace="\u200B$1\u200B";function zce(n){return n.replace(Ice,t=>t.replace(Lce,Ace))}function kce(n,t){return n.createText(t)}function Nce(n,t,e){n.setValue(t,e)}function Pce(n,t){return n.createComment(zce(t))}function eF(n,t,e){return n.createElement(t,e)}function Xm(n,t,e,i,r){n.insertBefore(t,e,i,r)}function tF(n,t,e){n.appendChild(t,e)}function eR(n,t,e,i,r){i!==null?Xm(n,t,e,i,r):tF(n,t,e)}function Oce(n,t,e,i){n.removeChild(null,t,e,i)}function Rce(n,t,e){n.setAttribute(t,"style",e)}function Fce(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function nF(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&j0e(n,t,i),r!==null&&Fce(n,t,r),o!==null&&Rce(n,t,o)}var Eo=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Eo||{});function h6(n){let t=FS();return t?YO(t.sanitize(Eo.HTML,n)||""):J1(n,"HTML")?YO(To(n)):gh(LS(),Ks(n))}function bf(n){let t=FS();return t?t.sanitize(Eo.URL,n)||"":J1(n,"URL")?To(n):yf(Ks(n))}function iF(n){let t=FS();if(t)return ZO(t.sanitize(Eo.RESOURCE_URL,n)||"");if(J1(n,"ResourceURL"))return ZO(To(n));throw new se(904,!1)}function Bce(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?iF:bf}function RS(n,t,e){return Bce(t,e)(n)}function FS(){let n=Ze();return n&&n[q1].sanitizer}function BS(n){return n.ownerDocument.defaultView}function xf(n){return n.ownerDocument}function rF(n){return n instanceof Function?n():n}function Vce(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}var oF="ng-template";function Uce(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&Vce(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(VS(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function VS(n){return n.type===4&&n.value!==oF}function Hce(n,t,e){let i=n.type===4&&!e?oF:n.value;return t===i}function jce(n,t,e){let i=4,r=n.attrs,o=r!==null?qce(r):0,a=!1;for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number"){if(!a&&!h1(i)&&!h1(l))return!1;if(a&&h1(l))continue;a=!1,i=l|i&1;continue}if(!a)if(i&4){if(i=2|i&1,l!==""&&!Hce(n,l,e)||l===""&&t.length===1){if(h1(i))return!1;a=!0}}else if(i&8){if(r===null||!Uce(n,r,l,e)){if(h1(i))return!1;a=!0}}else{let c=t[++s],u=Gce(l,r,VS(n),e);if(u===-1){if(h1(i))return!1;a=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(h1(i))return!1;a=!0}}}}return h1(i)||a}function h1(n){return(n&1)===0}function Gce(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let a=t[r];if(a===n)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++r];for(;typeof s=="string";)s=t[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return $ce(t,n)}function aF(n,t,e=!1){for(let i=0;i<t.length;i++)if(jce(n,t[i],e))return!0;return!1}function Wce(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function qce(n){for(let t=0;t<n.length;t++){let e=n[t];if(DR(e))return t}return n.length}function $ce(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function Yce(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function tR(n,t){return n?":not("+t.trim()+")":t}function Zce(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let a=n[e];if(typeof a=="string")if(i&2){let s=n[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!h1(a)&&(t+=tR(o,r),r=""),i=a,o=o||!h1(i);e++}return r!==""&&(t+=tR(o,r)),t}function Xce(n){return n.map(Zce).join(",")}function Qce(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!h1(r))break;r=o}i++}return e.length&&t.push(1,...e),t}var Ar={};function US(n,t,e,i,r,o,a,s,l,c,u){let d=jn+i,f=d+r,p=Kce(d,f),v=typeof c=="function"?c():c;return p[it]={type:n,blueprint:p,template:e,queries:null,viewQuery:s,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function Kce(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ar);return e}function Jce(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=US(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function HS(n,t,e,i,r,o,a,s,l,c,u){let d=t.blueprint.slice();return d[Ca]=r,d[ft]=i|4|128|8|64|1024,(c!==null||n&&n[ft]&2048)&&(d[ft]|=2048),yC(d),d[Ji]=d[vc]=n,d[vr]=e,d[q1]=a||n&&n[q1],d[Cn]=s||n&&n[Cn],d[_l]=l||n&&n[_l]||null,d[so]=o,d[Kd]=rce(),d[X4]=u,d[dC]=c,d[wo]=t.type==2?n[wo]:d,d}function e3e(n,t,e){let i=p1(t,n),r=Jce(e),o=n[q1].rendererFactory,a=jS(n,HS(n,r,null,sF(e),i,t,null,o.createRenderer(i,e),null,null,null));return n[t.index]=a}function sF(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function lF(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function jS(n,t){return n[K4]?n[uC][Sa]=t:n[K4]=t,n[uC]=t,t}function g(n=1){cF(Pn(),Ze(),n2()+n,!1)}function cF(n,t,e,i){if(!i)if((t[ft]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Vm(t,o,e)}else{let o=n.preOrderHooks;o!==null&&Um(t,o,0,e)}wl(e)}var vh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(vh||{});function lS(n,t,e,i){let r=dt(null);try{let[o,a,s]=n.inputs[e],l=null;(a&vh.SignalBased)!==0&&(l=t[o][hr]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):s!==null&&(i=s.call(t,i)),n.setInput!==null?n.setInput(t,l,i,e,o):CR(t,l,o,i)}finally{dt(r)}}var v1=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(v1||{}),t3e;function GS(n,t){return t3e(n,t)}var d6=new Set,yh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(yh||{}),Ec=new ue(""),nR=new Set;function Ta(n){nR.has(n)||(nR.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var uF=!1,cS=class extends me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,cC()&&(this.destroyRef=B(yr,{optional:!0})??void 0,this.pendingTasks=B(X1,{optional:!0})??void 0)}emit(t){let e=dt(null);try{super.next(t)}finally{dt(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),a=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:r,error:o,complete:a});return t instanceof Et&&t.add(s),s}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},be=cS;function dF(n){let t,e;function i(){n=Cc;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function iR(n){return queueMicrotask(()=>n()),()=>{n=Cc}}var WS="isAngularZone",Qm=WS+"_ID",n3e=0,Pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=uF}=t;if(typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,o3e(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(WS)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new se(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,i3e,Cc,Cc);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},i3e={};function qS(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function r3e(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){dF(()=>{n.callbackScheduled=!1,uS(n),n.isCheckStableRunning=!0,qS(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),uS(n)}function o3e(n){let t=()=>{r3e(n)},e=n3e++;n._inner=n._inner.fork({name:"angular",properties:{[WS]:!0,[Qm]:e,[Qm+e]:!0},onInvokeTask:(i,r,o,a,s,l)=>{if(a3e(l))return i.invokeTask(o,a,s,l);try{return rR(n),i.invokeTask(o,a,s,l)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),oR(n)}},onInvoke:(i,r,o,a,s,l,c)=>{try{return rR(n),i.invoke(o,a,s,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!s3e(l)&&t(),oR(n)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,uS(n),qS(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function uS(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function rR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oR(n){n._nesting--,qS(n)}var Km=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function a3e(n){return fF(n,"__ignore_ng_zone__")}function s3e(n){return fF(n,"__scheduler_tick__")}function fF(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var $S=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})(),pF=[0,1,2,3],mF=(()=>{class n{ngZone=B(Pe);scheduler=B(u1);errorHandler=B(ta,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){B(Ec,{optional:!0})}execute(){let e=this.sequences.size>0;e&&_n(16),this.executing=!0;for(let i of pF)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&_n(17)}register(e){let{view:i}=e;i!==void 0?((i[_c]??=[]).push(e),Sl(i),i[ft]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(yh.AFTER_NEXT_RENDER,e):e()}static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Jm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,r,o,a=null){this.impl=t,this.hooks=e,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[_c];t&&(this.view[_c]=t.filter(e=>e!==this))}};function Ai(n,t){let e=t?.injector??B(Ve);return Ta("NgAfterNextRender"),c3e(n,e,t,!0)}function l3e(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function c3e(n,t,e,i){let r=t.get($S);r.impl??=t.get(mF);let o=t.get(Ec,null,{optional:!0}),a=e?.manualCleanup!==!0?t.get(yr):null,s=t.get(o6,null,{optional:!0}),l=new Jm(r.impl,l3e(n),s?.view,i,a,o?.snapshot(null));return r.impl.register(l),l}var u3e=new ue("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function hF(n,t,e){let i=n.get(u3e);if(Array.isArray(t))for(let r of t)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function d3e(n,t){for(let[e,i]of t)hF(n,i.animateFns)}function aR(n,t,e,i){let r=n?.[Jd]?.enter;t!==null&&r&&r.has(e.index)&&d3e(i,r)}function s6(n,t,e,i,r,o,a,s){if(r!=null){let l,c=!1;d1(r)?l=r:Y1(r)&&(c=!0,r=r[Ca]);let u=wa(r);n===0&&i!==null?(aR(s,i,o,e),a==null?tF(t,i,u):Xm(t,i,u,a||null,!0)):n===1&&i!==null?(aR(s,i,o,e),Xm(t,i,u,a||null,!0)):n===2?sR(s,o,e,d=>{Oce(t,u,c,d)}):n===3&&sR(s,o,e,()=>{t.destroyNode(u)}),l!=null&&C3e(t,n,e,l,o,i,a)}}function f3e(n,t){gF(n,t),t[Ca]=null,t[so]=null}function p3e(n,t,e,i,r,o){i[Ca]=r,i[so]=t,_h(n,i,e,1,r,o)}function gF(n,t){t[q1].changeDetectionScheduler?.notify(9),_h(n,t,t[Cn],2,null,null)}function m3e(n){let t=n[K4];if(!t)return UC(n[it],n);for(;t;){let e=null;if(Y1(t))e=t[K4];else{let i=t[Ir];i&&(e=i)}if(!e){for(;t&&!t[Sa]&&t!==n;)Y1(t)&&UC(t[it],t),t=t[Ji];t===null&&(t=n),Y1(t)&&UC(t[it],t),e=t&&t[Sa]}t=e}}function YS(n,t){let e=n[bc],i=e.indexOf(t);e.splice(i,1)}function ZS(n,t){if(xc(t))return;let e=t[Cn];e.destroyNode&&_h(n,t,e,3,null,null),m3e(t)}function UC(n,t){if(xc(t))return;let e=dt(null);try{t[ft]&=-129,t[ft]|=256,t[na]&&oc(t[na]),v3e(n,t),g3e(n,t),t[it].type===1&&t[Cn].destroy();let i=t[bl];if(i!==null&&d1(t[Ji])){i!==t[Ji]&&YS(i,t);let r=t[$1];r!==null&&r.detachView(n)}QC(t)}finally{dt(e)}}function sR(n,t,e,i){let r=n?.[Jd];if(r==null||r.leave==null||!r.leave.has(t.index))return i(!1);n&&d6.add(n),hF(e,()=>{if(r.leave&&r.leave.has(t.index)){let a=r.leave.get(t.index),s=[];if(a){for(let l=0;l<a.animateFns.length;l++){let c=a.animateFns[l],{promise:u}=c();s.push(u)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(s),h3e(n,i)}else n&&d6.delete(n),i(!1)},r)}function h3e(n,t){let e=n[Jd]?.running;if(e){e.then(()=>{n[Jd].running=void 0,d6.delete(n),t(!0)});return}t(!1)}function g3e(n,t){let e=n.cleanup,i=t[Q4];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?i[s]():i[-s].unsubscribe(),a+=2}else{let s=i[e[a+1]];e[a].call(s)}i!==null&&(t[Q4]=null);let r=t[Xs];if(r!==null){t[Xs]=null;for(let a=0;a<r.length;a++){let s=r[a];s()}}let o=t[e2];if(o!==null){t[e2]=null;for(let a of o)a.destroy()}}function v3e(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof wc)){let o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],l=o[a+1];_n(4,s,l);try{l.call(s)}finally{_n(5,s,l)}}else{_n(4,r,o);try{o.call(r)}finally{_n(5,r,o)}}}}}function vF(n,t,e){return y3e(n,t.parent,e)}function y3e(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Ca];if(Cl(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===r2.None||r===r2.Emulated)return null}return p1(i,e)}function yF(n,t,e){return b3e(n,t,e)}function _3e(n,t,e){return n.type&40?p1(n,e):null}var b3e=_3e,lR;function XS(n,t,e,i){let r=vF(n,i,t),o=t[Cn],a=i.parent||t[so],s=yF(a,i,t);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)eR(o,r,e[l],s,!1);else eR(o,r,e,s,!1);lR!==void 0&&lR(o,i,t,e,r)}function lf(n,t){if(t!==null){let e=t.type;if(e&3)return p1(t,n);if(e&4)return dS(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return lf(n,i);{let r=n[t.index];return d1(r)?dS(-1,r):wa(r)}}else{if(e&128)return lf(n,t.next);if(e&32)return GS(t,n)()||wa(n[t.index]);{let i=_F(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=vl(n[wo]);return lf(r,i)}else return lf(n,t.next)}}}return null}function _F(n,t){if(t!==null){let i=n[wo][so],r=t.projection;return i.projection[r]}return null}function dS(n,t){let e=Ir+n+1;if(e<t.length){let i=t[e],r=i[it].firstChild;if(r!==null)return lf(i,r)}return t[xl]}function QS(n,t,e,i,r,o,a){for(;e!=null;){let s=i[_l];if(e.type===128){e=e.next;continue}let l=i[e.index],c=e.type;if(a&&t===0&&(l&&u6(wa(l),i),e.flags|=2),!mh(e))if(c&8)QS(n,t,e.child,i,r,o,!1),s6(t,n,s,r,l,e,o,i);else if(c&32){let u=GS(e,i),d;for(;d=u();)s6(t,n,s,r,d,e,o,i);s6(t,n,s,r,l,e,o,i)}else c&16?bF(n,t,i,e,r,o):s6(t,n,s,r,l,e,o,i);e=a?e.projectionNext:e.next}}function _h(n,t,e,i,r,o){QS(e,i,n.firstChild,t,r,o,!1)}function x3e(n,t,e){let i=t[Cn],r=vF(n,e,t),o=e.parent||t[so],a=yF(o,e,t);bF(i,0,t,e,r,a)}function bF(n,t,e,i,r,o){let a=e[wo],l=a[so].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];s6(t,n,e[_l],r,u,i,o,e)}else{let c=l,u=a[Ji];FR(i)&&(c.flags|=128),QS(n,t,c,u,r,o,!0)}}function C3e(n,t,e,i,r,o,a){let s=i[xl],l=wa(i);s!==l&&s6(t,n,e,o,s,r,a);for(let c=Ir;c<i.length;c++){let u=i[c];_h(u[it],u,n,t,o,s)}}function S3e(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:v1.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=v1.Important),n.setStyle(e,i,r,o))}}function xF(n,t,e,i,r){let o=n2(),a=i&2;try{wl(-1),a&&t.length>jn&&cF(n,t,jn,!1),_n(a?2:0,r,e),e(i,r)}finally{wl(o),_n(a?3:1,r,e)}}function bh(n,t,e){I3e(n,t,e),(e.flags&64)===64&&L3e(n,t,e)}function Cf(n,t,e=p1){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],s=a===-1?e(t,n):n[a];n[r++]=s}}}function w3e(n,t,e,i){let o=i.get(GR,jR)||e===r2.ShadowDom,a=n.selectRootElement(t,o);return M3e(a),a}function M3e(n){T3e(n)}var T3e=()=>null;function E3e(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function CF(n,t,e,i,r,o){let a=t[it];if(nw(n,a,t,e,i)){Cl(n)&&D3e(t,n.index);return}n.type&3&&(e=E3e(e)),KS(n,t,e,i,r,o)}function KS(n,t,e,i,r,o){if(n.type&3){let a=p1(n,t);i=o!=null?o(i,n.value||"",e):i,r.setProperty(a,e,i)}else n.type&12}function D3e(n,t){let e=Ma(t,n);e[ft]&16||(e[ft]|=64)}function I3e(n,t,e){let i=e.directiveStart,r=e.directiveEnd;Cl(e)&&e3e(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Zm(e,t);let o=e.initialInputs;for(let a=i;a<r;a++){let s=n.data[a],l=df(t,n,a,e);if(u6(l,t),o!==null&&N3e(t,a-i,l,s,e,o),f1(s)){let c=Ma(e.index,t);c[vr]=df(t,n,a,e)}}}function L3e(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,a=NO();try{wl(o);for(let s=i;s<r;s++){let l=n.data[s],c=t[s];Im(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&A3e(l,c)}}finally{wl(-1),Im(a)}}function A3e(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function JS(n,t){let e=n.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];aF(t,o.selectors,!1)&&(i??=[],f1(o)?i.unshift(o):i.push(o))}return i}function z3e(n,t,e,i,r,o){let a=p1(n,t);k3e(t[Cn],a,o,n.value,e,i,r)}function k3e(n,t,e,i,r,o,a){if(o==null)n.removeAttribute(t,r,e);else{let s=a==null?Ks(o):a(o,i||"",r);n.setAttribute(t,r,s,e)}}function N3e(n,t,e,i,r,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;s+=2){let l=a[s],c=a[s+1];lS(i,e,l,c)}}function ew(n,t,e,i,r){let o=jn+e,a=t[it],s=r(a,t,n,i,e);t[o]=s,t6(n,!0);let l=n.type===2;return l?(nF(t[Cn],s,n),(TO()===0||J4(n))&&u6(s,t),EO()):u6(s,t),km()&&(!l||!mh(n))&&XS(a,t,s,n),n}function tw(n){let t=n;return DC()?IC():(t=t.parent,t6(t,!1)),t}function P3e(n,t,e){return(n===null||f1(n))&&(e=hC(e[t.index])),e[Cn]}function O3e(n,t){let e=n[_l];if(!e)return;let i;try{i=e.get(Mo,null)}catch{i=null}i?.(t)}function nw(n,t,e,i,r){let o=n.inputs?.[i],a=n.hostDirectiveInputs?.[i],s=!1;if(a)for(let l=0;l<a.length;l+=2){let c=a[l],u=a[l+1],d=t.data[c];lS(d,e[c],u,r),s=!0}if(o)for(let l of o){let c=e[l],u=t.data[l];lS(u,c,i,r),s=!0}return s}function R3e(n,t){let e=Ma(t,n),i=e[it];F3e(i,e);let r=e[Ca];r!==null&&e[X4]===null&&(e[X4]=WR(r,e[_l])),_n(18),iw(i,e,e[vr]),_n(19,e[vr])}function F3e(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function iw(n,t,e){Am(t);try{let i=n.viewQuery;i!==null&&JC(1,i,e);let r=n.template;r!==null&&xF(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[$1]?.finishViewCreation(n),n.staticContentQueries&&qR(n,t),n.staticViewQueries&&JC(2,n.viewQuery,e);let o=n.components;o!==null&&B3e(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[ft]&=-5,zm()}}function B3e(n,t){for(let e=0;e<t.length;e++)R3e(n,t[e])}function rw(n,t,e,i){let r=dt(null);try{let o=t.tView,s=n[ft]&4096?4096:16,l=HS(n,o,e,s,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[t.index];l[bl]=c;let u=n[$1];return u!==null&&(l[$1]=u.createEmbeddedView(o)),iw(o,l,e),l}finally{dt(r)}}function eh(n,t){return!t||t.firstChild===null||FR(n)}function ff(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(wa(o)),d1(o)&&SF(o,i);let a=e.type;if(a&8)ff(n,t,e.child,i);else if(a&32){let s=GS(e,t),l;for(;l=s();)i.push(l)}else if(a&16){let s=_F(t,e);if(Array.isArray(s))i.push(...s);else{let l=vl(t[wo]);ff(l[it],l,s,i,!0)}}e=r?e.projectionNext:e.next}return i}function SF(n,t){for(let e=Ir;e<n.length;e++){let i=n[e],r=i[it].firstChild;r!==null&&ff(i[it],i,r,t)}n[xl]!==n[Ca]&&t.push(n[xl])}function wF(n){if(n[_c]!==null){for(let t of n[_c])t.impl.addSequence(t);n[_c].length=0}}var MF=[];function V3e(n){return n[na]??U3e(n)}function U3e(n){let t=MF.pop()??Object.create(j3e);return t.lView=n,t}function H3e(n){n.lView[na]!==n&&(n.lView=null,MF.push(n))}var j3e=Ie(X({},nc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Sl(n.lView)},consumerOnSignalRead(){this.lView[na]=this}});function G3e(n){let t=n[na]??Object.create(W3e);return t.lView=n,t}var W3e=Ie(X({},nc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=vl(n.lView);for(;t&&!TF(t[it]);)t=vl(t);t&&_C(t)},consumerOnSignalRead(){this.lView[na]=this}});function TF(n){return n.type!==2}function EF(n){if(n[e2]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[e2])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[ft]&8192)}}var q3e=100;function DF(n,t=0){let i=n[q1].rendererFactory,r=!1;r||i.begin?.();try{$3e(n,t)}finally{r||i.end?.()}}function $3e(n,t){let e=LC();try{n6(!0),fS(n,t);let i=0;for(;rf(n);){if(i===q3e)throw new se(103,!1);i++,fS(n,1)}}finally{n6(e)}}function Y3e(n,t,e,i){if(xc(t))return;let r=t[ft],o=!1,a=!1;Am(t);let s=!0,l=null,c=null;o||(TF(n)?(c=V3e(t),l=rc(c)):z7()===null?(s=!1,c=G3e(t),l=rc(c)):t[na]&&(oc(t[na]),t[na]=null));try{yC(t),AO(n.bindingStartIndex),e!==null&&xF(n,t,e,2,i);let u=(r&3)===3;if(!o)if(u){let p=n.preOrderCheckHooks;p!==null&&Vm(t,p,null)}else{let p=n.preOrderHooks;p!==null&&Um(t,p,0,null),BC(t,0)}if(a||Z3e(t),EF(t),IF(t,0),n.contentQueries!==null&&qR(n,t),!o)if(u){let p=n.contentCheckHooks;p!==null&&Vm(t,p)}else{let p=n.contentHooks;p!==null&&Um(t,p,1),BC(t,1)}Q3e(n,t);let d=n.components;d!==null&&AF(t,d,0);let f=n.viewQuery;if(f!==null&&JC(2,f,i),!o)if(u){let p=n.viewCheckHooks;p!==null&&Vm(t,p)}else{let p=n.viewHooks;p!==null&&Um(t,p,2),BC(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[wm]){for(let p of t[wm])p();t[wm]=null}o||(wF(t),t[ft]&=-73)}catch(u){throw o||Sl(t),u}finally{c!==null&&(A4(c,l),s&&H3e(c)),zm()}}function IF(n,t){for(let e=VR(n);e!==null;e=UR(e))for(let i=Ir;i<e.length;i++){let r=e[i];LF(r,t)}}function Z3e(n){for(let t=VR(n);t!==null;t=UR(t)){if(!(t[ft]&2))continue;let e=t[bc];for(let i=0;i<e.length;i++){let r=e[i];_C(r)}}}function X3e(n,t,e){_n(18);let i=Ma(t,n);LF(i,e),_n(19,i[vr])}function LF(n,t){Mm(n)&&fS(n,t)}function fS(n,t){let i=n[it],r=n[ft],o=n[na],a=!!(t===0&&r&16);if(a||=!!(r&64&&t===0),a||=!!(r&1024),a||=!!(o?.dirty&&z4(o)),a||=!1,o&&(o.dirty=!1),n[ft]&=-9217,a)Y3e(i,n,i.template,n[vr]);else if(r&8192){let s=dt(null);try{EF(n),IF(n,1);let l=i.components;l!==null&&AF(n,l,1),wF(n)}finally{dt(s)}}}function AF(n,t,e){for(let i=0;i<t.length;i++)X3e(n,t[i],e)}function Q3e(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)wl(~r);else{let o=r,a=e[++i],s=e[++i];kO(a,o);let l=t[o];_n(24,l),s(2,l),_n(25,l)}}}finally{wl(-1)}}function ow(n,t){let e=LC()?64:1088;for(n[q1].changeDetectionScheduler?.notify(t);n;){n[ft]|=e;let i=vl(n);if(e6(n)&&!i)return n;n=i}return null}function zF(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function K3e(n,t){let e=Ir+t;if(e<n.length)return n[e]}function aw(n,t,e,i=!0){let r=t[it];if(e4e(r,t,n,e),i){let a=dS(e,n),s=t[Cn],l=s.parentNode(n[xl]);l!==null&&p3e(r,n[so],s,t,l,a)}let o=t[X4];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function J3e(n,t){let e=th(n,t);return e!==void 0&&ZS(e[it],e),e}function th(n,t){if(n.length<=Ir)return;let e=Ir+t,i=n[e];if(i){let r=i[bl];r!==null&&r!==n&&YS(r,i),t>0&&(n[e-1][Sa]=i[Sa]);let o=Xd(n,Ir+t);f3e(i[it],i);let a=o[$1];a!==null&&a.detachView(o[it]),i[Ji]=null,i[Sa]=null,i[ft]&=-129}return i}function e4e(n,t,e,i){let r=Ir+i,o=e.length;i>0&&(e[r-1][Sa]=t),i<o-Ir?(t[Sa]=e[r],tC(e,Ir+i,t)):(e.push(t),t[Sa]=null),t[Ji]=e;let a=t[bl];a!==null&&e!==a&&kF(a,t);let s=t[$1];s!==null&&s.insertView(n),Tm(t),t[ft]|=128}function kF(n,t){let e=n[bc],i=t[Ji];if(Y1(i))n[ft]|=2;else{let r=i[Ji][wo];t[wo]!==r&&(n[ft]|=2)}e===null?n[bc]=[t]:e.push(t)}var Ml=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[it];return ff(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[vr]}set context(t){this._lView[vr]=t}get destroyed(){return xc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ji];if(d1(t)){let e=t[ef],i=e?e.indexOf(this):-1;i>-1&&(th(t,i),Xd(e,i))}this._attachedToViewContainer=!1}ZS(this._lView[it],this._lView)}onDestroy(t){bC(this._lView,t)}markForCheck(){ow(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ft]&=-129}reattach(){Tm(this._lView),this._lView[ft]|=128}detectChanges(){this._lView[ft]|=1024,DF(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=e6(this._lView),e=this._lView[bl];e!==null&&!t&&YS(e,this._lView),gF(this._lView[it],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=t;let e=e6(this._lView),i=this._lView[bl];i!==null&&!e&&kF(i,this._lView),Tm(this._lView)}};var Lr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=t4e;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let o=rw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new Ml(o)}}return n})();function t4e(){return xh(Li(),Ze())}function xh(n,t){return n.type&4?new Lr(t,n,p6(n,t)):null}function g6(n,t,e,i,r){let o=n.data[t];if(o===null)o=n4e(n,t,e,i,r),zO()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let a=DO();o.injectorIndex=a===null?-1:a.injectorIndex}return t6(o,!0),o}function n4e(n,t,e,i,r){let o=EC(),a=DC(),s=a?o:o&&o.parent,l=n.data[t]=r4e(n,s,e,t,i,r);return i4e(n,l,o,a),l}function i4e(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function r4e(n,t,e,i,r,o){let a=t?t.injectorIndex:-1,s=0;return wC()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Vqe=new RegExp(`^(\\d+)*(${lce}|${sce})*(.*)`);var o4e=()=>null,a4e=()=>null;function pS(n,t){return o4e(n,t)}function s4e(n,t,e){return a4e(n,t,e)}var NF=class{},Ch=class{},mS=class{resolveComponentFactory(t){throw new se(917,!1)}},Dc=class{static NULL=new mS},gi=class{},li=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>l4e()}return n})();function l4e(){let n=Ze(),t=Li(),e=Ma(t.index,n);return(Y1(e)?e:n)[Cn]}var PF=(()=>{class n{static \u0275prov=Q({token:n,providedIn:"root",factory:()=>null})}return n})();var jm={},hS=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let r=this.injector.get(t,jm,i);return r!==jm||e===jm?r:this.parentInjector.get(t,e,i)}};function nh(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)r=vm(r,s);else if(o==2){let l=s,c=t[++a];i=vm(i,l+": "+c+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function V(n,t=0){let e=Ze();if(e===null)return ae(n,t);let i=Li();return PR(i,e,gr(n),t)}function Sf(){let n="invalid";throw new Error(n)}function OF(n,t,e,i,r){let o=i===null?null:{"":-1},a=r(n,e);if(a!==null){let s=a,l=null,c=null;for(let u of a)if(u.resolveHostDirectives!==null){[s,l,c]=u.resolveHostDirectives(a);break}d4e(n,t,e,s,o,l,c)}o!==null&&i!==null&&c4e(e,i,o)}function c4e(n,t,e){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new se(-301,!1);i.push(t[r],o)}}function u4e(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function d4e(n,t,e,i,r,o,a){let s=i.length,l=!1;for(let f=0;f<s;f++){let p=i[f];!l&&f1(p)&&(l=!0,u4e(n,e,f)),ZC(Zm(e,t),n,p.type)}v4e(e,n.data.length,s);for(let f=0;f<s;f++){let p=i[f];p.providersResolver&&p.providersResolver(p)}let c=!1,u=!1,d=lF(n,t,s,null);s>0&&(e.directiveToIndex=new Map);for(let f=0;f<s;f++){let p=i[f];if(e.mergedAttrs=c6(e.mergedAttrs,p.hostAttrs),p4e(n,e,t,d,p),g4e(d,p,r),a!==null&&a.has(p)){let[_,b]=a.get(p);e.directiveToIndex.set(p.type,[d,_+e.directiveStart,b+e.directiveStart])}else(o===null||!o.has(p))&&e.directiveToIndex.set(p.type,d);p.contentQueries!==null&&(e.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(e.flags|=64);let v=p.type.prototype;!c&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),c=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}f4e(n,e,o)}function f4e(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=n.data[i];if(e===null||!e.has(r))cR(0,t,r,i),cR(1,t,r,i),dR(t,i,!1);else{let o=e.get(r);uR(0,t,o,i),uR(1,t,o,i),dR(t,i,!0)}}}function cR(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;n===0?a=t.inputs??={}:a=t.outputs??={},a[o]??=[],a[o].push(i),RF(t,o)}}function uR(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],s;n===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(i,o),RF(t,a)}}function RF(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function dR(n,t,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!e&&r===null||e&&o===null||VS(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<i.length;){let l=i[s];if(l===0){s+=4;continue}else if(l===5){s+=2;continue}else if(typeof l=="number")break;if(!e&&r.hasOwnProperty(l)){let c=r[l];for(let u of c)if(u===t){a??=[],a.push(l,i[s+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){a??=[],a.push(c[u+1],i[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function p4e(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=gl(r.type,!0)),a=new wc(o,f1(r),V,null);n.blueprint[i]=a,e[i]=a,m4e(n,t,i,lF(n,e,r.hostVars,Ar),r)}function m4e(n,t,e,i,r){let o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~t.index;h4e(a)!=s&&a.push(s),a.push(e,i,o)}}function h4e(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function g4e(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;f1(t)&&(e[""]=n)}}function v4e(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function sw(n,t,e,i,r,o,a,s){let l=t[it],c=l.consts,u=m1(c,a),d=g6(l,n,e,i,u);return o&&OF(l,t,d,m1(c,s),r),d.mergedAttrs=c6(d.mergedAttrs,d.attrs),d.attrs!==null&&nh(d,d.attrs,!1),d.mergedAttrs!==null&&nh(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function lw(n,t){TR(n,t),pC(t)&&n.queries.elementEnd(t)}function y4e(n,t,e,i,r,o){let a=t.consts,s=m1(a,r),l=g6(t,n,e,i,s);if(l.mergedAttrs=c6(l.mergedAttrs,l.attrs),o!=null){let c=m1(a,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&nh(l,l.attrs,!1),l.mergedAttrs!==null&&nh(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function cw(n){return Sh(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function FF(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function Sh(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function v6(n,t,e){return n[t]=e}function BF(n,t){return n[t]}function lo(n,t,e){if(e===Ar)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function pf(n,t,e,i){let r=lo(n,t,e);return lo(n,t+1,i)||r}function _4e(n,t,e,i,r){let o=pf(n,t,e,i);return lo(n,t+2,r)||o}function VF(n,t,e,i,r,o){let a=pf(n,t,e,i);return pf(n,t+2,r,o)||a}function Gm(n,t,e){return function i(r){let o=Cl(n)?Ma(n.index,t):t;ow(o,5);let a=t[vr],s=fR(t,a,e,r),l=i.__ngNextListenerFn__;for(;l;)s=fR(t,a,l,r)&&s,l=l.__ngNextListenerFn__;return s}}function fR(n,t,e,i){let r=dt(null);try{return _n(6,t,e),e(i)!==!1}catch(o){return O3e(n,o),!1}finally{_n(7,t,e),dt(r)}}function UF(n,t,e,i,r,o,a,s){let l=J4(n),c=!1,u=null;if(!i&&l&&(u=x4e(t,e,o,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=a,u.__ngLastListenerFn__=a,c=!0}else{let d=p1(n,e),f=i?i(d):d;uce(e,f,o,s);let p=r.listen(f,o,s);if(!b4e(o)){let v=i?_=>i(wa(_[n.index])):n.index;HF(v,t,e,o,s,p,!1)}}return c}function b4e(n){return n.startsWith("animation")||n.startsWith("transition")}function x4e(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===i){let s=t[Q4],l=r[o+2];return s&&s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function HF(n,t,e,i,r,o,a){let s=t.firstCreatePass?CC(t):null,l=xC(e),c=l.length;l.push(r,o),s&&s.push(i,n,c,(c+1)*(a?-1:1))}function pR(n,t,e,i,r,o){let a=t[e],s=t[it],c=s.data[e].outputs[i],d=a[c].subscribe(o);HF(n.index,s,t,r,o,d,!0)}var gS=Symbol("BINDING");var ih=class extends Dc{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=G1(t);return new Tl(e,this.ngModule)}};function C4e(n){return Object.keys(n).map(t=>{let[e,i,r]=n[t],o={propName:e,templateName:t,isSignal:(i&vh.SignalBased)!==0};return r&&(o.transform=r),o})}function S4e(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function w4e(n,t,e){let i=t instanceof In?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new hS(e,i):e}function M4e(n){let t=n.get(gi,null);if(t===null)throw new se(407,!1);let e=n.get(PF,null),i=n.get(u1,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function T4e(n,t){let e=jF(n);return eF(t,e,e==="svg"?mC:e==="math"?bO:null)}function jF(n){return(n.selectors[0][0]||"div").toLowerCase()}var Tl=class extends Ch{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=C4e(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=S4e(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=Xce(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r,o,a){_n(22);let s=dt(null);try{let l=this.componentDef,c=E4e(i,l,a,o),u=w4e(l,r||this.ngModule,t),d=M4e(u),f=d.rendererFactory.createRenderer(null,l),p=i?w3e(f,i,l.encapsulation,u):T4e(l,f),v=a?.some(mR)||o?.some(C=>typeof C!="function"&&C.bindings.some(mR)),_=HS(null,c,null,512|sF(l),null,null,d,f,u,null,WR(p,u,!0));_[jn]=p,Am(_);let b=null;try{let C=sw(jn,_,2,"#host",()=>c.directiveRegistry,!0,0);nF(f,p,C),u6(p,_),bh(c,_,C),AS(c,C,_),lw(c,C),e!==void 0&&I4e(C,this.ngContentSelectors,e),b=Ma(C.index,_),_[vr]=b[vr],iw(c,_,null)}catch(C){throw b!==null&&QC(b),QC(_),C}finally{_n(23),zm()}return new rh(this.componentType,_,!!v)}finally{dt(s)}}};function E4e(n,t,e,i){let r=n?["ng-version","20.3.15"]:Qce(t.selectors[0]),o=null,a=null,s=0;if(e)for(let u of e)s+=u[gS].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(a??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let d=i[u];if(typeof d!="function")for(let f of d.bindings){s+=f[gS].requiredVars;let p=u+1;f.create&&(f.targetIdx=p,(o??=[]).push(f)),f.update&&(f.targetIdx=p,(a??=[]).push(f))}}let l=[t];if(i)for(let u of i){let d=typeof u=="function"?u:u.type,f=oC(d);l.push(f)}return US(0,null,D4e(o,a),1,s,l,null,null,null,[r],null)}function D4e(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function mR(n){let t=n[gS].kind;return t==="input"||t==="twoWay"}var rh=class extends NF{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=tf(e[it],jn),this.location=p6(this._tNode,e),this.instance=Ma(this._tNode.index,e)[vr],this.hostView=this.changeDetectorRef=new Ml(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView,o=nw(i,r[it],r,t,e);this.previousInputValues.set(t,e);let a=Ma(i.index,r);ow(a,1)}get injector(){return new Sc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function I4e(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Ui=(()=>{class n{static __NG_ELEMENT_ID__=L4e}return n})();function L4e(){let n=Li();return WF(n,Ze())}var A4e=Ui,GF=class extends A4e{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return p6(this._hostTNode,this._hostLView)}get injector(){return new Sc(this._hostTNode,this._hostLView)}get parentInjector(){let t=ES(this._hostTNode,this._hostLView);if(IR(t)){let e=$m(t,this._hostLView),i=qm(t),r=e[it].data[i+8];return new Sc(r,e)}else return new Sc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=hR(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=pS(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,eh(this._hostTNode,a)),s}createComponent(t,e,i,r,o,a,s){let l=t&&!P0e(t),c;if(l)c=e;else{let b=e||{};c=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef,a=b.directives,s=b.bindings}let u=l?t:new Tl(G1(t)),d=i||this.parentInjector;if(!o&&u.ngModule==null){let C=(l?d:this.parentInjector).get(In,null);C&&(o=C)}let f=G1(u.componentType??{}),p=pS(this._lContainer,f?.id??null),v=p?.firstChild??null,_=u.create(d,r,v,o,a,s);return this.insertImpl(_.hostView,c,eh(this._hostTNode,p)),_}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(CO(r)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let l=r[Ji],c=new GF(l,l[so],l[Ji]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),a=this._lContainer;return aw(a,r,o,i),t.attachToViewContainerRef(),tC(HC(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=hR(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=th(this._lContainer,e);i&&(Xd(HC(this._lContainer),e),ZS(i[it],i))}detach(t){let e=this._adjustIndex(t,-1),i=th(this._lContainer,e);return i&&Xd(HC(this._lContainer),e)!=null?new Ml(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function hR(n){return n[ef]}function HC(n){return n[ef]||(n[ef]=[])}function WF(n,t){let e,i=t[n.index];return d1(i)?e=i:(e=zF(i,t,null,n),t[n.index]=e,jS(t,e)),k4e(e,t,n,i),new GF(e,n,t)}function z4e(n,t){let e=n[Cn],i=e.createComment(""),r=p1(t,n),o=e.parentNode(r);return Xm(e,o,i,e.nextSibling(r),!1),i}var k4e=O4e,N4e=()=>!1;function P4e(n,t,e){return N4e(n,t,e)}function O4e(n,t,e,i){if(n[xl])return;let r;e.type&8?r=wa(i):r=z4e(t,e),n[xl]=r}var vS=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},yS=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let a=e.getByIndex(o),s=this.queries[a.indexInDeclarationView];r.push(s.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)uw(t,e).matches!==null&&this.queries[e].setDirty()}},oh=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=G4e(t):this.predicate=t}},_S=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},bS=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,R4e(e,o)),this.matchTNodeWithReadOption(t,e,Hm(e,t,o,!1,!1))}else i===Lr?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Hm(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===at||r===Ui||r===Lr&&e.type&4)this.addMatch(e.index,-2);else{let o=Hm(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function R4e(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function F4e(n,t){return n.type&11?p6(n,t):n.type&4?xh(n,t):null}function B4e(n,t,e,i){return e===-1?F4e(t,n):e===-2?V4e(n,t,i):df(n,n[it],e,t)}function V4e(n,t,e){if(e===at)return p6(t,n);if(e===Lr)return xh(t,n);if(e===Ui)return WF(t,n)}function qF(n,t,e,i){let r=t[$1].queries[i];if(r.matches===null){let o=n.data,a=e.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)s.push(null);else{let u=o[c];s.push(B4e(t,u,a[l+1],e.metadata.read))}}r.matches=s}return r.matches}function xS(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let a=qF(n,t,r,e);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)i.push(a[s/2]);else{let c=o[s+1],u=t[-l];for(let d=Ir;d<u.length;d++){let f=u[d];f[bl]===f[Ji]&&xS(f[it],f,c,i)}if(u[bc]!==null){let d=u[bc];for(let f=0;f<d.length;f++){let p=d[f];xS(p[it],p,c,i)}}}}}return i}function U4e(n,t){return n[$1].queries[t].queryList}function $F(n,t,e){let i=new i2((e&4)===4);return MO(n,t,i,i.destroy),(t[$1]??=new yS).queries.push(new vS(i))-1}function H4e(n,t,e){let i=Pn();return i.firstCreatePass&&(YF(i,new oh(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),$F(i,Ze(),t)}function j4e(n,t,e,i){let r=Pn();if(r.firstCreatePass){let o=Li();YF(r,new oh(t,e,i),o.index),W4e(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return $F(r,Ze(),e)}function G4e(n){return n.split(",").map(t=>t.trim())}function YF(n,t,e){n.queries===null&&(n.queries=new _S),n.queries.track(new bS(t,e))}function W4e(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function uw(n,t){return n.queries.getByIndex(t)}function q4e(n,t){let e=n[it],i=uw(e,t);return i.crossesNgTemplate?xS(e,n,t,[]):qF(e,n,i,t)}var K1=class{},wh=class{};var ah=class extends K1{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ih(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;let o=rC(t);this._bootstrapComponents=rF(o.bootstrap),this._r3Injector=PC(t,e,[{provide:K1,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver},...i],Qs(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},sh=class extends wh{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ah(this.moduleType,t,[])}};var mf=class extends K1{injector;componentFactoryResolver=new ih(this);instance=null;constructor(t){super();let e=new hc([...t.providers,{provide:K1,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],t.parent||Z4(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function y6(n,t,e=null){return new mf({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var $4e=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=aC(!1,e.type),r=i.length>0?y6([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Q({token:n,providedIn:"environment",factory:()=>new n(ae(In))})}return n})();function ie(n){return gf(()=>{let t=ZF(n),e=Ie(X({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===DS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get($4e).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||r2.Emulated,styles:n.styles||ao,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Ta("NgStandalone"),XF(e);let i=n.dependencies;return e.directiveDefs=gR(i,Y4e),e.pipeDefs=gR(i,gO),e.id=Q4e(e),e})}function Y4e(n){return G1(n)||oC(n)}function ht(n){return gf(()=>({type:n.type,bootstrap:n.bootstrap||ao,declarations:n.declarations||ao,imports:n.imports||ao,exports:n.exports||ao,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Z4e(n,t){if(n==null)return yl;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,a,s,l;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o,l=r[3]||null):(o=r,a=r,s=vh.None,l=null),e[o]=[i,s,l],t[o]=a}return e}function X4e(n){if(n==null)return yl;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Fe(n){return gf(()=>{let t=ZF(n);return XF(t),t})}function s2(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ZF(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||yl,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ao,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Z4e(n.inputs,t),outputs:X4e(n.outputs),debugInfo:null}}function XF(n){n.features?.forEach(t=>t(n))}function gR(n,t){return n?()=>{let e=typeof n=="function"?n():n,i=[];for(let r of e){let o=t(r);o!==null&&i.push(o)}return i}:null}function Q4e(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function K4e(n){return Object.getPrototypeOf(n.prototype).constructor}function on(n){let t=K4e(n.type),e=!0,i=[n];for(;t;){let r;if(f1(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new se(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let a=n;a.inputs=jC(n.inputs),a.declaredInputs=jC(n.declaredInputs),a.outputs=jC(n.outputs);let s=r.hostBindings;s&&i6e(n,s);let l=r.viewQuery,c=r.contentQueries;if(l&&t6e(n,l),c&&n6e(n,c),J4e(n,r),sO(n.outputs,r.outputs),f1(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(n),s===on&&(e=!1)}}t=Object.getPrototypeOf(t)}e6e(i)}function J4e(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function e6e(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=c6(r.hostAttrs,e=c6(e,r.hostAttrs))}}function jC(n){return n===yl?{}:n===ao?[]:n}function t6e(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function n6e(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function i6e(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function QF(n,t,e,i,r,o,a,s){if(e.firstCreatePass){n.mergedAttrs=c6(n.mergedAttrs,n.attrs);let u=n.tView=US(2,n,r,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),u.queries=e.queries.embeddedTView(n))}s&&(n.flags|=s),t6(n,!1);let l=o6e(e,t,n,i);km()&&XS(e,t,l,n),u6(l,t);let c=zF(l,t,l,n);t[i+jn]=c,jS(t,c),P4e(c,n,t)}function r6e(n,t,e,i,r,o,a,s,l,c,u){let d=e+jn,f;return t.firstCreatePass?(f=g6(t,d,4,a||null,s||null),Em()&&OF(t,n,f,m1(t.consts,c),JS),TR(t,f)):f=t.data[d],QF(f,n,t,e,i,r,o,l),J4(f)&&bh(t,n,f),c!=null&&Cf(n,f,u),f}function Mh(n,t,e,i,r,o,a,s,l,c,u){let d=e+jn,f;if(t.firstCreatePass){if(f=g6(t,d,4,a||null,s||null),c!=null){let p=m1(t.consts,c);f.localNames=[];for(let v=0;v<p.length;v+=2)f.localNames.push(p[v],-1)}}else f=t.data[d];return QF(f,n,t,e,i,r,o,l),c!=null&&Cf(n,f,u),f}function A(n,t,e,i,r,o,a,s){let l=Ze(),c=Pn(),u=m1(c.consts,o);return r6e(l,c,n,t,e,i,r,u,void 0,a,s),A}function Th(n,t,e,i,r,o,a,s){let l=Ze(),c=Pn(),u=m1(c.consts,o);return Mh(l,c,n,t,e,i,r,u,void 0,a,s),Th}var o6e=a6e;function a6e(n,t,e,i){return of(!0),t[Cn].createComment("")}var Eh=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Dh=new ue(""),_6=new ue(""),wf=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,r){this._ngZone=e,this.registry=i,cC()&&(this._destroyRef=B(yr,{optional:!0})??void 0),dw||(KF(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static \u0275fac=function(i){return new(i||n)(ae(Pe),ae(Mf),ae(_6))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Mf=(()=>{class n{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return dw?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function KF(n){dw=n}var dw;function Il(n){return!!n&&typeof n.then=="function"}function fw(n){return!!n&&typeof n.subscribe=="function"}var Tf=new ue("");function Ih(n){return W1([{provide:Tf,multi:!0,useValue:n}])}var pw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=B(Tf,{optional:!0})??[];injector=B(Ve);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=er(this.injector,r);if(Il(o))e.push(o);else if(fw(o)){let a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ef=new ue("");function JF(){yx(()=>{let n="";throw new se(600,n)})}function eB(n){return n.isBoundToModule}var s6e=10;var yi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=B(Mo);afterRenderManager=B($S);zonelessEnabled=B(af);rootEffectScheduler=B(sf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new me;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=B(X1);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Qe(e=>!e))}constructor(){B(Ec,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=B(In);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=Ve.NULL){return this._injector.get(Pe).run(()=>{_n(10);let a=e instanceof Ch;if(!this._injector.get(pw).done){let v="";throw new se(405,v)}let l;a?l=e:l=this._injector.get(Dc).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let c=eB(l)?void 0:this._injector.get(K1),u=i||l.selector,d=l.create(r,[],u,c),f=d.location.nativeElement,p=d.injector.get(Dh,null);return p?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),cf(this.components,d),p?.unregisterApplication(f)}),this._loadComponent(d),_n(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_n(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(yh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new se(101,!1);let e=dt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,dt(e),this.afterTick.next(),_n(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(gi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<s6e;)_n(14),this.synchronizeOnce(),_n(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!rf(r))continue;let o=i&&!this.zonelessEnabled?0:1;DF(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>rf(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;cf(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(Ef,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>cf(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new se(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cf(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Sn(n,t,e,i){let r=Ze(),o=t2();if(lo(r,o,t)){let a=Pn(),s=i6();z3e(s,r,n,t,e,i)}return Sn}var $qe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Gt(n,t,e,i,r,o,a,s){Ta("NgControlFlow");let l=Ze(),c=Pn(),u=m1(c.consts,o);return Mh(l,c,n,t,e,i,r,u,256,a,s),mw}function mw(n,t,e,i,r,o,a,s){Ta("NgControlFlow");let l=Ze(),c=Pn(),u=m1(c.consts,o);return Mh(l,c,n,t,e,i,r,u,512,a,s),mw}function Wt(n,t){Ta("NgControlFlow");let e=Ze(),i=t2(),r=e[i]!==Ar?e[i]:-1,o=r!==-1?vR(e,jn+r):void 0,a=0;if(lo(e,i,n)){let s=dt(null);try{if(o!==void 0&&J3e(o,a),n!==-1){let l=jn+n,c=vR(e,l),u=l6e(e[it],l),d=s4e(c,u,e),f=rw(e,u,t,{dehydratedView:d});aw(c,f,a,eh(u,d))}}finally{dt(s)}}else if(o!==void 0){let s=K3e(o,a);s!==void 0&&(s[vr]=t)}}function vR(n,t){return n[t]}function l6e(n,t){return tf(n,t)}function x(n,t,e){let i=Ze(),r=t2();if(lo(i,r,t)){let o=Pn(),a=i6();CF(a,i,n,t,i[Cn],e)}return x}function CS(n,t,e,i,r){nw(t,n,e,r?"class":"style",i)}function m(n,t,e,i){let r=Ze(),o=r[it],a=n+jn,s=o.firstCreatePass?sw(a,r,2,t,JS,Em(),e,i):o.data[a];if(ew(s,r,n,t,tB),J4(s)){let l=r[it];bh(l,r,s),AS(l,s,r)}return i!=null&&Cf(r,s),m}function h(){let n=Pn(),t=Li(),e=tw(t);return n.firstCreatePass&&lw(n,e),MC(e)&&TC(),SC(),e.classesWithoutHost!=null&&U0e(e)&&CS(n,e,Ze(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&H0e(e)&&CS(n,e,Ze(),e.stylesWithoutHost,!1),h}function F(n,t,e,i){return m(n,t,e,i),h(),F}function es(n,t,e,i){let r=Ze(),o=r[it],a=n+jn,s=o.firstCreatePass?y4e(a,o,2,t,e,i):o.data[a];return ew(s,r,n,t,tB),i!=null&&Cf(r,s),es}function l2(){let n=Li(),t=tw(n);return MC(t)&&TC(),SC(),l2}function b6(n,t,e,i){return es(n,t,e,i),l2(),b6}var tB=(n,t,e,i,r)=>(of(!0),eF(t[Cn],i,BO()));function At(n,t,e){let i=Ze(),r=i[it],o=n+jn,a=r.firstCreatePass?sw(o,i,8,"ng-container",JS,Em(),t,e):r.data[o];if(ew(a,i,n,"ng-container",c6e),J4(a)){let s=i[it];bh(s,i,a),AS(s,a,i)}return e!=null&&Cf(i,a),At}function zt(){let n=Pn(),t=Li(),e=tw(t);return n.firstCreatePass&&lw(n,e),zt}var c6e=(n,t,e,i,r)=>(of(!0),Pce(t[Cn],""));function ee(){return Ze()}function Ll(n,t,e){let i=Ze(),r=t2();if(lo(i,r,t)){let o=Pn(),a=i6();KS(a,i,n,t,i[Cn],e)}return Ll}function Lh(n,t,e){let i=Ze(),r=t2();if(lo(i,r,t)){let o=Pn(),a=i6(),s=AC(o.data),l=P3e(s,a,i);KS(a,i,n,t,l,e)}return Lh}var Fm=void 0;function u6e(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var d6e=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fm,"{1} 'at' {0}",Fm],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",u6e],uf={};function hw(n,t,e){typeof t!="string"&&(e=t,t=n[Gn.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),uf[t]=n,e&&(uf[t][Gn.ExtraData]=e)}function co(n){let t=f6e(n),e=yR(t);if(e)return e;let i=t.split("-")[0];if(e=yR(i),e)return e;if(i==="en")return d6e;throw new se(701,!1)}function yR(n){return n in uf||(uf[n]=Vi.ng&&Vi.ng.common&&Vi.ng.common.locales&&Vi.ng.common.locales[n]),uf[n]}var Gn=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Gn||{});function f6e(n){return n.toLowerCase().replace(/_/g,"-")}var Df="en-US",p6e="USD";var m6e=Df;function nB(n){typeof n=="string"&&(m6e=n.toLowerCase().replace(/_/g,"-"))}function k(n,t,e){let i=Ze(),r=Pn(),o=Li();return iB(r,i,i[Cn],o,n,t,e),k}function Ah(n,t,e){let i=Ze(),r=Pn(),o=Li();return(o.type&3||e)&&UF(o,r,i,e,i[Cn],n,t,Gm(o,i,t)),Ah}function iB(n,t,e,i,r,o,a){let s=!0,l=null;if((i.type&3||a)&&(l??=Gm(i,t,o),UF(i,n,t,a,e,r,o,l)&&(s=!1)),s){let c=i.outputs?.[r],u=i.hostDirectiveOutputs?.[r];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],p=u[d+1];l??=Gm(i,t,o),pR(i,t,f,p,r,l)}if(c&&c.length)for(let d of c)l??=Gm(i,t,o),pR(i,t,d,r,r,l)}}function M(n=1){return FO(n)}function h6e(n,t){let e=null,i=Wce(n);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){e=r;continue}if(i===null?aF(n,o,!0):Yce(i,o))return r}return e}function y1(n){let t=Ze()[wo][so];if(!t.projection){let e=n?n.length:1,i=t.projection=mO(e,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let a=n?h6e(o,n):0;a!==null&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o)}o=o.next}}}function Ea(n,t=0,e,i,r,o){let a=Ze(),s=Pn(),l=i?n+1:null;l!==null&&Mh(a,s,l,i,r,o,null,e);let c=g6(s,jn+n,16,null,e||null);c.projection===null&&(c.projection=t),IC();let d=!a[X4]||wC();a[wo][so].projection[c.projection]===null&&l!==null?g6e(a,s,l):d&&!mh(c)&&x3e(s,a,c)}function g6e(n,t,e){let i=jn+e,r=t.data[i],o=n[i],a=pS(o,r.tView.ssrId),s=rw(n,r,void 0,{dehydratedView:a});aw(o,s,0,eh(r,a))}function Ic(n,t,e,i){j4e(n,t,e,i)}function On(n,t,e){H4e(n,t,e)}function an(n){let t=Ze(),e=Pn(),i=zC();Lm(i+1);let r=uw(e,i);if(n.dirty&&xO(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=q4e(t,i);n.reset(o,tce),n.notifyOnChanges()}return!0}return!1}function sn(){return U4e(Ze(),zC())}function An(n){let t=IO();return nf(t,jn+n)}function Bm(n,t){return n<<17|t<<2}function Mc(n){return n>>17&32767}function v6e(n){return(n&2)==2}function y6e(n,t){return n&131071|t<<17}function SS(n){return n|2}function f6(n){return(n&131068)>>2}function GC(n,t){return n&-131069|t<<2}function _6e(n){return(n&1)===1}function wS(n){return n|1}function b6e(n,t,e,i,r,o){let a=o?t.classBindings:t.styleBindings,s=Mc(a),l=f6(a);n[i]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Y4(d,u)>0)&&(c=!0)}else u=e;if(r)if(l!==0){let f=Mc(n[s+1]);n[i+1]=Bm(f,s),f!==0&&(n[f+1]=GC(n[f+1],i)),n[s+1]=y6e(n[s+1],i)}else n[i+1]=Bm(s,0),s!==0&&(n[s+1]=GC(n[s+1],i)),s=i;else n[i+1]=Bm(l,0),s===0?s=i:n[l+1]=GC(n[l+1],i),l=i;c&&(n[i+1]=SS(n[i+1])),_R(n,u,i,!0),_R(n,u,i,!1),x6e(t,u,n,i,o),a=Bm(s,l),o?t.classBindings=a:t.styleBindings=a}function x6e(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Y4(o,t)>=0&&(e[i+1]=wS(e[i+1]))}function _R(n,t,e,i){let r=n[e+1],o=t===null,a=i?Mc(r):f6(r),s=!1;for(;a!==0&&(s===!1||o);){let l=n[a],c=n[a+1];C6e(l,t)&&(s=!0,n[a+1]=i?wS(c):SS(c)),a=i?Mc(c):f6(c)}s&&(n[e+1]=i?SS(r):wS(r))}function C6e(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Y4(n,t)>=0:!1}var g1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S6e(n){return n.substring(g1.key,g1.keyEnd)}function w6e(n){return M6e(n),rB(n,oB(n,0,g1.textEnd))}function rB(n,t){let e=g1.textEnd;return e===t?-1:(t=g1.keyEnd=T6e(n,g1.key=t,e),oB(n,t,e))}function M6e(n){g1.key=0,g1.keyEnd=0,g1.value=0,g1.valueEnd=0,g1.textEnd=n.length}function oB(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function T6e(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function ts(n,t,e){return aB(n,t,e,!1),ts}function Te(n,t){return aB(n,t,null,!0),Te}function Rn(n){D6e(N6e,E6e,n,!0)}function E6e(n,t){for(let e=w6e(t);e>=0;e=rB(t,e))xm(n,S6e(t),!0)}function aB(n,t,e,i){let r=Ze(),o=Pn(),a=Dm(2);if(o.firstUpdatePass&&lB(o,n,a,i),t!==Ar&&lo(r,a,t)){let s=o.data[n2()];cB(o,s,r,r[Cn],n,r[a+1]=O6e(t,e),i,a)}}function D6e(n,t,e,i){let r=Pn(),o=Dm(2);r.firstUpdatePass&&lB(r,null,o,i);let a=Ze();if(e!==Ar&&lo(a,o,e)){let s=r.data[n2()];if(uB(s,i)&&!sB(r,o)){let l=i?s.classesWithoutHost:s.stylesWithoutHost;l!==null&&(e=vm(l,e||"")),CS(r,s,a,e,i)}else P6e(r,s,a,a[Cn],a[o+1],a[o+1]=k6e(n,t,e),i,o)}}function sB(n,t){return t>=n.expandoStartIndex}function lB(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[n2()],a=sB(n,e);uB(o,i)&&t===null&&!a&&(t=!1),t=I6e(r,o,t,i),b6e(r,o,t,e,a,i)}}function I6e(n,t,e,i){let r=AC(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=WC(null,n,t,e,i),e=hf(e,t.attrs,i),o=null);else{let a=t.directiveStylingLast;if(a===-1||n[a]!==r)if(e=WC(r,n,t,e,i),o===null){let l=L6e(n,t,i);l!==void 0&&Array.isArray(l)&&(l=WC(null,n,t,l[1],i),l=hf(l,t.attrs,i),A6e(n,t,i,l))}else o=z6e(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function L6e(n,t,e){let i=e?t.classBindings:t.styleBindings;if(f6(i)!==0)return n[Mc(i)]}function A6e(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[Mc(r)]=i}function z6e(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let a=n[o].hostAttrs;i=hf(i,a,e)}return hf(i,t.attrs,e)}function WC(n,t,e,i,r){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=t[s],i=hf(i,o.hostAttrs,r),o!==n);)s++;return n!==null&&(e.directiveStylingLast=s),i}function hf(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?r=a:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),xm(n,a,e?!0:t[++o]))}return n===void 0?null:n}function k6e(n,t,e){if(e==null||e==="")return ao;let i=[],r=To(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function N6e(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&xm(n,i,e)}function P6e(n,t,e,i,r,o,a,s){r===Ar&&(r=ao);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<r.length?r[l+1]:void 0,p=c<o.length?o[c+1]:void 0,v=null,_;u===d?(l+=2,c+=2,f!==p&&(v=d,_=p)):d===null||u!==null&&u<d?(l+=2,v=u):(c+=2,v=d,_=p),v!==null&&cB(n,t,e,i,v,_,a,s),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function cB(n,t,e,i,r,o,a,s){if(!(t.type&3))return;let l=n.data,c=l[s+1],u=_6e(c)?bR(l,t,e,r,f6(c),a):void 0;if(!lh(u)){lh(o)||v6e(c)&&(o=bR(l,null,e,r,s,a));let d=gC(n2(),e);S3e(i,a,d,r,o)}}function bR(n,t,e,i,r,o){let a=t===null,s;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=e[r+1];f===Ar&&(f=d?ao:void 0);let p=d?Cm(f,i):u===i?f:void 0;if(c&&!lh(p)&&(p=Cm(l,i)),lh(p)&&(s=p,a))return s;let v=n[r+1];r=a?Mc(v):f6(v)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(s=Cm(l,i))}return s}function lh(n){return n!==void 0}function O6e(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Qs(To(n)))),n}function uB(n,t){return(n.flags&(t?8:16))!==0}function y(n,t=""){let e=Ze(),i=Pn(),r=n+jn,o=i.firstCreatePass?g6(i,r,1,t,null):i.data[r],a=R6e(i,e,o,t,n);e[r]=a,km()&&XS(i,e,a,o),t6(o,!1)}var R6e=(n,t,e,i,r)=>(of(!0),kce(t[Cn],i));function dB(n,t,e,i=""){return lo(n,t2(),e)?t+Ks(e)+i:Ar}function F6e(n,t,e,i,r,o=""){let a=LO(),s=pf(n,a,e,r);return Dm(2),s?t+Ks(e)+i+Ks(r)+o:Ar}function j(n){return q("",n),j}function q(n,t,e){let i=Ze(),r=dB(i,n,t,e);return r!==Ar&&fB(i,n2(),r),q}function zi(n,t,e,i,r){let o=Ze(),a=F6e(o,n,t,e,i,r);return a!==Ar&&fB(o,n2(),a),zi}function fB(n,t,e){let i=gC(t,n);Nce(n[Cn],i,e)}function _t(n,t,e){OC(t)&&(t=t());let i=Ze(),r=t2();if(lo(i,r,t)){let o=Pn(),a=i6();CF(a,i,n,t,i[Cn],e)}return _t}function Mt(n,t){let e=OC(n);return e&&n.set(t),e}function bt(n,t){let e=Ze(),i=Pn(),r=Li();return iB(i,e,e[Cn],r,n,t),bt}function x6(n){return lo(Ze(),t2(),n)?Ks(n):Ar}function Al(n,t,e=""){return dB(Ze(),n,t,e)}function B6e(n,t,e){let i=Pn();if(i.firstCreatePass){let r=f1(n);MS(e,i.data,i.blueprint,r,!0),MS(t,i.data,i.blueprint,r,!1)}}function MS(n,t,e,i,r){if(n=gr(n),Array.isArray(n))for(let o=0;o<n.length;o++)MS(n[o],t,e,i,r);else{let o=Pn(),a=Ze(),s=Li(),l=mc(n)?n:gr(n.provide),c=lC(n),u=s.providerIndexes&1048575,d=s.directiveStart,f=s.providerIndexes>>20;if(mc(n)||!n.multi){let p=new wc(c,r,V,null),v=$C(l,t,r?u:u+f,d);v===-1?(ZC(Zm(s,a),o,l),qC(o,n,t.length),t.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(p),a.push(p)):(e[v]=p,a[v]=p)}else{let p=$C(l,t,u+f,d),v=$C(l,t,u,u+f),_=p>=0&&e[p],b=v>=0&&e[v];if(r&&!b||!r&&!_){ZC(Zm(s,a),o,l);let C=H6e(r?U6e:V6e,e.length,r,i,c,n);!r&&b&&(e[v].providerFactory=C),qC(o,n,t.length,0),t.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(C),a.push(C)}else{let C=pB(e[r?v:p],c,!r&&i);qC(o,n,p>-1?p:v,C)}!r&&i&&b&&e[v].componentProviders++}}}function qC(n,t,e,i){let r=mc(t),o=_O(t);if(r||o){let l=(o?gr(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function pB(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function $C(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function V6e(n,t,e,i,r){return TS(this.multi,[])}function U6e(n,t,e,i,r){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=df(i,i[it],this.providerFactory.index,r);a=l.slice(0,s),TS(o,a);for(let c=s;c<l.length;c++)a.push(l[c])}else a=[],TS(o,a);return a}function TS(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function H6e(n,t,e,i,r,o){let a=new wc(n,e,V,null);return a.multi=[],a.index=t,a.componentProviders=0,pB(a,r,i&&!e),a}function Jn(n,t=[]){return e=>{e.providersResolver=(i,r)=>B6e(i,r?r(n):n,t)}}function If(n,t,e){let i=Z1()+n,r=Ze();return r[i]===Ar?v6(r,i,e?t.call(e):t()):BF(r,i)}function _i(n,t,e,i){return mB(Ze(),Z1(),n,t,e,i)}function gt(n,t,e,i,r){return hB(Ze(),Z1(),n,t,e,i,r)}function wn(n,t,e,i,r,o){return j6e(Ze(),Z1(),n,t,e,i,r,o)}function gw(n,t,e,i,r,o,a){return gB(Ze(),Z1(),n,t,e,i,r,o,a)}function vw(n,t,e,i,r,o,a,s){let l=Z1()+n,c=Ze(),u=VF(c,l,e,i,r,o);return lo(c,l+4,a)||u?v6(c,l+5,s?t.call(s,e,i,r,o,a):t(e,i,r,o,a)):BF(c,l+5)}function zh(n,t){let e=n[t];return e===Ar?void 0:e}function mB(n,t,e,i,r,o){let a=t+e;return lo(n,a,r)?v6(n,a+1,o?i.call(o,r):i(r)):zh(n,a+1)}function hB(n,t,e,i,r,o,a){let s=t+e;return pf(n,s,r,o)?v6(n,s+2,a?i.call(a,r,o):i(r,o)):zh(n,s+2)}function j6e(n,t,e,i,r,o,a,s){let l=t+e;return _4e(n,l,r,o,a)?v6(n,l+3,s?i.call(s,r,o,a):i(r,o,a)):zh(n,l+3)}function gB(n,t,e,i,r,o,a,s,l){let c=t+e;return VF(n,c,r,o,a,s)?v6(n,c+4,l?i.call(l,r,o,a,s):i(r,o,a,s)):zh(n,c+4)}function Y(n,t){let e=Pn(),i,r=n+jn;e.firstCreatePass?(i=G6e(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=gl(i.type,!0)),a,s=oo(V);try{let l=Ym(!1),c=o();return Ym(l),vC(e,Ze(),r,c),c}finally{oo(s)}}function G6e(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function Do(n,t,e){let i=n+jn,r=Ze(),o=nf(r,i);return yw(r,i)?mB(r,Z1(),t,o.transform,e,o):o.transform(e)}function J(n,t,e,i){let r=n+jn,o=Ze(),a=nf(o,r);return yw(o,r)?hB(o,Z1(),t,a.transform,e,i,a):a.transform(e,i)}function st(n,t,e,i,r,o){let a=n+jn,s=Ze(),l=nf(s,a);return yw(s,a)?gB(s,Z1(),t,l.transform,e,i,r,o,l):l.transform(e,i,r,o)}function yw(n,t){return n[it].data[t].pure}function Wn(n,t){return xh(n,t)}var ch=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},_w=(()=>{class n{compileModuleSync(e){return new sh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=rC(e),o=rF(r.declarations).reduce((a,s)=>{let l=G1(s);return l&&a.push(new Tl(l)),a},[]);return new ch(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var W6e=(()=>{class n{zone=B(Pe);changeDetectionScheduler=B(u1);applicationRef=B(yi);applicationErrorHandler=B(Mo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vB({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Pe(Ie(X({},yB()),{scheduleInRootZone:e})),[{provide:Pe,useFactory:n},{provide:Js,multi:!0,useFactory:()=>{let i=B(W6e,{optional:!0});return()=>i.initialize()}},{provide:Js,multi:!0,useFactory:()=>{let i=B(q6e);return()=>{i.initialize()}}},t===!0?{provide:RC,useValue:!0}:[],{provide:FC,useValue:e??uF},{provide:Mo,useFactory:()=>{let i=B(Pe),r=B(In),o;return a=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw a}):(o??=r.get(ta),o.handleError(a))})}}}]}function yB(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var q6e=(()=>{class n{subscription=new Et;initialized=!1;zone=B(Pe);pendingTasks=B(X1);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _B=(()=>{class n{applicationErrorHandler=B(Mo);appRef=B(yi);taskService=B(X1);ngZone=B(Pe);zonelessEnabled=B(af);tracing=B(Ec,{optional:!0});disableScheduling=B(RC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(FC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Km||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let i=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?iR:dF;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iR(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $6e(){return typeof $localize<"u"&&$localize.locale||Df}var ns=new ue("",{providedIn:"root",factory:()=>B(ns,{optional:!0,skipSelf:!0})||$6e()}),bw=new ue("",{providedIn:"root",factory:()=>p6e});var kh=class{destroyed=!1;listeners=null;errorHandler=B(ta,{optional:!0});destroyRef=B(yr);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new se(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let e=this.listeners?.indexOf(t);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(t){if(this.destroyed){console.warn(xa(953,!1));return}if(this.listeners===null)return;let e=dt(null);try{for(let i of this.listeners)try{i(t)}catch(r){this.errorHandler?.handleError(r)}}finally{dt(e)}}};function Hi(n){return nO(n)}function c2(n,t){return O7(n,t?.equal)}var xw=class{[hr];constructor(t){this[hr]=t}destroy(){this[hr].destroy()}};function C6(n,t){let e=t?.injector??B(Ve),i=t?.manualCleanup!==!0?e.get(yr):null,r,o=e.get(o6,null,{optional:!0}),a=e.get(u1);return o!==null?(r=X6e(o.view,a,n),i instanceof Yd&&i._lView===o.view&&(i=null)):r=Q6e(n,e.get(sf),a),r.injector=e,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new xw(r)}var bB=Ie(X({},iO),{cleanupFns:void 0,zone:null,onDestroyFn:Cc,run(){let n=n6(!1);try{rO(this)}finally{n6(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=dt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],dt(n)}}}),Y6e=Ie(X({},bB),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){oc(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Z6e=Ie(X({},bB),{consumerMarkedDirty(){this.view[ft]|=8192,Sl(this.view),this.notifier.notify(13)},destroy(){oc(this),this.onDestroyFn(),this.cleanup(),this.view[e2]?.delete(this)}});function X6e(n,t,e){let i=Object.create(Z6e);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=xB(i,e),n[e2]??=new Set,n[e2].add(i),i.consumerMarkedDirty(i),i}function Q6e(n,t,e){let i=Object.create(Y6e);return i.fn=xB(i,n),i.scheduler=t,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function xB(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}var Rh=Symbol("InputSignalNode#UNSET"),IB=Ie(X({},R7),{transformFn:void 0,applyValueToInputSignal(n,t){ac(n,t)}});function LB(n,t){let e=Object.create(IB);e.value=n,e.transformFn=t?.transform;function i(){if(ic(e),e.value===Rh){let r=null;throw new se(-950,r)}return e.value}return i[hr]=e,i}var Ph=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>vf(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},oue=new ue("");oue.__NG_ELEMENT_ID__=n=>{let t=Li();if(t===null)throw new se(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new se(204,!1)};function CB(n,t){return LB(n,t)}function aue(n){return LB(Rh,n)}var S6=(CB.required=aue,CB);function AB(n,t){let e=Object.create(IB),i=new kh;e.value=n;function r(){return ic(e),SB(e.value),e.value}return r[hr]=e,r.asReadonly=Nm.bind(r),r.set=o=>{e.equal(e.value,o)||(ac(e,o),i.emit(o))},r.update=o=>{SB(e.value),r.set(o(e.value))},r.subscribe=i.subscribe.bind(i),r.destroyRef=i.destroyRef,r}function SB(n){if(n===Rh)throw new se(952,!1)}function wB(n,t){return AB(n,t)}function sue(n){return AB(Rh,n)}var uo=(wB.required=sue,wB);var Cw=new ue(""),lue=new ue("");function Lf(n){return!n.moduleRef}function cue(n){let t=Lf(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Pe);return e.run(()=>{Lf(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(Mo),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),Lf(n)){let o=()=>t.destroy(),a=n.platformInjector.get(Cw);a.add(o),t.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Cw);a.add(o),n.moduleRef.onDestroy(()=>{cf(n.allPlatformModules,n.moduleRef),r.unsubscribe(),a.delete(o)})}return due(i,e,()=>{let o=t.get(X1),a=o.add(),s=t.get(pw);return s.runInitializers(),s.donePromise.then(()=>{let l=t.get(ns,Df);if(nB(l||Df),!t.get(lue,!0))return Lf(n)?t.get(yi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Lf(n)){let u=t.get(yi);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return uue?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(a))})})}var uue;function due(n,t,e){try{let i=e();return Il(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var Nh=null;function fue(n=[],t){return Ve.create({name:t,providers:[{provide:Qd,useValue:"platform"},{provide:Cw,useValue:new Set([()=>Nh=null])},...n]})}function pue(n=[]){if(Nh)return Nh;let t=fue(n);return Nh=t,JF(),mue(t),t}function mue(n){let t=n.get(uh,null);er(n,()=>{t?.forEach(e=>e())})}var bi=(()=>{class n{static __NG_ELEMENT_ID__=hue}return n})();function hue(n){return gue(Li(),Ze(),(n&16)===16)}function gue(n,t,e){if(Cl(n)&&!e){let i=Ma(n.index,t);return new Ml(i,i)}else if(n.type&175){let i=t[wo];return new Ml(i,t)}return null}var Sw=class{constructor(){}supports(t){return cw(t)}create(t){return new ww(t)}},vue=(n,t)=>t,ww=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||vue}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let a=!i||e&&e.currentIndex<MB(i,r,o)?e:i,s=MB(a,r,o),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,a.previousIndex==null)r++;else{o||(o=[]);let c=s-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let p=f<o.length?o[f]:o[f]=0,v=p+f;u<=v&&v<c&&(o[f]=p+1)}let d=a.previousIndex;o[d]=u-c}}s!==l&&t(a,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!cw(t))throw new se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,o,a;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)o=t[s],a=this._trackByFn(s,o),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,o,a,s),i=!0):(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,FF(t,s=>{a=this._trackByFn(r,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,r),i=!0):(i&&(e=this._verifyReinsertion(e,s,a,r)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Mw(e,i),o,r)),t}_verifyReinsertion(t,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Oh),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Oh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Mw=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Tw=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Oh=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new Tw,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function MB(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}var Ew=class{constructor(){}supports(t){return t instanceof Map||Sh(t)}create(){return new Dw}},Dw=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Sh(t)))throw new se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,e);let o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}let i=new Iw(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}},Iw=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function TB(){return new Fh([new Sw])}var Fh=(()=>{class n{factories;static \u0275prov=Q({token:n,providedIn:"root",factory:TB});constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=B(n,{optional:!0,skipSelf:!0});return n.create(e,i||TB())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new se(901,!1)}}return n})();function EB(){return new Aw([new Ew])}var Aw=(()=>{class n{static \u0275prov=Q({token:n,providedIn:"root",factory:EB});factories;constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=B(n,{optional:!0,skipSelf:!0});return n.create(e,i||EB())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new se(901,!1)}}return n})();var zB=(()=>{class n{constructor(e){}static \u0275fac=function(i){return new(i||n)(ae(yi))};static \u0275mod=ht({type:n});static \u0275inj=pt({})}return n})();function kB(n){let{rootComponent:t,appProviders:e,platformProviders:i,platformRef:r}=n;_n(8);try{let o=r?.injector??pue(i),a=[vB({}),{provide:u1,useExisting:_B},UO,...e||[]],s=new mf({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return cue({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{_n(9)}}function ri(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Af(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}function Bh(n,t){let e=G1(n),i=t.elementInjector||Z4();return new Tl(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}function NB(n){let t=G1(n);if(!t)return null;let e=new Tl(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var RB=null;function ia(){return RB}function zw(n){RB??=n}var zf=class{},kf=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:()=>B(FB),providedIn:"platform"})}return n})(),kw=new ue(""),FB=(()=>{class n extends kf{_location;_history;_doc=B(Me);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(e){let i=ia().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=ia().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Vh(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function PB(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function _1(n){return n&&n[0]!=="?"?`?${n}`:n}var b1=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:()=>B(Hh),providedIn:"root"})}return n})(),Uh=new ue(""),Hh=(()=>{class n extends b1{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Vh(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+_1(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+_1(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+_1(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ae(kf),ae(Uh,8))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),is=(()=>{class n{_subject=new me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=bue(PB(OB(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+_1(i))}normalize(e){return n.stripTrailingSlash(_ue(this._basePath,OB(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_1(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_1(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=_1;static joinWithSlash=Vh;static stripTrailingSlash=PB;static \u0275fac=function(i){return new(i||n)(ae(b1))};static \u0275prov=Q({token:n,factory:()=>yue(),providedIn:"root"})}return n})();function yue(){return new is(ae(b1))}function _ue(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function OB(n){return n.replace(/\/index.html$/,"")}function bue(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Vw=(()=>{class n extends b1{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=Vh(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+_1(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+_1(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ae(kf),ae(Uh,8))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),WB={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Ff=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Ff||{});var zr=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(zr||{}),Mn=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Mn||{}),Io=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Io||{}),xi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qB(n){return co(n)[Gn.LocaleId]}function $B(n,t,e){let i=co(n),r=[i[Gn.DayPeriodsFormat],i[Gn.DayPeriodsStandalone]],o=Da(r,t);return Da(o,e)}function YB(n,t,e){let i=co(n),r=[i[Gn.DaysFormat],i[Gn.DaysStandalone]],o=Da(r,t);return Da(o,e)}function ZB(n,t,e){let i=co(n),r=[i[Gn.MonthsFormat],i[Gn.MonthsStandalone]],o=Da(r,t);return Da(o,e)}function XB(n,t){let i=co(n)[Gn.Eras];return Da(i,t)}function Nf(n,t){let e=co(n);return Da(e[Gn.DateFormat],t)}function Pf(n,t){let e=co(n);return Da(e[Gn.TimeFormat],t)}function Of(n,t){let i=co(n)[Gn.DateTimeFormat];return Da(i,t)}function ra(n,t){let e=co(n),i=e[Gn.NumberSymbols][t];if(typeof i>"u"){if(t===xi.CurrencyDecimal)return e[Gn.NumberSymbols][xi.Decimal];if(t===xi.CurrencyGroup)return e[Gn.NumberSymbols][xi.Group]}return i}function Kh(n,t){return co(n)[Gn.NumberFormats][t]}function xue(n){return co(n)[Gn.Currencies]}function QB(n){if(!n[Gn.ExtraData])throw new se(2303,!1)}function KB(n){let t=co(n);return QB(t),(t[Gn.ExtraData][2]||[]).map(i=>typeof i=="string"?Nw(i):[Nw(i[0]),Nw(i[1])])}function JB(n,t,e){let i=co(n);QB(i);let r=[i[Gn.ExtraData][0],i[Gn.ExtraData][1]],o=Da(r,t)||[];return Da(o,e)||[]}function Da(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new se(2304,!1)}function Nw(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}function eV(n,t,e="en"){let i=xue(e)[n]||WB[n]||[],r=i[1];return t==="narrow"&&typeof r=="string"?r:i[0]||n}var Cue=2;function tV(n){let t,e=WB[n];return e&&(t=e[2]),typeof t=="number"?t:Cue}var Sue=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jh={},wue=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function nV(n,t,e,i){let r=kue(n);t=u2(e,t)||t;let a=[],s;for(;t;)if(s=wue.exec(t),s){a=a.concat(s.slice(1));let u=a.pop();if(!u)break;t=u}else{a.push(t);break}let l=r.getTimezoneOffset();i&&(l=rV(i,l),r=zue(r,i));let c="";return a.forEach(u=>{let d=Lue(u);c+=d?d(r,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Yh(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function u2(n,t){let e=qB(n);if(jh[e]??={},jh[e][t])return jh[e][t];let i="";switch(t){case"shortDate":i=Nf(n,Io.Short);break;case"mediumDate":i=Nf(n,Io.Medium);break;case"longDate":i=Nf(n,Io.Long);break;case"fullDate":i=Nf(n,Io.Full);break;case"shortTime":i=Pf(n,Io.Short);break;case"mediumTime":i=Pf(n,Io.Medium);break;case"longTime":i=Pf(n,Io.Long);break;case"fullTime":i=Pf(n,Io.Full);break;case"short":let r=u2(n,"shortTime"),o=u2(n,"shortDate");i=Gh(Of(n,Io.Short),[r,o]);break;case"medium":let a=u2(n,"mediumTime"),s=u2(n,"mediumDate");i=Gh(Of(n,Io.Medium),[a,s]);break;case"long":let l=u2(n,"longTime"),c=u2(n,"longDate");i=Gh(Of(n,Io.Long),[l,c]);break;case"full":let u=u2(n,"fullTime"),d=u2(n,"fullDate");i=Gh(Of(n,Io.Full),[u,d]);break}return i&&(jh[e][t]=i),i}function Gh(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function x1(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function Mue(n,t){return x1(n,3).substring(0,t)}function ki(n,t,e=0,i=!1,r=!1){return function(o,a){let s=Tue(n,o);if((e>0||s>-e)&&(s+=e),n===3)s===0&&e===-12&&(s=12);else if(n===6)return Mue(s,t);let l=ra(a,xi.MinusSign);return x1(s,t,l,i,r)}}function Tue(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new se(2301,!1)}}function Fn(n,t,e=zr.Format,i=!1){return function(r,o){return Eue(r,o,n,t,e,i)}}function Eue(n,t,e,i,r,o){switch(e){case 2:return ZB(t,r,i)[n.getMonth()];case 1:return YB(t,r,i)[n.getDay()];case 0:let a=n.getHours(),s=n.getMinutes();if(o){let c=KB(t),u=JB(t,r,i),d=c.findIndex(f=>{if(Array.isArray(f)){let[p,v]=f,_=a>=p.hours&&s>=p.minutes,b=a<v.hours||a===v.hours&&s<v.minutes;if(p.hours<v.hours){if(_&&b)return!0}else if(_||b)return!0}else if(f.hours===a&&f.minutes===s)return!0;return!1});if(d!==-1)return u[d]}return $B(t,r,i)[a<12?0:1];case 3:return XB(t,i)[n.getFullYear()<=0?0:1];default:let l=e;throw new se(2302,!1)}}function Wh(n){return function(t,e,i){let r=-1*i,o=ra(e,xi.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+x1(a,2,o)+x1(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+x1(a,1,o);case 2:return"GMT"+(r>=0?"+":"")+x1(a,2,o)+":"+x1(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+x1(a,2,o)+":"+x1(Math.abs(r%60),2,o);default:throw new se(2310,!1)}}}var Due=0,$h=4;function Iue(n){let t=Yh(n,Due,1).getDay();return Yh(n,0,1+(t<=$h?$h:$h+7)-t)}function iV(n){let t=n.getDay(),e=t===0?-3:$h-t;return Yh(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Pw(n,t=!1){return function(e,i){let r;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{let o=iV(e),a=Iue(o.getFullYear()),s=o.getTime()-a.getTime();r=1+Math.round(s/6048e5)}return x1(r,n,ra(i,xi.MinusSign))}}function qh(n,t=!1){return function(e,i){let o=iV(e).getFullYear();return x1(o,n,ra(i,xi.MinusSign),t)}}var Ow={};function Lue(n){if(Ow[n])return Ow[n];let t;switch(n){case"G":case"GG":case"GGG":t=Fn(3,Mn.Abbreviated);break;case"GGGG":t=Fn(3,Mn.Wide);break;case"GGGGG":t=Fn(3,Mn.Narrow);break;case"y":t=ki(0,1,0,!1,!0);break;case"yy":t=ki(0,2,0,!0,!0);break;case"yyy":t=ki(0,3,0,!1,!0);break;case"yyyy":t=ki(0,4,0,!1,!0);break;case"Y":t=qh(1);break;case"YY":t=qh(2,!0);break;case"YYY":t=qh(3);break;case"YYYY":t=qh(4);break;case"M":case"L":t=ki(1,1,1);break;case"MM":case"LL":t=ki(1,2,1);break;case"MMM":t=Fn(2,Mn.Abbreviated);break;case"MMMM":t=Fn(2,Mn.Wide);break;case"MMMMM":t=Fn(2,Mn.Narrow);break;case"LLL":t=Fn(2,Mn.Abbreviated,zr.Standalone);break;case"LLLL":t=Fn(2,Mn.Wide,zr.Standalone);break;case"LLLLL":t=Fn(2,Mn.Narrow,zr.Standalone);break;case"w":t=Pw(1);break;case"ww":t=Pw(2);break;case"W":t=Pw(1,!0);break;case"d":t=ki(2,1);break;case"dd":t=ki(2,2);break;case"c":case"cc":t=ki(7,1);break;case"ccc":t=Fn(1,Mn.Abbreviated,zr.Standalone);break;case"cccc":t=Fn(1,Mn.Wide,zr.Standalone);break;case"ccccc":t=Fn(1,Mn.Narrow,zr.Standalone);break;case"cccccc":t=Fn(1,Mn.Short,zr.Standalone);break;case"E":case"EE":case"EEE":t=Fn(1,Mn.Abbreviated);break;case"EEEE":t=Fn(1,Mn.Wide);break;case"EEEEE":t=Fn(1,Mn.Narrow);break;case"EEEEEE":t=Fn(1,Mn.Short);break;case"a":case"aa":case"aaa":t=Fn(0,Mn.Abbreviated);break;case"aaaa":t=Fn(0,Mn.Wide);break;case"aaaaa":t=Fn(0,Mn.Narrow);break;case"b":case"bb":case"bbb":t=Fn(0,Mn.Abbreviated,zr.Standalone,!0);break;case"bbbb":t=Fn(0,Mn.Wide,zr.Standalone,!0);break;case"bbbbb":t=Fn(0,Mn.Narrow,zr.Standalone,!0);break;case"B":case"BB":case"BBB":t=Fn(0,Mn.Abbreviated,zr.Format,!0);break;case"BBBB":t=Fn(0,Mn.Wide,zr.Format,!0);break;case"BBBBB":t=Fn(0,Mn.Narrow,zr.Format,!0);break;case"h":t=ki(3,1,-12);break;case"hh":t=ki(3,2,-12);break;case"H":t=ki(3,1);break;case"HH":t=ki(3,2);break;case"m":t=ki(4,1);break;case"mm":t=ki(4,2);break;case"s":t=ki(5,1);break;case"ss":t=ki(5,2);break;case"S":t=ki(6,1);break;case"SS":t=ki(6,2);break;case"SSS":t=ki(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Wh(0);break;case"ZZZZZ":t=Wh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Wh(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Wh(2);break;default:return null}return Ow[n]=t,t}function rV(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Aue(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function zue(n,t,e){let r=n.getTimezoneOffset(),o=rV(t,r);return Aue(n,-1*(o-r))}function kue(n){if(BB(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,a=1]=n.split("-").map(s=>+s);return Yh(r,o-1,a)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Sue))return Nue(i)}let t=new Date(n);if(!BB(t))throw new se(2311,!1);return t}function Nue(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-e,s=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,a,s,l,c),t}function BB(n){return n instanceof Date&&!isNaN(n.valueOf())}var Pue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,VB=22,Zh=".",Rf="0",Oue=";",Rue=",",Rw="#",UB="\xA4",Fue="%";function Uw(n,t,e,i,r,o,a=!1){let s="",l=!1;if(!isFinite(n))s=ra(e,xi.Infinity);else{let c=Vue(n);a&&(c=Bue(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){let w=o.match(Pue);if(w===null)throw new se(2306,!1);let E=w[1],D=w[3],L=w[5];E!=null&&(u=Fw(E)),D!=null&&(d=Fw(D)),L!=null?f=Fw(L):D!=null&&d>f&&(f=d)}Uue(c,d,f);let p=c.digits,v=c.integerLen,_=c.exponent,b=[];for(l=p.every(w=>!w);v<u;v++)p.unshift(0);for(;v<0;v++)p.unshift(0);v>0?b=p.splice(v,p.length):(b=p,p=[0]);let C=[];for(p.length>=t.lgSize&&C.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)C.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&C.unshift(p.join("")),s=C.join(ra(e,i)),b.length&&(s+=ra(e,r)+b.join("")),_&&(s+=ra(e,xi.Exponential)+"+"+_)}return n<0&&!l?s=t.negPre+s+t.negSuf:s=t.posPre+s+t.posSuf,s}function oV(n,t,e,i,r){let o=Kh(t,Ff.Currency),a=Hw(o,ra(t,xi.MinusSign));return a.minFrac=tV(i),a.maxFrac=a.minFrac,Uw(n,a,t,xi.CurrencyGroup,xi.CurrencyDecimal,r).replace(UB,e).replace(UB,"").trim()}function aV(n,t,e){let i=Kh(t,Ff.Percent),r=Hw(i,ra(t,xi.MinusSign));return Uw(n,r,t,xi.Group,xi.Decimal,e,!0).replace(new RegExp(Fue,"g"),ra(t,xi.PercentSign))}function sV(n,t,e){let i=Kh(t,Ff.Decimal),r=Hw(i,ra(t,xi.MinusSign));return Uw(n,r,t,xi.Group,xi.Decimal,e)}function Hw(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(Oue),r=i[0],o=i[1],a=r.indexOf(Zh)!==-1?r.split(Zh):[r.substring(0,r.lastIndexOf(Rf)+1),r.substring(r.lastIndexOf(Rf)+1)],s=a[0],l=a[1]||"";e.posPre=s.substring(0,s.indexOf(Rw));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Rf?e.minFrac=e.maxFrac=u+1:d===Rw?e.maxFrac=u+1:e.posSuf+=d}let c=s.split(Rue);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=r.length-e.posPre.length-e.posSuf.length,d=o.indexOf(Rw);e.negPre=o.substring(0,d).replace(/'/g,""),e.negSuf=o.slice(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Bue(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function Vue(n){let t=Math.abs(n)+"",e=0,i,r,o,a,s;for((r=t.indexOf(Zh))>-1&&(t=t.replace(Zh,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===Rf;o++);if(o===(s=t.length))i=[0],r=1;else{for(s--;t.charAt(s)===Rf;)s--;for(r-=o,i=[],a=0;o<=s;o++,a++)i[a]=Number(t.charAt(o))}return r>VB&&(i=i.splice(0,VB-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function Uue(n,t,e){if(t>e)throw new se(2307,!1);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(t,r),e),a=o+n.integerLen,s=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let d=a;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let d=1;d<a;d++)i[d]=0}if(s>=5)if(a-1<0){for(let d=0;d>a;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=t+n.integerLen,u=i.reduceRight(function(d,f,p,v){return f=f+d,v[p]=f<10?f:f-10,l&&(v[p]===0&&p>=c?v.pop():l=!1),f>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}function Fw(n){let t=parseInt(n);if(isNaN(t))throw new se(2305,!1);return t}var Bw=/\s+/,HB=[],Oe=(()=>{class n{_ngEl;_renderer;initialClasses=HB;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(Bw):HB}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Bw):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(Bw).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(V(at),V(li))};static \u0275dir=Fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Xh=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ze=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Xh(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let s=i.get(o);i.move(s,a),jB(s,r)}});for(let r=0,o=i.length;r<o;r++){let s=i.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);jB(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(V(Ui),V(Lr),V(Fh))};static \u0275dir=Fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function jB(n,t){n.context.$implicit=t.item}var ye=(()=>{class n{_viewContainer;_context=new Qh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){GB(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){GB(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(V(Ui),V(Lr))};static \u0275dir=Fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Qh=class{$implicit=null;ngIf=null};function GB(n,t){if(n&&!n.createEmbeddedView)throw new se(2020,!1)}var Bf=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,o]=e.split("."),a=r.indexOf("-")===-1?void 0:v1.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(V(at),V(Aw),V(li))};static \u0275dir=Fe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Vf(n,t){return new se(2100,!1)}var Uf=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw Vf(n,e);return e.toUpperCase()}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=s2({name:"uppercase",type:n,pure:!0})}return n})(),Hue="mediumDate",lV=new ue(""),cV=new ue(""),jw=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let a=i??this.defaultOptions?.dateFormat??Hue,s=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return nV(e,a,o||this.locale,s)}catch(a){throw Vf(n,a.message)}}static \u0275fac=function(i){return new(i||n)(V(ns,16),V(lV,24),V(cV,24))};static \u0275pipe=s2({name:"date",type:n,pure:!0})}return n})();var ln=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!Gw(e))return null;r||=this._locale;try{let o=Ww(e);return sV(o,r,i)}catch(o){throw Vf(n,o.message)}}static \u0275fac=function(i){return new(i||n)(V(ns,16))};static \u0275pipe=s2({name:"number",type:n,pure:!0})}return n})(),qn=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!Gw(e))return null;r||=this._locale;try{let o=Ww(e);return aV(o,r,i)}catch(o){throw Vf(n,o.message)}}static \u0275fac=function(i){return new(i||n)(V(ns,16))};static \u0275pipe=s2({name:"percent",type:n,pure:!0})}return n})(),Ci=(()=>{class n{_locale;_defaultCurrencyCode;constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",o,a){if(!Gw(e))return null;a||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let s=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?s=eV(s,r==="symbol"?"wide":"narrow",a):s=r);try{let l=Ww(e);return oV(l,a,s,i,o)}catch(l){throw Vf(n,l.message)}}static \u0275fac=function(i){return new(i||n)(V(ns,16),V(bw,16))};static \u0275pipe=s2({name:"currency",type:n,pure:!0})}return n})();function Gw(n){return!(n==null||n===""||n!==n)}function Ww(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new se(2309,!1);return n}var We=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({})}return n})();function Hf(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Lc=class{};function dV(n,t,e){return hw(n,t,e)}var $w="browser";function fV(n){return n===$w}var pV=(()=>{class n{static \u0275prov=Q({token:n,providedIn:"root",factory:()=>new qw(B(Me),window)})}return n})(),qw=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(Ie(X({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let i=jue(this.document,t);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(xa(2400,!1))}}scrollToElement(t,e){let i=t.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(Ie(X({},e),{left:r-a[0],top:o-a[1]}))}};function jue(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}var mV=n=>n.src,Gue=new ue("",{providedIn:"root",factory:()=>mV});var uV=/^((\s*\d+w\s*(,|$)){1,})$/;var Wue=[1,2],que=640;var $ue=1920,Yue=1080;var kr=(()=>{class n{imageLoader=B(Gue);config=Zue(B(fh));renderer=B(li);imgElement=B(at).nativeElement;injector=B(Ve);destroyRef=B(yr);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){Ta("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let e=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&uV.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(e){if(e.ngSrc&&!e.ngSrc.isFirstChange()){let i=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(e){let i=e;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let e={src:this.ngSrc};this._renderedSrc=this.callImageLoader(e)}return this._renderedSrc}getRewrittenSrcset(){let e=uV.test(this.ngSrcset);return this.ngSrcset.split(",").filter(r=>r!=="").map(r=>{r=r.trim();let o=e?parseFloat(r):parseFloat(r)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${r}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:e}=this.config,i=e;return this.sizes?.trim()==="100vw"&&(i=e.filter(o=>o>=que)),i.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(e=!1){e&&(this._renderedSrc=null);let i=this.getRewrittenSrc();this.setHostAttribute("src",i);let r;return this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),r}getFixedSrcset(){return Wue.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let e=!1;return this.sizes||(e=this.width>$ue||this.height>Yue),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==mV&&!e}generatePlaceholder(e){let{placeholderResolution:i}=this.config;return e===!0?`url(${this.callImageLoader({src:this.ngSrc,width:i,isPlaceholder:!0})})`:typeof e=="string"?`url(${e})`:null}shouldBlurPlaceholder(e){return!e||!e.hasOwnProperty("blur")?!0:!!e.blur}removePlaceholderOnLoad(e){let i=()=>{let a=this.injector.get(bi);r(),o(),this.placeholder=!1,a.markForCheck()},r=this.renderer.listen(e,"load",i),o=this.renderer.listen(e,"error",i);this.destroyRef.onDestroy(()=>{r(),o()}),Xue(e,i)}setHostAttribute(e,i){this.renderer.setAttribute(this.imgElement,e,i)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(i,r){i&2&&ts("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0":null)("background-size",r.placeholder?"cover":null)("background-position",r.placeholder?"50% 50%":null)("background-repeat",r.placeholder?"no-repeat":null)("background-image",r.placeholder?r.generatePlaceholder(r.placeholder):null)("filter",r.placeholder&&r.shouldBlurPlaceholder(r.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",Que],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Af],height:[2,"height","height",Af],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",ri],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",ri],fill:[2,"fill","fill",ri],placeholder:[2,"placeholder","placeholder",Kue],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[rn]})}return n})();function Zue(n){let t={};return n.breakpoints&&(t.breakpoints=n.breakpoints.sort((e,i)=>e-i)),Object.assign({},dh,n,t)}function Xue(n,t){n.complete&&n.naturalWidth&&t()}function Que(n){return typeof n=="string"?n:To(n)}function Kue(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:ri(n)}var jf=class{_doc;constructor(t){this._doc=t}manager},Jh=(()=>{class n extends jf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(ae(Me))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),t9=new ue(""),Kw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(a=>{a.manager=this});let r=e.filter(a=>!(a instanceof Jh));this._plugins=r.slice().reverse();let o=e.find(a=>a instanceof Jh);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new se(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(ae(t9),ae(Pe))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Yw="ng-app-id";function hV(n){for(let t of n)t.remove()}function gV(n,t){let e=t.createElement("style");return e.textContent=n,e}function Jue(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Yw}="${t}"],link[${Yw}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Yw),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Xw(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Jw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,Jue(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,gV);i?.forEach(r=>this.addUsage(r,this.external,Xw))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(hV(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])hV(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,gV(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Xw(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ae(Me),ae(El),ae(m6,8),ae(Tc))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Zw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eM=/%COMP%/g;var yV="%COMP%",ede=`_nghost-${yV}`,tde=`_ngcontent-${yV}`,nde=!0,ide=new ue("",{providedIn:"root",factory:()=>nde});function rde(n){return tde.replace(eM,n)}function ode(n){return ede.replace(eM,n)}function _V(n,t){return t.map(e=>e.replace(eM,n))}var qf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,a,s,l=null,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new Gf(e,a,s,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof e9?r.applyToHost(e):r instanceof Wf&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case r2.Emulated:o=new e9(l,c,i,this.appId,u,a,s,d,f);break;case r2.ShadowDom:return new Qw(l,c,e,i,a,s,this.nonce,d,f);default:o=new Wf(l,c,i,u,a,s,d,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(ae(Kw),ae(Jw),ae(El),ae(ide),ae(Me),ae(Pe),ae(m6),ae(Ec,8))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Gf=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Zw[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(vV(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(vV(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new se(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Zw[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Zw[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(v1.DashCase|v1.Important)?t.style.setProperty(e,i,r&v1.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&v1.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=ia().getGlobalEventTarget(this.doc,t),!t))throw new se(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function vV(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qw=class extends Gf{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,o,a,s,l,c){super(t,o,a,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=_V(r.id,u);for(let f of u){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=f,this.shadowRoot.appendChild(p)}let d=r.getExternalStyles?.();if(d)for(let f of d){let p=Xw(f,o);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wf=class extends Gf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,a,s,l,c){super(t,o,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=c?_V(c,u):u,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&d6.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},e9=class extends Wf{contentAttr;hostAttr;constructor(t,e,i,r,o,a,s,l,c){let u=r+"-"+i.id;super(t,e,i,o,a,s,l,c,u),this.contentAttr=rde(u),this.hostAttr=ode(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var n9=class n extends zf{supportsDOMEvents=!0;static makeCurrent(){zw(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=ade();return e==null?null:sde(e)}resetBaseElement(){$f=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Hf(document.cookie,t)}},$f=null;function ade(){return $f=$f||document.head.querySelector("base"),$f?$f.getAttribute("href"):null}function sde(n){return new URL(n,document.baseURI).pathname}var i9=class{addToWindow(t){Vi.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new se(5103,!1);return o},Vi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Vi.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let r=Vi.getAllAngularTestabilities(),o=r.length,a=function(){o--,o==0&&i()};r.forEach(s=>{s.whenStable(a)})};Vi.frameworkStabilizers||(Vi.frameworkStabilizers=[]),Vi.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let r=t.getTestability(e);return r??(i?ia().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},lde=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),bV=["alt","control","meta","shift"],cde={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ude={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},xV=(()=>{class n extends jf{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=n.parseEventName(i),s=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),bV.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),a+=c+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,i){let r=cde[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),bV.forEach(a=>{if(a!==r){let s=ude[a];s(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(ae(Me))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function tM(n,t,e){let i=X({rootComponent:n,platformRef:e?.platformRef},dde(t));return kB(i)}function dde(n){return{appProviders:[...CV,...n?.providers??[]],platformProviders:hde}}function fde(){n9.makeCurrent()}function pde(){return new ta}function mde(){return IS(document),document}var hde=[{provide:Tc,useValue:$w},{provide:uh,useValue:fde,multi:!0},{provide:Me,useFactory:mde}];var gde=[{provide:_6,useClass:i9},{provide:Dh,useClass:wf,deps:[Pe,Mf,_6]},{provide:wf,useClass:wf,deps:[Pe,Mf,_6]}],CV=[{provide:Qd,useValue:"root"},{provide:ta,useFactory:pde},{provide:t9,useClass:Jh,multi:!0,deps:[Me]},{provide:t9,useClass:xV,multi:!0,deps:[Me]},qf,Jw,Kw,{provide:gi,useExisting:qf},{provide:Lc,useClass:lde},[]],nM=(()=>{class n{constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({providers:[...CV,...gde],imports:[We,zB]})}return n})();var T6=class{},Yf=class{},zl=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var o9=class{encodeKey(t){return SV(t)}encodeValue(t){return SV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function vde(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var yde=/%(\d[a-f0-9])/gi,_de={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function SV(n){return encodeURIComponent(n).replace(yde,(t,e)=>_de[e]??t)}function r9(n){return`${n}`}var d2=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new o9,t.fromString){if(t.fromObject)throw new se(2805,!1);this.map=vde(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(r9):[r9(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(r9(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(r9(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var a9=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function bde(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function MV(n){return typeof Blob<"u"&&n instanceof Blob}function TV(n){return typeof FormData<"u"&&n instanceof FormData}function xde(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var EV="Content-Type",DV="Accept",LV="X-Request-URL",AV="text/plain",zV="application/json",Cde=`${zV}, ${AV}, */*`,w6=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(bde(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new se(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new zl,this.context??=new a9,!this.params)this.params=new d2,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wV(this.body)||MV(this.body)||TV(this.body)||xde(this.body)?this.body:this.body instanceof d2?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||TV(this.body)?null:MV(this.body)?this.body.type||null:wV(this.body)?null:typeof this.body=="string"?AV:this.body instanceof d2?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?zV:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,a=t.priority||this.priority,s=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.referrer||this.referrer,f=t.integrity||this.integrity,p=t.transferCache??this.transferCache,v=t.timeout??this.timeout,_=t.body!==void 0?t.body:this.body,b=t.withCredentials??this.withCredentials,C=t.reportProgress??this.reportProgress,w=t.headers||this.headers,E=t.params||this.params,D=t.context??this.context;return t.setHeaders!==void 0&&(w=Object.keys(t.setHeaders).reduce((L,z)=>L.set(z,t.setHeaders[z]),w)),t.setParams&&(E=Object.keys(t.setParams).reduce((L,z)=>L.set(z,t.setParams[z]),E)),new n(e,i,_,{params:E,headers:w,context:D,reportProgress:C,responseType:r,withCredentials:b,transferCache:p,keepalive:o,cache:s,priority:a,timeout:v,mode:l,redirect:c,credentials:u,referrer:d,integrity:f})}},Ac=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ac||{}),E6=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,i="OK"){this.headers=t.headers||new zl,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},s9=class n extends E6{constructor(t={}){super(t)}type=Ac.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Zf=class n extends E6{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ac.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},M6=class extends E6{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Sde=200,wde=204;function iM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var kl=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof w6)o=e;else{let l;r.headers instanceof zl?l=r.headers:l=new zl(r.headers);let c;r.params&&(r.params instanceof d2?c=r.params:c=new d2({fromObject:r.params})),o=new w6(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let a=we(o).pipe(ro(l=>this.handler.handle(l)));if(e instanceof w6||r.observe==="events")return a;let s=a.pipe(et(l=>l instanceof Zf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(Qe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new se(2806,!1);return l.body}));case"blob":return s.pipe(Qe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new se(2807,!1);return l.body}));case"text":return s.pipe(Qe(l=>{if(l.body!==null&&typeof l.body!="string")throw new se(2808,!1);return l.body}));case"json":default:return s.pipe(Qe(l=>l.body))}case"response":return s;default:throw new se(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new d2().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,iM(r,i))}post(e,i,r={}){return this.request("POST",e,iM(r,i))}put(e,i,r={}){return this.request("PUT",e,iM(r,i))}static \u0275fac=function(i){return new(i||n)(ae(T6))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();var Mde=new ue("");function kV(n,t){return t(n)}function Tde(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}function Ede(n,t,e){return(i,r)=>er(e,()=>t(i,o=>n(o,r)))}var c9=new ue(""),oM=new ue(""),NV=new ue(""),aM=new ue("",{providedIn:"root",factory:()=>!0});function Dde(){let n=null;return(t,e)=>{n===null&&(n=(B(c9,{optional:!0})??[]).reduceRight(Tde,kV));let i=B(a6);if(B(aM)){let o=i.add();return n(t,e).pipe(hl(o))}else return n(t,e)}}var l9=(()=>{class n extends T6{backend;injector;chain=null;pendingTasks=B(a6);contributeToStability=B(aM);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(oM),...this.injector.get(NV,[])]));this.chain=i.reduceRight((r,o)=>Ede(r,o,this.injector),kV)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(hl(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ae(Yf),ae(In))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();var Ide=/^\)\]\}',?\n/,Lde=RegExp(`^${LV}:`,"m");function Ade(n){return"responseURL"in n&&n.responseURL?n.responseURL:Lde.test(n.getAllResponseHeaders())?n.getResponseHeader(LV):null}var rM=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new se(-2800,!1);let i=this.xhrFactory;return we(null).pipe(Un(()=>new ut(o=>{let a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((b,C)=>a.setRequestHeader(b,C.join(","))),e.headers.has(DV)||a.setRequestHeader(DV,Cde),!e.headers.has(EV)){let b=e.detectContentTypeHeader();b!==null&&a.setRequestHeader(EV,b)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let b=e.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let s=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=a.statusText||"OK",C=new zl(a.getAllResponseHeaders()),w=Ade(a)||e.url;return l=new s9({headers:C,status:a.status,statusText:b,url:w}),l},u=()=>{let{headers:b,status:C,statusText:w,url:E}=c(),D=null;C!==wde&&(D=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=D?Sde:0);let L=C>=200&&C<300;if(e.responseType==="json"&&typeof D=="string"){let z=D;D=D.replace(Ide,"");try{D=D!==""?JSON.parse(D):null}catch(R){D=z,L&&(L=!1,D={error:R,text:D})}}L?(o.next(new Zf({body:D,headers:b,status:C,statusText:w,url:E||void 0})),o.complete()):o.error(new M6({error:D,headers:b,status:C,statusText:w,url:E||void 0}))},d=b=>{let{url:C}=c(),w=new M6({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(w)},f=d;e.timeout&&(f=b=>{let{url:C}=c(),w=new M6({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:C||void 0});o.error(w)});let p=!1,v=b=>{p||(o.next(c()),p=!0);let C={type:Ac.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),e.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},_=b=>{let C={type:Ac.UploadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),o.next(C)};return a.addEventListener("load",u),a.addEventListener("error",d),a.addEventListener("timeout",f),a.addEventListener("abort",d),e.reportProgress&&(a.addEventListener("progress",v),s!==null&&a.upload&&a.upload.addEventListener("progress",_)),a.send(s),o.next({type:Ac.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",u),a.removeEventListener("timeout",f),e.reportProgress&&(a.removeEventListener("progress",v),s!==null&&a.upload&&a.upload.removeEventListener("progress",_)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||n)(ae(Lc))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),PV=new ue(""),zde="XSRF-TOKEN",kde=new ue("",{providedIn:"root",factory:()=>zde}),Nde="X-XSRF-TOKEN",Pde=new ue("",{providedIn:"root",factory:()=>Nde}),Xf=class{},Ode=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hf(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(ae(Me),ae(kde))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Rde=/^(?:https?:)?\/\//i;function Fde(n,t){if(!B(PV)||n.method==="GET"||n.method==="HEAD"||Rde.test(n.url))return t(n);let e=B(Xf).getToken(),i=B(Pde);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}var sM=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(sM||{});function Bde(n,t){return{\u0275kind:n,\u0275providers:t}}function OV(...n){let t=[kl,rM,l9,{provide:T6,useExisting:l9},{provide:Yf,useFactory:()=>B(Mde,{optional:!0})??B(rM)},{provide:oM,useValue:Fde,multi:!0},{provide:PV,useValue:!0},{provide:Xf,useClass:Ode}];for(let e of n)t.push(...e.\u0275providers);return W1(t)}var IV=new ue("");function RV(){return Bde(sM.LegacyInterceptors,[{provide:IV,useFactory:Dde},{provide:oM,useExisting:IV,multi:!0}])}var lM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({providers:[OV(RV())]})}return n})();var u9=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(ae(Me))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ae(Vde),r},providedIn:"root"})}return n})(),Vde=(()=>{class n extends Qf{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Eo.NONE:return i;case Eo.HTML:return J1(i,"HTML")?To(i):gh(this._doc,String(i)).toString();case Eo.STYLE:return J1(i,"Style")?To(i):i;case Eo.SCRIPT:if(J1(i,"Script"))return To(i);throw new se(5200,!1);case Eo.URL:return J1(i,"URL")?To(i):yf(String(i));case Eo.RESOURCE_URL:if(J1(i,"ResourceURL"))return To(i);throw new se(5201,!1);default:throw new se(5202,!1)}}bypassSecurityTrustHtml(e){return zS(e)}bypassSecurityTrustStyle(e){return kS(e)}bypassSecurityTrustScript(e){return NS(e)}bypassSecurityTrustUrl(e){return PS(e)}bypassSecurityTrustResourceUrl(e){return OS(e)}static \u0275fac=function(i){return new(i||n)(ae(Me))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xt="primary",u5=Symbol("RouteTitle"),hM=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Nc(n){return new hM(n)}function WV(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],s=n[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ude(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!rs(n[e],t[e]))return!1;return!0}function rs(n,t){let e=n?gM(n):void 0,i=t?gM(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!qV(n[r],t[r]))return!1;return!0}function gM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function qV(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function $V(n){return n.length>0?n[n.length-1]:null}function f2(n){return sm(n)?n:Il(n)?tn(Promise.resolve(n)):we(n)}var Hde={exact:ZV,subset:XV},YV={exact:jde,subset:Gde,ignored:()=>!0};function FV(n,t,e){return Hde[e.paths](n.root,t.root,e.matrixParams)&&YV[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function jde(n,t){return rs(n,t)}function ZV(n,t,e){if(!zc(n.segments,t.segments)||!p9(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!ZV(n.children[i],t.children[i],e))return!1;return!0}function Gde(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qV(n[e],t[e]))}function XV(n,t,e){return QV(n,t,t.segments,e)}function QV(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!zc(r,e)||t.hasChildren()||!p9(r,e,i))}else if(n.segments.length===e.length){if(!zc(n.segments,e)||!p9(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!XV(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!zc(n.segments,r)||!p9(n.segments,r,i)||!n.children[xt]?!1:QV(n.children[xt],t,o,i)}}function p9(n,t,e){return t.every((i,r)=>YV[e](n[r].parameters,i.parameters))}var as=class{root;queryParams;fragment;_queryParamMap;constructor(t=new cn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Nc(this.queryParams),this._queryParamMap}toString(){return $de.serialize(this)}},cn=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return m9(this)}},Nl=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Nc(this.parameters),this._parameterMap}toString(){return JV(this)}};function Wde(n,t){return zc(n,t)&&n.every((e,i)=>rs(e.parameters,t[i].parameters))}function zc(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function qde(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===xt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==xt&&(e=e.concat(t(r,i)))}),e}var Pc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:()=>new Pl,providedIn:"root"})}return n})(),Pl=class{parse(t){let e=new yM(t);return new as(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Kf(t.root,!0)}`,i=Xde(t.queryParams),r=typeof t.fragment=="string"?`#${Yde(t.fragment)}`:"";return`${e}${i}${r}`}},$de=new Pl;function m9(n){return n.segments.map(t=>JV(t)).join("/")}function Kf(n,t){if(!n.hasChildren())return m9(n);if(t){let e=n.children[xt]?Kf(n.children[xt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==xt&&i.push(`${r}:${Kf(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=qde(n,(i,r)=>r===xt?[Kf(n.children[xt],!1)]:[`${r}:${Kf(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[xt]!=null?`${m9(n)}/${e[0]}`:`${m9(n)}/(${e.join("//")})`}}function KV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function d9(n){return KV(n).replace(/%3B/gi,";")}function Yde(n){return encodeURI(n)}function vM(n){return KV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function h9(n){return decodeURIComponent(n)}function BV(n){return h9(n.replace(/\+/g,"%20"))}function JV(n){return`${vM(n.path)}${Zde(n.parameters)}`}function Zde(n){return Object.entries(n).map(([t,e])=>`;${vM(t)}=${vM(e)}`).join("")}function Xde(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${d9(e)}=${d9(r)}`).join("&"):`${d9(e)}=${d9(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Qde=/^[^\/()?;#]+/;function dM(n){let t=n.match(Qde);return t?t[0]:""}var Kde=/^[^\/()?;=#]+/;function Jde(n){let t=n.match(Kde);return t?t[0]:""}var efe=/^[^=?&#]+/;function tfe(n){let t=n.match(efe);return t?t[0]:""}var nfe=/^[^&#]+/;function ife(n){let t=n.match(nfe);return t?t[0]:""}var yM=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[xt]=new cn(t,e)),i}parseSegment(){let t=dM(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(t),new Nl(h9(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Jde(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=dM(this.remaining);r&&(i=r,this.capture(i))}t[h9(e)]=h9(i)}parseQueryParam(t){let e=tfe(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=ife(this.remaining);a&&(i=a,this.capture(i))}let r=BV(e),o=BV(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=dM(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new se(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=xt);let a=this.parseChildren();e[o??xt]=Object.keys(a).length===1&&a[xt]?a[xt]:new cn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new se(4011,!1)}};function eU(n){return n.segments.length>0?new cn([],{[xt]:n}):n}function tU(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=tU(r);if(i===xt&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new cn(n.segments,t);return rfe(e)}function rfe(n){if(n.numberOfChildren===1&&n.children[xt]){let t=n.children[xt];return new cn(n.segments.concat(t.segments),t.children)}return n}function Ol(n){return n instanceof as}function nU(n,t,e=null,i=null){let r=iU(n);return rU(r,t,e,i)}function iU(n){let t;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new cn(o.url,a);return o===n&&(t=s),s}let i=e(n.root),r=eU(i);return t??r}function rU(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return fM(r,r,r,e,i);let o=ofe(t);if(o.toRoot())return fM(r,r,new cn([],{}),e,i);let a=afe(o,r,n),s=a.processChildren?e5(a.segmentGroup,a.index,o.commands):aU(a.segmentGroup,a.index,o.commands);return fM(r,a.segmentGroup,s,e,i)}function g9(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function n5(n){return typeof n=="object"&&n!=null&&n.outlets}function fM(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;n===t?a=e:a=oU(n,t,e);let s=eU(tU(a));return new as(s,o,r)}function oU(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=oU(o,t,e)}),new cn(n.segments,i)}var v9=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&g9(i[0]))throw new se(4003,!1);let r=i.find(n5);if(r&&r!==$V(i))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ofe(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new v9(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new v9(e,t,i)}var L6=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function afe(n,t,e){if(n.isAbsolute)return new L6(t,!0,0);if(!e)return new L6(t,!1,NaN);if(e.parent===null)return new L6(e,!0,0);let i=g9(n.commands[0])?0:1,r=e.segments.length-1+i;return sfe(e,r,n.numberOfDoubleDots)}function sfe(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new se(4005,!1);r=i.segments.length}return new L6(i,!1,r-o)}function lfe(n){return n5(n[0])?n[0].outlets:{[xt]:n}}function aU(n,t,e){if(n??=new cn([],{}),n.segments.length===0&&n.hasChildren())return e5(n,t,e);let i=cfe(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new cn(n.segments.slice(0,i.pathIndex),{});return o.children[xt]=new cn(n.segments.slice(i.pathIndex),n.children),e5(o,0,r)}else return i.match&&r.length===0?new cn(n.segments,{}):i.match&&!n.hasChildren()?_M(n,t,e):i.match?e5(n,0,r):_M(n,t,e)}function e5(n,t,e){if(e.length===0)return new cn(n.segments,{});{let i=lfe(e),r={};if(Object.keys(i).some(o=>o!==xt)&&n.children[xt]&&n.numberOfChildren===1&&n.children[xt].segments.length===0){let o=e5(n.children[xt],t,e);return new cn(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=aU(n.children[o],t,a))}),Object.entries(n.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new cn(n.segments,r)}}function cfe(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let a=n.segments[r],s=e[i];if(n5(s))break;let l=`${s}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!UV(l,c,a))return o;i+=2}else{if(!UV(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function _M(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(n5(o)){let l=ufe(o.outlets);return new cn(i,l)}if(r===0&&g9(e[0])){let l=n.segments[t];i.push(new Nl(l.path,VV(e[0]))),r++;continue}let a=n5(o)?o.outlets[xt]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&g9(s)?(i.push(new Nl(a,VV(s))),r+=2):(i.push(new Nl(a,{})),r++)}return new cn(i,{})}function ufe(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=_M(new cn([],{}),0,i))}),t}function VV(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function UV(n,t,e){return n==e.path&&rs(t,e.parameters)}var A6="imperative",ji=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ji||{}),aa=class{id;url;constructor(t,e){this.id=t,this.url=e}},Rl=class extends aa{type=ji.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},po=class extends aa{urlAfterRedirects;type=ji.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fo=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(fo||{}),k6=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(k6||{}),os=class extends aa{reason;code;type=ji.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ss=class extends aa{reason;code;type=ji.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},N6=class extends aa{error;target;type=ji.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},i5=class extends aa{urlAfterRedirects;state;type=ji.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},y9=class extends aa{urlAfterRedirects;state;type=ji.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_9=class extends aa{urlAfterRedirects;state;shouldActivate;type=ji.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},b9=class extends aa{urlAfterRedirects;state;type=ji.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},x9=class extends aa{urlAfterRedirects;state;type=ji.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},C9=class{route;type=ji.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},S9=class{route;type=ji.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},w9=class{snapshot;type=ji.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},M9=class{snapshot;type=ji.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},T9=class{snapshot;type=ji.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},E9=class{snapshot;type=ji.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},P6=class{routerEvent;position;anchor;type=ji.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},r5=class{},O6=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function dfe(n){return!(n instanceof r5)&&!(n instanceof O6)}function ffe(n,t){return n.providers&&!n._injector&&(n._injector=y6(n.providers,t,`Route: ${n.path}`)),n._injector??t}function C1(n){return n.outlet||xt}function pfe(n,t){let e=n.filter(i=>C1(i)===t);return e.push(...n.filter(i=>C1(i)!==t)),e}function B6(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var D9=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return B6(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Oc(this.rootInjector)}},Oc=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new D9(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(ae(In))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I9=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=bM(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=bM(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=xM(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return xM(t,this._root).map(e=>e.value)}};function bM(n,t){if(n===t.value)return t;for(let e of t.children){let i=bM(n,e);if(i)return i}return null}function xM(n,t){if(n===t.value)return[t];for(let e of t.children){let i=xM(n,e);if(i.length)return i.unshift(t),i}return[]}var oa=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function I6(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var o5=class extends I9{snapshot;constructor(t,e){super(t),this.snapshot=e,IM(this,t)}toString(){return this.snapshot.toString()}};function sU(n){let t=mfe(n),e=new Vn([new Nl("",{})]),i=new Vn({}),r=new Vn({}),o=new Vn({}),a=new Vn(""),s=new Nr(e,i,o,a,r,xt,n,t.root);return s.snapshot=t.root,new o5(new oa(s,[]),t)}function mfe(n){let t={},e={},i={},o=new kc([],t,i,"",e,xt,n,null,{});return new a5("",new oa(o,[]))}var Nr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,a,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Qe(c=>c[u5]))??we(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Qe(t=>Nc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Qe(t=>Nc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function L9(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:X(X({},t.params),n.params),data:X(X({},t.data),n.data),resolve:X(X(X(X({},n.data),t.data),r?.data),n._resolvedData)}:i={params:X({},n.params),data:X({},n.data),resolve:X(X({},n.data),n._resolvedData??{})},r&&cU(r)&&(i.resolve[u5]=r.title),i}var kc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[u5]}constructor(t,e,i,r,o,a,s,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Nc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Nc(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},a5=class extends I9{url;constructor(t,e){super(e),this.url=t,IM(this,e)}toString(){return lU(this._root)}};function IM(n,t){t.value._routerState=n,t.children.forEach(e=>IM(n,e))}function lU(n){let t=n.children.length>0?` { ${n.children.map(lU).join(", ")} } `:"";return`${n.value}${t}`}function pM(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,rs(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),rs(t.params,e.params)||n.paramsSubject.next(e.params),Ude(t.url,e.url)||n.urlSubject.next(e.url),rs(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function CM(n,t){let e=rs(n.params,t.params)&&Wde(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||CM(n.parent,t.parent))}function cU(n){return typeof n.title=="string"||n.title===null}var uU=new ue(""),d5=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=xt;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=S6();parentContexts=B(Oc);location=B(Ui);changeDetector=B(bi);inputBinder=B(f5,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new SM(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[rn]})}return n})(),SM=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Nr?this.route:t===Oc?this.childContexts:t===uU?this.outletData:this.parent.get(t,e)}},f5=new ue(""),LM=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=dc([i.queryParams,i.params,i.data]).pipe(Un(([o,a,s],l)=>(s=X(X(X({},o),a),s),l===0?we(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let a=NB(i.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),AM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&F(0,"router-outlet")},dependencies:[d5],encapsulation:2})}return n})();function zM(n){let t=n.children&&n.children.map(zM),e=t?Ie(X({},n),{children:t}):X({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==xt&&(e.component=AM),e}function hfe(n,t,e){let i=s5(n,t._root,e?e._root:void 0);return new o5(i,t)}function s5(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=gfe(n,t,e);return new oa(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>s5(n,s)),a}}let i=vfe(t.value),r=t.children.map(o=>s5(n,o));return new oa(i,r)}}function gfe(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return s5(n,i,r);return s5(n,i)})}function vfe(n){return new Nr(new Vn(n.url),new Vn(n.params),new Vn(n.queryParams),new Vn(n.fragment),new Vn(n.data),n.outlet,n.component,n)}var R6=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},dU="ngNavigationCancelingError";function A9(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=Ol(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=fU(!1,fo.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function fU(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[dU]=!0,e.cancellationCode=t,e}function yfe(n){return pU(n)&&Ol(n.url)}function pU(n){return!!n&&n[dU]}var _fe=(n,t,e,i)=>Qe(r=>(new wM(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),wM=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),pM(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=I6(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=I6(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=I6(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=I6(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new E9(o.value.snapshot))}),t.children.length&&this.forwardEvent(new M9(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(pM(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),pM(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},z9=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},z6=class{component;route;constructor(t,e){this.component=t,this.route=e}};function bfe(n,t,e){let i=n._root,r=t?t._root:null;return Jf(i,r,e,[i.value])}function xfe(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function V6(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!$x(n)?n:t.get(n):i}function Jf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=I6(t);return n.children.forEach(a=>{Cfe(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>t5(s,e.getContext(a),r)),r}function Cfe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=Sfe(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new z9(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Jf(n,t,s?s.children:null,i,r):Jf(n,t,e,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new z6(s.outlet.component,a))}else a&&t5(t,s,r),r.canActivateChecks.push(new z9(i)),o.component?Jf(n,null,s?s.children:null,i,r):Jf(n,null,e,i,r);return r}function Sfe(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!zc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zc(n.url,t.url)||!rs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CM(n,t)||!rs(n.queryParams,t.queryParams);case"paramsChange":default:return!CM(n,t)}}function t5(n,t,e){let i=I6(n),r=n.value;Object.entries(i).forEach(([o,a])=>{r.component?t?t5(a,t.children.getContext(o),e):t5(a,null,e):t5(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new z6(t.outlet.component,r)):e.canDeactivateChecks.push(new z6(null,r)):e.canDeactivateChecks.push(new z6(null,r))}function p5(n){return typeof n=="function"}function wfe(n){return typeof n=="boolean"}function Mfe(n){return n&&p5(n.canLoad)}function Tfe(n){return n&&p5(n.canActivate)}function Efe(n){return n&&p5(n.canActivateChild)}function Dfe(n){return n&&p5(n.canDeactivate)}function Ife(n){return n&&p5(n.canMatch)}function mU(n){return n instanceof qs||n?.name==="EmptyError"}var f9=Symbol("INITIAL_VALUE");function F6(){return Un(n=>dc(n.map(t=>t.pipe(Nt(1),Dr(f9)))).pipe(Qe(t=>{for(let e of t)if(e!==!0){if(e===f9)return f9;if(e===!1||Lfe(e))return e}return!0}),et(t=>t!==f9),Nt(1)))}function Lfe(n){return Ol(n)||n instanceof R6}function Afe(n,t){return Kn(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?we(Ie(X({},e),{guardsResult:!0})):zfe(a,i,r,n).pipe(Kn(s=>s&&wfe(s)?kfe(i,o,n,t):we(s)),Qe(s=>Ie(X({},e),{guardsResult:s})))})}function zfe(n,t,e,i){return tn(n).pipe(Kn(r=>Ffe(r.component,r.route,e,t,i)),Zs(r=>r!==!0,!0))}function kfe(n,t,e,i){return tn(t).pipe(ro(r=>pl(Pfe(r.route.parent,i),Nfe(r.route,i),Rfe(n,r.path,e),Ofe(n,r.route,e))),Zs(r=>r!==!0,!0))}function Nfe(n,t){return n!==null&&t&&t(new T9(n)),we(!0)}function Pfe(n,t){return n!==null&&t&&t(new w9(n)),we(!0)}function Ofe(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return we(!0);let r=i.map(o=>$s(()=>{let a=B6(t)??e,s=V6(o,a),l=Tfe(s)?s.canActivate(t,n):er(a,()=>s(t,n));return f2(l).pipe(Zs())}));return we(r).pipe(F6())}function Rfe(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>xfe(a)).filter(a=>a!==null).map(a=>$s(()=>{let s=a.guards.map(l=>{let c=B6(a.node)??e,u=V6(l,c),d=Efe(u)?u.canActivateChild(i,n):er(c,()=>u(i,n));return f2(d).pipe(Zs())});return we(s).pipe(F6())}));return we(o).pipe(F6())}function Ffe(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return we(!0);let a=o.map(s=>{let l=B6(t)??r,c=V6(s,l),u=Dfe(c)?c.canDeactivate(n,t,e,i):er(l,()=>c(n,t,e,i));return f2(u).pipe(Zs())});return we(a).pipe(F6())}function Bfe(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return we(!0);let o=r.map(a=>{let s=V6(a,n),l=Mfe(s)?s.canLoad(t,e):er(n,()=>s(t,e));return f2(l)});return we(o).pipe(F6(),hU(i))}function hU(n){return Ex(Hn(t=>{if(typeof t!="boolean")throw A9(n,t)}),Qe(t=>t===!0))}function Vfe(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return we(!0);let o=r.map(a=>{let s=V6(a,n),l=Ife(s)?s.canMatch(t,e):er(n,()=>s(t,e));return f2(l)});return we(o).pipe(F6(),hU(i))}var l5=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},c5=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function D6(n){return U1(new l5(n))}function Ufe(n){return U1(new se(4e3,!1))}function Hfe(n){return U1(fU(!1,fo.GuardRejected))}var MM=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return we(i);if(r.numberOfChildren>1||!r.children[xt])return Ufe(`${t.redirectTo}`);r=r.children[xt]}}applyRedirectCommands(t,e,i,r,o){return jfe(e,r,o).pipe(Qe(a=>{if(a instanceof as)throw new c5(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,i);if(a[0]==="/")throw new c5(s);return s}))}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new as(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,i,r)}),new cn(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new se(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function jfe(n,t,e){if(typeof n=="string")return we(n);let i=n,{queryParams:r,fragment:o,routeConfig:a,url:s,outlet:l,params:c,data:u,title:d}=t;return f2(er(e,()=>i({params:c,data:u,queryParams:r,fragment:o,routeConfig:a,url:s,outlet:l,title:d})))}var TM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gfe(n,t,e,i,r){let o=gU(n,t,e);return o.matched?(i=ffe(t,i),Vfe(i,t,e,r).pipe(Qe(a=>a===!0?o:X({},TM)))):we(o)}function gU(n,t,e){if(t.path==="**")return Wfe(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?X({},TM):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||WV)(e,n,t);if(!r)return X({},TM);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?X(X({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Wfe(n){return{matched:!0,parameters:n.length>0?$V(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function HV(n,t,e,i){return e.length>0&&Yfe(n,e,i)?{segmentGroup:new cn(t,$fe(i,new cn(e,n.children))),slicedSegments:[]}:e.length===0&&Zfe(n,e,i)?{segmentGroup:new cn(n.segments,qfe(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new cn(n.segments,n.children),slicedSegments:e}}function qfe(n,t,e,i){let r={};for(let o of e)if(N9(n,t,o)&&!i[C1(o)]){let a=new cn([],{});r[C1(o)]=a}return X(X({},i),r)}function $fe(n,t){let e={};e[xt]=t;for(let i of n)if(i.path===""&&C1(i)!==xt){let r=new cn([],{});e[C1(i)]=r}return e}function Yfe(n,t,e){return e.some(i=>N9(n,t,i)&&C1(i)!==xt)}function Zfe(n,t,e){return e.some(i=>N9(n,t,i))}function N9(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Xfe(n,t,e){return t.length===0&&!n.children[e]}var EM=class{};function Qfe(n,t,e,i,r,o,a="emptyOnly"){return new DM(n,t,e,i,r,a,o).recognize()}var Kfe=31,DM=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new MM(this.urlSerializer,this.urlTree)}noMatchError(t){return new se(4002,`'${t.segmentGroup}'`)}recognize(){let t=HV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Qe(({children:e,rootSnapshot:i})=>{let r=new oa(i,e),o=new a5("",r),a=nU(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let e=new kc([],Object.freeze({}),Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),xt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,xt,e).pipe(Qe(i=>({children:i,rootSnapshot:e})),Vt(i=>{if(i instanceof c5)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof l5?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(Qe(a=>a instanceof oa?[a]:[]))}processChildren(t,e,i,r){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return tn(o).pipe(ro(a=>{let s=i.children[a],l=pfe(e,a);return this.processSegmentGroup(t,l,s,a,r)}),Nx((a,s)=>(a.push(...s),a)),ml(null),kx(),Kn(a=>{if(a===null)return D6(i);let s=vU(a);return Jfe(s),we(s)}))}processSegment(t,e,i,r,o,a,s){return tn(e).pipe(ro(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,o,a,s).pipe(Vt(c=>{if(c instanceof l5)return we(null);throw c}))),Zs(l=>!!l),Vt(l=>{if(mU(l))return Xfe(i,r,o)?we(new EM):D6(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,o,a,s,l){return C1(i)!==a&&(a===xt||!N9(r,o,i))?D6(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,a,l):D6(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a,s){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=gU(e,r,o);if(!l)return D6(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kfe&&(this.allowRedirects=!1));let p=new kc(o,c,Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,jV(r),C1(r),r.component??r._loadedComponent??null,r,GV(r)),v=L9(p,s,this.paramsInheritanceStrategy);return p.params=Object.freeze(v.params),p.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,p,t).pipe(Un(b=>this.applyRedirects.lineralizeSegments(r,b)),Kn(b=>this.processSegment(t,i,e,b.concat(f),a,!1,s)))}matchSegmentAgainstRoute(t,e,i,r,o,a){let s=Gfe(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(Un(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Un(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:p}=l,v=new kc(f,d,Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,jV(i),C1(i),i.component??i._loadedComponent??null,i,GV(i)),_=L9(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(_.params),v.data=Object.freeze(_.data);let{segmentGroup:b,slicedSegments:C}=HV(e,f,p,c);if(C.length===0&&b.hasChildren())return this.processChildren(u,c,b,v).pipe(Qe(E=>new oa(v,E)));if(c.length===0&&C.length===0)return we(new oa(v,[]));let w=C1(i)===o;return this.processSegment(u,c,b,C,w?xt:o,!0,v).pipe(Qe(E=>new oa(v,E instanceof oa?[E]:[])))}))):D6(e)))}getChildConfig(t,e,i){return e.children?we({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?we({routes:e._loadedRoutes,injector:e._loadedInjector}):Bfe(t,e,i,this.urlSerializer).pipe(Kn(r=>r?this.configLoader.loadChildren(t,e).pipe(Hn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Hfe(e))):we({routes:[],injector:t})}};function Jfe(n){n.sort((t,e)=>t.value.outlet===xt?-1:e.value.outlet===xt?1:t.value.outlet.localeCompare(e.value.outlet))}function e5e(n){let t=n.value.routeConfig;return t&&t.path===""}function vU(n){let t=[],e=new Set;for(let i of n){if(!e5e(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=vU(i.children);t.push(new oa(i.value,r))}return t.filter(i=>!e.has(i))}function jV(n){return n.data||{}}function GV(n){return n.resolve||{}}function t5e(n,t,e,i,r,o){return Kn(a=>Qfe(n,t,e,i,a.extractedUrl,r,o).pipe(Qe(({state:s,tree:l})=>Ie(X({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function n5e(n,t){return Kn(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return we(e);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of yU(l))a.add(c);let s=0;return tn(a).pipe(ro(l=>o.has(l)?i5e(l,i,n,t):(l.data=L9(l,l.parent,n).resolve,we(void 0))),Hn(()=>s++),q4(1),Kn(l=>s===a.size?we(e):Bi))})}function yU(n){let t=n.children.map(e=>yU(e)).flat();return[n,...t]}function i5e(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!cU(r)&&(o[u5]=r.title),$s(()=>(n.data=L9(n,n.parent,e).resolve,r5e(o,n,t,i).pipe(Qe(a=>(n._resolvedData=a,n.data=X(X({},n.data),a),null)))))}function r5e(n,t,e,i){let r=gM(n);if(r.length===0)return we({});let o={};return tn(r).pipe(Kn(a=>o5e(n[a],t,e,i).pipe(Zs(),Hn(s=>{if(s instanceof R6)throw A9(new Pl,s);o[a]=s}))),q4(1),Qe(()=>o),Vt(a=>mU(a)?Bi:U1(a)))}function o5e(n,t,e,i){let r=B6(t)??i,o=V6(n,r),a=o.resolve?o.resolve(t,e):er(r,()=>o(t,e));return f2(a)}function mM(n){return Un(t=>{let e=n(t);return e?tn(e).pipe(Qe(()=>t)):we(t)})}var kM=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===xt);return i}getResolvedTitleForRoute(e){return e.data[u5]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:()=>B(_U),providedIn:"root"})}return n})(),_U=(()=>{class n extends kM{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ae(u9))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fl=new ue("",{providedIn:"root",factory:()=>({})}),Rc=new ue(""),P9=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=B(_w);loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return we(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=f2(er(e,()=>i.loadComponent())).pipe(Qe(xU),Un(CU),Hn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),hl(()=>{this.componentLoaders.delete(i)})),o=new V4(r,()=>new me).pipe(B4());return this.componentLoaders.set(i,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return we({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=bU(i,this.compiler,e,this.onLoadEndListener).pipe(hl(()=>{this.childrenLoaders.delete(i)})),a=new V4(o,()=>new me).pipe(B4());return this.childrenLoaders.set(i,a),a}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bU(n,t,e,i){return f2(er(e,()=>n.loadChildren())).pipe(Qe(xU),Un(CU),Kn(r=>r instanceof wh||Array.isArray(r)?we(r):tn(t.compileModuleAsync(r))),Qe(r=>{i&&i(n);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(Rc,[],{optional:!0,self:!0}).flat()),{routes:a.map(zM),injector:o}}))}function a5e(n){return n&&typeof n=="object"&&"default"in n}function xU(n){return a5e(n)?n.default:n}function CU(n){return we(n)}var O9=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:()=>B(s5e),providedIn:"root"})}return n})(),s5e=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NM=new ue(""),PM=new ue("");function SU(n,t,e){let i=n.get(PM),r=n.get(Me);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,a=new Promise(c=>{o=c}),s=r.startViewTransition(()=>(o(),l5e(n)));s.ready.catch(c=>{});let{onViewTransitionCreated:l}=i;return l&&er(n,()=>l({transition:s,from:t,to:e})),a}function l5e(n){return new Promise(t=>{Ai({read:()=>setTimeout(t)},{injector:n})})}var OM=new ue(""),R9=(()=>{class n{currentNavigation=fn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new me;transitionAbortWithErrorSubject=new me;configLoader=B(P9);environmentInjector=B(In);destroyRef=B(yr);urlSerializer=B(Pc);rootContexts=B(Oc);location=B(is);inputBindingEnabled=B(f5,{optional:!0})!==null;titleStrategy=B(kM);options=B(Fl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=B(O9);createViewTransition=B(NM,{optional:!0});navigationErrorHandler=B(OM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>we(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new C9(r)),i=r=>this.events.next(new S9(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Hi(()=>{this.transitions?.next(Ie(X({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(e){return this.transitions=new Vn(null),this.transitions.pipe(et(i=>i!==null),Un(i=>{let r=!1;return we(i).pipe(Un(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",fo.SupersededByNewNavigation),Bi;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(X({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new ss(o.id,this.urlSerializer.serialize(o.rawUrl),"",k6.IgnoredSameUrlNavigation)),o.resolve(!1),Bi;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return we(o).pipe(Un(l=>(this.events.next(new Rl(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Bi:Promise.resolve(l))),t5e(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Hn(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=l.urlAfterRedirects,u));let c=new i5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:d,extras:f}=o,p=new Rl(l,this.urlSerializer.serialize(c),u,d);this.events.next(p);let v=sU(this.rootComponentType).snapshot;return this.currentTransition=i=Ie(X({},o),{targetSnapshot:v,urlAfterRedirects:c,extras:Ie(X({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=c,_)),we(i)}else return this.events.next(new ss(o.id,this.urlSerializer.serialize(o.extractedUrl),"",k6.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Bi}),Hn(o=>{let a=new y9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Qe(o=>(this.currentTransition=i=Ie(X({},o),{guards:bfe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),Afe(this.environmentInjector,o=>this.events.next(o)),Hn(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw A9(this.urlSerializer,o.guardsResult);let a=new _9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),et(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",fo.GuardRejected),!1)),mM(o=>{if(o.guards.canActivateChecks.length!==0)return we(o).pipe(Hn(a=>{let s=new b9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),Un(a=>{let s=!1;return we(a).pipe(n5e(this.paramsInheritanceStrategy,this.environmentInjector),Hn({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",fo.NoDataFromResolver)}}))}),Hn(a=>{let s=new x9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),mM(o=>{let a=s=>{let l=[];if(s.routeConfig?.loadComponent){let c=B6(s)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,s.routeConfig).pipe(Hn(u=>{s.component=u}),Qe(()=>{})))}for(let c of s.children)l.push(...a(c));return l};return dc(a(o.targetSnapshot.root)).pipe(ml(null),Nt(1))}),mM(()=>this.afterPreactivation()),Un(()=>{let{currentSnapshot:o,targetSnapshot:a}=i,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?tn(s).pipe(Qe(()=>i)):we(i)}),Qe(o=>{let a=hfe(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=Ie(X({},o),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),i}),Hn(()=>{this.events.next(new r5)}),_fe(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Nt(1),nn(new ut(o=>{let a=i.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(et(()=>!r&&!i.targetRouterState),Hn(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",fo.Aborted)}))),Hn({next:o=>{r=!0,this.lastSuccessfulNavigation=Hi(this.currentNavigation),this.events.next(new po(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),nn(this.transitionAbortWithErrorSubject.pipe(Hn(o=>{throw o}))),hl(()=>{r||this.cancelNavigationTransition(i,"",fo.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Vt(o=>{if(this.destroyed)return i.resolve(!1),Bi;if(r=!0,pU(o))this.events.next(new os(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),yfe(o)?this.events.next(new O6(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let a=new N6(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let s=er(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof R6){let{message:l,cancellationCode:c}=A9(this.urlSerializer,s);this.events.next(new os(i.id,this.urlSerializer.serialize(i.extractedUrl),l,c)),this.events.next(new O6(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(s){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(s)}}return Bi}))}))}cancelNavigationTransition(e,i,r){let o=new os(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Hi(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function c5e(n){return n!==A6}var wU=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:()=>B(u5e),providedIn:"root"})}return n})(),k9=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},u5e=(()=>{class n extends k9{static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MU=(()=>{class n{urlSerializer=B(Pc);options=B(Fl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=B(is);urlHandlingStrategy=B(O9);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new as;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??o;return a instanceof as?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=sU(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:()=>B(d5e),providedIn:"root"})}return n})(),d5e=(()=>{class n extends MU{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Rl?this.updateStateMemento():e instanceof ss?this.commitTransition(i):e instanceof i5?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof r5?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof os&&e.code!==fo.SupersededByNewNavigation&&e.code!==fo.Redirect?this.restoreHistory(i):e instanceof N6?this.restoreHistory(i,!0):e instanceof po&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,l=X(X({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",l)}else{let s=X(X({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F9(n,t){n.events.pipe(et(e=>e instanceof po||e instanceof os||e instanceof N6||e instanceof ss),Qe(e=>e instanceof po||e instanceof ss?0:(e instanceof os?e.code===fo.Redirect||e.code===fo.SupersededByNewNavigation:!1)?2:1),et(e=>e!==2),Nt(1)).subscribe(()=>{t()})}var f5e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},p5e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=B(Eh);stateManager=B(MU);options=B(Fl,{optional:!0})||{};pendingTasks=B(X1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=B(R9);urlSerializer=B(Pc);location=B(is);urlHandlingStrategy=B(O9);injector=B(In);_events=new me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=B(wU);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=B(Rc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!B(f5,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Et;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=Hi(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof os&&i.code!==fo.Redirect&&i.code!==fo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof po)this.navigated=!0;else if(i instanceof O6){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=X({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||c5e(r.source)},a);this.scheduleNavigation(s,A6,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}dfe(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),A6,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=X({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o).catch(l=>{this.disposed||this.injector.get(Mo)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Hi(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(zM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u=X(X({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=r?r.snapshot:this.routerState.snapshot.root;d=iU(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return rU(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Ol(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,A6,null,i)}navigate(e,i={skipLocationChange:!1}){return m5e(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(xa(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=X({},f5e):i===!1?r=X({},p5e):r=i,Ol(e))return FV(this.currentUrlTree,e,r);let o=this.parseUrl(e);return FV(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,f)=>{s=d,l=f});let u=this.pendingTasks.add();return F9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m5e(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new se(4008,!1)}var Lo=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=fn(null);get href(){return Hi(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new me;applicationErrorHandler=B(Mo);options=B(Fl,{optional:!0});constructor(e,i,r,o,a,s){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(B(new Ph("href"),{optional:!0}));let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,i=r=>r==="merge"||r==="preserve";e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof po&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ol(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||i||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Ol(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(V(un),V(Nr),vf("tabindex"),V(li),V(at),V(b1))};static \u0275dir=Fe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&k("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Sn("href",r.reactiveHref(),RS)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ri],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ri],replaceUrl:[2,"replaceUrl","replaceUrl",ri],routerLink:"routerLink"},features:[rn]})}return n})(),FM=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new be;constructor(e,i,r,o,a){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof po&&this.update()})}ngAfterContentInit(){we(this.links.changes,we(null)).pipe(H1()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=tn(e).pipe(H1()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=h5e(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(V(un),V(at),V(li),V(bi),V(Lo,8))};static \u0275dir=Fe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Ic(o,Lo,5),i&2){let a;an(a=sn())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[rn]})}return n})();function h5e(n){return!!n.paths}var m5=class{};var TU=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(et(e=>e instanceof po),ro(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=y6(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return tn(r).pipe(H1())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=we(null);let o=r.pipe(Kn(a=>a===null?we(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(e,i);return tn([o,a]).pipe(H1())}else return o})}static \u0275fac=function(i){return new(i||n)(ae(un),ae(In),ae(m5),ae(P9))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EU=new ue(""),g5e=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=A6;restoredId=0;store={};constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Rl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof po?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ss&&e.code===k6.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof P6))return;let i={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,i):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>Jo(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new P6(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Sf()};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function BM(n,...t){return W1([{provide:Rc,multi:!0,useValue:n},[],{provide:Nr,useFactory:DU,deps:[un]},{provide:Ef,multi:!0,useFactory:IU},t.map(e=>e.\u0275providers)])}function DU(n){return n.routerState.root}function h5(n,t){return{\u0275kind:n,\u0275providers:t}}function IU(){let n=B(Ve);return t=>{let e=n.get(yi);if(t!==e.components[0])return;let i=n.get(un),r=n.get(LU);n.get(VM)===1&&i.initialNavigation(),n.get(kU,null,{optional:!0})?.setUpPreloading(),n.get(EU,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var LU=new ue("",{factory:()=>new me}),VM=new ue("",{providedIn:"root",factory:()=>1});function AU(){let n=[{provide:ph,useValue:!0},{provide:VM,useValue:0},Ih(()=>{let t=B(Ve);return t.get(kw,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(un),o=t.get(LU);F9(r,()=>{i(!0)}),t.get(R9).afterPreactivation=()=>(i(!0),o.closed?we(void 0):o),r.initialNavigation()}))})];return h5(2,n)}function zU(){let n=[Ih(()=>{B(un).setUpLocationChangeListener()}),{provide:VM,useValue:2}];return h5(3,n)}var kU=new ue("");function NU(n){return h5(0,[{provide:kU,useExisting:TU},{provide:m5,useExisting:n}])}function PU(){return h5(8,[LM,{provide:f5,useExisting:LM}])}function OU(n){Ta("NgRouterViewTransitions");let t=[{provide:NM,useValue:SU},{provide:PM,useValue:X({skipNextTransition:!!n?.skipInitialTransition},n)}];return h5(9,t)}var RU=[is,{provide:Pc,useClass:Pl},un,Oc,{provide:Nr,useFactory:DU,deps:[un]},P9,[]],Fc=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[RU,[],{provide:Rc,multi:!0,useValue:e},[],i?.errorHandler?{provide:OM,useValue:i.errorHandler}:[],{provide:Fl,useValue:i||{}},i?.useHash?y5e():_5e(),v5e(),i?.preloadingStrategy?NU(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?b5e(i):[],i?.bindToComponentInputs?PU().\u0275providers:[],i?.enableViewTransitions?OU().\u0275providers:[],x5e()]}}static forChild(e){return{ngModule:n,providers:[{provide:Rc,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({})}return n})();function v5e(){return{provide:EU,useFactory:()=>{let n=B(pV),t=B(Pe),e=B(Fl),i=B(R9),r=B(Pc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new g5e(r,i,n,t,e)}}}function y5e(){return{provide:b1,useClass:Vw}}function _5e(){return{provide:b1,useClass:Hh}}function b5e(n){return[n.initialNavigation==="disabled"?zU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?AU().\u0275providers:[]]}var RM=new ue("");function x5e(){return[{provide:RM,useFactory:IU},{provide:Ef,multi:!0,useExisting:RM}]}var ci="assets/images/default-avatar.png",FU="assets/images/default-multi-user.png";function B9(n,t){return`https://www.tradingview.com/chart/?symbol=${n}%3A${t}`}function BU(n){return`https://www.screener.in/company/${n}`}function VU(n,t){return`https://finance.yahoo.com/quote/${n}.${t}`}function g5(n){return`https://coin.zerodha.com/mf/fund/${n}`}var ZU=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(V(li),V(at))};static \u0275dir=Fe({type:n})}return n})(),G6=(()=>{class n extends ZU{static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,features:[on]})}return n})(),p2=new ue(""),C5e={provide:p2,useExisting:Ii(()=>m2),multi:!0},m2=(()=>{class n extends G6{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&k("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Jn([C5e]),on]})}return n})(),S5e={provide:p2,useExisting:Ii(()=>Yt),multi:!0};function w5e(){let n=ia()?ia().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var M5e=new ue(""),Yt=(()=>{class n extends ZU{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!w5e())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(V(li),V(at),V(M5e,8))};static \u0275dir=Fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&k("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[Jn([S5e]),on]})}return n})();function WM(n){return n==null||qM(n)===0}function qM(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Vl=new ue(""),Q9=new ue(""),T5e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ue=class{static min(t){return XU(t)}static max(t){return QU(t)}static required(t){return KU(t)}static requiredTrue(t){return E5e(t)}static email(t){return D5e(t)}static minLength(t){return I5e(t)}static maxLength(t){return JU(t)}static pattern(t){return L5e(t)}static nullValidator(t){return U9()}static compose(t){return oH(t)}static composeAsync(t){return sH(t)}};function XU(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function QU(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function KU(n){return WM(n.value)?{required:!0}:null}function E5e(n){return n.value===!0?null:{required:!0}}function D5e(n){return WM(n.value)||T5e.test(n.value)?null:{email:!0}}function I5e(n){return t=>{let e=t.value?.length??qM(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function JU(n){return t=>{let e=t.value?.length??qM(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function L5e(n){if(!n)return U9;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(WM(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function U9(n){return null}function eH(n){return n!=null}function tH(n){return Il(n)?tn(n):n}function nH(n){let t={};return n.forEach(e=>{t=e!=null?X(X({},t),e):t}),Object.keys(t).length===0?null:t}function iH(n,t){return t.map(e=>e(n))}function A5e(n){return!n.validate}function rH(n){return n.map(t=>A5e(t)?t:e=>t.validate(e))}function oH(n){if(!n)return null;let t=n.filter(eH);return t.length==0?null:function(e){return nH(iH(e,t))}}function aH(n){return n!=null?oH(rH(n)):null}function sH(n){if(!n)return null;let t=n.filter(eH);return t.length==0?null:function(e){let i=iH(e,t).map(tH);return Hd(i).pipe(Qe(nH))}}function lH(n){return n!=null?sH(rH(n)):null}function UU(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function cH(n){return n._rawValidators}function uH(n){return n._rawAsyncValidators}function UM(n){return n?Array.isArray(n)?n:[n]:[]}function H9(n,t){return Array.isArray(n)?n.includes(t):n===t}function HU(n,t){let e=UM(t);return UM(n).forEach(r=>{H9(e,r)||e.push(r)}),e}function jU(n,t){return UM(t).filter(e=>!H9(n,e))}var j9=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=aH(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=lH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Vc=class extends j9{name;get formDirective(){return null}get path(){return null}},cs=class extends j9{_parent=null;name=null;valueAccessor=null},G9=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},z5e={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rnt=Ie(X({},z5e),{"[class.ng-submitted]":"isSubmitted"}),Zt=(()=>{class n extends G9{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(V(cs,2))};static \u0275dir=Fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Te("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[on]})}return n})(),Pr=(()=>{class n extends G9{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(V(Vc,10))};static \u0275dir=Fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Te("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[on]})}return n})();var v5="VALID",V9="INVALID",U6="PENDING",y5="DISABLED",Bl=class{},W9=class extends Bl{value;source;constructor(t,e){super(),this.value=t,this.source=e}},_5=class extends Bl{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},b5=class extends Bl{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},H6=class extends Bl{status;source;constructor(t,e){super(),this.status=t,this.source=e}},HM=class extends Bl{source;constructor(t){super(),this.source=t}},x5=class extends Bl{source;constructor(t){super(),this.source=t}};function $M(n){return(K9(n)?n.validators:n)||null}function k5e(n){return Array.isArray(n)?aH(n):n||null}function YM(n,t){return(K9(t)?t.asyncValidators:n)||null}function N5e(n){return Array.isArray(n)?lH(n):n||null}function K9(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dH(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new se(1e3,"");if(!i[e])throw new se(1001,"")}function fH(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new se(1002,"")})}var j6=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Hi(this.statusReactive)}set status(t){Hi(()=>this.statusReactive.set(t))}_status=c2(()=>this.statusReactive());statusReactive=fn(void 0);get valid(){return this.status===v5}get invalid(){return this.status===V9}get pending(){return this.status==U6}get disabled(){return this.status===y5}get enabled(){return this.status!==y5}errors;get pristine(){return Hi(this.pristineReactive)}set pristine(t){Hi(()=>this.pristineReactive.set(t))}_pristine=c2(()=>this.pristineReactive());pristineReactive=fn(!0);get dirty(){return!this.pristine}get touched(){return Hi(this.touchedReactive)}set touched(t){Hi(()=>this.touchedReactive.set(t))}_touched=c2(()=>this.touchedReactive());touchedReactive=fn(!1);get untouched(){return!this.touched}_events=new me;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(HU(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(HU(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(jU(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(jU(t,this._rawAsyncValidators))}hasValidator(t){return H9(this._rawValidators,t)}hasAsyncValidator(t){return H9(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ie(X({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new b5(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new b5(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ie(X({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new _5(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new _5(!0,i))}markAsPending(t={}){this.status=U6;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new H6(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ie(X({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=y5,this.errors=null,this._forEachChild(r=>{r.disable(Ie(X({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new W9(this.value,i)),this._events.next(new H6(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(X({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=v5,this._forEachChild(i=>{i.enable(Ie(X({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ie(X({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===v5||this.status===U6)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new W9(this.value,e)),this._events.next(new H6(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ie(X({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?y5:v5}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=U6,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=tH(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new H6(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?y5:this.errors?V9:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(U6)?U6:this._anyControlsHaveStatus(V9)?V9:v5}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new _5(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new b5(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){K9(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=k5e(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=N5e(this._rawAsyncValidators)}},q9=class extends j6{constructor(t,e,i){super($M(e),YM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){fH(this,!0,t),Object.keys(t).forEach(i=>{dH(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new x5(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var jM=class extends q9{};var W6=new ue("",{providedIn:"root",factory:()=>C5}),C5="always";function pH(n,t){return[...t.path,n]}function $9(n,t,e=C5){ZM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),O5e(n,t),F5e(n,t),R5e(n,t),P5e(n,t)}function Y9(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),X9(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Z9(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function P5e(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function ZM(n,t){let e=cH(n);t.validator!==null?n.setValidators(UU(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=uH(n);t.asyncValidator!==null?n.setAsyncValidators(UU(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Z9(t._rawValidators,r),Z9(t._rawAsyncValidators,r)}function X9(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=cH(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=uH(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Z9(t._rawValidators,i),Z9(t._rawAsyncValidators,i),e}function O5e(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&mH(n,t)})}function R5e(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&mH(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function mH(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F5e(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function B5e(n,t){n==null,ZM(n,t)}function V5e(n,t){return X9(n,t)}function XM(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function U5e(n){return Object.getPrototypeOf(n.constructor)===G6}function H5e(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function QM(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Yt?e=o:U5e(o)?i=o:r=o}),r||i||e||null}function j5e(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function GU(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function WU(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Bc=class extends j6{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super($M(e),YM(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K9(e)&&(e.nonNullable||e.initialValueIsDefault)&&(WU(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new x5(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GU(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GU(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){WU(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var G5e=n=>n instanceof Bc;var W5e={provide:cs,useExisting:Ii(()=>Gi)},qU=Promise.resolve(),Gi=(()=>{class n extends cs{_changeDetectorRef;callSetDisabledState;control=new Bc;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(e,i,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=QM(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),XM(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$9(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){qU.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&ri(i);qU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?pH(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(V(Vc,9),V(Vl,10),V(Q9,10),V(p2,10),V(bi,8),V(W6,8))};static \u0275dir=Fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Jn([W5e]),on,rn]})}return n})();var Or=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),q5e={provide:p2,useExisting:Ii(()=>Uc),multi:!0},Uc=(()=>{class n extends G6{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&k("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Jn([q5e]),on]})}return n})(),$5e={provide:p2,useExisting:Ii(()=>S5),multi:!0};var Y5e=(()=>{class n{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S5=(()=>{class n extends G6{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=B(W6,{optional:!0})??C5;constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(cs),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(V(li),V(at),V(Y5e),V(Ve))};static \u0275dir=Fe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&k("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Jn([$5e]),on]})}return n})();var KM=new ue(""),Z5e={provide:cs,useExisting:Ii(()=>JM)},JM=(()=>{class n extends cs{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new be;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=QM(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&Y9(i,this,!1),$9(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}XM(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Y9(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(V(Vl,10),V(Q9,10),V(p2,10),V(KM,8),V(W6,8))};static \u0275dir=Fe({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Jn([Z5e]),on,rn]})}return n})(),X5e={provide:Vc,useExisting:Ii(()=>_r)},_r=(()=>{class n extends Vc{callSetDisabledState;get submitted(){return Hi(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=c2(()=>this._submittedReactive());_submittedReactive=fn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new be;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(X9(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return $9(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Y9(e.control||null,e,!1),j5e(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),H5e(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new HM(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Y9(i||null,e),G5e(r)&&($9(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);B5e(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&V5e(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ZM(this.form,this),this._oldForm&&X9(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(V(Vl,10),V(Q9,10),V(W6,8))};static \u0275dir=Fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&k("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Jn([X5e]),on,rn]})}return n})();var Q5e={provide:cs,useExisting:Ii(()=>br)},br=(()=>{class n extends cs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new be;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=QM(this,o)}ngOnChanges(e){this._added||this._setUpControl(),XM(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return pH(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(V(Vc,13),V(Vl,10),V(Q9,10),V(p2,10),V(KM,8))};static \u0275dir=Fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Jn([Q5e]),on,rn]})}return n})();var K5e={provide:p2,useExisting:Ii(()=>Ao),multi:!0};function hH(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function J5e(n){return n.split(":")[0]}var Ao=(()=>{class n extends G6{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=B(yi).injector;destroyRef=B(yr);cdr=B(bi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Ai({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=hH(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=J5e(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&k("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Jn([K5e]),on]})}return n})(),Ia=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(hH(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(V(at),V(li),V(Ao,9))};static \u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),e8e={provide:p2,useExisting:Ii(()=>gH),multi:!0};function $U(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function t8e(n){return n.split(":")[0]}var gH=(()=>{class n extends G6{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);r.push(c)}}else{let a=i.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=t8e(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&k("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Jn([e8e]),on]})}return n})(),La=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue($U(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue($U(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(V(at),V(li),V(gH,9))};static \u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function n8e(n){return typeof n=="number"?n:parseInt(n,10)}function vH(n){return typeof n=="number"?n:parseFloat(n)}var J9=(()=>{class n{_validator=U9;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):U9,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,features:[rn]})}return n})(),i8e={provide:Vl,useExisting:Ii(()=>eT),multi:!0},eT=(()=>{class n extends J9{max;inputName="max";normalizeInput=e=>vH(e);createValidator=e=>QU(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Sn("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[Jn([i8e]),on]})}return n})(),r8e={provide:Vl,useExisting:Ii(()=>Hc),multi:!0},Hc=(()=>{class n extends J9{min;inputName="min";normalizeInput=e=>vH(e);createValidator=e=>XU(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Sn("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Jn([r8e]),on]})}return n})(),o8e={provide:Vl,useExisting:Ii(()=>mo),multi:!0};var mo=(()=>{class n extends J9{required;inputName="required";normalizeInput=ri;createValidator=e=>KU;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Sn("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Jn([o8e]),on]})}return n})();var a8e={provide:Vl,useExisting:Ii(()=>jc),multi:!0},jc=(()=>{class n extends J9{maxlength;inputName="maxlength";normalizeInput=e=>n8e(e);createValidator=e=>JU(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275dir=Fe({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Sn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Jn([a8e]),on]})}return n})();var yH=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({})}return n})(),GM=class extends j6{constructor(t,e,i){super($M(e),YM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){fH(this,!1,t),t.forEach((i,r)=>{dH(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new x5(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function YU(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Rr=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return YU(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new q9(r,o)}record(e,i=null){let r=this._reduceControls(e);return new jM(r,i)}control(e,i,r){let o={};return this.useNonNullable?(YU(i)?o=i:(o.validators=i,o.asyncValidators=r),new Bc(e,Ie(X({},o),{nonNullable:!0}))):new Bc(e,i,r)}array(e,i,r){let o=e.map(a=>this._createControl(a));return new GM(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof Bc)return e;if(e instanceof j6)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:W6,useValue:e.callSetDisabledState??C5}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({imports:[yH]})}return n})(),ui=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:KM,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:W6,useValue:e.callSetDisabledState??C5}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({imports:[yH]})}return n})();var Ul=(()=>{let t=class t{constructor(){this.config={};let i=window.location.hostname;this.environment=i==="localhost"?"dev":"prod"}loadConfig(){this.config={dev:{baseUrl:"http://localhost:8090/rest",wsUrl:"http://localhost:8090/ws"},prod:{baseUrl:"/rest",wsUrl:"/ws"}}}getConfig(){return this.config[this.environment]}getEnvironment(){return this.environment}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Bt=(()=>{let t=class t{constructor(i,r){this.http=i,this.appProperties=r,this.baseUrl="",this.baseUrl=this.appProperties.getConfig().baseUrl}formatErrors(i){return U1(()=>i)}get(i,r={}){return this.http.get(`${this.baseUrl}${i}`,r).pipe(Vt(this.formatErrors))}post(i,r={},o={}){return console.log(`API POST: ${this.baseUrl}${i}`,r),this.http.post(`${this.baseUrl}${i}`,r,o).pipe(Vt(this.formatErrors))}put(i,r={},o={}){return this.http.put(`${this.baseUrl}${i}`,r,o).pipe(Vt(this.formatErrors))}delete(i,r={}){return this.http.delete(`${this.baseUrl}${i}`,r).pipe(Vt(this.formatErrors))}patch(i,r={},o={}){return this.http.patch(`${this.baseUrl}${i}`,r,o).pipe(Vt(this.formatErrors))}};t.\u0275fac=function(r){return new(r||t)(ae(kl),ae(Ul))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var tr=(()=>{let t=class t{constructor(i){this.api=i}onboardTradingAccount(i){return this.api.post("/v1/accounts",i)}updateTradingAccount(i,r){return this.api.put(`/v1/accounts/${i}`,r)}deleteTradingAccount(i){return this.api.delete(`/v1/accounts/${i}`)}unmapTradingAccount(i){return this.api.patch(`/v1/accounts/${i}/unmap`)}mapTradingAccount(i){return this.api.patch(`/v1/accounts/${i}/map`)}getTradingAccount(i){return this.api.get(`/v1/accounts/${i}`)}getTradingAccounts(){return this.api.get("/v1/accounts/profiles")}renewTokensForAll(){return this.api.post("/v1/accounts/renew-request-tokens")}getTotp(i){return this.api.get(`/v1/accounts/${i}/totp`)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Tn=(()=>{let t=class t{constructor(){this.key="userDataState"}getState(){let i=localStorage.getItem(this.key);return JSON.parse(i||"{}")}setState(i){let r=this.getState(),o=X(X({},r),i);localStorage.setItem(this.key,JSON.stringify(o))}clearState(){localStorage.removeItem(this.key)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function s8e(n,t){if(n&1&&(m(0,"div",1),F(1,"img",10),h()),n&2){let e=t.$implicit,i=M(2);g(),x("ngSrc",i.getAvatarUrl(e)||i.fallbackAvatarUrl)("alt",i.getUserName(e))("title",i.getUserName(e))}}function l8e(n,t){if(n&1&&(m(0,"div",1),F(1,"img",11),h()),n&2){let e=M(2);g(),x("ngSrc",e.multiUserAvatarUrl)}}function c8e(n,t){if(n&1&&(m(0,"span",12),y(1),h()),n&2){let e=M(2);g(),q(" ",e.selectedUserIds.length," ")}}function u8e(n,t){n&1&&(m(0,"span",24),y(1,"\u2713"),h())}function d8e(n,t){n&1&&(m(0,"div",25),y(1," No users found "),h())}function f8e(n,t){n&1&&(m(0,"div",34),y(1," Token Invalid "),h())}function p8e(n,t){n&1&&(m(0,"span",35),y(1,"\u2713"),h())}function m8e(n,t){if(n&1){let e=ee();m(0,"div",26)(1,"button",27),k("click",function(){let r=N(e).$implicit,o=M(3);return P(o.toggleUserSelection(r.userId))}),F(2,"img",28),m(3,"div",29)(4,"div",30),y(5),h(),m(6,"div",31),y(7),h(),A(8,f8e,2,0,"div",32),h(),A(9,p8e,2,0,"span",33),h()()}if(n&2){let e=t.$implicit,i=M(3);g(),Te("bg-blue-50",i.selectedUserIds.includes(e.userId))("text-blue-600",i.selectedUserIds.includes(e.userId))("opacity-50",e.tokenStatus!=="Valid")("cursor-not-allowed",e.tokenStatus!=="Valid"),g(),x("ngSrc",(e.profile==null?null:e.profile.avatarURL)||i.fallbackAvatarUrl)("alt",e.name),g(3),j((e.profile==null?null:e.profile.userName)||e.name),g(2),j(e.userId),g(),x("ngIf",e.tokenStatus!=="Valid"),g(),x("ngIf",i.selectedUserIds.includes(e.userId))}}function h8e(n,t){if(n&1){let e=ee();m(0,"div",13)(1,"div",14)(2,"input",15),bt("ngModelChange",function(r){N(e);let o=M(2);return Mt(o.searchTerm,r)||(o.searchTerm=r),P(r)}),k("input",function(){N(e);let r=M(2);return P(r.onSearchChange())}),h()(),m(3,"div",16)(4,"button",17),k("click",function(){N(e);let r=M(2);return P(r.onAllUserClick())}),F(5,"img",18),m(6,"span",19),y(7,"All Accounts"),h(),A(8,u8e,2,0,"span",20),h()(),m(9,"div",21),A(10,d8e,2,0,"div",22)(11,m8e,10,14,"div",23),h()()}if(n&2){let e=M(2);g(2),_t("ngModel",e.searchTerm),g(2),Te("bg-blue-50",e.selectedUserIds.length===0)("text-blue-600",e.selectedUserIds.length===0),g(),x("ngSrc",e.multiUserAvatarUrl),g(3),x("ngIf",e.selectedUserIds.length===0),g(2),x("ngIf",e.getFilteredUsers().length===0),g(),x("ngForOf",e.getFilteredUsers())}}function g8e(n,t){if(n&1){let e=ee();m(0,"div",36),k("click",function(){N(e);let r=M(2);return P(r.closeDropdown())}),h()}}function v8e(n,t){if(n&1){let e=ee();m(0,"div",1)(1,"button",2),k("click",function(){N(e);let r=M();return P(r.toggleDropdown())}),m(2,"div",3),A(3,s8e,2,3,"div",4)(4,l8e,2,1,"div",0),h(),m(5,"span"),y(6),h(),A(7,c8e,2,1,"span",5),Ut(),m(8,"svg",6),F(9,"path",7),h()(),A(10,h8e,12,9,"div",8)(11,g8e,1,0,"div",9),h()}if(n&2){let e=M();g(),Te("border-blue-500",e.selectedUserIds.length>0)("border-gray-300",e.selectedUserIds.length===0)("bg-blue-50",e.selectedUserIds.length>0)("ring-2",e.selectedUserIds.length>0)("ring-blue-200",e.selectedUserIds.length>0),g(2),x("ngForOf",e.getDisplayUserIds()),g(),x("ngIf",e.selectedUserIds.length===0),g(),Te("text-blue-600",e.selectedUserIds.length>0)("font-medium",e.selectedUserIds.length>0)("text-gray-700",e.selectedUserIds.length===0),g(),q(" ",e.getSelectionText()," "),g(),x("ngIf",e.selectedUserIds.length>0),g(),Te("text-blue-600",e.selectedUserIds.length>0)("text-gray-400",e.selectedUserIds.length===0)("rotate-180",e.isDropdownOpen),g(2),x("ngIf",e.isDropdownOpen),g(),x("ngIf",e.isDropdownOpen)}}var nr=(()=>{let t=class t{constructor(i,r){this.userService=i,this.userDataStateService=r,this.users=[],this.filteredUsers=[],this.selectedUserIds=[],this.selectAllUsers=new be,this.selectUsers=new be,this.totalUsers=new be,this.isDropdownOpen=!1,this.searchTerm="",this.maxDisplayAvatars=3,this.fallbackAvatarUrl=ci,this.multiUserAvatarUrl=FU}ngOnInit(){this.fetchTradingAccounts()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.users&&(this.users=i.users,this.filteredUsers=[...this.users],this.totalUsers.emit(this.users))}setCachedData(){this.userDataStateService.setState({users:this.users})}fetchTradingAccounts(){this.getCachedData(),this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data.filter(r=>r.active),this.filteredUsers=[...this.users],this.totalUsers.emit(i.data),this.setCachedData()}})}onAllUserClick(){this.selectedUserIds=[],this.selectAllUsers.emit(),this.closeDropdown()}toggleUserSelection(i){this.getUserByUserId(i)?.tokenStatus==="Valid"&&(this.selectedUserIds.includes(i)?this.selectedUserIds=this.selectedUserIds.filter(r=>r!==i):this.selectedUserIds.push(i),this.selectUsers.emit(this.selectedUserIds))}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&(this.searchTerm="",this.filteredUsers=[...this.users])}closeDropdown(){this.isDropdownOpen=!1,this.searchTerm=""}onSearchChange(){let i=this.searchTerm.toLowerCase().trim();i?this.filteredUsers=this.users.filter(r=>r.name.toLowerCase().includes(i)||r.userId.toLowerCase().includes(i)):this.filteredUsers=[...this.users]}clearSelection(){this.selectedUserIds=[],this.selectUsers.emit(this.selectedUserIds)}getFilteredUsers(){return this.filteredUsers}getDisplayUserIds(){return this.selectedUserIds.slice(0,this.maxDisplayAvatars)}getSelectionText(){return this.selectedUserIds.length===0?"All Accounts":this.selectedUserIds.length===1?this.getUserByUserId(this.selectedUserIds[0])?.name||this.selectedUserIds[0]:"Users Selected"}getAvatarUrl(i){return this.getUserByUserId(i)?.profile?.avatarURL||null}getUserName(i){return this.getUserByUserId(i)?.name||i}getUserByUserId(i){return this.users.find(r=>r.userId===i)}};t.\u0275fac=function(r){return new(r||t)(V(tr),V(Tn))},t.\u0275cmp=ie({type:t,selectors:[["app-user-filter"]],inputs:{selectedUserIds:"selectedUserIds"},outputs:{selectAllUsers:"selectAllUsers",selectUsers:"selectUsers",totalUsers:"totalUsers"},decls:1,vars:1,consts:[["class","relative",4,"ngIf"],[1,"relative"],[1,"flex","items-center","gap-2","px-3","py-2","border","rounded-md","bg-white","hover:bg-gray-50","focus:outline-none","text-sm","transition-all",3,"click"],[1,"flex","-space-x-2"],["class","relative",4,"ngFor","ngForOf"],["class","flex items-center justify-center w-5 h-5 bg-blue-600 text-white text-xs font-semibold rounded-full",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-96 overflow-hidden",4,"ngIf"],["class","fixed inset-0 z-40",3,"click",4,"ngIf"],["width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc","alt","title"],["alt","All Accounts","width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc"],[1,"flex","items-center","justify-center","w-5","h-5","bg-blue-600","text-white","text-xs","font-semibold","rounded-full"],[1,"absolute","right-0","mt-2","w-80","bg-white","border","border-gray-200","rounded-md","shadow-lg","z-50","max-h-96","overflow-hidden"],[1,"p-3","border-b","border-gray-200"],["type","text","placeholder","Search users...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-100","focus:border-blue-100","text-sm",3,"ngModelChange","input","ngModel"],[1,"p-2","border-b","border-gray-200","space-y-1"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-2",3,"click"],["alt","All Accounts","width","24","height","24",1,"w-6","h-6","rounded-full","object-cover",3,"ngSrc"],[1,"font-medium"],["class","ml-auto text-blue-600",4,"ngIf"],[1,"max-h-60","overflow-y-auto"],["class","p-4 text-center text-gray-500 text-sm",4,"ngIf"],["class","p-2",4,"ngFor","ngForOf"],[1,"ml-auto","text-blue-600"],[1,"p-4","text-center","text-gray-500","text-sm"],[1,"p-2"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-3",3,"click"],["width","32","height","32",1,"w-8","h-8","rounded-full","object-cover","flex-shrink-0",3,"ngSrc","alt"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-700","truncate"],[1,"text-xs","text-gray-500","truncate"],["class","text-xs text-red-500",4,"ngIf"],["class","text-blue-600 flex-shrink-0",4,"ngIf"],[1,"text-xs","text-red-500"],[1,"text-blue-600","flex-shrink-0"],[1,"fixed","inset-0","z-40",3,"click"]],template:function(r,o){r&1&&A(0,v8e,12,28,"div",0),r&2&&x("ngIf",o.users.length>1)},dependencies:[We,ze,ye,kr,pn,Yt,Zt,Gi],styles:[".selected-user-filter[_ngcontent-%COMP%]{color:#007bff}"]});let n=t;return n})();function y8e(n,t,e){return(t=b8e(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _H(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function xe(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_H(Object(e),!0).forEach(function(i){y8e(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_H(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function _8e(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function b8e(n){var t=_8e(n,"string");return typeof t=="symbol"?t:t+""}var bH=()=>{},wT={},qH={},$H=null,YH={mark:bH,measure:bH};try{typeof window<"u"&&(wT=window),typeof document<"u"&&(qH=document),typeof MutationObserver<"u"&&($H=MutationObserver),typeof performance<"u"&&(YH=performance)}catch{}var{userAgent:xH=""}=wT.navigator||{},jl=wT,Yn=qH,CH=$H,eg=YH,ynt=!!jl.document,y2=!!Yn.documentElement&&!!Yn.head&&typeof Yn.addEventListener=="function"&&typeof Yn.createElement=="function",ZH=~xH.indexOf("MSIE")||~xH.indexOf("Trident/"),x8e=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,C8e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,XH={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},S8e={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},QH=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Br="classic",ag="duotone",w8e="sharp",M8e="sharp-duotone",KH=[Br,ag,w8e,M8e],T8e={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},E8e={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},D8e=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),I8e={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},L8e=["fak","fa-kit","fakd","fa-kit-duotone"],SH={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},A8e=["kit"],z8e={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},k8e=["fak","fakd"],N8e={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},wH={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},tg={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},P8e=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],O8e=["fak","fa-kit","fakd","fa-kit-duotone"],R8e={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},F8e={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},B8e={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},sT={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},V8e=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],lT=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...P8e,...V8e],U8e=["solid","regular","light","thin","duotone","brands"],JH=[1,2,3,4,5,6,7,8,9,10],H8e=JH.concat([11,12,13,14,15,16,17,18,19,20]),j8e=[...Object.keys(B8e),...U8e,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",tg.GROUP,tg.SWAP_OPACITY,tg.PRIMARY,tg.SECONDARY].concat(JH.map(n=>"".concat(n,"x"))).concat(H8e.map(n=>"w-".concat(n))),G8e={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},g2="___FONT_AWESOME___",cT=16,ej="fa",tj="svg-inline--fa",Wc="data-fa-i2svg",uT="data-fa-pseudo-element",W8e="data-fa-pseudo-element-pending",MT="data-prefix",TT="data-icon",MH="fontawesome-i2svg",q8e="async",$8e=["HTML","HEAD","STYLE","SCRIPT"],nj=(()=>{try{return!0}catch{return!1}})();function I5(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[Br]}})}var ij=xe({},XH);ij[Br]=xe(xe(xe(xe({},{"fa-duotone":"duotone"}),XH[Br]),SH.kit),SH["kit-duotone"]);var Y8e=I5(ij),dT=xe({},I8e);dT[Br]=xe(xe(xe(xe({},{duotone:"fad"}),dT[Br]),wH.kit),wH["kit-duotone"]);var TH=I5(dT),fT=xe({},sT);fT[Br]=xe(xe({},fT[Br]),N8e.kit);var ET=I5(fT),pT=xe({},F8e);pT[Br]=xe(xe({},pT[Br]),z8e.kit);var _nt=I5(pT),Z8e=x8e,rj="fa-layers-text",X8e=C8e,Q8e=xe({},T8e),bnt=I5(Q8e),K8e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nT=S8e,J8e=[...A8e,...j8e],M5=jl.FontAwesomeConfig||{};function epe(n){var t=Yn.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function tpe(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Yn&&typeof Yn.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,i]=t,r=tpe(epe(e));r!=null&&(M5[i]=r)});var oj={styleDefault:"solid",familyDefault:Br,cssPrefix:ej,replacementClass:tj,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};M5.familyPrefix&&(M5.cssPrefix=M5.familyPrefix);var Y6=xe(xe({},oj),M5);Y6.autoReplaceSvg||(Y6.observeMutations=!1);var He={};Object.keys(oj).forEach(n=>{Object.defineProperty(He,n,{enumerable:!0,set:function(t){Y6[n]=t,T5.forEach(e=>e(He))},get:function(){return Y6[n]}})});Object.defineProperty(He,"familyPrefix",{enumerable:!0,set:function(n){Y6.cssPrefix=n,T5.forEach(t=>t(He))},get:function(){return Y6.cssPrefix}});jl.FontAwesomeConfig=He;var T5=[];function npe(n){return T5.push(n),()=>{T5.splice(T5.indexOf(n),1)}}var Hl=cT,us={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ipe(n){if(!n||!y2)return;let t=Yn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;let e=Yn.head.childNodes,i=null;for(let r=e.length-1;r>-1;r--){let o=e[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=o)}return Yn.head.insertBefore(t,i),n}var rpe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function E5(){let n=12,t="";for(;n-- >0;)t+=rpe[Math.random()*62|0];return t}function Z6(n){let t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function DT(n){return n.classList?Z6(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function aj(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ope(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(aj(n[e]),'" '),"").trim()}function sg(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function IT(n){return n.size!==us.size||n.x!==us.x||n.y!==us.y||n.rotate!==us.rotate||n.flipX||n.flipY}function ape(n){let{transform:t,containerWidth:e,iconWidth:i}=n,r={transform:"translate(".concat(e/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(o," ").concat(a," ").concat(s)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:c}}function spe(n){let{transform:t,width:e=cT,height:i=cT,startCentered:r=!1}=n,o="";return r&&ZH?o+="translate(".concat(t.x/Hl-e/2,"em, ").concat(t.y/Hl-i/2,"em) "):r?o+="translate(calc(-50% + ".concat(t.x/Hl,"em), calc(-50% + ").concat(t.y/Hl,"em)) "):o+="translate(".concat(t.x/Hl,"em, ").concat(t.y/Hl,"em) "),o+="scale(".concat(t.size/Hl*(t.flipX?-1:1),", ").concat(t.size/Hl*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}var lpe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function sj(){let n=ej,t=tj,e=He.cssPrefix,i=He.replacementClass,r=lpe;if(e!==n||i!==t){let o=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(o,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(s,".".concat(i))}return r}var EH=!1;function iT(){He.autoAddCss&&!EH&&(ipe(sj()),EH=!0)}var cpe={mixout(){return{dom:{css:sj,insertCss:iT}}},hooks(){return{beforeDOMElementCreation(){iT()},beforeI2svg(){iT()}}}},v2=jl||{};v2[g2]||(v2[g2]={});v2[g2].styles||(v2[g2].styles={});v2[g2].hooks||(v2[g2].hooks={});v2[g2].shims||(v2[g2].shims=[]);var ds=v2[g2],lj=[],cj=function(){Yn.removeEventListener("DOMContentLoaded",cj),rg=1,lj.map(n=>n())},rg=!1;y2&&(rg=(Yn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Yn.readyState),rg||Yn.addEventListener("DOMContentLoaded",cj));function upe(n){y2&&(rg?setTimeout(n,0):lj.push(n))}function L5(n){let{tag:t,attributes:e={},children:i=[]}=n;return typeof n=="string"?aj(n):"<".concat(t," ").concat(ope(e),">").concat(i.map(L5).join(""),"</").concat(t,">")}function DH(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var dpe=function(t,e){return function(i,r,o,a){return t.call(e,i,r,o,a)}},rT=function(t,e,i,r){var o=Object.keys(t),a=o.length,s=r!==void 0?dpe(e,r):e,l,c,u;for(i===void 0?(l=1,u=t[o[0]]):(l=0,u=i);l<a;l++)c=o[l],u=s(u,t[c],c,t);return u};function fpe(n){let t=[],e=0,i=n.length;for(;e<i;){let r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){let o=n.charCodeAt(e++);(o&64512)==56320?t.push(((r&1023)<<10)+(o&1023)+65536):(t.push(r),e--)}else t.push(r)}return t}function mT(n){let t=fpe(n);return t.length===1?t[0].toString(16):null}function ppe(n,t){let e=n.length,i=n.charCodeAt(t),r;return i>=55296&&i<=56319&&e>t+1&&(r=n.charCodeAt(t+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function IH(n){return Object.keys(n).reduce((t,e)=>{let i=n[e];return!!i.icon?t[i.iconName]=i.icon:t[e]=i,t},{})}function hT(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:i=!1}=e,r=IH(t);typeof ds.hooks.addPack=="function"&&!i?ds.hooks.addPack(n,IH(t)):ds.styles[n]=xe(xe({},ds.styles[n]||{}),r),n==="fas"&&hT("fa",t)}var{styles:D5,shims:mpe}=ds,uj=Object.keys(ET),hpe=uj.reduce((n,t)=>(n[t]=Object.keys(ET[t]),n),{}),LT=null,dj={},fj={},pj={},mj={},hj={};function gpe(n){return~J8e.indexOf(n)}function vpe(n,t){let e=t.split("-"),i=e[0],r=e.slice(1).join("-");return i===n&&r!==""&&!gpe(r)?r:null}var gj=()=>{let n=i=>rT(D5,(r,o,a)=>(r[a]=rT(o,i,{}),r),{});dj=n((i,r,o)=>(r[3]&&(i[r[3]]=o),r[2]&&r[2].filter(s=>typeof s=="number").forEach(s=>{i[s.toString(16)]=o}),i)),fj=n((i,r,o)=>(i[o]=o,r[2]&&r[2].filter(s=>typeof s=="string").forEach(s=>{i[s]=o}),i)),hj=n((i,r,o)=>{let a=r[2];return i[o]=o,a.forEach(s=>{i[s]=o}),i});let t="far"in D5||He.autoFetchSvg,e=rT(mpe,(i,r)=>{let o=r[0],a=r[1],s=r[2];return a==="far"&&!t&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:s}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:s}),i},{names:{},unicodes:{}});pj=e.names,mj=e.unicodes,LT=lg(He.styleDefault,{family:He.familyDefault})};npe(n=>{LT=lg(n.styleDefault,{family:He.familyDefault})});gj();function AT(n,t){return(dj[n]||{})[t]}function ype(n,t){return(fj[n]||{})[t]}function Gc(n,t){return(hj[n]||{})[t]}function vj(n){return pj[n]||{prefix:null,iconName:null}}function _pe(n){let t=mj[n],e=AT("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Gl(){return LT}var yj=()=>({prefix:null,iconName:null,rest:[]});function bpe(n){let t=Br,e=uj.reduce((i,r)=>(i[r]="".concat(He.cssPrefix,"-").concat(r),i),{});return KH.forEach(i=>{(n.includes(e[i])||n.some(r=>hpe[i].includes(r)))&&(t=i)}),t}function lg(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:e=Br}=t,i=Y8e[e][n];if(e===ag&&!n)return"fad";let r=TH[e][n]||TH[e][i],o=n in ds.styles?n:null;return r||o||null}function xpe(n){let t=[],e=null;return n.forEach(i=>{let r=vpe(He.cssPrefix,i);r?e=r:i&&t.push(i)}),{iconName:e,rest:t}}function LH(n){return n.sort().filter((t,e,i)=>i.indexOf(t)===e)}function cg(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:e=!1}=t,i=null,r=lT.concat(O8e),o=LH(n.filter(d=>r.includes(d))),a=LH(n.filter(d=>!lT.includes(d))),s=o.filter(d=>(i=d,!QH.includes(d))),[l=null]=s,c=bpe(o),u=xe(xe({},xpe(a)),{},{prefix:lg(l,{family:c})});return xe(xe(xe({},u),Mpe({values:n,family:c,styles:D5,config:He,canonical:u,givenPrefix:i})),Cpe(e,i,u))}function Cpe(n,t,e){let{prefix:i,iconName:r}=e;if(n||!i||!r)return{prefix:i,iconName:r};let o=t==="fa"?vj(r):{},a=Gc(i,r);return r=o.iconName||a||r,i=o.prefix||i,i==="far"&&!D5.far&&D5.fas&&!He.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var Spe=KH.filter(n=>n!==Br||n!==ag),wpe=Object.keys(sT).filter(n=>n!==Br).map(n=>Object.keys(sT[n])).flat();function Mpe(n){let{values:t,family:e,canonical:i,givenPrefix:r="",styles:o={},config:a={}}=n,s=e===ag,l=t.includes("fa-duotone")||t.includes("fad"),c=a.familyDefault==="duotone",u=i.prefix==="fad"||i.prefix==="fa-duotone";if(!s&&(l||c||u)&&(i.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab"),!i.prefix&&Spe.includes(e)&&(Object.keys(o).find(f=>wpe.includes(f))||a.autoFetchSvg)){let f=D8e.get(e).defaultShortPrefixId;i.prefix=f,i.iconName=Gc(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||r==="fa")&&(i.prefix=Gl()||"fas"),i}var gT=class{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let r=e.reduce(this._pullDefinitions,{});Object.keys(r).forEach(o=>{this.definitions[o]=xe(xe({},this.definitions[o]||{}),r[o]),hT(o,r[o]);let a=ET[Br][o];a&&hT(a,r[o]),gj()})}reset(){this.definitions={}}_pullDefinitions(t,e){let i=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(i).map(r=>{let{prefix:o,iconName:a,icon:s}=i[r],l=s[2];t[o]||(t[o]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(t[o][c]=s)}),t[o][a]=s}),t}},AH=[],q6={},$6={},Tpe=Object.keys($6);function Epe(n,t){let{mixoutsTo:e}=t;return AH=n,q6={},Object.keys($6).forEach(i=>{Tpe.indexOf(i)===-1&&delete $6[i]}),AH.forEach(i=>{let r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(o=>{typeof r[o]=="function"&&(e[o]=r[o]),typeof r[o]=="object"&&Object.keys(r[o]).forEach(a=>{e[o]||(e[o]={}),e[o][a]=r[o][a]})}),i.hooks){let o=i.hooks();Object.keys(o).forEach(a=>{q6[a]||(q6[a]=[]),q6[a].push(o[a])})}i.provides&&i.provides($6)}),e}function vT(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];return(q6[n]||[]).forEach(a=>{t=a.apply(null,[t,...i])}),t}function qc(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];(q6[n]||[]).forEach(o=>{o.apply(null,e)})}function Wl(){let n=arguments[0],t=Array.prototype.slice.call(arguments,1);return $6[n]?$6[n].apply(null,t):void 0}function yT(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n,e=n.prefix||Gl();if(t)return t=Gc(e,t)||t,DH(_j.definitions,e,t)||DH(ds.styles,e,t)}var _j=new gT,Dpe=()=>{He.autoReplaceSvg=!1,He.observeMutations=!1,qc("noAuto")},Ipe={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return y2?(qc("beforeI2svg",n),Wl("pseudoElements2svg",n),Wl("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:t}=n;He.autoReplaceSvg===!1&&(He.autoReplaceSvg=!0),He.observeMutations=!0,upe(()=>{Ape({autoReplaceSvgRoot:t}),qc("watch",n)})}},Lpe={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Gc(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=lg(n[0]);return{prefix:e,iconName:Gc(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(He.cssPrefix,"-"))>-1||n.match(Z8e))){let t=cg(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||Gl(),iconName:Gc(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){let t=Gl();return{prefix:t,iconName:Gc(t,n)||n}}}},sa={noAuto:Dpe,config:He,dom:Ipe,parse:Lpe,library:_j,findIconDefinition:yT,toHtml:L5},Ape=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:t=Yn}=n;(Object.keys(ds.styles).length>0||He.autoFetchSvg)&&y2&&He.autoReplaceSvg&&sa.dom.i2svg({node:t})};function ug(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>L5(e))}}),Object.defineProperty(n,"node",{get:function(){if(!y2)return;let e=Yn.createElement("div");return e.innerHTML=n.html,e.children}}),n}function zpe(n){let{children:t,main:e,mask:i,attributes:r,styles:o,transform:a}=n;if(IT(a)&&e.found&&!i.found){let{width:s,height:l}=e,c={x:s/l/2,y:.5};r.style=sg(xe(xe({},o),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function kpe(n){let{prefix:t,iconName:e,children:i,attributes:r,symbol:o}=n,a=o===!0?"".concat(t,"-").concat(He.cssPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:xe(xe({},r),{},{id:a}),children:i}]}]}function zT(n){let{icons:{main:t,mask:e},prefix:i,iconName:r,transform:o,symbol:a,title:s,maskId:l,titleId:c,extra:u,watchable:d=!1}=n,{width:f,height:p}=e.found?e:t,v=k8e.includes(i),_=[He.replacementClass,r?"".concat(He.cssPrefix,"-").concat(r):""].filter(L=>u.classes.indexOf(L)===-1).filter(L=>L!==""||!!L).concat(u.classes).join(" "),b={children:[],attributes:xe(xe({},u.attributes),{},{"data-prefix":i,"data-icon":r,class:_,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(p)})},C=v&&!~u.classes.indexOf("fa-fw")?{width:"".concat(f/p*16*.0625,"em")}:{};d&&(b.attributes[Wc]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||E5())},children:[s]}),delete b.attributes.title);let w=xe(xe({},b),{},{prefix:i,iconName:r,main:t,mask:e,maskId:l,transform:o,symbol:a,styles:xe(xe({},C),u.styles)}),{children:E,attributes:D}=e.found&&t.found?Wl("generateAbstractMask",w)||{children:[],attributes:{}}:Wl("generateAbstractIcon",w)||{children:[],attributes:{}};return w.children=E,w.attributes=D,a?kpe(w):zpe(w)}function zH(n){let{content:t,width:e,height:i,transform:r,title:o,extra:a,watchable:s=!1}=n,l=xe(xe(xe({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});s&&(l[Wc]="");let c=xe({},a.styles);IT(r)&&(c.transform=spe({transform:r,startCentered:!0,width:e,height:i}),c["-webkit-transform"]=c.transform);let u=sg(c);u.length>0&&(l.style=u);let d=[];return d.push({tag:"span",attributes:l,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function Npe(n){let{content:t,title:e,extra:i}=n,r=xe(xe(xe({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),o=sg(i.styles);o.length>0&&(r.style=o);let a=[];return a.push({tag:"span",attributes:r,children:[t]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}var{styles:oT}=ds;function _T(n){let t=n[0],e=n[1],[i]=n.slice(4),r=null;return Array.isArray(i)?r={tag:"g",attributes:{class:"".concat(He.cssPrefix,"-").concat(nT.GROUP)},children:[{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(nT.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(nT.PRIMARY),fill:"currentColor",d:i[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:e,icon:r}}var Ppe={found:!1,width:512,height:512};function Ope(n,t){!nj&&!He.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function bT(n,t){let e=t;return t==="fa"&&He.styleDefault!==null&&(t=Gl()),new Promise((i,r)=>{if(e==="fa"){let o=vj(n)||{};n=o.iconName||n,t=o.prefix||t}if(n&&t&&oT[t]&&oT[t][n]){let o=oT[t][n];return i(_T(o))}Ope(n,t),i(xe(xe({},Ppe),{},{icon:He.showMissingIcons&&n?Wl("missingIconAbstract")||{}:{}}))})}var kH=()=>{},xT=He.measurePerformance&&eg&&eg.mark&&eg.measure?eg:{mark:kH,measure:kH},w5='FA "6.7.2"',Rpe=n=>(xT.mark("".concat(w5," ").concat(n," begins")),()=>bj(n)),bj=n=>{xT.mark("".concat(w5," ").concat(n," ends")),xT.measure("".concat(w5," ").concat(n),"".concat(w5," ").concat(n," begins"),"".concat(w5," ").concat(n," ends"))},kT={begin:Rpe,end:bj},ng=()=>{};function NH(n){return typeof(n.getAttribute?n.getAttribute(Wc):null)=="string"}function Fpe(n){let t=n.getAttribute?n.getAttribute(MT):null,e=n.getAttribute?n.getAttribute(TT):null;return t&&e}function Bpe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(He.replacementClass)}function Vpe(){return He.autoReplaceSvg===!0?ig.replace:ig[He.autoReplaceSvg]||ig.replace}function Upe(n){return Yn.createElementNS("http://www.w3.org/2000/svg",n)}function Hpe(n){return Yn.createElement(n)}function xj(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:e=n.tag==="svg"?Upe:Hpe}=t;if(typeof n=="string")return Yn.createTextNode(n);let i=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(xj(o,{ceFn:e}))}),i}function jpe(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var ig={replace:function(n){let t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(xj(e),t)}),t.getAttribute(Wc)===null&&He.keepOriginalSource){let e=Yn.createComment(jpe(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){let t=n[0],e=n[1];if(~DT(t).indexOf(He.replacementClass))return ig.replace(n);let i=new RegExp("".concat(He.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){let o=e[0].attributes.class.split(" ").reduce((a,s)=>(s===He.replacementClass||s.match(i)?a.toSvg.push(s):a.toNode.push(s),a),{toNode:[],toSvg:[]});e[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}let r=e.map(o=>L5(o)).join(`
`);t.setAttribute(Wc,""),t.innerHTML=r}};function PH(n){n()}function Cj(n,t){let e=typeof t=="function"?t:ng;if(n.length===0)e();else{let i=PH;He.mutateApproach===q8e&&(i=jl.requestAnimationFrame||PH),i(()=>{let r=Vpe(),o=kT.begin("mutate");n.map(r),o(),e()})}}var NT=!1;function Sj(){NT=!0}function CT(){NT=!1}var og=null;function OH(n){if(!CH||!He.observeMutations)return;let{treeCallback:t=ng,nodeCallback:e=ng,pseudoElementsCallback:i=ng,observeMutationsRoot:r=Yn}=n;og=new CH(o=>{if(NT)return;let a=Gl();Z6(o).forEach(s=>{if(s.type==="childList"&&s.addedNodes.length>0&&!NH(s.addedNodes[0])&&(He.searchPseudoElements&&i(s.target),t(s.target)),s.type==="attributes"&&s.target.parentNode&&He.searchPseudoElements&&i(s.target.parentNode),s.type==="attributes"&&NH(s.target)&&~K8e.indexOf(s.attributeName))if(s.attributeName==="class"&&Fpe(s.target)){let{prefix:l,iconName:c}=cg(DT(s.target));s.target.setAttribute(MT,l||a),c&&s.target.setAttribute(TT,c)}else Bpe(s.target)&&e(s.target)})}),y2&&og.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Gpe(){og&&og.disconnect()}function Wpe(n){let t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce((i,r)=>{let o=r.split(":"),a=o[0],s=o.slice(1);return a&&s.length>0&&(i[a]=s.join(":").trim()),i},{})),e}function qpe(n){let t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=cg(DT(n));return r.prefix||(r.prefix=Gl()),t&&e&&(r.prefix=t,r.iconName=e),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=ype(r.prefix,n.innerText)||AT(r.prefix,mT(n.innerText))),!r.iconName&&He.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function $pe(n){let t=Z6(n.attributes).reduce((r,o)=>(r.name!=="class"&&r.name!=="style"&&(r[o.name]=o.value),r),{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return He.autoA11y&&(e?t["aria-labelledby"]="".concat(He.replacementClass,"-title-").concat(i||E5()):(t["aria-hidden"]="true",t.focusable="false")),t}function Ype(){return{iconName:null,title:null,titleId:null,prefix:null,transform:us,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function RH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:e,prefix:i,rest:r}=qpe(n),o=$pe(n),a=vT("parseNodeAttributes",{},n),s=t.styleParser?Wpe(n):[];return xe({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:us,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:s,attributes:o}},a)}var{styles:Zpe}=ds;function wj(n){let t=He.autoReplaceSvg==="nest"?RH(n,{styleParser:!1}):RH(n);return~t.extra.classes.indexOf(rj)?Wl("generateLayersText",n,t):Wl("generateSvgReplacementMutation",n,t)}function Xpe(){return[...L8e,...lT]}function FH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!y2)return Promise.resolve();let e=Yn.documentElement.classList,i=u=>e.add("".concat(MH,"-").concat(u)),r=u=>e.remove("".concat(MH,"-").concat(u)),o=He.autoFetchSvg?Xpe():QH.concat(Object.keys(Zpe));o.includes("fa")||o.push("fa");let a=[".".concat(rj,":not([").concat(Wc,"])")].concat(o.map(u=>".".concat(u,":not([").concat(Wc,"])"))).join(", ");if(a.length===0)return Promise.resolve();let s=[];try{s=Z6(n.querySelectorAll(a))}catch{}if(s.length>0)i("pending"),r("complete");else return Promise.resolve();let l=kT.begin("onTree"),c=s.reduce((u,d)=>{try{let f=wj(d);f&&u.push(f)}catch(f){nj||f.name==="MissingIcon"&&console.error(f)}return u},[]);return new Promise((u,d)=>{Promise.all(c).then(f=>{Cj(f,()=>{i("active"),i("complete"),r("pending"),typeof t=="function"&&t(),l(),u()})}).catch(f=>{l(),d(f)})})}function Qpe(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;wj(n).then(e=>{e&&Cj([e],t)})}function Kpe(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:yT(t||{}),{mask:r}=e;return r&&(r=(r||{}).icon?r:yT(r||{})),n(i,xe(xe({},e),{},{mask:r}))}}var Jpe=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=us,symbol:i=!1,mask:r=null,maskId:o=null,title:a=null,titleId:s=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!n)return;let{prefix:d,iconName:f,icon:p}=n;return ug(xe({type:"icon"},n),()=>(qc("beforeDOMElementCreation",{iconDefinition:n,params:t}),He.autoA11y&&(a?c["aria-labelledby"]="".concat(He.replacementClass,"-title-").concat(s||E5()):(c["aria-hidden"]="true",c.focusable="false")),zT({icons:{main:_T(p),mask:r?_T(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:f,transform:xe(xe({},us),e),symbol:i,title:a,maskId:o,titleId:s,extra:{attributes:c,styles:u,classes:l}})))},e7e={mixout(){return{icon:Kpe(Jpe)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=FH,n.nodeCallback=Qpe,n}}},provides(n){n.i2svg=function(t){let{node:e=Yn,callback:i=()=>{}}=t;return FH(e,i)},n.generateSvgReplacementMutation=function(t,e){let{iconName:i,title:r,titleId:o,prefix:a,transform:s,symbol:l,mask:c,maskId:u,extra:d}=e;return new Promise((f,p)=>{Promise.all([bT(i,a),c.iconName?bT(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[_,b]=v;f([t,zT({icons:{main:_,mask:b},prefix:a,iconName:i,transform:s,symbol:l,maskId:u,title:r,titleId:o,extra:d,watchable:!0})])}).catch(p)})},n.generateAbstractIcon=function(t){let{children:e,attributes:i,main:r,transform:o,styles:a}=t,s=sg(a);s.length>0&&(i.style=s);let l;return IT(o)&&(l=Wl("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),e.push(l||r.icon),{children:e,attributes:i}}}},t7e={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:e=[]}=t;return ug({type:"layer"},()=>{qc("beforeDOMElementCreation",{assembler:n,params:t});let i=[];return n(r=>{Array.isArray(r)?r.map(o=>{i=i.concat(o.abstract)}):i=i.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(He.cssPrefix,"-layers"),...e].join(" ")},children:i}]})}}}},n7e={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:e=null,classes:i=[],attributes:r={},styles:o={}}=t;return ug({type:"counter",content:n},()=>(qc("beforeDOMElementCreation",{content:n,params:t}),Npe({content:n.toString(),title:e,extra:{attributes:r,styles:o,classes:["".concat(He.cssPrefix,"-layers-counter"),...i]}})))}}}},i7e={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=us,title:i=null,classes:r=[],attributes:o={},styles:a={}}=t;return ug({type:"text",content:n},()=>(qc("beforeDOMElementCreation",{content:n,params:t}),zH({content:n,transform:xe(xe({},us),e),title:i,extra:{attributes:o,styles:a,classes:["".concat(He.cssPrefix,"-layers-text"),...r]}})))}}},provides(n){n.generateLayersText=function(t,e){let{title:i,transform:r,extra:o}=e,a=null,s=null;if(ZH){let l=parseInt(getComputedStyle(t).fontSize,10),c=t.getBoundingClientRect();a=c.width/l,s=c.height/l}return He.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,zH({content:t.innerHTML,width:a,height:s,transform:r,title:i,extra:o,watchable:!0})])}}},r7e=new RegExp('"',"ug"),BH=[1105920,1112319],VH=xe(xe(xe(xe({},{FontAwesome:{normal:"fas",400:"fas"}}),E8e),G8e),R8e),ST=Object.keys(VH).reduce((n,t)=>(n[t.toLowerCase()]=VH[t],n),{}),o7e=Object.keys(ST).reduce((n,t)=>{let e=ST[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function a7e(n){let t=n.replace(r7e,""),e=ppe(t,0),i=e>=BH[0]&&e<=BH[1],r=t.length===2?t[0]===t[1]:!1;return{value:mT(r?t[0]:t),isSecondary:i||r}}function s7e(n,t){let e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),r=isNaN(i)?"normal":i;return(ST[e]||{})[r]||o7e[e]}function UH(n,t){let e="".concat(W8e).concat(t.replace(":","-"));return new Promise((i,r)=>{if(n.getAttribute(e)!==null)return i();let a=Z6(n.children).filter(f=>f.getAttribute(uT)===t)[0],s=jl.getComputedStyle(n,t),l=s.getPropertyValue("font-family"),c=l.match(X8e),u=s.getPropertyValue("font-weight"),d=s.getPropertyValue("content");if(a&&!c)return n.removeChild(a),i();if(c&&d!=="none"&&d!==""){let f=s.getPropertyValue("content"),p=s7e(l,u),{value:v,isSecondary:_}=a7e(f),b=c[0].startsWith("FontAwesome"),C=AT(p,v),w=C;if(b){let E=_pe(v);E.iconName&&E.prefix&&(C=E.iconName,p=E.prefix)}if(C&&!_&&(!a||a.getAttribute(MT)!==p||a.getAttribute(TT)!==w)){n.setAttribute(e,w),a&&n.removeChild(a);let E=Ype(),{extra:D}=E;D.attributes[uT]=t,bT(C,p).then(L=>{let z=zT(xe(xe({},E),{},{icons:{main:L,mask:yj()},prefix:p,iconName:w,extra:D,watchable:!0})),R=Yn.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(R,n.firstChild):n.appendChild(R),R.outerHTML=z.map(H=>L5(H)).join(`
`),n.removeAttribute(e),i()}).catch(r)}else i()}else i()})}function l7e(n){return Promise.all([UH(n,"::before"),UH(n,"::after")])}function c7e(n){return n.parentNode!==document.head&&!~$8e.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(uT)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function HH(n){if(y2)return new Promise((t,e)=>{let i=Z6(n.querySelectorAll("*")).filter(c7e).map(l7e),r=kT.begin("searchPseudoElements");Sj(),Promise.all(i).then(()=>{r(),CT(),t()}).catch(()=>{r(),CT(),e()})})}var u7e={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=HH,n}}},provides(n){n.pseudoElements2svg=function(t){let{node:e=Yn}=t;He.searchPseudoElements&&HH(e)}}},jH=!1,d7e={mixout(){return{dom:{unwatch(){Sj(),jH=!0}}}},hooks(){return{bootstrap(){OH(vT("mutationObserverCallbacks",{}))},noAuto(){Gpe()},watch(n){let{observeMutationsRoot:t}=n;jH?CT():OH(vT("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},GH=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,i)=>{let r=i.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return e.flipX=!0,e;if(o&&a==="v")return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(o){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a;break}return e},t)},f7e={mixout(){return{parse:{transform:n=>GH(n)}}},hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-transform");return e&&(n.transform=GH(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:i,containerWidth:r,iconWidth:o}=t,a={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(i.x*32,", ").concat(i.y*32,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),u={transform:"".concat(s," ").concat(l," ").concat(c)},d={transform:"translate(".concat(o/2*-1," -256)")},f={outer:a,inner:u,path:d};return{tag:"g",attributes:xe({},f.outer),children:[{tag:"g",attributes:xe({},f.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:xe(xe({},e.icon.attributes),f.path)}]}]}}}},aT={x:0,y:0,width:"100%",height:"100%"};function WH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function p7e(n){return n.tag==="g"?n.children:[n]}var m7e={hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-mask"),i=e?cg(e.split(" ").map(r=>r.trim())):yj();return i.prefix||(i.prefix=Gl()),n.mask=i,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:i,main:r,mask:o,maskId:a,transform:s}=t,{width:l,icon:c}=r,{width:u,icon:d}=o,f=ape({transform:s,containerWidth:u,iconWidth:l}),p={tag:"rect",attributes:xe(xe({},aT),{},{fill:"white"})},v=c.children?{children:c.children.map(WH)}:{},_={tag:"g",attributes:xe({},f.inner),children:[WH(xe({tag:c.tag,attributes:xe(xe({},c.attributes),f.path)},v))]},b={tag:"g",attributes:xe({},f.outer),children:[_]},C="mask-".concat(a||E5()),w="clip-".concat(a||E5()),E={tag:"mask",attributes:xe(xe({},aT),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,b]},D={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:p7e(d)},E]};return e.push(D,{tag:"rect",attributes:xe({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(C,")")},aT)}),{children:e,attributes:i}}}},h7e={provides(n){let t=!1;jl.matchMedia&&(t=jl.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let e=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:xe(xe({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let o=xe(xe({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:xe(xe({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:xe(xe({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:xe(xe({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:xe(xe({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:xe(xe({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:xe(xe({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:xe(xe({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},g7e={hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-symbol"),i=e===null?!1:e===""?!0:e;return n.symbol=i,n}}}},v7e=[cpe,e7e,t7e,n7e,i7e,u7e,d7e,f7e,m7e,h7e,g7e];Epe(v7e,{mixoutsTo:sa});var xnt=sa.noAuto,Mj=sa.config,Cnt=sa.library,Tj=sa.dom,Ej=sa.parse,Snt=sa.findIconDefinition,wnt=sa.toHtml,Dj=sa.icon,Mnt=sa.layer,y7e=sa.text,_7e=sa.counter;var b7e=["*"],x7e=(()=>{class n{defaultPrefix="fas";fallbackIcon=null;fixedWidth;set autoAddCss(e){Mj.autoAddCss=e,this._autoAddCss=e}get autoAddCss(){return this._autoAddCss}_autoAddCss=!0;static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C7e=(()=>{class n{definitions={};addIcons(...e){for(let i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let r of i.icon[2])typeof r=="string"&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(let i of e){let r=Object.keys(i).map(o=>i[o]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S7e=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},w7e=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},Lj=n=>n!=null&&(n===90||n===180||n===270||n==="90"||n==="180"||n==="270"),M7e=n=>{let t=Lj(n.rotate),e={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:t,"fa-rotate-by":n.rotate!=null&&!t,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(e).map(i=>e[i]?i:null).filter(i=>i!=null)},PT=new WeakSet,Ij="fa-auto-css";function T7e(n,t){if(!t.autoAddCss||PT.has(n))return;if(n.getElementById(Ij)!=null){t.autoAddCss=!1,PT.add(n);return}let e=n.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id",Ij),e.innerHTML=Tj.css();let i=n.head.childNodes,r=null;for(let o=i.length-1;o>-1;o--){let a=i[o],s=a.nodeName.toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=a)}n.head.insertBefore(e,r),t.autoAddCss=!1,PT.add(n)}var E7e=n=>n.prefix!==void 0&&n.iconName!==void 0,D7e=(n,t)=>E7e(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:t,iconName:n},I7e=(()=>{class n{stackItemSize=S6("1x");size=S6();_effect=C6(()=>{if(this.size())throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')});static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:[1,"stackItemSize"],size:[1,"size"]}})}return n})(),L7e=(()=>{class n{size=S6();classes=c2(()=>{let e=this.size(),i=e?{[`fa-${e}`]:!0}:{};return Ie(X({},i),{"fa-stack":!0})});static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["fa-stack"]],hostVars:2,hostBindings:function(i,r){i&2&&Rn(r.classes())},inputs:{size:[1,"size"]},ngContentSelectors:b7e,decls:1,vars:0,template:function(i,r){i&1&&(y1(),Ea(0))},encapsulation:2,changeDetection:0})}return n})(),ot=(()=>{class n{icon=uo.required();title=uo();animation=uo();mask=uo();flip=uo();size=uo();pull=uo();border=uo();inverse=uo();symbol=uo();rotate=uo();fixedWidth=uo();transform=uo();a11yRole=uo();renderedIconHTML=c2(()=>{let e=this.icon();if(e==null&&this.config.fallbackIcon==null)return w7e(),"";let i=this.findIconDefinition(e??this.config.fallbackIcon);if(!i)return"";let r=this.buildParams();T7e(this.document,this.config);let o=Dj(i,r);return this.sanitizer.bypassSecurityTrustHtml(o.html.join(`
`))});document=B(Me);sanitizer=B(Qf);config=B(x7e);iconLibrary=B(C7e);stackItem=B(I7e,{optional:!0});stack=B(L7e,{optional:!0});constructor(){this.stack!=null&&this.stackItem==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}findIconDefinition(e){let i=D7e(e,this.config.defaultPrefix);if("icon"in i)return i;let r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return r??(S7e(i),null)}buildParams(){let e=this.fixedWidth(),i={flip:this.flip(),animation:this.animation(),border:this.border(),inverse:this.inverse(),size:this.size(),pull:this.pull(),rotate:this.rotate(),fixedWidth:typeof e=="boolean"?e:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize():void 0},r=this.transform(),o=typeof r=="string"?Ej.transform(r):r,a=this.mask(),s=a!=null?this.findIconDefinition(a):null,l={},c=this.a11yRole();c!=null&&(l.role=c);let u={};return i.rotate!=null&&!Lj(i.rotate)&&(u["--fa-rotate-angle"]=`${i.rotate}`),{title:this.title(),transform:o,classes:M7e(i),mask:s??void 0,symbol:this.symbol(),attributes:l,styles:u}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){i&2&&(Ll("innerHTML",r.renderedIconHTML(),h6),Sn("title",r.title()))},inputs:{icon:[1,"icon"],title:[1,"title"],animation:[1,"animation"],mask:[1,"mask"],flip:[1,"flip"],size:[1,"size"],pull:[1,"pull"],border:[1,"border"],inverse:[1,"inverse"],symbol:[1,"symbol"],rotate:[1,"rotate"],fixedWidth:[1,"fixedWidth"],transform:[1,"transform"],a11yRole:[1,"a11yRole"]},outputs:{icon:"iconChange",title:"titleChange",animation:"animationChange",mask:"maskChange",flip:"flipChange",size:"sizeChange",pull:"pullChange",border:"borderChange",inverse:"inverseChange",symbol:"symbolChange",rotate:"rotateChange",fixedWidth:"fixedWidthChange",transform:"transformChange",a11yRole:"a11yRoleChange"},decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();var Aj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({})}return n})();var dg={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]};var zj={prefix:"fas",iconName:"arrow-trend-up",icon:[576,512,[],"e098","M384 160c-17.7 0-32-14.3-32-32s14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-82.7-169.4 169.4c-12.5 12.5-32.8 12.5-45.3 0L192 269.3 54.6 406.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160c12.5-12.5 32.8-12.5 45.3 0L320 306.7 466.7 160 384 160z"]};var X6={prefix:"fas",iconName:"wallet",icon:[512,512,[],"f555","M64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64L72 128c-13.3 0-24-10.7-24-24S58.7 80 72 80l384 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L64 32zM416 256a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]};var kj={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M224 248a120 120 0 1 1 0-240 120 120 0 1 1 0 240zm-30.5 56l61 0c9.7 0 17.5 7.8 17.5 17.5 0 4.2-1.5 8.2-4.2 11.4l-27.4 32 31 115.1 .6 0 34.6-138.5c2.2-8.7 11.1-14 19.5-10.8 61.9 23.6 105.9 83.6 105.9 153.8 0 15.1-12.3 27.4-27.4 27.4L43.4 512c-15.1 0-27.4-12.3-27.4-27.4 0-70.2 44-130.2 105.9-153.8 8.4-3.2 17.3 2.1 19.5 10.8l34.6 138.5 .6 0 31-115.1-27.4-32c-2.7-3.2-4.2-7.2-4.2-11.4 0-9.7 7.8-17.5 17.5-17.5z"]};var A7e={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},ql=A7e;var Nj={prefix:"fas",iconName:"s",icon:[320,512,[115],"53","M0 157.5C0 88.2 56.2 32 125.5 32L272 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L125.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61L210.1 230C272.9 237.9 320 291.2 320 354.5 320 423.8 263.8 480 194.5 480L48 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-31-23.1-57.2-53.9-61L109.9 282C47.1 274.1 0 220.8 0 157.5z"]};var fs={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]};var $l={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]};var Pj={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M32 32C14.3 32 0 46.3 0 64l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-64 64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 32zM64 352c0-17.7-14.3-32-32-32S0 334.3 0 352l0 96c0 17.7 14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0 0-64zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0 0 64c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-96 0zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32l0-96z"]};var Oj={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]};var z7e={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},Rj=z7e;var fg={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M345 273c9.4-9.4 9.4-24.6 0-33.9L201 95c-6.9-6.9-17.2-8.9-26.2-5.2S160 102.3 160 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L345 273zm7 143c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0z"]};var k7e={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Fj=k7e;var Q6={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]};var A5={prefix:"fas",iconName:"cart-plus",icon:[640,512,[],"f217","M0 8C0-5.3 10.7-16 24-16l45.3 0c27.1 0 50.3 19.4 55.1 46l.4 2 412.7 0c20 0 35.1 18.2 31.4 37.9L537.8 235.8c-5.7 30.3-32.1 52.2-62.9 52.2l-303.6 0 5.1 28.3c2.1 11.4 12 19.7 23.6 19.7L456 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-255.9 0c-34.8 0-64.6-24.9-70.8-59.1L77.2 38.6c-.7-3.8-4-6.6-7.9-6.6L24 32C10.7 32 0 21.3 0 8zM160 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm224 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM336 78.4c-13.3 0-24 10.7-24 24l0 33.6-33.6 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l33.6 0 0 33.6c0 13.3 10.7 24 24 24s24-10.7 24-24l0-33.6 33.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-33.6 0 0-33.6c0-13.3-10.7-24-24-24z"]};var Bj={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M128 320L24.5 320c-24.9 0-40.2-27.1-27.4-48.5L50 183.3C58.7 168.8 74.3 160 91.2 160l95 0c76.1-128.9 189.6-135.4 265.5-124.3 12.8 1.9 22.8 11.9 24.6 24.6 11.1 75.9 4.6 189.4-124.3 265.5l0 95c0 16.9-8.8 32.5-23.3 41.2l-88.2 52.9c-21.3 12.8-48.5-2.6-48.5-27.4L192 384c0-35.3-28.7-64-64-64l-.1 0zM400 160a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]};var Vj={prefix:"fas",iconName:"b",icon:[320,512,[98],"42","M32 32C14.3 32 0 46.3 0 64L0 448c0 17.7 14.3 32 32 32l160 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM160 224l-96 0 0-128 96 0c35.3 0 64 28.7 64 64s-28.7 64-64 64zM64 288l128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0 0-128z"]};var pg={prefix:"fas",iconName:"money-bill-trend-up",icon:[512,512,[],"e529","M480 8c0-13.3-10.7-24-24-24L354.2-16c-13.3 0-24 10.7-24 24s10.7 24 24 24l43.9 0-111.3 111.3-95.1-81.5c-9-7.7-22.2-7.7-31.2 0l-112 96c-10.1 8.6-11.2 23.8-2.6 33.8s23.8 11.2 33.8 2.6l96.4-82.6 96.4 82.6c9.5 8.2 23.7 7.6 32.6-1.3l127-127 0 43.9c0 13.3 10.7 24 24 24s24-10.7 24-24L480 8zM48 256c-26.5 0-48 21.5-48 48L0 464c0 26.5 21.5 48 48 48l416 0c26.5 0 48-21.5 48-48l0-160c0-26.5-21.5-48-48-48L48 256zm47.3 56c-3.4 20.1-19.2 36-39.4 39.4-4.4 .7-8-2.9-8-7.3l0-32c0-4.4 3.6-8 8-8l32 0c4.4 0 8.1 3.6 7.3 8zm0 144.1c.7 4.4-2.9 8-7.3 8l-32 0c-4.4 0-8-3.6-8-8l0-32c0-4.4 3.6-8.1 8-7.3 20.1 3.4 36 19.2 39.4 39.4zM456 416.7c4.4-.7 8 2.9 8 7.3l0 32c0 4.4-3.6 8-8 8l-32 0c-4.4 0-8.1-3.6-7.3-8 3.4-20.1 19.2-36 39.4-39.4zM416.7 312c-.7-4.4 2.9-8 7.3-8l32 0c4.4 0 8 3.6 8 8l0 32c0 4.4-3.6 8.1-8 7.3-20.1-3.4-36-19.2-39.4-39.4zM192 384a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z"]};var Uj={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM167 167c9.4-9.4 24.6-9.4 33.9 0l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9z"]};var Hj={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M311.4 32l8.6 0c35.3 0 64 28.7 64 64l0 352c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l8.6 0C83.6 12.9 104.3 0 128 0L256 0c23.7 0 44.4 12.9 55.4 32zM248 112c13.3 0 24-10.7 24-24s-10.7-24-24-24L136 64c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0zM128 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm32 0c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zm0 128c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zM96 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]};var jj={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]};var mg={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]};var Gj={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M0 256a256 256 0 1 1 512 0 256 256 0 1 1 -512 0z"]};var Wj={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]};var qj={prefix:"fas",iconName:"link",icon:[576,512,[128279,"chain"],"f0c1","M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"]};var hg={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]};var $j={prefix:"fas",iconName:"building",icon:[384,512,[127970,61687],"f1ad","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM176 352l32 0c17.7 0 32 14.3 32 32l0 80-96 0 0-80c0-17.7 14.3-32 32-32zM96 112c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM240 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM96 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm144-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]};var Yj={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]};var z5={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},Zj=z5,Xj={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-277.5c0-17-6.7-33.3-18.7-45.3L258.7 18.7C246.7 6.7 230.5 0 213.5 0L64 0zM325.5 176L232 176c-13.3 0-24-10.7-24-24L208 58.5 325.5 176z"]};var gg={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]};var Qj={prefix:"fas",iconName:"play",icon:[448,512,[9654],"f04b","M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z"]};var Kj={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]};var Jj={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 80l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 112l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]};var N7e={prefix:"fas",iconName:"house",icon:[512,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM240 320l32 0c26.5 0 48 21.5 48 48l0 96-128 0 0-96c0-26.5 21.5-48 48-48z"]},eG=N7e;var ko={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]};var tG={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 224zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384z"]};var vg={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]};var OT={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},nG=OT;var iG={prefix:"fas",iconName:"chart-simple",icon:[512,512,[],"e473","M192 80c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-352zM0 272c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 160c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48L0 272zM432 96l32 0c26.5 0 48 21.5 48 48l0 288c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48z"]};var yg={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]};var rG={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]};var oG={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};var _g={prefix:"fas",iconName:"chart-pie",icon:[576,512,["pie-chart"],"f200","M512.4 240l-176 0c-17.7 0-32-14.3-32-32l0-176c0-17.7 14.4-32.2 31.9-29.9 107 14.2 191.8 99 206 206 2.3 17.5-12.2 31.9-29.9 31.9zM222.6 37.2c18.1-3.8 33.8 11 33.8 29.5l0 197.3c0 5.6 2 11 5.5 15.3L394 438.7c11.7 14.1 9.2 35.4-6.9 44.1-34.1 18.6-73.2 29.2-114.7 29.2-132.5 0-240-107.5-240-240 0-115.5 81.5-211.9 190.2-234.8zM477.8 288l64 0c18.5 0 33.3 15.7 29.5 33.8-10.2 48.4-35 91.4-69.6 124.2-12.3 11.7-31.6 9.2-42.4-3.9L374.9 340.4c-17.3-20.9-2.4-52.4 24.6-52.4l78.2 0z"]};var aG={prefix:"fas",iconName:"file-invoice-dollar",icon:[384,512,[],"f571","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM64 88c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64C74.7 64 64 74.7 64 88zm0 96c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zm112 76l0 4c-28.8 .3-52 23.7-52 52.5 0 25.7 18.5 47.6 43.9 51.8l41.7 7c6 1 10.4 6.2 10.4 12.3 0 6.9-5.6 12.5-12.5 12.5L152 400c-11 0-20 9-20 20s9 20 20 20l24 0 0 4c0 11 9 20 20 20s20-9 20-20l0-4.7c25-4.1 44-25.7 44-51.8 0-25.7-18.5-47.6-43.9-51.8l-41.7-7c-6-1-10.4-6.2-10.4-12.3 0-6.9 5.6-12.5 12.5-12.5l47.5 0c11 0 20-9 20-20s-9-20-20-20l-8 0 0-4c0-11-9-20-20-20s-20 9-20 20z"]};var sG={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]};var K6={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]};var _2={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},lG=_2,cG={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]};var P7e={prefix:"fas",iconName:"link-slash",icon:[576,512,["chain-broken","chain-slash","unlink"],"f127","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-122-122c4.2-3.4 8.3-7.1 12.1-10.9l71.1-71.1c29.3-29.3 45.8-69.1 45.8-110.6 0-86.4-70-156.5-156.5-156.5-37.3 0-73.1 13.3-101.3 37.2 20.3 10.1 38.7 23.5 54.5 39.5 14.1-8.3 30.2-12.7 46.8-12.7 51.1 0 92.5 41.4 92.5 92.5 0 24.5-9.7 48-27.1 65.4l-71.1 71.1c-3.9 3.9-8.1 7.4-12.6 10.5l-47.5-47.5c16.5-.9 29.7-14.4 30.2-31.1 0-1.3 0-2.6 0-3.9 0-86.3-69.9-156.9-156.5-156.9-19.2 0-37.9 3.5-55.5 10.2L41-24.9zM225.9 160c.6 0 1.1 0 1.7 0 15.1 0 29.5 3.7 42.1 10.2 1.8 1.2 3.6 2.3 5.5 3.1 26.8 16.3 44.8 45.9 44.8 79.6 0 .4 0 .8 0 1.2L225.9 160zM346.2 416L192 261.8c1.2 84.6 69.6 152.9 154.1 154.1zM139.7 209.5l-45.3-45.3-48.6 48.6c-29.3 29.3-45.8 69.1-45.8 110.6 0 86.4 70 156.5 156.5 156.5 37.2 0 73.1-13.3 101.3-37.2-20.3-10.1-38.8-23.5-54.6-39.5-14 8.2-30.1 12.6-46.7 12.6-51.1 0-92.5-41.4-92.5-92.5 0-24.5 9.7-48 27.1-65.4l48.6-48.6z"]};var uG=P7e;var Yl={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]};var dG={prefix:"fas",iconName:"tag",icon:[512,512,[127991],"f02b","M32.5 96l0 149.5c0 17 6.7 33.3 18.7 45.3l192 192c25 25 65.5 25 90.5 0L483.2 333.3c25-25 25-65.5 0-90.5l-192-192C279.2 38.7 263 32 246 32L96.5 32c-35.3 0-64 28.7-64 64zm112 16a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]};var fG={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M169.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L192 205.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]};var pG={prefix:"fas",iconName:"pause",icon:[384,512,[9208],"f04c","M48 32C21.5 32 0 53.5 0 80L0 432c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48L48 32zm224 0c-26.5 0-48 21.5-48 48l0 352c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48l-64 0z"]};var mG={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M128 96l0-16c0-44.2 86-80 192-80S512 35.8 512 80l0 16c0 30.6-41.3 57.2-102 70.7-2.4-2.8-4.9-5.5-7.4-8-15.5-15.3-35.5-26.9-56.4-35.5-41.9-17.5-96.5-27.1-154.2-27.1-21.9 0-43.3 1.4-63.8 4.1-.2-1.3-.2-2.7-.2-4.1zM432 353l0-46.2c15.1-3.9 29.3-8.5 42.2-13.9 13.2-5.5 26.1-12.2 37.8-20.3l0 15.4c0 26.8-31.5 50.5-80 65zm0-96l0-33c0-4.5-.4-8.8-1-13 15.5-3.9 30-8.6 43.2-14.2s26.1-12.2 37.8-20.3l0 15.4c0 26.8-31.5 50.5-80 65zM0 240l0-16c0-44.2 86-80 192-80s192 35.8 192 80l0 16c0 44.2-86 80-192 80S0 284.2 0 240zm384 96c0 44.2-86 80-192 80S0 380.2 0 336l0-15.4c11.6 8.1 24.5 14.7 37.8 20.3 41.9 17.5 96.5 27.1 154.2 27.1s112.3-9.7 154.2-27.1c13.2-5.5 26.1-12.2 37.8-20.3l0 15.4zm0 80.6l0 15.4c0 44.2-86 80-192 80S0 476.2 0 432l0-15.4c11.6 8.1 24.5 14.7 37.8 20.3 41.9 17.5 96.5 27.1 154.2 27.1s112.3-9.7 154.2-27.1c13.2-5.5 26.1-12.2 37.8-20.3z"]};var bg={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};var J6={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M133.8 36.3c10.9 7.6 13.5 22.6 5.9 33.4l-56 80c-4.1 5.8-10.5 9.5-17.6 10.1S52 158 47 153L7 113C-2.3 103.6-2.3 88.4 7 79S31.6 69.7 41 79l19.8 19.8 39.6-56.6c7.6-10.9 22.6-13.5 33.4-5.9zm0 160c10.9 7.6 13.5 22.6 5.9 33.4l-56 80c-4.1 5.8-10.5 9.5-17.6 10.1S52 318 47 313L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l19.8 19.8 39.6-56.6c7.6-10.9 22.6-13.5 33.4-5.9zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM64 376a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]};var hG={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z"]},Aa=hG,gG=hG;var k5={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},vG=k5;var yG={prefix:"fas",iconName:"arrow-trend-down",icon:[576,512,[],"e097","M384 352c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0c17.7 0 32-14.3 32-32l0-160c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 82.7-169.4-169.4c-12.5-12.5-32.8-12.5-45.3 0L192 242.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0L320 205.3 466.7 352 384 352z"]};var O7e=["searchInput"];function R7e(n,t){if(n&1){let e=ee();m(0,"div",4),k("click",function(){N(e);let r=M();return P(r.expand())}),F(1,"fa-icon",5),h()}if(n&2){let e=M();g(),x("icon",e.faSearch)}}function F7e(n,t){if(n&1){let e=ee();m(0,"button",11),k("click",function(){N(e);let r=M(2);return P(r.clearSearch())}),Ut(),m(1,"svg",12),F(2,"path",13),h()()}}function B7e(n,t){if(n&1){let e=ee();m(0,"div",6)(1,"div",7),F(2,"fa-icon",8),h(),m(3,"input",9,0),k("input",function(r){N(e);let o=M();return P(o.onInputChange(r))})("blur",function(){N(e);let r=M();return P(r.onBlur())})("keydown.escape",function(){N(e);let r=M();return P(r.collapse())}),h(),A(5,F7e,3,0,"button",10),h()}if(n&2){let e=M();g(2),x("icon",e.faSearch),g(),x("value",e.searchTerm)("placeholder",e.placeholder),g(2),x("ngIf",e.searchTerm)}}var za=(()=>{let t=class t{constructor(){this.placeholder="Search...",this.inputChange=new be,this.searchTerm="",this.isExpanded=!1,this.faSearch=ql}expand(){this.isExpanded=!0,setTimeout(()=>{this.searchInput&&this.searchInput.nativeElement.focus()},100)}collapse(){this.searchTerm||(this.isExpanded=!1)}onBlur(){this.searchTerm||setTimeout(()=>{this.isExpanded=!1},150)}clearSearch(){this.searchTerm="",this.inputChange.emit(""),this.collapse()}onInputChange(i){let r=i.target.value;this.searchTerm=r,this.inputChange.emit(r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-search-input"]],viewQuery:function(r,o){if(r&1&&On(O7e,5),r&2){let a;an(a=sn())&&(o.searchInput=a.first)}},inputs:{placeholder:"placeholder",searchTerm:"searchTerm"},outputs:{inputChange:"inputChange"},decls:3,vars:2,consts:[["searchInput",""],[1,"relative","flex","items-center"],["class","flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-100 transition-all duration-200",3,"click",4,"ngIf"],["class","flex items-center w-full max-w-md bg-white border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-blue-100 focus-within:border-blue-100 transition-all duration-200",4,"ngIf"],[1,"flex","items-center","justify-center","w-10","h-10","bg-white","border","border-gray-300","rounded-md","cursor-pointer","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-100","transition-all","duration-200",3,"click"],[1,"text-gray-500","text-sm",3,"icon"],[1,"flex","items-center","w-full","max-w-md","bg-white","border","border-gray-300","rounded-md","focus-within:ring-2","focus-within:ring-blue-100","focus-within:border-blue-100","transition-all","duration-200"],[1,"pl-3"],[1,"text-gray-400","text-sm",3,"icon"],["type","text",1,"flex-1","py-2","px-3","bg-transparent","border-0","focus:outline-none","text-sm",3,"input","blur","keydown.escape","value","placeholder"],["class","pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",3,"click",4,"ngIf"],[1,"pr-3","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(r,o){r&1&&(m(0,"div",1),A(1,R7e,2,1,"div",2)(2,B7e,6,4,"div",3),h()),r&2&&(g(),x("ngIf",!o.isExpanded),g(),x("ngIf",o.isExpanded))},dependencies:[pn,ot,We,ye],encapsulation:2});let n=t;return n})();function V7e(n,t){if(n&1&&(m(0,"span",1),y(1),Y(2,"uppercase"),h()),n&2){let e=M();g(),q(" ",Do(2,1,e.text),`
`)}}var mn=(()=>{let t=class t{constructor(){this.text="",this.color="gray",this.styles={blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700",green:"bg-green-100 text-green-700",orange:"bg-orange-100 text-orange-700",purple:"bg-purple-100 text-purple-700",gray:"bg-gray-100 text-gray-700"}}get classes(){return`inline-flex items-center text-[10px] rounded-md px-2 ${this.styles[this.color]}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-small-chip"]],hostVars:2,hostBindings:function(r,o){r&2&&Rn(o.classes)},inputs:{text:"text",color:"color"},decls:1,vars:1,consts:[["class","flex items-center justify-center w-full h-full",4,"ngIf"],[1,"flex","items-center","justify-center","w-full","h-full"]],template:function(r,o){r&1&&A(0,V7e,3,3,"span",0),r&2&&x("ngIf",o.text)},dependencies:[ye,Uf],encapsulation:2});let n=t;return n})();var ei=(()=>{let t=class t{constructor(i){this.applicationProperties=i}transform(i,r="time"){if(!i)return"";typeof i=="string"&&/^\d{2}:\d{2}:\d{2}$/.test(i)&&(i=`1970-01-01T${i}Z`);let o=new Date(i);if(this.applicationProperties.getEnvironment()==="prod"&&r!=="time-no-mod"&&r!=="datetime-ordinal-no-mod"){let c=o.getTime()-5.5*60*60*1e3;o=new Date(c)}let a="Asia/Kolkata";if(r==="date")return o.toLocaleDateString("en-IN",{timeZone:a,day:"2-digit",month:"2-digit",year:"numeric"});if(r==="datetime")return o.toLocaleString("en-IN",{timeZone:a,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});if(r==="time-no-mod")return o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});if(r==="date-ordinal"){let l=o.getDate(),c=o.toLocaleString("en-IN",{timeZone:a,month:"short"}),u=o.getFullYear();return`${s(l)} ${c} ${u}`}else if(r==="datetime-ordinal"||r==="datetime-ordinal-no-mod"){let l=o.getDate(),c=s(l),u=o.toLocaleString("en-IN",{timeZone:a,month:"short"}),d=o.getFullYear(),f=o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});return`${c} ${u} ${d}, ${f}`}else return o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});function s(l){if(l>3&&l<21)return`${l}th`;switch(l%10){case 1:return`${l}st`;case 2:return`${l}nd`;case 3:return`${l}rd`;default:return`${l}th`}}}};t.\u0275fac=function(r){return new(r||t)(V(Ul,16))},t.\u0275pipe=s2({name:"istDate",type:t,pure:!0});let n=t;return n})();var N5=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Zl=class extends N5{component;viewContainerRef;injector;projectableNodes;constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}},Xl=class extends N5{templateRef;viewContainerRef;context;injector;constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},RT=class extends N5{element;constructor(t){super(),this.element=t instanceof at?t.nativeElement:t}},eu=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Zl)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Xl)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof RT)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},P5=class extends eu{outletElement;_appRef;_defaultInjector;constructor(t,e,i){super(),this.outletElement=t,this._appRef=e,this._defaultInjector=i}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(K1,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||Ve.NULL,o=r.get(In,i.injector);e=Bh(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var O5=(()=>{class n extends eu{_moduleRef=B(K1,{optional:!0});_document=B(Me);_viewContainerRef=B(Ui);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new be;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[on]})}return n})();var xg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({})}return n})();function b2(n){return n.buttons===0||n.detail===0}function x2(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var FT;function _G(){if(FT==null){let n=typeof document<"u"?document.head:null;FT=!!(n&&(n.createShadowRoot||n.attachShadow))}return FT}function $c(n){if(_G()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function R5(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function xr(n){return n.composedPath?n.composedPath()[0]:n.target}var BT;try{BT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{BT=!1}var ti=(()=>{class n{_platformId=B(Tc);isBrowser=this._platformId?fV(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||BT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var F5;function bG(){if(F5==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F5=!0}))}finally{F5=F5||!1}return F5}function Ql(n){return bG()?n:!!n.capture}function ps(n,t=0){return xG(n)?Number(n):arguments.length===2?t:0}function xG(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function qi(n){return n instanceof at?n.nativeElement:n}var CG=new ue("cdk-input-modality-detector-options"),SG={ignoreKeys:[18,17,224,91,16]},wG=650,VT={passive:!0,capture:!0},MG=(()=>{class n{_platform=B(ti);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Vn(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=xr(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<wG||(this._modality.next(b2(e)?"keyboard":"mouse"),this._mostRecentTarget=xr(e))};_onTouchstart=e=>{if(x2(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xr(e)};constructor(){let e=B(Pe),i=B(Me),r=B(CG,{optional:!0});if(this._options=X(X({},SG),r),this.modalityDetected=this._modality.pipe(Gd(1)),this.modalityChanged=this.modalityDetected.pipe(c1()),this._platform.isBrowser){let o=B(gi).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,VT),o.listen(i,"mousedown",this._onMousedown,VT),o.listen(i,"touchstart",this._onTouchstart,VT)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B5=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(B5||{}),TG=new ue("cdk-focus-monitor-default-options"),Cg=Ql({passive:!0,capture:!0}),Kl=(()=>{class n{_ngZone=B(Pe);_platform=B(ti);_inputModalityDetector=B(MG);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=B(Me);_stopInputModalityDetector=new me;constructor(){let e=B(TG,{optional:!0});this._detectionMode=e?.detectionMode||B5.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=xr(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=qi(e);if(!this._platform.isBrowser||r.nodeType!==1)return we();let o=$c(r)||this._document,a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let s={checkChildren:i,subject:new me,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let i=qi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=qi(e),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===B5.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===B5.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?wG:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=xr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cg)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(nn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sg=new WeakMap,No=(()=>{class n{_appRef;_injector=B(Ve);_environmentInjector=B(In);load(e){let i=this._appRef=this._appRef||this._injector.get(yi),r=Sg.get(i);r||(r={loaders:new Set,refs:[]},Sg.set(i,r),i.onDestroy(()=>{Sg.get(i)?.refs.forEach(o=>o.destroy()),Sg.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Bh(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function tu(n){return Array.isArray(n)?n:[n]}var EG=new Set,Yc,Mg=(()=>{class n{_platform=B(ti);_nonce=B(m6,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):H7e}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&U7e(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function U7e(n,t){if(!EG.has(n))try{Yc||(Yc=document.createElement("style"),t&&Yc.setAttribute("nonce",t),Yc.setAttribute("type","text/css"),document.head.appendChild(Yc)),Yc.sheet&&(Yc.sheet.insertRule(`@media ${n} {body{ }}`,0),EG.add(n))}catch(e){console.error(e)}}function H7e(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var UT=(()=>{class n{_mediaMatcher=B(Mg);_zone=B(Pe);_queries=new Map;_destroySubject=new me;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return DG(tu(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=DG(tu(e)).map(a=>this._registerQuery(a).observable),o=dc(r);return o=pl(o.pipe(Nt(1)),o.pipe(Gd(1),ea(0))),o.pipe(Qe(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new ut(a=>{let s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(Dr(i),Qe(({matches:a})=>({query:e,matches:a})),nn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DG(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var GT=(()=>{class n{_platform=B(ti);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return G7e(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=j7e(K7e(e));if(i&&(IG(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=IG(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!X7e(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return Q7e(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j7e(n){try{return n.frameElement}catch{return null}}function G7e(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function W7e(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function q7e(n){return Y7e(n)&&n.type=="hidden"}function $7e(n){return Z7e(n)&&n.hasAttribute("href")}function Y7e(n){return n.nodeName.toLowerCase()=="input"}function Z7e(n){return n.nodeName.toLowerCase()=="a"}function zG(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function IG(n){if(!zG(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function X7e(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function Q7e(n){return q7e(n)?!1:W7e(n)||$7e(n)||n.hasAttribute("contenteditable")||zG(n)}function K7e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var jT=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,r,o=!1,a){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Ai(t,{injector:this._injector}):setTimeout(t)}},WT=(()=>{class n{_checker=B(GT);_ngZone=B(Pe);_document=B(Me);_injector=B(Ve);constructor(){B(No).load(wg)}create(e,i=!1){return new jT(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jl=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Jl||{}),LG="cdk-high-contrast-black-on-white",AG="cdk-high-contrast-white-on-black",HT="cdk-high-contrast-active",qT=(()=>{class n{_platform=B(ti);_hasCheckedHighContrastMode;_document=B(Me);_breakpointSubscription;constructor(){this._breakpointSubscription=B(UT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Jl.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Jl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Jl.BLACK_ON_WHITE}return Jl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(HT,LG,AG),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Jl.BLACK_ON_WHITE?e.add(HT,LG):i===Jl.WHITE_ON_BLACK&&e.add(HT,AG)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ms(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function $T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Si(n){return n==null?"":typeof n=="string"?n:`${n}px`}var J7e=new ue("cdk-dir-doc",{providedIn:"root",factory:eme});function eme(){return B(Me)}var tme=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function kG(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?tme.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var ka=(()=>{class n{get value(){return this.valueSignal()}valueSignal=fn("ltr");change=new be;constructor(){let e=B(J7e,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(kG(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zc;function NG(){if(Zc==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Zc=!1,Zc;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Zc=!0;else{let n=Element.prototype.scrollTo;n?Zc=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Zc=!1}}return Zc}var e0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({})}return n})();var nme=20,t0=(()=>{class n{_ngZone=B(Pe);_platform=B(ti);_renderer=B(gi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new me;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=nme){return this._platform.isBrowser?new ut(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(dm(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):we()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(et(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=qi(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ime=20,C2=(()=>{class n{_platform=B(ti);_listeners;_viewportSize;_change=new me;_document=B(Me);constructor(){let e=B(Pe),i=B(gi).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=ime){return e>0?this._change.pipe(dm(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({})}return n})(),YT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({imports:[e0,Xc,e0,Xc]})}return n})();var ZT={},S2=(()=>{class n{_appId=B(El);getId(e){return this._appId!=="ng"&&(e+=this._appId),ZT.hasOwnProperty(e)||(ZT[e]=0),`${e}${ZT[e]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var PG=NG();function iu(n){return new Tg(n.get(C2),n.get(Me))}var Tg=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Si(-this._previousScrollPosition.left),t.style.top=Si(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),PG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PG&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};function HG(n,t){return new Eg(n.get(t0),n.get(Pe),n.get(C2),t)}var Eg=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(et(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var V5=class{enable(){}disable(){}attach(){}};function XT(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,o=n.right<e.left,a=n.left>e.right;return i||r||o||a})}function OG(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,o=n.left<e.left,a=n.right>e.right;return i||r||o||a})}function w2(n,t){return new Dg(n.get(t0),n.get(C2),n.get(Pe),t)}var Dg=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();XT(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},jG=(()=>{class n{_injector=B(Ve);constructor(){}noop=()=>new V5;close=e=>HG(this._injector,e);block=()=>iu(this._injector);reposition=e=>w2(this._injector,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n0=class{positionStrategy;scrollStrategy=new V5;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var Ig=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var GG=(()=>{class n{_attachedOverlays=[];_document=B(Me);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WG=(()=>{class n extends GG{_ngZone=B(Pe);_renderer=B(gi).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qG=(()=>{class n extends GG{_platform=B(ti);_ngZone=B(Pe);_renderer=B(gi).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=xr(e)};_clickListener=e=>{let i=xr(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(RG(s.overlayElement,i)||RG(s.overlayElement,r))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RG(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var $G=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),zg=(()=>{class n{_platform=B(ti);_containerElement;_document=B(Me);_styleLoader=B(No);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||$T()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),$T()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load($G)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QT=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,r){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},nu=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new me;_attachments=new me;_detachments=new me;_positionStrategy;_scrollStrategy;_locationChanges=Et.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new me;_outsidePointerEvents=new me;_afterNextRenderRef;constructor(t,e,i,r,o,a,s,l,c,u=!1,d,f){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._renderer=f,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ai(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=X(X({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ie(X({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Si(this._config.width),t.height=Si(this._config.height),t.minWidth=Si(this._config.minWidth),t.minHeight=Si(this._config.minHeight),t.maxWidth=Si(this._config.maxWidth),t.maxHeight=Si(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new QT(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let r=tu(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=Ai(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(e){if(t)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},FG="cdk-overlay-connected-position-bounding-box",rme=/([A-Za-z%]+)$/;function ru(n,t){return new Lg(t,n.get(C2),n.get(Me),n.get(ti),n.get(zg))}var Lg=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new me;_resizeSubscription=Et.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(FG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,r,s),c=this._getOverlayPoint(l,e,s),u=this._getOverlayFit(c,e,i,s);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(u,c,i)){o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(let c of o){let u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r=i.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){let o=VG(e),{x:a,y:s}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let u=0-a,d=a+o.width-i.width,f=0-s,p=s+o.height-i.height,v=this._subtractOverflows(o.width,u,d),_=this._subtractOverflows(o.height,f,p),b=v*_;return{visibleArea:b,isCompletelyWithinViewport:o.width*o.height===b,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,a=BG(this._overlayRef.getConfig().minHeight),s=BG(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||a!=null&&a<=r,c=t.fitsInViewportHorizontally||s!=null&&s<=o;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=VG(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),s=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0),u=0,d=0;return r.width<=o.width?u=c||-a:u=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?d=l||-s:d=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!ome(this._lastScrollVisibility,i)){let r=new Ig(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=t.y,o=i.height-a+this._viewportMargin;else if(e.overlayY==="bottom")s=i.height-t.y+this._viewportMargin*2,o=i.height-s+this._viewportMargin;else{let p=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=p*2,a=t.y-p,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-v/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,u,d,f;if(c)f=i.width-t.x+this._viewportMargin*2,u=t.x-this._viewportMargin;else if(l)d=t.x,u=i.right-t.x;else{let p=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;u=p*2,d=t.x-p,u>v&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-v/2)}return{top:a,left:d,bottom:s,right:f,width:u,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Si(i.height),r.top=Si(i.top),r.bottom=Si(i.bottom),r.width=Si(i.width),r.left=Si(i.left),r.right=Si(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Si(o)),a&&(r.maxWidth=Si(a))}this._lastBoundingBoxSize=i,Qc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Qc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();Qc(i,this._getExactOverlayY(e,t,u)),Qc(i,this._getExactOverlayX(e,t,u))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=Si(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Si(a.maxWidth):o&&(i.maxWidth="")),Qc(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=Si(o.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=Si(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OG(t,i),isOriginOutsideView:XT(t,i),isOverlayClipped:OG(e,i),isOverlayOutsideView:XT(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&tu(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof at)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Qc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function BG(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(rme);return!e||e==="px"?parseFloat(t):null}return n||null}function VG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function ome(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var UG="cdk-global-overlay-wrapper";function ou(n){return new Ag}var Ag=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(UG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),u=this._xPosition,d=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",p="",v="",_="";l?_="flex-start":u==="center"?(_="center",f?v=d:p=d):f?u==="left"||u==="end"?(_="flex-end",p=d):(u==="right"||u==="start")&&(_="flex-start",v=d):u==="left"||u==="start"?(_="flex-start",p=d):(u==="right"||u==="end")&&(_="flex-end",v=d),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":v,e.justifyContent=_,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(UG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},YG=(()=>{class n{_injector=B(Ve);constructor(){}global(){return ou()}flexibleConnectedTo(e){return ru(this._injector,e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function i0(n,t){n.get(No).load($G);let e=n.get(zg),i=n.get(Me),r=n.get(S2),o=n.get(yi),a=n.get(ka),s=i.createElement("div"),l=i.createElement("div");l.id=r.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),s.appendChild(l),e.getContainerElement().appendChild(s);let c=new P5(l,o,n),u=new n0(t),d=n.get(li,null,{optional:!0})||n.get(gi).createRenderer(null,null);return u.direction=u.direction||a.value,new nu(c,s,l,u,n.get(Pe),n.get(WG),i,n.get(is),n.get(qG),t?.disableAnimations??n.get(Dl,null,{optional:!0})==="NoopAnimations",n.get(In),d)}var Vr=(()=>{class n{scrollStrategies=B(jG);_positionBuilder=B(YG);_injector=B(Ve);constructor(){}create(e){return i0(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ame=new ue("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>w2(n)}});function sme(n){let t=B(Ve);return()=>w2(t)}var lme={provide:ame,useFactory:sme},U5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({providers:[Vr,lme],imports:[e0,xg,YT,YT]})}return n})();function ume(n,t){}var r0=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var JT=(()=>{class n extends eu{_elementRef=B(at);_focusTrapFactory=B(WT);_config;_interactivityChecker=B(GT);_ngZone=B(Pe);_focusMonitor=B(Kl);_renderer=B(li);_changeDetectorRef=B(bi);_injector=B(Ve);_platform=B(ti);_document=B(Me);_portalOutlet;_focusTrapped=new me;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=B(r0,{optional:!0})||new r0,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(e){this._isDestroyed||Ai(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=R5(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=R5();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=R5()))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&On(O5,7),i&2){let o;an(o=sn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Sn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[on],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&A(0,ume,0,0,"ng-template",0)},dependencies:[O5],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),H5=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new me;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!ms(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this._canClose(t)){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}_canClose(t){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(t,e,this.componentInstance))}},dme=new ue("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>iu(n)}}),fme=new ue("DialogData"),pme=new ue("DefaultDialogConfig");function mme(n){let t=fn(n),e=new be;return{valueSignal:t,get value(){return t()},change:e,ngOnDestroy(){e.complete()}}}var ZG=(()=>{class n{_injector=B(Ve);_defaultOptions=B(pme,{optional:!0});_parentDialog=B(n,{optional:!0,skipSelf:!0});_overlayContainer=B(zg);_idGenerator=B(S2);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new me;_afterOpenedAtThisLevel=new me;_ariaHiddenElements=new Map;_scrollStrategy=B(dme);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=$s(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Dr(void 0)));constructor(){}open(e,i){let r=this._defaultOptions||new r0;i=X(X({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=i0(this._injector,o),s=new H5(a,i),l=this._attachContainer(a,s,i);if(s.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Nt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(e,s,l,i),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){KT(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){KT(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),KT(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new n0({positionStrategy:e.positionStrategy||ou().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:r0,useValue:r},{provide:H5,useValue:i},{provide:nu,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=JT;let l=new Zl(s,r.viewContainerRef,Ve.create({parent:o||this._injector,providers:a}));return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof Lr){let a=this._createInjector(o,i,r,void 0),s={$implicit:o.data,dialogRef:i};o.templateContext&&(s=X(X({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Xl(e,null,s,a))}else{let a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new Zl(e,o.viewContainerRef,a));i.componentRef=s,i.componentInstance=s.instance}}_createInjector(e,i,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:fme,useValue:e.data},{provide:H5,useValue:i}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(ka,null,{optional:!0}))&&s.push({provide:ka,useValue:mme(e.direction)}),Ve.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KT(n,t){let e=n.length;for(;e--;)t(n[e])}function eE(n){return n!=null&&`${n}`!="false"}var hme=new ue("MATERIAL_ANIMATIONS");var XG=null;function gme(){return B(hme,{optional:!0})?.animationsDisabled||B(Dl,{optional:!0})==="NoopAnimations"?"di-disabled":(XG??=B(Mg).matchMedia("(prefers-reduced-motion)").matches,XG?"reduced-motion":"enabled")}function S1(){return gme()!=="enabled"}var vme=200,kg=class{_letterKeyStream=new me;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new me;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:vme;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Hn(e=>this._pressedLetters.push(e)),ea(t),et(()=>this._pressedLetters.length>0),Qe(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};var Ng=class{_items;_activeItemIndex=fn(-1);_activeItem=fn(null);_wrap=!1;_typeaheadSubscription=Et.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof i2?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):r6(t)&&(this._effectRef=C6(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new me;change=new me;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new kg(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||ms(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex()+t*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex()+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return r6(this._items)?this._items():this._items instanceof i2?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var j5=class extends Ng{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var eW=" ";function yme(n,t,e){let i=Og(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(eW)))}function _me(n,t,e){let i=Og(n,t);e=e.trim();let r=i.filter(o=>o!==e);r.length?n.setAttribute(t,r.join(eW)):n.removeAttribute(t)}function Og(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var tW="cdk-describedby-message",Pg="cdk-describedby-host",rE=0,nW=(()=>{class n{_platform=B(ti);_document=B(Me);_messageRegistry=new Map;_messagesContainer=null;_id=`${rE++}`;constructor(){B(No).load(wg),this._id=B(El)+"-"+rE++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let o=iE(i,r);typeof i!="string"?(JG(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let o=iE(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof i=="string"){let a=this._messageRegistry.get(o);a&&a.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${Pg}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Pg);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");JG(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(iE(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=Og(e,"aria-describedby").filter(r=>r.indexOf(tW)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);yme(e,"aria-describedby",r.messageElement.id),e.setAttribute(Pg,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,_me(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Pg)}_isElementDescribedByMessage(e,i){let r=Og(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iE(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function JG(n,t){n.id||(n.id=`${tW}-${t}-${rE++}`)}var Na=(()=>{class n{constructor(){B(qT)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({imports:[e0,e0]})}return n})();function bme(n,t){}var W5=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},oE="mdc-dialog--open",iW="mdc-dialog--opening",rW="mdc-dialog--closing",xme=150,Cme=75,sW=(()=>{class n extends JT{_animationStateChanged=new be;_animationsEnabled=!S1();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?aW(this._config.enterAnimationDuration)??xme:0;_exitAnimationDuration=this._animationsEnabled?aW(this._config.exitAnimationDuration)??Cme:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(oW,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(iW,oE)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(oE),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(oE),this._animationsEnabled?(this._hostElement.style.setProperty(oW,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(rW)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(iW,rW)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=vi(n)))(r||n)}})();static \u0275cmp=ie({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(Ll("id",r._config.id),Sn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Te("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[on],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1),A(2,bme,0,0,"ng-template",2),h()())},dependencies:[O5],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),oW="--mat-dialog-transition-duration";function aW(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?ps(n.substring(0,n.length-2)):n.endsWith("s")?ps(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var G5=(function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n})(G5||{}),Ni=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new me;_beforeClosed=new me;_result;_closeFallbackTimeout;_state=G5.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._config=e,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(et(r=>r.state==="opened"),Nt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(et(r=>r.state==="closed"),Nt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),j1(this.backdropClick(),this.keydownEvents().pipe(et(r=>r.keyCode===27&&!this.disableClose&&!ms(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),lW(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){let e=this._config.closePredicate;e&&!e(t,this._config,this.componentInstance)||(this._result=t,this._containerInstance._animationStateChanged.pipe(et(i=>i.state==="closing"),Nt(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=G5.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=G5.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function lW(n,t,e){return n._closeInteractionType=t,n.close(e)}var Ur=new ue("MatMdcDialogData"),cW=new ue("mat-mdc-dialog-default-options"),uW=new ue("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>iu(n)}}),Zn=(()=>{class n{_defaultOptions=B(cW,{optional:!0});_scrollStrategy=B(uW);_parentDialog=B(n,{optional:!0,skipSelf:!0});_idGenerator=B(S2);_injector=B(Ve);_dialog=B(ZG);_animationsDisabled=S1();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new me;_afterOpenedAtThisLevel=new me;dialogConfigClass=W5;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=$s(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Dr(void 0)));constructor(){this._dialogRefConstructor=Ni,this._dialogContainerType=sW,this._dialogDataToken=Ur}open(e,i){let r;i=X(X({},this._defaultOptions||new W5),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,Ie(X({},i),{positionStrategy:ou(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||i.enterAnimationDuration?.toLocaleString()==="0"||i.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:r0,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lE(n){let t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return i==="canvas"?pW(n,t):(i==="input"||i==="select"||i==="textarea")&&fW(n,t),dW("canvas",n,t,pW),dW("input, textarea, select",n,t,fW),t}function dW(n,t,e,i){let r=t.querySelectorAll(n);if(r.length){let o=e.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],o[a])}}var Sme=0;function fW(n,t){t.type!=="file"&&(t.value=n.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${Sme++}`)}function pW(n,t){let e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function hE(n){let t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function cE(n,t,e){let{top:i,bottom:r,left:o,right:a}=n;return e>=i&&e<=r&&t>=o&&t<=a}function wme(n,t){let e=t.left<n.left,i=t.left+t.width>n.right,r=t.top<n.top,o=t.top+t.height>n.bottom;return e||i||r||o}function Y5(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function mW(n,t,e,i){let{top:r,right:o,bottom:a,left:s,width:l,height:c}=n,u=l*t,d=c*t;return i>r-d&&i<a+d&&e>s-u&&e<o+u}var Rg=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:hE(e)})})}handleScroll(t){let e=xr(t),i=this.positions.get(e);if(!i)return null;let r=i.scrollPosition,o,a;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,a=c.left}else o=e.scrollTop,a=e.scrollLeft;let s=r.top-o,l=r.left-a;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Y5(c.clientRect,s,l)}),r.top=o,r.left=a,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function MW(n,t){let e=n.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function gE(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function su(n,t){let e=t?"":"none";gE(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function hW(n,t,e){gE(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Fg(n,t){return t&&t!="none"?n+" "+t:n}function gW(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Z5(t.left,t.top)}function Z5(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function vW(n){let t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Mme(n){let t=getComputedStyle(n),e=aE(t,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let r=e.indexOf(i),o=aE(t,"transition-duration"),a=aE(t,"transition-delay");return vW(o[r])+vW(a[r])}function aE(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}var Tme=new Set(["position"]),uE=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,i,r,o,a,s,l,c,u){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=u}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),yW(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return Mme(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,i=t?t.template:null,r;if(i&&t){let o=t.matchSize?this._initialDomRect:null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),r=MW(a,this._document),this._previewEmbeddedView=a,t.matchSize?gW(r,o):r.style.transform=Z5(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=lE(this._rootElement),gW(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return gE(r.style,{"pointer-events":"none",margin:yW(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Tme),su(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function yW(n){return"showPopover"in n}var Eme={passive:!0},_W={passive:!1},Dme={passive:!1,capture:!0},Ime=800,bW="cdk-drag-placeholder",xW=new Set(["position"]),dE=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=fn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new me;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Et.EMPTY;_pointerUpSubscription=Et.EMPTY;_scrollSubscription=Et.EMPTY;_resizeSubscription=Et.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>su(e,t)))}_disabled=!1;beforeStarted=new me;started=new me;released=new me;ended=new me;entered=new me;exited=new me;dropped=new me;moved=this._moveEvents;data;constrainPosition;constructor(t,e,i,r,o,a,s){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new Rg(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>qi(i)),this._handles.forEach(i=>su(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=qi(t);if(e!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"mousedown",this._pointerDown,_W),i.listen(e,"touchstart",this._pointerDown,Eme),i.listen(e,"dragstart",this._nativeDragStart,_W)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?qi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&wme(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let t=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),i=0,r=0;e.left<t.left?i=t.left-e.left:e.right>t.right&&(i=t.right-e.right),e.top<t.top?r=t.top-e.top:e.bottom>t.bottom&&(r=t.bottom-e.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+i,l=a+r;this._rootElement.style.transform=Z5(s,l),this._activeTransform={x:s,y:l},this._passiveTransform={x:s,y:l}}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),su(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),su(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!s){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){q5(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",Lme,Dme)}),i){let r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=new uE(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),hW(r,!1,xW),this._document.body.appendChild(o.replaceChild(a,r)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),r=q5(e),o=!r&&e.button!==0,a=this._rootElement,s=xr(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+Ime>Date.now(),c=r?x2(e):b2(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),i||o||l||c)return;if(this._handles.length){let f=a.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=hE(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){hW(this._rootElement,!0,xW),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,a,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=s=>{(!s||this._preview&&xr(s)===this._preview.element&&s.propertyName==="transform")&&(a(),i(),clearTimeout(o))},o=setTimeout(r,e*1.5),a=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=MW(this._placeholderRef,this._document)):i=lE(this._rootElement),i.style.pointerEvents="none",i.classList.add(bW),i}_getPointerPositionInElement(t,e,i){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,a=q5(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),l=a.pageX-o.left-s.left,c=a.pageY-o.top-s.top;return{x:o.left-t.left+l,y:o.top-t.top+c}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),i=q5(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=o,s.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=s.top+a,d=s.bottom-(c-a),f=s.left+o,p=s.right-(l-o);i=CW(i,f,p),r=CW(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(t){let{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(i-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,su(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,e){let i=1/this.scale,r=Z5(t*i,e*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Fg(r,this._initialTransform)}_applyPreviewTransform(t,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=Z5(t,e);this._preview.setTransform(Fg(r,i))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),a>0&&(t-=a)):t=0,r.height>i.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:q5(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let i=xr(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Y5(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=$c(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let i=this._previewContainer||"global";if(i==="parent")return t;if(i==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return qi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}_conditionallyInsertAnchor(t,e,i){if(t===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let r=this._anchor??=lE(this._placeholder);r.classList.remove(bW),r.classList.add("cdk-drag-anchor"),r.style.transform="",i?i.before(r):qi(e.element).appendChild(r)}}};function CW(n,t,e){return Math.max(t,Math.min(e,n))}function q5(n){return n.type[0]==="t"}function Lme(n){n.preventDefault()}function TW(n,t,e){let i=SW(t,n.length-1),r=SW(e,n.length-1);if(i===r)return;let o=n[i],a=r<i?-1:1;for(let s=i;s!==r;s+=a)n[s]=n[s+a];n[r]=o}function SW(n,t){return Math.max(0,Math.min(t,n))}var Bg=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,i,r){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,r);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",l=o.findIndex(b=>b.drag===t),c=o[a],u=o[l].clientRect,d=c.clientRect,f=l>a?1:-1,p=this._getItemOffsetPx(u,d,f),v=this._getSiblingOffsetPx(l,o,f),_=o.slice();return TW(o,l,a),o.forEach((b,C)=>{if(_[C]===b)return;let w=b.drag===t,E=w?p:v,D=w?t.getPlaceholderElement():b.drag.getRootElement();b.offset+=E;let L=Math.round(b.offset*(1/b.drag.scale));s?(D.style.transform=Fg(`translate3d(${L}px, 0, 0)`,b.initialTransform),Y5(b.clientRect,0,E)):(D.style.transform=Fg(`translate3d(0, ${L}px, 0)`,b.initialTransform),Y5(b.clientRect,E,0))}),this._previousSwap.overlaps=cE(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?r.x:r.y,{previousIndex:l,currentIndex:a}}enter(t,e,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,a=this._activeDraggables,s=a.indexOf(t),l=t.getPlaceholderElement(),c=a[o];if(c===t&&(c=a[o+1]),!c&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=a[0]),s>-1&&a.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let u=c.getRootElement();u.parentElement.insertBefore(l,u),a.splice(o,0,t)}else this._element.appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return this._getVisualItemPositions().findIndex(e=>e.drag===t)}getItemAtIndex(t){return this._getVisualItemPositions()[t]?.drag||null}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Y5(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:hE(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(t,e,i){let r=this.orientation==="horizontal",o=r?e.left-t.left:e.top-t.top;return i===-1&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){let r=this.orientation==="horizontal",o=e[t].clientRect,a=e[t+i*-1],s=o[r?"width":"height"]*i;if(a){let l=r?"left":"top",c=r?"right":"bottom";i===-1?s-=a.clientRect[l]-o[c]:s+=o[l]-a.clientRect[c]}return s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let a=i[i.length-1].clientRect;return r?t>=a.right:e>=a.bottom}else{let a=i[0].clientRect;return r?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,r){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===t)return!1;if(r){let c=o?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return a===-1||!this._sortPredicate(a,t)?-1:a}},fE=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let r=e[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,e,i,r){let o=this._getItemIndexFromPointerPosition(t,e,i),a=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===r.x&&a.deltaY===r.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),u=s.getRootElement();o>l?u.after(c):u.before(c),TW(this._activeItems,l,o);let d=this._getRootNode().elementFromPoint(e,i);return a.deltaX=r.x,a.deltaY=r.y,a.drag=s,a.overlaps=u===d||u.contains(d),{previousIndex:l,currentIndex:o}}enter(t,e,i,r){let o=this._activeItems.indexOf(t);o>-1&&this._activeItems.splice(o,1);let a=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,i):r;a===-1&&(a=this._getClosestItemIndexToPointer(t,e,i));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,t),s.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[r,o]=this._relatedNodes[i];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}getItemAtIndex(t){return this._activeItems[t]||null}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,i){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),o=r?this._activeItems.findIndex(a=>{let s=a.getRootElement();return r===s||s.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=$c(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==t){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),u=Math.hypot(e-l,i-c);u<r&&(r=u,o=a)}}return o}},wW=.05,EW=.05,Pa=(function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n})(Pa||{}),ho=(function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n})(ho||{}),pE=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new me;entered=new me;exited=new me;dropped=new me;sorted=new me;receivingStarted=new me;receivingStopped=new me;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Et.EMPTY;_verticalScrollDirection=Pa.NONE;_horizontalScrollDirection=ho.NONE;_scrollNode;_stopScrollTimers=new me;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let a=this.element=qi(t);this._document=i,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new Rg(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,a,s,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:s,event:l})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof Bg&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new fE(this._document,this._dragDropRegistry);else{let e=new Bg(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=qi(this.element),i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}getItemAtIndex(t){return this._isDragging?this._sortStrategy.getItemAtIndex(t):this._draggables[t]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._domRect||!mW(this._domRect,wW,e,i))return;let o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=Pa.NONE,o=ho.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||i||mW(a.clientRect,wW,t,e)&&([r,o]=Ame(s,a.clientRect,this._direction,t,e),(r||o)&&(i=s))}),!r&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),l={width:a,height:s,top:0,right:a,bottom:s,left:0};r=DW(l,e),o=IW(l,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),jd(0,q7).pipe(nn(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Pa.UP?t.scrollBy(0,-e):this._verticalScrollDirection===Pa.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===ho.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===ho.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return this._domRect!=null&&cE(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!cE(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,i);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,e){let i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=$c(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function DW(n,t){let{top:e,bottom:i,height:r}=n,o=r*EW;return t>=e-o&&t<=e+o?Pa.UP:t>=i-o&&t<=i+o?Pa.DOWN:Pa.NONE}function IW(n,t){let{left:e,right:i,width:r}=n,o=r*EW;return t>=e-o&&t<=e+o?ho.LEFT:t>=i-o&&t<=i+o?ho.RIGHT:ho.NONE}function Ame(n,t,e,i,r){let o=DW(t,r),a=IW(t,i),s=Pa.NONE,l=ho.NONE;if(o){let c=n.scrollTop;o===Pa.UP?c>0&&(s=Pa.UP):n.scrollHeight-c>n.clientHeight&&(s=Pa.DOWN)}if(a){let c=n.scrollLeft;e==="rtl"?a===ho.RIGHT?c<0&&(l=ho.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=ho.LEFT):a===ho.LEFT?c>0&&(l=ho.LEFT):n.scrollWidth-c>n.clientWidth&&(l=ho.RIGHT)}return[s,l]}var $5={capture:!0},sE={passive:!1,capture:!0},zme=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),vE=(()=>{class n{_ngZone=B(Pe);_document=B(Me);_styleLoader=B(No);_renderer=B(gi).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new me;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=fn([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new me;pointerUp=new me;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,sE)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(zme),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=i.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),$5],["selectstart",this._preventDefaultWhileDragging,sE]];r?a.push(["touchend",o,$5],["touchcancel",o,$5]):a.push(["mouseup",o,$5]),r||a.push(["mousemove",s=>this.pointerMove.next(s),sE]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,l,c])=>this._renderer.listen(this._document,s,l,c))})}}stopDragging(e){this._activeDragInstances.update(i=>{let r=i.indexOf(e);return r>-1?(i.splice(r,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this._scroll];return e&&e!==this._document&&i.push(new ut(r=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(e,"scroll",a=>{this._activeDragInstances().length&&r.next(a)},$5);return()=>{o()}}))),j1(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kme={dragStartThreshold:5,pointerDirectionChangeThreshold:5},LW=(()=>{class n{_document=B(Me);_ngZone=B(Pe);_viewportRuler=B(C2);_dragDropRegistry=B(vE);_renderer=B(gi).createRenderer(null,null);constructor(){}createDrag(e,i=kme){return new dE(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new pE(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mE=new ue("CDK_DRAG_PARENT");var AW=new ue("CdkDragHandle"),rr=(()=>{class n{element=B(at);_parentDrag=B(mE,{optional:!0,skipSelf:!0});_dragDropRegistry=B(vE);_stateChanges=new me;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let i=this._dragDropRegistry.getDragDirectiveForNode(e);if(i){this._parentDrag=i,i._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",ri]},features:[Jn([{provide:AW,useExisting:n}])]})}return n})(),Nme=new ue("CDK_DRAG_CONFIG"),Pme=new ue("CdkDropList"),or=(()=>{class n{element=B(at);dropContainer=B(Pme,{optional:!0,skipSelf:!0});_ngZone=B(Pe);_viewContainerRef=B(Ui);_dir=B(ka,{optional:!0});_changeDetectorRef=B(bi);_selfHandle=B(AW,{optional:!0,self:!0});_parentDrag=B(mE,{optional:!0,skipSelf:!0});_dragDropRegistry=B(vE);_destroyed=new me;_handles=new Vn([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new be;released=new be;ended=new be;entered=new be;exited=new be;dropped=new be;moved=new ut(e=>{let i=this._dragRef.moved.pipe(Qe(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=B(Ve);constructor(){let e=this.dropContainer,i=B(Nme,{optional:!0}),r=B(LW);this._dragRef=r.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(nn(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Ai(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),r=i.indexOf(e);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):qi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:ps(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Nt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let r=this._dragDropRegistry.getDragDirectiveForNode(i);if(r){e.withParent(r._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=r||0,this.lockAxis=i||null,o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(Hn(e=>{let i=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Un(e=>j1(...e.map(i=>i._stateChanges.pipe(Dr(i))))),nn(this._destroyed)).subscribe(e=>{let i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){i&2&&Te("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",ri],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Af]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Jn([{provide:mE,useExisting:n}]),rn]})}return n})();var o0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({providers:[LW],imports:[Xc]})}return n})();var zW={prefix:"fab",iconName:"yahoo",icon:[512,512,[],"f19e","M223.8 141.1l-56.7 143.2-56-143.2-96.1 0 105.8 249.1-38.6 89.8 94.2 0 140.9-338.9-93.6 0zM329.2 276.9a58.2 58.2 0 1 0 0 116.4 58.2 58.2 0 1 0 0-116.4zM394.7 32l-93 223.5 104.8 0 92.6-223.5-104.4 0z"]};var Ome=["tooltip"],PW=20;var OW=new ue("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>w2(n,{scrollThrottle:PW})}});function RW(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var FW=new ue("mat-tooltip-default-options",{providedIn:"root",factory:RW});var kW="tooltip-panel",NW=Ql({passive:!0}),Rme=8,Fme=8,Bme=24,Vme=200,Ht=(()=>{class n{_elementRef=B(at);_ngZone=B(Pe);_platform=B(ti);_ariaDescriber=B(nW);_focusMonitor=B(Kl);_dir=B(ka);_injector=B(Ve);_viewContainerRef=B(Ui);_animationsDisabled=S1();_defaultOptions=B(FW,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=BW;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=eE(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=eE(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ps(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ps(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new me;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=Rme}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(nn(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,NW)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Zl(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(nn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof at)return this._overlayRef;this._detach()}let i=this._injector.get(t0).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${kW}`,o=ru(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(nn(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=i0(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(OW)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(nn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(nn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(nn(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!ms(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(nn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(X(X({},r.main),o.main)),this._addOffset(X(X({},r.fallback),o.fallback))])}_addOffset(e){let i=Fme,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=r?-i:i:e.originX==="end"&&(e.offsetX=r?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Ai(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:o}=e,a;if(i==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=i==="bottom"&&o==="top"?"above":"below",a!==this._currentPosition){let s=this._overlayRef;if(s){let l=`${this._cssClassPrefix}-${kW}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,NW)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._injector.get(Me).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||Ai({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&Te("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),BW=(()=>{class n{_changeDetectorRef=B(bi);_elementRef=B(at);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=S1();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new me;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Bme&&e.width>=Vme}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(i);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&On(Ome,7),i&2){let o;an(o=sn())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&k("mouseleave",function(a){return r._handleMouseLeave(a)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=ee();m(0,"div",1,0),k("animationend",function(s){return N(o),P(r._handleAnimationEnd(s))}),m(2,"div",2),y(3),h()()}i&2&&(Te("mdc-tooltip--multiline",r._isMultiline),x("ngClass",r.tooltipClass),g(3),j(r.message))},dependencies:[Oe],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();function Ume(n,t){if(n&1&&(m(0,"span",4),y(1),h()),n&2){let e=M();g(),q(" ",e.label," ")}}var a0=(()=>{let t=class t{constructor(){this.title="",this.color="gray",this.action="view",this.noIconBackground=!1,this.handleAction=new be,this.bgStyles={blue:"bg-blue-500 text-white hover:bg-blue-600 shadow-sm",red:"bg-red-500 text-white hover:bg-red-600 shadow-sm",green:"bg-green-500 text-white hover:bg-green-600 shadow-sm",orange:"bg-orange-500 text-white hover:bg-orange-600 shadow-sm",gray:"bg-gray-500 text-white hover:bg-gray-700 shadow-sm"},this.textStyles={blue:"text-blue-500 hover:text-blue-600",red:"text-red-500  hover:text-red-600",green:"text-green-500 hover:text-green-600",orange:"text-orange-500 hover:text-orange-600",gray:"text-gray-600 hover:text-gray-700"},this.view=fs,this.add=lG,this.addUser=mg,this.modify=Fj,this.cancel=vg,this.exit=z5,this.delete=$l,this.refresh=gG,this.chart=iG,this.copy=cG,this.buy=Vj,this.sell=Nj,this.pause=pG,this.activate=Qj,this.info=k5,this.unlink=uG,this.link=qj,this.login=fg,this.list=yg,this.collapseLeft=Oj,this.enlargeRight=jj,this.collapseUp=fG,this.enlargeDown=oG,this.expand=Pj,this.addToCart=A5,this.execute=Bj,this.yahooFinance=zW,this.basket=A5}ngOnInit(){}buttonStyle(){return this.noIconBackground?this.textStyles[this.color]:this.bgStyles[this.color]}buttonColor(){return this.noIconBackground?this.textStyles[this.color]:"text-white"}handleClick(i,r){this.handleAction.emit({action:i,row:r})}get icon(){switch(this.action){case"view":return this.view;case"add":return this.add;case"addUser":return this.addUser;case"modify":return this.modify;case"cancel":return this.cancel;case"exit":return this.exit;case"delete":return this.delete;case"refresh":return this.refresh;case"chart":return this.chart;case"copy":return this.copy;case"buy":return this.buy;case"sell":return this.sell;case"pause":return this.pause;case"activate":return this.activate;case"unlink":return this.unlink;case"link":return this.link;case"login":return this.login;case"list":return this.list;case"collapseLeft":return this.collapseLeft;case"enlargeRight":return this.enlargeRight;case"collapseUp":return this.collapseUp;case"enlargeDown":return this.enlargeDown;case"expand":return this.expand;case"addToCart":return this.addToCart;case"execute":return this.execute;case"yahooFinance":return this.yahooFinance;case"basket":return this.basket;case"info":default:return this.info}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-action-button"]],inputs:{title:"title",label:"label",color:"color",action:"action",row:"row",noIconBackground:"noIconBackground"},outputs:{handleAction:"handleAction"},decls:4,vars:5,consts:[[1,"flex","items-center","gap-2"],[1,"px-2","py-1","rounded-md","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-all","flex","items-center","ml-2",3,"click","ngClass","matTooltip"],[3,"icon","ngClass"],["class","ml-3 text-sm font-medium",4,"ngIf"],[1,"ml-3","text-sm","font-medium"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"button",1),k("click",function(){return o.handleClick(o.action,o.row)}),F(2,"fa-icon",2),A(3,Ume,2,1,"span",3),h()()),r&2&&(g(),x("ngClass",o.buttonStyle())("matTooltip",o.title),g(),x("icon",o.icon)("ngClass",o.buttonColor()),g(),x("ngIf",o.label))},dependencies:[Oe,ot,ye,Ht],encapsulation:2});let n=t;return n})();var vt=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(vt||{}),Oa="*";function e3(n,t){return{type:vt.Trigger,name:n,definitions:t,options:{}}}function gs(n,t=null){return{type:vt.Animate,styles:t,timings:n}}function VW(n,t=null){return{type:vt.Sequence,steps:n,options:t}}function Cr(n){return{type:vt.Style,styles:n,offset:null}}function s0(n,t,e){return{type:vt.State,name:n,styles:t,options:e}}function M2(n,t,e=null){return{type:vt.Transition,expr:n,animation:t,options:e}}function Vg(n,t,e=null){return{type:vt.Query,selector:n,animation:t,options:e}}function Ug(n,t){return{type:vt.Stagger,timings:n,animation:t}}var hs=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Jc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},lu="!";var Pi=e3("expandCollapse",[s0("collapsed",Cr({height:"0px",opacity:0,padding:"0"})),s0("expanded",Cr({height:"*",opacity:1})),M2("collapsed <=> expanded",gs("300ms ease"))]),UW=e3("listAnimation",[M2("* => *",[Vg(":enter",[Cr({opacity:0,transform:"translateY(-10px)"}),Ug(50,[gs("200ms ease-out",Cr({opacity:1,transform:"translateY(0)"}))])],{optional:!0}),Vg(":leave",[Ug(50,[gs("150ms ease-out",Cr({opacity:0,transform:"translateY(10px)"}))])],{optional:!0})])]),HW=e3("fadeInUp",[M2(":enter",[Cr({opacity:0,transform:"translateY(20px)"}),gs("400ms ease-out",Cr({opacity:1,transform:"translateY(0)"}))]),M2(":leave",[gs("300ms ease-in",Cr({opacity:0,transform:"translateY(-20px)"}))])]);function jW(n,t){n.terminate=function(){let e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;let i=new Date,r=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=a=>{let s=new Date().getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${s}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),o?.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}var t3={LF:`
`,NULL:"\0"};var X5=class n{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){let{command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:a,skipContentLengthHeader:s}=t;this.command=e,this.headers=Object.assign({},i||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=s||!1}static fromRawFrame(t,e){let i={},r=o=>o.replace(/^\s+|\s+$/g,"");for(let o of t.headers.reverse()){let a=o.indexOf(":"),s=r(o[0]),l=r(o[1]);e&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=n.hdrValueUnEscape(l)),i[s]=l}return new n({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){let t=this.serializeCmdAndHeaders();return this.isBinaryBody?n.toUnit8Array(t,this._binaryBody).buffer:t+this._body+t3.NULL}serializeCmdAndHeaders(){let t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(let e of Object.keys(this.headers||{})){let i=this.headers[e];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${e}:${n.hdrValueEscape(`${i}`)}`):t.push(`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(t3.LF)+t3.LF+t3.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){let t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,e){let i=new TextEncoder().encode(t),r=new Uint8Array([0]),o=new Uint8Array(i.length+e.length+r.length);return o.set(i),o.set(e,i.length),o.set(r,i.length+e.length),o}static marshall(t){return new n(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}};var Hg=class{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let i;if(typeof t=="string"?i=this._encoder.encode(t):i=new Uint8Array(t),e&&i[i.length-1]!==0){let r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++){let o=i[r];this._onByte(o)}}_collectFrame(t){if(t!==0&&t!==13){if(t===10){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==13){if(t===10){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==13){if(t===10){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===58){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==13){if(t===10){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){let t=this._results.headers.filter(e=>e[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===0){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var T2=(function(n){return n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED",n})(T2||{}),w1=(function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE",n})(w1||{}),jg=(function(n){return n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL",n})(jg||{}),cu=(function(n){return n.Interval="interval",n.Worker="worker",n})(cu||{});var Gg=class{constructor(t,e=cu.Interval,i){this._interval=t,this._strategy=e,this._debug=i,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===cu.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=e=>t(e.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){let e=Date.now();this._timer=setInterval(()=>{t(Date.now()-e)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}};var $i=class{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}};$i.V1_0="1.0";$i.V1_1="1.1";$i.V1_2="1.2";$i.default=new $i([$i.V1_2,$i.V1_1,$i.V1_0]);var Wg=class{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,e,i){this._client=t,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===$i.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{let o=r.headers.subscription,a=this._subscriptions[o]||this.onUnhandledMessage,s=r,l=this,c=this._connectedVersion===$i.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(u={})=>l.ack(c,o,u),s.nack=(u={})=>l.nack(c,o,u),a(s)},RECEIPT:r=>{let o=this._receiptWatchers[r.headers["receipt-id"]];o?(o(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatToleranceMultiplier=i.heartbeatGracePeriods,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame,this.onHeartbeatReceived=i.onHeartbeatReceived,this.onHeartbeatLost=i.onHeartbeatLost}start(){let t=new Hg(e=>{let i=X5.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let i=e.data instanceof ArrayBuffer?new TextDecoder().decode(e.data):e.data;this.debug(`<<< ${i}`)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{let e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(t){if(t.version!==$i.V1_1&&t.version!==$i.V1_2||!t["heart-beat"])return;let[e,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(this.heartbeatOutgoing!==0&&i!==0){let r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=new Gg(r,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===T2.OPEN&&(this._webSocket.send(t3.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&e!==0){let r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{let o=Date.now()-this._lastServerActivityTS;o>r*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${o}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===T2.CONNECTING||this._webSocket.readyState===T2.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&jW(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){let{command:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:a}=t,s=new X5({command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a}),l=s.serialize();if(this.logRawCommunication?this.debug(`>>> ${l}`):this.debug(`>>> ${s}`),this.forceBinaryWSFrames&&typeof l=="string"&&(l=new TextEncoder().encode(l)),typeof l!="string"||!this.splitLargeFrames)this._webSocket.send(l);else{let c=l;for(;c.length>0;){let u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}}dispose(){if(this.connected)try{let t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===T2.CONNECTING||this._webSocket.readyState===T2.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){let{destination:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:a}=t,s=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:s,body:r,binaryBody:o,skipContentLengthHeader:a})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,i={}){i=Object.assign({},i),i.id||(i.id=`sub-${this._counter++}`),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});let r=this;return{id:i.id,unsubscribe(o){return r.unsubscribe(i.id,o)}}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){let e=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:e}});let i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,i={}){i=Object.assign({},i),this._connectedVersion===$i.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(t,e,i={}){return i=Object.assign({},i),this._connectedVersion===$i.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})}};var qg=class{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===w1.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=$i.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=jg.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=cu.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=w1.INACTIVE;let e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onHeartbeatReceived=e,this.onHeartbeatLost=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){let t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(w1.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===w1.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){return Jo(this,null,function*(){if(yield this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let t=this._createWebSocket();this._stompHandler=new Wg(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:e=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(e)},onDisconnect:e=>{this.onDisconnect(e)},onStompError:e=>{this.onStompError(e)},onWebSocketClose:e=>{this._stompHandler=void 0,this.state===w1.DEACTIVATING&&this._changeState(w1.INACTIVE),this.onWebSocketClose(e),this.active&&this._schedule_reconnect()},onWebSocketError:e=>{this.onWebSocketError(e)},onUnhandledMessage:e=>{this.onUnhandledMessage(e)},onUnhandledReceipt:e=>{this.onUnhandledReceipt(e)},onUnhandledFrame:e=>{this.onUnhandledFrame(e)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()})}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===jg.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}deactivate(){return Jo(this,arguments,function*(t={}){let e=t.force||!1,i=this.active,r;if(this.state===w1.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(w1.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==T2.CLOSED){let o=this._stompHandler.onWebSocketClose;r=new Promise((a,s)=>{this._stompHandler.onWebSocketClose=l=>{o(l),a()}})}else return this._changeState(w1.INACTIVE),Promise.resolve();return e?this._stompHandler?.discardWebsocket():i&&this._disposeStompHandler(),r})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,e){this._checkConnection(),this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,e,i)}unsubscribe(t,e={}){this._checkConnection(),this._stompHandler.unsubscribe(t,e)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,e,i={}){this._checkConnection(),this._stompHandler.ack(t,e,i)}nack(t,e,i={}){this._checkConnection(),this._stompHandler.nack(t,e,i)}};var LY=T7(IY());var ar=(()=>{let t=class t{constructor(i){this.api=i,this.authStatus=new Vn(!!localStorage.getItem("trade-manage-app-token")),this.authStatus$=this.authStatus.asObservable(),this.loggingOut=!1}login(i){return this.api.post("/auth/login",i).pipe(Hn(r=>{localStorage.setItem("trade-manage-app-token",r.token)}))}sendSignupOtp(i){return this.api.post("/auth/signup/send-otp",i)}sendLoginOtp(i){return this.api.post("/auth/login/send-otp",i)}signup(i){return this.api.post("/auth/signup",i)}logout(){this.loggingOut=!0,localStorage.removeItem("trade-manage-app-token"),this.setAuthenticated(!1)}getToken(){return localStorage.getItem("trade-manage-app-token")}setAuthenticated(i){this.authStatus.next(i)}isAuthenticated(){return this.authStatus.getValue()}isLoggingOut(){return this.loggingOut}resetLoggingOutFlag(){this.loggingOut=!1}isAdmin(){let i=this.getToken();if(!i)return null;try{return JSON.parse(atob(i.split(".")[1])).isAdmin||null}catch{return null}}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var sr=(()=>{let t=class t{constructor(i,r){this.authUserService=i,this.appProperties=r,this.connected$=new Vn(!1),this.tick$=new me,this.order$=new me,this.tokenRefCount=new Map,this.client=new qg({webSocketFactory:()=>{let o=i.getToken();if(o){let a=this.appProperties.getConfig().wsUrl;return new LY.default(`${a}?token=${o}`)}else throw new Error("Cannot establish WebSocket connection: Token is missing")},reconnectDelay:5e3,onConnect:()=>{this.connected$.next(!0),this.client.subscribe("/user/queue/ticks",o=>{let a=JSON.parse(o.body);this.tick$.next(JSON.parse(o.body))}),this.client.subscribe("/user/queue/orders",o=>{this.order$.next(JSON.parse(o.body))})},onWebSocketClose:()=>this.connected$.next(!1),debug:o=>console.debug(o)}),this.client.activate()}connectionState(){return this.connected$.asObservable()}ticks(){return this.tick$.asObservable()}orderUpdates(){return this.order$.asObservable()}subscribe(i){for(let r of i){let o=this.tokenRefCount.get(r)||0;this.tokenRefCount.set(r,o+1)}if(i.length<1){console.log("No new instrument tokens for subscription.");return}this.client.connected?this.client.publish({destination:"/app/subscribe",body:JSON.stringify({instrumentTokens:i})}):console.warn("WebSocket client is not connected. Cannot subscribe.")}unsubscribe(i){let r=[];for(let o of i){let a=this.tokenRefCount.get(o);a!==void 0&&(a<=1?(this.tokenRefCount.delete(o),r.push(o)):this.tokenRefCount.set(o,a-1))}return r.length<1?(console.log("No unique instrument tokens for un-subscribe."),we(void 0)):this.client.connected?(this.client.publish({destination:"/app/unsubscribe",body:JSON.stringify({instrumentTokens:r})}),Ys(100).pipe(Qe(()=>{}))):(console.warn("WebSocket client is not connected. Cannot unsubscribe."),we(void 0))}disconnect(){this.client.deactivate()}ngOnDestroy(){this.disconnect()}};t.\u0275fac=function(r){return new(r||t)(ae(ar),ae(Ul))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var AY=(()=>{let t=class t{constructor(i,r){this.api=i,this.http=r}getInstrumentByToken(i){return this.api.get(`/v1/instruments?instrumentToken=${i}`)}getInstrumentBySymbol(i,r){return this.api.get(`/v1/instruments?tradingSymbol=${i}&exchange=${r}`)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt),ae(kl))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var zY=["toast-component",""];function $9e(n,t){if(n&1){let e=ee();m(0,"button",5),k("click",function(){N(e);let r=M();return P(r.remove())}),m(1,"span",6),y(2,"\xD7"),h()()}}function Y9e(n,t){if(n&1&&(At(0),y(1),zt()),n&2){let e=M(2);g(),q("[",e.duplicatesCount+1,"]")}}function Z9e(n,t){if(n&1&&(m(0,"div"),y(1),A(2,Y9e,2,1,"ng-container",4),h()),n&2){let e=M();Rn(e.options.titleClass),Sn("aria-label",e.title),g(),q(" ",e.title," "),g(),x("ngIf",e.duplicatesCount)}}function X9e(n,t){if(n&1&&F(0,"div",7),n&2){let e=M();Rn(e.options.messageClass),x("innerHTML",e.message,h6)}}function Q9e(n,t){if(n&1&&(m(0,"div",8),y(1),h()),n&2){let e=M();Rn(e.options.messageClass),Sn("aria-label",e.message),g(),q(" ",e.message," ")}}function K9e(n,t){if(n&1&&(m(0,"div"),F(1,"div",9),h()),n&2){let e=M();g(),ts("width",e.width()+"%")}}function J9e(n,t){if(n&1){let e=ee();m(0,"button",5),k("click",function(){N(e);let r=M();return P(r.remove())}),m(1,"span",6),y(2,"\xD7"),h()()}}function ege(n,t){if(n&1&&(At(0),y(1),zt()),n&2){let e=M(2);g(),q("[",e.duplicatesCount+1,"]")}}function tge(n,t){if(n&1&&(m(0,"div"),y(1),A(2,ege,2,1,"ng-container",4),h()),n&2){let e=M();Rn(e.options.titleClass),Sn("aria-label",e.title),g(),q(" ",e.title," "),g(),x("ngIf",e.duplicatesCount)}}function nge(n,t){if(n&1&&F(0,"div",7),n&2){let e=M();Rn(e.options.messageClass),x("innerHTML",e.message,h6)}}function ige(n,t){if(n&1&&(m(0,"div",8),y(1),h()),n&2){let e=M();Rn(e.options.messageClass),Sn("aria-label",e.message),g(),q(" ",e.message," ")}}function rge(n,t){if(n&1&&(m(0,"div"),F(1,"div",9),h()),n&2){let e=M();g(),ts("width",e.width()+"%")}}var lD=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},cD=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},uD=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new me;_activate=new me;_manualClose=new me;_resetTimeout=new me;_countDuplicate=new me;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},yu=class{toastId;config;message;title;toastType;toastRef;_onTap=new me;_onAction=new me;constructor(t,e,i,r,o,a){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},kY={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},NY=new ue("ToastConfig"),dD=class extends cD{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},oge=(()=>{class n{_document=B(Me);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fD=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},age=(()=>{class n{_overlayContainer=B(oge);_componentFactoryResolver=B(Dc);_appRef=B(yi);_document=B(Me);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new dD(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new fD(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tt=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,o,a){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=a,this.toastrConfig=X(X({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=X(X({},e.default.iconClasses),e.config.iconClasses))}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}error(e,i,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}info(e,i,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}warning(e,i,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){let{includeTitleDuplicates:a}=this.toastrConfig;for(let s of this.toasts){let l=a&&s.title===e;if((!a||l)&&s.message===i)return s.toastRef.onDuplicate(r,o),s}return null}applyConfig(e={}){return X(X({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let a=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&a!==null)return a;this.previousToastMessage=i;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&o.enableHtml&&(c=this.sanitizer.sanitize(Eo.HTML,i));let u=new uD(l),d=new yu(this.index,o,c,r,e,u),f=[{provide:yu,useValue:d}],p=Ve.create({providers:f,parent:this._injector}),v=new lD(o.toastComponent,p),_=l.attach(v,o.newestOnTop);u.componentInstance=_.instance;let b={toastId:this.index,title:r||"",message:i||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:_};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{b.toastRef.activate()})),this.toasts.push(b),b}static \u0275fac=function(i){return new(i||n)(ae(NY),ae(age),ae(Ve),ae(Qf),ae(Pe))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sge=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=fn(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=fn({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>Ie(X({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>Ie(X({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>Ie(X({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(V(tt),V(yu),V(Pe))};static \u0275cmp=ie({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&k("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Lh("@flyInOut",r._state),Rn(r.toastClasses),ts("display",r.displayStyle))},attrs:zY,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&A(0,$9e,3,0,"button",0)(1,Z9e,3,5,"div",1)(2,X9e,1,3,"div",2)(3,Q9e,2,4,"div",3)(4,K9e,2,2,"div",4),i&2&&(x("ngIf",r.options.closeButton),g(),x("ngIf",r.title),g(),x("ngIf",r.message&&r.options.enableHtml),g(),x("ngIf",r.message&&!r.options.enableHtml),g(),x("ngIf",r.options.progressBar))},dependencies:[ye],encapsulation:2,data:{animation:[e3("flyInOut",[s0("inactive",Cr({opacity:0})),s0("active",Cr({opacity:1})),s0("removed",Cr({opacity:0})),M2("inactive => active",gs("{{ easeTime }}ms {{ easing }}")),M2("active => removed",gs("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),lge=Ie(X({},kY),{toastComponent:sge}),PY=(n={})=>W1([{provide:NY,useValue:{default:lge,config:n}}]);var cge=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=fn(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=fn("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(V(tt),V(yu),V(yi))};static \u0275cmp=ie({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&k("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Rn(r.toastClasses),ts("display",r.displayStyle))},attrs:zY,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&A(0,J9e,3,0,"button",0)(1,tge,3,5,"div",1)(2,nge,1,3,"div",2)(3,ige,2,4,"div",3)(4,rge,2,2,"div",4),i&2&&(x("ngIf",r.options.closeButton),g(),x("ngIf",r.title),g(),x("ngIf",r.message&&r.options.enableHtml),g(),x("ngIf",r.message&&!r.options.enableHtml),g(),x("ngIf",r.options.progressBar))},dependencies:[ye],encapsulation:2,changeDetection:0})}return n})(),clt=Ie(X({},kY),{toastComponent:cge});var pD=(n,t)=>({"bg-green-500":n,"bg-red-500":t}),uge=(n,t)=>({left:n,width:t}),OY=n=>({left:n,top:"50%",transform:"translate(-50%, -50%)"}),dge=n=>({"bg-blue-100 font-semibold":n}),fge=n=>({"bg-red-100 font-semibold":n});function pge(n,t){if(n&1){let e=ee();m(0,"tr")(1,"td",32),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.openOrderDialog(o.marketDepth.buy[r].price,"BUY"))}),y(2),Y(3,"number"),h(),m(4,"td"),y(5),h(),m(6,"td",33),y(7),Y(8,"number"),h(),m(9,"td",34),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.openOrderDialog(o.marketDepth.sell[r].price,"SELL"))}),y(10),Y(11,"number"),h(),m(12,"td",28),y(13),h(),m(14,"td",35),y(15),Y(16,"number"),h()()}if(n&2){let e=t.$implicit,i=M(2);g(2),q(" ",J(3,8,i.marketDepth.buy[e].price,"1.2-2")," "),g(3),j(i.marketDepth.buy[e].orders),g(),x("ngClass",_i(18,dge,i.marketDepth.buy[e].quantity===i.maxBidQty)),g(),q(" ",Do(8,11,i.marketDepth.buy[e].quantity)," "),g(3),q(" ",J(11,13,i.marketDepth.sell[e].price,"1.2-2")," "),g(3),j(i.marketDepth.sell[e].orders),g(),x("ngClass",_i(20,fge,i.marketDepth.sell[e].quantity===i.maxOfferQty)),g(),q(" ",Do(16,16,i.marketDepth.sell[e].quantity)," ")}}function mge(n,t){if(n&1&&(m(0,"table",23)(1,"thead",24)(2,"tr")(3,"th",25),y(4,"Bid"),h(),m(5,"th",26),y(6,"Orders"),h(),m(7,"th",26),y(8,"Qty"),h(),m(9,"th",27),y(10,"Offer"),h(),m(11,"th",28),y(12,"Orders"),h(),m(13,"th",28),y(14,"Qty"),h()()(),m(15,"tbody"),A(16,pge,17,22,"tr",29),m(17,"tr")(18,"td",30),y(19,"Total"),h(),F(20,"td"),m(21,"td"),y(22),Y(23,"number"),h(),m(24,"td",31),y(25,"Total"),h(),F(26,"td"),m(27,"td",28),y(28),Y(29,"number"),h()()()()),n&2){let e=M();g(16),x("ngForOf",e.depthLevels),g(6),j(Do(23,3,e.tick.totalBuyQuantity)),g(6),j(Do(29,5,e.tick.totalSellQuantity))}}function hge(n,t){if(n&1){let e=ee();m(0,"app-action-button",36),k("handleAction",function(){N(e);let r=M();return P(r.isSummaryCollapsed=!r.isSummaryCollapsed)}),h()}if(n&2){let e=M();x("title",e.isSummaryCollapsed?"Expand":"Collapse")("action",e.isSummaryCollapsed?"enlargeDown":"collapseUp")("color","gray")("noIconBackground",!0)}}function gge(n,t){if(n&1&&(m(0,"div",15)(1,"span"),y(2,"Lot Size"),h(),m(3,"span"),y(4),h()()),n&2){let e=M(2);g(4),j(e.instrument.lotSize)}}function vge(n,t){if(n&1&&(m(0,"div",15)(1,"span"),y(2,"OI"),h(),m(3,"span"),y(4),Y(5,"number"),h()()),n&2){let e=M(2);g(4),j(Do(5,1,e.tick.oi))}}function yge(n,t){if(n&1&&(m(0,"div",15)(1,"span"),y(2,"Expiry"),h(),m(3,"span"),y(4),Y(5,"istDate"),h()()),n&2){let e=M(2);g(4),j(J(5,1,e.instrument.expiry,"date-ordinal"))}}function _ge(n,t){if(n&1&&(m(0,"div",37)(1,"div",15)(2,"span"),y(3,"Volume"),h(),m(4,"span"),y(5),Y(6,"number"),h()(),m(7,"div",15)(8,"span"),y(9,"Avg. Price"),h(),m(10,"span"),y(11),Y(12,"number"),h()(),m(13,"div",15)(14,"span"),y(15,"LTQ"),h(),m(16,"span"),y(17),h()(),m(18,"div",15)(19,"span"),y(20,"LTT"),h(),m(21,"span"),y(22),Y(23,"istDate"),h()(),A(24,gge,5,1,"div",38)(25,vge,6,3,"div",38)(26,yge,6,4,"div",38),h()),n&2){let e=M();g(5),j(Do(6,7,e.tick.volumeTradedToday)),g(6),j(J(12,9,e.tick.averageTradePrice,"1.2-2")),g(6),j(e.tick.lastTradedQuantity),g(5),j(J(23,12,e.tick.lastTradedTime,"time-no-mod")),g(2),x("ngIf",e.instrument.lotSize>1),g(),x("ngIf",e.tick.oi),g(),x("ngIf",e.instrument.expiry)}}var RY=(()=>{let t=class t{constructor(i,r,o,a,s,l,c){this.ws=i,this.dialogRef=r,this.dialog=o,this.data=a,this.overlay=s,this.instrumentsService=l,this.toastrService=c,this.title="Instrument Name",this.instrumentToken=0,this.instrument={},this.marketDepth={buy:[{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0}],sell:[{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0}]},this.depthLevels=[],this.maxBidQty=0,this.maxOfferQty=0,this.tick={},this.faArrowTrendUp=zj,this.isSummaryCollapsed=!0,this.instrumentToken=Number(a.instrumentToken),this.title=a.title}ngOnInit(){let i=Math.min(this.marketDepth.buy.length,this.marketDepth.sell.length);this.depthLevels=Array.from({length:i},(r,o)=>o),this.subscribeToWebSocket(),this.fetchInstrument()}fetchInstrument(i){this.instrumentsService.getInstrumentByToken(this.instrumentToken).subscribe({next:r=>{this.instrument=r.data},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching instrument. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}ngOnDestroy(){this.ws.unsubscribe([this.instrumentToken]),this.sub?.unsubscribe(),this.instrumentToken=0}subscribeToWebSocket(){this.instrumentToken>0?(this.ws.connectionState().pipe(et(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe([this.instrumentToken])}),this.sub=this.ws.ticks().subscribe(i=>{this.updateMarketDepth(i)})):console.log("No instrument tokens available for web socket subscription.")}updateMarketDepth(i){i.forEach(r=>{if(this.instrumentToken===r.instrumentToken)if(this.tick=r,r.tradable){this.marketDepth=r.marketDepth;let o=Math.min(this.marketDepth.buy.length,this.marketDepth.sell.length);this.depthLevels=Array.from({length:o},(a,s)=>s),this.maxBidQty=Math.max(...this.marketDepth.buy.map(a=>a.quantity)),this.maxOfferQty=Math.max(...this.marketDepth.sell.map(a=>a.quantity))}else this.isSummaryCollapsed=!1})}onClose(){this.dialogRef.close()}openOrderDialog(i,r){let o={exchange:this.instrument.exchange,tradingSymbol:this.instrument.tradingSymbol,instrumentToken:this.instrument.instrumentToken,lastPrice:i,displayName:this.instrument.displayName,segment:this.instrument.segment||this.instrument.order.exchange},a={isCopy:!0,isBuyMode:r,originalPrice:i,originalTriggerPrice:0}}getPercent(i){let r=this.tick.highPrice-this.tick.lowPrice;return`${(i-this.tick.lowPrice)/r*100}%`}getMinPercent(i,r){let o=Math.min(i,r);return this.getPercent(o)}getWidthBetween(i,r){let o=this.tick.highPrice-this.tick.lowPrice;return`${Math.abs(i-r)/o*100}%`}};t.\u0275fac=function(r){return new(r||t)(V(sr),V(Ni),V(Zn),V(Ur),V(Vr),V(AY),V(tt))},t.\u0275cmp=ie({type:t,selectors:[["app-market-depth"]],decls:55,vars:57,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[400px]","max-w-full","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","gap-2","p-4","border-b","cursor-move"],[1,"font-medium"],[1,"text-xs","text-gray-500","font-normal","ml-1"],[1,"font-medium","text-right","sm:text-left",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"p-4","space-y-4","text-sm"],[1,"overflow-hidden","transition-all","duration-300"],[1,"overflow-x-auto"],["class","w-full",4,"ngIf"],[1,"flex","items-center","justify-between",3,"ngClass"],[1,"font-medium","hover:underline",3,"click"],[3,"title","action","color","noIconBackground","handleAction",4,"ngIf"],[1,"space-y-4"],[1,"grid","grid-cols-2","sm:grid-cols-2","gap-2"],[1,"flex","justify-between"],[1,"relative","h-1","mt-3","mb-6","bg-gray-200"],[1,"absolute","top-0","h-1","rounded-md",3,"ngClass","ngStyle"],[1,"absolute","w-2","h-2","square-full",3,"ngClass","ngStyle","matTooltip"],[1,"absolute","w-2","h-2","rounded-full",3,"ngClass","ngStyle","matTooltip"],["class","grid grid-cols-2 gap-2 border-t pt-2",4,"ngIf"],["cdkDragHandle","",1,"flex","justify-end","border-t","px-4","py-3","cursor-move"],[1,"px-4","py-2","border","rounded","hover:bg-gray-100",3,"click"],[1,"w-full"],[1,"border-b","font-medium"],[1,"text-blue-600","text-left"],[1,"text-left"],[1,"text-right","text-red-600"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-blue-600"],[1,"text-red-600","text-right"],[1,"text-blue-600","hover:underline","cursor-pointer",3,"click"],[3,"ngClass"],[1,"text-red-600","text-right","hover:underline","cursor-pointer",3,"click"],[1,"text-right",3,"ngClass"],[3,"handleAction","title","action","color","noIconBackground"],[1,"grid","grid-cols-2","gap-2","border-t","pt-2"],["class","flex justify-between",4,"ngIf"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"span",2),y(3),m(4,"span",3),y(5),h()(),m(6,"span",4),y(7),Y(8,"number"),m(9,"span",5),y(10),Y(11,"percent"),h()()(),m(12,"div",6)(13,"div",7)(14,"div",8),A(15,mge,30,7,"table",9),h()(),m(16,"div",10)(17,"button",11),k("click",function(){return o.isSummaryCollapsed=!o.isSummaryCollapsed}),y(18,"Summary"),h(),A(19,hge,1,4,"app-action-button",12),h(),m(20,"div",7)(21,"div",13)(22,"div",14)(23,"div",15)(24,"span"),y(25,"Open"),h(),m(26,"span"),y(27),Y(28,"number"),h()(),m(29,"div",15)(30,"span"),y(31,"Prev. Close"),h(),m(32,"span"),y(33),Y(34,"number"),h()(),m(35,"div",15)(36,"span"),y(37,"Low"),h(),m(38,"span"),y(39),Y(40,"number"),h()(),m(41,"div",15)(42,"span"),y(43,"High"),h(),m(44,"span"),y(45),Y(46,"number"),h()()(),m(47,"div",16),F(48,"div",17)(49,"div",18)(50,"div",19),h(),A(51,_ge,27,15,"div",20),h()()(),m(52,"div",21)(53,"button",22),k("click",function(){return o.onClose()}),y(54,"Close"),h()()()),r&2&&(g(3),q("",o.title," "),g(2),j(o.instrument.exchange),g(),x("ngClass",o.color(o.tick.change)),g(),q(" ",J(8,23,o.tick.lastTradedPrice,"1.2-2")," "),g(3),q(" ",J(11,26,o.tick.change/100,"1.2-2")," "),g(3),x("@expandCollapse",o.tick.tradable?"expanded":"collapsed"),g(2),x("ngIf",o.tick.tradable),g(),x("ngClass",o.tick.tradable?"border-t pt-2":"pt-0"),g(3),x("ngIf",o.tick.tradable),g(),x("@expandCollapse",o.isSummaryCollapsed?"collapsed":"expanded"),g(7),j(J(28,29,o.tick.openPrice,"1.2-2")),g(6),j(J(34,32,o.tick.closePrice,"1.2-2")),g(6),j(J(40,35,o.tick.lowPrice,"1.2-2")),g(6),j(J(46,38,o.tick.highPrice,"1.2-2")),g(3),x("ngClass",gt(41,pD,o.tick.lastTradedPrice>=o.tick.closePrice,o.tick.lastTradedPrice<o.tick.closePrice))("ngStyle",gt(44,uge,o.getMinPercent(o.tick.openPrice,o.tick.lastTradedPrice),o.getWidthBetween(o.tick.openPrice,o.tick.lastTradedPrice))),g(),x("ngClass",gt(47,pD,o.tick.openPrice>=o.tick.closePrice,o.tick.openPrice<o.tick.closePrice))("ngStyle",_i(50,OY,o.getPercent(o.tick.openPrice)))("matTooltip","Open"),g(),x("ngClass",gt(52,pD,o.tick.lastTradedPrice>=o.tick.closePrice,o.tick.lastTradedPrice<o.tick.closePrice))("ngStyle",_i(55,OY,o.getPercent(o.tick.lastTradedPrice)))("matTooltip","Last Price"),g(),x("ngIf",o.tick.tradable))},dependencies:[Oe,ze,or,rr,ye,a0,Bf,Ht,ln,ei,qn],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();function bge(n,t){if(n&1){let e=ee();m(0,"app-action-button",2),k("handleAction",function(){N(e);let r=M();return P(r.handleAction())}),h()}n&2&&x("matTooltip","Market Depth")("action","list")("color","gray")}function xge(n,t){if(n&1){let e=ee();m(0,"fa-icon",3),k("click",function(){N(e);let r=M();return P(r.handleAction())}),h()}if(n&2){let e=M();x("matTooltip","Market Depth")("icon",e.faList)("ngClass",e.getTextStyle())}}var Fa=(()=>{let t=class t{constructor(i,r){this.dialog=i,this.overlay=r,this.title="",this.instrumentToken=0,this.iconBackground=!1,this.iconColor="gray",this.textStyles={blue:"text-blue-500 hover:text-blue-600",red:"text-red-500  hover:text-red-600",green:"text-green-500 hover:text-green-600",orange:"text-orange-500 hover:text-orange-600",gray:"text-gray-500 hover:text-gray-600",white:"text-white"},this.faList=yg}getTextStyle(){return this.textStyles[this.iconColor]}handleAction(){this.openMarketDepthDialog()}openMarketDepthDialog(){let i=this.dialog.open(RY,{disableClose:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{title:this.title,instrumentToken:this.instrumentToken}})}};t.\u0275fac=function(r){return new(r||t)(V(Zn),V(Vr))},t.\u0275cmp=ie({type:t,selectors:[["app-market-depth-invoker"]],inputs:{title:"title",instrumentToken:"instrumentToken",iconBackground:"iconBackground",iconColor:"iconColor"},decls:2,vars:1,consts:[[3,"matTooltip","action","color"],[1,"cursor-pointer","ml-2",3,"matTooltip","icon","ngClass"],[3,"handleAction","matTooltip","action","color"],[1,"cursor-pointer","ml-2",3,"click","matTooltip","icon","ngClass"]],template:function(r,o){r&1&&Gt(0,bge,1,3,"app-action-button",0)(1,xge,1,3,"fa-icon",1),r&2&&Wt(o.iconBackground?0:1)},dependencies:[ot,a0,Oe,Ht],encapsulation:2});let n=t;return n})();var FY=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var Ba=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(Ba||{}),mD=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Ba.HIDDEN;constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},BY=Ql({passive:!0,capture:!0}),hD=class{_events=new Map;addHandler(t,e,i,r){let o=this._events.get(e);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,BY)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,BY)))}_delegateEventHandler=t=>{let e=xr(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}},VY={enterDuration:225,exitDuration:150},Cge=800,UY=Ql({passive:!0,capture:!0}),HY=["mousedown","touchstart"],jY=["mouseup","mouseleave","touchend","touchcancel"],Sge=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),gD=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new hD;constructor(t,e,i,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=qi(i)),o&&o.get(No).load(Sge)}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=X(X({},VY),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let a=i.radius||wge(t,e,r),s=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${l-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,p=d.transitionDuration,v=f==="none"||p==="0s"||p==="0s, 0s"||r.width===0&&r.height===0,_=new mD(this,u,i,v);u.style.transform="scale3d(1, 1, 1)",_.state=Ba.FADING_IN,i.persistent||(this._mostRecentTransientRipple=_);let b=null;return!v&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let C=()=>{b&&(b.fallbackTimer=null),clearTimeout(E),this._finishRippleTransition(_)},w=()=>this._destroyRipple(_),E=setTimeout(w,c+100);u.addEventListener("transitionend",C),u.addEventListener("transitioncancel",w),b={onTransitionEnd:C,onTransitionCancel:w,fallbackTimer:E}}),this._activeRipples.set(_,b),(v||!c)&&this._finishRippleTransition(_),_}fadeOutRipple(t){if(t.state===Ba.FADING_OUT||t.state===Ba.HIDDEN)return;let e=t.element,i=X(X({},VY),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Ba.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=qi(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,HY.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{jY.forEach(e=>{this._triggerElement.addEventListener(e,this,UY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ba.FADING_IN?this._startFadeOutTransition(t):t.state===Ba.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Ba.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ba.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=b2(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Cge;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!x2(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Ba.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ba.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(HY.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(jY.forEach(e=>t.removeEventListener(e,this,UY)),this._pointerUpEventsRegistered=!1))}};function wge(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var Mge=new ue("mat-ripple-global-options"),GY=(()=>{class n{_elementRef=B(at);_animationsDisabled=S1();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=B(Pe),i=B(ti),r=B(Mge,{optional:!0}),o=B(Ve);this._globalOptions=r||{},this._rippleRenderer=new gD(this,e,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:X(X(X({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,X(X({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,X(X({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Te("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var pv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({imports:[Na,Na]})}return n})();var Dge=["mat-menu-item",""],Ige=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Lge=["mat-icon, [matMenuItemIcon]","*"];function Age(n,t){n&1&&(Ut(),m(0,"svg",2),F(1,"polygon",3),h())}var zge=["*"];function kge(n,t){if(n&1){let e=ee();es(0,"div",0),Ah("click",function(){N(e);let r=M();return P(r.closed.emit("click"))})("animationstart",function(r){N(e);let o=M();return P(o._onAnimationStart(r.animationName))})("animationend",function(r){N(e);let o=M();return P(o._onAnimationDone(r.animationName))})("animationcancel",function(r){N(e);let o=M();return P(o._onAnimationDone(r.animationName))}),es(1,"div",1),Ea(2),l2()()}if(n&2){let e=M();Rn(e._classList),Te("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating()),Ll("id",e.panelId),Sn("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var _D=new ue("MAT_MENU_PANEL"),yD=(()=>{class n{_elementRef=B(at);_document=B(Me);_focusMonitor=B(Kl);_parentMenu=B(_D,{optional:!0});_changeDetectorRef=B(bi);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new me;_focused=new me;_highlighted=!1;_triggersSubmenu=!1;constructor(){B(No).load(FY),this._parentMenu?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&k("click",function(a){return r._checkDisabled(a)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(Sn("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Te("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",ri],disableRipple:[2,"disableRipple","disableRipple",ri]},exportAs:["matMenuItem"],attrs:Dge,ngContentSelectors:Lge,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(y1(Ige),Ea(0),m(1,"span",0),Ea(2,1),h(),F(3,"div",1),Gt(4,Age,2,0,":svg:svg",2)),i&2&&(g(3),x("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),g(),Wt(r._triggersSubmenu?4:-1))},dependencies:[GY],encapsulation:2,changeDetection:0})}return n})();var Nge=new ue("MatMenuContent");var Pge=new ue("mat-menu-default-options",{providedIn:"root",factory:Oge});function Oge(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var vD="_mat-menu-enter",mv="_mat-menu-exit",bu=(()=>{class n{_elementRef=B(at);_changeDetectorRef=B(bi);_injector=B(Ve);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=S1();_allItems;_directDescendantItems=new i2;_classList={};_panelAnimationState="void";_animationDone=new me;_isAnimating=fn(!1);parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let i=this._previousPanelClass,r=X({},this._classList);i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new be;close=this.closed;panelId=B(S2).getId("mat-menu-panel-");constructor(){let e=B(Pge);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new j5(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Dr(this._directDescendantItems),Un(e=>j1(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Dr(this._directDescendantItems),Un(i=>j1(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let i=e.keyCode,r=this._keyManager;switch(i){case 27:ms(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Ai(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList=Ie(X({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let i=e===mv;(i||e===vD)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating.set(!1))}_onAnimationStart(e){(e===vD||e===mv)&&this._isAnimating.set(!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(mv),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?vD:mv)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Dr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(i&1&&(Ic(o,Nge,5),Ic(o,yD,5),Ic(o,yD,4)),i&2){let a;an(a=sn())&&(r.lazyContent=a.first),an(a=sn())&&(r._allItems=a),an(a=sn())&&(r.items=a)}},viewQuery:function(i,r){if(i&1&&On(Lr,5),i&2){let o;an(o=sn())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){i&2&&Sn("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",ri],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:ri(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Jn([{provide:_D,useExisting:n}])],ngContentSelectors:zge,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(y1(),Th(0,kge,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return n})(),WY=new ue("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(Ve);return()=>w2(n)}});function Rge(n){let t=B(Ve);return()=>w2(t)}var Fge={provide:WY,deps:[],useFactory:Rge};var _u=new WeakMap,Bge=(()=>{class n{_canHaveBackdrop;_element=B(at);_viewContainerRef=B(Ui);_menuItemInstance=B(yD,{optional:!0,self:!0});_dir=B(ka,{optional:!0});_focusMonitor=B(Kl);_ngZone=B(Pe);_injector=B(Ve);_scrollStrategy=B(WY);_changeDetectorRef=B(bi);_animationsDisabled=S1();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Et.EMPTY;_menuCloseSubscription=Et.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(e){e!==this._menuInternal&&(this._menuInternal=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal;constructor(e){this._canHaveBackdrop=e;let i=B(_D,{optional:!0});this._parentMaterialMenu=i instanceof bu?i:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&_u.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(e){let i=this._menu;if(this._menuOpen||!i)return;this._pendingRemoval?.unsubscribe();let r=_u.get(i);_u.set(i,this),r&&r!==this&&r._closeMenu();let o=this._createOverlay(i),a=o.getConfig(),s=a.positionStrategy;this._setPosition(i,s),this._canHaveBackdrop?a.hasBackdrop=i.hasBackdrop==null?!this._triggersSubmenu():i.hasBackdrop:a.hasBackdrop=!1,o.hasAttached()||(o.attach(this._getPortal(i)),i.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),i.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,e&&i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),i instanceof bu&&(i._setIsOpen(!0),i._directDescendantItems.changes.pipe(nn(i.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}_destroyMenu(e){let i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof bu&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Nt(1)).subscribe(()=>{i.detach(),_u.has(r)||r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&_u.delete(r),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=i0(this._injector,i),this._overlayRef.keydownEvents().subscribe(r=>{this._menu instanceof bu&&this._menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(e){return new n0({positionStrategy:ru(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",a=r.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(o,a)})})}_setPosition(e,i){let[r,o]=e.xPosition==="before"?["end","start"]:["start","end"],[a,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[a,s],[u,d]=[r,o],f=0;if(this._triggersSubmenu()){if(d=r=e.xPosition==="before"?"start":"end",o=u=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}f=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=a==="top"?"bottom":"top",c=s==="top"?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:u,overlayY:a,offsetY:f},{originX:o,originY:l,overlayX:d,overlayY:a,offsetY:f},{originX:r,originY:c,overlayX:u,overlayY:s,offsetY:-f},{originX:o,originY:c,overlayX:d,overlayY:s,offsetY:-f}])}_menuClosingActions(){let e=this._getOutsideClickStream(this._overlayRef),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:we(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(et(a=>this._menuOpen&&a!==this._menuItemInstance)):we();return j1(e,r,o,i)}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Xl(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return _u.get(e)===this}static \u0275fac=function(i){Sf()};static \u0275dir=Fe({type:n})}return n})(),qY=(()=>{class n extends Bge{_cleanupTouchstart;_hoverSubscription=Et.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){this._menu=e}menuData;restoreFocus=!0;menuOpened=new be;onMenuOpen=this.menuOpened;menuClosed=new be;onMenuClose=this.menuClosed;constructor(){super(!0);let e=B(li);this._cleanupTouchstart=e.listen(this._element.nativeElement,"touchstart",i=>{x2(i)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(e){return e.backdropClick()}_handleMousedown(e){b2(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let i=e.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&this._parentMaterialMenu?._panelAnimationState!=="void"&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Fe({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&k("click",function(a){return r._handleClick(a)})("mousedown",function(a){return r._handleMousedown(a)})("keydown",function(a){return r._handleKeydown(a)}),i&2&&Sn("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu==null?null:r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[on]})}return n})();var $Y=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({providers:[Fge],imports:[pv,Na,U5,Xc,Na]})}return n})(),YY={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},g0t=YY.fadeInItems,v0t=YY.transformMenu;var ZY=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({imports:[Na,pv,Na]})}return n})();var XY=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({imports:[Na,Na]})}return n})();function Uge(n,t){n&1&&F(0,"div",9)}function Hge(n,t){if(n&1){let e=ee();At(0),m(1,"div",6)(2,"app-action-button",7),k("handleAction",function(r){N(e);let o=M();return P(o.handleClick(r))}),h()(),A(3,Uge,1,0,"div",8),zt()}if(n&2){let e=t.$implicit,i=t.index,r=M();g(2),x("noIconBackground",!0)("label",e.label)("action",e.action)("color",e.color)("row",r.row),g(),x("ngIf",i<r.actions.length-1)}}var jr=(()=>{let t=class t{constructor(){this.handleAction=new be,this.actions=[],this.faRefresh=Aa,this.faEllipsisV=Rj}handleClick(i){this.handleAction.emit(i)}ngOnInit(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-action-menu"]],inputs:{actions:"actions",row:"row"},outputs:{handleAction:"handleAction"},decls:6,vars:3,consts:[["menu","matMenu"],[1,"flex","w-full","px-0","text-sm"],[1,"ml-auto","!p-0","!m-0","leading-none","flex","items-center","justify-center","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","rounded-md","transition","duration-150","ease-in-out",3,"matMenuTriggerFor"],[1,"ml-4","mr-2","text-gray-600",3,"icon"],[1,"!min-w-[8rem]","rounded-md","shadow-sm"],[4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition","rounded-md","text-sm"],[3,"handleAction","noIconBackground","label","action","color","row"],["class","border-t border-gray-200 mx-2 my-1",4,"ngIf"],[1,"border-t","border-gray-200","mx-2","my-1"]],template:function(r,o){if(r&1&&(m(0,"div",1)(1,"button",2),F(2,"fa-icon",3),h()(),m(3,"mat-menu",4,0),A(5,Hge,4,6,"ng-container",5),h()),r&2){let a=An(4);g(),x("matMenuTriggerFor",a),g(),x("icon",o.faEllipsisV),g(3),x("ngForOf",o.actions)}},dependencies:[$Y,bu,qY,ZY,XY,ze,a0,ye,ot],encapsulation:2});let n=t;return n})();var Oo=(()=>{let t=class t{constructor(){this.fallbackAvatarUrl=""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-user-info-header"]],inputs:{userId:"userId",userName:"userName",fullName:"fullName",avatarUrl:"avatarUrl",fallbackAvatarUrl:"fallbackAvatarUrl"},decls:11,vars:5,consts:[[1,"flex","items-center","justify-between","w-full","py-2","px-1"],[1,"flex","items-center","gap-3"],[1,"relative"],["width","30","height","30",1,"object-cover","ring-2","ring-gray-200","shadow-sm",3,"ngSrc","alt"],[1,"flex","flex-row","items-center","gap-2"],[1,"text-gray-700","font-semibold","text-sm","leading-tight","block","md:hidden"],[1,"text-gray-700","font-semibold","text-sm","leading-tight","hidden","md:block"],[1,"text-gray-500","text-sm"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),F(3,"img",3),h(),m(4,"div",4)(5,"span",5),y(6),h(),m(7,"span",6),y(8),h(),m(9,"span",7),y(10),h()()()()),r&2&&(g(3),x("ngSrc",o.avatarUrl||o.fallbackAvatarUrl)("alt","User avatar for "+o.userName),g(3),j(o.userName),g(2),j(o.fullName||o.userName),g(2),j(o.userId))},dependencies:[We,kr],encapsulation:2});let n=t;return n})();function jge(n,t){n&1&&(m(0,"div",1)(1,"p",2),y(2,"No orders to display"),h()())}function Gge(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instrument"))}}function Wge(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("product"))}}function qge(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("quantity"))}}function $ge(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("price"))}}function Yge(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("change"))}}function Zge(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function Xge(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("timestamp"))}}function Qge(n,t){if(n&1){let e=ee();m(0,"input",41),k("change",function(){N(e);let r=M().$implicit,o=M(3);return P(o.toggleOrderSelection(r))}),h()}if(n&2){let e=M().$implicit,i=M(3);x("checked",i.isOrderSelected(e))}}function Kge(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),h()),n&2){let e=M().$implicit;g(),q(" ",J(2,1,e.order.averagePrice,"1.2-2")," ")}}function Jge(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),h()),n&2){let e=M().$implicit;g(),q(" ",J(2,1,e.order.price,"1.2-2")," ")}}function eve(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),Y(3,"number"),h()),n&2){let e=M().$implicit;g(),zi(" ",J(2,2,e.order.price,"1.2-2"),"/",J(3,5,e.order.triggerPrice,"1.2-2")," ")}}function tve(n,t){if(n&1&&F(0,"fa-icon",42),n&2){let e=M(4);x("icon",e.faClock)}}function nve(n,t){if(n&1){let e=ee();At(0),m(1,"tr",21)(2,"td",22),A(3,Qge,1,1,"input",23),h(),m(4,"td",24)(5,"div",25),F(6,"app-small-chip",26),m(7,"span",27),y(8),h(),F(9,"app-market-depth-invoker",28)(10,"app-small-chip",26),m(11,"div",29),F(12,"fa-icon",30),h()()(),m(13,"td",31),F(14,"app-small-chip",32)(15,"app-small-chip",26),h(),m(16,"td",33)(17,"span",34),y(18),h()(),m(19,"td",33),A(20,Kge,3,4,"span",20)(21,Jge,3,4,"span",20)(22,eve,4,8,"span",20),h(),m(23,"td",33)(24,"span",35),y(25),Y(26,"number"),m(27,"span",36),y(28),Y(29,"percent"),h()()(),m(30,"td",31)(31,"div",25),A(32,tve,1,1,"fa-icon",37),F(33,"app-small-chip",38),h()(),m(34,"td",33)(35,"span",39),y(36),Y(37,"istDate"),h()(),m(38,"td",33)(39,"app-action-menu",40),k("handleAction",function(r){N(e);let o=M(3);return P(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(3),x("ngIf",i.isOrderPending(e.order.status)),g(3),x("text",e.order.transactionType)("color",i.getTransactionTypeChipColor(e.order.transactionType)),g(),x("title",e.displayName),g(),q(" ",e.displayName," "),g(),x("title",e.displayName)("instrumentToken",e.instrumentToken),g(),x("text",e.order.exchange)("color","gray"),g(2),x("icon",i.faTag)("matTooltip",e.order.tag?e.order.tag:"kite-web-order"),g(2),x("text",e.order.product)("color",e.order.product==="MIS"?"orange":"purple"),g(),x("text",e.order.orderType)("color","gray"),g(3),zi(" ",e.order.filledQuantity,"/",e.order.quantity," "),g(2),x("ngIf",e.order.orderType==="MARKET"),g(),x("ngIf",e.order.orderType!=="MARKET"&&e.order.orderType!=="SL"),g(),x("ngIf",e.order.orderType==="SL"),g(2),x("ngClass",i.color(e.change)),g(),q(" ",J(26,34,e.lastPrice,"1.2-2")," "),g(2),Te("bg-green-50",e.change>0)("bg-red-50",e.change<0),g(),q(" ",J(29,37,e.change/100,"1.2-2")," "),g(4),x("ngIf",e.order.status==="AMO REQ RECEIVED"||e.order.status==="MODIFY AMO REQ RECEIVED"),g(),x("matTooltip",e.order.statusMessage?e.order.statusMessage:"")("text",e.order.status)("color",i.getStatusChipColor(e.order.status)),g(3),q(" ",Do(37,40,i.getOrderTimeStamp(e.order.orderTimestamp))," "),g(3),x("row",e)("actions",i.getActionButtons(e))}}function ive(n,t){n&1&&(m(0,"tr")(1,"td",43),F(2,"div",44),h()())}function rve(n,t){if(n&1&&(At(0),m(1,"tr",17)(2,"td",18),F(3,"app-user-info-header",19),h()(),A(4,nve,40,42,"ng-container",15)(5,ive,3,0,"tr",20),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(),x("ngForOf",e.orders)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function ove(n,t){if(n&1){let e=ee();m(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"input",7),k("change",function(){N(e);let r=M();return P(r.toggleSelectAll())}),h()(),m(6,"th",8)(7,"button",9),k("click",function(){N(e);let r=M();return P(r.setSort("instrument"))}),y(8," INSTRUMENT "),A(9,Gge,2,1,"span",10),h()(),m(10,"th",11)(11,"button",9),k("click",function(){N(e);let r=M();return P(r.setSort("product"))}),y(12," PRODUCT "),A(13,Wge,2,1,"span",10),h()(),m(14,"th",11)(15,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("quantity"))}),y(16," QTY "),A(17,qge,2,1,"span",10),h()(),m(18,"th",11)(19,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("price"))}),y(20," PRICE "),A(21,$ge,2,1,"span",10),h()(),m(22,"th",11)(23,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("change"))}),y(24," LTP "),A(25,Yge,2,1,"span",10),h()(),m(26,"th",8)(27,"button",9),k("click",function(){N(e);let r=M();return P(r.setSort("status"))}),y(28," STATUS "),A(29,Zge,2,1,"span",10),h()(),m(30,"th",11)(31,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("timestamp"))}),y(32," TIME "),A(33,Xge,2,1,"span",10),h()(),m(34,"th",13),y(35,"ACTIONS"),h()()(),m(36,"tbody",14),A(37,rve,6,8,"ng-container",15),h()()()}if(n&2){let e=M();g(5),x("checked",e.isAllSelected)("indeterminate",e.isSomeSelected),g(4),x("ngIf",e.getSortIndicator("instrument")),g(4),x("ngIf",e.getSortIndicator("product")),g(4),x("ngIf",e.getSortIndicator("quantity")),g(4),x("ngIf",e.getSortIndicator("price")),g(4),x("ngIf",e.getSortIndicator("change")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("timestamp")),g(4),x("ngForOf",e.sortedGroupedOrders)("ngForTrackBy",e.trackByUser)}}var bD=(()=>{let t=class t{constructor(){this.groupedOrders=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new be,this.selectedOrdersChange=new be,this.sortColumn="timestamp",this.sortDirection="desc",this.selectedOrders=new Set,this.sortAccessors={instrument:i=>(i.displayName??"").toString().toLowerCase(),quantity:i=>i.order?.quantity??0,price:i=>i.order?.orderType==="MARKET"?i.order?.averagePrice??0:i.order?.orderType==="SL"?i.order?.triggerPrice??0:i.order?.price??0,change:i=>i.change??0,product:i=>i.order?.product??0,status:i=>(i.order?.status??"").toString().toLowerCase(),timestamp:i=>i.order?.orderTimestamp??0},this.pendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.faClock=Q6,this.faTag=dG}get sortedGroupedOrders(){return!this.sortColumn||!this.sortDirection?this.groupedOrders:this.groupedOrders.map(i=>Ie(X({},i),{orders:[...i.orders??[]].sort((r,o)=>this.compareOrders(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["timestamp","change"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareOrders(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}getActionButtons(i){let r=this.actions;return this.isOrderPending(i.order.status)||(r=r.filter(o=>o.action!=="modify"&&o.action!=="cancel")),r}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}getStatusChipColor(i){return this.pendingStatus.indexOf(i)>-1?"blue":i==="COMPLETE"?"green":i==="FAILED"||i==="REJECTED"?"red":"gray"}getOrderTimeStamp(i){return Number(i)}getTransactionTypeChipColor(i){switch(i){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}trackBySequenceNumber(i,r){return r.sequenceNumber}trackByUser(i,r){return r.userId}isOrderPending(i){return this.pendingStatus.indexOf(i)>-1}handleAction(i){this.handleClickAction.emit(i)}get allPendingOrders(){return this.groupedOrders.flatMap(i=>i.orders.filter(r=>this.isOrderPending(r.order.status)))}get isAllSelected(){let i=this.allPendingOrders;return i.length>0&&i.every(r=>this.selectedOrders.has(r))}get isSomeSelected(){return this.allPendingOrders.some(r=>this.selectedOrders.has(r))&&!this.isAllSelected}toggleSelectAll(){this.isAllSelected?this.allPendingOrders.forEach(i=>this.selectedOrders.delete(i)):this.allPendingOrders.forEach(i=>this.selectedOrders.add(i)),this.emitSelectedOrders()}toggleOrderSelection(i){this.selectedOrders.has(i)?this.selectedOrders.delete(i):this.selectedOrders.add(i),this.emitSelectedOrders()}isOrderSelected(i){return this.selectedOrders.has(i)}emitSelectedOrders(){this.selectedOrdersChange.emit(Array.from(this.selectedOrders))}clearSelection(){this.selectedOrders.clear(),this.emitSelectedOrders()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-orders-table"]],inputs:{groupedOrders:"groupedOrders",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction",selectedOrdersChange:"selectedOrdersChange"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center","w-12"],["type","checkbox","title","Select/Unselect all pending orders",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked","indeterminate"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","9",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],["type","checkbox","class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer","title","Select order for bulk cancel",3,"checked","change",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"truncate","max-w-xs",3,"title"],[3,"title","instrumentToken"],[1,"flex","items-center","gap-1.5","bg-blue-50","rounded-md","px-2","py-0.5","text-blue-700"],[1,"text-blue-500","text-xs",3,"icon","matTooltip"],[1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],[1,"mr-1",3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[1,"text-gray-700"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],["class","text-orange-400",3,"icon",4,"ngIf"],[3,"matTooltip","text","color"],[1,"text-gray-700","text-sm"],[3,"handleAction","row","actions"],["type","checkbox","title","Select order for bulk cancel",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked"],[1,"text-orange-400",3,"icon"],["colspan","9",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,jge,3,0,"div",1)(2,ove,38,11,"div"),h()),r&2&&(g(),Wt(!o.groupedOrders||o.groupedOrders.length===0?1:2))},dependencies:[Oe,ze,mn,ye,ot,Fa,jr,Ht,Oo,pn,ln,qn,ei],encapsulation:2});let n=t;return n})();var Cs=(()=>{let t=class t{constructor(i){this.api=i}getOrders(){return this.api.get("/v1/orders")}placeOrder(i,r){return this.api.post(`/v1/orders?variety=${r}`,i)}modifyOrder(i,r,o,a){return this.api.put(`/v1/orders/${i}/${r}?variety=${a}`,o)}cancelOrder(i,r,o){return this.api.delete(`/v1/orders/${i}/${r}?variety=${o}`)}fetchCharges(){return this.api.get("/v1/orders/charges")}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ss=(()=>{let t=class t{constructor(i){this.api=i}getFunds(){return this.api.get("/v1/funds")}calculateMargin(i){return this.api.post("/v1/funds/margins/orders",i)}calculateCombinedMargin(i){return this.api.post("/v1/funds/margins/basket",i)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Bn=(()=>{let t=class t{constructor(){this.key="userViewState"}getState(){let i=localStorage.getItem(this.key);if(i)return JSON.parse(i);let r=this.getDefaultState();return localStorage.setItem(this.key,JSON.stringify(r)),r}getDefaultState(){return{holdings:{selectedUsersIds:[],selectedHoldingType:"All",searchQuery:"",filterSelection:[]},positions:{selectedUsersIds:[],searchQuery:"",filterSelection:[]},orders:{selectedUsersIds:[],selectedOrderType:"Open",searchQuery:"",filterSelection:[]},funds:{selectedUsersIds:[]},watchlist:{activeWatchlist:0,isCollapsed:!1},mfSips:{selectedSectionType:"SIPs",selectedUsersIds:[],searchQuery:"",mfSearchQuery:"",filterSelection:[],mfOrderFilterSelection:[]},ordersHistory:{},charges:{selectedUsersIds:[]},userManagementDashboard:{},straddles:{selectedSectionType:"Straddles",selectedUsersIds:[],searchQuery:""},historicalData:{},ipos:{selectedIpoType:"IPO",searchQuery:"",searchIpoApplicationsQuery:"",selectedUsersIds:[],filterSelection:[],applicationsFilterSelection:[]},userPreferences:{},home:{selectedUsersIds:[]},profile:{selectedTab:"Profile"},administration:{selectedTab:"Scheduled Tasks"}}}setState(i){let r=this.getState(),o=X(X({},r),i);localStorage.setItem(this.key,JSON.stringify(o))}clearState(){localStorage.removeItem(this.key)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ave=n=>({"justify-end":n});function sve(n,t){if(n&1&&(m(0,"div",32),F(1,"div",33),h()),n&2){let e=M();x("ngClass",_i(2,ave,e.positionData.isBuyMode)),g(),x("ngClass",e.positionData.isBuyMode?"bg-blue-500":"bg-orange-500")}}function lve(n,t){n&1&&(m(0,"span",22),y(1,"*"),h())}function cve(n,t){n&1&&(m(0,"span",22),y(1,"*"),h())}function uve(n,t){if(n&1&&(m(0,"option",47),y(1),h()),n&2){let e=t.$implicit;x("value",e.userId),g(),zi(" ",e.name," - ",e.userId," ")}}function dve(n,t){if(n&1&&(m(0,"span",48),y(1),Y(2,"currency"),h()),n&2){let e=M().$implicit;g(),q("+",st(2,1,e.charges,"INR","symbol","1.0-0"))}}function fve(n,t){if(n&1){let e=ee();m(0,"button",49),k("click",function(){N(e);let r=M().index,o=M();return P(o.removeAccount(r))}),F(1,"fa-icon",50),h()}if(n&2){let e=M(2);x("matTooltip","Remove"),g(),x("icon",e.faTrash)}}function pve(n,t){if(n&1){let e=ee();m(0,"div",34)(1,"div",35)(2,"label",36),y(3,"Trading Account "),m(4,"span",22),y(5,"*"),h()(),m(6,"select",37),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.tradingAccountId,r)||(o.tradingAccountId=r),P(r)}),k("ngModelChange",function(){let r=N(e).$implicit,o=M();return o.getHistoricalQuantity(r,o.instrument.segment),P(o.computeRequiredMargin(r))}),m(7,"option",38),y(8,"Select Account"),h(),A(9,uve,2,3,"option",39),h()(),m(10,"div",40)(11,"div",41)(12,"label",36),y(13,"Quantity "),m(14,"span",22),y(15,"*"),h()(),m(16,"input",42),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.quantity,r)||(o.quantity=r),P(r)}),k("ngModelChange",function(){let r=N(e).$implicit,o=M();return P(o.computeRequiredMargin(r))}),h()(),m(17,"div",43)(18,"label",11),y(19," Req. "),m(20,"span",44),y(21),Y(22,"currency"),h(),A(23,dve,3,6,"span",45),h(),m(24,"label",11),y(25," Avail. "),m(26,"span",44),y(27),Y(28,"currency"),h()()()(),A(29,fve,2,2,"button",46),h()}if(n&2){let e=t.$implicit,i=M();g(6),x("disabled",i.sourceData.orderId!=null&&!i.sourceData.isCopy||i.sourceData.isExitPosition),_t("ngModel",e.tradingAccountId),g(3),x("ngForOf",i.users),g(7),_t("ngModel",e.quantity),g(5),j(st(22,8,e.requiredMargin,"INR","symbol","1.0-0")),g(2),x("ngIf",e.charges>0),g(4),j(st(28,13,e.availableMargin,"INR","symbol","1.0-0")),g(2),x("ngIf",i.orders.length>1)}}function mve(n,t){if(n&1){let e=ee();m(0,"button",51),k("click",function(){N(e);let r=M();return P(r.addAccount())}),F(1,"fa-icon",52),y(2," Add Position "),h()}if(n&2){let e=M();g(),x("icon",e.faPlus)}}var d0=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u){this.dialogRef=i,this.userService=r,this.toastr=o,this.ws=a,this.ordersService=s,this.fundsService=l,this.userViewStateService=c,this.data=u,this.instrumentTokens=[],this.dialogInstanceId=`dialog_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,this.orders=[{tradingAccountId:"",quantity:0,requiredMargin:0,charges:0,availableMargin:0}],this.positionData={isBuyMode:!1,marketOrder:!1,slOrder:!1,price:0,triggerPrice:0,productType:"NON-MIS"},this.funds=[],this.users=[],this.instrument={},this.sourceData={},this.variety=null,this.requestType="place",this.lotSize=1,this.lastEnteredPrice=0,this.lastEnteredTriggeredPrice=0,this.faChartPie=_g,this.faPlus=_2,this.faTrash=$l,this.sourceData=u.sourceData,this.instrument=u.instrument,this.initializePositionData()}ngOnInit(){this.fetchUsers(),this.fetchFunds(),this.subscribeToWebSocket()}toggleMode(){this.positionData.isBuyMode=!this.positionData.isBuyMode,this.computeAllRequiredMargins()}addAccount(){if(this.orders.length>=5){this.toastr.error("You can only add up to 5 positions in one request","Error");return}this.orders.push({tradingAccountId:"",quantity:0})}removeAccount(i){this.orders.splice(i,1)}subscribeToWebSocket(){this.instrumentTokens.push(this.instrument.instrumentToken),this.instrumentTokens.length>0?(this.ws.connectionState().pipe(et(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updatePositionFormOnUpdate(i)})):console.log("No instrument tokens available for web socket subscription.")}updatePositionFormOnUpdate(i){i.forEach(r=>{(this.instrument.instrumentToken===r.instrumentToken?[this.instrument]:[]).forEach(a=>{a&&a.lastPrice!==r.lastTradedPrice&&(a.change=r.change,a.lastPrice=r.lastTradedPrice,this.lotSize=r.lotSize)})})}getDefaultVariety(){let i=new Date,r=new Date;r.setHours(9,0,0,0);let o=new Date;o.setHours(15,30,0,0);let a=i.getDay()===0||i.getDay()===6;return i<r||i>o||a?"amo":"regular"}onSubmit(){let i=[],r=this.getDefaultVariety();this.orders.forEach(o=>{let a={quantity:o.quantity,orderType:this.orderType,tradingsymbol:this.instrument.tradingSymbol,product:this.productType,exchange:this.instrument.exchange,transactionType:this.buySell,validity:"DAY",price:this.positionData.price,triggerPrice:this.positionData.triggerPrice,tag:"famvest-single-order"};this.saveUserViewState(o,this.instrument.segment),i.push({tradingAccountId:o.tradingAccountId,orderParams:a})}),this.validateOrders(i)&&(this.requestType==="modify"?this.ordersService.modifyOrder(i[0].tradingAccountId,this.sourceData.orderId,i[0],r).pipe(Vt(o=>we({error:!0,id:this.orders[0].tradingAccountId,message:o?.error?.message||"Unknown error"}))).subscribe({next:o=>{"error"in o&&o.error?(console.error("\u274C Order modification failed:",o),this.toastr.error(`Order modification for ${o.id} failed: ${o.message}`,"Error")):this.toastr.success(`Order modification successfully. Order ID:${o.data.orderId}`,"Success"),this.dialogRef.close(o)},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}}):tn(i).pipe(ro(o=>this.ordersService.placeOrder(o,r).pipe(Vt(a=>we({error:!0,id:o.tradingAccountId,message:a?.error?.message||"Unknown error"}))))).subscribe({next:o=>{"error"in o&&o.error?(console.error("\u274C Order placement failed:",o),this.toastr.error(`Order placement for ${o.id} failed: ${o.message}`,"Error")):this.toastr.success(`Order placed successfully. Order ID:${o.data.orderId}`,"Success"),this.dialogRef.close(o)},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}}))}validateOrders(i){if(i.length===0)return this.toastr.error("Please add at least one trading account position","Error"),!1;for(let r of i)if(!r.tradingAccountId||r.orderParams.quantity<=0)return this.toastr.error("All positions must have a valid trading account and quantity","Error"),!1;return!0}onCancel(){this.dialogRef.close()}initializePositionData(){switch(this.sourceData.orderType){case"SL":this.positionData.marketOrder=!1,this.positionData.slOrder=!0;break;case"SL-M":this.positionData.marketOrder=!0,this.positionData.slOrder=!0;break;case"LIMIT":this.positionData.marketOrder=!1,this.positionData.slOrder=!1;break;case"MARKET":this.positionData.marketOrder=!0,this.positionData.slOrder=!1;break}this.sourceData.product&&(this.positionData.productType=this.sourceData.product==="MIS"?"MIS":"NON-MIS"),this.sourceData.variety&&(this.variety=this.sourceData.variety),this.positionData.isBuyMode=this.sourceData.isBuyMode,this.requestType=this.sourceData.orderId?"modify":"place",this.sourceData.isCopy&&(this.requestType="place"),this.sourceData.originalPrice?this.positionData.price=this.sourceData.originalPrice:this.positionData.price=this.instrument.lastPrice,this.lastEnteredPrice=this.positionData.price,this.sourceData.originalTriggerPrice>0?(this.positionData.triggerPrice=this.sourceData.originalTriggerPrice,this.lastEnteredTriggeredPrice=this.positionData.triggerPrice):this.lastEnteredTriggeredPrice=this.instrument.lastPrice,(this.sourceData.orderId||this.sourceData.isExitPosition||this.sourceData.isCopy)&&(this.orders[0].tradingAccountId=this.instrument.tradingAccountId,this.orders[0].quantity=this.instrument.quantity,this.computeRequiredMargin(this.orders[0]))}get orderType(){return this.positionData.slOrder?this.positionData.marketOrder?"SL-M":"SL":this.positionData.marketOrder?"MARKET":"LIMIT"}get productType(){return this.positionData.productType==="MIS"?"MIS":this.instrument.exchange==="NFO"||this.instrument.exchange==="BFO"?"NRML":"CNC"}get buySell(){return this.positionData.isBuyMode?"BUY":"SELL"}get priceInputIcon(){return this.positionData.marketOrder?"\u270E":"\xD7"}get triggerPriceInputIcon(){return this.positionData.slOrder?"\xD7":"\u270E"}onPriceInputIconClick(){this.positionData.marketOrder?(this.positionData.price=this.lastEnteredPrice,this.positionData.marketOrder=!1):(this.lastEnteredPrice=this.positionData.price,this.positionData.price=0,this.positionData.marketOrder=!0)}onTriggerPriceInputIconClick(){this.positionData.slOrder?(this.lastEnteredTriggeredPrice=this.positionData.triggerPrice,this.positionData.triggerPrice=0,this.positionData.slOrder=!1):(this.positionData.triggerPrice=this.lastEnteredTriggeredPrice,this.positionData.slOrder=!0)}getPriceInputTitle(){return this.positionData.slOrder?this.positionData.marketOrder?"Convert to SL order":"Convert to SL-M order":this.positionData.marketOrder?"Convert to LIMIT order":"Convert to MARKET order"}getTriggerPriceInputTitle(){return this.positionData.slOrder?this.positionData.marketOrder?"Convert to MARKET order":"Convert to LIMIT order":this.positionData.marketOrder?"Convert to SL-M order":"Convert to SL order"}fetchUsers(){console.log("fetching user profiles"),this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data.filter(r=>r.active)},error:i=>{this.toastr.error(i.error.message,"Error"),console.error(i)}})}fetchFunds(){this.fundsService.getFunds().subscribe({next:i=>{this.funds=i.data},error:i=>{i.error.message?this.toastr.error(i.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error")},complete:()=>{(this.sourceData.orderId||this.sourceData.isCopy)&&this.orders.length>0&&(this.orders[0].availableMargin=this.funds.find(i=>i.userId===this.orders[0].tradingAccountId)?.margin?.net||0)}})}getHistoricalQuantity(i,r){let o=this.userViewStateService.getState();if(o.ordersHistory){let a=o.ordersHistory[`${i.tradingAccountId}_${r}`];i.quantity===0&&a&&a.quantity&&(i.quantity=a.quantity)}}saveUserViewState(i,r){let o=this.userViewStateService.getState();o.ordersHistory||(o.ordersHistory={});let a=`${i.tradingAccountId}_${r}`;o.ordersHistory[a]={quantity:i.quantity},this.userViewStateService.setState({ordersHistory:o.ordersHistory})}computeAllRequiredMargins(){this.orders.forEach(i=>{this.computeRequiredMargin(i)})}computeRequiredMargin(i){if(i.availableMargin=this.funds.find(r=>r.userId===i.tradingAccountId)?.margin?.net||0,i.quantity>0&&i.tradingAccountId){let r={tradingSymbol:this.instrument.tradingSymbol,exchange:this.instrument.exchange,transactionType:this.buySell,variety:this.variety,product:this.productType,orderType:this.orderType,quantity:i.quantity,price:this.positionData.price||0,triggerPrice:this.positionData.triggerPrice||0},o={tradingAccountId:i.tradingAccountId,marginCalculationParams:r};this.fundsService.calculateMargin(o).subscribe({next:a=>{i.requiredMargin=a.data[0].total,i.charges=a.data[0].charges.total},error:a=>{this.toastr.error(a.error.message,"Error"),console.error(a)}})}else i.requiredMargin=0,i.charges=0}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)(V(Ni),V(tr),V(tt),V(sr),V(Cs),V(Ss),V(Bn),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-add-manage-order-dialog"]],decls:62,vars:49,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700",3,"ngClass"],["cdkDragHandle","",1,"flex","items-start","sm:items-center","justify-between","p-2","flex-col","sm:flex-row","gap-2","sm:gap-0","cursor-move",3,"ngClass"],[1,"font-medium"],[1,"text-sm","text-gray-100","ml-1"],[3,"title","instrumentToken","iconColor"],[1,"text-sm","rounded-md","px-1","py-[1px]","text-white"],[1,"focus:outline-none","self-end","sm:self-auto",3,"click"],["class","w-16 h-6 bg-white rounded-md flex items-center px-1",3,"ngClass",4,"ngIf"],[1,"bg-white","p-4","space-y-3","max-h-[70vh]","overflow-y-auto"],[1,"flex","flex-col","sm:flex-row","items-stretch","sm:items-center","gap-4"],[1,"flex-1"],[1,"text-sm","text-gray-600"],["class","text-red-500",4,"ngIf"],[1,"relative"],["type","text","placeholder","Enter price",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","button",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-2xl",3,"click","matTooltip","ngClass"],["type","text","placeholder","Enter trigger price",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"flex","items-center","gap-6"],[1,"inline-flex","items-center","gap-1"],["type","radio","value","MIS",1,"form-radio","text-blue-500",3,"ngModelChange","disabled","name","ngModel"],[1,"text-sm","text-gray-700"],["type","radio","value","NON-MIS",1,"form-radio","text-purple-500",3,"ngModelChange","disabled","name","ngModel"],[1,"text-red-500"],[1,"space-y-3","mt-2"],["class","flex flex-col sm:flex-row flex-wrap items-start sm:items-end gap-4 p-2 border rounded-md",4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","justify-between","mt-4","gap-2"],["class","text-sm text-blue-600 hover:underline focus:outline-none",3,"click",4,"ngIf"],[1,"flex","flex-wrap","gap-2","text-sm"],[3,"text","color"],["cdkDragHandle","",1,"bg-white","p-4","border-t","flex","flex-col","sm:flex-row","justify-between","gap-2","cursor-move"],[1,"flex-1","py-2","px-4","rounded-md",3,"click","ngClass"],["type","button",1,"flex-1","py-2","px-4","border","rounded-md","hover:bg-gray-100",3,"click"],[1,"w-16","h-6","bg-white","rounded-md","flex","items-center","px-1",3,"ngClass"],[1,"w-3","h-3","rounded-md",3,"ngClass"],[1,"flex","flex-col","sm:flex-row","flex-wrap","items-start","sm:items-end","gap-4","p-2","border","rounded-md"],[1,"flex","flex-col","flex-grow","min-w-[150px]","w-full","sm:w-auto"],[1,"text-sm","text-gray-600","mb-1"],[1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","gap-4","items-start","sm:items-end","w-full","sm:w-auto"],[1,"flex","flex-col","w-full","sm:w-24"],["type","text","placeholder","Quantity","maxlength","5",1,"form-control",3,"ngModelChange","ngModel"],[1,"flex","flex-col","min-w-[130px]"],[1,"text-blue-600"],["class","ml-2 text-blue-600",4,"ngIf"],["class","p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",3,"matTooltip","click",4,"ngIf"],[3,"value"],[1,"ml-2","text-blue-600"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors",3,"click","matTooltip"],[1,"text-sm",3,"icon"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none",3,"click"],[3,"icon"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),y(4),m(5,"span",3),y(6),h(),F(7,"app-market-depth-invoker",4),h(),m(8,"span",2),y(9),Y(10,"number"),m(11,"span",5),y(12),Y(13,"percent"),h()()(),m(14,"button",6),k("click",function(){return o.toggleMode()}),A(15,sve,2,4,"div",7),h()(),m(16,"div",8)(17,"div",9)(18,"div",10)(19,"label",11),y(20),A(21,lve,2,0,"span",12),h(),m(22,"div",13)(23,"input",14),bt("ngModelChange",function(s){return Mt(o.positionData.price,s)||(o.positionData.price=s),s}),k("ngModelChange",function(){return o.computeAllRequiredMargins()}),h(),m(24,"button",15),k("click",function(){return o.onPriceInputIconClick()}),y(25),h()()(),m(26,"div",10)(27,"label",11),y(28," Trigger Price "),A(29,cve,2,0,"span",12),h(),m(30,"div",13)(31,"input",16),bt("ngModelChange",function(s){return Mt(o.positionData.triggerPrice,s)||(o.positionData.triggerPrice=s),s}),h(),m(32,"button",15),k("click",function(){return o.onTriggerPriceInputIconClick()}),y(33),h()()()(),m(34,"div",17)(35,"label",18)(36,"input",19),bt("ngModelChange",function(s){return Mt(o.positionData.productType,s)||(o.positionData.productType=s),s}),h(),m(37,"span",20),y(38,"Intraday"),h()(),m(39,"label",18)(40,"input",21),bt("ngModelChange",function(s){return Mt(o.positionData.productType,s)||(o.positionData.productType=s),s}),h(),m(41,"span",20),y(42,"Overnight"),h()()(),m(43,"div")(44,"label",11),y(45,"Positions "),m(46,"span",22),y(47,"*"),h()(),m(48,"div",23),A(49,pve,30,18,"div",24),h(),m(50,"div",25),A(51,mve,3,1,"button",26),m(52,"div",27),F(53,"app-small-chip",28)(54,"app-small-chip",28)(55,"app-small-chip",28)(56,"app-small-chip",28),h()()()(),m(57,"div",29)(58,"button",30),k("click",function(){return o.onSubmit()}),y(59),h(),m(60,"button",31),k("click",function(){return o.onCancel()}),y(61,"Cancel"),h()()()),r&2&&(x("ngClass",o.positionData.isBuyMode?"bg-blue-500":"bg-orange-500"),g(),x("ngClass",o.positionData.isBuyMode?"bg-blue-500 text-white":"bg-orange-500 text-white"),g(3),q("",o.instrument.displayName," "),g(2),q("",o.instrument.segment," "),g(),x("title",o.instrument.displayName)("instrumentToken",o.instrument.instrumentToken)("iconColor","white"),g(2),q("",J(10,43,o.instrument.lastPrice,"1.2-2")," "),g(3),q(" ",J(13,46,o.instrument.change/100,"1.2-2")," "),g(3),x("ngIf",o.requestType!=="modify"&&!o.positionData.isExitPosition),g(5),q(" ",o.positionData.marketOrder?"Market Price":"Price"," "),g(),x("ngIf",!o.positionData.marketOrder),g(2),_t("ngModel",o.positionData.price),x("disabled",o.positionData.marketOrder),g(),x("matTooltip",x6(o.getPriceInputTitle()))("ngClass",o.positionData.isBuyMode?"text-blue-500 hover:text-blue-700":"text-orange-500 hover:text-orange-700"),g(),q(" ",o.priceInputIcon," "),g(4),x("ngIf",o.positionData.slOrder),g(2),_t("ngModel",o.positionData.triggerPrice),x("disabled",!o.positionData.slOrder),g(),x("matTooltip",x6(o.getTriggerPriceInputTitle()))("ngClass",o.positionData.isBuyMode?"text-blue-500 hover:text-blue-700":"text-orange-500 hover:text-orange-700"),g(),q(" ",o.triggerPriceInputIcon," "),g(3),x("disabled",o.sourceData.isExitPosition)("name","productType_"+o.dialogInstanceId),_t("ngModel",o.positionData.productType),g(4),x("disabled",o.sourceData.isExitPosition)("name","productType_"+o.dialogInstanceId),_t("ngModel",o.positionData.productType),g(9),x("ngForOf",o.orders),g(2),x("ngIf",(o.sourceData.orderId==null||o.sourceData.isCopy)&&!o.sourceData.isExitPosition),g(2),x("text",o.buySell)("color",o.buySell==="BUY"?"blue":"red"),g(),x("text",o.orderType)("color","gray"),g(),x("text",o.productType)("color",o.productType==="MIS"?"orange":"purple"),g(),x("text",o.instrument.segment)("color","gray"),g(2),x("ngClass",o.positionData.isBuyMode?"bg-blue-500 text-white hover:bg-blue-600":"bg-orange-500 text-white hover:bg-orange-600"),g(),j(o.positionData.isBuyMode?"Buy":"Sell"))},dependencies:[pn,Ia,La,Yt,Ao,S5,Zt,jc,Gi,We,Oe,ze,ye,o0,or,rr,mn,Fa,ot,Ht,ln,qn,Ci],styles:[".margin-bottom-0[_ngcontent-%COMP%]{margin-bottom:2px!important}.margin-top-0[_ngcontent-%COMP%]{margin-top:2px!important}"]});let n=t;return n})();var hve=(n,t)=>({"bg-blue-100 text-blue-700 border-blue-400":n,"bg-white text-gray-600 hover:bg-gray-100":t});function gve(n,t){if(n&1){let e=ee();m(0,"button",11),k("click",function(){N(e);let r=M();return P(r.togglePopover())}),F(1,"fa-icon",12),h()}if(n&2){let e=M();x("ngClass",e.getFilterSortButtonColor()),g(),x("icon",e.faSliders)("ngClass",e.getFilterSortIconColor())}}function vve(n,t){if(n&1){let e=ee();m(0,"button",13),k("click",function(){N(e);let r=M();return P(r.toggleChartView())}),F(1,"fa-icon",14),m(2,"span",4),y(3,"Analyse"),h()()}if(n&2){let e=M();g(),x("icon",e.faChartPie)}}function yve(n,t){if(n&1){let e=ee();m(0,"button",15),k("click",function(){N(e);let r=M();return P(r.showCharges())}),F(1,"fa-icon",14),m(2,"span",4),y(3,"Charges"),h()()}if(n&2){let e=M();g(),x("icon",e.faFileInvoiceDollar)}}function _ve(n,t){if(n&1){let e=ee();m(0,"button",16),k("click",function(){N(e);let r=M();return P(r.showSummary())}),F(1,"fa-icon",14),m(2,"span",4),y(3,"Summary"),h()()}if(n&2){let e=M();g(),x("icon",e.faClipboardList)}}function bve(n,t){if(n&1){let e=ee();m(0,"button",17),k("click",function(){N(e);let r=M();return P(r.exitSelected())}),F(1,"fa-icon",14),m(2,"span",4),y(3),h()()}if(n&2){let e=M();x("matTooltip",e.exitButtonLabel),g(),x("icon",e.faRightFromBracket),g(2),j(e.exitButtonLabel)}}function xve(n,t){if(n&1){let e=ee();m(0,"button",17),k("click",function(){N(e);let r=M();return P(r.exitSelected())}),F(1,"fa-icon",14),m(2,"span",4),y(3),h()()}if(n&2){let e=M();x("matTooltip",e.cancelButtonLabel),g(),x("icon",e.faXmark),g(2),j(e.cancelButtonLabel)}}function Cve(n,t){if(n&1){let e=ee();m(0,"button",18),k("click",function(){N(e);let r=M();return P(r.showLogs())}),F(1,"fa-icon",14),m(2,"span",4),y(3,"Log Viewer"),h()()}if(n&2){let e=M();g(),x("icon",e.faFile)}}function Sve(n,t){if(n&1){let e=ee();m(0,"button",28),k("click",function(){let r=N(e).$implicit,o=M().$implicit,a=M(2);return P(a.onFilterChange(o,r))}),y(1),h()}if(n&2){let e=t.$implicit,i=M().$implicit,r=M(2);x("ngClass",r.isFilterOptionSelected(i,e)?"bg-blue-100 text-blue-700 border-blue-400":"bg-white text-gray-600 hover:bg-gray-100"),g(),q(" ",e," ")}}function wve(n,t){if(n&1&&(m(0,"div",26),A(1,Sve,2,2,"button",27),h()),n&2){let e=t.$implicit;g(),x("ngForOf",e.values)}}function Mve(n,t){n&1&&F(0,"div",29)}function Tve(n,t){if(n&1&&F(0,"fa-icon",14),n&2){let e=M(4);x("icon",e.sortSelection.direction==="asc"?e.faArrowUp:e.faArrowDown)}}function Eve(n,t){if(n&1){let e=ee();m(0,"button",33),k("click",function(){let r=N(e).$implicit,o=M(3);return P(o.toggleSort(r))}),m(1,"span"),y(2),h(),A(3,Tve,1,1,"fa-icon",34),h()}if(n&2){let e=t.$implicit,i=M(3);x("ngClass",gt(3,hve,i.sortSelection.key===e.key,i.sortSelection.key!==e.key)),g(2),j(e.label),g(),x("ngIf",i.sortSelection.key===e.key)}}function Dve(n,t){if(n&1){let e=ee();m(0,"div",30)(1,"div",20)(2,"label",21),y(3,"Sort By"),h(),m(4,"button",22),k("click",function(){N(e);let r=M(2);return P(r.clearSort())}),y(5," Clear Sort "),h()(),m(6,"div",31),A(7,Eve,4,6,"button",32),h()()}if(n&2){let e=M(2);g(7),x("ngForOf",e.sortOptions)}}function Ive(n,t){if(n&1){let e=ee();m(0,"div",19)(1,"div")(2,"div",20)(3,"label",21),y(4,"Filter By"),h(),m(5,"button",22),k("click",function(){N(e);let r=M();return P(r.clearFilters())}),y(6," Clear Filters "),h()(),A(7,wve,2,1,"div",23)(8,Mve,1,0,"div",24)(9,Dve,8,1,"div",25),h()()}if(n&2){let e=M();g(7),x("ngForOf",e.filterOptions),g(),x("ngIf",e.sortOptions.length>0),g(),x("ngIf",e.sortOptions.length>0)}}var Va=(()=>{let t=class t{constructor(i){this.eRef=i,this.showFilterSort=!1,this.sortOptions=[],this.sortSelection={key:"",direction:"asc"},this.filterOptions=[],this.filterSelection=[],this.showChartButton=!1,this.showChargesButton=!1,this.showSummaryButton=!1,this.showLogsButton=!1,this.showExitButton=!1,this.showCancelButton=!1,this.exitButtonLabel="Exit Selected",this.cancelButtonLabel="Cancel Selected",this.isLoadingData=!1,this.filtersChanged=new be,this.sortChanged=new be,this.handleRefresh=new be,this.toggleChart=new be,this.charges=new be,this.summary=new be,this.exit=new be,this.logs=new be,this.isRefreshing=!1,this.faSliders=tG,this.faRefresh=Aa,this.faSpinner=ko,this.faArrowUp=gg,this.faArrowDown=bg,this.faChartPie=_g,this.faFileInvoiceDollar=aG,this.faClipboardList=Hj,this.faFile=Xj,this.faRightFromBracket=z5,this.faXmark=vg}ngOnInit(){this.initFilterOptions()}ngOnChanges(i){i.isLoadingData&&(this.isRefreshing=i.isLoadingData.currentValue)}initFilterOptions(){this.filterSelection=this.filterOptions.map(i=>{let r=this.filterSelection?.find(o=>o.key===i.key);return{key:i.key,selected:r?r.selected:[]}})}onFilterChange(i,r){let o=this.filterSelection.find(s=>s.key===i.key),a=o.selected.indexOf(r);a>-1?o.selected.splice(a,1):o.selected.push(r),this.emitFilterChange()}isFilterOptionSelected(i,r){let o=!1,a=this.filterSelection.find(s=>s.key===i.key);return a&&(o=a.selected.indexOf(r)>-1),o}toggleSort(i){this.sortSelection.key===i.key?this.sortSelection.direction=this.sortSelection.direction==="asc"?"desc":"asc":this.sortSelection={key:i.key,direction:"asc"},this.sortChanged.emit(this.sortSelection)}clearFilters(){this.filterSelection=this.filterOptions.map(i=>({key:i.key,selected:[]})),this.emitFilterChange()}clearSort(){this.sortSelection={key:"",direction:"asc"},this.emitSortChange()}emitFilterChange(){this.filtersChanged.emit(this.filterSelection)}emitSortChange(){this.sortChanged.emit(this.sortSelection)}togglePopover(){this.showFilterSort=!this.showFilterSort}toggleChartView(){this.toggleChart.emit()}showCharges(){this.charges.emit()}exitSelected(){this.exit.emit()}showSummary(){this.summary.emit()}showLogs(){this.logs.emit()}refresh(){this.isRefreshing=!0,this.handleRefresh.emit(()=>{this.isRefreshing=!1})}getFilterSortIconColor(){return this.isAnyFilterSelected()||this.sortSelection?.key?"text-white":"text-gray-600"}getFilterSortButtonColor(){return this.isAnyFilterSelected()||this.sortSelection?.key?"bg-amber-500 hover:bg-amber-600 text-white":"bg-white text-gray-700"}isAnyFilterSelected(){let i=!1;for(let r of this.filterSelection)if(r.selected.length>0){i=!0;break}return i}handleClickOutside(i){this.eRef.nativeElement.contains(i.target)||(this.showFilterSort=!1)}};t.\u0275fac=function(r){return new(r||t)(V(at))},t.\u0275cmp=ie({type:t,selectors:[["app-tool-bar"]],hostBindings:function(r,o){r&1&&k("click",function(s){return o.handleClickOutside(s)},xf)},inputs:{sortOptions:"sortOptions",sortSelection:"sortSelection",filterOptions:"filterOptions",filterSelection:"filterSelection",showChartButton:"showChartButton",showChargesButton:"showChargesButton",showSummaryButton:"showSummaryButton",showLogsButton:"showLogsButton",showExitButton:"showExitButton",showCancelButton:"showCancelButton",exitButtonLabel:"exitButtonLabel",cancelButtonLabel:"cancelButtonLabel",isLoadingData:"isLoadingData"},outputs:{filtersChanged:"filtersChanged",sortChanged:"sortChanged",handleRefresh:"handleRefresh",toggleChart:"toggleChart",charges:"charges",summary:"summary",exit:"exit",logs:"logs"},features:[rn],decls:13,vars:14,consts:[[1,"relative","text-gray-600","flex","items-center","gap-3","text-sm"],["class","px-3 py-2 border rounded-md shadow-sm  ","aria-label","Filter & Sort","matTooltip","Filter & Sort",3,"ngClass","click",4,"ngIf"],[1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center",3,"click","disabled","matTooltip"],[1,"mr-1",3,"icon"],[1,"hidden","sm:inline"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Analyse",3,"click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Charges",3,"click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Summary",3,"click",4,"ngIf"],["class","text-red-600 hover:underline focus:outline-none flex items-center gap-1",3,"matTooltip","click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Log Viewer",3,"click",4,"ngIf"],["class","absolute left-0 top-12 z-50 p-4 bg-white border rounded-md shadow-sm min-w-96 max-w-max",4,"ngIf"],["aria-label","Filter & Sort","matTooltip","Filter & Sort",1,"px-3","py-2","border","rounded-md","shadow-sm",3,"click","ngClass"],[3,"icon","ngClass"],["matTooltip","Analyse",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[3,"icon"],["matTooltip","Charges",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],["matTooltip","Summary",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[1,"text-red-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click","matTooltip"],["matTooltip","Log Viewer",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[1,"absolute","left-0","top-12","z-50","p-4","bg-white","border","rounded-md","shadow-sm","min-w-96","max-w-max"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-semibold","text-gray-600"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none",3,"click"],["class","flex gap-2 flex-wrap mb-4",4,"ngFor","ngForOf"],["class","border-t border-gray-200 my-4",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"flex","gap-2","flex-wrap","mb-4"],["class","px-3 py-1 border rounded-md text-sm transition",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-3","py-1","border","rounded-md","text-sm","transition",3,"click","ngClass"],[1,"border-t","border-gray-200","my-4"],[1,"mt-4"],[1,"flex","gap-2","flex-wrap"],["class","px-3 py-1 border rounded-md text-sm transition flex items-center space-x-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-3","py-1","border","rounded-md","text-sm","transition","flex","items-center","space-x-1",3,"click","ngClass"],[3,"icon",4,"ngIf"]],template:function(r,o){r&1&&(m(0,"div",0),A(1,gve,2,3,"button",1),m(2,"button",2),k("click",function(){return o.refresh()}),F(3,"fa-icon",3),m(4,"span",4),y(5),h()(),A(6,vve,4,1,"button",5)(7,yve,4,1,"button",6)(8,_ve,4,1,"button",7)(9,bve,4,3,"button",8)(10,xve,4,3,"button",8)(11,Cve,4,1,"button",9)(12,Ive,10,3,"div",10),h()),r&2&&(g(),x("ngIf",o.filterOptions.length>0||o.sortOptions.length>0),g(),x("disabled",o.isRefreshing)("matTooltip",o.isRefreshing?"Loading":"Refresh"),g(),Te("fa-spin",o.isRefreshing),x("icon",o.isRefreshing?o.faSpinner:o.faRefresh),g(2),j(o.isRefreshing?"Loading":"Refresh"),g(),x("ngIf",o.showChartButton),g(),x("ngIf",o.showChargesButton),g(),x("ngIf",o.showSummaryButton),g(),x("ngIf",o.showExitButton),g(),x("ngIf",o.showCancelButton),g(),x("ngIf",o.showLogsButton),g(),x("ngIf",o.showFilterSort))},dependencies:[Oe,ze,ot,ye,Ht],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();var Lve=["*"],Ave=n=>({"w-full mt-3 flex justify-center":n}),zve=(n,t,e,i,r)=>({"bg-blue-50 border-blue-200 text-blue-800":n,"bg-yellow-50  border-yellow-200 text-yellow-800":t,"bg-red-50  border-red-200 text-red-800":e,"bg-green-50 border-green-200 text-green-800":i,"justify-center items-center":r}),kve=(n,t,e,i)=>({"text-blue-500":n,"text-yellow-500":t,"text-red-500":e,"text-green-500":i}),Nve=n=>({"text-center":n});function Pve(n,t){if(n&1){let e=ee();m(0,"button",5),k("click",function(){N(e);let r=M(2);return P(r.closeNote())}),y(1," \u2715 "),h()}}function Ove(n,t){if(n&1&&(m(0,"div",1)(1,"div",2),F(2,"fa-icon",3),m(3,"div",1),Ea(4),h(),A(5,Pve,2,0,"button",4),h()()),n&2){let e=M();x("ngClass",_i(6,Ave,e.atCenter)),g(),x("ngClass",vw(8,zve,e.type==="info",e.type==="warning",e.type==="error",e.type==="success",e.atCenter)),g(),x("icon",e.icon)("ngClass",gw(14,kve,e.type==="info",e.type==="warning",e.type==="error",e.type==="success")),g(),x("ngClass",_i(19,Nve,e.atCenter)),g(2),x("ngIf",e.dismissible)}}var lr=(()=>{let t=class t{constructor(){this.type="info",this.dismissible=!1,this.atCenter=!1,this.dismissed=!1,this.faCircleInformation=k5,this.faWarning=K6,this.faSuccess=OT,this.faError=Uj}get icon(){switch(this.type){case"warning":return this.faWarning;case"error":return this.faError;case"success":return this.faSuccess;case"info":default:return this.faCircleInformation}}closeNote(){this.dismissed=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-note"]],inputs:{type:"type",dismissible:"dismissible",atCenter:"atCenter"},ngContentSelectors:Lve,decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"w-auto","w-full","flex","gap-2","p-2","rounded-md","box-border","border","overflow-hidden","text-sm",3,"ngClass"],[1,"h-5","w-5",3,"icon","ngClass"],["class","text-sm ml-2 text-gray-400 hover:text-gray-600","aria-label","Close",3,"click",4,"ngIf"],["aria-label","Close",1,"text-sm","ml-2","text-gray-400","hover:text-gray-600",3,"click"]],template:function(r,o){r&1&&(y1(),A(0,Ove,6,21,"div",0)),r&2&&x("ngIf",!o.dismissed)},dependencies:[ye,Oe,ot],encapsulation:2});let n=t;return n})();function Rve(n,t){if(n&1&&(m(0,"tr",21)(1,"td",22),F(2,"app-small-chip",23),y(3),m(4,"span",24),y(5),h()(),m(6,"td",25),y(7),h(),m(8,"td",25),y(9),Y(10,"number"),h(),m(11,"td",25),y(12),Y(13,"number"),h()()),n&2){let e=t.$implicit,i=M(2);g(2),x("text",e.contractNote.transactionType)("color",i.getTransactionTypeChipColor(e.contractNote.transactionType)),g(),q(" ",e.displayName," "),g(2),j(e.contractNote.exchange),g(2),j(e.contractNote.quantity),g(2),j(J(10,7,e.contractNote.price,"1.2-2")),g(3),j(J(13,10,e.contractNote.charges==null?null:e.contractNote.charges.total,"1.2-2"))}}function Fve(n,t){if(n&1&&(m(0,"div",5)(1,"div",6)(2,"table",7)(3,"tbody")(4,"tr")(5,"td",8),y(6,"Brokerage"),h(),m(7,"td",9),y(8),Y(9,"number"),h()(),m(10,"tr")(11,"td",8),y(12,"STT"),h(),m(13,"td",9),y(14),Y(15,"number"),h()(),m(16,"tr")(17,"td",8),y(18,"Stamp Duty"),h(),m(19,"td",9),y(20),Y(21,"number"),h()(),m(22,"tr")(23,"td",8),y(24,"Exchange Turnover"),h(),m(25,"td",9),y(26),Y(27,"number"),h()(),m(28,"tr")(29,"td",8),y(30,"SEBI Turnover"),h(),m(31,"td",9),y(32),Y(33,"number"),h()(),m(34,"tr")(35,"td",8),y(36,"GST"),h(),m(37,"td",9),y(38),Y(39,"number"),h()(),m(40,"tr",10)(41,"td",11),y(42,"Total"),h(),m(43,"td",9),y(44),Y(45,"number"),h()()()()(),m(46,"div",12)(47,"div",13)(48,"table",14)(49,"thead",15)(50,"tr",16)(51,"th",17),y(52,"INSTRUMENT"),h(),m(53,"th",17),y(54,"QTY"),h(),m(55,"th",17),y(56,"AVG PRICE"),h(),m(57,"th",17),y(58,"CHARGES"),h()()(),m(59,"tbody",18),A(60,Rve,14,13,"tr",19),h()()(),m(61,"div",20),y(62," *The data is an approximation based on the current orderbook and may change in the actual contract note after settlement. "),h()()()),n&2){let e=M();g(8),j(J(9,8,e.totalCharges.brokerage,"1.2-2")),g(6),j(J(15,11,e.totalCharges.stt,"1.2-2")),g(6),j(J(21,14,e.totalCharges.stampDuty,"1.2-2")),g(6),j(J(27,17,e.totalCharges.exchangeTurnover,"1.2-2")),g(6),j(J(33,20,e.totalCharges.sebiTurnover,"1.2-4")),g(6),j(J(39,23,e.totalCharges.gst,"1.2-2")),g(6),j(J(45,26,e.totalCharges.total,"1.2-2")),g(16),x("ngForOf",e.orders)}}function Bve(n,t){n&1&&(m(0,"div",26)(1,"app-note",27),y(2," You don't have any completed orders to show charges. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}var xu=(()=>{let t=class t{constructor(){this.orders=[],this.totalCharges={brokerage:0,stt:0,stampDuty:0,exchangeTurnover:0,sebiTurnover:0,gst:0,total:0}}ngOnInit(){}showChargesDetails(i){this.resetTotalCharges(),this.orders=[],i.forEach(r=>{(r.contractNoteDtos||[]).forEach(o=>{this.orders.push(o),this.totalCharges.brokerage+=o.contractNote.charges?.brokerage||0,this.totalCharges.stt+=o.contractNote.charges?.transactionTax||0,this.totalCharges.stampDuty+=o.contractNote.charges?.stampDuty||0,this.totalCharges.exchangeTurnover+=o.contractNote.charges?.exchangeTurnoverCharge||0,this.totalCharges.sebiTurnover+=o.contractNote.charges?.SEBITurnoverCharge||0,this.totalCharges.gst+=o.contractNote.charges?.gst?.total||0,this.totalCharges.total+=o.contractNote.charges?.total||0})})}resetTotalCharges(){this.totalCharges={brokerage:0,stt:0,stampDuty:0,exchangeTurnover:0,sebiTurnover:0,gst:0,total:0}}getTransactionTypeChipColor(i){switch(i){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-charges-summary"]],decls:6,vars:2,consts:[["noCharges",""],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"overflow-hidden","transition-all","duration-300"],["class","flex flex-col lg:flex-row gap-6",4,"ngIf","ngIfElse"],[1,"flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-1/3","w-full"],[1,"w-full","text-sm"],[1,"py-1","text-gray-600"],[1,"text-right"],[1,"font-semibold","border-t","border-gray-200"],[1,"py-2"],[1,"lg:w-2/3","w-full","text-gray-700","border","border-gray-200","rounded-md"],[1,"max-h-64","overflow-y-auto"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"border-b","border-gray-200"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],[1,"bg-white"],["class","hover:bg-blue-50 border-b border-gray-200 text-gray-700 ",4,"ngFor","ngForOf"],[1,"mt-2","ml-2","mb-2","text-xs","text-gray-500"],[1,"hover:bg-blue-50","border-b","border-gray-200","text-gray-700"],[1,"px-4","py-2","flex","items-center","gap-2"],[3,"text","color"],[1,"text-xs","text-gray-400"],[1,"px-4","py-2"],[1,"flex","justify-center","w-full","min-h-[200px]","items-center"],[3,"type","dismissible","atCenter"]],template:function(r,o){if(r&1&&(m(0,"div",1)(1,"div",2)(2,"div",3),A(3,Fve,63,29,"div",4)(4,Bve,3,3,"ng-template",null,0,Wn),h()()()),r&2){let a=An(5);g(3),x("ngIf",o.orders.length>0)("ngIfElse",a)}},dependencies:[ze,ye,mn,lr,ln],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();function Vve(n,t){if(n&1&&(m(0,"tr",10)(1,"th",11),y(2),h(),m(3,"td",12),y(4),h()()),n&2){let e=t.$implicit,i=M();g(2),q(" ",i.toLabel(e)," "),g(2),q(" ",i.formatValue(e,i.flattenedData[e])," ")}}var QY=(()=>{let t=class t{constructor(i,r,o){this.utilsService=i,this.dialogRef=r,this.data=o,this.title="Information",this.flattenedData={},o.title&&(this.title=o.title)}ngOnInit(){this.flattenedData=this.flattenObject(this.data.sourceData)}getKeys(i){return Object.keys(i)}toLabel(i){let r=["URL","ID","API","HTTP","HTML","SIP","MF"];return i.split(".").map(o=>{let a=o.replace(/[_-]/g," ");return a=a.replace(/([a-z])([A-Z])/g,"$1 $2"),a.split(" ").map(s=>{let l=s.toUpperCase();return r.includes(l)?l:s.charAt(0).toUpperCase()+s.slice(1)}).join(" ")}).join(" - ")}formatValue(i,r){if(typeof r=="boolean")return r?"Yes":"No";if(typeof r=="number")return i.toLowerCase().includes("date")||r>1e12&&r<1e14?this.utilsService.formatCustomDate(new Date(r)):r.toLocaleString();if(typeof r=="string"&&i.toLowerCase().includes("date")){let o=new Date(r);if(!isNaN(o.getTime()))return this.utilsService.formatCustomDate(o)}return r}flattenObject(i,r="",o={},a=1){if(a>3)return o;for(let s of Object.keys(i)){let l=r?`${r}.${s}`:s,c=i[s];c&&typeof c=="object"&&!Array.isArray(c)?this.flattenObject(c,l,o,a+1):o[l]=c}return o}onClose(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(V(En),V(Ni),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-detail-info-dialog"]],decls:12,vars:2,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"w-full","max-w-xl","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-4","py-3","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-2","space-y-4"],[1,"overflow-auto","max-h-[60vh]"],[1,"table-fixed","w-full","rounded-md","divide-y","divide-gray-200"],[1,"divide-y","divide-gray-100","text-sm","text-gray-700"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["cdkDragHandle","",1,"flex","justify-end","px-4","py-3","border-t","cursor-move"],[1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-100","text-sm",3,"click"],[1,"hover:bg-gray-50"],["scope","row",1,"px-4","py-2","text-left","font-medium","text-gray-600","align-top","break-words","w-1/3"],[1,"px-4","py-2","text-left","break-words","w-2/3"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"span",2),y(3),h()(),m(4,"div",3)(5,"div",4)(6,"table",5)(7,"tbody",6),A(8,Vve,5,2,"tr",7),h()()()(),m(9,"div",8)(10,"button",9),k("click",function(){return o.onClose()}),y(11," Close "),h()()()),r&2&&(g(3),j(o.title),g(5),x("ngForOf",o.getKeys(o.flattenedData)))},dependencies:[ze,ui,o0,or,rr],encapsulation:2});let n=t;return n})();var KY=(()=>{let t=class t{constructor(i){this.api=i}getHistoricalTimelineValues(i){return this.api.get(`/v1/history/timelines/${i}`)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var En=(()=>{let t=class t{constructor(i,r,o){this.dialog=i,this.historicalTimelineValuesService=r,this.toastrService=o}getAvatarUrl(i,r){return i.find(a=>a.userId===r)?.profile?.avatarURL||ci}getUserName(i,r){return i.find(a=>a.userId===r)?.name||"Unknown User"}getUserFullName(i,r){return i.find(a=>a.userId===r)?.profile?.userName||"Unknown User"}sort(i,r,o){let a=r==="desc"?-1:1;return o=[...o].sort((s,l)=>{let c=this.getNestedValue(s,i),u=this.getNestedValue(l,i);return typeof c=="number"&&typeof u=="number"?(c-u)*a:Date.parse(c)&&Date.parse(u)?(new Date(c).getTime()-new Date(u).getTime())*a:typeof c=="string"&&typeof u=="string"?c.localeCompare(u)*a:0}),o}filter(i,r){return i.forEach(o=>{o.selected.length>0&&!o.key.startsWith("custom.")&&(r=r.filter(a=>{let s=this.getNestedValue(a,o.key);return o.selected.includes(s.toUpperCase())}))}),r}getNestedValue(i,r){return r.split(".").reduce((o,a)=>o?.[a],i)}getElapsedYMDString(i){let r=new Date(i),o=new Date;if(isNaN(r.getTime()))return"";let a=o.getFullYear()-r.getFullYear(),s=o.getMonth()-r.getMonth(),l=o.getDate()-r.getDate();if(l<0){s--;let d=new Date(o.getFullYear(),o.getMonth(),0);l+=d.getDate()}s<0&&(a--,s+=12);let c=a>0?`${a}y`:"",u=s>0?`${s}M`:"";return c+u||"0d"}showInfo(i,r){this.dialog.open(QY,{disableClose:!1,autoFocus:!1,hasBackdrop:!0,closeOnNavigation:!0,data:{sourceData:i,title:r}})}formatCustomDate(i){let r=i.getDate(),o=i.toLocaleString("en-US",{month:"short"}),a=i.getFullYear();return`${r}${(l=>{let c=["th","st","nd","rd"],u=l%100;return c[(u-20)%10]||c[u]||"th"})(r)} ${o} ${a}`}convertUtcTimeToLocal(i){if(!i)return"";let[r,o,a]=i.split(":").map(Number),s=new Date;return s.setUTCHours(r,o,a,0),s.toLocaleTimeString("en-GB",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}fetchHistoricalTimelineValues(i){return this.historicalTimelineValuesService.getHistoricalTimelineValues(i)}populateHoldingsTimelineChartData(i,r=[]){let o=i.map(d=>new Date(d.date).toISOString().split("T")[0]),a=[],s=[],l=[];for(let d of i){let f=d.historicalHoldingsTimelines??[],p=r.length===0?f:f.filter(C=>r.includes(C.userId)),v=p.reduce((C,w)=>C+(w.investedAmount??0),0),_=p.reduce((C,w)=>C+(w.currentValue??0),0),b=p.reduce((C,w)=>C+(w.netPnl??0),0);a.push(v),s.push(_),l.push(b)}let c=[{name:"Invested Amount",data:a,smooth:!0},{name:"Current Value",data:s,smooth:!0},{name:"Total P&L",data:l,smooth:!0}],u=c.map(d=>d.name);return{dateLabels:o,legendLabels:u,series:c}}populateSipsTimelineChartData(i,r=[]){let o=i.map(u=>new Date(u.date).toISOString().split("T")[0]),a=[],s=[];for(let u of i){let d=u.historicalMfSipsTimelines??[],f=r.length===0?d:d.filter(_=>r.includes(_.userId)),p=f.reduce((_,b)=>_+(b.sipAmount??0),0),v=f.reduce((_,b)=>_+(b.activeSips??0),0);a.push(p),s.push(v)}let l=[{name:"Total SIP Amount",data:a,smooth:!0},{name:"Number of SIPs",data:s,smooth:!0}],c=l.map(u=>u.name);return{dateLabels:o,legendLabels:c,series:l}}populatePositionsTimelineChartData(i,r=[]){let o=i.map(u=>new Date(u.date).toISOString().split("T")[0]),a=[],s=[];for(let u of i){let d=u.historicalPositionsTimelines??[],f=r.length===0?d:d.filter(_=>r.includes(_.userId)),p=f.reduce((_,b)=>_+(b.totalEodPnl??0),0);a.push(p);let v=f.reduce((_,b)=>_+(b.openDerivativePositions??0),0);s.push(v)}let l=[{name:"Daily EOD PnL",data:a,type:"bar"}],c=l.map(u=>u.name);return{dateLabels:o,legendLabels:c,series:l}}};t.\u0275fac=function(r){return new(r||t)(ae(Zn),ae(KY),ae(tt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var v8=T7(JY());var Fo=(()=>{let t=class t{success(i){v8.default.fire("Success",i,"success")}error(i){v8.default.fire("Error",i,"error")}info(i,r,o){v8.default.fire({title:i,text:r,icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#10B981"}).then(a=>{a.isConfirmed&&o()})}confirm(i,r,o){v8.default.fire({title:i,text:r,icon:"warning",confirmButtonColor:"#10B981",cancelButtonColor:"#6b7280",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(a=>{a.isConfirmed&&o()})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Hve=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function jve(n,t){n&1&&F(0,"span",19)}function Gve(n,t){if(n&1){let e=ee();m(0,"div",16),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.setActiveSubTab(r))}),y(1),m(2,"span",17),y(3),h(),A(4,jve,1,0,"span",18),h()}if(n&2){let e=t.$implicit,i=M(2);Te("active-tab",e===i.activeSubTab)("text-gray-700",e!==i.activeSubTab),g(),q(" ",e," "),g(),x("ngClass",gt(8,Hve,e===i.activeSubTab,e!==i.activeSubTab)),g(),q(" ",i.tabCounts[e]," "),g(),x("ngIf",e===i.activeSubTab)}}function Wve(n,t){if(n&1){let e=ee();m(0,"div",20)(1,"app-orders-table",21),k("handleClickAction",function(r){N(e);let o=M(2);return P(o.handleAction(r))})("selectedOrdersChange",function(r){N(e);let o=M(2);return P(o.onSelectedOrdersChange(r))}),h()()}if(n&2){let e=M(2);g(),x("groupedOrders",e.stockFnoGroupedOrders)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function qve(n,t){n&1&&(m(0,"div",20)(1,"app-note",22),y(2," You don't have any orders in this section. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function $ve(n,t){if(n&1){let e=ee();m(0,"div")(1,"div",3)(2,"div",4),A(3,Gve,5,11,"div",5),h(),m(4,"div",6)(5,"a",7),F(6,"fa-icon",8),y(7," MF Orders "),h()()(),m(8,"div",9)(9,"div",6)(10,"app-tool-bar",10),k("filtersChanged",function(r){N(e);let o=M();return P(o.applyFilters(r))})("handleRefresh",function(r){N(e);let o=M();return P(o.handleRefresh(r))})("charges",function(){N(e);let r=M();return P(r.viewCharges())})("exit",function(){N(e);let r=M();return P(r.cancelSelectedOrders())}),h()(),F(11,"div",11),m(12,"div",6)(13,"app-user-filter",12),k("selectAllUsers",function(){N(e);let r=M();return P(r.onAllUserSelection())})("selectUsers",function(r){N(e);let o=M();return P(o.onUserSelection(r))})("totalUsers",function(r){N(e);let o=M();return P(o.captureUsers(r))}),h()(),m(14,"div",6)(15,"app-search-input",13),k("inputChange",function(r){N(e);let o=M();return P(o.onStocksFnoSearch(r))}),h()()(),m(16,"div",14),F(17,"app-charges-summary"),h(),A(18,Wve,2,3,"div",15)(19,qve,3,3,"ng-template",null,0,Wn),h()}if(n&2){let e=An(20),i=M();g(3),x("ngForOf",i.subTabs),g(3),x("icon",i.faListCheck),g(4),x("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("showChargesButton",!0)("isLoadingData",i.isLoadingData)("showCancelButton",i.selectedOrders.length>0)("cancelButtonLabel","Cancel Selected ("+i.selectedOrders.length+")"),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search orders by User ID or Instrument")("searchTerm",i.searchQuery),g(),x("@expandCollapse",i.showCharges?"expanded":"collapsed"),g(2),x("ngIf",i.stockFnoGroupedOrders.length>0)("ngIfElse",e)}}var eZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f){this.ordersService=i,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.dialog=l,this.utilsService=c,this.overlay=u,this.alertService=d,this.document=f,this.subTabs=["Open","All"],this.activeSubTab="Open",this.tabCounts={All:0,Open:0},this.instrumentTokens=[],this.users=[],this.stocksFnoOrders=[],this.stockFnoGroupedOrders=[],this.charges=[],this.filterCharges=[],this.showCharges=!1,this.errorMessage="",this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=ci,this.selectedOrders=[],this.isLoadingData=!1,this.filterOptions=[{key:"custom.status",values:["OPEN","COMPLETED","CANCELLED","REJECTED"]},{key:"order.orderType",values:["LIMIT","MARKET","SL","SL-M"]},{key:"order.transactionType",values:["BUY","SELL"]}],this.stocksFnoPendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.actions=[{action:"copy",color:"blue",label:"Copy Order"},{action:"modify",color:"blue",label:"Modify Order"},{action:"cancel",color:"red",label:"Cancel Order"},{action:"info",color:"gray",label:"Order Details"}],this.filterSelection=[],this.faListCheck=J6}ngOnInit(){let i=this.userViewStateService.getState();this.activeSubTab=i.orders.selectedOrderType,this.selectedUserIds=i.orders.selectedUsersIds,this.searchQuery=i.orders.searchQuery,i.orders.filterSelection?.length>0&&(this.filterSelection=i.orders.filterSelection),this.getCachedData(),this.fetchStocksFnoOrders(),this.fetchCharges()}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.stocksFnoOrders&&(this.stocksFnoOrders=i.stocksFnoOrders,this.renderOrders()))}setCachedData(){this.userDataStateService.setState({stocksFnoOrders:this.stocksFnoOrders})}renderOrders(){this.updateCounts(),this.updateFilteredAndGroupedStockFnoOrders()}fetchStocksFnoOrders(i){this.isLoadingData=!0,this.ordersService.getOrders().subscribe({next:r=>{this.stocksFnoOrders=r.data,this.renderOrders(),this.instrumentTokens=this.stocksFnoOrders.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData(),this.orderTableComponent&&this.orderTableComponent.clearSelection()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching stocks and fno orders. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}fetchCharges(i){this.ordersService.fetchCharges().subscribe({next:r=>{this.charges=r.data,this.filterChargesBySelectedUsers()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching charges. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}updateCounts(){let i=this.stocksFnoOrders.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)>-1).length;this.tabCounts.Open=i;let r=this.stocksFnoOrders.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)<0).length;this.tabCounts.Executed=r,this.tabCounts.All=i+r}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(et(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updateOrdersOnUpdate(i)})):console.log("No instrument tokens available for web socket subscription.")}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedOrders(),this.filterChargesBySelectedUsers(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedOrders(),this.filterChargesBySelectedUsers(),this.saveUserViewState()}onStocksFnoSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedStockFnoOrders(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({orders:{selectedUsersIds:this.selectedUserIds,selectedOrderType:this.activeSubTab,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}updateOrdersOnUpdate(i){i.forEach(r=>{this.stocksFnoOrders.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{(a.lastPrice!==r.lastTradedPrice||a.change!==r.change)&&(a.change=r.change,a.lastPrice=r.lastTradedPrice)})})}setActiveSubTab(i){this.activeSubTab=i,this.updateFilteredAndGroupedOrders(),this.saveUserViewState()}captureUsers(i){this.users=i}updateFilteredAndGroupedOrders(){this.updateFilteredAndGroupedStockFnoOrders()}updateFilteredAndGroupedStockFnoOrders(){let i=this.stocksFnoOrders;this.activeSubTab!=="All"&&(this.activeSubTab==="Open"?i=i.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)>-1):i=i.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)<0)),this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.displayName.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i),i=this.filterCustomStatus(i));let r={};i.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.stockFnoGroupedOrders=Object.entries(r).map(([o,a])=>({userId:o,orders:a,daysPnL:0,totalPnL:0,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}filterCustomStatus(i){let r=this.filterSelection.find(o=>o.key==="custom.status"&&o.selected.length>0);if(r){let o={OPEN:this.stocksFnoPendingStatus,COMPLETED:["COMPLETE"],REJECTED:["REJECTED"],CANCELLED:["CANCELLED"]},a=r.selected.flatMap(s=>o[s]||[]);i=i.filter(s=>a.includes(s.order.status))}return i}handleAction(i){i.action==="modify"?this.openModifyOrCopyOrderDialog(i.row,!1):i.action==="cancel"?this.cancelOrder(i.row):i.action==="copy"?this.openModifyOrCopyOrderDialog(i.row,!0):i.action==="info"&&this.utilsService.showInfo(i.row,`Order Details - ${i.row.displayName}`)}cancelOrder(i){this.ordersService.cancelOrder(i.order.accountId,i.order.orderId,i.order.orderVariety).pipe(Vt(r=>we({error:!0,id:i.order.accountId,message:r?.error?.message||"Unknown error"}))).subscribe({next:r=>{"error"in r&&r.error?(console.error("\u274C Order cancel failed:",r),this.toastrService.error(`Account ID: ${i.order.accountId}. Order cancellation for ${r.id} failed: ${r.message}`,"Error")):(this.toastrService.success(`Account ID: ${i.order.accountId}. Order cancelled successfully. Order ID:${r.data.orderId}`,"Success"),this.fetchStocksFnoOrders())},error:r=>{console.error("Fatal error:",r),this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}})}onSelectedOrdersChange(i){this.selectedOrders=i}cancelSelectedOrders(){if(this.selectedOrders.length===0){this.toastrService.warning("No orders selected","Warning");return}let i=this.selectedOrders.length;this.alertService.confirm(`Cancel ${i} Order${i>1?"s":""}?`,`Are you sure you want to cancel ${i} selected order${i>1?"s":""}? This action cannot be undone.`,()=>{this.processBulkCancel()})}processBulkCancel(){let i=this.selectedOrders.length,r=0,o=0,a=0;this.selectedOrders.forEach(s=>{this.ordersService.cancelOrder(s.order.accountId,s.order.orderId,s.order.orderVariety).pipe(Vt(l=>we({error:!0,id:s.order.accountId,message:l?.error?.message||"Unknown error"}))).subscribe({next:l=>{r++,"error"in l&&l.error?(a++,console.error("\u274C Order cancel failed:",l)):o++,r===i&&(o>0&&this.toastrService.success(`Successfully cancelled ${o} order${o>1?"s":""}${a>0?`, ${a} failed`:""}`,"Bulk Cancel Complete"),a>0&&o===0&&this.toastrService.error(`All ${a} order cancellations failed`,"Error"),this.fetchStocksFnoOrders(),this.selectedOrders=[])},error:l=>{r++,a++,console.error("Fatal error:",l),r===i&&(this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error"),this.fetchStocksFnoOrders(),this.selectedOrders=[],this.orderTableComponent&&this.orderTableComponent.clearSelection())}})})}openModifyOrCopyOrderDialog(i,r){let o={exchange:i.order.exchange,tradingSymbol:i.order.tradingSymbol,instrumentToken:i.instrumentToken,lastPrice:i.order.price,product:i.order.product,quantity:i.order.quantity,displayName:i.displayName,segment:i.order.segment||i.order.exchange,tradingAccountId:i.order.accountId},a={isCopy:r,isBuyMode:i.order.transactionType==="BUY",orderId:i.order.orderId,variety:i.order.orderVariety,orderType:i.order.orderType,originalPrice:i.order.price,originalTriggerPrice:i.order.triggerPrice,product:i.order.product};this.dialog.open(d0,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:X({},o)}}).afterClosed().subscribe(l=>{l&&this.fetchStocksFnoOrders()})}applyFilters(i){this.filterSelection=i,this.updateFilteredAndGroupedStockFnoOrders(),this.saveUserViewState()}handleRefresh(i){this.fetchStocksFnoOrders(i)}filterChargesBySelectedUsers(){this.selectedUserIds.length!==0?this.filterCharges=this.charges.filter(i=>this.selectedUserIds.includes(i.userId)):this.filterCharges=this.charges,this.chargesSummaryComponent&&this.chargesSummaryComponent.showChargesDetails(this.filterCharges)}toggleCharges(){this.showCharges=!this.showCharges}viewCharges(){this.toggleCharges()}ngAfterViewInit(){}};t.\u0275fac=function(r){return new(r||t)(V(Cs),V(sr),V(Bn),V(Tn),V(tt),V(Zn),V(En),V(Vr),V(Fo),V(Me))},t.\u0275cmp=ie({type:t,selectors:[["app-orders"]],viewQuery:function(r,o){if(r&1&&(On(bD,5),On(xu,5)),r&2){let a;an(a=sn())&&(o.orderTableComponent=a.first),an(a=sn())&&(o.chargesSummaryComponent=a.first)}},decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"flex-shrink-0"],["routerLink","/mf",1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","text-gray-700","hover:bg-gray-100","hover:text-blue-500","relative","flex","items-center","gap-2"],[1,"text-sm",3,"icon"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[3,"filtersChanged","handleRefresh","charges","exit","filterOptions","filterSelection","showChargesButton","isLoadingData","showCancelButton","cancelButtonLabel"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],["class","page-content",4,"ngIf","ngIfElse"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"page-content"],[3,"handleClickAction","selectedOrdersChange","groupedOrders","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(m(0,"div",1),A(1,$ve,21,14,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[nr,za,We,Oe,ze,ye,bD,Lo,Va,lr,ot,xu],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 138px);min-height:calc(100vh - var(--header-height, 80px) - 138px)}"],data:{animation:[Pi]}});let n=t;return n})();var hv=(n,t,e)=>({"text-green-600":n,"text-red-600":t,"text-gray-700":e}),tZ=(n,t)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":t});function Yve(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Total Investment"),h(),m(3,"span",4),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(4),q(" ",st(5,1,e.totalInvestment,"INR","symbol","1.2-2")," ")}}function Zve(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Current Value"),h(),m(3,"span",4),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(4),q(" ",st(5,1,e.currentValue,"INR","symbol","1.2-2")," ")}}function Xve(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Day's P&L"),h(),m(3,"span",5),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(3),x("ngClass",wn(7,hv,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),g(),q(" ",st(5,2,e.daysPnL,"INR","symbol","1.2-2")," ")}}function Qve(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Day's P&L"),h(),m(3,"div",6)(4,"span",7),y(5),Y(6,"currency"),h(),m(7,"span",8),y(8),Y(9,"percent"),h()()()),n&2){let e=M();g(4),x("ngClass",wn(12,hv,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),g(),q(" ",st(6,4,e.daysPnL,"INR","symbol","1.2-2")," "),g(2),x("ngClass",gt(16,tZ,e.daysPnLPercentage>0,e.daysPnLPercentage<0)),g(),q(" ",J(9,9,e.daysPnLPercentage,"1.2-2")," ")}}function Kve(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Total P&L"),h(),m(3,"span",5),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(3),x("ngClass",wn(7,hv,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),g(),q(" ",st(5,2,e.totalPnL,"INR","symbol","1.2-2")," ")}}function Jve(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Total P&L"),h(),m(3,"div",6)(4,"span",7),y(5),Y(6,"currency"),h(),m(7,"span",8),y(8),Y(9,"percent"),h()()()),n&2){let e=M();g(4),x("ngClass",wn(12,hv,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),g(),q(" ",st(6,4,e.totalPnL,"INR","symbol","1.2-2")," "),g(2),x("ngClass",gt(16,tZ,e.totalPnLPercentage>0,e.totalPnLPercentage<0)),g(),q(" ",J(9,9,e.totalPnLPercentage,"1.2-2")," ")}}var nZ=(()=>{let t=class t{constructor(i){this.utilsService=i}};t.\u0275fac=function(r){return new(r||t)(V(En))},t.\u0275cmp=ie({type:t,selectors:[["app-holdings-summary"]],inputs:{totalInvestment:"totalInvestment",currentValue:"currentValue",daysPnL:"daysPnL",daysPnLPercentage:"daysPnLPercentage",totalPnL:"totalPnL",totalPnLPercentage:"totalPnLPercentage"},decls:7,vars:6,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"],[1,"text-base","font-medium","mt-1",3,"ngClass"],[1,"flex","items-center","justify-center","gap-1","mt-1"],[1,"text-base","font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"]],template:function(r,o){r&1&&(m(0,"div",0),A(1,Yve,6,6,"div",1)(2,Zve,6,6,"div",1)(3,Xve,6,11,"div",1)(4,Qve,10,19,"div",1)(5,Kve,6,11,"div",1)(6,Jve,10,19,"div",1),h()),r&2&&(g(),x("ngIf",o.totalInvestment!==void 0),g(),x("ngIf",o.currentValue!==void 0),g(),x("ngIf",o.daysPnL!==void 0&&o.daysPnLPercentage===void 0),g(),x("ngIf",o.daysPnL!==void 0&&o.daysPnLPercentage!==void 0),g(),x("ngIf",o.totalPnL!==void 0&&o.totalPnLPercentage===void 0),g(),x("ngIf",o.totalPnL!==void 0&&o.totalPnLPercentage!==void 0))},dependencies:[We,Oe,ye,qn,Ci],encapsulation:2});let n=t;return n})();var CD=class{constructor(){this.subject=new H4(1),this.subscriptions=new Et}doFilter(t){this.subject.next(t)}dispose(){this.subscriptions.unsubscribe()}notEmpty(t,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[t]){let r=i[t].currentValue;r!=null&&e(r)}}))}has(t,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[t]){let r=i[t].currentValue;e(r)}}))}notFirst(t,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[t]&&!i[t].isFirstChange()){let r=i[t].currentValue;e(r)}}))}notFirstAndEmpty(t,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[t]&&!i[t].isFirstChange()){let r=i[t].currentValue;r!=null&&e(r)}}))}},iZ=new ue("NGX_ECHARTS_CONFIG"),gv=(()=>{let t=class t{constructor(i,r,o){this.el=r,this.ngZone=o,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new be,this.optionsError=new be,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new H4(1),this.resize$=new me,this.changeFilter=new CD,this.resizeObFired=!1,this.echarts=i.echarts,this.theme=i.theme||null}ngOnChanges(i){this.changeFilter.doFilter(i)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(Px(100,ba,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(i=>{for(let r of i)r.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",i=>this.onOptionsChange(i)),this.changeFilter.notFirstAndEmpty("merge",i=>this.setOption(i)),this.changeFilter.has("loading",i=>this.toggleLoading(!!i)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(i){this.chart?i?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(r=>i?r.showLoading(this.loadingType,this.loadingOpts):r.hideLoading())}setOption(i,r){if(this.chart)try{this.chart.setOption(i,r)}catch(o){console.error(o),this.optionsError.emit(o)}}refreshChart(){return Jo(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let i=this.el.nativeElement;if(window&&window.getComputedStyle){let r=window.getComputedStyle(i,null).getPropertyValue("height");(!r||r==="0px")&&(!i.style.height||i.style.height==="0px")&&(i.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:o})=>o(i,this.theme,this.initOpts)))}initChart(){return Jo(this,null,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(i){return Jo(this,null,function*(){i&&(this.chart?this.setOption(this.options,!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options,!0)))})}createLazyEvent(i){return this.chartInit.pipe(Un(r=>new ut(o=>(r.on(i,a=>this.ngZone.run(()=>o.next(a))),()=>{this.chart&&(this.chart.isDisposed()||r.off(i))}))))}};t.\u0275fac=function(r){return new(r||t)(V(iZ),V(at),V(Pe))},t.\u0275dir=Fe({type:t,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[rn]});let n=t;return n})(),SD=n=>({provide:iZ,useValue:n}),vv=(()=>{let t=class t{static forRoot(i){return{ngModule:t,providers:[SD(i)]}}static forChild(){return{ngModule:t}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=pt({});let n=t;return n})();var eye=["chartContainer"],Cu=(()=>{let t=class t{constructor(){this.title="",this.xAxisLabels=[],this.series=[],this.legendLabels=[],this.chartHeight="280",this.showDataZoom=!0,this.initOpts={renderer:"canvas",width:"auto",height:"auto"},this.chartOptions={},this.resizeListener=()=>this.updateChartSize(),this.isMobile=!1}ngOnInit(){this.checkMobile(),this.buildChartOptions()}ngOnChanges(){this.buildChartOptions()}ngAfterViewInit(){this.updateChartSize(),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}checkMobile(){this.isMobile=window.innerWidth<768}updateChartSize(){if(this.checkMobile(),this.chartContainer){let i=this.chartContainer.nativeElement.parentElement.offsetWidth,r=this.isMobile?Math.min(300,window.innerHeight*.4):parseInt(this.chartHeight);this.initOpts={renderer:"canvas",width:i+"px",height:r+"px"},this.buildChartOptions()}}buildChartOptions(){this.chartOptions={title:{text:this.title,textStyle:{fontSize:this.isMobile?12:14},left:this.isMobile?"center":"left"},tooltip:{trigger:"axis",confine:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#ccc",borderWidth:1,textStyle:{fontSize:this.isMobile?11:12},formatter:i=>{let r=i[0].axisValue,o=i.map(a=>{let s=a.value,l=this.formatValue(a.seriesName,s);return`${a.marker} ${a.seriesName}: ${l}`}).join("<br/>");return`<strong>${r}</strong><br/>${o}`}},legend:{data:this.legendLabels,orient:"horizontal",top:this.isMobile?25:5,left:"center",textStyle:{fontSize:this.isMobile?10:12},itemWidth:this.isMobile?15:25,itemHeight:this.isMobile?8:14},grid:{left:this.isMobile?"5%":"3%",right:this.isMobile?"5%":"4%",bottom:this.isMobile?"12%":"10%",top:this.isMobile?"25%":"20%",containLabel:!0},toolbox:{show:!this.isMobile,top:0,right:50,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:this.showDataZoom?[{type:"slider",start:0,end:100,height:this.isMobile?20:30,textStyle:{fontSize:this.isMobile?10:12}},{type:"inside",start:0,end:100}]:[],xAxis:{type:"category",boundaryGap:!1,data:this.xAxisLabels,axisLabel:{fontSize:this.isMobile?9:11,rotate:this.isMobile?45:0,interval:"auto",hideOverlap:!0,showMaxLabel:!0,showMinLabel:!0}},yAxis:{type:"value",axisLabel:{fontSize:this.isMobile?9:11,formatter:i=>this.isMobile&&Math.abs(i)>=1e3?(i/1e3).toFixed(0)+"k":i.toLocaleString()}},series:this.series.map(i=>X({type:"line",smooth:i.smooth??!0,lineStyle:{width:this.isMobile?1.5:2},symbol:this.isMobile?"none":"circle",symbolSize:this.isMobile?3:4},i))}}formatValue(i,r){if(r==null||isNaN(r))return"0.00";let o={minimumFractionDigits:this.isMobile?0:2,maximumFractionDigits:2};return i.includes("%")?`${r.toFixed(this.isMobile?1:2)}%`:i.toLowerCase().includes("pnl")?`${r>=0?"+":""}\u20B9${r.toLocaleString(void 0,o)}`:`\u20B9${r.toLocaleString(void 0,o)}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-timeline-chart"]],viewQuery:function(r,o){if(r&1&&On(eye,5),r&2){let a;an(a=sn())&&(o.chartContainer=a.first)}},inputs:{title:"title",xAxisLabels:"xAxisLabels",series:"series",legendLabels:"legendLabels",chartHeight:"chartHeight",showDataZoom:"showDataZoom"},features:[rn],decls:5,vars:2,consts:[["chartContainer",""],[1,"w-full","min-h-[12rem]","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"relative","w-full","min-h-[200px]","md:min-h-[200px]","overflow-hidden","touch-pan-x","touch-pan-y"],[1,"w-full","h-full",3,"options","initOpts"]],template:function(r,o){r&1&&(m(0,"div",1)(1,"div",2)(2,"div",3,0),F(4,"echarts",4),h()()()),r&2&&(g(4),x("options",o.chartOptions)("initOpts",o.initOpts))},dependencies:[We,vv,gv],encapsulation:2});let n=t;return n})();function tye(n,t){n&1&&(m(0,"div",1)(1,"p",2),y(2,"No holdings to display"),h()())}function nye(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instrument"))}}function iye(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("quantity"))}}function rye(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("averagePrice"))}}function oye(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("dayChangePercentage"))}}function aye(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("investedAmount"))}}function sye(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("currentValue"))}}function lye(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("dayPnl"))}}function cye(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("netChangePercentage"))}}function uye(n,t){if(n&1&&F(0,"fa-icon",28),n&2){let e=M().$implicit,i=M(3);x("matTooltip","Review Pledge. Pledge Qty: "+e.collateralQuantity)("icon",i.faTriangleExclamation)}}function dye(n,t){if(n&1&&(m(0,"div",29),F(1,"app-market-depth-invoker",35),h()),n&2){let e=M().$implicit;g(),x("title",e.instrument)("instrumentToken",e.instrumentToken)}}function fye(n,t){if(n&1&&(y(0),Y(1,"number")),n&2){let e=M().$implicit;q(" ",J(1,1,e.quantity,"1.0-0")," ")}}function pye(n,t){if(n&1&&(y(0),Y(1,"number")),n&2){let e=M().$implicit;q(" ",J(1,1,e.quantity,"1.2-2")," ")}}function mye(n,t){if(n&1){let e=ee();At(0),m(1,"tr",24)(2,"td",25)(3,"div",26)(4,"span",27),y(5),h(),Gt(6,uye,1,2,"fa-icon",28),Gt(7,dye,2,2,"div",29),h()(),m(8,"td",30),Gt(9,fye,2,4)(10,pye,2,4),h(),m(11,"td",30),y(12),Y(13,"number"),h(),m(14,"td",30)(15,"span",31),y(16),Y(17,"number"),m(18,"span",32),y(19),Y(20,"percent"),h()()(),m(21,"td",30),y(22),Y(23,"number"),h(),m(24,"td",30),y(25),Y(26,"number"),h(),m(27,"td",30)(28,"span",31),y(29),Y(30,"number"),m(31,"span",32),y(32),Y(33,"percent"),h()()(),m(34,"td",30)(35,"span",31),y(36),Y(37,"number"),m(38,"span",32),y(39),Y(40,"percent"),h()()(),m(41,"td",33)(42,"app-action-menu",34),k("handleAction",function(r){N(e);let o=M(3);return P(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(4),x("matTooltip",e.instrument),g(),q(" ",e.instrument," "),g(),Wt(i.isScopeToPledge(e)?6:-1),g(),Wt(e.type==="Stocks"?7:-1),g(2),Wt(e.type==="Stocks"?9:10),g(3),q(" ",J(13,31,e.averagePrice,"1.2-2")," "),g(3),x("ngClass",i.color(e.dayChangePercentage)),g(),q(" ",J(17,34,e.lastPrice,"1.2-2")," "),g(2),Te("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),g(),q(" ",J(20,37,e.dayChangePercentage/100,"1.2-2")," "),g(3),q(" \u20B9",J(23,40,e.investedAmount,"1.2-2")," "),g(3),q(" \u20B9",J(26,43,e.currentValue,"1.2-2")," "),g(3),x("ngClass",i.color(e.dayChangePercentage)),g(),q(" ",J(30,46,e.dayPnl,"1.2-2")," "),g(2),Te("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),g(),q(" ",J(33,49,e.dayChangePercentage/100,"1.2-2")," "),g(3),x("ngClass",i.color(e.netChangePercentage)),g(),q(" ",J(37,52,e.netPnl,"1.2-2")," "),g(2),Te("bg-green-50",e.netChangePercentage>0)("bg-red-50",e.netChangePercentage<0),g(),q(" ",J(40,55,e.netChangePercentage/100,"1.2-2")," "),g(3),x("row",e)("actions",i.getActionButtons(e))}}function hye(n,t){n&1&&(m(0,"tr")(1,"td",36),F(2,"div",37),h()())}function gye(n,t){if(n&1&&(At(0),m(1,"tr",15)(2,"td",16),F(3,"app-user-info-header",17),h(),m(4,"td",18),y(5),Y(6,"number"),h(),m(7,"td",18),y(8),Y(9,"number"),h(),m(10,"td",19)(11,"span",20),y(12),Y(13,"number"),h(),m(14,"span",21),y(15),Y(16,"percent"),h()(),m(17,"td",19)(18,"span",20),y(19),Y(20,"number"),h(),m(21,"span",21),y(22),Y(23,"percent"),h()(),F(24,"td",22),h(),A(25,mye,43,58,"ng-container",13)(26,hye,3,0,"tr",23),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("fullName",e.fullName||e.userName)("userName",e.userName||e.userId)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(2),q(" \u20B9",J(6,26,e.totalInvestment,"1.2-2")," "),g(3),q(" \u20B9",J(9,29,e.currentValue,"1.2-2")," "),g(3),x("ngClass",r.color(e.daysPnL)),g(),q(" \u20B9",J(13,32,e.daysPnL,"1.2-2")," "),g(2),Te("bg-green-50",e.daysPnL>0)("bg-red-50",e.daysPnL<0),x("ngClass",r.color(e.daysPnL)),g(),q(" ",J(16,35,e.daysPnLPercentage,"1.2-2")," "),g(3),x("ngClass",r.color(e.totalPnL)),g(),q(" \u20B9",J(20,38,e.totalPnL,"1.2-2")," "),g(2),Te("bg-green-50",e.totalPnL>0)("bg-red-50",e.totalPnL<0),x("ngClass",r.color(e.totalPnL)),g(),q(" ",J(23,41,e.totalPnLPercentage,"1.2-2")," "),g(3),x("ngForOf",e.holdings)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function vye(n,t){if(n&1){let e=ee();m(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("instrument"))}),y(6," INSTRUMENT "),A(7,nye,2,1,"span",8),h()(),m(8,"th",9)(9,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("quantity"))}),y(10," QTY "),A(11,iye,2,1,"span",8),h()(),m(12,"th",9)(13,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("averagePrice"))}),y(14," AVG "),A(15,rye,2,1,"span",8),h()(),m(16,"th",9)(17,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("dayChangePercentage"))}),y(18," LTP "),A(19,oye,2,1,"span",8),h()(),m(20,"th",9)(21,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("investedAmount"))}),y(22," INVESTED "),A(23,aye,2,1,"span",8),h()(),m(24,"th",9)(25,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("currentValue"))}),y(26," CURRENT "),A(27,sye,2,1,"span",8),h()(),m(28,"th",9)(29,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("dayPnl"))}),y(30," DAY P&L "),A(31,lye,2,1,"span",8),h()(),m(32,"th",9)(33,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("netChangePercentage"))}),y(34," NET P&L "),A(35,cye,2,1,"span",8),h()(),m(36,"th",11),y(37,"ACTIONS"),h()()(),m(38,"tbody",12),A(39,gye,27,44,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("instrument")),g(4),x("ngIf",e.getSortIndicator("quantity")),g(4),x("ngIf",e.getSortIndicator("averagePrice")),g(4),x("ngIf",e.getSortIndicator("dayChangePercentage")),g(4),x("ngIf",e.getSortIndicator("investedAmount")),g(4),x("ngIf",e.getSortIndicator("currentValue")),g(4),x("ngIf",e.getSortIndicator("dayPnl")),g(4),x("ngIf",e.getSortIndicator("netChangePercentage")),g(4),x("ngForOf",e.sortedGroupedHoldings)("ngForTrackBy",e.trackByUser)}}var oZ=(()=>{let t=class t{constructor(){this.groupedHoldings=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new be,this.expandedInstrument=null,this.faTriangleExclamation=K6,this.sortColumn="dayChangePercentage",this.sortDirection="desc",this.sortAccessors={instrument:i=>(i.instrument??"").toString().toLowerCase(),quantity:i=>i.quantity??0,averagePrice:i=>i.averagePrice??0,dayChangePercentage:i=>i.dayChangePercentage??0,investedAmount:i=>i.investedAmount??0,currentValue:i=>i.currentValue??0,dayPnl:i=>i.dayPnl??0,netChangePercentage:i=>i.netChangePercentage??0}}getActionButtons(i){let r=this.actions;return i.type==="Mutual Funds"&&(r=r.filter(o=>o.action!=="screenerIn"&&o.action!=="yahooFinance"&&o.action!=="chart"&&o.action!=="exit")),i.type==="Stocks"&&(r=r.filter(o=>o.action!=="coinReport")),r}handleAction(i){this.handleClickAction.emit(i)}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}toggleInstrument(i){}trackByUser(i,r){return r.userId}trackBySequenceNumber(i,r){return r.sequenceNumber}isScopeToPledge(i){return(i.quantity-i.collateralQuantity)*i.lastPrice>2e4}get sortedGroupedHoldings(){return!this.sortColumn||!this.sortDirection?this.groupedHoldings:this.groupedHoldings.map(i=>Ie(X({},i),{holdings:[...i.holdings??[]].sort((r,o)=>this.compareHoldings(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["dayChangePercentage","netChangePercentage"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareHoldings(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l=0;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-holdings-table"]],inputs:{groupedHoldings:"groupedHoldings",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","4",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","fullName","userName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","text-right","font-medium","whitespace-nowrap"],[1,"px-2","md:px-4","text-right","whitespace-nowrap"],[1,"font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"],[1,"px-2","md:px-4","text-center","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left",3,"matTooltip"],[1,"text-orange-600","flex-shrink-0","text-sm",3,"matTooltip","icon"],[1,"flex","items-center","justify-center","gap-2"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],[3,"title","instrumentToken"],["colspan","9",1,"py-1"],[1,"border-b","border-dashed","border-gray-200"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,tye,3,0,"div",1)(2,vye,40,10,"div"),h()),r&2&&(g(),Wt(!o.groupedHoldings||o.groupedHoldings.length===0?1:2))},dependencies:[We,Oe,ze,ye,Fa,Ht,ot,jr,Oo,ln,qn],encapsulation:2});let n=t;return n})();var yv=(()=>{let t=class t{constructor(i){this.api=i}getHoldings(){return this.api.get("/v1/holdings")}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var yye=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function _ye(n,t){n&1&&F(0,"span",20)}function bye(n,t){if(n&1){let e=ee();m(0,"div",17),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.setActiveTab(r))}),y(1),m(2,"span",18),y(3),h(),A(4,_ye,1,0,"span",19),h()}if(n&2){let e=t.$implicit,i=M(2);Te("active-tab",e===i.activeTab)("text-gray-700",e!==i.activeTab),g(),q(" ",e," "),g(),x("ngClass",gt(8,yye,e===i.activeTab,e!==i.activeTab)),g(),q(" ",i.tabCounts[e]," "),g(),x("ngIf",e===i.activeTab)}}function xye(n,t){if(n&1&&(m(0,"div",9)(1,"a",21),F(2,"fa-icon",22),y(3," SIPs "),h()()),n&2){let e=M(2);g(2),x("icon",e.faMoneyBillTrendUp)}}function Cye(n,t){if(n&1){let e=ee();m(0,"div",23)(1,"app-holdings-table",24),k("handleClickAction",function(r){N(e);let o=M(2);return P(o.handleAction(r))}),h()()}if(n&2){let e=M(2);g(),x("groupedHoldings",e.groupedHoldings)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function Sye(n,t){n&1&&(m(0,"div",23)(1,"app-note",25),y(2," You don't have any holdings in this section. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function wye(n,t){if(n&1){let e=ee();m(0,"div")(1,"div",3)(2,"div",4),A(3,bye,5,11,"div",5),h(),A(4,xye,4,1,"div",6),h(),F(5,"app-holdings-summary",7),m(6,"div",8)(7,"div",9)(8,"app-tool-bar",10),k("filtersChanged",function(r){N(e);let o=M();return P(o.applyFilters(r))})("handleRefresh",function(r){N(e);let o=M();return P(o.handleRefresh(r))})("toggleChart",function(){N(e);let r=M();return P(r.toggleChart())}),h()(),F(9,"div",11),m(10,"div",9)(11,"app-user-filter",12),k("selectAllUsers",function(){N(e);let r=M();return P(r.onAllUserSelection())})("selectUsers",function(r){N(e);let o=M();return P(o.onUserSelection(r))})("totalUsers",function(r){N(e);let o=M();return P(o.captureUsers(r))}),h()(),m(12,"div",9)(13,"app-search-input",13),k("inputChange",function(r){N(e);let o=M();return P(o.onSearch(r))}),h()()(),m(14,"div",14),F(15,"app-timeline-chart",15),h(),A(16,Cye,2,3,"div",16)(17,Sye,3,3,"ng-template",null,0,Wn),h()}if(n&2){let e=An(18),i=M();g(3),x("ngForOf",i.tabs),g(),x("ngIf",i.activeTab==="Mutual Funds"),g(),x("totalInvestment",i.totalInvestment)("currentValue",i.currentValue)("daysPnL",i.daysPnL)("daysPnLPercentage",i.daysPnLPercentage)("totalPnL",i.totalPnL)("totalPnLPercentage",i.totalPnLPercentage),g(3),x("isLoadingData",i.isLoadingData)("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("showChartButton",!0),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search holdings by User ID or Instrument")("searchTerm",i.searchQuery),g(),x("@expandCollapse",i.showChart?"expanded":"collapsed"),g(),x("title","Portfolio Performance")("xAxisLabels",i.dateLabels)("legendLabels",i.legendLabels)("series",i.series)("showDataZoom",!0),g(),x("ngIf",i.groupedHoldings.length>0)("ngIfElse",e)}}var sZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d){this.holdingService=i,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.utilsService=l,this.dialog=c,this.overlay=u,this.document=d,this.instrumentTokens=[],this.users=[],this.tabs=["All","Stocks","Mutual Funds"],this.tabCounts={All:0,Stocks:0,"Mutual Funds":0},this.activeTab="All",this.holdings=[],this.filteredHoldings=[],this.groupedHoldings=[],this.historicalTimelineValues=[],this.errorMessage="",this.totalInvestment=0,this.currentValue=0,this.daysPnL=0,this.daysPnLPercentage=0,this.totalPnL=0,this.totalPnLPercentage=0,this.selectedUserIds=[],this.searchQuery="",this.filterOptions=[{key:"type",values:["STOCKS","MUTUAL FUNDS"]}],this.actions=[{action:"exit",color:"red",label:"Exit"},{action:"chart",color:"gray",label:"View Chart"},{action:"screenerIn",color:"gray",label:"Screener.in"},{action:"yahooFinance",color:"gray",label:"Yahoo Finance"},{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"Holding Details"}],this.isLoadingData=!1,this.filterSelection=[],this.fallbackAvatarUrl=ci,this.faMoneyBillTrendUp=pg,this.faTriangleExclamation=K6,this.showChart=!1,this.dateLabels=[],this.legendLabels=[],this.series=[]}ngOnInit(){this.cellTemplates={};let i=this.userViewStateService.getState();this.activeTab=i.holdings.selectedHoldingType,this.selectedUserIds=i.holdings.selectedUsersIds,this.searchQuery=i.holdings.searchQuery,i.holdings.filterSelection?.length>0&&(this.filterSelection=i.holdings.filterSelection),this.getCachedData(),this.fetchHoldings(),this.fetchHistoricalTimelineValues()}handleAction(i){if(i.action==="exit")this.openAddOrExitOrderDialog(i.row,"exit");else if(i.action==="chart")window.open(B9(i.row.exchange,i.row.instrument),"_blank","noopener,noreferrer");else if(i.action==="screenerIn")window.open(BU(i.row.instrument),"_blank","noopener,noreferrer");else if(i.action==="yahooFinance"){let r=i.row.exchange==="NSE"?"NS":i.row.exchange==="BSE"?"BO":"NS";window.open(VU(i.row.instrument,r),"_blank","noopener,noreferrer")}else i.action==="coinReport"?window.open(g5(i.row.tradingSymbol),"_blank","noopener,noreferrer"):i.action==="info"&&this.utilsService.showInfo(i.row,`Holding Details - ${i.row.instrument}`)}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}ngAfterViewInit(){}fetchHistoricalTimelineValues(i){this.utilsService.fetchHistoricalTimelineValues("holdings").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.holdings&&(this.holdings=i.holdings,this.renderHoldings()))}setCachedData(){this.userDataStateService.setState({holdings:this.holdings})}renderHoldings(){this.updateCounts(),this.updateFilteredAndGroupedHoldings()}fetchHoldings(i){this.isLoadingData=!0,this.holdingService.getHoldings().subscribe({next:r=>{this.holdings=r.data,this.renderHoldings(),this.instrumentTokens=this.holdings.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}updateCounts(){let i=0;this.tabs.forEach(r=>{let o=this.holdings.filter(a=>a.type===r).length;i+=o,this.tabCounts[r]=o}),this.tabCounts.All=i}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(et(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updateHoldingsOnUpdate(i)})):console.log("No instrument tokens available for web socket subscription.")}updateHoldingsOnUpdate(i){i.forEach(r=>{this.holdings.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a&&a.lastPrice!==r.lastTradedPrice&&(a.lastPrice=r.lastTradedPrice,a.currentValue=a.quantity*r.lastTradedPrice,a.netPnl=a.currentValue-a.investedAmount,a.netChangePercentage=a.netPnl/a.investedAmount*100,a.dayChangePercentage=(r.lastTradedPrice-r.closePrice)/r.closePrice*100,a.dayPnl=a.dayChangePercentage*(a.quantity*r.closePrice)/100)})}),this.calculateSummary(),this.updateGroupSummaries()}calculateGroupSummary(i){let r=i.reduce((u,d)=>u+(d.investedAmount||0),0),o=i.reduce((u,d)=>u+(d.currentValue||0),0),a=i.reduce((u,d)=>u+(d.dayPnl||0),0),s=i.reduce((u,d)=>u+(d.netPnl||0),0),l=a/r||0,c=s/r||0;return{totalInvestment:r,currentValue:o,daysPnL:a,totalPnL:s,daysPnLPercentage:l,totalPnLPercentage:c}}updateGroupSummaries(){this.groupedHoldings.forEach(i=>{let r=this.calculateGroupSummary(i.holdings);Object.assign(i,r)})}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState(),this.populateTimelineChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedHoldings(),this.saveUserViewState(),this.populateTimelineChartData()}captureUsers(i){this.users=i}onSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({holdings:{selectedUsersIds:this.selectedUserIds,selectedHoldingType:this.activeTab,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}calculateSummary(){let i=0,r=0,o=0,a=0;this.filteredHoldings.forEach(s=>{i+=s.investedAmount||0,r+=s.currentValue||0,o+=s.dayPnl||0,a+=s.netPnl||0}),this.totalInvestment=i,this.currentValue=r,this.daysPnL=o,this.daysPnLPercentage=o/i||0,this.totalPnL=a,this.totalPnLPercentage=a/i||0}setActiveTab(i){this.activeTab=i,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}hideChildSummary(i){return this.selectedUserIds.length===1||this.users.length===1||this.holdings.filter(r=>r.userId===i.userId).length===1}updateFilteredAndGroupedHoldings(){let i=this.holdings;this.activeTab!=="All"&&(i=i.filter(o=>o.type===this.activeTab)),this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.instrument.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i)),this.filteredHoldings=i;let r={};this.filteredHoldings.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedHoldings=Object.entries(r).map(([o,a])=>X({userId:o,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o),holdings:a},this.calculateGroupSummary(a))),this.calculateSummary()}applyFilters(i){this.filterSelection=i,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}handleRefresh(i){this.fetchHoldings(i)}toggleChart(){this.showChart=!this.showChart}populateTimelineChartData(){let i=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.dateLabels=i.dateLabels,this.legendLabels=i.legendLabels,this.series=i.series}openAddOrExitOrderDialog(i,r){let o={exchange:i.exchange,tradingSymbol:i.tradingSymbol,instrumentToken:i.instrumentToken,lastPrice:i.lastPrice,quantity:i.quantity,displayName:i.instrument,segment:i.exchange,tradingAccountId:i.userId},a={isBuyMode:!1,isCopy:!1,isExitPosition:!1,product:"CNC"};r==="exit"&&(a.isBuyMode=!1,a.isExitPosition=!0),this.dialog.open(d0,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:X({},o)}}).afterClosed().subscribe(l=>{l&&this.fetchHoldings()})}};t.\u0275fac=function(r){return new(r||t)(V(yv),V(sr),V(Bn),V(Tn),V(tt),V(En),V(Zn),V(Vr),V(Me))},t.\u0275cmp=ie({type:t,selectors:[["app-holdings"]],decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","flex-shrink-0",4,"ngIf"],[3,"totalInvestment","currentValue","daysPnL","daysPnLPercentage","totalPnL","totalPnLPercentage"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","toggleChart","isLoadingData","filterOptions","filterSelection","showChartButton"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],["routerLink","/mf",1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","text-gray-700","hover:bg-gray-100","hover:text-blue-500","relative","flex","items-center","gap-2"],[1,"text-sm",3,"icon"],[1,"page-content"],[3,"handleClickAction","groupedHoldings","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(m(0,"div",1),A(1,wye,19,23,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[We,Oe,ze,ye,pn,za,nr,nZ,Lo,Va,Cu,lr,ot,oZ],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();var Mye=n=>({opacity:n});function Tye(n,t){n&1&&(m(0,"div",1)(1,"p",2),y(2,"No positions to display"),h()())}function Eye(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instrument"))}}function Dye(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("quantity"))}}function Iye(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("averagePrice"))}}function Lye(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("change"))}}function Aye(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("value"))}}function zye(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("dayPnl"))}}function kye(n,t){if(n&1&&(m(0,"span",16),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("netPnl"))}}function Nye(n,t){if(n&1){let e=ee();m(0,"input",38),k("change",function(){N(e);let r=M().$implicit,o=M(3);return P(o.togglePositionSelection(r))}),h()}if(n&2){let e=M().$implicit,i=M(3);x("checked",i.isPositionSelected(e))}}function Pye(n,t){if(n&1){let e=ee();At(0),m(1,"tr",26)(2,"td",27),A(3,Nye,1,1,"input",28),h(),m(4,"td",29)(5,"div",30),F(6,"app-small-chip",31),m(7,"span",32),y(8),h(),F(9,"app-market-depth-invoker",33)(10,"app-small-chip",31)(11,"app-small-chip",31),h()(),m(12,"td",34)(13,"span",35),y(14),Y(15,"number"),h()(),m(16,"td",34),y(17),Y(18,"number"),h(),m(19,"td",34)(20,"span",35),y(21),Y(22,"number"),m(23,"span",36),y(24),Y(25,"percent"),h()()(),m(26,"td",34),y(27),Y(28,"currency"),h(),m(29,"td",34)(30,"span",35),y(31),Y(32,"currency"),h()(),m(33,"td",34)(34,"span",35),y(35),Y(36,"currency"),h()(),m(37,"td",34)(38,"app-action-menu",37),k("handleAction",function(r){N(e);let o=M(3);return P(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(),x("ngStyle",_i(56,Mye,e.position.netQuantity===0?.5:1)),g(2),x("ngIf",e.position.netQuantity!==0),g(3),x("text",i.getTransactionType(e.position.netQuantity))("color",i.getTransactionTypeChipColor(e.position.netQuantity)),g(),x("title",e.displayName),g(),q(" ",e.displayName," "),g(),x("title",e.displayName)("instrumentToken",e.position.instrumentToken),g(),x("text",e.position.product)("color",e.position.product==="MIS"?"orange":"purple"),g(),x("text",e.position.exchange)("color","gray"),g(2),x("ngClass",i.quantityColor(e.position.netQuantity)),g(),q(" ",J(15,29,e.position.netQuantity,"1.0-2")," "),g(3),q(" ",J(18,32,e.position.averagePrice,"1.2-2")," "),g(3),x("ngClass",i.color(e.position.change)),g(),q(" ",J(22,35,e.position.lastPrice,"1.2-2")," "),g(2),Te("bg-green-50",e.position.change>0)("bg-red-50",e.position.change<0),g(),q(" ",J(25,38,e.position.change/100,"1.2-2")," "),g(3),q(" ",st(28,41,e.position.value,"INR","symbol","1.2-2")," "),g(3),x("ngClass",i.color(e.dayPnl)),g(),q(" ",st(32,46,e.dayPnl,"INR","symbol","1.2-2")," "),g(3),x("ngClass",i.color(e.position.pnl)),g(),q(" ",st(36,51,e.position.pnl,"INR","symbol","1.2-2")," "),g(3),x("row",e)("actions",i.getActionButtons(e))}}function Oye(n,t){n&1&&(m(0,"tr")(1,"td",39),F(2,"div",40),h()())}function Rye(n,t){if(n&1&&(At(0),m(1,"tr",17)(2,"td",18)(3,"div",19),F(4,"app-user-info-header",20),m(5,"span",21),y(6),Y(7,"currency"),h(),m(8,"span",21),y(9),Y(10,"currency"),h()()(),m(11,"td",22)(12,"span",23),y(13),Y(14,"number"),h()(),m(15,"td",22)(16,"span",23),y(17),Y(18,"number"),h()(),F(19,"td",24),h(),A(20,Pye,39,58,"ng-container",15)(21,Oye,3,0,"tr",25),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(4),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(),x("ngClass",e.availableFunds<0?"text-red-600":"text-blue-600"),g(),q(" Utilized: ",st(7,16,e.utilizedFunds,"INR","symbol","1.0-0")," "),g(2),x("ngClass",e.availableFunds<0?"text-red-600":"text-green-600"),g(),q(" Available: ",st(10,21,e.availableFunds,"INR","symbol","1.0-0")," "),g(3),x("ngClass",r.color(e.daysPnL)),g(),q(" \u20B9",J(14,26,e.daysPnL,"1.2-2")," "),g(3),x("ngClass",r.color(e.totalPnL)),g(),q(" \u20B9",J(18,29,e.totalPnL,"1.2-2")," "),g(3),x("ngForOf",e.positions)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function Fye(n,t){if(n&1){let e=ee();m(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"input",7),k("change",function(){N(e);let r=M();return P(r.toggleSelectAll())}),h()(),m(6,"th",8)(7,"button",9),k("click",function(){N(e);let r=M();return P(r.setSort("instrument"))}),y(8," INSTRUMENT "),A(9,Eye,2,1,"span",10),h()(),m(10,"th",11)(11,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("quantity"))}),y(12," QTY "),A(13,Dye,2,1,"span",10),h()(),m(14,"th",11)(15,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("averagePrice"))}),y(16," AVG "),A(17,Iye,2,1,"span",10),h()(),m(18,"th",11)(19,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("change"))}),y(20," LTP "),A(21,Lye,2,1,"span",10),h()(),m(22,"th",11)(23,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("value"))}),y(24," VALUE "),A(25,Aye,2,1,"span",10),h()(),m(26,"th",11)(27,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("dayPnl"))}),y(28," DAY P&L "),A(29,zye,2,1,"span",10),h()(),m(30,"th",11)(31,"button",12),k("click",function(){N(e);let r=M();return P(r.setSort("netPnl"))}),y(32," NET P&L "),A(33,kye,2,1,"span",10),h()(),m(34,"th",13),y(35,"ACTIONS"),h()()(),m(36,"tbody",14),A(37,Rye,22,32,"ng-container",15),h()()()}if(n&2){let e=M();g(5),x("checked",e.isAllSelected)("indeterminate",e.isSomeSelected),g(4),x("ngIf",e.getSortIndicator("instrument")),g(4),x("ngIf",e.getSortIndicator("quantity")),g(4),x("ngIf",e.getSortIndicator("averagePrice")),g(4),x("ngIf",e.getSortIndicator("change")),g(4),x("ngIf",e.getSortIndicator("value")),g(4),x("ngIf",e.getSortIndicator("dayPnl")),g(4),x("ngIf",e.getSortIndicator("netPnl")),g(4),x("ngForOf",e.sortedGroupedPositions)("ngForTrackBy",e.trackByUser)}}var wD=(()=>{let t=class t{constructor(){this.groupedPositions=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new be,this.selectedPositionsChange=new be,this.sortColumn="netPnl",this.sortDirection="desc",this.selectedPositions=new Set,this.sortAccessors={instrument:i=>(i.displayName??"").toString().toLowerCase(),quantity:i=>i.position?.netQuantity??0,averagePrice:i=>i.position?.averagePrice??0,change:i=>i.position?.change??0,value:i=>i.position?.value??0,dayPnl:i=>i.dayPnl??0,netPnl:i=>i.position?.pnl??0}}get sortedGroupedPositions(){return!this.sortColumn||!this.sortDirection?this.groupedPositions:this.groupedPositions.map(i=>Ie(X({},i),{positions:[...i.positions??[]].sort((r,o)=>this.comparePositions(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["dayPnl","netPnl","change"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}comparePositions(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l=0;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}getActionButtons(i){let r=this.actions;return i.position.netQuantity===0&&(r=r.filter(o=>o.action!=="exit")),r}handleAction(i){this.handleClickAction.emit(i)}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}quantityColor(i){return i>0?"text-blue-600":i<0?"text-red-600":""}trackByUser(i,r){return r.userId}trackBySequenceNumber(i,r){return r.sequenceNumber}getTransactionType(i){return i>0?"BUY":i<0?"SELL":"EXITED"}getTransactionTypeChipColor(i){return i>0?"blue":i<0?"red":"gray"}get allExitablePositions(){return this.groupedPositions.flatMap(i=>i.positions.filter(r=>r.position.netQuantity!==0))}get isAllSelected(){let i=this.allExitablePositions;return i.length>0&&i.every(r=>this.selectedPositions.has(r))}get isSomeSelected(){return this.allExitablePositions.some(r=>this.selectedPositions.has(r))&&!this.isAllSelected}toggleSelectAll(){this.isAllSelected?this.allExitablePositions.forEach(i=>this.selectedPositions.delete(i)):this.allExitablePositions.forEach(i=>this.selectedPositions.add(i)),this.emitSelectedPositions()}togglePositionSelection(i){this.selectedPositions.has(i)?this.selectedPositions.delete(i):this.selectedPositions.add(i),this.emitSelectedPositions()}isPositionSelected(i){return this.selectedPositions.has(i)}emitSelectedPositions(){this.selectedPositionsChange.emit(Array.from(this.selectedPositions))}clearSelection(){this.selectedPositions.clear(),this.emitSelectedPositions()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-positions-table"]],inputs:{groupedPositions:"groupedPositions",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction",selectedPositionsChange:"selectedPositionsChange"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center","w-12"],["type","checkbox","title","Select/Unselect all exitable positions",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked","indeterminate"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[1,"flex","items-center","gap-2","flex-wrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"inline-flex","items-center","rounded-md","px-2","py-0.5","text-sm","whitespace-nowrap",3,"ngClass"],[1,"px-2","md:px-4","text-right","whitespace-nowrap"],[1,"font-medium",3,"ngClass"],[1,"px-2","md:px-4","text-center","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngStyle"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],["type","checkbox","class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer","title","Select position for bulk exit",3,"checked","change",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"truncate","max-w-xs",3,"title"],[3,"title","instrumentToken"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[3,"handleAction","row","actions"],["type","checkbox","title","Select position for bulk exit",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked"],["colspan","11",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,Tye,3,0,"div",1)(2,Fye,38,11,"div"),h()),r&2&&(g(),Wt(!o.groupedPositions||o.groupedPositions.length===0?1:2))},dependencies:[We,Oe,ze,ye,Bf,Fa,jr,Oo,mn,pn,ln,qn,Ci],encapsulation:2});let n=t;return n})();var lZ=(n,t,e)=>({"text-green-600":n,"text-red-600":t,"text-gray-700":e});function Bye(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Maximum Profit"),h(),m(3,"span",4),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(4),q(" ",st(5,1,e.maxProfit,"INR","symbol","1.2-2")," ")}}function Vye(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Day's P&L"),h(),m(3,"span",5),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(3),x("ngClass",wn(7,lZ,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),g(),q(" ",st(5,2,e.daysPnL,"INR","symbol","1.2-2")," ")}}function Uye(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Total P&L"),h(),m(3,"span",5),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(3),x("ngClass",wn(7,lZ,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),g(),q(" ",st(5,2,e.totalPnL,"INR","symbol","1.2-2")," ")}}function Hye(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Profit Left"),h(),m(3,"span",6),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(4),q(" ",st(5,1,e.profitLeft,"INR","symbol","1.2-2")," ")}}var cZ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-position-summary"]],inputs:{maxProfit:"maxProfit",profitLeft:"profitLeft",daysPnL:"daysPnL",totalPnL:"totalPnL"},decls:5,vars:4,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"],[1,"text-base","font-medium","mt-1",3,"ngClass"],[1,"text-base","font-medium","text-gray-600","mt-1"]],template:function(r,o){r&1&&(m(0,"div",0),A(1,Bye,6,6,"div",1)(2,Vye,6,11,"div",1)(3,Uye,6,11,"div",1)(4,Hye,6,6,"div",1),h()),r&2&&(g(),x("ngIf",o.maxProfit!==void 0),g(),x("ngIf",o.daysPnL!==void 0),g(),x("ngIf",o.totalPnL!==void 0),g(),x("ngIf",o.profitLeft!==void 0))},dependencies:[We,Oe,ye,Ci],encapsulation:2});let n=t;return n})();var jye=["chartContainer"],uZ=(()=>{let t=class t{constructor(){this.title="",this.xAxisLabels=[],this.series=[],this.legendLabels=[],this.chartHeight="280",this.showDataZoom=!0,this.initOpts={renderer:"canvas",width:"auto",height:"auto"},this.chartOptions={},this.resizeListener=()=>this.updateChartSize(),this.isMobile=!1}ngOnInit(){this.checkMobile(),this.buildChartOptions()}ngOnChanges(){this.buildChartOptions()}ngAfterViewInit(){this.updateChartSize(),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}checkMobile(){this.isMobile=window.innerWidth<768}updateChartSize(){if(this.checkMobile(),this.chartContainer){let i=this.chartContainer.nativeElement.parentElement.offsetWidth,r=this.isMobile?Math.min(300,window.innerHeight*.4):parseInt(this.chartHeight);this.initOpts={renderer:"canvas",width:i+"px",height:r+"px"},this.buildChartOptions()}}buildChartOptions(){this.chartOptions={title:{text:this.title,textStyle:{fontSize:this.isMobile?12:14},left:this.isMobile?"center":"left"},tooltip:{trigger:"axis",confine:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#ccc",borderWidth:1,textStyle:{fontSize:this.isMobile?11:12},formatter:i=>{let r=i[0].axisValue,o=i.map(a=>{let s=a.value,l=this.formatValue(a.seriesName,s);return`${a.marker} ${a.seriesName}: ${l}`}).join("<br/>");return`<strong>${r}</strong><br/>${o}`}},legend:{data:this.legendLabels,orient:"horizontal",top:this.isMobile?25:5,left:"center",textStyle:{fontSize:this.isMobile?10:12},itemWidth:this.isMobile?15:25,itemHeight:this.isMobile?8:14},grid:{left:this.isMobile?"5%":"3%",right:this.isMobile?"5%":"4%",bottom:this.isMobile?"12%":"10%",top:this.isMobile?"25%":"20%",containLabel:!0},toolbox:{show:!this.isMobile,top:0,right:50,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:this.showDataZoom?[{type:"slider",start:0,end:100,height:this.isMobile?20:30,textStyle:{fontSize:this.isMobile?10:12}},{type:"inside",start:0,end:100}]:[],xAxis:{type:"category",boundaryGap:!0,data:this.xAxisLabels,axisLabel:{fontSize:this.isMobile?9:11,rotate:this.isMobile?45:0,interval:"auto",hideOverlap:!0,showMaxLabel:!0,showMinLabel:!0}},yAxis:{type:"value",axisLabel:{fontSize:this.isMobile?9:11,formatter:i=>this.isMobile&&Math.abs(i)>=1e3?(i/1e3).toFixed(0)+"k":i.toLocaleString()}},series:this.series.map(i=>X({type:"bar"},i))}}formatValue(i,r){if(r==null||isNaN(r))return"0.00";let o={minimumFractionDigits:this.isMobile?0:2,maximumFractionDigits:2};return i.includes("%")?`${r.toFixed(this.isMobile?1:2)}%`:i.toLowerCase().includes("pnl")?`${r>=0?"+":""}\u20B9${r.toLocaleString(void 0,o)}`:`\u20B9${r.toLocaleString(void 0,o)}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-bar-chart"]],viewQuery:function(r,o){if(r&1&&On(jye,5),r&2){let a;an(a=sn())&&(o.chartContainer=a.first)}},inputs:{title:"title",xAxisLabels:"xAxisLabels",series:"series",legendLabels:"legendLabels",chartHeight:"chartHeight",showDataZoom:"showDataZoom"},features:[rn],decls:5,vars:2,consts:[["chartContainer",""],[1,"w-full","min-h-[12rem]","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"relative","w-full","min-h-[200px]","md:min-h-[200px]","overflow-hidden","touch-pan-x","touch-pan-y"],[1,"w-full","h-full",3,"options","initOpts"]],template:function(r,o){r&1&&(m(0,"div",1)(1,"div",2)(2,"div",3,0),F(4,"echarts",4),h()()()),r&2&&(g(4),x("options",o.chartOptions)("initOpts",o.initOpts))},dependencies:[We,vv,gv],styles:["[_nghost-%COMP%]{display:block;width:100%}.echarts[_ngcontent-%COMP%]{width:100%;height:100%}"]});let n=t;return n})();var _v=(()=>{let t=class t{constructor(i){this.api=i}getPositions(){return this.api.get("/v1/positions")}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Gye(n,t){if(n&1){let e=ee();m(0,"div",13)(1,"app-positions-table",14),k("handleClickAction",function(r){N(e);let o=M(2);return P(o.handleAction(r))})("selectedPositionsChange",function(r){N(e);let o=M(2);return P(o.onSelectedPositionsChange(r))}),h()()}if(n&2){let e=M(2);g(),x("groupedPositions",e.groupedPositionsWithUserInfo)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function Wye(n,t){n&1&&(m(0,"div",13)(1,"app-note",15),y(2," You don't have any active positions at the moment. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function qye(n,t){if(n&1){let e=ee();m(0,"div"),F(1,"app-position-summary",3),m(2,"div",4)(3,"div",5)(4,"app-tool-bar",6),k("filtersChanged",function(r){N(e);let o=M();return P(o.applyFilters(r))})("handleRefresh",function(r){N(e);let o=M();return P(o.handleRefresh(r))})("toggleChart",function(){N(e);let r=M();return P(r.toggleChart())})("charges",function(){N(e);let r=M();return P(r.viewCharges())})("exit",function(){N(e);let r=M();return P(r.exitSelectedPositions())}),h()(),F(5,"div",7),m(6,"div",5)(7,"app-user-filter",8),k("selectAllUsers",function(){N(e);let r=M();return P(r.onAllUserSelection())})("selectUsers",function(r){N(e);let o=M();return P(o.onUserSelection(r))})("totalUsers",function(r){N(e);let o=M();return P(o.captureUsers(r))}),h()(),m(8,"div",5)(9,"app-search-input",9),k("inputChange",function(r){N(e);let o=M();return P(o.onSearch(r))}),h()()(),m(10,"div",10),F(11,"app-bar-chart",11),h(),m(12,"div",10),F(13,"app-charges-summary"),h(),A(14,Gye,2,3,"div",12)(15,Wye,3,3,"ng-template",null,0,Wn),h()}if(n&2){let e=An(16),i=M();g(),x("maxProfit",i.maxProfit)("totalPnL",i.totalPnL)("daysPnL",i.totalDayPnL)("profitLeft",i.profitLeft),g(3),x("isLoadingData",i.isLoadingData)("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("showChartButton",!0)("showChargesButton",!0)("showExitButton",i.selectedPositions.length>0)("exitButtonLabel","Exit Selected ("+i.selectedPositions.length+")"),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search positions by User ID or Instrument")("searchTerm",i.searchQuery),g(),x("@expandCollapse",i.showChart?"expanded":"collapsed"),g(),x("title",i.barChartTitle)("xAxisLabels",i.barChartXAxisLabels)("series",i.barChartSeries)("legendLabels",i.barChartLegendLabels)("chartHeight","280")("showDataZoom",!0),g(),x("@expandCollapse",i.showCharges?"expanded":"collapsed"),g(2),x("ngIf",i.groupedPositions.length>0)("ngIfElse",e)}}var fZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f,p,v){this.positionsService=i,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.dialog=l,this.fundsService=c,this.ordersService=u,this.utilsService=d,this.overlay=f,this.alertService=p,this.document=v,this.users=[],this.instrumentTokens=[],this.funds=[],this.charges=[],this.filterCharges=[],this.positions=[],this.filteredPositions=[],this.groupedPositions=[],this.selectedPositions=[],this.errorMessage="",this.maxProfit=0,this.profitLeft=0,this.totalPnL=0,this.totalDayPnL=0,this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=ci,this.filterSelection=[],this.historicalTimelineValues=[],this.filterOptions=[{key:"position.product",values:["NRML","CNC","MIS"]},{key:"position.exchange",values:["NFO","BFO","NSE","BSE"]},{key:"custom.type",values:["BUY","SELL","EXITED"]}],this.barChartXAxisLabels=[],this.barChartSeries=[],this.barChartLegendLabels=["Daily EOD PnL"],this.barChartTitle="Daily EOD PnL",this.isLoadingData=!1,this.actions=[{action:"copy",color:"blue",label:"Copy Position"},{action:"exit",color:"red",label:"Exit Position"},{action:"info",color:"gray",label:"Position Details"}],this.showChart=!1,this.showCharges=!1,this.legendLabels=[],this.series=[],this.positionsForExit=[]}ngOnInit(){let i=this.userViewStateService.getState();this.selectedUserIds=i.positions.selectedUsersIds,this.searchQuery=i.positions.searchQuery,i.positions.filterSelection?.length>0&&(this.filterSelection=i.positions.filterSelection),this.getCachedData(),this.fetchPositions(),this.fetchFunds(),this.fetchCharges(),this.fetchHistoricalTimelineValues()}calculateGroupSummary(i){i=i.filter(l=>l.position.product==="NRML");let r=i.reduce((l,c)=>l+(c.dayPnl||0),0),o=i.reduce((l,c)=>l+(c.position.pnl||0),0),a=i.reduce((l,c)=>l+((c.position.sellValue||0)-(c.position.buyValue||0)),0),s=a-o;return{daysPnL:r,totalPnL:o,maxProfit:a,profitLeft:s}}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}getUtilizedFunds(i){return this.funds.find(r=>r.userId===i)?.margin?.utilised?.debits||0}getAvailableFunds(i){return this.funds.find(r=>r.userId===i)?.margin?.net||0}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.positions&&(this.positions=i.positions,this.renderPositions()),i.funds&&(this.funds=i.funds))}setCachedData(){this.userDataStateService.setState({positions:this.positions,funds:this.funds})}renderPositions(){this.updateFilteredAndGroupedPositions()}fetchPositions(i){this.isLoadingData=!0,this.positionsService.getPositions().subscribe({next:r=>{this.positions=r.data,this.renderPositions(),this.instrumentTokens=this.positions.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData(),this.positionTableComponent&&this.positionTableComponent.clearSelection()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching positions. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}fetchFunds(i){this.fundsService.getFunds().subscribe({next:r=>{this.funds=r.data,this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}fetchCharges(i){this.ordersService.fetchCharges().subscribe({next:r=>{this.charges=r.data,this.filterChargesBySelectedUsers()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching charges. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}fetchHistoricalTimelineValues(){this.utilsService.fetchHistoricalTimelineValues("positions").subscribe({next:i=>{this.historicalTimelineValues=i.data||[],this.prepareBarChartData()},error:i=>{this.toastrService.error("Failed to fetch historical positions timeline data","Error"),this.historicalTimelineValues=[],this.prepareBarChartData()}})}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(et(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updatePositionsOnUpdate(i)})):console.log("No instrument tokens available for web socket subscription.")}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedPositions(),this.filterChargesBySelectedUsers(),this.saveUserViewState(),this.prepareBarChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedPositions(),this.filterChargesBySelectedUsers(),this.saveUserViewState(),this.prepareBarChartData()}captureUsers(i){this.users=i}onSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedPositions(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({positions:{selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}filterChargesBySelectedUsers(){this.selectedUserIds.length!==0?this.filterCharges=this.charges.filter(i=>this.selectedUserIds.includes(i.userId)):this.filterCharges=this.charges,this.chargesSummaryComponent&&this.chargesSummaryComponent.showChargesDetails(this.filterCharges)}updateFilteredAndGroupedPositions(){let i=this.positions;this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.displayName.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i),i=this.filterCustomType(i)),this.filteredPositions=i;let r={};this.filteredPositions.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o),o.position.change=0,o.position.value=o.position.value<0?-1*o.position.value:o.position.value}),this.groupedPositions=Object.entries(r).map(([o,a])=>X({userId:o,positions:a},this.calculateGroupSummary(a))),this.calculateSummary()}filterCustomType(i){let r=this.filterSelection.find(o=>o.key==="custom.type"&&o.selected.length>0);return r&&(i=i.filter(o=>{let a=o.position.netQuantity;return r.selected.some(l=>l==="BUY"?a>0:l==="SELL"?a<0:l==="EXITED"?a===0:!1)})),i}calculateSummary(){let i=0,r=0,o=0,a=0;this.filteredPositions.filter(l=>l.position.product==="NRML").forEach(l=>{o+=l.position.sellValue-l.position.buyValue,i+=l.position.pnl||0,r+=l.dayPnl||0,a=o-i}),this.totalPnL=i,this.totalDayPnL=r,this.maxProfit=o,this.profitLeft=a}prepareBarChartData(){let i=this.utilsService.populatePositionsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.barChartXAxisLabels=i.dateLabels,this.barChartSeries=i.series,this.barChartLegendLabels=i.legendLabels}updatePositionsOnUpdate(i){i.forEach(r=>{this.positions.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a.position.change=r.change;let s=r.change,l=r.closePrice;if(a.position.daySellQuantity*-1===a.position.netQuantity?(l=a.position.sellPrice,s=(r.lastTradedPrice-l)/l*100):a.position.dayBuyQuantity===a.position.netQuantity&&(l=a.position.buyPrice,s=(r.lastTradedPrice-l)/l*100),a.dayPnl=s*(a.position.netQuantity*l)/100,a&&a.position.lastPrice!==r.lastTradedPrice){if(a.position.lastPrice=r.lastTradedPrice,a.position.netQuantity<0){let c=(a.position.sellPrice-a.position.buyPrice)*a.position.buyQuantity,u=(a.position.sellPrice-r.lastTradedPrice)*a.position.netQuantity*-1;a.position.pnl=c+u}else if(a.position.netQuantity>0){let c=(a.position.sellPrice-a.position.buyPrice)*a.position.sellQuantity,u=(r.lastTradedPrice-a.position.buyPrice)*a.position.netQuantity;a.position.pnl=c+u}}})}),this.updateGroupSummaries(),this.calculateSummary()}updateGroupSummaries(){this.groupedPositions.forEach(i=>{let r=this.calculateGroupSummary(i.positions);Object.assign(i,r)})}get groupedPositionsWithUserInfo(){return this.groupedPositions.map(i=>Ie(X({},i),{userName:this.getUserName(i.userId),fullName:this.getUserFullName(i.userId),utilizedFunds:this.getUtilizedFunds(i.userId),availableFunds:this.getAvailableFunds(i.userId),avatarUrl:this.getAvatarUrl(i.userId)}))}handleAction(i){i.action==="exit"?this.openAddOrExitOrderDialog(i.row,i.action):i.action==="copy"?this.openAddOrExitOrderDialog(i.row,i.action):i.action==="info"&&this.utilsService.showInfo(i.row,`Position Details - ${i.row.displayName}`)}openAddOrExitOrderDialog(i,r){let o={exchange:i.position.exchange,tradingSymbol:i.position.tradingSymbol,instrumentToken:i.instrumentToken,lastPrice:i.position.lastPrice,product:i.position.product,quantity:i.position.netQuantity<0?-1*i.position.netQuantity:i.position.netQuantity,displayName:i.displayName,segment:i.position.segment||i.position.exchange,tradingAccountId:i.userId},a={isBuyMode:!1,isCopy:!1,isExitPosition:!1,product:i.position.product};r==="copy"?(a.isBuyMode=i.position.netQuantity>0,a.isCopy=!0):r==="exit"&&(a.isBuyMode=i.position.netQuantity<0,a.isExitPosition=!0),this.dialog.open(d0,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:X({},o)}}).afterClosed().subscribe(l=>{})}applyFilters(i){this.filterSelection=i,this.updateFilteredAndGroupedPositions(),this.saveUserViewState()}handleRefresh(i){this.fetchPositions(i),this.fetchFunds(i),this.fetchCharges(i),this.fetchHistoricalTimelineValues()}toggleChart(){this.showChart=!this.showChart}toggleCharges(){this.showCharges=!this.showCharges}viewCharges(){this.toggleCharges()}storeSelectedPositions(i){this.positionsForExit=i}onSelectedPositionsChange(i){this.selectedPositions=i}exitSelectedPositions(){if(this.selectedPositions.length===0){this.toastrService.warning("No positions selected","Warning");return}let i=this.selectedPositions.length;this.alertService.confirm(`Exit ${i} Position${i>1?"s":""}?`,`Are you sure you want to exit ${i} selected position${i>1?"s":""} at market price? This action cannot be undone.`,()=>{this.processBulkExit()})}processBulkExit(){let i=this.selectedPositions.length,r=0,o=0,a=0,s=[];this.selectedPositions.forEach(l=>{this.exitPosition(l).pipe(Vt(c=>we({error:!0,id:l.userId,displayName:l.displayName,message:c?.error?.message||"Unknown error"}))).subscribe({next:c=>{r++,s.push({positionDetails:l,result:c,error:"error"in c&&c.error}),"error"in c&&c.error?(a++,console.error(`\u274C Position exit failed for ${l.displayName}:`,c),this.toastrService.error(`Position exit failed for ${l.displayName}: ${c.message}`,"Position Exit Error")):(o++,console.log(`\u2705 Position exit successful for ${l.displayName}. Order ID: ${c.data.orderId}`),this.toastrService.success(`Position ${l.displayName} exited successfully. Order ID: ${c.data.orderId}`,"Position Exit Success")),r===i&&this.showBulkExitSummary(s,o,a)},error:c=>{r++,a++,console.error(`Fatal error for position ${l.displayName}:`,c),s.push({positionDetails:l,result:{error:!0,id:l.userId,displayName:l.displayName,message:"Stream error - Something went wrong in the processing pipeline"},error:!0}),this.toastrService.error(`Fatal error while exiting ${l.displayName}`,"Fatal Error"),r===i&&this.showBulkExitSummary(s,o,a)}})})}showBulkExitSummary(i,r,o){this.fetchPositions(),this.selectedPositions=[],this.positionTableComponent&&this.positionTableComponent.clearSelection();let a=r+o,s=`Bulk Exit Summary:
`;if(s+=`\u2705 Succeeded: ${r}
`,s+=`\u274C Failed: ${o}
`,s+=`Total: ${a}`,r>0&&o>0){let l=i.filter(c=>c.error).map(c=>`\u2022 ${c.positionDetails.displayName}: ${c.result.message}`).join(`
`);this.alertService.info("Bulk Exit Completed",`${s}

Failed Positions:
${l}`,()=>{console.log("Bulk exit summary acknowledged")})}else if(o>0){let l=i.map(c=>`\u2022 ${c.positionDetails.displayName}: ${c.result.message}`).join(`
`);this.alertService.info("Bulk Exit Failed",`${s}

Failed Positions:
${l}`,()=>{console.log("Bulk exit summary acknowledged")})}else{let l=i.map(c=>`\u2022 ${c.positionDetails.displayName} - Order ID: ${c.result.data.orderId}`).join(`
`);this.alertService.info("Bulk Exit Successful",`${s}

Exited Positions:
${l}`,()=>{console.log("Bulk exit summary acknowledged")})}}exitPosition(i){let r=i.position.netQuantity>0?"SELL":"BUY",a={quantity:Math.abs(i.position.netQuantity),orderType:"MARKET",tradingsymbol:i.position.tradingSymbol,product:i.position.product,exchange:i.position.exchange,transactionType:r,validity:"DAY",price:0,triggerPrice:0,tag:"famvest-bulk-exit"},s={tradingAccountId:i.userId,orderParams:a};return this.ordersService.placeOrder(s,"regular")}};t.\u0275fac=function(r){return new(r||t)(V(_v),V(sr),V(Bn),V(Tn),V(tt),V(Zn),V(Ss),V(Cs),V(En),V(Vr),V(Fo),V(Me))},t.\u0275cmp=ie({type:t,selectors:[["app-positions"]],viewQuery:function(r,o){if(r&1&&(On(xu,5),On(wD,5)),r&2){let a;an(a=sn())&&(o.chargesSummaryComponent=a.first),an(a=sn())&&(o.positionTableComponent=a.first)}},decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[3,"maxProfit","totalPnL","daysPnL","profitLeft"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","toggleChart","charges","exit","isLoadingData","filterOptions","filterSelection","showChartButton","showChargesButton","showExitButton","exitButtonLabel"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","series","legendLabels","chartHeight","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","selectedPositionsChange","groupedPositions","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(m(0,"div",1),A(1,qye,17,24,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[za,We,ye,nr,wD,cZ,Va,lr,uZ,xu],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 150px);min-height:calc(100vh - var(--header-height, 80px) - 150px)}"],data:{animation:[Pi]}});let n=t;return n})();function $ye(n,t){if(n&1&&(m(0,"div")(1,"div",4)(2,"div",5)(3,"h2",6),F(4,"fa-icon",7),y(5,"Available Margin"),h()(),m(6,"p",8),y(7),Y(8,"currency"),h(),m(9,"span",9),y(10,"(Cash + Collateral)"),h()(),m(11,"div",10)(12,"div",11)(13,"p",12),F(14,"fa-icon",13),y(15,"Available Cash"),h(),m(16,"p",14),y(17),Y(18,"currency"),h()(),m(19,"div",11)(20,"p",12),F(21,"fa-icon",15),y(22,"Used Margin"),h(),m(23,"p",14),y(24),Y(25,"currency"),h()()(),m(26,"div",16)(27,"h3",17),y(28,"Breakdown"),h(),m(29,"div",18)(30,"div",19)(31,"span"),y(32,"Opening Balance"),h(),m(33,"span"),y(34),Y(35,"currency"),h()(),m(36,"div",19)(37,"span"),y(38,"Payin"),h(),m(39,"span"),y(40),Y(41,"currency"),h()(),m(42,"div",19)(43,"span"),y(44,"SPAN"),h(),m(45,"span"),y(46),Y(47,"currency"),h()(),m(48,"div",19)(49,"span"),y(50,"Delivery Margin"),h(),m(51,"span"),y(52),Y(53,"currency"),h()(),m(54,"div",19)(55,"span"),y(56,"Exposure"),h(),m(57,"span"),y(58),Y(59,"currency"),h()(),m(60,"div",19)(61,"span"),y(62,"Option Premium"),h(),m(63,"span"),y(64),Y(65,"currency"),h()(),m(66,"div",20)(67,"span",21),y(68,"Total Collateral Margin"),h(),m(69,"span",14),y(70),Y(71,"currency"),h()()()()()),n&2){let e=M();g(4),x("icon",e.faWallet),g(3),j(st(8,13,e.consolidatedFunds.net,"INR","symbol","1.2-2")),g(7),x("icon",e.faDollarSign),g(3),j(st(18,18,e.consolidatedFunds.availableCash,"INR","symbol","1.2-2")),g(4),x("icon",e.faMoneyBillTrendUp),g(3),j(st(25,23,e.consolidatedFunds.usedMargin,"INR","symbol","1.2-2")),g(10),j(st(35,28,e.consolidatedFunds.openingBalance,"INR","symbol","1.2-2")),g(6),j(st(41,33,e.consolidatedFunds.payin,"INR","symbol","1.2-2")),g(6),j(st(47,38,e.consolidatedFunds.span,"INR","symbol","1.2-2")),g(6),j(st(53,43,e.consolidatedFunds.holdingSales,"INR","symbol","1.2-2")),g(6),j(st(59,48,e.consolidatedFunds.exposure,"INR","symbol","1.2-2")),g(6),j(st(65,53,e.consolidatedFunds.optionPremium,"INR","symbol","1.2-2")),g(6),j(st(71,58,e.consolidatedFunds.totalCollateral,"INR","symbol","1.2-2"))}}var pZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.fundsService=i,this.userViewStateService=r,this.userDataStateService=o,this.toastrService=a,this.document=s,this.funds=[],this.consolidatedFunds={},this.errorMessage="",this.users=[],this.selectedUserIds=[],this.faDollarSign=dg,this.faMoneyBillTrendUp=pg,this.faWallet=X6}ngOnInit(){let i=this.userViewStateService.getState();this.selectedUserIds=i.funds.selectedUsersIds,this.getCachedData(),this.fetchFunds()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.funds&&(this.funds=i.funds,this.getConsolidateFunds())}setCachedData(){this.userDataStateService.setState({funds:this.funds})}fetchFunds(){this.fundsService.getFunds().subscribe({next:i=>{this.funds=i.data,this.getConsolidateFunds(),this.setCachedData()},error:i=>{i.error.message?this.toastrService.error(i.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${i.error.status}, Error Message: ${i.error.message}`}})}resetConsolidatedFunds(){this.consolidatedFunds={net:0,availableCash:0,usedMargin:0,span:0,exposure:0,optionPremium:0,payin:0,holdingSales:0,openingBalance:0,totalCollateral:0}}getConsolidateFunds(){this.resetConsolidatedFunds();let i=this.funds;this.selectedUserIds.length>0&&(i=i.filter(r=>this.selectedUserIds.includes(r.userId))),i.forEach(r=>{this.consolidatedFunds.net+=Number(r.margin.net),this.consolidatedFunds.availableCash+=Number(r.margin.available.liveBalance),this.consolidatedFunds.usedMargin+=Number(r.margin.utilised.debits),this.consolidatedFunds.span+=Number(r.margin.utilised.span),this.consolidatedFunds.exposure+=Number(r.margin.utilised.exposure),this.consolidatedFunds.optionPremium+=Number(r.margin.utilised.optionPremium),this.consolidatedFunds.payin+=Number(r.margin.available.intradayPayin),this.consolidatedFunds.holdingSales+=Number(r.margin.utilised.holdingSales),this.consolidatedFunds.totalCollateral+=Number(r.margin.available.collateral)})}captureUsers(i){this.users=i}onUserSelection(i){this.selectedUserIds=i,this.getConsolidateFunds(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.getConsolidateFunds(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({funds:{selectedUsersIds:this.selectedUserIds}})}};t.\u0275fac=function(r){return new(r||t)(V(Ss),V(Bn),V(Tn),V(tt),V(Me))},t.\u0275cmp=ie({type:t,selectors:[["app-funds"]],decls:4,vars:2,consts:[[1,"page-container"],[1,"flex","justify-end","items-center","mb-4"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[4,"ngIf"],[1,"bg-white","border","rounded-md","p-6","mb-6","flex","flex-col","items-center"],[1,"flex","flex-row","items-center"],[1,"text-xl","font-semibold","text-gray-600","m-0"],[1,"text-blue-500","mr-2",3,"icon"],[1,"text-2xl","font-medium","text-gray-600"],[1,"text-base","text-gray-400"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"bg-white","border","rounded-md","p-4","flex","flex-col","items-center"],[1,"text-gray-600","text-base"],[1,"text-green-600","mr-2","text-base",3,"icon"],[1,"text-base","font-medium","text-gray-600"],[1,"text-red-600","mr-2","text-base",3,"icon"],[1,"bg-white","border","rounded-md","p-6"],[1,"text-base","text-gray-600","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-gray-700"],[1,"flex","justify-between"],[1,"flex","justify-between","col-span-2","border-t","pt-4","mt-2"],[1,"text-base","text-gray-600"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"app-user-filter",2),k("selectAllUsers",function(){return o.onAllUserSelection()})("selectUsers",function(s){return o.onUserSelection(s)})("totalUsers",function(s){return o.captureUsers(s)}),h()(),A(3,$ye,72,63,"div",3),h()),r&2&&(g(2),x("selectedUserIds",o.selectedUserIds),g(),x("ngIf",!o.errorMessage))},dependencies:[We,ye,ot,nr,Ci],encapsulation:2});let n=t;return n})();var go=(()=>{let t=class t{constructor(i,r){this.authUserService=i,this.router=r}canActivate(i,r){if(this.authUserService.isAuthenticated())return r.url==="/login"?(this.router.navigate(["/home"]),!1):!0;if(r.url!=="/login")this.router.navigate(["/login"]);else return!0;return!1}};t.\u0275fac=function(r){return new(r||t)(ae(ar),ae(un))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Yye(n,t){if(n&1&&(m(0,"div",66),y(1),h()),n&2){let e=M();g(),q(" ",e.infoMessage," ")}}function Zye(n,t){n&1&&(m(0,"p",69),y(1,"Email is required"),h())}function Xye(n,t){n&1&&(m(0,"p",69),y(1,"Please enter a valid email address"),h())}function Qye(n,t){if(n&1&&(m(0,"div",67),A(1,Zye,2,0,"p",68)(2,Xye,2,0,"p",68),h()),n&2){let e,i,r=M();g(),x("ngIf",(e=r.loginForm.get("email"))==null||e.errors==null?null:e.errors.required),g(),x("ngIf",(i=r.loginForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function Kye(n,t){if(n&1&&F(0,"fa-icon",72),n&2){let e=M(2);x("icon",e.faSpinner)}}function Jye(n,t){if(n&1){let e=ee();m(0,"button",70),k("click",function(){N(e);let r=M();return P(r.sendOtp())}),A(1,Kye,1,1,"fa-icon",71),y(2),h()}if(n&2){let e=M();x("disabled",e.isSendingOtp),g(),x("ngIf",e.isSendingOtp),g(),q(" ",e.isSendingOtp?"Sending...":"Send OTP"," ")}}function e_e(n,t){n&1&&(m(0,"div",73)(1,"div",11),Ut(),m(2,"svg",74),F(3,"path",75),h(),Ln(),m(4,"span",76),y(5,"OTP sent successfully!"),h()()())}function t_e(n,t){n&1&&(m(0,"p",69),y(1,"Password is required"),h())}function n_e(n,t){if(n&1&&(m(0,"div",67),A(1,t_e,2,0,"p",68),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.loginForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function i_e(n,t){if(n&1){let e=ee();m(0,"div")(1,"label",77),y(2," Password "),m(3,"span",38),y(4,"*"),h()(),m(5,"div",39),F(6,"input",78),m(7,"button",79),k("click",function(){N(e);let r=M();return P(r.showPassword=!r.showPassword)}),F(8,"fa-icon",80),h()(),A(9,n_e,2,1,"div",44),h()}if(n&2){let e,i=M();g(6),x("type",i.showPassword?"text":"password"),g(2),x("icon",i.showPassword?i.faEyeSlash:i.faEye),g(),x("ngIf",((e=i.loginForm.get("password"))==null?null:e.touched)&&((e=i.loginForm.get("password"))==null?null:e.invalid))}}function r_e(n,t){n&1&&(m(0,"p",69),y(1,"OTP is required"),h())}function o_e(n,t){if(n&1&&(m(0,"div",67),A(1,r_e,2,0,"p",68),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.loginForm.get("otp"))==null||e.errors==null?null:e.errors.required)}}function a_e(n,t){if(n&1&&(m(0,"div")(1,"label",81),y(2," Enter 6-digit OTP "),m(3,"span",38),y(4,"*"),h()(),F(5,"input",82),A(6,o_e,2,1,"div",44),h()),n&2){let e,i=M();g(6),x("ngIf",((e=i.loginForm.get("otp"))==null?null:e.touched)&&((e=i.loginForm.get("otp"))==null?null:e.invalid))}}var mZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.authUserService=i,this.toastrService=r,this.router=o,this.fb=a,this.route=s,this.loginUsingOtp=!0,this.otpSent=!1,this.isSendingOtp=!1,this.infoMessage=null,this.faSpinner=ko,this.showPassword=!1,this.faEye=fs,this.faEyeSlash=Yl,this.loginForm=this.fb.group({email:["",[Ue.required,Ue.email]],password:[""],otp:[""]}),this.route.queryParams.subscribe(l=>{l.reason==="session-expired"?this.infoMessage="Your session has expired. Please log in again.":l.reason==="logged-out"?this.infoMessage="You have been logged out. Please log in again.":l.reason==="username-changed"?this.infoMessage="Your username has been changed. Please log in with your new username.":l.reason==="password-changed"?this.infoMessage="Your password has been changed successfully. Please log in with your new password.":this.infoMessage=null})}login(){this.authUserService.resetLoggingOutFlag();let i=this.loginForm.get("email")?.value,r=this.loginForm.get("password")?.value,o=this.loginForm.get("otp")?.value;if(!i||this.loginForm.get("email")?.invalid){this.loginForm.get("email")?.markAsTouched();return}if(!r&&!this.loginUsingOtp){this.loginForm.get("password")?.markAsTouched();return}if(!o&&this.loginUsingOtp){this.loginForm.get("otp")?.markAsTouched();return}this.authUserService.login({email:i,password:r,otp:o}).subscribe({next:a=>{this.authUserService.setAuthenticated(!0),this.router.navigate(["/home"])},error:a=>{a.error.message?this.toastrService.error(a.error.message,"Error"):this.toastrService.error("An unexpected error occurred while login. Verify that the backend service is operational.","Error")}})}sendOtp(){this.isSendingOtp=!0;let i=this.loginForm.get("email")?.value;if(!i||this.loginForm.get("email")?.invalid){this.loginForm.get("email")?.markAsTouched(),this.isSendingOtp=!1;return}this.authUserService.sendLoginOtp({email:i}).subscribe({next:r=>{this.isSendingOtp=!1,this.otpSent=!0,this.toastrService.success("An OTP has been sent to your email address. Please check your inbox and spam folder.","Success")},error:r=>{this.isSendingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while sending OTP. Verify that the backend service is operational.","Error")}})}toLowerCase(i){let r=i.target;r.value=r.value.toLowerCase(),this.loginForm.get("email")?.setValue(r.value,{emitEvent:!1})}};t.\u0275fac=function(r){return new(r||t)(V(ar),V(tt),V(un),V(Rr),V(Nr))},t.\u0275cmp=ie({type:t,selectors:[["app-login"]],decls:137,vars:11,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","via-white","to-indigo-50"],[1,"flex","flex-col","lg:flex-row","min-h-screen"],[1,"lg:w-1/2","bg-gradient-to-br","from-blue-600","via-blue-700","to-indigo-800","text-white","flex","flex-col","justify-center","p-8","lg:p-16"],[1,"max-w-md","mx-auto","lg:mx-0"],[1,"flex","items-center","mb-6"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","height","48","width","48",1,"w-12","h-10","rounded-lg","mr-3","shadow-lg","mb-4"],[1,"text-3xl","font-bold"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6","leading-tight"],[1,"text-blue-200"],[1,"text-xl","text-blue-100","mb-8","leading-relaxed"],[1,"space-y-4"],[1,"flex","items-center"],[1,"w-8","h-8","bg-blue-500","rounded-full","flex","items-center","justify-center","mr-4"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-blue-100"],[1,"grid","grid-cols-2","gap-6","mt-12","pt-8","border-t","border-blue-500"],[1,"text-center"],[1,"text-3xl","font-bold","text-blue-200"],[1,"text-sm","text-blue-300"],[1,"mt-5","border","p-2","rounded-md","text-sm","text-blue-100"],[1,"text-lg","font-bold","text-blue-200","mb-4","flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","mr-1","text-green-500"],["fill-rule","evenodd","d","M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"space-y-3"],[1,"font-medium","text-blue-100"],[1,"font-semibold"],[1,"lg:w-1/2","flex","items-center","justify-center","p-8","lg:p-16"],[1,"w-full","max-w-md"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-gray-100","p-1","rounded-lg","mb-6"],[1,"grid","grid-cols-2","gap-1"],["type","button",1,"py-2","px-4","rounded-md","text-sm","font-medium","transition-all",3,"click"],["class","mb-4 p-3 bg-yellow-50 border border-yellow-300 text-yellow-800 rounded-lg text-center",4,"ngIf"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],[1,"relative"],["formControlName","email","type","text","id","email","required","","placeholder","Enter your email address",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all",3,"input"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["class","mt-2",4,"ngIf"],["type","button","class","mt-3 w-full px-4 py-2 bg-blue-100 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 transition-all flex items-center justify-center gap-2",3,"disabled","click",4,"ngIf"],["class","mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","justify-between","text-sm"],["href","#",1,"text-blue-600","hover:text-blue-500","transition-colors"],[1,"text-gray-500"],["type","submit",1,"w-full","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","py-3","px-4","rounded-lg","font-medium","hover:from-blue-700","hover:to-blue-800","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-8","mb-6"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-4","bg-white","text-gray-500"],["routerLink","/signup",1,"mb-2","w-full","bg-white","border-2","border-blue-600","text-blue-600","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-50","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-5","text-xs","text-gray-500"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"flex","items-center","justify-center","space-x-6","text-xs","text-gray-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-green-500"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-blue-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-purple-500"],["fill-rule","evenodd","d","M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z","clip-rule","evenodd"],[1,"mb-4","p-3","bg-yellow-50","border","border-yellow-300","text-yellow-800","rounded-lg","text-center"],[1,"mt-2"],["class","text-red-500 text-sm",4,"ngIf"],[1,"text-red-500","text-sm"],["type","button",1,"mt-3","w-full","px-4","py-2","bg-blue-100","border","border-blue-300","text-blue-700","rounded-lg","hover:bg-blue-200","disabled:opacity-50","transition-all","flex","items-center","justify-center","gap-2",3,"click","disabled"],["class","fa-spin",3,"icon",4,"ngIf"],[1,"fa-spin",3,"icon"],[1,"mt-2","p-3","bg-green-50","border","border-green-200","rounded-lg"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-green-400","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","text-green-700","font-medium"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","password","id","password","required","","placeholder","Enter your password","autocomplete","current-password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","pr-12",3,"type"],["type","button","tabindex","-1",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[1,"h-5","w-5",3,"icon"],["for","otp",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","otp","type","text","id","otp","required","","placeholder","000000","maxlength","6","autocomplete","one-time-code",1,"w-full","px-4","py-3","tracking-widest","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"]],template:function(r,o){if(r&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),F(5,"img",5),m(6,"h1",6),y(7,"FamVest"),h()(),m(8,"h2",7),y(9," Your Family's"),F(10,"br"),m(11,"span",8),y(12,"Financial Future"),h()(),m(13,"p",9),y(14," Track, analyze, and manage your family's investments in one secure place. Make informed decisions with powerful analytics and reporting tools. "),h(),m(15,"div",10)(16,"div",11)(17,"div",12),Ut(),m(18,"svg",13),F(19,"path",14),h()(),Ln(),m(20,"span",15),y(21,"Centralized Portfolio Tracking"),h()(),m(22,"div",11)(23,"div",12),Ut(),m(24,"svg",13),F(25,"path",14),h()(),Ln(),m(26,"span",15),y(27,"Performance Analytics & Reports"),h()(),m(28,"div",11)(29,"div",12),Ut(),m(30,"svg",13),F(31,"path",14),h()(),Ln(),m(32,"span",15),y(33,"Secure Family Access"),h()()(),m(34,"div",16)(35,"div",17)(36,"div",18),y(37,"30+"),h(),m(38,"div",19),y(39,"Active Users"),h()(),m(40,"div",17)(41,"div",18),y(42,"\u20B93Cr+"),h(),m(43,"div",19),y(44,"Assets Managed"),h()()()(),m(45,"div",20)(46,"h3",21),Ut(),m(47,"svg",22),F(48,"path",23),h(),y(49," How Your Data is Secured "),h(),Ln(),m(50,"div",24)(51,"p")(52,"span",25),y(53,"\u{1F510} End-to-End Encryption:"),h(),y(54," All sensitive information such as passwords, API keys, and TOTP secrets are encrypted using "),m(55,"span",26),y(56,"AES-256"),h(),y(57," before being stored. Communication between your browser and servers uses "),m(58,"span",26),y(59,"TLS 1.3 (HTTPS)"),h(),y(60," to ensure data-in-transit security. "),h(),m(61,"p")(62,"span",25),y(63,"\u{1F9F1} Isolated Data Storage:"),h(),y(64," Each user's financial data is securely isolated at the database layer using unique identifiers. Application-level access control ensures your family\u2019s data is never mixed with others. "),h(),m(65,"p")(66,"span",25),y(67,"\u{1F9E0} Secure Secrets Management:"),h(),y(68," API keys, trading credentials, and authentication tokens are encrypted using a "),m(69,"span",26),y(70,"dedicated key management system (KMS)"),h(),y(71," and never stored in plain text. "),h()()()(),m(72,"div",27)(73,"div",28)(74,"div",29)(75,"h2",30),y(76,"Welcome Back!"),h(),m(77,"p",31),y(78,"Sign in to access your portfolio"),h()(),m(79,"div",32)(80,"div",33)(81,"button",34),k("click",function(){return o.loginUsingOtp=!0}),y(82," OTP Login "),h(),m(83,"button",34),k("click",function(){return o.loginUsingOtp=!1}),y(84," Password Login "),h()()(),A(85,Yye,2,1,"div",35),m(86,"form",36),k("ngSubmit",function(){return o.login()}),m(87,"div")(88,"label",37),y(89," Email Address "),m(90,"span",38),y(91,"*"),h()(),m(92,"div",39)(93,"input",40),k("input",function(s){return o.toLowerCase(s)}),h(),m(94,"div",41),Ut(),m(95,"svg",42),F(96,"path",43),h()()(),A(97,Qye,3,2,"div",44)(98,Jye,3,3,"button",45)(99,e_e,6,0,"div",46),h(),A(100,i_e,10,3,"div",47)(101,a_e,7,1,"div",47),Ln(),m(102,"div",48)(103,"a",49),y(104," Forgot Password? "),h(),m(105,"span",50),y(106,"Need help?"),h()(),m(107,"button",51),y(108," Sign In to FamVest "),h()(),m(109,"div",52)(110,"div",39)(111,"div",53),F(112,"div",54),h(),m(113,"div",55)(114,"span",56),y(115,"New to FamVest?"),h()()()(),m(116,"div",17)(117,"button",57),y(118," Create Your Family Account "),h(),m(119,"p",58),y(120," Start managing your family's investments today."),F(121,"br"),y(122," Free to get started \u2022 No credit card required "),h()(),m(123,"div",59)(124,"div",60)(125,"div",11),Ut(),m(126,"svg",61),F(127,"path",62),h(),y(128," SSL Secured "),h(),Ln(),m(129,"div",11),Ut(),m(130,"svg",63),F(131,"path",23),h(),y(132," Encrypted Storage "),h(),Ln(),m(133,"div",11),Ut(),m(134,"svg",64),F(135,"path",65),h(),y(136," Data Isolation "),h()()()()()()()),r&2){let a,s;g(81),Rn(o.loginUsingOtp?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),g(2),Rn(o.loginUsingOtp?"text-gray-600 hover:text-gray-800":"bg-white text-blue-600 shadow-sm"),g(2),x("ngIf",o.infoMessage),g(),x("formGroup",o.loginForm),g(11),x("ngIf",((a=o.loginForm.get("email"))==null?null:a.touched)&&((a=o.loginForm.get("email"))==null?null:a.invalid)),g(),x("ngIf",o.loginUsingOtp&&((s=o.loginForm.get("email"))==null?null:s.valid)),g(),x("ngIf",o.otpSent&&o.loginUsingOtp),g(),x("ngIf",!o.loginUsingOtp),g(),x("ngIf",o.loginUsingOtp)}},dependencies:[pn,Or,Yt,Zt,Pr,mo,jc,We,ye,kr,ui,_r,br,Lo,ot],encapsulation:2});let n=t;return n})();var Su=(()=>{let t=class t{constructor(i,r){this.api=i,this.http=r}getWatchlist(){return this.api.get("/v1/watchlist")}searchInstruments(i){return this.api.get(`/v1/watchlist/instruments?search=${i}`)}saveWatchListInstrument(i,r){return this.api.post(`/v1/watchlist/${i}/watchlistInstruments`,r)}deleteWatchListInstrument(i,r){return this.api.delete(`/v1/watchlist/${i}/watchlistInstruments/${r}`)}updateWatchlistName(i,r){return this.api.patch(`/v1/watchlist/${i}`,{name:r})}reorderWatchlistInstruments(i,r){return this.api.post(`/v1/watchlist/${i}/reorder`,r)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt),ae(kl))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var bv=(()=>{let t=class t{constructor(){this.addToBasketSubject=new me,this.addToBasket$=this.addToBasketSubject.asObservable()}emitAddToBasket(i){this.addToBasketSubject.next(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var s_e=(n,t,e)=>({"cursor-pointer":n,"cursor-not-allowed text-gray-400":t,"underline decoration-dotted decoration-2":e}),l_e=(n,t)=>({"bg-blue-100 text-blue-700 font-medium":n,"text-gray-600 hover:bg-gray-100":t});function c_e(n,t){if(n&1){let e=ee();m(0,"app-action-button",20),k("handleAction",function(){N(e);let r=M();return P(r.toggleCollapse())}),h()}n&2&&x("noIconBackground",!0)("title","Show Watchlist")("action","enlargeRight")("color","gray")}function u_e(n,t){n&1&&(m(0,"span",23),y(1,"(edit)"),h())}function d_e(n,t){if(n&1){let e=ee();At(0),m(1,"label",21),k("click",function(){N(e);let r=M();return P(r.onWatchlistNameClick())})("mouseenter",function(){N(e);let r=M();return P(r.onWatchlistNameMouseEnter())})("mouseleave",function(){N(e);let r=M();return P(r.onWatchlistNameMouseLeave())}),y(2),h(),A(3,u_e,2,0,"span",22),zt()}if(n&2){let e=M();g(),x("ngClass",wn(4,s_e,!e.isCurrentWatchlistReserved,e.isCurrentWatchlistReserved,e.isNameHovered&&!e.isCurrentWatchlistReserved))("matTooltip",e.isCurrentWatchlistReserved?"This name cannot be edited":"Click to edit"),g(),q(" ",e.getWatchListName()," "),g(),x("ngIf",e.isNameHovered&&!e.isCurrentWatchlistReserved)}}function f_e(n,t){if(n&1){let e=ee();m(0,"input",24),bt("ngModelChange",function(r){N(e);let o=M();return Mt(o.editWatchlistName,r)||(o.editWatchlistName=r),P(r)}),k("blur",function(){N(e);let r=M();return P(r.onWatchlistNameBlur())})("keydown",function(r){N(e);let o=M();return P(o.onWatchlistNameInputKeydown(r))}),h()}if(n&2){let e=M();_t("ngModel",e.editWatchlistName)}}function p_e(n,t){if(n&1){let e=ee();m(0,"app-action-button",25),k("handleAction",function(){N(e);let r=M();return P(r.expand())}),h()}n&2&&x("noIconBackground",!0)("title","Expand Watchlist")("action","expand")("color","gray")}function m_e(n,t){if(n&1){let e=ee();m(0,"app-action-button",25),k("handleAction",function(){N(e);let r=M();return P(r.toggleCollapse())}),h()}n&2&&x("noIconBackground",!0)("title","Hide Watchlist")("action","collapseLeft")("color","gray")}function h_e(n,t){if(n&1){let e=ee();m(0,"div",26),k("click",function(){let r=N(e).index,o=M();return P(o.switchList(r))}),y(1),h()}if(n&2){let e=t.$implicit,i=t.index,r=M();x("matTooltip",e.name)("ngClass",gt(3,l_e,i===r.currentListIndex,i!==r.currentListIndex)),g(),q(" ",i+1," ")}}function g_e(n,t){if(n&1){let e=ee();m(0,"div",29),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.addToWatchlist(r))}),m(1,"div",30)(2,"div",31),y(3),h(),m(4,"div",32),y(5),h()()()}if(n&2){let e=t.$implicit;g(3),j(e.displayName),g(2),j(e.segment)}}function v_e(n,t){if(n&1&&(m(0,"div",27),A(1,g_e,6,2,"div",28),h()),n&2){let e=M();g(),x("ngForOf",e.fetchedInstruments)}}function y_e(n,t){if(n&1){let e=ee();m(0,"button",42),k("click",function(){N(e);let r=M(2).$implicit,o=M();return P(o.handleAction({action:"buy",row:r}))}),y(1,"B"),h(),m(2,"button",43),k("click",function(){N(e);let r=M(2).$implicit,o=M();return P(o.handleAction({action:"sell",row:r}))}),y(3,"S"),h(),m(4,"app-action-button",41),k("handleAction",function(){N(e);let r=M(2).$implicit,o=M();return P(o.addToBasketOrder(r))}),h()}if(n&2){let e=M(2).$implicit;x("matTooltip","Buy"),g(2),x("matTooltip","Sell"),g(2),x("title","Add to Basket")("action","basket")("color","gray")("row",e)}}function __e(n,t){if(n&1){let e=ee();m(0,"div",39),Gt(1,y_e,5,6),F(2,"app-market-depth-invoker",40),m(3,"app-action-button",41),k("handleAction",function(r){N(e);let o=M(2);return P(o.handleAction(r))}),h(),m(4,"app-action-button",41),k("handleAction",function(r){N(e);let o=M(2);return P(o.handleAction(r))}),h()()}if(n&2){let e=M().$implicit;g(),Wt(e.tradable?1:-1),g(),x("title",e.displayName)("instrumentToken",e.instrumentToken)("iconBackground",!0),g(),x("title","Chart")("action","chart")("color","gray")("row",e),g(),x("title","Delete")("action","delete")("color","red")("row",e)}}function b_e(n,t){if(n&1){let e=ee();m(0,"div",33),k("mouseenter",function(){let r=N(e).index,o=M();return P(o.hoveredIndex=r)})("mouseleave",function(){N(e);let r=M();return P(r.hoveredIndex=null)})("dragstart",function(r){let o=N(e).index,a=M();return P(a.onDragStart(r,o))})("dragover",function(r){let o=N(e).index,a=M();return P(a.onDragOver(r,o))})("drop",function(r){let o=N(e).index,a=M();return P(a.onDrop(r,o))})("dragend",function(){N(e);let r=M();return P(r.onDragEnd())}),m(1,"div")(2,"div",31),y(3),h(),m(4,"div",34),y(5),h()(),m(6,"div",35)(7,"div",36),y(8),Y(9,"number"),h(),m(10,"span",37),y(11),Y(12,"number"),m(13,"span",38),y(14),Y(15,"percent"),h()()(),Gt(16,__e,5,12,"div",39),h()}if(n&2){let e=t.$implicit,i=t.index,r=M();g(3),j(e.displayName),g(2),j(e.segment),g(2),x("ngClass",r.color(e.change)),g(),j(J(9,12,e.lastPrice,"1.2-2")),g(2),x("ngClass",r.color(e.change)),g(),q(" ",J(12,15,e.changeAbs,"1.2-2")," "),g(2),Te("bg-green-50",e.change>0)("bg-red-50",e.change<0),g(),q(" ",J(15,18,e.change/100,"1.2-2")," "),g(2),Wt(r.hoveredIndex===i?16:-1)}}var xv=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f,p,v,_){this.watchlistService=i,this.ws=r,this.toastr=o,this.userViewStateService=a,this.userDataStateService=s,this.dialog=l,this.tradingAccountService=c,this.alertService=u,this.router=d,this.route=f,this.overlay=p,this.document=v,this.basketCommunicationService=_,this.isInsideRouterOutlet=!1,this.searchTermChanged=new me,this.searchTerm="",this.watchlist=[],this.instrumentTokens=[],this.errorMessage="",this.currentListIndex=0,this.hoveredIndex=null,this.chartSymbol=null,this.fetchedInstruments=[],this.isEditingName=!1,this.editWatchlistName="",this.isNameHovered=!1,this.dragStartIndex=null,this.dragOverIndex=null,this.reservedNames=["Holdings","Positions","Nifty Current Week Expiry","Nifty Next Week Expiry","Sensex Current Week Expiry","Sensex Next Week Expiry"],this.collapseChanged=new be,this.isWatchlistCollapsed=!0,this.faSearch=ql,this.isMobileView=!1}ngOnInit(){this.isMobileView=globalThis.window?.innerWidth<=768||!1,this.route.data.subscribe(r=>{this.isInsideRouterOutlet=r.standaloneWatchlist||!1});let i=this.userViewStateService.getState();this.isWatchlistCollapsed=i.watchlist.isCollapsed||!1,this.collapseChanged.emit(this.isWatchlistCollapsed),this.currentListIndex=i.watchlist.activeWatchlist,this.searchTermChanged.pipe(ea(300),c1()).subscribe(r=>{this.searchInstruments(r)}),this.getCachedData(),this.fetchWatchlist(),this.informUserToOnboardTradingAccount()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.watchlist&&(this.watchlist=i.watchlist)}setCachedData(){this.userDataStateService.setState({watchlist:this.watchlist})}get currentList(){let i=[];return this.watchlist.length>0&&(i=this.watchlist[this.currentListIndex].watchlistInstruments),i}get isCurrentWatchlistReserved(){let i=this.getWatchListName();return this.reservedNames.includes(i)}openPlaceOrderDialog(i,r){let o={isBuyMode:i==="BUY"};this.dialog.open(d0,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:o,instrument:X({},r)}})}switchList(i){this.ws.unsubscribe(this.instrumentTokens).subscribe({next:()=>{this.currentListIndex=i,this.subscribeToWebSocket(),this.chartSymbol=null,this.saveUserViewState()}})}trackById(i,r){return r.id}addToWatchlist(i){let r=this.watchlist[this.currentListIndex];if(this.searchTerm="",r.watchlistInstruments.find(a=>a.tradingSymbol===i.tradingSymbol&&a.exchange===i.exchange))this.toastr.warning("Instrument already exists in watchlist","Warning");else{let a={watchlistId:r.id,displayName:i.displayName,tradingSymbol:i.tradingSymbol,instrumentToken:i.instrumentToken,segment:i.segment,exchange:i.exchange};this.fetchedInstruments=[],this.saveWatchlistInstrument(r,a)}}deleteFromWatchlist(i){let r=this.watchlist[this.currentListIndex],o=r.watchlistInstruments.find(a=>a.tradingSymbol===i.tradingSymbol&&a.exchange===i.exchange);o?(r.watchlistInstruments=r.watchlistInstruments.filter(a=>!(a.tradingSymbol===i.tradingSymbol&&a.exchange===i.exchange)),this.deleteWatchlistInstrument(this.watchlist[this.currentListIndex],o.id)):this.toastr.warning("Instrument does not exists in watchlist","Warning")}fetchWatchlist(){this.watchlistService.getWatchlist().subscribe({next:i=>{this.watchlist=i.data,this.subscribeToWebSocket(),this.setCachedData()},error:i=>{i.error.message?this.toastr.error(i.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching watchlist. Verify that the backend service is operational.","Error"),console.error("Error while fetching watchlist:",i)}})}subscribeToWebSocket(){let i=this.watchlist[this.currentListIndex].watchlistInstruments;this.instrumentTokens=i.map(o=>o.instrumentToken);let r=50;this.instrumentTokens.length>0?(this.ws.connectionState().pipe(et(o=>o),Nt(1)).subscribe(()=>{for(let o=0;o<this.instrumentTokens.length;o+=r){let a=this.instrumentTokens.slice(o,o+r);this.ws.subscribe(a)}}),this.sub=this.ws.ticks().subscribe(o=>{this.updateWatchlistOnUpdate(o)})):console.log("No instrument tokens available for web socket subscription.")}unsubscribeToWebSocket(){if(this.instrumentTokens.length>0)for(let r=0;r<this.instrumentTokens.length;r+=50){let o=this.instrumentTokens.slice(r,r+50);this.ws.unsubscribe(o)}}handleAction(i){if(i.action==="delete")this.deleteFromWatchlist(i.row);else if(i.action==="chart"){let r=i.row.exchange,o=i.row.tradingSymbol;o=o==="NIFTY 50"?"NIFTY":o,globalThis.window?.open(B9(r,o),"_blank","noopener,noreferrer")}else i.action==="buy"?this.openPlaceOrderDialog("BUY",i.row):i.action==="sell"&&this.openPlaceOrderDialog("SELL",i.row)}addToBasketOrder(i){this.basketCommunicationService.emitAddToBasket(i)}updateWatchlistOnUpdate(i){i.forEach(r=>{this.watchlist[this.currentListIndex].watchlistInstruments.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s&&s.lastPrice!==r.lastTradedPrice&&(s.change=r.change,s.changeAbs=r.change*r.closePrice/100,s.lastPrice=r.lastTradedPrice,s.tradable=r.tradable)})})}saveWatchlistInstrument(i,r){console.log("saving watchlist for user"),this.watchlistService.saveWatchListInstrument(i.id,r).subscribe({next:o=>{this.watchlist=o.data,this.subscribeToWebSocket()},error:o=>{console.error("Error while saving watchlist:",o),this.toastr.error(o.error.message,"Error")}})}deleteWatchlistInstrument(i,r){console.log("deleting watchlist instrument for user"),this.watchlistService.deleteWatchListInstrument(i.id,r).subscribe({next:o=>{this.watchlist=o.data,this.subscribeToWebSocket()},error:o=>{console.error("Error while saving watchlist:",o),this.toastr.error(o.error.message,"Error")}})}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}onWatchlistNameMouseEnter(){this.isNameHovered=!0}onWatchlistNameMouseLeave(){this.isNameHovered=!1}onWatchlistNameClick(){if(this.isCurrentWatchlistReserved){this.toastr.warning("This watchlist name cannot be edited.","Warning");return}this.isEditingName=!0,this.editWatchlistName=this.getWatchListName(),setTimeout(()=>{let i=this.document.getElementById("edit-watchlist-name-input");i&&i.focus()})}onWatchlistNameBlur(){this.isEditingName=!1;let i=this.editWatchlistName.trim();i&&i!==this.getWatchListName()&&this.saveWatchlistName(i)}onWatchlistNameInputKeydown(i){i.key==="Enter"&&i.target.blur()}saveWatchlistName(i){let r=this.watchlist[this.currentListIndex];this.watchlistService.updateWatchlistName(r.id,i).subscribe({next:o=>{r.name=i,this.toastr.success("Watchlist name updated successfully","Success")},error:o=>{console.error("Error while saving watchlist name:",o),this.toastr.error(o.error.message,"Error")}})}onDragStart(i,r){this.dragStartIndex=r,i.dataTransfer?.setData("text/plain",r.toString()),i.dataTransfer.effectAllowed="move"}onDragOver(i,r){i.preventDefault(),this.dragOverIndex=r}onDrop(i,r){i.preventDefault();let o=this.dragStartIndex;if(o===null||o===r){this.dragStartIndex=null,this.dragOverIndex=null;return}let a=this.watchlist[this.currentListIndex].watchlistInstruments,[s]=a.splice(o,1);a.splice(r,0,s),this.dragStartIndex=null,this.dragOverIndex=null,this.persistWatchlistOrder()}onDragEnd(){this.dragStartIndex=null,this.dragOverIndex=null}persistWatchlistOrder(){let i=this.watchlist[this.currentListIndex],r=i.watchlistInstruments.map(o=>o.id);this.watchlistService.reorderWatchlistInstruments(i.id,r).subscribe({next:o=>{console.log("Watchlist order saved successfully")},error:o=>{console.error("Error while saving watchlist order:",o),this.toastr.error(o.error.message,"Error")}})}informUserToOnboardTradingAccount(){this.tradingAccountService.getTradingAccounts().subscribe({next:i=>{i.data.length===0&&this.alertService.info("Hi there!","You haven't onboarded any trading account yet. Click OK to go to the Manage Accounts screen and onboard your trading accounts.",()=>{this.router.navigate(["/profile"])})},error:i=>{i.error.message?this.toastr.error(i.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error")}})}onSearchTermChange(i){let o=i.target?.value||"";this.searchTermChanged.next(o)}getWatchListName(){return this.watchlist.length>0?this.watchlist[this.currentListIndex].name:""}getWatchListCount(){return this.watchlist[this.currentListIndex]?.watchlistInstruments?this.watchlist[this.currentListIndex].watchlistInstruments.length:0}searchInstruments(i){this.watchlistService.searchInstruments(i.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastr.error(r.error.message,"Error")}})}saveUserViewState(){this.userViewStateService.setState({watchlist:{activeWatchlist:this.currentListIndex,isCollapsed:this.isWatchlistCollapsed}})}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}toggleCollapse(){this.isWatchlistCollapsed=!this.isWatchlistCollapsed,this.collapseChanged.emit(this.isWatchlistCollapsed),this.saveUserViewState()}get canCollapse(){return!this.isInsideRouterOutlet}expand(){this.router.navigate(["/watchlist"])}onResize(i){this.isMobileView=globalThis.window?.innerWidth<=768||!1}ngAfterViewInit(){}};t.\u0275fac=function(r){return new(r||t)(V(Su),V(sr),V(tt),V(Bn),V(Tn),V(Zn),V(tr),V(Fo),V(un),V(Nr),V(Vr),V(Me),V(bv))},t.\u0275cmp=ie({type:t,selectors:[["app-watchlist"]],hostBindings:function(r,o){r&1&&k("resize",function(s){return o.onResize(s)},BS)},outputs:{collapseChanged:"collapseChanged"},decls:25,vars:14,consts:[["editNameInput",""],["class","fixed top-16 mt-3 left-2 z-50",3,"noIconBackground","title","action","color","handleAction",4,"ngIf"],[1,"relative","overflow-hidden","transition-all","duration-300",3,"ngClass"],[1,"page-container"],[1,"bg-white","border","rounded-md","shadow-sm","flex","flex-col","min-h-[80vh]"],[1,"p-4","border-b","border-gray-200","space-y-2"],[1,"flex","flex-wrap","items-center","justify-between","gap-2"],[1,"flex","items-center","flex-wrap","gap-2"],[4,"ngIf","ngIfElse"],[1,"font-semibold","px-2","py-1","rounded","bg-blue-50","text-blue-500"],[1,"flex","items-center","gap-2"],["class","hover:scale-105 transition",3,"noIconBackground","title","action","color","handleAction",4,"ngIf"],[1,"watchlist-tabs-container"],["class","watchlist-tab cursor-pointer px-3 py-1.5 rounded-md transition text-center",3,"matTooltip","ngClass","click",4,"ngFor","ngForOf"],[1,"relative","mt-2"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400",3,"icon"],["type","text","placeholder","Search and add eg: infy, nifty fut, etc",1,"pl-10","pr-3","py-2","w-full","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["class","mt-2 bg-white border border-gray-300 rounded-md shadow-sm max-h-60 overflow-auto",4,"ngIf"],[1,"page-content","flex-1","divide-y","divide-gray-100"],["class","flex justify-between items-center px-4 py-2 hover:bg-gray-50 relative cursor-pointer","draggable","true",3,"mouseenter","mouseleave","dragstart","dragover","drop","dragend",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fixed","top-16","mt-3","left-2","z-50",3,"handleAction","noIconBackground","title","action","color"],[1,"text-gray-700","transition",3,"click","mouseenter","mouseleave","ngClass","matTooltip"],["class","text-xs text-blue-400",4,"ngIf"],[1,"text-xs","text-blue-400"],["id","edit-watchlist-name-input","type","text",1,"border-b","border-blue-400","outline-none","px-1","py-0.5","text-gray-700",3,"ngModelChange","blur","keydown","ngModel"],[1,"hover:scale-105","transition",3,"handleAction","noIconBackground","title","action","color"],[1,"watchlist-tab","cursor-pointer","px-3","py-1.5","rounded-md","transition","text-center",3,"click","matTooltip","ngClass"],[1,"mt-2","bg-white","border","border-gray-300","rounded-md","shadow-sm","max-h-60","overflow-auto"],["class","px-3 py-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-gray-700"],[1,"text-xs","text-gray-400"],["draggable","true",1,"flex","justify-between","items-center","px-4","py-2","hover:bg-gray-50","relative","cursor-pointer",3,"mouseenter","mouseleave","dragstart","dragover","drop","dragend"],[1,"text-sm","text-gray-400","uppercase"],[1,"text-right"],[1,"text-gray-700",3,"ngClass"],[1,"ml-1","text-sm","text-gray-700",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","flex","gap-1","z-10"],[1,"text-base",3,"title","instrumentToken","iconBackground"],[1,"text-base",3,"handleAction","title","action","color","row"],[1,"mr-2","w-8","h-8","bg-blue-500","text-white","rounded-md","flex","items-center","justify-center","hover:bg-blue-600","transition",3,"click","matTooltip"],[1,"w-8","h-8","bg-orange-500","text-white","rounded-md","flex","items-center","justify-center","hover:bg-orange-600","transition",3,"click","matTooltip"]],template:function(r,o){if(r&1){let a=ee();A(0,c_e,1,4,"app-action-button",1),m(1,"div")(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),A(9,d_e,4,8,"ng-container",8)(10,f_e,1,1,"ng-template",null,0,Wn),m(12,"span",9),y(13),h()(),m(14,"div",10),A(15,p_e,1,4,"app-action-button",11)(16,m_e,1,4,"app-action-button",11),h()(),m(17,"div",12),A(18,h_e,2,6,"div",13),h(),m(19,"div",14),F(20,"fa-icon",15),m(21,"input",16),bt("ngModelChange",function(l){return N(a),Mt(o.searchTerm,l)||(o.searchTerm=l),P(l)}),k("input",function(l){return N(a),P(o.onSearchTermChange(l))}),h()(),A(22,v_e,2,1,"div",17),h(),m(23,"div",18),A(24,b_e,17,21,"div",19),h()()()()()()}if(r&2){let a=An(11);x("ngIf",o.canCollapse&&o.isWatchlistCollapsed&&!o.isMobileView),g(2),x("@expandCollapse",o.canCollapse&&o.isWatchlistCollapsed?"collapsed":"expanded")("ngClass",(o.canCollapse,"text-sm")),g(7),x("ngIf",!o.isEditingName)("ngIfElse",a),g(4),q(" ",o.getWatchListCount()," "),g(2),x("ngIf",o.canCollapse),g(),x("ngIf",o.canCollapse),g(2),x("ngForOf",o.watchlist),g(2),x("icon",o.faSearch),g(),_t("ngModel",o.searchTerm),g(),x("ngIf",o.fetchedInstruments.length>0&&o.searchTerm.length>0),g(2),x("ngForOf",o.currentList)("ngForTrackBy",o.trackById)}},dependencies:[ze,pn,Yt,Zt,Gi,ye,a0,Oe,ot,Fa,Ht,ln,qn],styles:['.page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 175px);min-height:calc(100vh - var(--header-height, 80px) - 175px)}.watchlist[_ngcontent-%COMP%]{position:relative}.watchlist[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:4px;height:2px;width:0%;background-color:#007bff;transition:width .3s ease-in-out}.watchlist[_ngcontent-%COMP%]:hover:after, .watchlist.active-tab[_ngcontent-%COMP%]:after{width:100%}.watchlist.active-tab[_ngcontent-%COMP%]{background-color:#eef6ff;color:#007bff}.watchlist-tabs-container[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin-top:.5rem;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.watchlist-tabs-container[_ngcontent-%COMP%]{scrollbar-color:#cbd5e1 transparent;scrollbar-width:thin}.watchlist-tab[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;white-space:nowrap;box-sizing:border-box}'],data:{animation:[Pi,UW]}});let n=t;return n})();function x_e(n,t){n&1&&(m(0,"div",1)(1,"p",2),y(2,"No SIPs to display"),h()())}function C_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("fund"))}}function S_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instalmentAmount"))}}function w_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("dayChangePercentage"))}}function M_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("lastInstalment"))}}function T_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("nextInstalment"))}}function E_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function D_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("created"))}}function I_e(n,t){if(n&1&&(At(0),m(1,"span",19),F(2,"fa-icon",36),y(3),Y(4,"istDate"),h(),zt()),n&2){let e=M().$implicit,i=M(3);g(2),x("icon",i.faCheckCircle),g(),q(" ",J(4,2,e.mfSip.lastInstalment,"date-ordinal"))}}function L_e(n,t){if(n&1&&(At(0),m(1,"span",19),y(2),Y(3,"istDate"),h(),zt()),n&2){let e=M().$implicit;g(2),j(J(3,1,e.mfSip.lastInstalment,"date-ordinal"))}}function A_e(n,t){if(n&1&&(At(0),m(1,"span",19),F(2,"fa-icon",37),y(3),Y(4,"istDate"),h(),zt()),n&2){let e=M(2).$implicit,i=M(3);g(2),x("icon",i.faClock),g(),q(" ",J(4,2,e.mfSip.nextInstalment,"date-ordinal"))}}function z_e(n,t){if(n&1&&(At(0),m(1,"span",19),y(2),Y(3,"istDate"),h(),zt()),n&2){let e=M(2).$implicit;g(2),j(J(3,1,e.mfSip.nextInstalment,"date-ordinal"))}}function k_e(n,t){if(n&1&&(m(0,"div",30),A(1,A_e,5,5,"ng-container",21)(2,z_e,4,4,"ng-container",21),h()),n&2){let e=M().$implicit,i=M(3);g(),x("ngIf",i.isUpcomingSipInThisMonth(e.mfSip.nextInstalment)),g(),x("ngIf",!i.isUpcomingSipInThisMonth(e.mfSip.nextInstalment))}}function N_e(n,t){if(n&1){let e=ee();At(0),m(1,"tr",22)(2,"td",23)(3,"div",24)(4,"span",25),y(5),h(),F(6,"app-small-chip",26),h()(),m(7,"td",27)(8,"span",19),y(9),Y(10,"currency"),h()(),m(11,"td",27)(12,"span",28),y(13),Y(14,"number"),m(15,"span",29),y(16),Y(17,"percent"),h()()(),m(18,"td",27)(19,"div",30),A(20,I_e,5,5,"ng-container",21)(21,L_e,4,4,"ng-container",21),h()(),m(22,"td",27),A(23,k_e,3,2,"div",31),h(),m(24,"td",27),F(25,"app-small-chip",26),h(),m(26,"td",27)(27,"div",32)(28,"span",33),y(29),Y(30,"istDate"),F(31,"app-small-chip",26),h()()(),m(32,"td",34)(33,"app-action-menu",35),k("handleAction",function(r){N(e);let o=M(3);return P(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(4),x("matTooltip",e.mfSip.fund),g(),q(" ",e.mfSip.fund," "),g(),x("text",e.mfSip.frequency)("color","gray"),g(3),j(st(10,22,e.mfSip.instalmentAmount,"INR","symbol","1.0-0")),g(3),x("ngClass",i.color(e.dayChangePercentage)),g(),q(" ",J(14,27,e.lastPrice,"1.2-2")," "),g(2),Te("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),g(),q(" ",J(17,30,e.dayChangePercentage/100,"1.2-2")," "),g(4),x("ngIf",i.isSipCompletedInThisMonth(e.mfSip.lastInstalment)),g(),x("ngIf",!i.isSipCompletedInThisMonth(e.mfSip.lastInstalment)),g(2),x("ngIf",e.mfSip.status!=="PAUSED"),g(2),x("text",e.mfSip.status)("color",i.getStatusChipColor(e.mfSip.status)),g(4),q(" ",J(30,33,i.getOrderTimeStamp(e.mfSip.created),"date")," "),g(2),x("text",i.getSipCreatedSince(e.mfSip.created))("color","purple"),g(2),x("row",e)("actions",i.getActionButtons(e))}}function P_e(n,t){n&1&&(m(0,"tr")(1,"td",38),F(2,"div",39),h()())}function O_e(n,t){if(n&1&&(At(0),m(1,"tr",15)(2,"td",16),F(3,"app-user-info-header",17),h(),m(4,"td",18)(5,"span",19),y(6),Y(7,"currency"),h()(),F(8,"td",20),h(),A(9,N_e,34,36,"ng-container",13)(10,P_e,3,0,"tr",21),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(3),j(st(7,9,e.totalSipAmount,"INR","symbol","1.0-0")),g(3),x("ngForOf",e.sips)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function R_e(n,t){if(n&1){let e=ee();m(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("fund"))}),y(6," FUND "),A(7,C_e,2,1,"span",8),h()(),m(8,"th",9)(9,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("instalmentAmount"))}),y(10," AMOUNT "),A(11,S_e,2,1,"span",8),h()(),m(12,"th",9)(13,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("dayChangePercentage"))}),y(14," NAV "),A(15,w_e,2,1,"span",8),h()(),m(16,"th",9)(17,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("lastInstalment"))}),y(18," LAST INSTALMENT "),A(19,M_e,2,1,"span",8),h()(),m(20,"th",9)(21,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("nextInstalment"))}),y(22," NEXT INSTALMENT "),A(23,T_e,2,1,"span",8),h()(),m(24,"th",9)(25,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("status"))}),y(26," STATUS "),A(27,E_e,2,1,"span",8),h()(),m(28,"th",9)(29,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("created"))}),y(30," CREATED "),A(31,D_e,2,1,"span",8),h()(),m(32,"th",11),y(33,"ACTIONS"),h()()(),m(34,"tbody",12),A(35,O_e,11,14,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("fund")),g(4),x("ngIf",e.getSortIndicator("instalmentAmount")),g(4),x("ngIf",e.getSortIndicator("dayChangePercentage")),g(4),x("ngIf",e.getSortIndicator("lastInstalment")),g(4),x("ngIf",e.getSortIndicator("nextInstalment")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("created")),g(4),x("ngForOf",e.sortedGroupedSips)("ngForTrackBy",e.trackByUser)}}var gZ=(()=>{let t=class t{constructor(i){this.utilsService=i,this.groupedSips=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new be,this.sortColumn="nextInstalment",this.sortDirection="asc",this.sortAccessors={fund:r=>(r.mfSip?.fund??"").toString().toLowerCase(),instalmentAmount:r=>r.mfSip?.instalmentAmount??0,dayChangePercentage:r=>r.dayChangePercentage??0,lastInstalment:r=>new Date(r.mfSip?.lastInstalment??0).getTime(),nextInstalment:r=>new Date(r.mfSip?.nextInstalment??0).getTime(),status:r=>(r.mfSip?.status??"").toString().toLowerCase(),created:r=>r.mfSip?.created??0},this.faCheckCircle=nG,this.faClock=Q6}get sortedGroupedSips(){return!this.sortColumn||!this.sortDirection?this.groupedSips:this.groupedSips.map(i=>Ie(X({},i),{sips:[...i.sips??[]].sort((r,o)=>this.compareSips(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["nextInstalment","created","lastInstalment","instalmentAmount","lastInstalment"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareSips(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}getStatusChipColor(i){return i==="ACTIVE"?"green":i==="PAUSED"||i==="CANCELLED"?"orange":"gray"}getOrderTimeStamp(i){return Number(i)}trackByUser(i,r){return r.userId}trackBySequenceNumber(i,r){return r.sequenceNumber}isUpcomingSipInThisMonth(i){let r=new Date,o=new Date(i);return r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&o>r}isSipCompletedInThisMonth(i){let r=new Date,o=new Date(i);return r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&o<r}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}getSipCreatedSince(i){return this.utilsService.getElapsedYMDString(i)}getActionButtons(i){let r=this.actions;return i.mfSip.status==="ACTIVE"?r=r.filter(o=>o.action!=="activate"):i.mfSip.status==="PAUSED"&&(r=r.filter(o=>o.action!=="pause")),r}handleAction(i){this.handleClickAction.emit(i)}};t.\u0275fac=function(r){return new(r||t)(V(En))},t.\u0275cmp=ie({type:t,selectors:[["app-mf-sip-table"]],inputs:{groupedSips:"groupedSips",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","1",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","py-2","text-right","font-medium","whitespace-nowrap"],[1,""],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left","uppercase",3,"matTooltip"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"flex","flex-col","gap-1"],["class","flex flex-col gap-1",4,"ngIf"],[1,"flex","flex-col","items-end","gap-1"],[1,"text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],["matTooltip","Completed for this month",1,"text-green-500",3,"icon"],["matTooltip","Pending for this month",1,"text-orange-500",3,"icon"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,x_e,3,0,"div",1)(2,R_e,36,9,"div"),h()),r&2&&(g(),Wt(!o.groupedSips||o.groupedSips.length===0?1:2))},dependencies:[ze,mn,ye,Oe,ot,jr,Ht,Oo,ei,Ci,ln,qn],encapsulation:2});let n=t;return n})();function F_e(n,t){if(n&1&&(m(0,"div",3)(1,"span",4),y(2,"Total SIP Amount"),h(),m(3,"span",5),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(4),q(" ",st(5,1,e.totalSipAmount,"INR","symbol","1.0-0")," ")}}function B_e(n,t){if(n&1&&(m(0,"div",3)(1,"span",4),y(2,"Till Date"),h(),m(3,"span",5),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(4),q(" ",st(5,1,e.contributionThisMonth,"INR","symbol","1.0-0")," ")}}function V_e(n,t){if(n&1&&(m(0,"div",3)(1,"span",4),y(2,"Upcoming SIPs"),h(),m(3,"span",5),y(4),Y(5,"number"),h()()),n&2){let e=M();g(4),q(" ",J(5,1,e.upcomingSips,"1.0-0")," ")}}function U_e(n,t){if(n&1&&(m(0,"div",3)(1,"span",4),y(2,"Active SIPs"),h(),m(3,"span",6),y(4),Y(5,"number"),h()()),n&2){let e=M();g(4),q(" ",J(5,1,e.activeSips,"1.0-0")," ")}}function H_e(n,t){if(n&1&&(m(0,"div",7)(1,"span",4),y(2,"Paused SIPs"),h(),m(3,"span",8),y(4),Y(5,"number"),h()()),n&2){let e=M();g(4),q(" ",J(5,1,e.pausedSips,"1.0-0")," ")}}var vZ=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-sip-summary"]],inputs:{totalSipAmount:"totalSipAmount",contributionThisMonth:"contributionThisMonth",upcomingSips:"upcomingSips",activeSips:"activeSips",pausedSips:"pausedSips"},decls:6,vars:5,consts:[[1,"grid","grid-cols-2","sm:grid-cols-5","md:grid-cols-5","lg:grid-cols-5","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],["class","hidden sm:flex bg-white p-2 border rounded-md shadow-sm flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-600","mt-1"],[1,"text-base","font-medium","text-green-600","mt-1"],[1,"hidden","sm:flex","bg-white","p-2","border","rounded-md","shadow-sm","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-base","font-medium","text-orange-600","mt-1"]],template:function(r,o){r&1&&(m(0,"div",0),A(1,F_e,6,6,"div",1)(2,B_e,6,6,"div",1)(3,V_e,6,4,"div",1)(4,U_e,6,4,"div",1)(5,H_e,6,4,"div",2),h()),r&2&&(g(),x("ngIf",o.totalSipAmount!==void 0),g(),x("ngIf",o.contributionThisMonth!==void 0),g(),x("ngIf",o.upcomingSips!==void 0),g(),x("ngIf",o.activeSips!==void 0),g(),x("ngIf",o.pausedSips!==void 0))},dependencies:[ye,Ci,ln],encapsulation:2});let n=t;return n})();function j_e(n,t){n&1&&(m(0,"div",1)(1,"p",2),y(2,"No orders to display"),h()())}function G_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("fund"))}}function W_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("amount"))}}function q_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("quantity"))}}function $_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("price"))}}function Y_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("nav"))}}function Z_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function X_e(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("timestamp"))}}function Q_e(n,t){if(n&1){let e=ee();At(0),m(1,"tr",22)(2,"td",23)(3,"div",24),F(4,"app-small-chip",25),m(5,"span",26),y(6),h(),F(7,"app-small-chip",25),h()(),m(8,"td",27)(9,"span"),y(10),Y(11,"currency"),h()(),m(12,"td",27)(13,"span"),y(14),Y(15,"number"),h()(),m(16,"td",27)(17,"span"),y(18),Y(19,"number"),h()(),m(20,"td",27)(21,"span",28),y(22),Y(23,"number"),m(24,"span",29),y(25),Y(26,"percent"),h()()(),m(27,"td",27)(28,"div",24),F(29,"app-small-chip",30),h()(),m(30,"td",27),y(31),Y(32,"istDate"),h(),m(33,"td",27)(34,"app-action-menu",31),k("handleAction",function(r){N(e);let o=M(4);return P(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(4);g(4),x("text",e.mfOrder.transactionType)("color",i.getTransactionTypeChipColor(e.mfOrder.transactionType)),g(),x("matTooltip",e.mfOrder.fund),g(),q(" ",e.mfOrder.fund," "),g(),x("text",i.getVariety(e.mfOrder.variety))("color","purple"),g(3),j(st(11,22,e.mfOrder.amount,"INR","symbol","1.0-0")),g(4),j(J(15,27,e.mfOrder.quantity,"1.2-2")),g(4),j(J(19,30,e.mfOrder.averagePrice,"1.2-2")),g(3),x("ngClass",i.color(e.dayChangePercentage)),g(),q(" ",J(23,33,e.lastPrice,"1.2-2")," "),g(2),Te("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),g(),q(" ",J(26,36,e.dayChangePercentage/100,"1.2-2")," "),g(4),x("matTooltip",e.mfOrder.statusMessage)("text",e.mfOrder.status)("color",i.getStatusChipColor(e.mfOrder.status)),g(2),q(" ",J(32,39,i.getOrderTimeStamp(e.mfOrder.orderTimestamp),"datetime-ordinal")," "),g(3),x("row",e)("actions",i.getActionButtons(e))}}function K_e(n,t){n&1&&(m(0,"tr")(1,"td",32),F(2,"div",33),h()())}function J_e(n,t){if(n&1&&(At(0),m(1,"tr",16)(2,"td",17),F(3,"app-user-info-header",18),h(),m(4,"td",19)(5,"span",20),y(6),Y(7,"currency"),h()(),F(8,"td",21),h(),A(9,Q_e,35,42,"ng-container",15)(10,K_e,3,0,"tr",13),zt()),n&2){let e=t.$implicit,i=t.last,r=M(3);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(3),j(st(7,9,e.totalBuyAmount-e.totalSellAmount,"INR","symbol","1.0-0")),g(3),x("ngForOf",e.orders)("ngForTrackBy",r.trackBySequenceNumber),g(),x("ngIf",!i)}}function ebe(n,t){if(n&1&&(At(0),A(1,J_e,11,14,"ng-container",15),zt()),n&2){let e=M(2);g(),x("ngForOf",e.sortedGroupedRows)("ngForTrackBy",e.trackByUser)}}function tbe(n,t){if(n&1){let e=ee();m(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("fund"))}),y(6," FUND "),A(7,G_e,2,1,"span",8),h()(),m(8,"th",9)(9,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("amount"))}),y(10," AMOUNT "),A(11,W_e,2,1,"span",8),h()(),m(12,"th",9)(13,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("quantity"))}),y(14," QTY "),A(15,q_e,2,1,"span",8),h()(),m(16,"th",9)(17,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("price"))}),y(18," AVG PRICE "),A(19,$_e,2,1,"span",8),h()(),m(20,"th",9)(21,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("nav"))}),y(22," NAV "),A(23,Y_e,2,1,"span",8),h()(),m(24,"th",9)(25,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("status"))}),y(26," STATUS "),A(27,Z_e,2,1,"span",8),h()(),m(28,"th",9)(29,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("timestamp"))}),y(30," TIME "),A(31,X_e,2,1,"span",8),h()(),m(32,"th",11),y(33,"ACTIONS"),h()()(),m(34,"tbody",12),A(35,ebe,2,2,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("fund")),g(4),x("ngIf",e.getSortIndicator("amount")),g(4),x("ngIf",e.getSortIndicator("quantity")),g(4),x("ngIf",e.getSortIndicator("price")),g(4),x("ngIf",e.getSortIndicator("nav")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("timestamp")),g(4),x("ngIf",e.groupedRows&&e.groupedRows.length>0)}}var yZ=(()=>{let t=class t{constructor(){this.groupedRows=[],this.handleClickAction=new be,this.actions=[],this.fallbackAvatarUrl="",this.mfPendingStatus=["PROCESSING","OPEN"],this.sortColumn="timestamp",this.sortDirection="desc",this.sortAccessors={fund:i=>(i.mfOrder?.fund??"").toString().toLowerCase(),amount:i=>i.mfOrder?.amount??0,quantity:i=>i.mfOrder?.quantity??0,price:i=>i.mfOrder?.averagePrice??0,nav:i=>i.lastPrice??0,status:i=>(i.mfOrder?.status??"").toString().toLowerCase(),timestamp:i=>i.mfOrder?.orderTimestamp??0},this.faClock=Q6}get sortedGroupedRows(){return!this.sortColumn||!this.sortDirection?this.groupedRows:this.groupedRows.map(i=>Ie(X({},i),{orders:[...i.orders??[]].sort((r,o)=>this.compareOrders(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["timestamp","nav","amount"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareOrders(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}getActionButtons(i){return this.actions}getStatusChipColor(i){return this.mfPendingStatus.indexOf(i)>-1?"blue":i==="COMPLETE"?"green":i==="FAILED"||i==="REJECTED"?"red":"gray"}getOrderTimeStamp(i){return Number(i)}getTransactionTypeChipColor(i){switch(i){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}trackBySequenceNumber(i,r){return r.sequenceNumber}trackByUser(i,r){return r.userId}handleAction(i){this.handleClickAction.emit(i)}getVariety(i){return i==="regular"?"ONE TIME":i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-mf-order-table"]],inputs:{groupedRows:"groupedRows",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngIf"],[1,"text-[10px]"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","1",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","py-2","text-right","font-medium","whitespace-nowrap"],[1,""],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left","uppercase",3,"matTooltip"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"cursor-pointer",3,"matTooltip","text","color"],[3,"handleAction","row","actions"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-300"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,j_e,3,0,"div",1)(2,tbe,36,8,"div"),h()),r&2&&(g(),Wt(!o.groupedRows||o.groupedRows.length===0?1:2))},dependencies:[Oe,ze,mn,ye,jr,Ht,Oo,ln,qn,ei,Ci],encapsulation:2});let n=t;return n})();function nbe(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Total Buy Orders"),h(),m(3,"span",4),y(4),Y(5,"number"),h()()),n&2){let e=M();g(4),q(" ",J(5,1,e.totalBuyOrders,"1.0-0")," ")}}function ibe(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Total Buy Amount"),h(),m(3,"span",4),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(4),q(" ",st(5,1,e.totalBuyAmount,"INR","symbol","1.0-0")," ")}}function rbe(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Total Sell Orders"),h(),m(3,"span",4),y(4),Y(5,"number"),h()()),n&2){let e=M();g(4),q(" ",J(5,1,e.totalSellOrders,"1.0-0")," ")}}function obe(n,t){if(n&1&&(m(0,"div",2)(1,"span",3),y(2,"Total Sell Amount"),h(),m(3,"span",4),y(4),Y(5,"currency"),h()()),n&2){let e=M();g(4),q(" ",st(5,1,e.totalSellAmount,"INR","symbol","1.0-0")," ")}}var _Z=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-mf-order-summary"]],inputs:{totalBuyOrders:"totalBuyOrders",totalBuyAmount:"totalBuyAmount",totalSellOrders:"totalSellOrders",totalSellAmount:"totalSellAmount"},decls:5,vars:4,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"]],template:function(r,o){r&1&&(m(0,"div",0),A(1,nbe,6,4,"div",1)(2,ibe,6,6,"div",1)(3,rbe,6,4,"div",1)(4,obe,6,6,"div",1),h()),r&2&&(g(),x("ngIf",o.totalBuyOrders!==void 0),g(),x("ngIf",o.totalBuyAmount!==void 0),g(),x("ngIf",o.totalSellOrders!==void 0),g(),x("ngIf",o.totalSellAmount!==void 0))},dependencies:[We,ye,ln,Ci],encapsulation:2});let n=t;return n})();var Cv=(()=>{let t=class t{constructor(i){this.api=i}getHoldings(){return this.api.get("/v1/mf/holdings")}getOrders(){return this.api.get("/v1/mf/orders")}getSips(){return this.api.get("/v1/mf/sips")}updateSip(i,r,o){return this.api.put(`/v1/mf/sips/${i}/${r}`,o)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var abe=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function sbe(n,t){n&1&&F(0,"span",10)}function lbe(n,t){if(n&1){let e=ee();m(0,"div",7),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.setActiveParentTab(r))}),y(1),m(2,"span",8),y(3),h(),A(4,sbe,1,0,"span",9),h()}if(n&2){let e=t.$implicit,i=M(2);Te("active-tab",e===i.activeParentTab)("text-gray-700",e!==i.activeParentTab),g(),q(" ",e," "),g(),x("ngClass",gt(8,abe,e===i.activeParentTab,e!==i.activeParentTab)),g(),q(" ",i.parentTabCounts[e]," "),g(),x("ngIf",e===i.activeParentTab)}}function cbe(n,t){if(n&1){let e=ee();m(0,"div",22)(1,"app-mf-sip-table",23),k("handleClickAction",function(r){N(e);let o=M(3);return P(o.handleAction(r))}),h()()}if(n&2){let e=M(3);g(),x("groupedSips",e.groupedSips)("fallbackAvatarUrl",e.fallbackAvatarUrl)("actions",e.actions)}}function ube(n,t){n&1&&(m(0,"div",22)(1,"app-note",24),y(2," You don\u2019t have any mutual fund sips at the moment. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function dbe(n,t){if(n&1){let e=ee();m(0,"div"),F(1,"app-sip-summary",11),m(2,"div",12)(3,"div",13)(4,"app-tool-bar",14),k("filtersChanged",function(r){N(e);let o=M(2);return P(o.applyMfSipFilters(r))})("toggleChart",function(){N(e);let r=M(2);return P(r.toggleChart())})("handleRefresh",function(r){N(e);let o=M(2);return P(o.handleRefreshForSips(r))}),h()(),m(5,"div",13),F(6,"fa-icon",15),h(),F(7,"div",16),m(8,"div",13)(9,"app-user-filter",17),k("selectAllUsers",function(){N(e);let r=M(2);return P(r.onAllUserSelection())})("selectUsers",function(r){N(e);let o=M(2);return P(o.onUserSelection(r))})("totalUsers",function(r){N(e);let o=M(2);return P(o.captureUsers(r))}),h()(),m(10,"div",13)(11,"app-search-input",18),k("inputChange",function(r){N(e);let o=M(2);return P(o.onSearch(r))}),h()()(),m(12,"div",19),F(13,"app-timeline-chart",20),h(),A(14,cbe,2,3,"div",21)(15,ube,3,3,"ng-template",null,0,Wn),h()}if(n&2){let e=An(16),i=M(2);g(),x("totalSipAmount",i.totalSipAmount)("contributionThisMonth",i.contributionThisMonth)("upcomingSips",i.upcomingSips)("activeSips",i.activeSips)("pausedSips",i.pausedSips),g(3),x("isLoadingData",i.isLoadingData)("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("showChartButton",!0),g(2),x("icon",i.faInfoCircle),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search SIPs by User ID or fund")("searchTerm",i.searchQuery),g(),x("@expandCollapse",i.showChart?"expanded":"collapsed"),g(),x("title","MF SIP Timeline")("xAxisLabels",i.dateLabels)("legendLabels",i.legendLabels)("series",i.series)("showDataZoom",!0),g(),x("ngIf",i.groupedSips.length>0)("ngIfElse",e)}}function fbe(n,t){if(n&1){let e=ee();m(0,"div",22)(1,"app-mf-order-table",27),k("handleClickAction",function(r){N(e);let o=M(3);return P(o.handleMfOrderAction(r))}),h()()}if(n&2){let e=M(3);g(),x("groupedRows",e.mfGroupedOrders)("actions",e.mfOrderActions)}}function pbe(n,t){n&1&&(m(0,"div",22)(1,"app-note",24),y(2," You don\u2019t have any mutual fund orders in this section. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function mbe(n,t){if(n&1){let e=ee();m(0,"div"),F(1,"app-mf-order-summary",25),m(2,"div",12)(3,"div",13)(4,"app-tool-bar",26),k("filtersChanged",function(r){N(e);let o=M(2);return P(o.applyMfOrderFilters(r))})("handleRefresh",function(r){N(e);let o=M(2);return P(o.handleRefreshForMfOrders(r))}),h()(),m(5,"div",13),F(6,"fa-icon",15),h(),F(7,"div",16),m(8,"div",13)(9,"app-user-filter",17),k("selectAllUsers",function(){N(e);let r=M(2);return P(r.onAllUserSelection())})("selectUsers",function(r){N(e);let o=M(2);return P(o.onUserSelection(r))})("totalUsers",function(r){N(e);let o=M(2);return P(o.captureUsers(r))}),h()(),m(10,"div",13)(11,"app-search-input",18),k("inputChange",function(r){N(e);let o=M(2);return P(o.onMutualFundsSearch(r))}),h()()(),A(12,fbe,2,2,"div",21)(13,pbe,3,3,"ng-template",null,1,Wn),h()}if(n&2){let e=An(14),i=M(2);g(),x("totalBuyOrders",i.totalBuyOrders)("totalBuyAmount",i.totalBuyAmount)("totalSellOrders",i.totalSellOrders)("totalSellAmount",i.totalSellAmount),g(3),x("filterOptions",i.mfOrderFilterOptions)("filterSelection",i.mfOrderFilterSelection),g(2),x("icon",i.faInfoCircle),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search mf orders by User ID or fund")("searchTerm",i.mfSearchQuery),g(),x("ngIf",i.mfGroupedOrders.length>0)("ngIfElse",e)}}function hbe(n,t){if(n&1&&(m(0,"div")(1,"div",4)(2,"div",5),A(3,lbe,5,11,"div",6),h()(),A(4,dbe,17,21,"div",3)(5,mbe,15,12,"div",3),h()),n&2){let e=M();g(3),x("ngForOf",e.parentTabs),g(),x("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[0]),g(),x("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[1])}}var xZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c){this.mfService=i,this.userViewStateService=r,this.userDataStateService=o,this.toastrService=a,this.utilsService=s,this.dialog=l,this.document=c,this.faInfoCircle=vG,this.users=[],this.sips=[],this.mfOrders=[],this.filteredSips=[],this.filteredMfOrders=[],this.groupedSips=[],this.mfGroupedOrders=[],this.historicalTimelineValues=[],this.errorMessage="",this.parentTabs=["SIPs","Orders"],this.activeParentTab="SIPs",this.parentTabCounts={SIPs:0,Orders:0},this.totalSipAmount=0,this.contributionThisMonth=0,this.upcomingSips=0,this.activeSips=0,this.pausedSips=0,this.selectedUserIds=[],this.searchQuery="",this.mfSearchQuery="",this.totalBuyOrders=0,this.totalBuyAmount=0,this.totalSellOrders=0,this.totalSellAmount=0,this.filterOptions=[{key:"mfSip.status",values:["ACTIVE","PAUSED"]}],this.mfOrderFilterOptions=[{key:"custom.dayRange",values:["This Week","This Month","Last Month"]},{key:"mfOrder.status",values:["PROCESSING","COMPLETE","REJECTED"]},{key:"mfOrder.variety",values:["SIP","REGULAR"]},{key:"mfOrder.purchaseType",values:["ADDITIONAL","FRESH"]},{key:"mfOrder.transactionType",values:["BUY","SELL"]}],this.isLoadingData=!1,this.showChart=!1,this.dateLabels=[],this.legendLabels=[],this.series=[],this.actions=[{action:"activate",color:"blue",label:"Activate SIP"},{action:"pause",color:"orange",label:"Pause SIP"},{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"SIP Details"}],this.filterSelection=[],this.mfPendingStatus=["PROCESSING","OPEN"],this.mfOrderFilterSelection=[],this.fallbackAvatarUrl=ci,this.mfOrderActions=[{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"MF Order Details"}]}ngOnInit(){let i=this.userViewStateService.getState();i&&Object.keys(i).length>0&&(this.activeParentTab=i.mfSips.selectedSectionType,this.selectedUserIds=i.mfSips.selectedUsersIds,this.searchQuery=i.mfSips.searchQuery,this.mfSearchQuery=i.mfSips.mfSearchQuery,i.mfSips.filterSelection?.length>0&&(this.filterSelection=i.mfSips.filterSelection),i.mfSips.mfOrderFilterSelection?.length>0&&(this.mfOrderFilterSelection=i.mfSips.mfOrderFilterSelection)),this.getCachedData(),this.fetchSips(),this.fetchMutualFundOrders(),this.fetchHistoricalTimelineValues()}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}setActiveParentTab(i){this.activeParentTab=i,this.saveUserViewState()}onMutualFundsSearch(i){this.mfSearchQuery=i.toLowerCase(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.sips&&(this.sips=i.sips,this.renderSips()),i.mfOrders&&(this.mfOrders=i.mfOrders,this.renderMfOrders()))}setCachedData(){this.userDataStateService.setState({sips:this.sips,mfOrders:this.mfOrders})}renderSips(){this.updateSipCount(),this.updateFilteredAndGroupedSips()}fetchSips(i){this.isLoadingData=!0,this.mfService.getSips().subscribe({next:r=>{this.sips=r.data,this.renderSips(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching sips. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}updateSipCount(){this.parentTabCounts.SIPs=this.sips.length}renderMfOrders(){this.updateMfOrderCount(),this.updateFilteredAndGroupedMutualFundOrders()}fetchMutualFundOrders(i){this.isLoadingData=!0,this.mfService.getOrders().subscribe({next:r=>{this.mfOrders=r.data,this.renderMfOrders(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching mutual fund orders. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,i&&i()}})}fetchHistoricalTimelineValues(i){this.utilsService.fetchHistoricalTimelineValues("sips").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}toggleChart(){this.showChart=!this.showChart}populateTimelineChartData(){let i=this.utilsService.populateSipsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.dateLabels=i.dateLabels,this.legendLabels=i.legendLabels,this.series=i.series}updateMfOrderCount(){let i=this.mfOrders.filter(o=>this.mfPendingStatus.indexOf(o.mfOrder.status)>-1).length,r=this.mfOrders.filter(o=>this.mfPendingStatus.indexOf(o.mfOrder.status)<0).length;this.parentTabCounts.Orders=i+r}calculateGroupSummary(i){let r=0,o=0,a=0,s=0,l=0,c=new Date,u=c.getMonth(),d=c.getFullYear();for(let f of i){let p=f?.mfSip;if(!p)continue;if(p.status==="PAUSED"){l+=1;continue}let v=p.instalmentAmount||0;r+=v;let _=new Date(p.lastInstalment);_.getMonth()===u&&_.getFullYear()===d&&_<c?o+=v:a+=1,p.status==="ACTIVE"&&(s+=1)}return{totalSipAmount:r,contributionThisMonth:o,upcomingSips:a,activeSips:s,pausedSips:l}}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedSips(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState(),this.populateTimelineChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedSips(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState(),this.populateTimelineChartData()}captureUsers(i){this.users=i}onSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedSips(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({mfSips:{selectedSectionType:this.activeParentTab,selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery,mfSearchQuery:this.mfSearchQuery,filterSelection:this.filterSelection,mfOrderFilterSelection:this.mfOrderFilterSelection}})}handleAction(i){i.action==="activate"||i.action==="pause"?this.updateSip(i.action,i.row):i.action==="info"?this.utilsService.showInfo(i.row,i.row.mfSip.fund):i.action==="coinReport"&&window.open(g5(i.row.mfSip.tradingsymbol),"_blank","noopener,noreferrer")}updateSip(i,r){let o={frequency:r.mfSip.frequency,day:r.mfSip.day,instalments:r.mfSip.instalments,amount:r.mfSip.amount,status:i==="activate"?"ACTIVE":"PAUSED",sipId:r.mfSip.sipId};this.mfService.updateSip(r.userId,r.mfSip.sipId,o).pipe(Vt(a=>we({error:!0,id:r.mfSip.sipId,message:a?.error?.message||"Unknown error"}))).subscribe({next:a=>{"error"in a&&a.error?(console.error("\u274C SIP update failed:",a),this.toastrService.error(`Account ID: ${r.userId}. SIP update for ${a.id} failed: ${a.message}`,"Error")):(this.toastrService.success(`Account ID: ${r.userId}. SIP updated successfully. SIP ID: ${r.mfSip.sipId}`,"Success"),this.sips=a.data,this.updateFilteredAndGroupedSips())},error:a=>{console.error("Fatal error:",a),this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All updates processed")}})}calculateSummary(){let i=this.calculateGroupSummary(this.filteredSips);this.totalSipAmount=i.totalSipAmount,this.contributionThisMonth=i.contributionThisMonth,this.upcomingSips=i.upcomingSips,this.activeSips=i.activeSips,this.pausedSips=i.pausedSips}calculateMfOrderSummary(){let i=this.calculateMfOrderGroupSummary(this.filteredMfOrders);this.totalBuyOrders=i.totalBuyOrders,this.totalBuyAmount=i.totalBuyAmount,this.totalSellOrders=i.totalSellOrders,this.totalSellAmount=i.totalSellAmount}calculateMfOrderGroupSummary(i){let r=0,o=0,a=0,s=0;for(let l of i){let c=l?.mfOrder;c&&(c.status==="COMPLETE"||c.status==="OPEN"||c.status==="PROCESSING")&&(c.transactionType==="BUY"?(r+=1,o+=c.amount):c.transactionType==="SELL"&&(a+=1,s+=c.amount))}return{totalBuyOrders:r,totalBuyAmount:o,totalSellOrders:a,totalSellAmount:s}}updateFilteredAndGroupedSips(){let i=this.sips;this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.mfSip.fund.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i)),this.filteredSips=i;let r={};this.filteredSips.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedSips=Object.entries(r).map(([o,a])=>X({userId:o,sips:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)},this.calculateGroupSummary(a))),this.calculateSummary()}applyMfSipFilters(i){this.filterSelection=i,this.updateFilteredAndGroupedSips(),this.saveUserViewState()}updateFilteredAndGroupedMutualFundOrders(){let i=this.mfOrders;this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.mfSearchQuery&&(i=i.filter(o=>o.mfOrder.fund.toLowerCase().includes(this.mfSearchQuery)||o.userId.toLowerCase().includes(this.mfSearchQuery))),this.mfOrderFilterSelection.length>0&&(i=this.utilsService.filter(this.mfOrderFilterSelection,i),i=this.filterCustomDayRange(i)),this.filteredMfOrders=i;let r={};i.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.mfGroupedOrders=Object.entries(r).map(([o,a])=>X({userId:o,orders:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)},this.calculateMfOrderGroupSummary(a))),this.calculateMfOrderSummary()}filterCustomDayRange(i){let r=this.mfOrderFilterSelection.find(o=>o.key==="custom.dayRange"&&o.selected.length>0);if(r){let o=new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate()),s=new Date(a);s.setDate(s.getDate()-s.getDay()+1);let l=new Date(o.getFullYear(),o.getMonth(),1),c=new Date(o.getFullYear(),o.getMonth()-1,1),u=new Date(o.getFullYear(),o.getMonth(),0);i=i.filter(d=>{let f=new Date(d.mfOrder.orderTimestamp);return r.selected.some(p=>p==="This Week"?f>=s&&f<=o:p==="This Month"?f>=l&&f<=o:p==="Last Month"?f>=c&&f<=u:!0)})}return i}applyMfOrderFilters(i){this.mfOrderFilterSelection=i,this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState()}handleRefreshForSips(i){this.fetchSips(i)}handleRefreshForMfOrders(i){this.fetchMutualFundOrders(i)}ngAfterViewInit(){}handleMfOrderAction(i){i.action==="info"?this.utilsService.showInfo(i.row,i.row.mfOrder.fund):i.action==="coinReport"&&window.open(g5(i.row.mfOrder.tradingsymbol),"_blank","noopener,noreferrer")}};t.\u0275fac=function(r){return new(r||t)(V(Cv),V(Bn),V(Tn),V(tt),V(En),V(Zn),V(Me))},t.\u0275cmp=ie({type:t,selectors:[["app-mf-sips"]],decls:2,vars:1,consts:[["noData",""],["noMfOrderData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[3,"totalSipAmount","contributionThisMonth","upcomingSips","activeSips","pausedSips"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","toggleChart","handleRefresh","isLoadingData","filterOptions","filterSelection","showChartButton"],["matTooltip","The Mutual Fund order screen displays orders placed within the last 2 months. Verify filters or search criteria if expected orders are not visible.","matTooltipPosition","right",1,"text-blue-500","cursor-help",3,"icon"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","groupedSips","fallbackAvatarUrl","actions"],[3,"type","dismissible","atCenter"],[3,"totalBuyOrders","totalBuyAmount","totalSellOrders","totalSellAmount"],[3,"filtersChanged","handleRefresh","filterOptions","filterSelection"],[3,"handleClickAction","groupedRows","actions"]],template:function(r,o){r&1&&(m(0,"div",2),A(1,hbe,6,3,"div",3),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[ze,ye,za,nr,gZ,vZ,yZ,Va,Oe,lr,_Z,Cu,ot,Ht],encapsulation:2,data:{animation:[Pi]}});let n=t;return n})();function gbe(n,t){n&1&&(m(0,"p",79),y(1,"Full name is required"),h())}function vbe(n,t){if(n&1&&(m(0,"div",77),A(1,gbe,2,0,"p",78),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.signUpForm.get("fullName"))==null||e.errors==null?null:e.errors.required)}}function ybe(n,t){n&1&&(m(0,"p",79),y(1,"Email is required"),h())}function _be(n,t){n&1&&(m(0,"p",79),y(1,"Please enter a valid email address"),h())}function bbe(n,t){if(n&1&&(m(0,"div",77),A(1,ybe,2,0,"p",78)(2,_be,2,0,"p",78),h()),n&2){let e,i,r=M(2);g(),x("ngIf",(e=r.signUpForm.get("email"))==null||e.errors==null?null:e.errors.required),g(),x("ngIf",(i=r.signUpForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function xbe(n,t){n&1&&(m(0,"p",79),y(1,"Password is required"),h())}function Cbe(n,t){if(n&1&&(m(0,"div",77),A(1,xbe,2,0,"p",78),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.signUpForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function Sbe(n,t){if(n&1&&F(0,"fa-icon",80),n&2){let e=M(2);x("icon",e.faSpinner)}}function wbe(n,t){if(n&1){let e=ee();m(0,"form",57),k("ngSubmit",function(){N(e);let r=M();return P(r.sendOtp())}),m(1,"div")(2,"label",58),y(3," Full Name "),m(4,"span",59),y(5,"*"),h()(),m(6,"div",41),F(7,"input",60),m(8,"div",61),Ut(),m(9,"svg",62),F(10,"path",63),h()()(),A(11,vbe,2,1,"div",64),h(),Ln(),m(12,"div")(13,"label",65),y(14," Email Address "),m(15,"span",59),y(16,"*"),h()(),m(17,"div",41)(18,"input",66),k("input",function(r){N(e);let o=M();return P(o.toLowerCase(r))}),h(),m(19,"div",61),Ut(),m(20,"svg",62),F(21,"path",67),h()()(),A(22,bbe,3,2,"div",64),h(),Ln(),m(23,"div")(24,"label",68),y(25," Password "),m(26,"span",59),y(27,"*"),h()(),m(28,"div",41),F(29,"input",69),m(30,"button",70),k("click",function(){N(e);let r=M();return P(r.showPassword=!r.showPassword)}),F(31,"fa-icon",71),h()(),A(32,Cbe,2,1,"div",64),h(),m(33,"div",72)(34,"p"),y(35,"Password must be between 8 and 20 characters."),h()(),m(36,"div",73),y(37," By creating an account, you agree to our "),m(38,"a",74),y(39,"Terms of Service"),h(),y(40," and "),m(41,"a",74),y(42,"Privacy Policy"),h(),y(43,". "),h(),m(44,"button",75),A(45,Sbe,1,1,"fa-icon",76),y(46),h()()}if(n&2){let e,i,r,o=M();x("formGroup",o.signUpForm),g(11),x("ngIf",((e=o.signUpForm.get("fullName"))==null?null:e.touched)&&((e=o.signUpForm.get("fullName"))==null?null:e.invalid)),g(11),x("ngIf",((i=o.signUpForm.get("email"))==null?null:i.touched)&&((i=o.signUpForm.get("email"))==null?null:i.invalid)),g(7),x("type",o.showPassword?"text":"password"),g(2),x("icon",o.showPassword?o.faEyeSlash:o.faEye),g(),x("ngIf",((r=o.signUpForm.get("password"))==null?null:r.touched)&&((r=o.signUpForm.get("password"))==null?null:r.invalid)),g(12),x("disabled",o.signUpForm.invalid||o.isSendingOtp),g(),x("ngIf",o.isSendingOtp),g(),q(" ",o.isSendingOtp?"Creating Account...":"Create Account & Send OTP"," ")}}function Mbe(n,t){n&1&&(m(0,"p",79),y(1,"OTP is required"),h())}function Tbe(n,t){if(n&1&&(m(0,"div",77),A(1,Mbe,2,0,"p",78),h()),n&2){let e,i=M(2);g(),x("ngIf",(e=i.otpForm.get("otp"))==null||e.errors==null?null:e.errors.required)}}function Ebe(n,t){if(n&1&&F(0,"fa-icon",80),n&2){let e=M(2);x("icon",e.faSpinner)}}function Dbe(n,t){if(n&1){let e=ee();m(0,"form",81),k("ngSubmit",function(){N(e);let r=M();return P(r.verifyOtp())}),m(1,"div",82)(2,"div",83),Ut(),m(3,"svg",84),F(4,"path",67),h()(),Ln(),m(5,"p",85),y(6," Verification code sent to: "),h(),m(7,"p",86),y(8),h()(),m(9,"div")(10,"label",87),y(11," Enter 6-digit OTP "),m(12,"span",59),y(13,"*"),h()(),F(14,"input",88),A(15,Tbe,2,1,"div",64),h(),m(16,"div",89)(17,"p"),y(18,"Didn't receive the code?"),h(),m(19,"div",90)(20,"button",91),k("click",function(){N(e);let r=M();return P(r.otpSent=!1)}),y(21," Change Email "),h()()(),m(22,"button",75),A(23,Ebe,1,1,"fa-icon",76),y(24),h()()}if(n&2){let e,i=M();x("formGroup",i.otpForm),g(8),j(i.signUpForm.value.email),g(7),x("ngIf",((e=i.otpForm.get("otp"))==null?null:e.touched)&&((e=i.otpForm.get("otp"))==null?null:e.invalid)),g(7),x("disabled",i.otpForm.invalid||i.isVerifyingOtp),g(),x("ngIf",i.isVerifyingOtp),g(),q(" ",i.isVerifyingOtp?"Verifying...":"Verify & Complete Registration"," ")}}var CZ=(()=>{let t=class t{constructor(i,r,o,a){this.fb=i,this.authUserService=r,this.toastrService=o,this.router=a,this.otpSent=!1,this.isSendingOtp=!1,this.isVerifyingOtp=!1,this.faSpinner=ko,this.showPassword=!1,this.faEye=fs,this.faEyeSlash=Yl,localStorage.removeItem("trade-manage-app-token"),this.authUserService.resetLoggingOutFlag(),this.signUpForm=this.fb.group({fullName:["",Ue.required],password:["",Ue.required],email:["",[Ue.required,Ue.email]]}),this.otpForm=this.fb.group({otp:["",Ue.required]})}sendOtp(){if(console.log("sendOtp() called"),this.isSendingOtp=!0,this.signUpForm.invalid){this.signUpForm.markAllAsTouched(),this.isSendingOtp=!1,console.log("Form is invalid, stopping submission");return}let i=this.signUpForm.value;console.log("Signup request:",i),console.log("Calling authUserService.sendSignupOtp()..."),this.authUserService.sendSignupOtp(i).subscribe({next:r=>{console.log("OTP sent successfully:",r),this.isSendingOtp=!1,this.toastrService.success("An OTP has been sent to your email address. Please check your inbox and spam folder.","Success"),this.otpSent=!0},error:r=>{console.error("Error sending OTP:",r),this.isSendingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while sending OTP. Verify that the backend service is operational.","Error")}})}verifyOtp(){if(this.isVerifyingOtp=!0,this.otpForm.invalid){this.otpForm.markAllAsTouched(),this.isVerifyingOtp=!1;return}let i=Ie(X({},this.signUpForm.value),{otp:this.otpForm.value.otp});this.authUserService.signup(i).subscribe({next:r=>{this.isVerifyingOtp=!1,this.router.navigate(["/login"]),this.toastrService.success("Account created! You can now log in.","Success")},error:r=>{this.isVerifyingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while registering user. Verify that the backend service is operational.","Error")}})}toLowerCase(i){let r=i.target;r.value=r.value.toLowerCase(),this.signUpForm.get("email")?.setValue(r.value,{emitEvent:!1})}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(ar),V(tt),V(un))},t.\u0275cmp=ie({type:t,selectors:[["app-signup"]],decls:107,vars:13,consts:[[1,"min-h-screen","bg-gradient-to-br","from-green-50","via-white","to-emerald-50"],[1,"flex","flex-col","lg:flex-row","min-h-screen"],[1,"lg:w-1/2","bg-gradient-to-br","from-emerald-600","via-green-700","to-teal-800","text-white","flex","flex-col","justify-center","p-8","lg:p-16"],[1,"max-w-md","mx-auto","lg:mx-0"],[1,"flex","items-center","mb-6"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","height","48","width","48",1,"w-12","h-10","rounded-lg","mr-3","shadow-lg","mb-4"],[1,"text-3xl","font-bold"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6","leading-tight"],[1,"text-green-200"],[1,"text-xl","text-green-100","mb-8","leading-relaxed"],[1,"space-y-4"],[1,"flex","items-center"],[1,"w-8","h-8","bg-green-500","rounded-full","flex","items-center","justify-center","mr-4"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["fill-rule","evenodd","d","M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],[1,"text-green-100"],["fill-rule","evenodd","d","M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z","clip-rule","evenodd"],["fill-rule","evenodd","d","M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"mt-12","p-6","bg-green-500/20","rounded-lg","border","border-green-400/30"],[1,"flex","items-start","space-x-4"],[1,"w-12","h-12","bg-green-400","rounded-full","flex","items-center","justify-center","text-green-800","font-bold","text-lg"],[1,"text-green-100","italic","mb-2"],[1,"text-green-200","text-sm"],[1,"grid","grid-cols-2","gap-6","mt-8","pt-8","border-t","border-green-500"],[1,"text-center"],[1,"text-3xl","font-bold","text-green-200"],[1,"text-sm","text-green-300"],[1,"lg:w-1/2","flex","items-center","justify-center","p-8","lg:p-16"],[1,"w-full","max-w-md"],[1,"mb-8"],[1,"flex","items-center","justify-center","space-x-4"],[1,"w-8","h-8","bg-green-600","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"ml-2","text-sm","font-medium"],[1,"w-8","border-t-2"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","space-y-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mt-8","mb-6"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-4","bg-white","text-gray-500"],["routerLink","/login",1,"w-full","bg-white","border-2","border-green-600","text-green-600","py-3","px-4","rounded-lg","font-medium","hover:bg-green-50","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-6","text-center"],[1,"text-xs","text-gray-500"],["href","mailto:support@famvest.com",1,"text-green-600","hover:text-green-500","underline"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"flex","items-center","justify-center","space-x-6","text-xs","text-gray-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-green-500"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-blue-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-purple-500"],["fill-rule","evenodd","d","M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z","clip-rule","evenodd"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","fullName",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["formControlName","fullName","type","text","id","fullName","name","fullName","placeholder","Enter your full name","required","","autocomplete","name",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["class","mt-2",4,"ngIf"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","email","type","text","id","email","name","email","placeholder","Enter your email address","required","","autocomplete","email",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all",3,"input"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","password","id","password","required","","placeholder","Create a strong password","autocomplete","new-password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all","pr-12",3,"type"],["type","button","tabindex","-1",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[1,"h-5","w-5",3,"icon"],[1,"text-xs","text-gray-500","space-y-1"],[1,"text-sm","text-gray-600","bg-gray-50","p-4","rounded-lg"],["href","#",1,"text-green-600","hover:text-green-500","underline"],["type","submit",1,"w-full","bg-gradient-to-r","from-green-600","to-green-700","text-white","py-3","px-4","rounded-lg","font-medium","hover:from-green-700","hover:to-green-800","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]","flex","items-center","justify-center","gap-2",3,"disabled"],["class","fa-spin",3,"icon",4,"ngIf"],[1,"mt-2"],["class","text-red-500 text-sm",4,"ngIf"],[1,"text-red-500","text-sm"],[1,"fa-spin",3,"icon"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"text-center","p-4","bg-green-50","rounded-lg","border","border-green-200"],[1,"flex","items-center","justify-center","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],[1,"text-sm","text-gray-700"],[1,"text-green-700","font-semibold"],["for","otp",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","otp","name","otp","formControlName","otp","placeholder","000000","required","","maxlength","6","autocomplete","one-time-code",1,"w-full","px-4","py-3","tracking-widest","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all"],[1,"text-center","text-sm","text-gray-500"],[1,"flex","items-center","justify-center","space-x-4","mt-2"],["type","button",1,"text-green-600","hover:text-green-500","underline",3,"click"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),F(5,"img",5),m(6,"h1",6),y(7,"FamVest"),h()(),m(8,"h2",7),y(9," Start Your"),F(10,"br"),m(11,"span",8),y(12,"Investment Journey"),h()(),m(13,"p",9),y(14," Join thousands of families who trust FamVest to manage their financial future. Get started with your free account today. "),h(),m(15,"div",10)(16,"div",11)(17,"div",12),Ut(),m(18,"svg",13),F(19,"path",14),h()(),Ln(),m(20,"span",15),y(21,"Free Account Setup"),h()(),m(22,"div",11)(23,"div",12),Ut(),m(24,"svg",13),F(25,"path",16),h()(),Ln(),m(26,"span",15),y(27,"Real-time Portfolio Tracking"),h()(),m(28,"div",11)(29,"div",12),Ut(),m(30,"svg",13),F(31,"path",17),h()(),Ln(),m(32,"span",15),y(33,"Encrypted Storage & Data Isolation"),h()()(),m(34,"div",18)(35,"div",19)(36,"div",20),y(37," R "),h(),m(38,"div")(39,"p",21),y(40,` "FamVest helped us organize our family's investments and track our progress towards financial goals. Highly recommended!" `),h(),m(41,"div",22)(42,"strong"),y(43,"Rajesh Kumar"),h(),y(44," \u2022 Family Investor "),h()()()(),m(45,"div",23)(46,"div",24)(47,"div",25),y(48,"2 Min"),h(),m(49,"div",26),y(50,"Quick Setup"),h()(),m(51,"div",24)(52,"div",25),y(53,"Free"),h(),m(54,"div",26),y(55,"Always Free Plan"),h()()()()(),m(56,"div",27)(57,"div",28)(58,"div",29)(59,"div",30)(60,"div",11)(61,"div",31),y(62," 1 "),h(),m(63,"span",32),y(64," Account Details "),h()(),F(65,"div",33),m(66,"div",11)(67,"div",34),y(68," 2 "),h(),m(69,"span",32),y(70," Verify Email "),h()()()(),m(71,"div",35)(72,"h2",36),y(73,"Create Your Account"),h(),m(74,"p",37),y(75),h()(),A(76,wbe,47,9,"form",38)(77,Dbe,25,6,"form",39),m(78,"div",40)(79,"div",41)(80,"div",42),F(81,"div",43),h(),m(82,"div",44)(83,"span",45),y(84,"Already have an account?"),h()()()(),m(85,"div",24)(86,"button",46),y(87," Sign In to Existing Account "),h()(),m(88,"div",47)(89,"p",48),y(90," Need help? Contact us at "),m(91,"a",49),y(92," famvest@hotmail.com "),h()(),m(93,"div",50)(94,"div",51)(95,"div",11),Ut(),m(96,"svg",52),F(97,"path",53),h(),y(98," SSL Secured "),h(),Ln(),m(99,"div",11),Ut(),m(100,"svg",54),F(101,"path",17),h(),y(102," Encrypted Storage "),h(),Ln(),m(103,"div",11),Ut(),m(104,"svg",55),F(105,"path",56),h(),y(106," Data Isolation "),h()()()()()()()()),r&2&&(g(61),Rn(o.otpSent?"bg-green-100 text-green-600":"bg-green-600 text-white"),g(2),Rn(o.otpSent?"text-gray-500":"text-green-600"),g(2),Rn(o.otpSent?"border-green-600":"border-gray-300"),g(2),Rn(o.otpSent?"bg-green-600 text-white":"bg-gray-300 text-gray-500"),g(2),Rn(o.otpSent?"text-green-600":"text-gray-500"),g(6),q(" ",o.otpSent?"We've sent a verification code to your email":"Join FamVest and start managing your investments"," "),g(),x("ngIf",!o.otpSent),g(),x("ngIf",o.otpSent))},dependencies:[ui,Or,Yt,Zt,Pr,mo,jc,_r,br,ye,kr,ot,Lo],encapsulation:2});let n=t;return n})();var Gr={home:"Home | FamVest App",watchlist:"Watchlist | FamVest App",holdings:"Holdings | FamVest App",positions:"Positions | FamVest App",orders:"Orders | FamVest App",basketOrder:"Basket Order | FamVest App",funds:"Funds | FamVest App",mf:"Mutual Funds | FamVest App",algo:"Algo | FamVest App",historicalData:"Historical Data | FamVest App",administration:"Administration | FamVest App",scheduledTasks:"Scheduled Tasks | FamVest App",applicationUsers:"Application Users | FamVest App",ipos:"IPOs | FamVest App",myProfile:"My Profile | FamVest App",login:"Login | FamVest App",signup:"Signup | FamVest App",settings:"Settings | FamVest App",notFound:"404 | Page Not Found"};var wu=(()=>{let t=class t{constructor(i){this.api=i}getStraddles(){return this.api.get("/v1/algo/straddles")}getStraddleExecutions(){return this.api.get("/v1/algo/straddles/executions")}getStraddleExecutionsByStraddleId(i){return this.api.get(`/v1/algo/straddles/executions/${i}`)}getStraddleExecutionPnlForToday(){return this.api.get("/v1/algo/straddles/executions/pnl")}updateStraddleStatus(i,r){return this.api.patch(`/v1/algo/straddles/${i}/status`,r)}executeStraddle(i){return this.api.post(`/v1/algo/straddles/${i}/execute`)}saveStraddleStrategy(i){return this.api.post("/v1/algo/straddles",i)}updateStraddleStrategy(i,r){return this.api.put(`/v1/algo/straddles/${i}`,r)}deleteStraddleStrategy(i){return this.api.delete(`/v1/algo/straddles/${i}`)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ibe(n,t){if(n&1&&(m(0,"option",54),y(1),h()),n&2){let e=t.$implicit;x("value",e.userId),g(),zi(" ",e.name," - ",e.userId," ")}}function Lbe(n,t){n&1&&(m(0,"p",55),y(1,"Trading Account is required."),h())}function Abe(n,t){n&1&&(m(0,"p",55),y(1,"Side is required."),h())}function zbe(n,t){n&1&&(m(0,"p",55),y(1,"Instrument is required."),h())}function kbe(n,t){n&1&&(m(0,"p",55),y(1,"Underlying Strike Selector is required."),h())}function Nbe(n,t){n&1&&(m(0,"p",55),y(1,"Underlying Segment is required."),h())}function Pbe(n,t){n&1&&(m(0,"p",55),y(1,"Exchange is required."),h())}function Obe(n,t){n&1&&(m(0,"p",55),y(1,"Trading Segment is required."),h())}function Rbe(n,t){n&1&&(m(0,"p",55),y(1,"Index is required."),h())}function Fbe(n,t){n&1&&(m(0,"p",55),y(1,"Strike Step is required."),h())}function Bbe(n,t){n&1&&(m(0,"p",55),y(1,"Lots are required."),h())}function Vbe(n,t){n&1&&(m(0,"p",55),y(1,"Entry Time is required."),h())}function Ube(n,t){n&1&&(m(0,"p",55),y(1,"Exit Time is required."),h())}function Hbe(n,t){n&1&&(m(0,"p",55),y(1,"Stop Loss is required."),h())}function jbe(n,t){n&1&&(m(0,"p",55),y(1,"Target Loss is required."),h())}function Gbe(n,t){n&1&&(m(0,"p",55),y(1,"Expiry Scope is required."),h())}function Wbe(n,t){n&1&&(m(0,"p",55),y(1,"Order Type is required."),h())}function qbe(n,t){n&1&&(m(0,"p",55),y(1,"Trade Type is required."),h())}function $be(n,t){n&1&&(m(0,"p",55),y(1,"Trade Type is required."),h())}var SZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c){this.fb=i,this.toastrService=r,this.dialogRef=o,this.algoService=a,this.userService=s,this.utilService=l,this.data=c,this.isEditMode=!1,this.users=[],this.id=0,c&&(this.isEditMode=!0),this.id=c?.id,this.straddleForm=this.fb.group({userId:[c?.userId||"",Ue.required],side:[c?.side||"SHORT",Ue.required],instrument:[{value:c?.instrument||"",disabled:this.isEditMode},Ue.required],underlyingStrikeSelector:[c?.underlyingStrikeSelector||"INDEX",Ue.required],underlyingSegment:[c?.underlyingSegment||"",Ue.required],exchange:[c?.exchange||"",Ue.required],tradingSegment:[c?.tradingSegment||"",Ue.required],index:[c?.index||"",Ue.required],strikeStep:[c?.strikeStep||"50",Ue.required],lots:[c?.lots||1,Ue.required],orderType:[c?.marketOrder===!1?"LIMIT":"MARKET",Ue.required],entryTime:[this.utilService.convertUtcTimeToLocal(c?.entryTime)||"09:30:00",Ue.required],exitTime:[this.utilService.convertUtcTimeToLocal(c?.exitTime)||"15:15:00",Ue.required],tradeType:[c?.paperTrade===!1?"LIVE":"PAPER",Ue.required],stopLoss:[c?.stopLoss||"",Ue.required],trailingSl:[c?.trailingSl===!0?"Yes":"No",Ue.required],target:[c?.target||"",Ue.required],expiryScope:[c?.expiryScope||"CURRENT",Ue.required]}),this.isEditMode&&(this.straddleForm.get("userId")?.disable(),this.straddleForm.get("instrument")?.disable()),this.straddleForm.get("instrument")?.valueChanges.subscribe(u=>{let d,f,p,v,_=this.straddleForm.get("underlyingStrikeSelector")?.value;(u==="NIFTY 50"||u==="NIFTY BANK")&&_==="INDEX"?(v="NSE",d="NSE",f="NFO-OPT",p=u==="NIFTY BANK"?"BANKNIFTY":"NIFTY"):(u==="NIFTY 50"||u==="NIFTY BANK")&&_==="FUTURE"?(v="NFO-FUT",d="NSE",f="NFO-OPT",p=u==="NIFTY BANK"?"BANKNIFTY":"NIFTY"):u==="SENSEX"&&_==="INDEX"?(v="BSE",d="BSE",f="BFO-OPT",p="SENSEX"):u==="SENSEX"&&_==="FUTURE"&&(v="BFO-FUT",d="BSE",f="BFO-OPT",p="SENSEX"),this.straddleForm.patchValue({underlyingSegment:v,exchange:d,tradingSegment:f,index:p})}),this.straddleForm.get("underlyingStrikeSelector")?.valueChanges.subscribe(u=>{let d=this.straddleForm.get("instrument")?.value,f;(d==="NIFTY 50"||d==="NIFTY BANK")&&u==="INDEX"?f="NSE":(d==="NIFTY 50"||d==="NIFTY BANK")&&u==="FUTURE"?f="NFO-FUT":d==="SENSEX"&&u==="INDEX"?f="BSE":d==="SENSEX"&&u==="FUTURE"&&(f="BFO-FUT"),this.straddleForm.patchValue({underlyingSegment:f})})}fetchUsers(){this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data.filter(r=>r.active)},error:i=>{this.toastrService.error(i.error.message,"Error"),console.error(i)}})}submit(){if(this.straddleForm.invalid){this.straddleForm.markAllAsTouched();return}let i=this.straddleForm.getRawValue();(this.isEditMode?this.algoService.updateStraddleStrategy(this.id,i):this.algoService.saveStraddleStrategy(i)).subscribe({next:()=>{this.toastrService.success(`Straddle strategy ${this.isEditMode?"updated":"created"} successfully.`,"Success"),this.dialogRef.close("submitted")},error:o=>{o.error.message?this.toastrService.error(o.error.message,"Error"):this.toastrService.error("An unexpected error occurred while adding straddle strategy. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}ngOnInit(){this.fetchUsers()}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(tt),V(Ni),V(wu),V(tr),V(En),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-add-manage-straddle-strategy"]],decls:187,vars:34,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"max-h-screen","overflow-auto","sm:overflow-visible"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","userId","required","",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","side","required","",1,"form-control"],["value","SHORT"],["value","LONG"],["formControlName","instrument","required","",1,"form-control"],["value","NIFTY 50"],["value","NIFTY BANK"],["value","SENSEX"],["formControlName","underlyingStrikeSelector","required","",1,"form-control"],["selected","","value","INDEX"],["value","FUTURE"],[3,"hidden"],["formControlName","underlyingSegment","type","text","required","",1,"form-control"],["formControlName","exchange","type","text","required","",1,"form-control"],["formControlName","tradingSegment","type","text","required","",1,"form-control"],["formControlName","index","type","text","required","",1,"form-control"],["formControlName","strikeStep","required","",1,"form-control"],["value","50"],["value","100"],["value","500"],["formControlName","lots","type","number","min","1","required","",1,"form-control"],["formControlName","entryTime","type","time","step","1","required","",1,"form-control"],["formControlName","exitTime","type","time","step","1","required","",1,"form-control"],["formControlName","stopLoss","type","number","step","100","min","100",1,"form-control"],["formControlName","target","type","number","step","100","min","100",1,"form-control"],["formControlName","expiryScope","required","",1,"form-control"],["value","CURRENT"],["value","NEXT"],["formControlName","orderType","required","",1,"form-control"],["value","MARKET"],["value","LIMIT"],["formControlName","tradeType","required","",1,"form-control"],["selected","","value","PAPER"],["value","LIVE"],["formControlName","trailingSl","required","",1,"form-control"],["selected","","value","No"],["value","Yes"],[1,"flex","flex-wrap","gap-2","mt-2","items-center"],[1,"mt-3",3,"text","color"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-4"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100",3,"click"],[3,"value"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(m(0,"div",0)(1,"div",1)(2,"span",2),y(3),h()(),m(4,"div",3)(5,"div",4)(6,"form",5),k("ngSubmit",function(){return o.submit()}),m(7,"div",6)(8,"div")(9,"label",7),y(10,"Trading Account "),m(11,"span",8),y(12,"*"),h()(),m(13,"select",9)(14,"option",10),y(15,"Select Account"),h(),A(16,Ibe,2,3,"option",11),h(),A(17,Lbe,2,0,"p",12),h(),m(18,"div")(19,"label",7),y(20,"Side "),m(21,"span",8),y(22,"*"),h()(),m(23,"select",13)(24,"option",14),y(25,"SHORT"),h(),m(26,"option",15),y(27,"LONG"),h()(),A(28,Abe,2,0,"p",12),h(),m(29,"div")(30,"label",7),y(31,"Instrument "),m(32,"span",8),y(33,"*"),h()(),m(34,"select",16)(35,"option",10),y(36,"Select Instrument"),h(),m(37,"option",17),y(38,"NIFTY 50"),h(),m(39,"option",18),y(40,"NIFTY BANK"),h(),m(41,"option",19),y(42,"SENSEX"),h()(),A(43,zbe,2,0,"p",12),h(),m(44,"div")(45,"label",7),y(46,"Underlying Strike Selector "),m(47,"span",8),y(48,"*"),h()(),m(49,"select",20)(50,"option",21),y(51,"INDEX"),h(),m(52,"option",22),y(53,"FUTURE"),h()(),A(54,kbe,2,0,"p",12),h(),m(55,"div",23)(56,"label",7),y(57,"Underlying Segment "),m(58,"span",8),y(59,"*"),h()(),F(60,"input",24),A(61,Nbe,2,0,"p",12),h(),m(62,"div",23)(63,"label",7),y(64,"Exchange "),m(65,"span",8),y(66,"*"),h()(),F(67,"input",25),A(68,Pbe,2,0,"p",12),h(),m(69,"div",23)(70,"label",7),y(71,"Trading Segment "),m(72,"span",8),y(73,"*"),h()(),F(74,"input",26),A(75,Obe,2,0,"p",12),h(),m(76,"div",23)(77,"label",7),y(78,"Index "),m(79,"span",8),y(80,"*"),h()(),F(81,"input",27),A(82,Rbe,2,0,"p",12),h(),m(83,"div")(84,"label",7),y(85,"Strike Step "),m(86,"span",8),y(87,"*"),h()(),m(88,"select",28)(89,"option",29),y(90,"50"),h(),m(91,"option",30),y(92,"100"),h(),m(93,"option",30),y(94,"200"),h(),m(95,"option",31),y(96,"500"),h()(),A(97,Fbe,2,0,"p",12),h(),m(98,"div")(99,"label",7),y(100,"Lots "),m(101,"span",8),y(102,"*"),h()(),F(103,"input",32),A(104,Bbe,2,0,"p",12),h(),m(105,"div")(106,"label",7),y(107,"Entry Time "),m(108,"span",8),y(109,"*"),h()(),F(110,"input",33),A(111,Vbe,2,0,"p",12),h(),m(112,"div")(113,"label",7),y(114,"Exit Time "),m(115,"span",8),y(116,"*"),h()(),F(117,"input",34),A(118,Ube,2,0,"p",12),h(),m(119,"div")(120,"label",7),y(121,"Stop Loss "),m(122,"span",8),y(123,"*"),h()(),F(124,"input",35),A(125,Hbe,2,0,"p",12),h(),m(126,"div")(127,"label",7),y(128,"Target "),m(129,"span",8),y(130,"*"),h()(),F(131,"input",36),A(132,jbe,2,0,"p",12),h(),m(133,"div")(134,"label",7),y(135,"Expiry Scope "),m(136,"span",8),y(137,"*"),h()(),m(138,"select",37)(139,"option",38),y(140,"Current"),h(),m(141,"option",39),y(142,"Next"),h()(),A(143,Gbe,2,0,"p",12),h(),m(144,"div")(145,"label",7),y(146,"Order Type "),m(147,"span",8),y(148,"*"),h()(),m(149,"select",40)(150,"option",41),y(151,"Market"),h(),m(152,"option",42),y(153,"Limit"),h()(),A(154,Wbe,2,0,"p",12),h(),m(155,"div")(156,"label",7),y(157,"Trade Type "),m(158,"span",8),y(159,"*"),h()(),m(160,"select",43)(161,"option",44),y(162,"PAPER"),h(),m(163,"option",45),y(164,"LIVE"),h()(),A(165,qbe,2,0,"p",12),h(),m(166,"div")(167,"label",7),y(168,"Trailing SL"),m(169,"span",8),y(170,"*"),h()(),m(171,"select",46)(172,"option",47),y(173,"No"),h(),m(174,"option",48),y(175,"Yes"),h()(),A(176,$be,2,0,"p",12),h(),m(177,"div",49),F(178,"app-small-chip",50)(179,"app-small-chip",50)(180,"app-small-chip",50)(181,"app-small-chip",50),h()(),m(182,"div",51)(183,"button",52),y(184),h(),m(185,"button",53),k("click",function(){return o.onClose()}),y(186," Cancel "),h()()()()()()),r&2){let a,s,l,c,u,d,f,p,v,_,b,C,w,E,D,L,z,R,H,W,$,G;g(3),q("",o.isEditMode?"Edit":"Create"," Straddle Strategy"),g(3),x("formGroup",o.straddleForm),g(10),x("ngForOf",o.users),g(),x("ngIf",((a=o.straddleForm.get("userId"))==null?null:a.touched)&&((a=o.straddleForm.get("userId"))==null?null:a.invalid)),g(11),x("ngIf",((s=o.straddleForm.get("side"))==null?null:s.touched)&&((s=o.straddleForm.get("side"))==null?null:s.invalid)),g(15),x("ngIf",((l=o.straddleForm.get("instrument"))==null?null:l.touched)&&((l=o.straddleForm.get("instrument"))==null?null:l.invalid)),g(11),x("ngIf",((c=o.straddleForm.get("underlyingStrikeSelector"))==null?null:c.touched)&&((c=o.straddleForm.get("underlyingStrikeSelector"))==null?null:c.invalid)),g(),x("hidden",!0),g(6),x("ngIf",((u=o.straddleForm.get("underlyingSegment"))==null?null:u.touched)&&((u=o.straddleForm.get("underlyingSegment"))==null?null:u.invalid)),g(),x("hidden",!0),g(6),x("ngIf",((d=o.straddleForm.get("exchange"))==null?null:d.touched)&&((d=o.straddleForm.get("exchange"))==null?null:d.invalid)),g(),x("hidden",!0),g(6),x("ngIf",((f=o.straddleForm.get("tradingSegment"))==null?null:f.touched)&&((f=o.straddleForm.get("tradingSegment"))==null?null:f.invalid)),g(),x("hidden",!0),g(6),x("ngIf",((p=o.straddleForm.get("index"))==null?null:p.touched)&&((p=o.straddleForm.get("index"))==null?null:p.invalid)),g(15),x("ngIf",((v=o.straddleForm.get("strikeStep"))==null?null:v.touched)&&((v=o.straddleForm.get("strikeStep"))==null?null:v.invalid)),g(7),x("ngIf",((_=o.straddleForm.get("lots"))==null?null:_.touched)&&((_=o.straddleForm.get("lots"))==null?null:_.invalid)),g(7),x("ngIf",((b=o.straddleForm.get("entryTime"))==null?null:b.touched)&&((b=o.straddleForm.get("entryTime"))==null?null:b.invalid)),g(7),x("ngIf",((C=o.straddleForm.get("exitTime"))==null?null:C.touched)&&((C=o.straddleForm.get("exitTime"))==null?null:C.invalid)),g(7),x("ngIf",((w=o.straddleForm.get("stopLoss"))==null?null:w.touched)&&((w=o.straddleForm.get("stopLoss"))==null?null:w.invalid)),g(7),x("ngIf",((E=o.straddleForm.get("target"))==null?null:E.touched)&&((E=o.straddleForm.get("target"))==null?null:E.invalid)),g(11),x("ngIf",((D=o.straddleForm.get("expiryScope"))==null?null:D.touched)&&((D=o.straddleForm.get("expiryScope"))==null?null:D.invalid)),g(11),x("ngIf",((L=o.straddleForm.get("orderType"))==null?null:L.touched)&&((L=o.straddleForm.get("orderType"))==null?null:L.invalid)),g(11),x("ngIf",((z=o.straddleForm.get("tradeType"))==null?null:z.touched)&&((z=o.straddleForm.get("tradeType"))==null?null:z.invalid)),g(11),x("ngIf",((R=o.straddleForm.get("tradeType"))==null?null:R.touched)&&((R=o.straddleForm.get("tradeType"))==null?null:R.invalid)),g(2),x("text",(H=o.straddleForm.get("exchange"))==null?null:H.value)("color","gray"),g(),x("text",(W=o.straddleForm.get("tradingSegment"))==null?null:W.value)("color","gray"),g(),x("text",($=o.straddleForm.get("index"))==null?null:$.value)("color","gray"),g(),x("text",(G=o.straddleForm.get("underlyingSegment"))==null?null:G.value)("color","gray"),g(3),q(" ",o.isEditMode?"Update":"Create"," ")}},dependencies:[ui,Or,Ia,La,Yt,Uc,Ao,Zt,Pr,mo,Hc,_r,br,or,rr,ze,mn,ye],encapsulation:2});let n=t;return n})();var Ybe=(n,t)=>({"bg-green-50":n,"bg-red-50":t});function Zbe(n,t){if(n&1&&(m(0,"option",33),y(1),h()),n&2){let e=t.$implicit,i=M();x("value",e),g(),q(" ",i.getMonthLabel(e)," ")}}function Xbe(n,t){n&1&&(m(0,"div",34),F(1,"div",35),h())}function Qbe(n,t){n&1&&(m(0,"div",36),Ut(),m(1,"svg",37),F(2,"path",38),h(),Ln(),m(3,"p",39),y(4,"No executions found matching the selected filters."),h()())}function Kbe(n,t){if(n&1&&(m(0,"tr",46)(1,"td",47),F(2,"app-small-chip",48),h(),m(3,"td",47),y(4),h(),m(5,"td",49),y(6),Y(7,"istDate"),h(),m(8,"td",49),y(9),Y(10,"istDate"),h(),m(11,"td",49),y(12),h(),m(13,"td",49),y(14),h(),m(15,"td",49),y(16),h(),m(17,"td",49),y(18),h(),m(19,"td",49),y(20),h(),m(21,"td",49),y(22),h(),m(23,"td",50),y(24),h()()),n&2){let e=t.$implicit,i=M(2);x("ngClass",gt(20,Ybe,e.exitPnl>0,e.exitPnl<0)),g(2),x("text",i.getTradeType(e))("color",i.getTradeTypeChipColor(e)),g(2),j(i.formatDate(e.executionDate)),g(2),j(J(7,14,e.createdAt,"time-no-mod")||"-"),g(3),j(J(10,17,e.exitedAt,"time-no-mod")||"-"),g(3),j(e.callStrike||"-"),g(2),j(e.putStrike||"-"),g(2),j(i.formatCurrency(e.callEntryPrice)),g(2),j(i.formatCurrency(e.callExitPrice)),g(2),j(i.formatCurrency(e.putEntryPrice)),g(2),j(i.formatCurrency(e.putExitPrice)),g(),x("ngClass",i.getPnlClass(e.exitPnl)),g(),q(" ",i.formatCurrency(e.exitPnl)," ")}}function Jbe(n,t){if(n&1&&(m(0,"div",40)(1,"table",41)(2,"thead",42)(3,"tr")(4,"th",43),y(5,"Type"),h(),m(6,"th",43),y(7,"Date"),h(),m(8,"th",43),y(9,"Entry Time"),h(),m(10,"th",43),y(11,"Exit Time"),h(),m(12,"th",43),y(13,"CE Strike"),h(),m(14,"th",43),y(15,"PE Strike"),h(),m(16,"th",43),y(17,"CE Entry Price"),h(),m(18,"th",43),y(19,"CE Exit Price"),h(),m(20,"th",43),y(21,"PE Entry Price"),h(),m(22,"th",43),y(23,"PE Exit Price"),h(),m(24,"th",43),y(25,"P&L"),h()()(),m(26,"tbody",44),A(27,Kbe,25,23,"tr",45),h()()()),n&2){let e=M();g(27),x("ngForOf",e.filteredExecutions)}}var wZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.algoService=i,this.toastrService=r,this.utilsService=o,this.dialogRef=a,this.data=s,this.executions=[],this.filteredExecutions=[],this.isLoading=!0,this.profitLossFilter="all",this.typeFilter="all",this.selectedMonth="all",this.availableMonths=[],this.summary={totalExecutions:0,profitableExecutions:0,lossExecutions:0,totalPnl:0,totalProfit:0,totalLoss:0,avgPnl:0,winRate:0},this.straddleId=s.straddleId,this.strategyName=s.strategyName||`Straddle #${this.straddleId}`}ngOnInit(){this.fetchExecutions()}fetchExecutions(){this.isLoading=!0,this.algoService.getStraddleExecutionsByStraddleId(this.straddleId).subscribe({next:i=>{this.executions=(i.data||[]).filter(r=>r.exitPnl!==null&&r.exitPnl!==void 0),this.extractAvailableMonths(),this.availableMonths.length>0&&(this.selectedMonth=this.availableMonths[0]),this.calculateSummary(),this.applyFilters(),this.isLoading=!1},error:i=>{this.toastrService.error(i?.error?.message||"Failed to fetch executions","Error"),this.isLoading=!1}})}extractAvailableMonths(){let i=new Set;this.executions.forEach(r=>{if(r.executionDate){let o=new Date(r.executionDate),a=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;i.add(a)}}),this.availableMonths=Array.from(i).sort().reverse()}getTradeType(i){return i.paperTrade?"PAPER":"LIVE"}getTradeTypeChipColor(i){return i.paperTrade?"orange":"green"}calculateSummary(){this.summary.totalExecutions=this.filteredExecutions.length,this.summary.profitableExecutions=0,this.summary.lossExecutions=0,this.summary.totalPnl=0,this.summary.totalProfit=0,this.summary.totalLoss=0,this.filteredExecutions.forEach(i=>{let r=i.exitPnl||0;this.summary.totalPnl+=r,r>0?(this.summary.profitableExecutions++,this.summary.totalProfit+=r):r<0&&(this.summary.lossExecutions++,this.summary.totalLoss+=r)}),this.summary.avgPnl=this.summary.totalExecutions>0?this.summary.totalPnl/this.summary.totalExecutions:0,this.summary.winRate=this.summary.totalExecutions>0?this.summary.profitableExecutions/this.summary.totalExecutions*100:0}applyFilters(){let i=[...this.executions];this.profitLossFilter==="profit"?i=i.filter(r=>(r.exitPnl||0)>0):this.profitLossFilter==="loss"&&(i=i.filter(r=>(r.exitPnl||0)<0)),this.typeFilter==="live"?i=i.filter(r=>!r.paperTrade):this.typeFilter==="paper"&&(i=i.filter(r=>r.paperTrade)),this.selectedMonth!=="all"&&(i=i.filter(r=>{if(r.executionDate){let o=new Date(r.executionDate);return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`===this.selectedMonth}return!1})),this.filteredExecutions=i,this.calculateSummary()}onFilterChange(){this.applyFilters()}formatDate(i){return i?this.utilsService.formatCustomDate(new Date(i)):"-"}formatCurrency(i){return i==null?"-":"\u20B9"+i.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}getPnlClass(i){return i>0?"text-green-600 font-semibold":i<0?"text-red-600 font-semibold":"text-gray-600"}getMonthLabel(i){if(i==="all")return"All Months";let[r,o]=i.split("-");return new Date(parseInt(r),parseInt(o)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})}onClose(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(V(wu),V(tt),V(En),V(Ni),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-straddle-executions-dialog"]],decls:89,vars:20,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"flex","flex-col","h-full","w-full","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-4","py-3","border-b","cursor-move","flex-shrink-0"],[1,"text-lg","font-medium","text-gray-600"],[1,"px-6","py-4","bg-gray-50","border-b","flex-shrink-0"],[1,"grid","grid-cols-2","md:grid-cols-4","lg:grid-cols-7","gap-4"],[1,"bg-white","rounded-md","p-3","shadow-sm"],[1,"text-xs","text-gray-500","uppercase","font-medium"],[1,"text-lg","font-medium","text-gray-800","mt-1"],[1,"text-lg","font-medium","text-green-600","mt-1"],[1,"text-lg","font-medium","text-red-600","mt-1"],[1,"text-lg","font-medium","mt-1",3,"ngClass"],[1,"text-lg","font-medium","text-blue-600","mt-1"],[1,"px-6","py-4","bg-white","border-b","flex-shrink-0"],[1,"flex","flex-wrap","gap-4","items-center"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-medium","text-gray-700"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value","all"],["value","profit"],["value","loss"],["value","live"],["value","paper"],[3,"value",4,"ngFor","ngForOf"],[1,"ml-auto","text-sm","text-gray-600"],[1,"font-semibold"],[1,"flex-1","min-h-0","overflow-auto","px-6","py-4"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","rounded-md border border-gray-200 overflow-auto max-h-[60vh]",4,"ngIf"],["cdkDragHandle","",1,"flex","justify-between","items-center","px-4","py-3","border-t","cursor-move","flex-shrink-0"],[1,"text-sm","text-gray-600","uppercase"],[1,"font-medium",3,"ngClass"],[1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-100","text-sm",3,"click"],[3,"value"],[1,"flex","items-center","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"mt-2","text-sm","text-gray-600"],[1,"rounded-md","border","border-gray-200","overflow-auto","max-h-[60vh]"],[1,"w-full","text-sm","text-left"],[1,"bg-gray-100","text-gray-700","uppercase","text-xs","sticky","top-0","z-10"],[1,"px-4","py-3","font-semibold","whitespace-nowrap"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition-colors",3,"ngClass",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition-colors",3,"ngClass"],[1,"px-4","py-3","font-medium","text-gray-900","whitespace-nowrap"],[3,"text","color"],[1,"px-4","py-3","text-gray-700","whitespace-nowrap"],[1,"px-4","py-3","whitespace-nowrap",3,"ngClass"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"span",2),y(3),h()(),m(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),y(8,"Total"),h(),m(9,"div",7),y(10),h()(),m(11,"div",5)(12,"div",6),y(13,"Wins"),h(),m(14,"div",8),y(15),h()(),m(16,"div",5)(17,"div",6),y(18,"Losses"),h(),m(19,"div",9),y(20),h()(),m(21,"div",5)(22,"div",6),y(23,"Total P&L"),h(),m(24,"div",10),y(25),h()(),m(26,"div",5)(27,"div",6),y(28,"Total Profit"),h(),m(29,"div",8),y(30),h()(),m(31,"div",5)(32,"div",6),y(33,"Total Loss"),h(),m(34,"div",9),y(35),h()(),m(36,"div",5)(37,"div",6),y(38,"Win Rate"),h(),m(39,"div",11),y(40),h()()()(),m(41,"div",12)(42,"div",13)(43,"div",14)(44,"label",15),y(45,"Show:"),h(),m(46,"select",16),bt("ngModelChange",function(s){return Mt(o.profitLossFilter,s)||(o.profitLossFilter=s),s}),k("change",function(){return o.onFilterChange()}),m(47,"option",17),y(48,"All Executions"),h(),m(49,"option",18),y(50,"Only Profits"),h(),m(51,"option",19),y(52,"Only Losses"),h()()(),m(53,"div",14)(54,"label",15),y(55,"Type:"),h(),m(56,"select",16),bt("ngModelChange",function(s){return Mt(o.typeFilter,s)||(o.typeFilter=s),s}),k("change",function(){return o.onFilterChange()}),m(57,"option",17),y(58,"All Types"),h(),m(59,"option",20),y(60,"Live Only"),h(),m(61,"option",21),y(62,"Paper Only"),h()()(),m(63,"div",14)(64,"label",15),y(65,"Month:"),h(),m(66,"select",16),bt("ngModelChange",function(s){return Mt(o.selectedMonth,s)||(o.selectedMonth=s),s}),k("change",function(){return o.onFilterChange()}),m(67,"option",17),y(68,"All Months"),h(),A(69,Zbe,2,2,"option",22),h()(),m(70,"div",23),y(71," Showing "),m(72,"span",24),y(73),h(),y(74," of "),m(75,"span",24),y(76),h(),y(77," executions "),h()()(),m(78,"div",25),A(79,Xbe,2,0,"div",26)(80,Qbe,5,0,"div",27)(81,Jbe,28,1,"div",28),h(),m(82,"div",29)(83,"div",30),y(84," Average P&L: "),m(85,"span",31),y(86),h()(),m(87,"button",32),k("click",function(){return o.onClose()}),y(88," Close "),h()()()),r&2&&(g(3),q("Execution History - ",o.strategyName),g(7),j(o.summary.totalExecutions),g(5),j(o.summary.profitableExecutions),g(5),j(o.summary.lossExecutions),g(4),x("ngClass",o.getPnlClass(o.summary.totalPnl)),g(),q(" ",o.formatCurrency(o.summary.totalPnl)," "),g(5),j(o.formatCurrency(o.summary.totalProfit)),g(5),j(o.formatCurrency(o.summary.totalLoss)),g(5),q("",o.summary.winRate.toFixed(1),"%"),g(6),_t("ngModel",o.profitLossFilter),g(10),_t("ngModel",o.typeFilter),g(10),_t("ngModel",o.selectedMonth),g(3),x("ngForOf",o.availableMonths),g(4),j(o.filteredExecutions.length),g(3),j(o.executions.length),g(3),x("ngIf",o.isLoading),g(),x("ngIf",!o.isLoading&&o.filteredExecutions.length===0),g(),x("ngIf",!o.isLoading&&o.filteredExecutions.length>0),g(4),x("ngClass",o.getPnlClass(o.summary.avgPnl)),g(),j(o.formatCurrency(o.summary.avgPnl)))},dependencies:[ze,ye,Oe,o0,or,rr,pn,Ia,La,Ao,Zt,Gi,mn,ei],styles:[".overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"]});let n=t;return n})();function exe(n,t){n&1&&(m(0,"div",1)(1,"p",2),y(2,"No straddles to display"),h()())}function txe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("side"))}}function nxe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("instrument"))}}function ixe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("expiryScope"))}}function rxe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("underlyingStrikeSelector"))}}function oxe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("lots"))}}function axe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("entryTime"))}}function sxe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("exitTime"))}}function lxe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("target"))}}function cxe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("stopLoss"))}}function uxe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function dxe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("tradeType"))}}function fxe(n,t){n&1&&(m(0,"span",29),y(1,"TSL"),h())}function pxe(n,t){if(n&1){let e=ee();At(0),m(1,"tr",19)(2,"td",20),F(3,"app-small-chip",21),h(),m(4,"td",20)(5,"span",22),y(6),h()(),m(7,"td",20)(8,"span",22),y(9),h()(),m(10,"td",23),y(11),h(),m(12,"td",23),y(13),h(),m(14,"td",23),y(15),Y(16,"istDate"),h(),m(17,"td",23),y(18),Y(19,"istDate"),h(),m(20,"td",24)(21,"span",25),y(22),Y(23,"currency"),h()(),m(24,"td",24)(25,"span",26),y(26),Y(27,"currency"),A(28,fxe,2,0,"span",27),h()(),m(29,"td",20),F(30,"app-small-chip",21),h(),m(31,"td",20),F(32,"app-small-chip",21),h(),m(33,"td",24)(34,"app-action-menu",28),k("handleAction",function(r){N(e);let o=M(3);return P(o.handleAction(r))}),h()()(),zt()}if(n&2){let e=t.$implicit,i=M(3);g(3),x("text",e.side)("color",i.getStraddleSideChipColor(e.side)),g(3),j(e.instrument),g(3),j(e.expiryScope),g(2),q(" ",e.underlyingStrikeSelector," "),g(2),q(" ",e.lots," "),g(2),q(" ",J(16,17,e.entryTime,"time-no-mod")," "),g(3),q(" ",J(19,20,e.exitTime,"time-no-mod")," "),g(4),j(st(23,23,e.target,"INR","symbol","1.0-0")),g(4),q(" ",st(27,28,e.stopLoss,"INR","symbol","1.0-0")," "),g(2),x("ngIf",e.trailingSl),g(2),x("text",e.isActive?"ACTIVE":"PAUSED")("color",i.getStatusChipColor(e)),g(2),x("text",i.getTradeType(e))("color",i.getTradeTypeChipColor(e)),g(2),x("row",e)("actions",i.getActionButtons(e))}}function mxe(n,t){n&1&&(m(0,"tr")(1,"td",30),F(2,"div",31),h()())}function hxe(n,t){if(n&1&&(At(0),m(1,"tr",15)(2,"td",16),F(3,"app-user-info-header",17),h()(),A(4,pxe,35,33,"ng-container",13)(5,mxe,3,0,"tr",18),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(),x("ngForOf",e.straddles)("ngForTrackBy",r.trackById),g(),x("ngIf",!i)}}function gxe(n,t){if(n&1){let e=ee();m(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("side"))}),y(6," SIDE "),A(7,txe,2,1,"span",8),h()(),m(8,"th",6)(9,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("instrument"))}),y(10," INSTRUMENT "),A(11,nxe,2,1,"span",8),h()(),m(12,"th",6)(13,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("expiryScope"))}),y(14," EXPIRY "),A(15,ixe,2,1,"span",8),h()(),m(16,"th",6)(17,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("underlyingStrikeSelector"))}),y(18," STRIKE SELECTOR "),A(19,rxe,2,1,"span",8),h()(),m(20,"th",6)(21,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("lots"))}),y(22," LOTS "),A(23,oxe,2,1,"span",8),h()(),m(24,"th",6)(25,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("entryTime"))}),y(26," ENTRY TIME "),A(27,axe,2,1,"span",8),h()(),m(28,"th",6)(29,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("exitTime"))}),y(30," EXIT TIME "),A(31,sxe,2,1,"span",8),h()(),m(32,"th",9)(33,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("target"))}),y(34," TARGET "),A(35,lxe,2,1,"span",8),h()(),m(36,"th",9)(37,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("stopLoss"))}),y(38," STOP LOSS "),A(39,cxe,2,1,"span",8),h()(),m(40,"th",6)(41,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("status"))}),y(42," STATUS "),A(43,uxe,2,1,"span",8),h()(),m(44,"th",6)(45,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("tradeType"))}),y(46," TRADE TYPE "),A(47,dxe,2,1,"span",8),h()(),m(48,"th",11),y(49,"ACTIONS"),h()()(),m(50,"tbody",12),A(51,hxe,6,8,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("side")),g(4),x("ngIf",e.getSortIndicator("instrument")),g(4),x("ngIf",e.getSortIndicator("expiryScope")),g(4),x("ngIf",e.getSortIndicator("underlyingStrikeSelector")),g(4),x("ngIf",e.getSortIndicator("lots")),g(4),x("ngIf",e.getSortIndicator("entryTime")),g(4),x("ngIf",e.getSortIndicator("exitTime")),g(4),x("ngIf",e.getSortIndicator("target")),g(4),x("ngIf",e.getSortIndicator("stopLoss")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("tradeType")),g(4),x("ngForOf",e.sortedGroupedStraddles)("ngForTrackBy",e.trackByUser)}}var MZ=(()=>{let t=class t{constructor(){this.groupedStraddles=[],this.handleClickAction=new be,this.actions=[],this.fallbackAvatarUrl="",this.sortColumn="status",this.sortDirection="asc",this.sortAccessors={instrument:i=>i.instrument?.toString().toLowerCase()??"",side:i=>i.side?.toString().toLowerCase()??"",target:i=>i.target??0,stopLoss:i=>i.stopLoss??0,expiryScope:i=>i.expiryScope?.toString().toLowerCase()??"",lots:i=>i.lots??0,status:i=>i.isActive?"active":"paused",tradeType:i=>i.paperTrade?"paper":"live",entryTime:i=>i.entryTime??0,exitTime:i=>i.exitTime??0,underlyingStrikeSelector:i=>i.underlyingStrikeSelector?.toString().toLowerCase()??""}}get sortedGroupedStraddles(){return!this.sortColumn||!this.sortDirection?this.groupedStraddles:this.groupedStraddles.map(i=>Ie(X({},i),{straddles:[...i.straddles??[]].sort((r,o)=>this.compareRows(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["status","entryTime"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}getActionButtons(i){return i.isActive?this.actions.filter(r=>r.action!=="activate"):this.actions.filter(r=>r.action!=="pause")}getStatusChipColor(i){return i.isActive?"green":"orange"}getTradeTypeChipColor(i){return i.paperTrade?"orange":"green"}getStraddleSideChipColor(i){switch(i){case"LONG":return"blue";case"SHORT":return"red";default:return"gray"}}trackById(i,r){return r.id}trackByUser(i,r){return r.userId}handleAction(i){this.handleClickAction.emit(i)}getTradeType(i){return i.paperTrade?"PAPER":"LIVE"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-algo-straddle-strategy-table"]],inputs:{groupedStraddles:"groupedStraddles",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","12",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[3,"text","color"],[1,"text-gray-700"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[1,"text-green-600"],[1,"text-red-600"],["class","text-blue-600 text-xs",4,"ngIf"],[3,"handleAction","row","actions"],[1,"text-blue-600","text-xs"],["colspan","12",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,exe,3,0,"div",1)(2,gxe,52,13,"div"),h()),r&2&&(g(),Wt(!o.groupedStraddles||o.groupedStraddles.length===0?1:2))},dependencies:[ze,mn,jr,ye,Oo,Ci,ei],encapsulation:2});let n=t;return n})();var vxe=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function yxe(n,t){n&1&&F(0,"span",9)}function _xe(n,t){if(n&1){let e=ee();m(0,"div",6),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.setActiveParentTab(r))}),y(1),m(2,"span",7),y(3),h(),A(4,yxe,1,0,"span",8),h()}if(n&2){let e=t.$implicit,i=M(2);Te("active-tab",e===i.activeParentTab)("text-gray-700",e!==i.activeParentTab),g(),q(" ",e," "),g(),x("ngClass",gt(8,vxe,e===i.activeParentTab,e!==i.activeParentTab)),g(),q(" ",i.parentTabCounts[e]," "),g(),x("ngIf",e===i.activeParentTab)}}function bxe(n,t){if(n&1){let e=ee();m(0,"div",20)(1,"app-algo-straddle-strategy-table",21),k("handleClickAction",function(r){N(e);let o=M(3);return P(o.handleStraddleActions(r))}),h()()}if(n&2){let e=M(3);g(),x("groupedStraddles",e.groupedStraddles)("fallbackAvatarUrl",e.fallbackAvatarUrl)("actions",e.straddleActions)}}function xxe(n,t){n&1&&(m(0,"div",20)(1,"app-note",22),y(2," You don\u2019t have any straddles. Check your filters or search criteria and request token status for the trading accounts. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function Cxe(n,t){if(n&1){let e=ee();m(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),k("handleRefresh",function(r){N(e);let o=M(2);return P(o.handleRefreshForStraddles(r))}),h(),m(4,"button",13),k("click",function(){N(e);let r=M(2);return P(r.createManageStraddleStrategy(null))}),F(5,"fa-icon",14),h()(),F(6,"div",15),m(7,"div",16)(8,"app-user-filter",17),k("selectAllUsers",function(){N(e);let r=M(2);return P(r.onAllUserSelection())})("selectUsers",function(r){N(e);let o=M(2);return P(o.onUserSelection(r))})("totalUsers",function(r){N(e);let o=M(2);return P(o.captureUsers(r))}),h()(),m(9,"div",16)(10,"app-search-input",18),k("inputChange",function(r){N(e);let o=M(2);return P(o.onStraddleSearch(r))}),h()()(),A(11,bxe,2,3,"div",19)(12,xxe,3,3,"ng-template",null,0,Wn),h()}if(n&2){let e=An(13),i=M(2);g(5),x("icon",i.faPlus),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search straddle strategies by User ID or Instrument")("searchTerm",i.searchQuery),g(),x("ngIf",i.groupedStraddles.length>0)("ngIfElse",e)}}function Sxe(n,t){n&1&&F(0,"div")}function wxe(n,t){if(n&1&&(m(0,"div")(1,"div",3)(2,"div",4),A(3,_xe,5,11,"div",5),h()(),A(4,Cxe,14,6,"div",2)(5,Sxe,1,0,"div",2),h()),n&2){let e=M();g(3),x("ngForOf",e.parentTabs),g(),x("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[0]),g(),x("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[1])}}var TZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u){this.algoService=i,this.alertService=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.utilsService=l,this.dialog=c,this.document=u,this.users=[],this.straddles=[],this.filteredStraddles=[],this.groupedStraddles=[],this.errorMessage="",this.parentTabs=["Straddles"],this.activeParentTab="Straddles",this.parentTabCounts={Straddles:0,ORB:0},this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=ci,this.straddleActions=[{action:"modify",color:"blue",label:"Modify Straddle"},{action:"activate",color:"blue",label:"Activate Straddle"},{action:"pause",color:"orange",label:"Pause Straddle"},{action:"execute",color:"blue",label:"Execute Straddle"},{action:"delete",color:"red",label:"Delete Straddle"},{action:"viewExecutions",color:"gray",label:"Execution History"},{action:"info",color:"gray",label:"Straddle Details"}],this.faPlus=_2}ngOnInit(){this.cellTemplates={};let i=this.userViewStateService.getState();i.straddles&&(this.activeParentTab=i.straddles.selectedSectionType,this.selectedUserIds=i.straddles.selectedUsersIds,this.searchQuery=i.straddles.searchQuery),this.getCachedData(),this.fetchStraddles()}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}setActiveParentTab(i){this.activeParentTab=i,this.saveUserViewState()}onStraddleSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.straddles&&(this.straddles=i.straddles,this.renderStraddles()))}setCachedData(){this.userDataStateService.setState({straddles:this.straddles})}fetchStraddles(i){this.algoService.getStraddles().subscribe({next:r=>{this.straddles=r.data,this.renderStraddles(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching straddles. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{i&&i()}})}renderStraddles(){this.updateStraddlesCount(),this.updateFilteredAndGroupedStraddles()}updateStraddlesCount(){this.parentTabCounts.Straddles=this.straddles.length}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}captureUsers(i){this.users=i}saveUserViewState(){this.userViewStateService.setState({straddles:{selectedSectionType:this.activeParentTab,selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery}})}updateFilteredAndGroupedStraddles(){let i=this.straddles;this.selectedUserIds.length>0&&(i=i.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(i=i.filter(o=>o.instrument.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filteredStraddles=i;let r={};i.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedStraddles=Object.entries(r).map(([o,a])=>({userId:o,straddles:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}handleRefreshForStraddles(i){this.fetchStraddles(i)}handleStraddleActions(i){i.action==="modify"?this.createManageStraddleStrategy(i.row):(i.action==="activate"||i.action==="pause")&&this.toggleStraddleStrategyStatus(i.action,i.row),i.action==="execute"?this.executeStraddle(i.row):i.action==="delete"?this.deleteStraddleStrategy(i.row):i.action==="info"?this.utilsService.showInfo(i.row,i.row.instrument):i.action==="viewExecutions"&&this.viewStraddleExecutions(i.row)}createManageStraddleStrategy(i){this.dialog.open(SZ,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:i}).afterClosed().subscribe(o=>{this.fetchStraddles()})}toggleStraddleStrategyStatus(i,r){this.algoService.updateStraddleStatus(r.id,{status:i}).subscribe({next:o=>{this.toastrService.success(o.message,"Success"),this.fetchStraddles()},error:o=>{this.toastrService.error(o.error.message,"Error"),console.error(o)}})}deleteStraddleStrategy(i){this.alertService.confirm("Delete Straddle Strategy","Are you sure you want to delete this straddle strategy?",()=>{this.algoService.deleteStraddleStrategy(i.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchStraddles()},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}executeStraddle(i){this.alertService.confirm("Execute Straddle Strategy","Are you sure you want to execute this straddle now? Note: This action will force immediate execution, ignoring the configured entry time and strategy status.",()=>{this.algoService.executeStraddle(i.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success")},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}viewStraddleExecutions(i){this.dialog.open(wZ,{disableClose:!1,autoFocus:!1,hasBackdrop:!0,closeOnNavigation:!0,data:{straddleId:i.id,strategyName:`${i.instrument} - ${i.userId}`}}).afterClosed().subscribe(o=>{})}ngOnDestroy(){}};t.\u0275fac=function(r){return new(r||t)(V(wu),V(Fo),V(Bn),V(Tn),V(tt),V(En),V(Zn),V(Me))},t.\u0275cmp=ie({type:t,selectors:[["app-algo"]],decls:2,vars:1,consts:[["noStraddlesData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex","items-center","gap-3","flex-shrink-0"],[3,"handleRefresh"],["matTooltip","Create Straddle Strategy",1,"px-3","py-2","rounded-md","bg-green-500","text-white","hover:bg-green-600","shadow-sm","transition-all","flex","items-center","gap-2",3,"click"],[1,"text-white",3,"icon"],[1,"flex-1"],[1,"flex-shrink-0"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","groupedStraddles","fallbackAvatarUrl","actions"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(m(0,"div",1),A(1,wxe,6,3,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[ze,ye,za,nr,Va,lr,ot,Ht,Oe,MZ],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 138px);min-height:calc(100vh - var(--header-height, 80px) - 138px)}"],data:{animation:[Pi]}});let n=t;return n})();var EZ=(()=>{let t=class t{constructor(i){this.api=i}getHistoricalCandleData(i){return this.api.post("/v1/history/candles",i)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Txe(n,t){n&1&&(m(0,"p",22),y(1,"Instrument Token is required."),h())}function Exe(n,t){if(n&1){let e=ee();m(0,"div",25),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.selectInstrument(r))}),m(1,"div",26)(2,"div",27),y(3),h(),m(4,"div",28),y(5),h()()()}if(n&2){let e=t.$implicit;g(3),j(e.displayName),g(2),j(e.segment)}}function Dxe(n,t){if(n&1&&(m(0,"div",23),A(1,Exe,6,2,"div",24),h()),n&2){let e=M();g(),x("ngForOf",e.fetchedInstruments)}}function Ixe(n,t){if(n&1&&(m(0,"option",29),y(1),h()),n&2){let e=t.$implicit;x("value",e),g(),j(e)}}function Lxe(n,t){n&1&&(m(0,"p",22),y(1,"Interval is required."),h())}function Axe(n,t){n&1&&(m(0,"p",22),y(1,"From is required."),h())}function zxe(n,t){n&1&&(m(0,"p",22),y(1,"To is required."),h())}var DZ=(()=>{let t=class t{constructor(i,r,o,a,s,l){this.fb=i,this.document=r,this.toastrService=o,this.userViewStateService=a,this.watchlistService=s,this.historicalCandleDataService=l,this.intervals=["minute","3minute","5minute","10minute","15minute","30minute","60minute","day"],this.fetchedInstruments=[],this.searchTermChanged=new me,this.searchTerm="",this.faSearch=ql,this.historicalForm=this.fb.group({instrument:["",Ue.required],instrumentToken:["",Ue.required],interval:["5minute",Ue.required],from:["",Ue.required],to:["",Ue.required],continuous:[!1],oi:[!1]})}submit(){if(this.historicalForm.invalid){this.historicalForm.markAllAsTouched();return}let i=Ie(X({},this.historicalForm.value),{from:new Date(this.historicalForm.value.from).toISOString(),to:new Date(this.historicalForm.value.to).toISOString()});this.historicalCandleDataService.getHistoricalCandleData(i).subscribe({next:r=>{let o=new Blob([r.message],{type:"text/csv"}),a=document.createElement("a"),s=window.URL.createObjectURL(o);a.href=s,a.download="historical_data.csv",a.click(),window.URL.revokeObjectURL(s)},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching historical candle data. Verify that the backend service is operational.","Error")}})}ngOnInit(){this.searchTermChanged.pipe(ea(300),c1()).subscribe(i=>{this.searchInstruments(i)})}searchInstruments(i){this.watchlistService.searchInstruments(i.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastrService.error(r.error.message,"Error")}})}selectInstrument(i){this.historicalForm.patchValue({instrument:`${i.displayName} (${i.exchange})`,instrumentToken:i.instrumentToken}),this.fetchedInstruments=[]}onSearchTermChange(i){let r=i.target.value;this.searchTermChanged.next(r)}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(Me),V(tt),V(Bn),V(Su),V(EZ))},t.\u0275cmp=ie({type:t,selectors:[["app-historical-data"]],decls:48,vars:7,consts:[[1,"page-container"],[1,"text-gray-600","mb-6"],[1,"max-w-4xl","w-full","mx-auto","bg-white","rounded-md","shadow","p-4","space-y-4","text-gray-700"],[1,"text-lg","font-semibold","text-center"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"relative","mt-2"],[1,"block","text-sm","font-medium"],[1,"text-red-500"],["type","text","formControlName","instrument","placeholder","Search and add eg: infy, nifty fut, etc","required","",1,"form-control",3,"input"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mt-2 bg-white border border-gray-300 rounded-md shadow-sm max-h-60 overflow-auto",4,"ngIf"],["formControlName","interval","required","",1,"form-control","w-full","mt-1"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],["formControlName","from","type","datetime-local","required","",1,"form-control","w-full","mt-1"],["formControlName","to","type","datetime-local","required","",1,"form-control","w-full","mt-1"],[1,"flex","items-center","gap-2"],["type","checkbox","formControlName","continuous","id","continuous"],["for","continuous",1,"text-sm"],["type","checkbox","formControlName","oi","id","oi"],["for","oi",1,"text-sm"],["type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-2","rounded-md","transition"],[1,"text-red-500","text-sm","mt-1"],[1,"mt-2","bg-white","border","border-gray-300","rounded-md","shadow-sm","max-h-60","overflow-auto"],["class","px-3 py-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-gray-700"],[1,"text-xs","text-gray-400"],[3,"value"]],template:function(r,o){if(r&1&&(m(0,"div",0)(1,"p",1),y(2,"Download and analyze historical market data. Select instruments, set time ranges, and customize intervals to study price movements and trends."),h(),m(3,"div",2)(4,"h2",3),y(5,"Download Historical Data"),h(),m(6,"form",4),k("ngSubmit",function(){return o.submit()}),m(7,"div",5)(8,"label",6),y(9,"Instrument Token "),m(10,"span",7),y(11,"*"),h()(),m(12,"input",8),k("input",function(s){return o.onSearchTermChange(s)}),h(),A(13,Txe,2,0,"p",9),h(),A(14,Dxe,2,1,"div",10),m(15,"div")(16,"label",6),y(17,"Interval "),m(18,"span",7),y(19,"*"),h()(),m(20,"select",11),A(21,Ixe,2,2,"option",12),h(),A(22,Lxe,2,0,"p",9),h(),m(23,"div",13)(24,"div")(25,"label",6),y(26,"From "),m(27,"span",7),y(28,"*"),h()(),F(29,"input",14),A(30,Axe,2,0,"p",9),h(),m(31,"div")(32,"label",6),y(33,"To "),m(34,"span",7),y(35,"*"),h()(),F(36,"input",15),A(37,zxe,2,0,"p",9),h()(),m(38,"div",16),F(39,"input",17),m(40,"label",18),y(41,"Get Continuous Data"),h()(),m(42,"div",16),F(43,"input",19),m(44,"label",20),y(45,"Get OI Data"),h()(),m(46,"button",21),y(47," Download Data "),h()()()()),r&2){let a,s,l,c;g(6),x("formGroup",o.historicalForm),g(7),x("ngIf",((a=o.historicalForm.get("instrument"))==null?null:a.touched)&&((a=o.historicalForm.get("instrument"))==null?null:a.invalid)),g(),x("ngIf",o.fetchedInstruments.length>0),g(7),x("ngForOf",o.intervals),g(),x("ngIf",((s=o.historicalForm.get("interval"))==null?null:s.touched)&&((s=o.historicalForm.get("interval"))==null?null:s.invalid)),g(8),x("ngIf",((l=o.historicalForm.get("from"))==null?null:l.touched)&&((l=o.historicalForm.get("from"))==null?null:l.invalid)),g(7),x("ngIf",((c=o.historicalForm.get("to"))==null?null:c.touched)&&((c=o.historicalForm.get("to"))==null?null:c.invalid))}},dependencies:[ui,Or,Ia,La,Yt,m2,Ao,Zt,Pr,mo,_r,br,ze,ye],encapsulation:2});let n=t;return n})();var IZ=(()=>{let t=class t{constructor(i,r){this.auth=i,this.router=r}canActivate(){return!!this.auth.isAdmin()}};t.\u0275fac=function(r){return new(r||t)(ae(ar),ae(un))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function kxe(n,t){if(n&1&&(m(0,"div",9),F(1,"img",10),h()),n&2){let e=M();g(),x("ngSrc",e.getAvatarUrl(e.selectedUserId)||e.fallbackAvatarUrl)("alt",e.getUserName(e.selectedUserId))}}function Nxe(n,t){n&1&&(m(0,"div",17),y(1," No users found "),h())}function Pxe(n,t){n&1&&(m(0,"div",25),y(1," Token Invalid "),h())}function Oxe(n,t){if(n&1){let e=ee();m(0,"div",18)(1,"button",19),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.selectUserById(r.userId))}),F(2,"img",20),m(3,"div",21)(4,"div",22),y(5),h(),m(6,"div",23),y(7),h(),A(8,Pxe,2,0,"div",24),h()()()}if(n&2){let e=t.$implicit,i=M(2);g(),Te("opacity-50",e.tokenStatus!=="Valid")("cursor-not-allowed",e.tokenStatus!=="Valid"),g(),x("ngSrc",(e.profile==null?null:e.profile.avatarURL)||i.fallbackAvatarUrl)("alt",e.name),g(3),j((e.profile==null?null:e.profile.userName)||e.name),g(2),j(e.userId),g(),x("ngIf",e.tokenStatus!=="Valid")}}function Rxe(n,t){if(n&1){let e=ee();m(0,"div",11)(1,"div",12)(2,"input",13),bt("ngModelChange",function(r){N(e);let o=M();return Mt(o.searchTerm,r)||(o.searchTerm=r),P(r)}),k("input",function(){N(e);let r=M();return P(r.onSearchChange())}),h()(),m(3,"div",14),A(4,Nxe,2,0,"div",15)(5,Oxe,9,9,"div",16),h()()}if(n&2){let e=M();g(2),_t("ngModel",e.searchTerm),g(2),x("ngIf",e.getFilteredUsers().length===0),g(),x("ngForOf",e.getFilteredUsers())}}function Fxe(n,t){if(n&1){let e=ee();m(0,"div",26),k("click",function(){N(e);let r=M();return P(r.closeDropdown())}),h()}}var Sv=(()=>{let t=class t{constructor(i,r){this.userService=i,this.userDataStateService=r,this.users=[],this.filteredUsers=[],this.selectedUserId="",this.placeholder="Select Trading Account",this.selectedUserIdChange=new be,this.selectUser=new be,this.totalUsers=new be,this.isDropdownOpen=!1,this.searchTerm="",this.fallbackAvatarUrl=ci}ngOnInit(){this.fetchTradingAccounts()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.users&&(this.users=i.users,this.filteredUsers=[...this.users],this.totalUsers.emit(this.users))}setCachedData(){this.userDataStateService.setState({users:this.users})}fetchTradingAccounts(){this.getCachedData(),this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data.filter(r=>r.active),this.filteredUsers=[...this.users],this.totalUsers.emit(i.data),this.setCachedData()}})}selectUserById(i){this.getUserByUserId(i)?.tokenStatus==="Valid"&&(this.selectedUserId=i,this.selectUser.emit(i),this.selectedUserIdChange.emit(i),this.closeDropdown())}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&(this.searchTerm="",this.filteredUsers=[...this.users])}closeDropdown(){this.isDropdownOpen=!1,this.searchTerm=""}onSearchChange(){let i=this.searchTerm.toLowerCase().trim();i?this.filteredUsers=this.users.filter(r=>r.name.toLowerCase().includes(i)||r.userId.toLowerCase().includes(i)):this.filteredUsers=[...this.users]}getFilteredUsers(){return this.filteredUsers}getSelectionText(){if(!this.selectedUserId)return this.placeholder;let i=this.getUserByUserId(this.selectedUserId);return(i?.profile?.userName||i?.name)+" - "+i?.userId}getAvatarUrl(i){return this.getUserByUserId(i)?.profile?.avatarURL||null}getUserName(i){let r=this.getUserByUserId(i);return r?.profile?.userName||r?.name||i}getSelectedUser(){return this.getUserByUserId(this.selectedUserId)}getUserByUserId(i){return this.users.find(r=>r.userId===i)}};t.\u0275fac=function(r){return new(r||t)(V(tr),V(Tn))},t.\u0275cmp=ie({type:t,selectors:[["app-user-dropdown"]],inputs:{selectedUserId:"selectedUserId",placeholder:"placeholder"},outputs:{selectedUserIdChange:"selectedUserIdChange",selectUser:"selectUser",totalUsers:"totalUsers"},decls:10,vars:6,consts:[[1,"relative","w-full"],[1,"w-full","flex","items-center","justify-between","gap-2","px-3","py-2","border","border-gray-300","rounded-md","bg-white","hover:bg-gray-50","focus:outline-none","text-sm","transition-all",3,"click"],[1,"flex","items-center","gap-2","flex-1","min-w-0"],["class","flex-shrink-0",4,"ngIf"],[1,"truncate","text-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform","flex-shrink-0","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-96 overflow-hidden",4,"ngIf"],["class","fixed inset-0 z-40",3,"click",4,"ngIf"],[1,"flex-shrink-0"],["width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc","alt"],[1,"absolute","left-0","right-0","mt-2","bg-white","border","border-gray-200","rounded-md","shadow-lg","z-50","max-h-96","overflow-hidden"],[1,"p-3","border-b","border-gray-200"],["type","text","placeholder","Search users...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-100","focus:border-blue-100","text-sm",3,"ngModelChange","input","ngModel"],[1,"max-h-60","overflow-y-auto"],["class","p-4 text-center text-gray-500 text-sm",4,"ngIf"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-4","text-center","text-gray-500","text-sm"],[1,"p-2"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-3","transition-colors",3,"click"],["width","32","height","32",1,"w-8","h-8","rounded-full","object-cover","flex-shrink-0",3,"ngSrc","alt"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-700","truncate"],[1,"text-xs","text-gray-500","truncate"],["class","text-xs text-red-500",4,"ngIf"],[1,"text-xs","text-red-500"],[1,"fixed","inset-0","z-40",3,"click"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"button",1),k("click",function(){return o.toggleDropdown()}),m(2,"div",2),A(3,kxe,2,2,"div",3),m(4,"span",4),y(5),h()(),Ut(),m(6,"svg",5),F(7,"path",6),h()(),A(8,Rxe,6,3,"div",7)(9,Fxe,1,0,"div",8),h()),r&2&&(g(3),x("ngIf",o.selectedUserId),g(2),q(" ",o.getSelectionText()," "),g(),Te("rotate-180",o.isDropdownOpen),g(2),x("ngIf",o.isDropdownOpen),g(),x("ngIf",o.isDropdownOpen))},dependencies:[We,ze,ye,kr,pn,Yt,Zt,Gi],encapsulation:2});let n=t;return n})();var f0=(()=>{let t=class t{constructor(i){this.api=i}getIPOs(){return this.api.get("/v1/ipos")}getIPOApplications(){return this.api.get("/v1/ipos/applications")}getVPA(i){return this.api.get(`/v1/ipos/${i}/vpa`)}submitIpoApplication(i,r){return this.api.post(`/v1/ipos/${i}/applications`,r)}cancelIpoApplication(i,r){return this.api.delete(`/v1/ipos/${i}/applications/${r}`)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var DD=n=>({"border-red-500":n}),ED=()=>({standalone:!0});function Bxe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"istDate"),h()),n&2){let e=M();g(),j(J(2,1,e.ipo.start_at,"date-ordinal"))}}function Vxe(n,t){n&1&&(m(0,"span"),y(1,"TBA"),h())}function Uxe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"istDate"),h()),n&2){let e=M();g(),j(J(2,1,e.ipo.end_at,"date-ordinal"))}}function Hxe(n,t){n&1&&(m(0,"span"),y(1,"TBA"),h())}function jxe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"istDate"),h()),n&2){let e=M();g(),j(J(2,1,e.ipo.allotment_finalisation_date,"date-ordinal"))}}function Gxe(n,t){n&1&&(m(0,"span"),y(1,"TBA"),h())}function Wxe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"istDate"),h()),n&2){let e=M();g(),j(J(2,1,e.ipo.listing_date,"date-ordinal"))}}function qxe(n,t){n&1&&(m(0,"span"),y(1,"TBA"),h())}function $xe(n,t){n&1&&(m(0,"span",31),y(1," Please enter a valid UPI ID "),h())}function Yxe(n,t){if(n&1&&(m(0,"span",32),y(1),h()),n&2){let e=M();g(),q(" ",e.vpaName," ")}}function Zxe(n,t){if(n&1){let e=ee();m(0,"button",44),k("click",function(){N(e);let r=M().index,o=M();return P(o.removeBid(r))}),F(1,"fa-icon",45),h()}if(n&2){let e=M(2);x("disabled",e.bids.length<=1)("matTooltip",e.bids.length<=1?"At least one bid is required":"Remove bid"),g(),x("icon",e.faTrash)}}function Xxe(n,t){if(n&1&&(m(0,"span",31),y(1),h()),n&2){let e=M(2);g(),q(" Min: ",e.getLotsMinQty()," ")}}function Qxe(n,t){n&1&&(m(0,"span",31),y(1," Invalid price "),h())}function Kxe(n,t){if(n&1){let e=ee();m(0,"div",33)(1,"div",34)(2,"span",35),y(3),h(),A(4,Zxe,2,3,"button",36),h(),m(5,"div",37)(6,"div")(7,"label",38),y(8),h(),m(9,"input",39),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.quantity,r)||(o.quantity=r),P(r)}),k("ngModelChange",function(){N(e);let r=M();return P(r.calculateAmountPayable())}),h(),A(10,Xxe,2,1,"span",19),h(),m(11,"div")(12,"label",38),y(13),Y(14,"number"),Y(15,"number"),h(),m(16,"input",40),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.price,r)||(o.price=r),P(r)}),k("ngModelChange",function(){N(e);let r=M();return P(r.calculateAmountPayable())}),h(),A(17,Qxe,2,0,"span",19),h()(),m(18,"div",41)(19,"input",42),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.auto_cutoff,r)||(o.auto_cutoff=r),P(r)}),k("change",function(){let r=N(e).index,o=M();return P(o.onCutoffPriceToggle(r))}),h(),m(20,"label",43),y(21),Y(22,"number"),h()()()}if(n&2){let e=t.$implicit,i=t.index,r=M();g(3),q("Bid ",i+1),g(),x("ngIf",r.bids.length>1),g(3),x("for",Al("quantity-",i)),g(),q("Quantity (Min: ",r.getLotsMinQty(),")"),g(),x("id",Al("quantity-",i)),_t("ngModel",e.quantity),x("ngModelOptions",If(40,ED))("ngClass",_i(41,DD,e.quantity>0&&e.quantity<r.getLotsMinQty())),g(),x("ngIf",e.quantity>0&&e.quantity<r.getLotsMinQty()),g(2),x("for",Al("price-",i)),g(),zi("Price (\u20B9",J(14,31,r.getMinPrice(),"1.0-2")," - \u20B9",J(15,34,r.getMaxPrice(),"1.0-2"),")"),g(3),x("id",Al("price-",i)),_t("ngModel",e.price),x("ngModelOptions",If(43,ED))("ngClass",_i(44,DD,e.quantity>0&&e.price>0&&(e.price<r.getMinPrice()||e.price>r.getMaxPrice())))("min",r.getMinPrice())("max",r.getMaxPrice())("disabled",e.auto_cutoff),g(),x("ngIf",e.quantity>0&&e.price>0&&(e.price<r.getMinPrice()||e.price>r.getMaxPrice())),g(2),x("id",Al("cutoff-",i)),_t("ngModel",e.auto_cutoff),x("ngModelOptions",If(46,ED)),g(),x("for",Al("cutoff-",i)),g(),q(" Apply Cutoff Price (\u20B9",J(22,37,r.getMaxPrice(),"1.0-2"),") ")}}function Jxe(n,t){if(n&1){let e=ee();m(0,"button",46),k("click",function(){N(e);let r=M();return P(r.addBid())}),F(1,"fa-icon",45),y(2),h()}if(n&2){let e=M();g(),x("icon",e.faPlus),g(),zi(" Add Bid (",e.bids.length,"/",e.maxBids,") ")}}var LZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.fb=i,this.toastrService=r,this.dialogRef=o,this.iposService=a,this.data=s,this.applicationSubmitted=new be,this.vpaName="",this.selectedTradingAccountId="",this.bids=[{quantity:0,price:0,auto_cutoff:!1}],this.totalAmountPayable=0,this.faTrash=$l,this.faPlus=_2,this.maxBids=3,this.isLoadingVPA=!1,this.isSubmitting=!1,this.vpaData=null,this.ipo=s.ipo,this.bids[0]={quantity:this.ipo.min_qty||1,price:this.ipo.investor_types[0].max_price,auto_cutoff:!0},this.applyForm=this.fb.group({upiId:["",[Ue.required,Ue.pattern(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+$/)]]})}ngOnInit(){this.calculateAmountPayable()}calculateAmountPayable(){this.totalAmountPayable=0,this.bids.forEach(i=>{if(i.quantity>0){let r=i.auto_cutoff?this.ipo.investor_types[0].max_price:i.price;r>0?this.totalAmountPayable+=i.quantity*r:i.auto_cutoff&&(this.totalAmountPayable+=i.quantity*this.ipo.investor_types[0].max_price)}})}onCutoffPriceToggle(i){this.bids[i].price=this.getMaxPrice(),this.calculateAmountPayable()}getMinPrice(){return this.ipo.investor_types?.[0]?.min_price||0}getMaxPrice(){return this.ipo.investor_types?.[0]?.max_price||0}getLotsMinQty(){return this.ipo.min_qty||1}isValidBid(i){return i.quantity===0?!0:i.quantity<this.getLotsMinQty()?!1:i.auto_cutoff||i.price>=this.getMinPrice()&&i.price<=this.getMaxPrice()}addBid(){this.bids.length<this.maxBids&&this.bids.push({quantity:0,price:0,auto_cutoff:!1})}removeBid(i){this.bids.length>1&&(this.bids.splice(i,1),this.calculateAmountPayable())}canAddBid(){return this.bids.length<this.maxBids}fetchVPAId(i){i&&(this.isLoadingVPA=!0,this.iposService.getVPA(i).subscribe({next:r=>{this.vpaData=r.data,r.data?.vpa?(this.applyForm.get("upiId")?.setValue(r.data.vpa),this.vpaName=r.data.name||""):(this.applyForm.get("upiId")?.setValue(""),this.vpaName=""),this.isLoadingVPA=!1},error:r=>{this.isLoadingVPA=!1,this.applyForm.get("upiId")?.setValue(""),this.vpaName="",console.error("Error fetching VPA:",r),this.toastrService.error("Failed to fetch VPA details","Error")}}))}submit(){if(!this.selectedTradingAccountId){this.toastrService.error("Please select a trading account.","Validation Error");return}if(this.applyForm.invalid){this.applyForm.markAllAsTouched(),this.toastrService.error("Please fill in the required fields correctly.","Validation Error");return}if(!this.bids.some(o=>o.quantity>0)){this.toastrService.error("Please enter at least one bid.","Validation Error");return}for(let o=0;o<this.bids.length;o++)if(!this.isValidBid(this.bids[o])){this.toastrService.error(`Bid ${o+1} is invalid. Check quantity and price range.`,"Validation Error");return}let r={upi_id:this.applyForm.get("upiId")?.value,instrument_id:this.ipo.id,investor_type:"IND",bids:this.bids.filter(o=>o.quantity>0)};this.isSubmitting=!0,this.iposService.submitIpoApplication(this.selectedTradingAccountId,r).subscribe({next:o=>{this.isSubmitting=!1,this.toastrService.success(o?.data?.message,"Success"),this.applicationSubmitted.emit(),this.dialogRef.close({success:!0,data:o.data})},error:o=>{this.isSubmitting=!1,console.error("Error submitting IPO application:",o);let a=o?.error?.message||"Failed to submit IPO application";this.toastrService.error(a,"Error")}})}getIpoStatusChipColor(i){switch(i){case"ongoing":case"preapply":return"green";case"upcoming":return"orange";default:return"gray"}}getIpoType(i){return i==="IPO"?"MAINBOARD":"SME"}onClose(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(tt),V(Ni),V(f0),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-ipo-apply-dialog"]],outputs:{applicationSubmitted:"applicationSubmitted"},decls:103,vars:43,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"text-sm","text-blue-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","p-4","max-h-[70vh]","overflow-y-auto"],[1,"space-y-4"],[1,"font-semibold","text-gray-700","border-b","pb-2"],[1,"space-y-3","text-sm"],[1,"flex","justify-between","items-center"],[1,"text-gray-400"],[1,"text-gray-700"],[3,"text","color"],[4,"ngIf"],[1,"space-y-4",3,"formGroup"],["for","trading-account-dropdown",1,"text-gray-600","text-sm","block","mb-1"],[1,"text-red-500"],["id","trading-account-dropdown",3,"selectedUserIdChange","selectUser","selectedUserId","placeholder"],["for","upi-id",1,"text-gray-600","text-sm","block","mb-1"],["id","upi-id","type","text","formControlName","upiId","placeholder","e.g., yourname@upi",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"disabled","ngClass"],["class","text-red-500 text-sm",4,"ngIf"],["class","text-green-600 text-sm",4,"ngIf"],[1,"space-y-3"],[1,"text-gray-600","text-sm","block"],["class","border border-gray-200 rounded-md p-3 bg-gray-50 space-y-2",4,"ngFor","ngForOf"],["type","button","class","w-full py-2 border-2 border-dashed border-blue-300 text-blue-600 rounded-md hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-sm font-medium",3,"click",4,"ngIf"],[1,"bg-blue-50","p-3","rounded-md","border","border-blue-200"],[1,"text-gray-700","font-medium"],[1,"text-lg","font-bold","text-blue-600"],["cdkDragHandle","",1,"w-full","flex","flex-col","sm:flex-row","gap-3","pt-2","cdk-drag-handle","items-stretch","justify-between","p-4","border-b","cursor-move"],["type","button",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-red-500","text-sm"],[1,"text-green-600","text-sm"],[1,"border","border-gray-200","rounded-md","p-3","bg-gray-50","space-y-2"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-sm","font-medium","text-gray-700"],["type","button","class","text-red-500 hover:text-red-600 text-sm",3,"disabled","matTooltip","click",4,"ngIf"],[1,"grid","grid-cols-2","gap-2"],[1,"text-gray-600","text-sm",3,"for"],["type","number","placeholder","Qty","min","0",1,"w-full","px-2","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","text-sm",3,"ngModelChange","id","ngModel","ngModelOptions","ngClass"],["type","number","placeholder","Price","step","0.01",1,"w-full","px-2","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","text-sm",3,"ngModelChange","id","ngModel","ngModelOptions","ngClass","min","max","disabled"],[1,"flex","items-center"],["type","checkbox",1,"rounded","border-gray-300",3,"ngModelChange","change","ngModel","ngModelOptions","id"],[1,"text-gray-600","text-sm","ml-2","cursor-pointer",3,"for"],["type","button",1,"text-red-500","hover:text-red-600","text-sm",3,"click","disabled","matTooltip"],[1,"text-sm",3,"icon"],["type","button",1,"w-full","py-2","border-2","border-dashed","border-blue-300","text-blue-600","rounded-md","hover:bg-blue-50","transition-colors","flex","items-center","justify-center","gap-2","text-sm","font-medium",3,"click"]],template:function(r,o){if(r&1&&(m(0,"div",0)(1,"div",1)(2,"span",2),y(3,"Apply for IPO"),h(),m(4,"span",3),y(5),h()(),m(6,"div",4)(7,"div",5)(8,"h3",6),y(9,"IPO Details"),h(),m(10,"div",7)(11,"div",8)(12,"span",9),y(13,"Symbol:"),h(),m(14,"span",10),y(15),h()(),m(16,"div",8)(17,"span",9),y(18,"Company Name:"),h(),m(19,"span",10),y(20),h()(),m(21,"div",8)(22,"span",9),y(23,"IPO Type:"),h(),F(24,"app-small-chip",11),h(),m(25,"div",8)(26,"span",9),y(27,"Price Range:"),h(),m(28,"span",10),y(29),Y(30,"number"),Y(31,"number"),h()(),m(32,"div",8)(33,"span",9),y(34,"Minimum Lot Qty:"),h(),m(35,"span",10),y(36),h()(),m(37,"div",8)(38,"span",9),y(39,"Subscription Start:"),h(),m(40,"span",10),A(41,Bxe,3,4,"span",12)(42,Vxe,2,0,"span",12),h()(),m(43,"div",8)(44,"span",9),y(45,"Subscription End:"),h(),m(46,"span",10),A(47,Uxe,3,4,"span",12)(48,Hxe,2,0,"span",12),h()(),m(49,"div",8)(50,"span",9),y(51,"Allotment Date:"),h(),m(52,"span",10),A(53,jxe,3,4,"span",12)(54,Gxe,2,0,"span",12),h()(),m(55,"div",8)(56,"span",9),y(57,"Listing Date:"),h(),m(58,"span",10),A(59,Wxe,3,4,"span",12)(60,qxe,2,0,"span",12),h()(),m(61,"div",8)(62,"span",9),y(63,"Status:"),h(),m(64,"span",10),F(65,"app-small-chip",11),h()()()(),m(66,"div",5)(67,"h3",6),y(68,"Your Application"),h(),m(69,"form",13)(70,"div")(71,"label",14),y(72," Trading Account "),m(73,"span",15),y(74,"*"),h()(),m(75,"app-user-dropdown",16),bt("selectedUserIdChange",function(s){return Mt(o.selectedTradingAccountId,s)||(o.selectedTradingAccountId=s),s}),k("selectUser",function(s){return o.fetchVPAId(s)}),h()(),m(76,"div")(77,"label",17),y(78," UPI ID "),m(79,"span",15),y(80,"*"),h()(),F(81,"input",18),A(82,$xe,2,0,"span",19)(83,Yxe,2,1,"span",20),h(),m(84,"div",21)(85,"div",22),y(86," Bids "),m(87,"span",15),y(88,"*"),h()(),A(89,Kxe,23,47,"div",23)(90,Jxe,3,3,"button",24),h(),m(91,"div",25)(92,"div",8)(93,"span",26),y(94,"Total Amount Payable:"),h(),m(95,"span",27),y(96),Y(97,"number"),h()()()()()(),m(98,"div",28)(99,"button",29),k("click",function(){return o.submit()}),y(100),h(),m(101,"button",30),k("click",function(){return o.onClose()}),y(102," Cancel "),h()()()),r&2){let a,s;g(5),zi("",o.ipo.symbol," - ",o.ipo.name),g(10),j(o.ipo.symbol),g(5),j(o.ipo.name),g(4),x("text",o.getIpoType(o.ipo.sub_type))("color","purple"),g(5),zi("\u20B9",J(30,32,o.getMinPrice(),"1.0-2")," - \u20B9",J(31,35,o.getMaxPrice(),"1.0-2")),g(7),j(o.getLotsMinQty()),g(5),x("ngIf",o.ipo.start_at),g(),x("ngIf",!o.ipo.start_at),g(5),x("ngIf",o.ipo.end_at),g(),x("ngIf",!o.ipo.end_at),g(5),x("ngIf",o.ipo.allotment_finalisation_date),g(),x("ngIf",!o.ipo.allotment_finalisation_date),g(5),x("ngIf",o.ipo.listing_date),g(),x("ngIf",!o.ipo.listing_date),g(5),x("text",o.ipo.status)("color",o.getIpoStatusChipColor(o.ipo.status)),g(4),x("formGroup",o.applyForm),g(6),_t("selectedUserId",o.selectedTradingAccountId),x("placeholder","Select Trading Account"),g(6),x("disabled",o.isLoadingVPA)("ngClass",_i(41,DD,((a=o.applyForm.get("upiId"))==null?null:a.invalid)&&((a=o.applyForm.get("upiId"))==null?null:a.touched))),g(),x("ngIf",((s=o.applyForm.get("upiId"))==null?null:s.invalid)&&((s=o.applyForm.get("upiId"))==null?null:s.touched)),g(),x("ngIf",o.vpaName.length>0),g(6),x("ngForOf",o.bids),g(),x("ngIf",o.canAddBid()),g(6),q("\u20B9",J(97,38,o.totalAmountPayable,"1.0-2")),g(3),x("disabled",o.isSubmitting||o.isLoadingVPA),g(),q(" ",o.isSubmitting?"Submitting...":"Submit"," "),g(),x("disabled",o.isSubmitting||o.isLoadingVPA)}},dependencies:[We,Oe,ze,ye,pn,Or,Yt,Uc,m2,Zt,Pr,Hc,eT,Gi,ui,_r,br,or,rr,ot,Ht,mn,Sv,ln,ei],styles:[".form-input[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.form-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1)) }.form-label[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.bid-item[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:.75rem}"]});let n=t;return n})();function eCe(n,t){n&1&&(m(0,"div",1)(1,"p",2),y(2,"No IPOs to display"),h()())}function tCe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("symbol"))}}function nCe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("name"))}}function iCe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("type"))}}function rCe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("priceRange"))}}function oCe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function aCe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("startDate"))}}function sCe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("endDate"))}}function lCe(n,t){if(n&1&&(m(0,"span",14),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("listingDate"))}}function cCe(n,t){if(n&1&&(m(0,"span"),y(1),h()),n&2){let e=M().$implicit;g(),zi("\u20B9",e.investor_types[0].min_price," - \u20B9",e.investor_types[0].max_price)}}function uCe(n,t){n&1&&(m(0,"span",28),y(1,"TBA"),h())}function dCe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"istDate"),h()),n&2){let e=M().$implicit;g(),j(J(2,1,e.start_at,"date-ordinal"))}}function fCe(n,t){n&1&&(m(0,"span",28),y(1,"TBA"),h())}function pCe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"istDate"),h()),n&2){let e=M().$implicit;g(),j(J(2,1,e.end_at,"date-ordinal"))}}function mCe(n,t){n&1&&(m(0,"span",28),y(1,"TBA"),h())}function hCe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"istDate"),h()),n&2){let e=M().$implicit;g(),j(J(2,1,e.listing_date,"date-ordinal"))}}function gCe(n,t){n&1&&(m(0,"span",28),y(1,"TBA"),h())}function vCe(n,t){if(n&1){let e=ee();m(0,"button",29),k("click",function(){N(e);let r=M().$implicit,o=M(2);return P(o.openApplyDialog(r))}),y(1," Apply "),h()}}function yCe(n,t){if(n&1&&(m(0,"div",37),F(1,"div",38),m(2,"div",39),y(3,"Subscription Opens"),h(),m(4,"div",40),y(5),Y(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(J(6,1,e.start_at,"date-ordinal"))}}function _Ce(n,t){n&1&&(m(0,"div",41),F(1,"div",42),h())}function bCe(n,t){if(n&1&&(m(0,"div",37),F(1,"div",43),m(2,"div",39),y(3,"Subscription Closes"),h(),m(4,"div",40),y(5),Y(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(J(6,1,e.end_at,"date-ordinal"))}}function xCe(n,t){n&1&&(m(0,"div",41),F(1,"div",42),h())}function CCe(n,t){if(n&1&&(m(0,"div",37),F(1,"div",44),m(2,"div",39),y(3,"Allotment"),h(),m(4,"div",40),y(5),Y(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(J(6,1,e.allotment_finalisation_date,"date-ordinal"))}}function SCe(n,t){n&1&&(m(0,"div",41),F(1,"div",42),h())}function wCe(n,t){if(n&1&&(m(0,"div",37),F(1,"div",45),m(2,"div",39),y(3,"Refund Initiation"),h(),m(4,"div",40),y(5),Y(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(J(6,1,e.refund_initiation_date,"date-ordinal"))}}function MCe(n,t){n&1&&(m(0,"div",41),F(1,"div",42),h())}function TCe(n,t){if(n&1&&(m(0,"div",37),F(1,"div",46),m(2,"div",39),y(3,"Demat Transfer"),h(),m(4,"div",40),y(5),Y(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(J(6,1,e.demat_transfer_date,"date-ordinal"))}}function ECe(n,t){n&1&&(m(0,"div",41),F(1,"div",42),h())}function DCe(n,t){if(n&1&&(m(0,"div",37),F(1,"div",44),m(2,"div",39),y(3,"Listing Date"),h(),m(4,"div",40),y(5),Y(6,"istDate"),h()()),n&2){let e=M(2).$implicit;g(5),j(J(6,1,e.listing_date,"date-ordinal"))}}function ICe(n,t){if(n&1&&(m(0,"tr")(1,"td",30)(2,"div",31)(3,"h4",32),y(4,"IPO Timeline"),h(),m(5,"div",33)(6,"div",34),A(7,yCe,7,4,"div",35)(8,_Ce,2,0,"div",36)(9,bCe,7,4,"div",35)(10,xCe,2,0,"div",36)(11,CCe,7,4,"div",35)(12,SCe,2,0,"div",36)(13,wCe,7,4,"div",35)(14,MCe,2,0,"div",36)(15,TCe,7,4,"div",35)(16,ECe,2,0,"div",36)(17,DCe,7,4,"div",35),h()()()()()),n&2){let e=M().$implicit;g(7),x("ngIf",e.start_at),g(),x("ngIf",e.start_at&&e.end_at),g(),x("ngIf",e.end_at),g(),x("ngIf",e.end_at&&e.allotment_finalisation_date),g(),x("ngIf",e.allotment_finalisation_date),g(),x("ngIf",e.allotment_finalisation_date&&e.refund_initiation_date),g(),x("ngIf",e.refund_initiation_date),g(),x("ngIf",e.refund_initiation_date&&e.demat_transfer_date),g(),x("ngIf",e.demat_transfer_date),g(),x("ngIf",e.demat_transfer_date&&e.listing_date),g(),x("ngIf",e.listing_date)}}function LCe(n,t){if(n&1){let e=ee();At(0),m(1,"tr",15)(2,"td",16)(3,"a",17),y(4),h()(),m(5,"td",16)(6,"a",18),y(7),h()(),m(8,"td",16),F(9,"app-small-chip",19),h(),m(10,"td",20),A(11,cCe,2,2,"span",21)(12,uCe,2,0,"span",22),h(),m(13,"td",16),F(14,"app-small-chip",19),h(),m(15,"td",23),A(16,dCe,3,4,"span",21)(17,fCe,2,0,"span",22),h(),m(18,"td",23),A(19,pCe,3,4,"span",21)(20,mCe,2,0,"span",22),h(),m(21,"td",23),A(22,hCe,3,4,"span",21)(23,gCe,2,0,"span",22),h(),m(24,"td",24)(25,"div",25)(26,"button",26),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleTimeline(r.id))}),y(27),h(),A(28,vCe,2,0,"button",27),h()()(),A(29,ICe,18,11,"tr",21),zt()}if(n&2){let e=t.$implicit,i=M(2);g(3),x("href",e.rhp_link,bf),g(),q(" ",e.symbol," "),g(2),x("href",e.rhp_link,bf),g(),q(" ",e.name," "),g(2),x("text",i.getIpoType(e.sub_type))("color","purple"),g(2),x("ngIf",e.investor_types.length>0),g(),x("ngIf",e.investor_types.length===0),g(2),x("text",e.status)("color",i.getIpoStatusChipColor(e.status)),g(2),x("ngIf",e.start_at),g(),x("ngIf",!e.start_at),g(2),x("ngIf",e.end_at),g(),x("ngIf",!e.end_at),g(2),x("ngIf",e.listing_date),g(),x("ngIf",!e.listing_date),g(4),q(" ",i.isTimelineExpanded(e.id)?"Hide":"Timeline"," "),g(),x("ngIf",e.status==="ongoing"||e.status==="preapply"),g(),x("ngIf",i.isTimelineExpanded(e.id))}}function ACe(n,t){if(n&1){let e=ee();m(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("symbol"))}),y(6," SYMBOL "),A(7,tCe,2,1,"span",8),h()(),m(8,"th",6)(9,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("name"))}),y(10," NAME "),A(11,nCe,2,1,"span",8),h()(),m(12,"th",6)(13,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("type"))}),y(14," TYPE "),A(15,iCe,2,1,"span",8),h()(),m(16,"th",9)(17,"button",10),k("click",function(){N(e);let r=M();return P(r.setSort("priceRange"))}),y(18," PRICE RANGE "),A(19,rCe,2,1,"span",8),h()(),m(20,"th",6)(21,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("status"))}),y(22," STATUS "),A(23,oCe,2,1,"span",8),h()(),m(24,"th",6)(25,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("startDate"))}),y(26," START DATE "),A(27,aCe,2,1,"span",8),h()(),m(28,"th",6)(29,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("endDate"))}),y(30," END DATE "),A(31,sCe,2,1,"span",8),h()(),m(32,"th",6)(33,"button",7),k("click",function(){N(e);let r=M();return P(r.setSort("listingDate"))}),y(34," LISTING DATE "),A(35,lCe,2,1,"span",8),h()(),m(36,"th",11),y(37,"ACTIONS"),h()()(),m(38,"tbody",12),A(39,LCe,30,19,"ng-container",13),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("symbol")),g(4),x("ngIf",e.getSortIndicator("name")),g(4),x("ngIf",e.getSortIndicator("type")),g(4),x("ngIf",e.getSortIndicator("priceRange")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngIf",e.getSortIndicator("startDate")),g(4),x("ngIf",e.getSortIndicator("endDate")),g(4),x("ngIf",e.getSortIndicator("listingDate")),g(4),x("ngForOf",e.sortedRows)("ngForTrackBy",e.trackById)}}var AZ=(()=>{let t=class t{get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((i,r)=>this.compareRows(i,r))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["startDate","endDate","listingDate"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}constructor(i){this.dialog=i,this.rows=[],this.applicationSubmitted=new be,this.expandedTimelines=new Set,this.sortColumn="startDate",this.sortDirection="desc",this.sortAccessors={symbol:r=>r.symbol?.toString().toLowerCase()??"",name:r=>r.name?.toString().toLowerCase()??"",status:r=>r.status?.toString().toLowerCase()??"",type:r=>r.sub_type?.toString().toLowerCase()??"",priceRange:r=>r.investor_types?.[0]?.min_price??0,startDate:r=>r.start_at??0,endDate:r=>r.end_at??0,listingDate:r=>r.listing_date??0}}getIpoStatusChipColor(i){switch(i){case"ongoing":case"preapply":return"green";case"upcoming":return"orange";default:return"gray"}}getIpoType(i){return i==="IPO"?"MAINBOARD":"SME"}trackById(i,r){return r.id}toggleTimeline(i){this.expandedTimelines.has(i)?this.expandedTimelines.delete(i):this.expandedTimelines.add(i)}isTimelineExpanded(i){return this.expandedTimelines.has(i)}openApplyDialog(i){let r=this.dialog.open(LZ,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{ipo:i}});r.componentInstance.applicationSubmitted.subscribe(()=>{this.applicationSubmitted.emit()}),r.afterClosed().subscribe(o=>{})}};t.\u0275fac=function(r){return new(r||t)(V(Zn))},t.\u0275cmp=ie({type:t,selectors:[["app-ipo-table"]],inputs:{rows:"rows"},outputs:{applicationSubmitted:"applicationSubmitted"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],["target","_blank",1,"hover:underline","text-blue-600","font-medium",3,"href"],["target","_blank",1,"hover:underline","text-sm",3,"href"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-blue-600","hover:underline",3,"click"],["class","px-2 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-xs font-medium",3,"click",4,"ngIf"],[1,"text-gray-400"],[1,"px-2","py-1","bg-blue-500","text-white","rounded-md","hover:bg-blue-600","transition-colors","text-xs","font-medium",3,"click"],["colspan","9",1,"px-2","md:px-4","py-2","border-t","border-gray-200"],[1,"relative","w-full"],[1,"text-sm","font-semibold","text-gray-700","mb-4"],[1,"w-full","pb-4","overflow-x-auto"],[1,"flex","items-start","gap-2","md:gap-3","w-full","min-w-max","md:min-w-full","md:justify-between"],["class","flex flex-col items-center flex-shrink-0 gap-1",4,"ngIf"],["class","hidden md:flex items-center flex-1 min-w-2",4,"ngIf"],[1,"flex","flex-col","items-center","flex-shrink-0","gap-1"],[1,"w-3","h-3","bg-blue-500","rounded-full","flex-shrink-0"],[1,"text-gray-700","text-center","whitespace-nowrap"],[1,"text-gray-500","text-center","whitespace-nowrap"],[1,"hidden","md:flex","items-center","flex-1","min-w-2"],[1,"h-0.5","w-full","bg-gray-300"],[1,"w-3","h-3","bg-red-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-green-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-orange-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-teal-500","rounded-full","flex-shrink-0"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,eCe,3,0,"div",1)(2,ACe,40,10,"div"),h()),r&2&&(g(),Wt(!o.rows||o.rows.length===0?1:2))},dependencies:[ze,mn,ye,ei],encapsulation:2});let n=t;return n})();function zCe(n,t){n&1&&(m(0,"div",2)(1,"p",3),y(2,"No IPO applications to display"),h()())}function kCe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("symbol"))}}function NCe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("investorType"))}}function PCe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("category"))}}function OCe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("created_at"))}}function RCe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("updated_at"))}}function FCe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("upi_id"))}}function BCe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function VCe(n,t){if(n&1){let e=ee();m(0,"button",28),k("click",function(){N(e);let r=M().$implicit,o=M(3);return P(o.cancelApplication(r))}),y(1),h()}if(n&2){let e=M().$implicit,i=M(3);x("disabled",i.cancellationInProgress.has(e.id)),g(),q(" ",i.cancellationInProgress.has(e.id)?"Cancelling...":"Cancel"," ")}}function UCe(n,t){if(n&1&&(m(0,"div",35)(1,"div",36)(2,"div",37)(3,"span",38),y(4,"Status:"),h(),m(5,"span",39),y(6),Y(7,"uppercase"),h()(),m(8,"div",37)(9,"span",38),y(10,"Quantity:"),h(),m(11,"span",39),y(12),h()(),m(13,"div",37)(14,"span",38),y(15,"Price:"),h(),m(16,"span",39),y(17),h()(),m(18,"div",37)(19,"span",38),y(20,"Amount:"),h(),m(21,"span",39),y(22),h()(),m(23,"div",37)(24,"span",38),y(25,"Exchange ID:"),h(),m(26,"span",39),y(27),h()(),m(28,"div",37)(29,"span",38),y(30,"Auto Cutoff:"),h(),m(31,"span",39),y(32),h()()()()),n&2){let e=t.$implicit;g(6),j(Do(7,6,e.status)),g(6),j(e.quantity),g(5),j(e.price),g(5),q("\u20B9",e.amount),g(5),j(e.exchange_id),g(5),j(e.auto_cutoff?"Yes":"No")}}function HCe(n,t){if(n&1&&(m(0,"div",33),A(1,UCe,33,8,"div",34),h()),n&2){let e=M(2).$implicit;g(),x("ngForOf",e.bids)}}function jCe(n,t){n&1&&(m(0,"p",40),y(1,"No bids available"),h())}function GCe(n,t){if(n&1&&(m(0,"tr")(1,"td",29)(2,"div",30)(3,"h4",31),y(4,"Bid Details"),h(),A(5,HCe,2,1,"div",32)(6,jCe,2,0,"ng-template",null,0,Wn),h()()()),n&2){let e=An(7),i=M().$implicit;g(5),x("ngIf",i.bids&&i.bids.length>0)("ngIfElse",e)}}function WCe(n,t){if(n&1){let e=ee();At(0),m(1,"tr",18)(2,"td",19)(3,"span",20),y(4),h()(),m(5,"td",19),F(6,"app-small-chip",21),h(),m(7,"td",19),F(8,"app-small-chip",21),h(),m(9,"td",22),y(10),Y(11,"istDate"),h(),m(12,"td",22),y(13),Y(14,"istDate"),h(),m(15,"td",22),y(16),h(),m(17,"td",19),F(18,"app-small-chip",23),h(),m(19,"td",24)(20,"div",25)(21,"button",26),k("click",function(){let r=N(e).$implicit,o=M(3);return P(o.toggleBidDetails(r.id))}),y(22),h(),A(23,VCe,2,2,"button",27),h()()(),A(24,GCe,8,2,"tr",17),zt()}if(n&2){let e=t.$implicit,i=M(3);g(4),j(e.symbol),g(2),x("text",i.getInvestorType(e.investor_type))("color","gray"),g(2),x("text",i.getIpoType(e.category))("color","purple"),g(2),q(" ",J(11,14,e.created_at,"date-ordinal")," "),g(3),q(" ",J(14,17,e.updated_at,"datetime-ordinal-no-mod")," "),g(3),q(" ",e.upi_id," "),g(2),x("matTooltip",e.payment_status)("text",e.status)("color",i.getStatusChipColor(e.status)),g(4),q(" ",i.isBidDetailsExpanded(e.id)?"Hide Bids":"See Bids"," "),g(),x("ngIf",(e.status==null?null:e.status.toUpperCase())!=="CANCELLED"&&(e.status==null?null:e.status.toUpperCase())!=="ALLOTTED"&&(e.status==null?null:e.status.toUpperCase())!=="NOT ALLOTTED"),g(),x("ngIf",i.isBidDetailsExpanded(e.id))}}function qCe(n,t){n&1&&(m(0,"tr")(1,"td",41),F(2,"div",42),h()())}function $Ce(n,t){if(n&1&&(At(0),m(1,"tr",14)(2,"td",15),F(3,"app-user-info-header",16),h()(),A(4,WCe,25,20,"ng-container",12)(5,qCe,3,0,"tr",17),zt()),n&2){let e=t.$implicit,i=t.last,r=M(2);g(3),x("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),g(),x("ngForOf",e.applications)("ngForTrackBy",r.trackByApplicationId),g(),x("ngIf",!i)}}function YCe(n,t){if(n&1){let e=ee();m(0,"div")(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("symbol"))}),y(6," SYMBOL "),A(7,kCe,2,1,"span",9),h()(),m(8,"th",7)(9,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("investorType"))}),y(10," INVESTOR "),A(11,NCe,2,1,"span",9),h()(),m(12,"th",7)(13,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("category"))}),y(14," TYPE "),A(15,PCe,2,1,"span",9),h()(),m(16,"th",7)(17,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("created_at"))}),y(18," APPLIED ON "),A(19,OCe,2,1,"span",9),h()(),m(20,"th",7)(21,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("updated_at"))}),y(22," LAST UPDATE ON "),A(23,RCe,2,1,"span",9),h()(),m(24,"th",7)(25,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("upi_id"))}),y(26," UPI ID "),A(27,FCe,2,1,"span",9),h()(),m(28,"th",7)(29,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("status"))}),y(30," STATUS "),A(31,BCe,2,1,"span",9),h()(),m(32,"th",10),y(33,"ACTIONS"),h()()(),m(34,"tbody",11),A(35,$Ce,6,8,"ng-container",12),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("symbol")),g(4),x("ngIf",e.getSortIndicator("investorType")),g(4),x("ngIf",e.getSortIndicator("category")),g(4),x("ngIf",e.getSortIndicator("created_at")),g(4),x("ngIf",e.getSortIndicator("updated_at")),g(4),x("ngIf",e.getSortIndicator("upi_id")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngForOf",e.sortedGroupedApplications)("ngForTrackBy",e.trackByUserId)}}var zZ=(()=>{let t=class t{get sortedGroupedApplications(){return!this.sortColumn||!this.sortDirection?this.groupedApplications:this.groupedApplications.map(i=>Ie(X({},i),{applications:[...i.applications??[]].sort((r,o)=>this.compareRows(r,o))}))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection=this.getDefaultDirection(i)}getDefaultDirection(i){return["updated_at"].includes(i)?"desc":"asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}constructor(i,r,o){this.iposService=i,this.alertService=r,this.toastrService=o,this.groupedApplications=[],this.applicationCancelled=new be,this.fallbackAvatarUrl="",this.cancellationInProgress=new Set,this.expandedBidDetails=new Set,this.sortColumn="updated_at",this.sortDirection="desc",this.sortAccessors={symbol:a=>a.symbol?.toString().toLowerCase()??"",status:a=>a.status?.toString().toLowerCase()??"",investorType:a=>a.investor_type?.toString().toLowerCase()??"",created_at:a=>a.created_at??0,updated_at:a=>a.updated_at?.toString().toLowerCase()??"",category:a=>a.updated_at?.toString().toLowerCase()??"",upi_id:a=>a.updated_at?.toString().toLowerCase()??""}}getStatusChipColor(i){switch(i?.toUpperCase()){case"SUBMITTED":case"APPLIED":return"blue";case"ACCEPTED":case"ALLOTTED":return"green";case"REJECTED":case"NOT ALLOTTED":return"red";case"PENDING":return"orange";default:return"gray"}}toggleBidDetails(i){this.expandedBidDetails.has(i)?this.expandedBidDetails.delete(i):this.expandedBidDetails.add(i)}isBidDetailsExpanded(i){return this.expandedBidDetails.has(i)}getIpoType(i){return i==="ipo"?"MAINBOARD":"SME"}getInvestorType(i){switch(i?.toUpperCase()){case"IND":return"INDIVIDUAL";case"HNI":return"HNI";case"NRI":return"NRI";case"RETAIL":return"RETAIL";default:return"gray"}}trackByApplicationId(i,r){return r.id}trackByUserId(i,r){return r.userId}cancelApplication(i){this.alertService.confirm("Cancel IPO Application",`Are you sure you want to cancel the IPO application for ${i.symbol}?`,()=>{this.performCancellation(i)})}performCancellation(i){this.cancellationInProgress.add(i.id),this.iposService.cancelIpoApplication(i.user_id,i.id).subscribe({next:r=>{this.cancellationInProgress.delete(i.id),this.toastrService.success(r?.data?.message||"IPO application cancelled successfully","Success"),this.applicationCancelled.emit()},error:r=>{this.cancellationInProgress.delete(i.id);let o=r?.error?.message||"Failed to cancel IPO application";this.toastrService.error(o,"Error")}})}};t.\u0275fac=function(r){return new(r||t)(V(f0),V(Fo),V(tt))},t.\u0275cmp=ie({type:t,selectors:[["app-ipo-applications-table"]],inputs:{groupedApplications:"groupedApplications",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{applicationCancelled:"applicationCancelled"},decls:3,vars:1,consts:[["noBids",""],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","8",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"text-gray-700","font-semibold"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"cursor-pointer",3,"matTooltip","text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-blue-600","hover:underline",3,"click"],["class","text-red-600 hover:underline cursor-pointer disabled:text-gray-400 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"text-red-600","hover:underline","cursor-pointer","disabled:text-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],["colspan","8",1,"px-2","md:px-4","py-2","border-t","border-gray-200"],[1,"relative","w-full"],[1,"text-sm","font-semibold","text-gray-700","mb-4"],["class","space-y-3",4,"ngIf","ngIfElse"],[1,"space-y-3"],["class","rounded-md border border-gray-200 p-3 bg-white text-sm",4,"ngFor","ngForOf"],[1,"rounded-md","border","border-gray-200","p-3","bg-white","text-sm"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3","text-gray-700"],[1,"flex","items-center","gap-1"],[1,"text-gray-400"],[1,""],[1,"text-gray-400","text-sm"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(m(0,"div",1),Gt(1,zCe,3,0,"div",2)(2,YCe,36,9,"div"),h()),r&2&&(g(),Wt(!o.groupedApplications||o.groupedApplications.length===0?1:2))},dependencies:[ze,mn,Ht,ye,Oo,ei,Uf],encapsulation:2});let n=t;return n})();var ZCe=(n,t)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":t});function XCe(n,t){n&1&&F(0,"span",9)}function QCe(n,t){if(n&1){let e=ee();m(0,"div",6),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.setActiveSubTab(r))}),y(1),m(2,"span",7),y(3),h(),A(4,XCe,1,0,"span",8),h()}if(n&2){let e=t.$implicit,i=M(2);Te("active-tab",e===i.activeSubTab)("text-gray-700",e!==i.activeSubTab),g(),q(" ",e," "),g(),x("ngClass",gt(8,ZCe,e===i.activeSubTab,e!==i.activeSubTab)),g(),q(" ",i.tabCounts[e]," "),g(),x("ngIf",e===i.activeSubTab)}}function KCe(n,t){if(n&1){let e=ee();m(0,"div",16)(1,"app-ipo-table",17),k("applicationSubmitted",function(){N(e);let r=M(3);return P(r.fetchIPOApplications())}),h()()}if(n&2){let e=M(3);g(),x("rows",e.filteredIpos)}}function JCe(n,t){n&1&&(m(0,"div",16)(1,"app-note",18),y(2," There are no IPOs display here. Check your filters or search criteria. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function eSe(n,t){if(n&1){let e=ee();m(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),k("filtersChanged",function(r){N(e);let o=M(2);return P(o.applyFilters(r))})("handleRefresh",function(r){N(e);let o=M(2);return P(o.handleRefresh(r))}),h()(),F(4,"div",13),m(5,"div",11)(6,"app-search-input",14),k("inputChange",function(r){N(e);let o=M(2);return P(o.onSearch(r))}),h()()(),A(7,KCe,2,1,"div",15)(8,JCe,3,3,"ng-template",null,0,Wn),h()}if(n&2){let e=An(9),i=M(2);g(3),x("filterOptions",i.filterOptions)("filterSelection",i.filterSelection)("isLoadingData",i.isLoadingData),g(3),x("placeholder","Search IPOs by name or type")("searchTerm",i.searchQuery),g(),x("ngIf",i.filteredIpos.length>0)("ngIfElse",e)}}function tSe(n,t){if(n&1){let e=ee();m(0,"div",16)(1,"app-ipo-applications-table",20),k("applicationCancelled",function(){N(e);let r=M(3);return P(r.onApplicationCancelled())}),h()()}if(n&2){let e=M(3);g(),x("groupedApplications",e.groupedApplications)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function nSe(n,t){n&1&&(m(0,"div",16)(1,"app-note",18),y(2," You don't have any IPO applications. Check your filters or search criteria. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function iSe(n,t){if(n&1){let e=ee();m(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),k("filtersChanged",function(r){N(e);let o=M(2);return P(o.applyApplicationsFilters(r))})("handleRefresh",function(r){N(e);let o=M(2);return P(o.handleApplicationsRefresh(r))}),h()(),F(4,"div",13),m(5,"div",11)(6,"app-user-filter",19),k("selectAllUsers",function(){N(e);let r=M(2);return P(r.onAllUserSelection())})("selectUsers",function(r){N(e);let o=M(2);return P(o.onUserSelection(r))})("totalUsers",function(r){N(e);let o=M(2);return P(o.captureUsers(r))}),h()(),m(7,"div",11)(8,"app-search-input",14),k("inputChange",function(r){N(e);let o=M(2);return P(o.onIpoApplicationSearch(r))}),h()()(),A(9,tSe,2,2,"div",15)(10,nSe,3,3,"ng-template",null,0,Wn),h()}if(n&2){let e=An(11),i=M(2);g(3),x("filterOptions",i.applicationsFilterOptions)("filterSelection",i.applicationsFilterSelection)("isLoadingData",i.isLoadingData),g(3),x("selectedUserIds",i.selectedUserIds),g(2),x("placeholder","Search IPO applications by User ID or Symbol")("searchTerm",i.searchIpoApplicationsQuery),g(),x("ngIf",i.groupedApplications.length>0)("ngIfElse",e)}}function rSe(n,t){if(n&1&&(m(0,"div")(1,"div",3)(2,"div",4),A(3,QCe,5,11,"div",5),h()(),A(4,eSe,10,7,"div",2)(5,iSe,12,8,"div",2),h()),n&2){let e=M();g(3),x("ngForOf",e.subTabs),g(),x("ngIf",e.activeSubTab===e.subTabs[0]),g(),x("ngIf",e.activeSubTab===e.subTabs[1])}}var kZ=(()=>{let t=class t{constructor(i,r,o,a,s,l){this.iposService=i,this.toastrService=r,this.userDataStateService=o,this.utilsService=a,this.document=s,this.userViewStateService=l,this.ipos=[],this.ipoApplications=[],this.groupedApplications=[],this.filteredIpos=[],this.users=[],this.errorMessage="",this.subTabs=["IPO","Applications"],this.activeSubTab="IPO",this.selectedUserIds=[],this.tabCounts={IPO:0,Applications:0},this.isLoadingData=!1,this.filterOptions=[{key:"sub_type",values:["IPO","SME"]},{key:"status",values:["UPCOMING","PREAPPLY","ONGOING","CLOSED"]}],this.filterSelection=[],this.applicationsFilterOptions=[{key:"category",values:["IPO","SME"]},{key:"status",values:["PENDING","SUBMITTED","ALLOTTED","NOT ALLOTTED","CANCELLED"]}],this.applicationsFilterSelection=[],this.searchQuery="",this.searchIpoApplicationsQuery="",this.faSpinner=ko,this.faRefresh=Aa,this.fallbackAvatarUrl=ci}ngOnInit(){let i=this.userViewStateService.getState();this.activeSubTab=i.ipos.selectedIpoType||"IPO",this.searchQuery=i.ipos.searchQuery,this.searchIpoApplicationsQuery=i.ipos.searchIpoApplicationsQuery,this.selectedUserIds=i.ipos.selectedUsersIds||[],i.ipos.filterSelection?.length>0&&(this.filterSelection=i.ipos.filterSelection),i.ipos.applicationsFilterSelection?.length>0&&(this.applicationsFilterSelection=i.ipos.applicationsFilterSelection),this.getCachedData(),this.fetchedIPOs(),this.fetchIPOApplications()}setActiveSubTab(i){this.activeSubTab=i,this.saveUserViewState()}updateFilteredIPOs(){let i=this.ipos;this.searchQuery&&(i=i.filter(r=>r.sub_type.toLowerCase().includes(this.searchQuery)||r.name.toLowerCase().includes(this.searchQuery)||r.symbol.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(i=this.utilsService.filter(this.filterSelection,i)),this.filteredIpos=i}updateFilteredIpoApplications(){let i=this.ipoApplications;this.selectedUserIds.length>0&&(i=i.filter(r=>this.selectedUserIds.includes(r.user_id))),this.searchIpoApplicationsQuery&&(i=i.filter(r=>r.symbol.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.user_id.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.category.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.status.toLowerCase().includes(this.searchIpoApplicationsQuery))),this.applicationsFilterSelection.length>0&&(i=this.utilsService.filter(this.applicationsFilterSelection,i)),this.groupApplicationsByUser(i)}groupApplicationsByUser(i){let r={};i.forEach(o=>{r[o.user_id]||(r[o.user_id]=[]),r[o.user_id].push(o)}),this.groupedApplications=Object.entries(r).map(([o,a])=>({userId:o,applications:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}onSearch(i){this.searchQuery=i.toLowerCase(),this.updateFilteredIPOs(),this.saveUserViewState()}onIpoApplicationSearch(i){this.searchIpoApplicationsQuery=i.toLowerCase(),this.updateFilteredIpoApplications(),this.saveUserViewState()}captureUsers(i){this.users=i}getAvatarUrl(i){return this.utilsService.getAvatarUrl(this.users,i)}getUserName(i){return this.utilsService.getUserName(this.users,i)}getUserFullName(i){return this.utilsService.getUserFullName(this.users,i)}onUserSelection(i){this.selectedUserIds=i,this.updateFilteredIpoApplications(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredIpoApplications(),this.saveUserViewState()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.users&&(this.users=i.users),i.ipos&&(this.ipos=i.ipos),i.ipoApplications&&(this.ipoApplications=i.ipoApplications),this.renderIPOs(),this.renderIPOApplications())}setCachedData(){this.userDataStateService.setState({ipos:this.ipos,ipoApplications:this.ipoApplications})}fetchedIPOs(i){this.isLoadingData=!0,this.iposService.getIPOs().subscribe({next:r=>{this.ipos=r.data,this.renderIPOs(),this.setCachedData(),this.isLoadingData=!1},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching ipos. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`,this.isLoadingData=!1},complete:()=>{i&&i()}})}fetchIPOApplications(i){this.iposService.getIPOApplications().subscribe({next:r=>{this.ipoApplications=r.data,this.renderIPOApplications(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching IPO applications. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{i&&i()}})}renderIPOApplications(){this.tabCounts.Applications=this.ipoApplications.length,this.updateFilteredIpoApplications()}renderIPOs(){this.tabCounts.IPO=this.ipos.filter(i=>i.status==="ongoing"||i.status==="preapply"||i.status==="upcoming").length,this.updateFilteredIPOs()}saveUserViewState(){this.userViewStateService.setState({ipos:{selectedIpoType:this.activeSubTab,searchQuery:this.searchQuery,searchIpoApplicationsQuery:this.searchIpoApplicationsQuery,selectedUsersIds:this.selectedUserIds,filterSelection:this.filterSelection,applicationsFilterSelection:this.applicationsFilterSelection}})}onApplicationCancelled(){this.fetchIPOApplications()}applyFilters(i){this.filterSelection=i,this.updateFilteredIPOs(),this.saveUserViewState()}applyApplicationsFilters(i){this.applicationsFilterSelection=i,this.updateFilteredIpoApplications(),this.saveUserViewState()}handleRefresh(i){this.fetchedIPOs(i)}handleApplicationsRefresh(i){this.fetchIPOApplications(i)}};t.\u0275fac=function(r){return new(r||t)(V(f0),V(tt),V(Tn),V(En),V(Me),V(Bn))},t.\u0275cmp=ie({type:t,selectors:[["app-ipos"]],decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","filterOptions","filterSelection","isLoadingData"],[1,"flex-1"],[3,"inputChange","placeholder","searchTerm"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"applicationSubmitted","rows"],[3,"type","dismissible","atCenter"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"applicationCancelled","groupedApplications","fallbackAvatarUrl"]],template:function(r,o){r&1&&(m(0,"div",1),A(1,rSe,6,3,"div",2),h()),r&2&&(g(),x("ngIf",!o.errorMessage))},dependencies:[lr,ye,ze,za,Oe,AZ,zZ,nr,Va],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 135px);min-height:calc(100vh - var(--header-height, 80px) - 135px)}"]});let n=t;return n})();var ID=(n,t,e)=>({"text-left":n,"text-right":t,"text-center":e});function oSe(n,t){n&1&&(m(0,"div",13),Ut(),m(1,"svg",14),F(2,"path",15),h(),Ln(),m(3,"p",16),y(4,"No users found"),h()())}function aSe(n,t){if(n&1&&(m(0,"th",29),y(1),h()),n&2){let e=t.$implicit,i=M(2);x("ngClass",wn(2,ID,i.getAlignment(e)==="left",i.getAlignment(e)==="right",i.getAlignment(e)==="center")),g(),q(" ",e.label," ")}}function sSe(n,t){if(n&1&&(m(0,"td",38)(1,"span",39),y(2),h()()),n&2){let e=t.$implicit,i=M().$implicit,r=M(2);x("ngClass",wn(3,ID,r.getAlignment(e)==="left",r.getAlignment(e)==="right",r.getAlignment(e)==="center")),g(),x("ngClass",r.getCellClass(i,e)),g(),q(" ",r.getCellValue(i,e)," ")}}function lSe(n,t){if(n&1&&(m(0,"tr",30)(1,"td",31)(2,"div",32),F(3,"img",33),m(4,"div",34)(5,"span",35),y(6),h(),m(7,"span",36),y(8),h()()()(),A(9,sSe,3,7,"td",37),h()),n&2){let e=t.$implicit,i=M(2);g(3),x("ngSrc",e.avatarUrl||i.fallbackAvatarUrl)("alt",e.userName),g(3),j(e.userName),g(2),j(e.userId),g(),x("ngForOf",i.columns)}}function cSe(n,t){if(n&1&&(m(0,"td",40)(1,"span",39),y(2),h()()),n&2){let e=t.$implicit,i=M(2);x("ngClass",wn(3,ID,i.getAlignment(e)==="left",i.getAlignment(e)==="right",i.getAlignment(e)==="center")),g(),x("ngClass",i.getSummaryClass(e)),g(),q(" ",i.getSummaryValue(e)," ")}}function uSe(n,t){if(n&1&&(m(0,"table",17)(1,"thead",18)(2,"tr",19)(3,"th",20),y(4,"User"),h(),A(5,aSe,2,6,"th",21),h()(),m(6,"tbody",22),A(7,lSe,10,5,"tr",23),h(),m(8,"tfoot",24)(9,"tr",25)(10,"td",26)(11,"span",27),y(12,"Summary"),h()(),A(13,cSe,3,7,"td",28),h()()()),n&2){let e=M();g(5),x("ngForOf",e.columns),g(2),x("ngForOf",e.filteredData),g(6),x("ngForOf",e.columns)}}function dSe(n,t){if(n&1&&(m(0,"div",58)(1,"span",59),y(2),h(),m(3,"span",60),y(4),h()()),n&2){let e=t.$implicit,i=M().$implicit,r=M(2);g(2),j(e.label),g(),x("ngClass",r.getCellClass(i,e)),g(),q(" ",r.getCellValue(i,e)," ")}}function fSe(n,t){if(n&1&&(m(0,"div",53)(1,"div",54),F(2,"img",55),m(3,"div",48)(4,"span",56),y(5),h(),m(6,"span",57),y(7),h()()(),m(8,"div",51),A(9,dSe,5,3,"div",52),h()()),n&2){let e=t.$implicit,i=M(2);g(2),x("ngSrc",e.avatarUrl||i.fallbackAvatarUrl)("alt",e.userName),g(3),j(e.userName),g(2),j(e.userId),g(2),x("ngForOf",i.columns)}}function pSe(n,t){if(n&1&&(m(0,"div",58)(1,"span",61),y(2),h(),m(3,"span",62),y(4),h()()),n&2){let e=t.$implicit,i=M(2);g(2),j(e.label),g(),x("ngClass",i.getSummaryClass(e)),g(),q(" ",i.getSummaryValue(e)," ")}}function mSe(n,t){if(n&1&&(m(0,"div",41),A(1,fSe,10,5,"div",42),m(2,"div",43)(3,"div",44)(4,"div",45),Ut(),m(5,"svg",46),F(6,"path",47),h()(),Ln(),m(7,"div",48)(8,"span",49),y(9,"Summary"),h(),m(10,"span",50),y(11),h()()(),m(12,"div",51),A(13,pSe,5,3,"div",52),h()()()),n&2){let e=M();g(),x("ngForOf",e.filteredData),g(10),q("Total of ",e.filteredData.length," user(s)"),g(2),x("ngForOf",e.columns)}}var NZ=(()=>{let t=class t{constructor(){this.userData=[],this.columns=[],this.title="User Details",this.close=new be,this.filteredData=[],this.selectedUserIds=[],this.fallbackAvatarUrl=ci}ngOnInit(){this.filteredData=[...this.userData],this.applySorting()}ngOnChanges(i){i.userData&&this.applyFilter()}onUserSelectionChange(i){this.selectedUserIds=i,this.applyFilter()}onSelectAllUsers(){this.selectedUserIds=[],this.applyFilter()}applyFilter(){this.selectedUserIds.length===0?this.filteredData=[...this.userData]:this.filteredData=this.userData.filter(i=>this.selectedUserIds.includes(i.userId)),this.applySorting()}applySorting(){this.sortByColumn&&this.filteredData.sort((i,r)=>{let o=i[this.sortByColumn]||0;return(r[this.sortByColumn]||0)-o})}closePopup(){this.close.emit()}getCellValue(i,r){let o=i[r.key];if(o==null)return"-";switch(r.type){case"currency":return`\u20B9${this.formatNumber(o)}`;case"number":return this.formatNumber(o);case"percentage":return`${this.formatNumber(o)}%`;case"currency-with-percent":let a=r.key+"Percent",s=i[a];return s!=null?`\u20B9${this.formatNumber(o)} (${this.formatNumber(s)}%)`:`\u20B9${this.formatNumber(o)}`;default:return String(o)}}formatNumber(i){return typeof i!="number"?String(i):i.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}getCellClass(i,r){let o=["font-medium"];if(r.colorize){let a=i[r.key];typeof a=="number"&&(a>0?o.push("text-green-600"):a<0?o.push("text-red-600"):o.push("text-gray-700"))}else o.push("text-gray-700");return o.join(" ")}getAlignment(i){return i.align||"right"}getSummaryValue(i){let r=this.filteredData.reduce((o,a)=>{let s=a[i.key];return typeof s=="number"?o+s:o},0);switch(i.type){case"currency":return`\u20B9${this.formatNumber(r)}`;case"number":return this.formatNumber(r);case"percentage":let o=this.filteredData.filter(u=>typeof u[i.key]=="number").length,a=o>0?r/o:0;return`${this.formatNumber(a)}%`;case"currency-with-percent":let s=i.key+"Percent",l=this.filteredData.reduce((u,d)=>{let f=d[s];return typeof f=="number"?u+f:u},0),c=this.filteredData.filter(u=>typeof u[s]=="number").length;return`\u20B9${this.formatNumber(r)}`;default:return"-"}}getSummaryClass(i){let r=["font-bold"];if(i.colorize){let o=this.filteredData.reduce((a,s)=>{let l=s[i.key];return typeof l=="number"?a+l:a},0);o>0?r.push("text-green-600"):o<0?r.push("text-red-600"):r.push("text-gray-700")}else r.push("text-gray-700");return r.join(" ")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-pnl-details-popup"]],inputs:{userData:"userData",columns:"columns",title:"title",sortByColumn:"sortByColumn"},outputs:{close:"close"},features:[rn],decls:16,vars:7,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4",3,"click"],["cdkDrag","",1,"w-full","max-w-3xl","sm:min-w-[600px]","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white",3,"click"],["cdkDragHandle","",1,"flex","flex-col","sm:flex-row","items-stretch","sm:items-center","justify-between","gap-2","sm:gap-3","px-3","sm:px-4","py-2","sm:py-3","border-b","cursor-move"],[1,"font-medium","text-gray-700","text-sm","sm:text-base","flex-shrink-0"],[1,"w-full","sm:w-auto","sm:min-w-[240px]"],[3,"selectAllUsers","selectUsers","selectedUserIds"],[1,"p-2","sm:p-4","max-h-[60vh]","sm:max-h-[500px]","min-h-[300px]","overflow-y-auto","overflow-x-auto"],["class","text-center py-8 sm:py-12 text-gray-500",4,"ngIf"],["class","hidden sm:table w-full text-xs sm:text-sm border-t border-gray-200",4,"ngIf"],["class","sm:hidden space-y-3",4,"ngIf"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-3","sm:px-4","py-2","sm:py-3","border-t","cursor-move"],[1,"text-sm","sm:text-sm","text-gray-600"],[1,"px-3","sm:px-4","py-1.5","sm:py-2","border","rounded-md","hover:bg-gray-100","text-sm","sm:text-sm",3,"click"],[1,"text-center","py-8","sm:py-12","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","sm:w-16","sm:h-16","mx-auto","mb-3","sm:mb-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-base","sm:text-lg","font-medium"],[1,"hidden","sm:table","w-full","text-xs","sm:text-sm","border-t","border-gray-200"],[1,"bg-gray-100","text-gray-600","font-medium","sticky","top-0","z-10"],[1,"border-b","border-gray-200"],[1,"px-2","sm:px-4","py-2","text-left","bg-gray-100","h-10"],["class","px-2 sm:px-4 py-2 bg-gray-100 whitespace-nowrap h-10",3,"ngClass",4,"ngFor","ngForOf"],[1,"divide-y","divide-gray-100","text-gray-700"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-gray-100","border-t","border-b","border-gray-200"],[1,"font-semibold"],[1,"px-2","sm:px-4","py-3","text-left"],[1,"text-gray-700","font-bold"],["class","px-2 sm:px-4 py-3 whitespace-nowrap",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-2","sm:px-4","py-2","bg-gray-100","whitespace-nowrap","h-10",3,"ngClass"],[1,"hover:bg-gray-50"],[1,"px-2","sm:px-4","py-2"],[1,"flex","items-center","gap-2","sm:gap-3"],["width","32","height","32",1,"w-6","h-6","sm:w-8","sm:h-8","rounded-full","object-cover","border-2","border-gray-200","flex-shrink-0",3,"ngSrc","alt"],[1,"flex","flex-col","min-w-0"],[1,"font-medium","text-gray-900","truncate"],[1,"text-[10px]","sm:text-xs","text-gray-500","truncate"],["class","px-2 sm:px-4 py-2 whitespace-nowrap",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-2","sm:px-4","py-2","whitespace-nowrap",3,"ngClass"],[3,"ngClass"],[1,"px-2","sm:px-4","py-3","whitespace-nowrap",3,"ngClass"],[1,"sm:hidden","space-y-3"],["class","bg-white border border-gray-200 rounded-md p-3 shadow-sm",4,"ngFor","ngForOf"],[1,"bg-gray-100","border-1","border-gray-200","rounded-md","p-3"],[1,"flex","items-center","gap-2","mb-2","pb-2","border-b-2","border-gray-200"],[1,"w-10","h-10","rounded-full","bg-gray-700","flex","items-center","justify-center","flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"flex","flex-col","min-w-0","flex-1"],[1,"font-bold","text-gray-700","text-sm"],[1,"text-xs","text-gray-600"],[1,"space-y-2"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"bg-white","border","border-gray-200","rounded-md","p-3","shadow-sm"],[1,"flex","items-center","gap-2","mb-2","pb-2","border-b","border-gray-100"],["width","40","height","40",1,"w-10","h-10","rounded-full","object-cover","border-2","border-gray-200","flex-shrink-0",3,"ngSrc","alt"],[1,"font-medium","text-gray-900","truncate","text-sm"],[1,"text-sm","text-gray-500","truncate"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-sm","font-medium",3,"ngClass"],[1,"text-sm","text-gray-700","font-medium"],[1,"text-sm",3,"ngClass"]],template:function(r,o){r&1&&(m(0,"div",0),k("click",function(){return o.closePopup()}),m(1,"div",1),k("click",function(s){return s.stopPropagation()}),m(2,"div",2)(3,"span",3),y(4),h(),m(5,"div",4)(6,"app-user-filter",5),k("selectAllUsers",function(){return o.onSelectAllUsers()})("selectUsers",function(s){return o.onUserSelectionChange(s)}),h()()(),m(7,"div",6),A(8,oSe,5,0,"div",7)(9,uSe,14,3,"table",8)(10,mSe,14,3,"div",9),h(),m(11,"div",10)(12,"span",11),y(13),h(),m(14,"button",12),k("click",function(){return o.closePopup()}),y(15," Close "),h()()()()),r&2&&(g(4),j(o.title),g(2),x("selectedUserIds",o.selectedUserIds),g(2),x("ngIf",o.filteredData.length===0),g(),x("ngIf",o.filteredData.length>0),g(),x("ngIf",o.filteredData.length>0),g(3),zi("Showing ",o.filteredData.length," of ",o.userData.length," users"))},dependencies:[We,Oe,ze,ye,kr,pn,or,rr,nr],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}"]});let n=t;return n})();var hSe=(n,t)=>({"border-green-500":n,"border-red-500":t}),gSe=(n,t)=>({"bg-green-50":n,"bg-red-50":t}),vSe=(n,t)=>({"bg-green-100":n,"bg-red-100":t}),PZ=(n,t)=>({"text-green-600":n,"text-red-600":t}),OZ=(n,t)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":t}),RZ=(n,t,e)=>({"text-green-600":n,"text-red-600":t,"text-gray-700":e}),ySe=(n,t)=>({"border-purple-500":n,"border-gray-500":t}),_Se=(n,t)=>({"bg-purple-50":n,"bg-gray-50":t}),bSe=(n,t)=>({"bg-purple-100":n,"bg-gray-100":t}),xSe=(n,t)=>({"text-purple-600":n,"text-gray-600":t});function CSe(n,t){if(n&1&&(m(0,"div",10)(1,"div",11),F(2,"fa-icon",12),m(3,"span",13),y(4),h()()()),n&2){let e=M();g(2),x("icon",e.faArrowTrendDown),g(2),j(e.errorMessage)}}function SSe(n,t){n&1&&(m(0,"div",14)(1,"div",15)(2,"p",16),F(3,"span",17),y(4," \u{1F680} Fetching your financial empire... Please hold while we count your millions! "),h()()())}function wSe(n,t){if(n&1){let e=ee();m(0,"div",18)(1,"div",19)(2,"div",20),k("click",function(){N(e);let r=M();return P(r.hasMultipleUsers()&&r.showInvestmentDetails())}),F(3,"div",21),m(4,"div",22)(5,"div",23)(6,"div",24)(7,"div",25)(8,"div",26),F(9,"fa-icon",27),h(),m(10,"span",28),y(11,"Investment"),h()(),m(12,"div",29),y(13),Y(14,"number"),h()(),m(15,"div",30)(16,"div",25)(17,"div",31),F(18,"fa-icon",32),h(),m(19,"span",28),y(20,"Current"),h()(),m(21,"div",29),y(22),Y(23,"number"),h()()()()(),m(24,"div",33),k("click",function(){N(e);let r=M();return P(r.hasMultipleUsers()&&r.showInvestmentDetails())}),F(25,"div",21),m(26,"div",22)(27,"div",34)(28,"div",11)(29,"div",35),F(30,"fa-icon",27),h(),m(31,"span",28),y(32,"Total Investment"),h()()(),m(33,"div",36),y(34),Y(35,"number"),h()()(),m(36,"div",37),k("click",function(){N(e);let r=M();return P(r.hasMultipleUsers()&&r.showInvestmentDetails())}),F(37,"div",38),m(38,"div",22)(39,"div",34)(40,"div",11)(41,"div",39),F(42,"fa-icon",32),h(),m(43,"span",28),y(44,"Current Value"),h()()(),m(45,"div",36),y(46),Y(47,"number"),h()()(),m(48,"div",40),k("click",function(){N(e);let r=M();return P(r.hasMultipleUsers()&&r.showHoldingsPnLDetails())}),F(49,"div",41),m(50,"div",22)(51,"div",34)(52,"div",11)(53,"div",42),F(54,"fa-icon",43),h(),m(55,"span",28),y(56,"Total P&L"),h()()(),m(57,"div",44)(58,"div",45),y(59),Y(60,"number"),h(),m(61,"span",46),F(62,"fa-icon",47),y(63),Y(64,"percent"),h()(),m(65,"div",48)(66,"div",49),y(67,"Day's P&L"),h(),m(68,"div",50)(69,"span",51),y(70),Y(71,"number"),h(),m(72,"span",46),F(73,"fa-icon",47),y(74),Y(75,"percent"),h()()()()(),m(76,"div",40),k("click",function(){N(e);let r=M();return P(r.hasMultipleUsers()&&r.showPositionsPnLDetails())}),F(77,"div",41),m(78,"div",22)(79,"div",34)(80,"div",11)(81,"div",42),F(82,"fa-icon",43),h(),m(83,"span",28),y(84,"Positions P&L"),h()()(),m(85,"div",44)(86,"div",45),y(87),Y(88,"number"),h()(),m(89,"div",48)(90,"div",49),y(91,"Max Profit"),h(),m(92,"div",50)(93,"span",52),y(94),Y(95,"number"),h()()()()()(),m(96,"div",53)(97,"div",54),k("click",function(){N(e);let r=M();return P(r.hasMultipleUsers()&&r.showMutualFundsDetails())}),F(98,"div",55),m(99,"div",22)(100,"div",25)(101,"div",56),F(102,"fa-icon",57),h(),m(103,"span",28),y(104,"Mutual Funds"),h()(),m(105,"div",58)(106,"div",59),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/mf"))}),m(107,"span",60),y(108,"Active SIPs"),h(),m(109,"span",61),y(110),h()(),m(111,"div",59),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/mf"))}),m(112,"span",60),y(113,"Total SIP Amount"),h(),m(114,"span",61),y(115),Y(116,"number"),h()(),m(117,"div",59),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/mf"))}),m(118,"span",60),y(119,"This Month Contribution"),h(),m(120,"span",61),y(121),Y(122,"number"),h()()()()(),m(123,"div",62),F(124,"div",63),m(125,"div",22)(126,"div",25)(127,"div",64),F(128,"fa-icon",65),h(),m(129,"span",28),y(130,"Trading Activity"),h()(),m(131,"div",58)(132,"div",66),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/positions"))}),m(133,"span",67),y(134,"Open Positions"),h(),m(135,"span",61),y(136),h()(),m(137,"div",66),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/orders"))}),m(138,"span",67),y(139,"Open Orders"),h(),m(140,"span",61),y(141),h()(),m(142,"div",66),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/ipos"))}),m(143,"span",67),y(144,"Live IPOs"),h(),m(145,"span",61),y(146),h()()()()(),m(147,"div",68),k("click",function(){N(e);let r=M();return P(r.hasMultipleUsers()&&r.showFundsDetails())}),F(148,"div",69),m(149,"div",22)(150,"div",25)(151,"div",70),F(152,"fa-icon",71),h(),m(153,"span",28),y(154,"Funds Overview"),h()(),m(155,"div",58)(156,"div",72),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/funds"))}),m(157,"span",73),y(158,"Utilized Funds"),h(),m(159,"span",74),y(160),Y(161,"number"),h()(),m(162,"div",75),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/funds"))}),m(163,"span",76),y(164,"Available Margin"),h(),m(165,"span",61),y(166),Y(167,"number"),h()(),m(168,"div",75),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/funds"))}),m(169,"span",77),y(170,"Total Cash"),h(),m(171,"span",78),y(172),Y(173,"number"),h()()()()(),m(174,"div",79),F(175,"div",80),m(176,"div",22)(177,"div",25)(178,"div",81),F(179,"fa-icon",82),h(),m(180,"span",28),y(181,"Quick Actions"),h()(),m(182,"div",58)(183,"div",83),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/holdings"))}),m(184,"div",84),F(185,"fa-icon",71),h(),m(186,"span",85),y(187,"View Holdings"),h()(),m(188,"div",83),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/positions"))}),m(189,"div",86),F(190,"fa-icon",27),h(),m(191,"span",85),y(192,"View Positions"),h()(),m(193,"div",83),k("click",function(){N(e);let r=M();return P(r.navigateToPage("/orders"))}),m(194,"div",87),F(195,"fa-icon",88),h(),m(196,"span",85),y(197,"View Orders"),h()()()()()(),m(198,"div",89),F(199,"div",90),m(200,"div",91)(201,"span",28),y(202,"Portfolio Performance"),h()(),m(203,"div",92),F(204,"app-timeline-chart",93),h()()()}if(n&2){let e=M();g(2),Te("cursor-pointer",e.hasMultipleUsers()),g(7),x("icon",e.faWallet),g(4),q(" \u20B9",J(14,68,e.stats.totalInvestment,"1.2-2")," "),g(5),x("icon",e.faChartLine),g(4),q(" \u20B9",J(23,71,e.stats.currentValue,"1.2-2")," "),g(2),Te("cursor-pointer",e.hasMultipleUsers()),g(6),x("icon",e.faWallet),g(4),q(" \u20B9",J(35,74,e.stats.totalInvestment,"1.2-2")," "),g(2),Te("cursor-pointer",e.hasMultipleUsers()),g(6),x("icon",e.faChartLine),g(4),q(" \u20B9",J(47,77,e.stats.currentValue,"1.2-2")," "),g(2),Te("cursor-pointer",e.hasMultipleUsers()),x("ngClass",gt(113,hSe,e.stats.totalGains>=0,e.stats.totalGains<0)),g(),x("ngClass",gt(116,gSe,e.stats.totalGains>=0,e.stats.totalGains<0)),g(4),x("ngClass",gt(119,vSe,e.stats.totalGains>=0,e.stats.totalGains<0)),g(),x("icon",e.stats.totalGains>=0?e.faChartBar:e.faArrowTrendDown)("ngClass",gt(122,PZ,e.stats.totalGains>=0,e.stats.totalGains<0)),g(4),x("ngClass",gt(125,PZ,e.stats.totalGains>=0,e.stats.totalGains<0)),g(),q(" \u20B9",J(60,80,e.stats.totalGains,"1.2-2")," "),g(2),x("ngClass",gt(128,OZ,e.stats.totalGains>0,e.stats.totalGains<0)),g(),x("icon",e.stats.totalGains>=0?e.faArrowUp:e.faArrowDown),g(),q(" ",J(64,83,e.stats.totalGainsPercent,"1.2-2")," "),g(6),x("ngClass",wn(131,RZ,e.stats.todayGains>=0,e.stats.todayGains<0,e.stats.todayGains===0)),g(),q(" \u20B9",J(71,86,e.stats.todayGains,"1.2-2")," "),g(2),x("ngClass",gt(135,OZ,e.stats.todayGains>0,e.stats.todayGains<0)),g(),x("icon",e.stats.todayGainsPercent>=0?e.faArrowUp:e.faArrowDown),g(),q(" ",J(75,89,e.stats.todayGainsPercent,"1.2-2")," "),g(2),Te("cursor-pointer",e.hasMultipleUsers()),x("ngClass",gt(138,ySe,e.stats.totalPnL>=0,e.stats.totalPnL<0)),g(),x("ngClass",gt(141,_Se,e.stats.totalPnL>=0,e.stats.totalPnL<0)),g(4),x("ngClass",gt(144,bSe,e.stats.totalPnL>=0,e.stats.totalPnL<0)),g(),x("icon",e.faChartBar)("ngClass",gt(147,xSe,e.stats.totalPnL>=0,e.stats.totalPnL<0)),g(4),x("ngClass",wn(150,RZ,e.stats.totalPnL>0,e.stats.totalPnL<0,e.stats.totalPnL===0)),g(),q(" \u20B9",J(88,92,e.stats.totalPnL,"1.2-2")," "),g(7),q(" \u20B9",J(95,95,e.stats.maxProfit,"1.2-2")," "),g(3),Te("cursor-pointer",e.hasMultipleUsers()),g(5),x("icon",e.faDollarSign),g(8),j(e.stats.activeSips),g(5),q("\u20B9",J(116,98,e.stats.totalSipAmount,"1.0-0")),g(6),q("\u20B9",J(122,101,e.stats.contributionThisMonth,"1.0-0")),g(7),x("icon",e.faListCheck),g(8),j(e.stats.openPositions),g(5),j(e.stats.openOrders),g(5),j(e.stats.openIpos),g(),Te("cursor-pointer",e.hasMultipleUsers()),g(5),x("icon",e.faCoins),g(8),q("\u20B9",J(161,104,e.stats.utilizedFunds,"1.2-2")),g(6),q("\u20B9",J(167,107,e.stats.availableFunds,"1.2-2")),g(6),q("\u20B9",J(173,110,e.stats.totalCash,"1.2-2")),g(7),x("icon",e.faBuilding),g(6),x("icon",e.faWallet),g(5),x("icon",e.faChartLine),g(5),x("icon",e.faListCheck),g(8),x("@expandCollapse",e.showChart?"expanded":"collapsed"),g(),x("title","")("xAxisLabels",e.dateLabels)("legendLabels",e.legendLabels)("series",e.series)("showDataZoom",!0)("chartHeight","240")}}function MSe(n,t){if(n&1){let e=ee();m(0,"app-pnl-details-popup",94),k("close",function(){N(e);let r=M();return P(r.closePnLDetailsPopup())}),h()}if(n&2){let e=M();x("userData",e.popupUserData)("columns",e.popupColumns)("title",e.popupTitle)("sortByColumn",e.popupSortByColumn)}}var FZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f,p,v){this.holdingsService=i,this.positionsService=r,this.ordersService=o,this.fundsService=a,this.mfService=s,this.iposService=l,this.toastrService=c,this.userViewStateService=u,this.utilsService=d,this.ws=f,this.document=p,this.router=v,this.stats={totalInvestment:0,currentValue:0,totalGains:0,totalGainsPercent:0,todayGains:0,todayGainsPercent:0,openPositions:0,totalPnL:0,maxProfit:0,maxLoss:0,profitLeft:0,openOrders:0,activeSips:0,openIpos:0,availableFunds:0,totalSipAmount:0,contributionThisMonth:0,pausedSips:0,utilizedFunds:0,totalCollateralMargin:0,totalCash:0,availableMarginPercent:0},this.isLoading=!0,this.isInitialLoad=!0,this.errorMessage="",this.currentDateTime=new Date,this.users=[],this.selectedUserIds=[],this.rawData={},this.instrumentTokens=[],this.showPnLDetailsPopup=!1,this.popupUserData=[],this.popupColumns=[],this.popupTitle="",this.faWallet=X6,this.faChartLine=hg,this.faListCheck=J6,this.faCoins=mG,this.faBuilding=$j,this.faArrowUp=gg,this.faArrowDown=bg,this.faRefresh=Aa,this.faSpinner=ko,this.faDollarSign=dg,this.faChartBar=Jj,this.faArrowTrendDown=yG,this.stocksFnoPendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.showChart=!0,this.dateLabels=[],this.legendLabels=[],this.series=[],this.historicalTimelineValues=[]}ngOnInit(){let i=this.userViewStateService.getState();this.selectedUserIds=i.home?.selectedUsersIds||[],this.loadDashboardData()}ngAfterViewInit(){setTimeout(()=>{this.document.querySelector(".header")&&this.saveUserViewState()},0)}loadDashboardData(){this.isLoading=!0,this.errorMessage="",Hd({holdings:this.holdingsService.getHoldings().pipe(Vt(i=>(console.error("Error loading holdings:",i),this.toastrService.error("Failed to load holdings data","Holdings Error"),we({data:[]})))),positions:this.positionsService.getPositions().pipe(Vt(i=>(console.error("Error loading positions:",i),this.toastrService.error("Failed to load positions data","Positions Error"),we({data:[]})))),orders:this.ordersService.getOrders().pipe(Vt(i=>(console.error("Error loading orders:",i),this.toastrService.error("Failed to load orders data","Orders Error"),we({data:[]})))),funds:this.fundsService.getFunds().pipe(Vt(i=>(console.error("Error loading funds:",i),this.toastrService.error("Failed to load funds data","Funds Error"),we({data:[]})))),mfSips:this.mfService.getSips().pipe(Vt(i=>(console.error("Error loading MF SIPs:",i),this.toastrService.error("Failed to load mutual fund SIPs data","MF SIPs Error"),we({data:[]})))),ipos:this.iposService.getIPOs().pipe(Vt(i=>(console.error("Error loading IPOs:",i),this.toastrService.error("Failed to load IPOs data","IPOs Error"),we({data:[]}))))}).subscribe({next:i=>{this.rawData={holdings:i.holdings?.data||[],positions:i.positions?.data||[],orders:i.orders?.data||[],funds:i.funds?.data||[],mfSips:i.mfSips?.data||[],ipos:i.ipos?.data||[]},this.applyUserFilter(),this.collectInstrumentTokensAndSubscribe(),this.fetchHistoricalTimelineValues(),this.isLoading=!1,this.isInitialLoad=!1},error:i=>{console.error("Error loading dashboard data:",i),this.errorMessage="Failed to load dashboard data",this.isLoading=!1,this.isInitialLoad&&this.toastrService.error("Failed to load dashboard data","Error")}})}collectInstrumentTokensAndSubscribe(){let i=this.rawData.holdings.filter(a=>a.instrumentToken).map(a=>a.instrumentToken),r=this.rawData.positions.filter(a=>a.instrumentToken).map(a=>a.instrumentToken),o=[...i,...r];this.instrumentTokens=Array.from(new Set(o)),this.subscribeToWebSocket()}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(et(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updatePricesOnTick(i)})):console.log("No instrument tokens available for web socket subscription.")}updatePricesOnTick(i){i.forEach(r=>{this.rawData.holdings.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s&&s.lastPrice!==r.lastTradedPrice&&(s.lastPrice=r.lastTradedPrice,s.currentValue=s.quantity*r.lastTradedPrice,s.netPnl=s.currentValue-s.investedAmount,s.netChangePercentage=s.netPnl/s.investedAmount*100,s.dayChangePercentage=(r.lastTradedPrice-r.closePrice)/r.closePrice*100,s.dayPnl=s.dayChangePercentage*(s.quantity*r.closePrice)/100)}),this.rawData.positions.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s.position.change=r.change;let l=r.change,c=r.closePrice;if(s.position.daySellQuantity*-1===s.position.netQuantity?(c=s.position.sellPrice,l=(r.lastTradedPrice-c)/c*100):s.position.dayBuyQuantity===s.position.netQuantity&&(c=s.position.buyPrice,l=(r.lastTradedPrice-c)/c*100),s.dayPnl=l*(s.position.netQuantity*c)/100,s&&s.position.lastPrice!==r.lastTradedPrice){if(s.position.lastPrice=r.lastTradedPrice,s.position.netQuantity<0){let u=(s.position.sellPrice-s.position.buyPrice)*s.position.buyQuantity,d=(s.position.sellPrice-r.lastTradedPrice)*s.position.netQuantity*-1;s.position.pnl=u+d}else if(s.position.netQuantity>0){let u=(s.position.sellPrice-s.position.buyPrice)*s.position.sellQuantity,d=(r.lastTradedPrice-s.position.buyPrice)*s.position.netQuantity;s.position.pnl=u+d}}})}),this.recalculateStats()}recalculateStats(){if(this.selectedUserIds.length===0)this.calculateStats({holdings:{data:this.rawData.holdings},positions:{data:this.rawData.positions},orders:{data:this.rawData.orders},funds:{data:this.rawData.funds},mfSips:{data:this.rawData.mfSips},ipos:{data:this.rawData.ipos}});else{let i={holdings:{data:this.rawData.holdings.filter(r=>this.selectedUserIds.includes(r.userId))},positions:{data:this.rawData.positions.filter(r=>this.selectedUserIds.includes(r.userId))},orders:{data:this.rawData.orders.filter(r=>this.selectedUserIds.includes(r.userId))},funds:{data:this.rawData.funds.filter(r=>this.selectedUserIds.includes(r.userId))},mfSips:{data:this.rawData.mfSips.filter(r=>this.selectedUserIds.includes(r.userId))},ipos:{data:this.rawData.ipos.filter(r=>this.selectedUserIds.includes(r.userId))}};this.calculateStats(i)}this.updatePopupDataIfOpen()}calculateStats(i){let o=(i.holdings?.data||[]).reduce((E,D)=>{let L=D.quantity*D.averagePrice,z=D.quantity*D.lastPrice,R=z-L,H=D.dayPnl||0;return E.totalInvestment+=L,E.currentValue+=z,E.totalGains+=R,E.todayGains+=H,E},{totalInvestment:0,currentValue:0,totalGains:0,todayGains:0}),l=(i.positions?.data||[]).filter(E=>E.position?.product==="NRML").reduce((E,D)=>{let L=D.position;L.netQuantity!==0&&E.openPositions++,E.totalPnL+=L.pnl||0;let z=(L.sellValue||0)-(L.buyValue||0);return E.maxProfit+=z,L.pnl>E.maxSingleProfit&&(E.maxSingleProfit=L.pnl),L.pnl<E.maxLoss&&(E.maxLoss=L.pnl),E},{openPositions:0,totalPnL:0,maxProfit:0,maxSingleProfit:0,maxLoss:0}),c=l.maxProfit-l.totalPnL,d=(i.orders?.data||[]).filter(E=>this.stocksFnoPendingStatus.indexOf(E.order.status)>-1).length,f=i.funds?.data||[],p=f.reduce((E,D)=>E+(parseFloat(D.margin?.net)||0),0),v=i.mfSips?.data||[],_=this.calculateSipSummary(v),C=(i.ipos?.data||[]).filter(E=>E.status==="ongoing"||E.status==="preapply").length,w=this.calculateFundsStats(f,p);this.stats={totalInvestment:o.totalInvestment,currentValue:o.currentValue,totalGains:o.totalGains,totalGainsPercent:o.totalInvestment>0?o.totalGains/o.totalInvestment:0,todayGains:o.todayGains,todayGainsPercent:o.totalInvestment>0?o.todayGains/o.totalInvestment:0,openPositions:l.openPositions,totalPnL:l.totalPnL,maxProfit:l.maxProfit,maxLoss:l.maxLoss,openOrders:d,activeSips:_.activeSips,openIpos:C,availableFunds:p,totalSipAmount:_.totalSipAmount,contributionThisMonth:_.contributionThisMonth,pausedSips:_.pausedSips,utilizedFunds:w.utilizedFunds,totalCollateralMargin:w.totalCollateralMargin,totalCash:w.totalCash,availableMarginPercent:w.availableMarginPercent,profitLeft:c}}calculateSipSummary(i){let r=0,o=0,a=0,s=0,l=new Date,c=l.getMonth(),u=l.getFullYear();for(let d of i){let f=d?.mfSip;if(!f)continue;if(f.status==="PAUSED"){s+=1;continue}let p=f.instalmentAmount||0;r+=p;let v=new Date(f.lastInstalment);v.getMonth()===c&&v.getFullYear()===u&&v<l&&(o+=p),f.status==="ACTIVE"&&(a+=1)}return{totalSipAmount:r,contributionThisMonth:o,activeSips:a,pausedSips:s}}calculateFundsStats(i,r){let o=0,a=0;i.forEach(c=>{o+=Number(c.margin.utilised.debits),a+=Number(c.margin.available.collateral)});let s=o+r-a,l=a>0?r/a*100:0;return{utilizedFunds:o,totalCollateralMargin:a,totalCash:s,availableMarginPercent:l}}refresh(){this.currentDateTime=new Date,this.loadDashboardData()}navigateToPage(i){this.router.navigate([i])}saveUserViewState(){this.userViewStateService.setState({home:{selectedUsersIds:this.selectedUserIds}})}fetchHistoricalTimelineValues(i){this.utilsService.fetchHistoricalTimelineValues("holdings").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{i&&i()}})}populateTimelineChartData(){let i=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,[]);this.dateLabels=i.dateLabels,this.legendLabels=i.legendLabels,this.series=i.series}onAllUserSelection(){this.selectedUserIds=[],this.applyUserFilter(),this.saveUserViewState()}onUserSelection(i){this.selectedUserIds=i,this.applyUserFilter(),this.saveUserViewState()}captureUsers(i){this.users=i}hasMultipleUsers(){return this.users.length>1}applyUserFilter(){this.recalculateStats(),this.selectedUserIds.length===0?this.populateTimelineChartData():this.populateTimelineChartDataForUsers(this.selectedUserIds)}populateTimelineChartDataForUsers(i){let r=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,i);this.dateLabels=r.dateLabels,this.legendLabels=r.legendLabels,this.series=r.series}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}updatePopupDataIfOpen(){this.showPnLDetailsPopup&&(this.popupTitle==="Holdings P&L Details by User"||this.popupTitle==="Positions P&L Details by User"?this.popupUserData=this.calculateUserPnLData():this.popupTitle==="Investment Details by User"&&(this.popupUserData=this.calculateUserInvestmentData()))}closePnLDetailsPopup(){this.showPnLDetailsPopup=!1}showHoldingsPnLDetails(){this.popupTitle="Holdings P&L Details by User",this.popupSortByColumn="totalPnL",this.popupColumns=[{key:"totalPnL",label:"Total P&L",type:"currency-with-percent",colorize:!0},{key:"daysPnL",label:"Day's P&L",type:"currency-with-percent",colorize:!0}],this.popupUserData=this.calculateUserPnLData(),this.showPnLDetailsPopup=!0}showPositionsPnLDetails(){this.popupTitle="Positions P&L Details by User",this.popupSortByColumn="positionsPnL",this.popupColumns=[{key:"positionsPnL",label:"Positions P&L",type:"currency",colorize:!0},{key:"maxProfit",label:"Max Profit",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserPnLData(),this.showPnLDetailsPopup=!0}showFundsDetails(){this.popupTitle="Funds Details by User",this.popupSortByColumn="availableMargin",this.popupColumns=[{key:"utilizedFunds",label:"Utilized Funds",type:"currency",colorize:!1},{key:"availableMargin",label:"Available Margin",type:"currency",colorize:!1},{key:"totalCash",label:"Total Cash",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserFundsData(),this.showPnLDetailsPopup=!0}showMutualFundsDetails(){this.popupTitle="Mutual Funds Details by User",this.popupSortByColumn="totalSipAmount",this.popupColumns=[{key:"activeSips",label:"Active SIPs",type:"number",colorize:!1},{key:"totalSipAmount",label:"Total SIP Amount",type:"currency",colorize:!1},{key:"monthlyContribution",label:"This Month",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserMFData(),this.showPnLDetailsPopup=!0}showInvestmentDetails(){this.popupTitle="Investment Details by User",this.popupSortByColumn="currentValue",this.popupColumns=[{key:"totalInvestment",label:"Total Investment",type:"currency",colorize:!1},{key:"currentValue",label:"Current Value",type:"currency",colorize:!1},{key:"totalGains",label:"Total Gains",type:"currency-with-percent",colorize:!0}],this.popupUserData=this.calculateUserInvestmentData(),this.showPnLDetailsPopup=!0}calculateUserPnLData(){let i=new Map;return this.users.forEach(o=>{i.set(o.userId,{userId:o.userId,userName:o.profile?.userName||o.name,avatarUrl:o.profile?.avatarURL,totalPnL:0,daysPnL:0,positionsPnL:0,maxProfit:0,totalInvestment:0,totalPnLPercent:0,daysPnLPercent:0})}),this.rawData.holdings.forEach(o=>{let a=i.get(o.userId);if(a){let s=o.quantity*o.averagePrice,c=o.quantity*o.lastPrice-s,u=o.dayPnl||0;a.totalPnL+=c,a.daysPnL+=u,a.totalInvestment+=s}}),i.forEach(o=>{o.totalInvestment>0&&(o.totalPnLPercent=o.totalPnL/o.totalInvestment*100,o.daysPnLPercent=o.daysPnL/o.totalInvestment*100)}),this.rawData.positions.filter(o=>o.position?.product==="NRML").forEach(o=>{let a=i.get(o.userId);if(a){let s=o.position;a.positionsPnL+=s.pnl||0;let l=(s.sellValue||0)-(s.buyValue||0);a.maxProfit+=l}}),Array.from(i.values())}calculateUserFundsData(){let i=new Map;return this.users.forEach(r=>{i.set(r.userId,{userId:r.userId,userName:r.profile?.userName||r.name,avatarUrl:r.profile?.avatarURL,utilizedFunds:0,availableMargin:0,totalCash:0,collateralMargin:0})}),this.rawData.funds.forEach(r=>{let o=i.get(r.userId);if(o){let a=Number(r.margin?.utilised?.debits||0),s=Number(r.margin?.net||0),l=Number(r.margin?.available?.collateral||0);o.utilizedFunds=a,o.availableMargin=s,o.collateralMargin=l,o.totalCash=a+s-l}}),Array.from(i.values())}calculateUserMFData(){let i=new Map;this.users.forEach(s=>{i.set(s.userId,{userId:s.userId,userName:s.profile?.userName||s.name,avatarUrl:s.profile?.avatarURL,activeSips:0,totalSipAmount:0,monthlyContribution:0})});let r=new Date,o=r.getMonth(),a=r.getFullYear();return this.rawData.mfSips.forEach(s=>{let l=i.get(s.userId);if(l&&s.mfSip){let c=s.mfSip,u=c.instalmentAmount||0;if(c.status==="ACTIVE"){l.activeSips+=1,l.totalSipAmount+=u;let d=new Date(c.lastInstalment);d.getMonth()===o&&d.getFullYear()===a&&d<r&&(l.monthlyContribution+=u)}}}),Array.from(i.values())}calculateUserInvestmentData(){let i=new Map;return this.users.forEach(r=>{i.set(r.userId,{userId:r.userId,userName:r.profile?.userName||r.name,avatarUrl:r.profile?.avatarURL,totalInvestment:0,currentValue:0,totalGains:0,totalGainsPercent:0})}),this.rawData.holdings.forEach(r=>{let o=i.get(r.userId);if(o){let a=r.quantity*r.averagePrice,s=r.quantity*r.lastPrice,l=s-a;o.totalInvestment+=a,o.currentValue+=s,o.totalGains+=l}}),i.forEach(r=>{r.totalInvestment>0&&(r.totalGainsPercent=r.totalGains/r.totalInvestment*100)}),Array.from(i.values())}};t.\u0275fac=function(r){return new(r||t)(V(yv),V(_v),V(Cs),V(Ss),V(Cv),V(f0),V(tt),V(Bn),V(En),V(sr),V(Me),V(un))},t.\u0275cmp=ie({type:t,selectors:[["app-home"]],decls:11,vars:5,consts:[[1,"page-container"],[1,"flex","justify-between","items-start","mb-1"],[1,"flex-1","pr-4"],[1,"text-2xl","md:text-2xl","font-bold","text-gray-600","mb-2"],[1,"flex-shrink-0"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-md",4,"ngIf"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","page-content",4,"ngIf"],[3,"userData","columns","title","sortByColumn","close",4,"ngIf"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-md"],[1,"flex","items-center"],[1,"text-red-500","mr-2",3,"icon"],[1,"text-red-700"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"text-lg","text-gray-400","mt-2","flex","items-center","justify-center","gap-2"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500","inline-block"],[1,"page-content"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"md:hidden","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-blue-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","top-0","right-0","w-20","h-20","bg-blue-50","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity"],[1,"relative","z-10"],[1,"grid","grid-cols-2","gap-4"],[1,"border-r","border-gray-200","pr-3"],[1,"flex","items-center","mb-2"],[1,"p-2","bg-blue-100","rounded-md","mr-2"],[1,"text-blue-600","text-base",3,"icon"],[1,"text-lg","font-medium","text-gray-600","m-0"],[1,"text-2xl","font-medium","text-gray-700"],[1,"pl-1"],[1,"p-2","bg-emerald-100","rounded-md","mr-2"],[1,"text-emerald-600","text-base",3,"icon"],[1,"hidden","md:block","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-blue-500","relative","overflow-hidden","group",3,"click"],[1,"flex","items-center","justify-between","mb-3"],[1,"p-2","bg-blue-100","rounded-md","mr-3"],[1,"text-2xl","md:text-2xl","font-medium","text-gray-700"],[1,"hidden","md:block","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-emerald-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","top-0","right-0","w-20","h-20","bg-emerald-50","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity"],[1,"p-2","bg-emerald-100","rounded-md","mr-3"],[1,"bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","relative","overflow-hidden","group",3,"click","ngClass"],[1,"absolute","top-0","right-0","w-20","h-20","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity",3,"ngClass"],[1,"p-2","rounded-md","mr-3",3,"ngClass"],[1,"text-base",3,"icon","ngClass"],[1,"flex","items-center","justify-between"],[1,"text-2xl","md:text-2xl","font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"],[1,"mr-1","text-xs",3,"icon"],[1,"flex","items-center","justify-between","mt-2","pt-2","border-t","border-gray-100"],[1,"text-base","text-gray-600","font-medium"],[1,"flex","items-center","gap-1"],[1,"text-base","font-medium","mr-2",3,"ngClass"],[1,"text-base","font-medium","text-gray-700"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-indigo-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-indigo-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-indigo-100","rounded-md","mr-2"],[1,"text-indigo-600","text-base",3,"icon"],[1,"space-y-1.5","mt-2"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-indigo-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-indigo-700"],[1,"font-medium","text-gray-800","px-2","py-0.5","rounded-md","text-base"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-orange-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-orange-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-orange-100","rounded-md","mr-2"],[1,"text-orange-600","text-base",3,"icon"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-orange-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-orange-700"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-green-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-green-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-green-100","rounded-md","mr-2"],[1,"text-green-600","text-base",3,"icon"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-red-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-red-700"],[1,"font-medium","text-red-600","px-2","py-0.5","rounded-md","text-base"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-green-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-green-700"],[1,"text-gray-600","text-base","group-hover:item:text-green-700"],[1,"font-medium","text-green-600","px-2","py-0.5","rounded-md","text-base"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-pink-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-pink-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-pink-100","rounded-md","mr-2"],[1,"text-pink-600","text-base",3,"icon"],[1,"flex","items-center","cursor-pointer","hover:bg-pink-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"p-1","bg-green-100","rounded-md","mr-2","group-hover/item:bg-green-200","transition-colors"],[1,"text-gray-700","text-base","group-hover/item:text-pink-700"],[1,"p-1","bg-blue-100","rounded-md","mr-2","group-hover/item:bg-blue-200","transition-colors"],[1,"p-1","bg-purple-100","rounded-md","mr-2","group-hover/item:bg-purple-200","transition-colors"],[1,"text-purple-600","text-base",3,"icon"],[1,"bg-white","p-4","md:p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-gray-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-gray-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"flex","items-center","mb-3"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom","chartHeight"],[3,"close","userData","columns","title","sortByColumn"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4,"Welcome to FamVest"),h()(),m(5,"div",4)(6,"app-user-filter",5),k("selectAllUsers",function(){return o.onAllUserSelection()})("selectUsers",function(s){return o.onUserSelection(s)})("totalUsers",function(s){return o.captureUsers(s)}),h()()(),A(7,CSe,5,2,"div",6)(8,SSe,5,0,"div",7)(9,wSe,205,154,"div",8),h(),A(10,MSe,1,4,"app-pnl-details-popup",9)),r&2&&(g(6),x("selectedUserIds",o.selectedUserIds),g(),x("ngIf",o.errorMessage),g(),x("ngIf",o.isLoading),g(),x("ngIf",!o.isLoading&&!o.errorMessage),g(),x("ngIf",o.showPnLDetailsPopup))},dependencies:[We,Oe,ye,ot,Fc,Cu,nr,NZ,ln,qn],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 80px);min-height:calc(100vh - var(--header-height, 80px) - 80px)}"],data:{animation:[Pi,HW]}});let n=t;return n})();var BZ=(n,t,e)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":t,"bg-gray-50 text-gray-600":e}),TSe=(n,t,e)=>({"text-green-700":n,"text-red-700":t,"text-gray-700":e}),LD=(n,t,e)=>({"text-green-600":n,"text-red-500":t,"text-gray-600":e}),Mv=(n,t)=>({"text-green-600":n,"text-red-500":t}),ESe=(n,t,e)=>({"border-green-200 from-green-100 to-emerald-50":n,"border-red-200 from-red-100 to-red-50":t,"border-gray-200 from-gray-100 to-gray-50":e}),DSe=(n,t)=>({"border-green-200 from-green-100 to-emerald-50":n,"border-red-200 from-red-100 to-red-50":t});function ISe(n,t){if(n&1){let e=ee();m(0,"div",23),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.addToBasket(r))})("keydown.enter",function(){let r=N(e).$implicit,o=M(2);return P(o.addToBasket(r))}),m(1,"div",24)(2,"div",25),y(3),h(),m(4,"div",26),y(5),h()()()}if(n&2){let e=t.$implicit;g(3),j(e.displayName),g(2),j(e.segment)}}function LSe(n,t){if(n&1&&(m(0,"div",21),A(1,ISe,6,2,"div",22),h()),n&2){let e=M();g(),x("ngForOf",e.fetchedInstruments)}}function ASe(n,t){n&1&&(m(0,"div",27),F(1,"div",28),h())}function zSe(n,t){n&1&&(m(0,"div",29),Ut(),m(1,"svg",30),F(2,"path",31),h(),Ln(),m(3,"h3",32),y(4,"Your basket is empty"),h(),m(5,"p",33),y(6,"Search and select instruments above or click the basket button (\u{1F6D2}) in the watchlist to add them to your basket"),h()())}function kSe(n,t){n&1&&(m(0,"span",57),y(1,"..."),h())}function NSe(n,t){if(n&1&&(m(0,"span",58),y(1),Y(2,"number"),h()),n&2){let e=M().$implicit;g(),q("\u20B9",J(2,1,e.marginRequired,"1.2-2"))}}function PSe(n,t){if(n&1){let e=ee();m(0,"tr",40)(1,"td",41)(2,"div",42)(3,"div",43)(4,"span",25),y(5),h(),m(6,"span",44),y(7),h(),F(8,"app-market-depth-invoker",45),m(9,"span",46),y(10),Y(11,"number"),h(),m(12,"span",47),y(13),Y(14,"percent"),h(),F(15,"app-small-chip",48),h()()(),m(16,"td",49)(17,"app-small-chip",50),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleTransactionType(r))})("keydown.enter",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleTransactionType(r))}),h()(),m(18,"td",49)(19,"app-small-chip",50),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleOrderType(r))})("keydown.enter",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleOrderType(r))}),h()(),m(20,"td",41)(21,"input",51),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.quantity,r)||(o.quantity=r),P(r)}),k("input",function(r){let o=N(e).$implicit,a=M(2);return P(a.updateQuantity(o,r))}),h()(),m(22,"td",41)(23,"input",52),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.price,r)||(o.price=r),P(r)}),k("input",function(r){let o=N(e).$implicit,a=M(2);return P(a.updatePrice(o,r))}),h()(),m(24,"td",41),A(25,kSe,2,0,"span",53)(26,NSe,3,4,"span",54),h(),m(27,"td",41)(28,"button",55),k("click",function(){let r=N(e).index,o=M(2);return P(o.removeFromBasket(r))}),F(29,"fa-icon",56),h()()()}if(n&2){let e=t.$implicit,i=M(2);g(5),j(e.displayName),g(2),j(e.exchange),g(),x("title",e.displayName)("instrumentToken",e.instrumentToken)("iconColor","gray"),g(),x("ngClass",i.color(e.change)),g(),q(" ",J(11,23,e.lastPrice,"1.2-2")," "),g(2),x("ngClass",wn(29,BZ,e.change>0,e.change<0,e.change===0)),g(),q(" ",J(14,26,e.change/100,"1.2-2")," "),g(2),x("text",e.productType)("color",e.productType==="MIS"?"orange":"purple"),g(2),x("text",e.transactionType)("color",e.transactionType==="BUY"?"blue":"red"),g(2),x("text",e.orderType)("color","gray"),g(2),_t("ngModel",e.quantity),g(2),_t("ngModel",e.price),x("disabled",e.orderType==="MARKET")("placeholder",e.orderType==="MARKET"?"Market":"0.00"),g(2),x("ngIf",i.isCalculatingMargin),g(),x("ngIf",!i.isCalculatingMargin),g(2),x("matTooltip","Remove from Basket"),g(),x("icon",i.faTrash)}}function OSe(n,t){if(n&1&&(m(0,"div",34)(1,"table",35)(2,"thead",36)(3,"tr")(4,"th",37),y(5,"Instrument"),h(),m(6,"th",37),y(7,"Transaction"),h(),m(8,"th",37),y(9,"Order Type"),h(),m(10,"th",37),y(11,"Qty"),h(),m(12,"th",37),y(13,"Price"),h(),m(14,"th",37),y(15,"Margin"),h(),m(16,"th",37),y(17,"Action"),h()()(),m(18,"tbody",38),A(19,PSe,30,33,"tr",39),h()()()),n&2){let e=M();g(19),x("ngForOf",e.basketItems)("ngForTrackBy",e.trackById)}}function RSe(n,t){n&1&&(m(0,"span",77),y(1,"..."),h())}function FSe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),h()),n&2){let e=M().$implicit;g(),q("\u20B9",J(2,1,e.marginRequired,"1.2-2"))}}function BSe(n,t){if(n&1){let e=ee();m(0,"div",61)(1,"div",62)(2,"div",63)(3,"div",64)(4,"div",43)(5,"span",13),y(6),h(),m(7,"span",44),y(8),h(),F(9,"app-market-depth-invoker",45),m(10,"span",46),y(11),Y(12,"number"),h(),m(13,"span",47),y(14),Y(15,"percent"),h()()(),m(16,"button",65),k("click",function(){let r=N(e).index,o=M(2);return P(o.removeFromBasket(r))}),F(17,"fa-icon",56),h()()(),m(18,"div",66)(19,"div")(20,"label",67),y(21,"Transaction"),h(),m(22,"div",68),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleTransactionType(r))})("keydown.enter",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleTransactionType(r))}),F(23,"app-small-chip",69)(24,"app-small-chip",48),h()(),m(25,"div")(26,"label",67),y(27,"Order Type"),h(),m(28,"div",68),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleOrderType(r))})("keydown.enter",function(){let r=N(e).$implicit,o=M(2);return P(o.toggleOrderType(r))}),F(29,"app-small-chip",48),h()(),m(30,"div")(31,"label",67),y(32,"Quantity"),h(),m(33,"input",70),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.quantity,r)||(o.quantity=r),P(r)}),k("input",function(r){let o=N(e).$implicit,a=M(2);return P(a.updateQuantity(o,r))}),h()(),m(34,"div")(35,"label",67),y(36,"Price"),h(),m(37,"input",71),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.price,r)||(o.price=r),P(r)}),k("input",function(r){let o=N(e).$implicit,a=M(2);return P(a.updatePrice(o,r))}),h()()(),m(38,"div",72)(39,"div",24)(40,"span",73),y(41,"Margin Required"),h(),m(42,"span",74),A(43,RSe,2,0,"span",75)(44,FSe,3,4,"span",76),h()()()()}if(n&2){let e=t.$implicit,i=t.index,r=M(2);g(6),j(e.displayName),g(2),j(e.exchange),g(),x("title",e.displayName)("instrumentToken",e.instrumentToken)("iconColor","gray"),g(),x("ngClass",r.color(e.change)),g(),q(" ",J(12,31,e.lastPrice,"1.2-2")," "),g(2),x("ngClass",wn(37,BZ,e.change>0,e.change<0,e.change===0)),g(),q(" ",J(15,34,e.change/100,"1.2-2")," "),g(2),x("matTooltip","Remove from Basket"),g(),x("icon",r.faTrash),g(3),x("for","transaction-"+i),g(2),x("id","transaction-"+i),g(),x("text",e.transactionType)("color",e.transactionType==="BUY"?"blue":"red"),g(),x("text",e.productType)("color",e.productType==="MIS"?"orange":"purple"),g(2),x("for","orderType-"+i),g(2),x("id","orderType-"+i),g(),x("text",e.orderType)("color","gray"),g(2),x("for","quantity-"+i),g(2),x("id","quantity-"+i),_t("ngModel",e.quantity),g(2),x("for","price-"+i),g(2),x("id","price-"+i),_t("ngModel",e.price),x("disabled",e.orderType==="MARKET")("placeholder",e.orderType==="MARKET"?"Market":"0.00"),g(6),x("ngIf",r.isCalculatingMargin),g(),x("ngIf",!r.isCalculatingMargin)}}function VSe(n,t){if(n&1&&(m(0,"div",59),A(1,BSe,45,41,"div",60),h()),n&2){let e=M();g(),x("ngForOf",e.basketItems)("ngForTrackBy",e.trackById)}}function USe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),h()),n&2){let e=M(2);g(),q("\u20B9",J(2,1,e.totalMargin,"1.0-0"))}}function HSe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),h()),n&2){let e=M(2);g(),q("\u20B9",J(2,1,e.finalMargin,"1.0-0"))}}function jSe(n,t){if(n&1&&(m(0,"span",113),y(1),h()),n&2){let e=M(2);g(),q(" ",e.isNetDebit()?"(Debit)":"(Credit)"," ")}}function GSe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),h()),n&2){let e=M(2);g(),q("\u20B9",J(2,1,e.totalMargin,"1.0-0"))}}function WSe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),h()),n&2){let e=M(2);g(),q("\u20B9",J(2,1,e.availableMargin,"1.0-0"))}}function qSe(n,t){if(n&1&&(m(0,"span"),y(1),Y(2,"number"),h()),n&2){let e=M(2);g(),q("\u20B9",J(2,1,e.finalMargin,"1.0-0"))}}function $Se(n,t){n&1&&(m(0,"span"),y(1,"Refresh Margins"),h())}function YSe(n,t){if(n&1){let e=ee();m(0,"div",78)(1,"div",79)(2,"div",80)(3,"div",81)(4,"span",82),y(5,"Margin Overview for Total Items"),h(),m(6,"span",13),y(7),h()(),m(8,"div",83)(9,"div",24)(10,"span",46),y(11,"Net Premium"),h(),m(12,"div",84)(13,"span",85),y(14),Y(15,"number"),h()()(),F(16,"div",86),m(17,"div",66)(18,"div",24)(19,"span",13),y(20,"Utilized"),h(),m(21,"span",74),y(22),Y(23,"number"),h()(),m(24,"div",24)(25,"span",13),y(26,"Available"),h(),m(27,"span",74),y(28),Y(29,"number"),h()()(),F(30,"div",86),m(31,"div",66)(32,"div",87)(33,"span",13),y(34,"Total"),h(),m(35,"span",74),A(36,USe,3,4,"span",76),h()(),m(37,"div",87),Y(38,"number"),m(39,"span",13),y(40,"Final"),h(),m(41,"span",88),A(42,HSe,3,4,"span",76),h()()()()(),m(43,"div",89)(44,"input",90),bt("ngModelChange",function(r){N(e);let o=M();return Mt(o.includeExistingPositions,r)||(o.includeExistingPositions=r),P(r)}),k("change",function(){N(e);let r=M();return P(r.calculateBasketMargin())}),h(),m(45,"label",91),y(46," Include Existing Positions "),h()(),m(47,"div",92)(48,"button",93),k("click",function(){N(e);let r=M();return P(r.placeBasketOrders())}),y(49," Execute "),h()()(),m(50,"div",94)(51,"div",95)(52,"div",96)(53,"div",97),y(54,"Items"),h(),m(55,"div",98),y(56),h()(),m(57,"div",99)(58,"div",100),y(59," Net Premium "),h(),m(60,"div",101),y(61),Y(62,"number"),A(63,jSe,2,1,"span",102),h()(),m(64,"div",103)(65,"div",97),y(66,"Total Margin"),h(),m(67,"div",98),A(68,GSe,3,4,"span",76),h()(),m(69,"div",104)(70,"div",97),y(71,"Utilized Margin"),h(),m(72,"div",98),y(73),Y(74,"number"),h()(),m(75,"div",104)(76,"div",97),y(77," Available Margin "),h(),m(78,"div",101),A(79,WSe,3,4,"span",76),h()(),m(80,"div",105),Y(81,"number"),m(82,"div",100),y(83," Final Margin "),h(),m(84,"div",101),A(85,qSe,3,4,"span",76),h()()(),m(86,"div",106)(87,"div",107)(88,"input",108),bt("ngModelChange",function(r){N(e);let o=M();return Mt(o.includeExistingPositions,r)||(o.includeExistingPositions=r),P(r)}),k("change",function(){N(e);let r=M();return P(r.calculateBasketMargin())}),h(),m(89,"label",109),y(90," Include Existing Positions "),h()(),m(91,"div",110)(92,"button",111),k("click",function(){N(e);let r=M();return r.calculateBasketMargin(),P(r.fetchFundsData())}),A(93,$Se,2,0,"span",76),h(),m(94,"button",112),k("click",function(){N(e);let r=M();return P(r.placeBasketOrders())}),y(95," Execute "),h()()()()()}if(n&2){let e=M();g(7),j(e.basketItems.length),g(3),x("ngClass",wn(52,TSe,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(3),x("ngClass",wn(56,LD,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(),q(" \u20B9",J(15,31,e.getAbsoluteNetPremium(),"1.2-2")," "),g(8),q("\u20B9",J(23,34,e.utilizedMargin,"1.0-0")),g(6),q("\u20B9",J(29,37,e.availableMargin,"1.0-0")),g(4),x("matTooltip","Utilized + Available"),g(4),x("ngIf",!e.isCalculatingMargin),g(),x("matTooltip","Required Margin: \u20B9"+J(38,40,e.requiredMargin,"1.0-0")),g(4),x("ngClass",gt(60,Mv,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),g(),x("ngIf",!e.isCalculatingMargin),g(2),_t("ngModel",e.includeExistingPositions),g(12),j(e.basketItems.length),g(),x("ngClass",wn(63,ESe,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(),x("ngClass",wn(67,LD,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(2),x("ngClass",wn(71,LD,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),g(),q(" \u20B9",J(62,43,e.getAbsoluteNetPremium(),"1.2-2")," "),g(2),x("ngIf",e.netPremium!==0),g(),x("matTooltip","Utilized Margin + Available Margin"),g(4),x("ngIf",!e.isCalculatingMargin),g(5),q("\u20B9",J(74,46,e.utilizedMargin,"1.0-0")),g(5),x("ngClass",gt(75,Mv,0<e.availableMargin,0>=e.availableMargin)),g(),x("ngIf",!e.isCalculatingMargin),g(),x("ngClass",gt(78,DSe,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin))("matTooltip","Required Margin: \u20B9"+J(81,49,e.requiredMargin,"1.0-0")),g(2),x("ngClass",gt(81,Mv,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),g(2),x("ngClass",gt(84,Mv,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),g(),x("ngIf",!e.isCalculatingMargin),g(3),_t("ngModel",e.includeExistingPositions),g(4),x("disabled",e.isCalculatingMargin),g(),x("ngIf",!e.isCalculatingMargin)}}var VZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c){this.watchlistService=i,this.toastr=r,this.fundsService=o,this.tradingAccountService=a,this.ws=s,this.ordersService=l,this.basketCommunicationService=c,this.isLoading=!0,this.basketItems=[],this.searchTerm="",this.fetchedInstruments=[],this.searchTermChanged=new me,this.requiredMargin=0,this.finalMargin=0,this.isCalculatingMargin=!1,this.tradingAccounts=[],this.selectedTradingAccountId="",this.includeExistingPositions=!1,this.instrumentTokens=[],this.marginCalculationTrigger=new me,this.funds=[],this.utilizedMargin=0,this.availableMargin=0,this.isIntraday=!1,this.netPremium=0,this.BASKET_CACHE_KEY="basket_order_items",this.faSearch=ql,this.faTrash=$l}ngOnInit(){this.isLoading=!0,this.searchSubscription=this.searchTermChanged.pipe(ea(300),c1()).subscribe(i=>{this.searchInstruments(i)}),this.marginCalculationSubscription=this.marginCalculationTrigger.pipe(ea(500)).subscribe(()=>{this.performMarginCalculation()}),this.basketCommunicationSubscription=this.basketCommunicationService.addToBasket$.subscribe(i=>{this.addToBasket(i)}),this.fetchTradingAccounts()}ngOnDestroy(){this.searchSubscription?.unsubscribe(),this.wsSubscription?.unsubscribe(),this.marginCalculationSubscription?.unsubscribe(),this.basketCommunicationSubscription?.unsubscribe(),this.instrumentTokens.length>0&&this.ws.unsubscribe(this.instrumentTokens),this.saveBasketItems()}fetchTradingAccounts(){this.isLoading=!0,this.tradingAccountService.getTradingAccounts().subscribe({next:i=>{this.tradingAccounts=i.data,this.tradingAccounts.length>0&&(this.selectedTradingAccountId=this.tradingAccounts[0].userId,this.fetchFundsData(),this.loadBasketItems(),this.isLoading=!1)},error:i=>{console.error("Error while fetching trading accounts:",i),this.toastr.error(i.error?.message||"Failed to fetch trading accounts","Error")}})}fetchFundsData(){this.selectedTradingAccountId&&this.fundsService.getFunds().subscribe({next:i=>{this.funds=i.data||[],this.updateMarginValues()},error:i=>{console.error("Error while fetching funds data:",i),this.toastr.error(i.error?.message||"Failed to fetch funds data","Error")}})}updateMarginValues(){let i=this.funds.find(r=>r.userId===this.selectedTradingAccountId);i?(this.utilizedMargin=i.margin?.utilised?.debits||0,this.availableMargin=i.margin?.net||0):(this.utilizedMargin=0,this.availableMargin=0)}onSearchTermChange(i){let o=i.target?.value||"";this.searchTermChanged.next(o)}searchInstruments(i){if(!i.trim()){this.fetchedInstruments=[];return}this.watchlistService.searchInstruments(i.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastr.error(r.error.message,"Error")}})}addToBasket(i){if(this.basketItems.length>=6){this.toastr.warning("Maximum 6 instruments allowed in basket","Limit Reached");return}this.searchTerm="",this.fetchedInstruments=[];let r=this.getCachedQuantity(i.exchange),o={displayName:i.displayName,tradingSymbol:i.tradingSymbol,instrumentToken:i.instrumentToken,segment:i.segment,exchange:i.exchange,quantity:r,orderType:"LIMIT",transactionType:"SELL",price:0,marginRequired:0,lastPrice:0,change:0,priceUpdated:!1,isIntraday:this.isIntraday,productType:"NRML"};o.productType=this.getProductType(o),this.basketItems.push(o),this.subscribeToInstrument(i.instrumentToken),this.calculateBasketMargin(),this.calculateNetPremium()}removeFromBasket(i){let r=this.basketItems[i];this.basketItems.splice(i,1),this.unsubscribeFromInstrument(r.instrumentToken),this.basketItems.length>0?(this.calculateBasketMargin(),this.calculateNetPremium()):(this.requiredMargin=0,this.finalMargin=0,this.netPremium=0)}toggleTransactionType(i){i.transactionType=i.transactionType==="BUY"?"SELL":"BUY",this.calculateBasketMargin(),this.calculateNetPremium()}toggleOrderType(i){i.orderType==="MARKET"?i.orderType="LIMIT":i.orderType==="LIMIT"&&(i.orderType="MARKET",i.price=0),this.calculateBasketMargin(),this.calculateNetPremium()}updateQuantity(i,r){let o=r.target,a=parseInt(o.value)||1;i.quantity=Math.max(1,a),this.cacheQuantity(i.exchange,i.quantity),this.calculateBasketMargin(),this.calculateNetPremium()}updatePrice(i,r){let o=r.target,a=parseFloat(o.value)||0;i.price=Math.max(0,a),this.calculateBasketMargin(),this.calculateNetPremium()}calculateBasketMargin(){this.marginCalculationTrigger.next()}performMarginCalculation(){if(this.basketItems.length===0)return;if(!this.selectedTradingAccountId){this.toastr.warning("Please select a trading account","Warning");return}let i=this.basketItems.map(o=>({exchange:o.exchange,tradingSymbol:o.tradingSymbol,transactionType:o.transactionType,variety:"regular",product:this.getProductType(o),orderType:o.orderType,quantity:o.quantity,price:o.orderType==="MARKET"?0:o.price})),r={tradingAccountId:this.selectedTradingAccountId,marginCalculationParams:i,includeExistingPositions:this.includeExistingPositions};this.fundsService.calculateCombinedMargin(r).subscribe({next:o=>{let a=o.data;a?.orders&&Array.isArray(a.orders)&&a.orders.forEach((s,l)=>{this.basketItems[l]&&(this.basketItems[l].marginRequired=s.total||0)}),this.requiredMargin=a?.initialMargin?.total||0,this.finalMargin=a?.finalMargin?.total||0,this.finalMargin=this.finalMargin>0?this.finalMargin:0,this.isCalculatingMargin=!1},error:o=>{console.error("Error while calculating margin:",o),this.toastr.error(o.error?.message||"Failed to calculate margin","Error"),this.isCalculatingMargin=!1}})}getProductType(i){return i.isIntraday?"MIS":i.segment==="NFO-OPT"||i.segment==="NFO-FUT"||i.segment==="BFO-OPT"||i.segment==="BFO-FUT"?"NRML":"CNC"}onIntradayChange(){this.basketItems.forEach(i=>{i.isIntraday=this.isIntraday,i.productType=this.getProductType(i)}),this.calculateBasketMargin()}subscribeToInstrument(i){this.instrumentTokens.push(i),this.ws.connectionState().pipe(et(r=>r),Nt(1)).subscribe(()=>{this.ws.subscribe([i])}),this.wsSubscription||(this.wsSubscription=this.ws.ticks().subscribe(r=>{this.updateBasketItemsOnTick(r)}))}unsubscribeFromInstrument(i){let r=this.instrumentTokens.indexOf(i);r>-1&&(this.instrumentTokens.splice(r,1),this.ws.unsubscribe([i]))}updateBasketItemsOnTick(i){i.forEach(r=>{this.basketItems.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a.lastPrice!==r.lastTradedPrice&&(a.lastPrice=r.lastTradedPrice,a.change=r.change,!a.priceUpdated&&a.orderType==="LIMIT"&&r.lastTradedPrice>0&&(a.price=r.lastTradedPrice,a.priceUpdated=!0,this.calculateBasketMargin(),this.calculateNetPremium()))})})}getCachedQuantity(i){let r=`basket_qty_${this.selectedTradingAccountId}_${i}`,o=localStorage.getItem(r);return o?parseInt(o):1}cacheQuantity(i,r){let o=`basket_qty_${this.selectedTradingAccountId}_${i}`;localStorage.setItem(o,r.toString())}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}trackById(i,r){return r.instrumentToken+r.exchange}getDefaultVariety(){let i=new Date,r=new Date;r.setHours(9,0,0,0);let o=new Date;o.setHours(15,30,0,0);let a=i.getDay()===0||i.getDay()===6;return i<r||i>o||a?"amo":"regular"}validateBasketOrders(){if(this.basketItems.length===0)return this.toastr.error("Please add at least one instrument to the basket","Error"),!1;if(!this.selectedTradingAccountId)return this.toastr.error("Please select a trading account","Error"),!1;for(let i of this.basketItems){if(!i.tradingSymbol||!i.exchange)return this.toastr.error("All instruments must have valid trading symbol and exchange","Error"),!1;if(i.quantity<=0)return this.toastr.error(`Quantity must be greater than 0 for ${i.displayName}`,"Error"),!1;if(i.orderType==="LIMIT"&&i.price<=0)return this.toastr.error(`Price must be greater than 0 for LIMIT order on ${i.displayName}`,"Error"),!1}return!0}placeBasketOrders(){if(!this.validateBasketOrders())return;let i=[],r=this.getDefaultVariety();this.basketItems.forEach(o=>{let a={quantity:o.quantity,orderType:o.orderType,tradingsymbol:o.tradingSymbol,product:this.getProductType(o),exchange:o.exchange,transactionType:o.transactionType,validity:"DAY",price:o.orderType==="MARKET"?0:o.price,triggerPrice:0,tag:"famvest-basket-order"};i.push({tradingAccountId:this.selectedTradingAccountId,orderParams:a})}),tn(i).pipe(ro(o=>this.ordersService.placeOrder(o,r).pipe(Vt(a=>we({error:!0,id:o.tradingAccountId,message:a?.error?.message||"Unknown error",instrument:o.orderParams.tradingsymbol}))))).subscribe({next:o=>{"error"in o&&o.error?(console.error(`\u274C Order placement failed for ${o.instrument}:`,o),this.toastr.error(`Order placement for ${o.instrument} failed: ${o.message}`,"Error")):(console.log(`\u2705 Order placed successfully for ${o.data.tradingSymbol}`),this.toastr.success(`Order placed successfully. Order ID: ${o.data.orderId}`,"Success"))},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All basket orders processed"),this.toastr.info("All basket orders have been processed","Complete")}})}clearBasket(){this.basketItems.forEach(i=>{this.unsubscribeFromInstrument(i.instrumentToken)}),this.basketItems=[],this.requiredMargin=0,this.finalMargin=0,localStorage.removeItem(this.BASKET_CACHE_KEY)}calculateNetPremium(){this.netPremium=this.basketItems.reduce((i,r)=>{let o=(r.quantity||0)*(r.price||0);return r.transactionType==="BUY"?i+o:i-o},0)}getAbsoluteNetPremium(){return Math.abs(this.netPremium)}isNetDebit(){return this.netPremium>0}isNetCredit(){return this.netPremium<0}saveBasketItems(){let i=this.basketItems.map(r=>({displayName:r.displayName,tradingSymbol:r.tradingSymbol,instrumentToken:r.instrumentToken,segment:r.segment,exchange:r.exchange,quantity:r.quantity,orderType:r.orderType,transactionType:r.transactionType,price:r.price,marginRequired:r.marginRequired,lastPrice:r.lastPrice,change:r.change,priceUpdated:r.priceUpdated,isIntraday:r.isIntraday,productType:r.productType}));localStorage.setItem(this.BASKET_CACHE_KEY,JSON.stringify(i))}loadBasketItems(){let i=localStorage.getItem(this.BASKET_CACHE_KEY);if(i)try{let r=JSON.parse(i);this.basketItems=r,this.basketItems.length>0&&(this.isIntraday=this.basketItems[0].isIntraday||!1),this.basketItems.forEach(o=>{this.subscribeToInstrument(o.instrumentToken)}),this.calculateBasketMargin(),this.calculateNetPremium()}catch(r){console.error("Error parsing cached basket items:",r),localStorage.removeItem(this.BASKET_CACHE_KEY)}}get totalMargin(){return Number(this.utilizedMargin)+Number(this.availableMargin)}};t.\u0275fac=function(r){return new(r||t)(V(Su),V(tt),V(Ss),V(tr),V(sr),V(Cs),V(bv))},t.\u0275cmp=ie({type:t,selectors:[["app-basket-order"]],decls:25,vars:14,consts:[[1,"page-container"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","text-gray-700"],[1,"p-4","border-b","border-gray-200"],[1,"flex","flex-col","sm:flex-row","gap-3","items-start","sm:items-center"],[1,"flex-none","w-full","sm:w-[40%]"],[3,"selectedUserIdChange","selectUser","selectedUserId","placeholder"],[1,"relative","flex-1","w-full"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400",3,"icon"],["type","text","placeholder","Search and add instruments eg: infy, nifty fut, etc",1,"pl-10","pr-3","py-2","w-full","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["class","absolute left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto z-10",4,"ngIf"],[1,"flex","items-center","gap-6","mt-3"],[1,"inline-flex","items-center","gap-2","cursor-pointer"],["type","radio","name","productType",1,"form-radio","text-orange-500","h-4","w-4",3,"ngModelChange","change","ngModel","value"],[1,"text-sm","text-gray-700"],["type","radio","name","productType",1,"form-radio","text-purple-500","h-4","w-4",3,"ngModelChange","change","ngModel","value"],[1,"min-h-[30vh]"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","text-center py-16 px-4",4,"ngIf"],["class","hidden md:block overflow-x-auto",4,"ngIf"],["class","md:hidden divide-y divide-gray-200",4,"ngIf"],["class","border-t border-gray-200 bg-gradient-to-br from-gray-50 to-gray-100",4,"ngIf"],[1,"absolute","left-0","right-0","mt-1","bg-white","border","border-gray-300","rounded-md","shadow-lg","max-h-60","overflow-auto","z-10"],["class","px-3 py-2 hover:bg-blue-50 cursor-pointer transition-colors","tabindex","0","role","button",3,"click","keydown.enter",4,"ngFor","ngForOf"],["tabindex","0","role","button",1,"px-3","py-2","hover:bg-blue-50","cursor-pointer","transition-colors",3,"click","keydown.enter"],[1,"flex","justify-between","items-center"],[1,"text-gray-700","text-sm"],[1,"text-sm","text-gray-500","uppercase"],[1,"flex","items-center","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500"],[1,"text-center","py-16","px-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-16","w-16","mx-auto","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","text-sm","md:text-base"],[1,"hidden","md:block","overflow-x-auto"],[1,"w-full"],[1,"bg-gray-100","text-gray-600"],[1,"px-4","py-2","text-left","h-10"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-4","py-3"],[1,"flex","flex-col"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-400","uppercase"],[3,"title","instrumentToken","iconColor"],[1,"text-sm",3,"ngClass"],[1,"text-sm","px-1.5","py-0.5","rounded-md",3,"ngClass"],[3,"text","color"],[1,"px-4","py-3","cursor-pointer"],["tabindex","0","role","button",3,"click","keydown.enter","text","color"],["type","number","min","1",1,"w-20","px-2","py-1","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["type","number","min","0","step","0.05",1,"w-24","px-2","py-1","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","input","ngModel","disabled","placeholder"],["class","text-gray-400 text-sm animate-pulse",4,"ngIf"],["class","text-gray-700 font-medium ",4,"ngIf"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors",3,"click","matTooltip"],[1,"text-sm",3,"icon"],[1,"text-gray-400","text-sm","animate-pulse"],[1,"text-gray-700","font-medium"],[1,"md:hidden","divide-y","divide-gray-200"],["class","p-4 hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-4","hover:bg-gray-50","transition-colors"],[1,"mb-3"],[1,"flex","items-start","justify-between","mb-2"],[1,"flex-1","min-w-0"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors","ml-2","flex-shrink-0",3,"click","matTooltip"],[1,"grid","grid-cols-2","gap-3"],[1,"text-sm","text-gray-500","block","mb-1",3,"for"],["tabindex","0","role","button",1,"cursor-pointer",3,"click","keydown.enter","id"],[1,"mr-2",3,"text","color"],["type","number","min","1",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","text-sm","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","id","ngModel"],["type","number","min","0","step","0.05",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","text-sm","focus:ring-2","focus:ring-blue-100","focus:outline-none","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","input","id","ngModel","disabled","placeholder"],[1,"mt-3","pt-3","border-t","border-gray-100"],[1,"text-sm","text-gray-500"],[1,"text-sm","font-medium","text-gray-700"],["class","text-gray-400 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"text-gray-400","animate-pulse"],[1,"border-t","border-gray-200","bg-gradient-to-br","from-gray-50","to-gray-100"],[1,"md:hidden","p-4","space-y-3"],[1,"bg-white","rounded-xl","p-4","shadow-sm","border","border-gray-200"],[1,"flex","items-center","justify-between","mb-3","pb-3","border-b","border-gray-100"],[1,"text-sm","text-gray-700","tracking-wide"],[1,"space-y-2"],[1,"text-right"],[1,"text-sm","font-medium",3,"ngClass"],[1,"h-px","bg-gray-200","my-2"],[1,"flex","justify-between","items-center",3,"matTooltip"],[1,"text-base","font-medium",3,"ngClass"],[1,"flex","items-center","gap-2","bg-white","rounded-lg","p-3","shadow-sm","border","border-gray-200"],["type","checkbox","id","includePositionsMobile",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-2","focus:ring-blue-100",3,"ngModelChange","change","ngModel"],["for","includePositionsMobile",1,"text-sm","text-gray-700","cursor-pointer","select-none","flex-1"],[1,"flex","flex-col","gap-2"],[1,"w-full","px-4","py-3","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","rounded-lg","hover:from-blue-700","hover:to-blue-800","active:from-blue-800","active:to-blue-900","transition-all","font-medium","shadow-md",3,"click"],[1,"hidden","md:block","p-4"],[1,"grid","grid-cols-6","gap-3","mb-4"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200","text-center"],[1,"text-sm","text-gray-700","mb-1"],[1,"text-lg","font-medium","text-gray-700"],[1,"bg-gradient-to-br","rounded-md","p-3","shadow-sm","border",3,"ngClass"],[1,"text-sm","mb-1",3,"ngClass"],[1,"text-lg","font-bold",3,"ngClass"],["class","text-xs font-normal ml-1",4,"ngIf"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200",3,"matTooltip"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200"],[1,"bg-gradient-to-br","rounded-md","p-3","shadow-sm","border",3,"ngClass","matTooltip"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-2","bg-white","rounded-lg","px-4","py-2.5","shadow-sm","border","border-gray-200"],["type","checkbox","id","includePositions",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-2","focus:ring-blue-100",3,"ngModelChange","change","ngModel"],["for","includePositions",1,"text-sm","text-gray-700","cursor-pointer","select-none"],[1,"flex","gap-3"],[1,"px-6","py-2.5","border","border-gray-300","bg-white","text-gray-700","rounded-lg","hover:bg-gray-50","active:bg-gray-100","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","font-medium","shadow-sm",3,"click","disabled"],[1,"px-8","py-2.5","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","rounded-lg","hover:from-blue-700","hover:to-blue-800","active:from-blue-800","active:to-blue-900","transition-all","font-medium","shadow-md",3,"click"],[1,"text-xs","font-normal","ml-1"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"app-user-dropdown",5),bt("selectedUserIdChange",function(s){return Mt(o.selectedTradingAccountId,s)||(o.selectedTradingAccountId=s),s}),k("selectUser",function(){return o.calculateBasketMargin(),o.fetchFundsData()}),h()(),m(6,"div",6),F(7,"fa-icon",7),m(8,"input",8),bt("ngModelChange",function(s){return Mt(o.searchTerm,s)||(o.searchTerm=s),s}),k("input",function(s){return o.onSearchTermChange(s)}),h(),A(9,LSe,2,1,"div",9),h()(),m(10,"div",10)(11,"label",11)(12,"input",12),bt("ngModelChange",function(s){return Mt(o.isIntraday,s)||(o.isIntraday=s),s}),k("change",function(){return o.onIntradayChange()}),h(),m(13,"span",13),y(14,"Intraday"),h()(),m(15,"label",11)(16,"input",14),bt("ngModelChange",function(s){return Mt(o.isIntraday,s)||(o.isIntraday=s),s}),k("change",function(){return o.onIntradayChange()}),h(),m(17,"span",13),y(18,"Overnight"),h()()()(),m(19,"div",15),A(20,ASe,2,0,"div",16)(21,zSe,7,0,"div",17)(22,OSe,20,2,"div",18)(23,VSe,2,2,"div",19),h(),A(24,YSe,96,87,"div",20),h()()),r&2&&(g(5),_t("selectedUserId",o.selectedTradingAccountId),x("placeholder","Select Trading Account"),g(2),x("icon",o.faSearch),g(),_t("ngModel",o.searchTerm),g(),x("ngIf",o.fetchedInstruments.length>0&&o.searchTerm.length>0),g(3),_t("ngModel",o.isIntraday),x("value",!0),g(4),_t("ngModel",o.isIntraday),x("value",!1),g(4),x("ngIf",o.isLoading),g(),x("ngIf",!o.isLoading&&o.basketItems.length===0),g(),x("ngIf",!o.isLoading&&o.basketItems.length>0),g(),x("ngIf",o.basketItems.length>0),g(),x("ngIf",o.basketItems.length>0))},dependencies:[We,Oe,ze,ye,pn,Yt,Uc,m2,S5,Zt,Hc,Gi,ot,mn,Ht,Sv,Fa,ln,qn],encapsulation:2});let n=t;return n})();function ZSe(n,t){n&1&&(m(0,"span",8),y(1,"*"),h())}function XSe(n,t){if(n&1&&(m(0,"p",9),y(1),h()),n&2){let e=M();g(),zi(" ",e.label," is ",e.required?"required":"invalid",". ")}}var Tv=(()=>{let t=class t{constructor(){this.placeholder="",this.required=!1,this.show=!1,this.faEye=fs,this.faEyeSlash=Yl,this.FormControl=Bc}getControl(i){let r=this.formGroup.get(i);if(!r)throw new Error(`Control with name '${i}' not found`);return r}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-toggle-secret-field"]],inputs:{formGroup:"formGroup",controlName:"controlName",label:"label",placeholder:"placeholder",required:"required"},decls:9,vars:8,consts:[[1,"mt-3"],[1,"block","text-sm","text-gray-700"],["class","text-red-500",4,"ngIf"],[1,"relative"],["autocomplete","off",1,"form-control",3,"type","formControl","placeholder","required"],["type","button","tabindex","-1",1,"absolute","right-0","inset-y-0","px-3","flex","items-center","text-gray-500","hover:text-gray-600","focus:outline-none",3,"click"],[3,"icon"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(m(0,"div",0)(1,"label",1),y(2),A(3,ZSe,2,0,"span",2),h(),m(4,"div",3),F(5,"input",4),m(6,"button",5),k("click",function(){return o.show=!o.show}),F(7,"fa-icon",6),h()(),A(8,XSe,2,2,"p",7),h()),r&2){let a;g(2),q(" ",o.label," "),g(),x("ngIf",o.required),g(2),x("type",o.show?"text":"password")("formControl",o.getControl(o.controlName))("placeholder",o.placeholder)("required",o.required),g(2),x("icon",o.show?o.faEyeSlash:o.faEye),g(),x("ngIf",((a=o.formGroup.get(o.controlName))==null?null:a.touched)&&((a=o.formGroup.get(o.controlName))==null?null:a.invalid))}},dependencies:[ui,Yt,Zt,mo,JM,ot,ye],encapsulation:2});let n=t;return n})();function QSe(n,t){n&1&&(m(0,"p",18),y(1," Nickname is required. "),h())}function KSe(n,t){n&1&&(m(0,"p",18),y(1," Trading User ID is required. "),h())}var UZ=(()=>{let t=class t{constructor(i,r,o,a,s){this.fb=i,this.tradingAccountService=r,this.toastrService=o,this.dialogRef=a,this.data=s,this.tradingAccount={},this.updateUserForm=this.fb.group({name:["",Ue.required],userId:["",Ue.required],password:[""],apiKey:[""],apiSecret:[""],totpKey:[""]}),s.tradingAccount&&(this.updateUserForm.get("userId")?.disable(),this.tradingAccount=s.tradingAccount,this.updateUserForm.patchValue({name:this.tradingAccount.name,userId:this.tradingAccount.userId}))}update(){if(this.updateUserForm.invalid){this.updateUserForm.markAllAsTouched();return}let i=this.updateUserForm.value;this.tradingAccount.id&&(i.id=this.tradingAccount.id,i.userId=this.tradingAccount.userId),this.tradingAccountService.updateTradingAccount(this.tradingAccount.userId,i).subscribe({next:r=>{this.toastrService.success("Trading account updated successfully.","Success"),this.dialogRef.close("updated")},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while updating trading account. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(tr),V(tt),V(Ni),V(Ur))},t.\u0275cmp=ie({type:t,selectors:[["app-update-trading-account"]],decls:34,vars:13,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","name","type","text","required","","placeholder","Enter a nickname",1,"form-control"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","userId","type","text","required","","placeholder","Enter trading user ID",1,"form-control"],["controlName","password","label","Trading Account Password (optional)","placeholder","Enter password (if you want automated login)",3,"formGroup","required"],["controlName","totpKey","label","TOTP Key (optional)","placeholder","Enter TOTP key (if you want automated login)",3,"formGroup","required"],["controlName","apiKey","label","API Key","placeholder","Enter API key",3,"formGroup","required"],["controlName","apiSecret","label","API Secret","placeholder","Enter API secret",3,"formGroup","required"],[3,"type","dismissible"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-2"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100","transition",3,"click"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(m(0,"div",0)(1,"div",1)(2,"span",2),y(3,"Modify Trading Account"),h()(),m(4,"div",3)(5,"form",4),k("ngSubmit",function(){return o.update()}),m(6,"div")(7,"label",5),y(8," Nickname "),m(9,"span",6),y(10,"*"),h()(),F(11,"input",7),A(12,QSe,2,0,"p",8),h(),m(13,"div")(14,"label",5),y(15," Trading User ID "),m(16,"span",6),y(17,"*"),h()(),F(18,"input",9),A(19,KSe,2,0,"p",8),h(),F(20,"app-toggle-secret-field",10)(21,"app-toggle-secret-field",11)(22,"app-toggle-secret-field",12)(23,"app-toggle-secret-field",13),m(24,"div")(25,"app-note",14),y(26," You cannot view or edit existing values for the above secrets."),F(27,"br"),y(28," To update any of these fields, please enter new values \u2014 existing values will be overwritten upon submission. "),h()(),m(29,"div",15)(30,"button",16),y(31," Submit "),h(),m(32,"button",17),k("click",function(){return o.onClose()}),y(33," Cancel "),h()()()()()),r&2){let a,s;g(5),x("formGroup",o.updateUserForm),g(7),x("ngIf",((a=o.updateUserForm.get("name"))==null?null:a.touched)&&((a=o.updateUserForm.get("name"))==null?null:a.invalid)),g(7),x("ngIf",((s=o.updateUserForm.get("userId"))==null?null:s.touched)&&((s=o.updateUserForm.get("userId"))==null?null:s.invalid)),g(),x("formGroup",o.updateUserForm)("required",!1),g(),x("formGroup",o.updateUserForm)("required",!1),g(),x("formGroup",o.updateUserForm)("required",!1),g(),x("formGroup",o.updateUserForm)("required",!1),g(2),x("type","info")("dismissible",!0)}},dependencies:[ui,Or,Yt,Zt,Pr,mo,_r,br,ye,Tv,lr,or,rr],encapsulation:2});let n=t;return n})();function JSe(n,t){n&1&&(m(0,"p",17),y(1,"Nickname is required."),h())}function ewe(n,t){n&1&&(m(0,"p",17),y(1,"Trading User ID is required."),h())}var HZ=(()=>{let t=class t{constructor(i,r,o,a){this.fb=i,this.tradingAccountService=r,this.toastrService=o,this.dialogRef=a,this.tradingAccount={},this.onboardForm=this.fb.group({name:["",Ue.required],userId:["",Ue.required],password:[""],apiKey:["",Ue.required],apiSecret:["",Ue.required],totpKey:[""]})}submit(){if(this.onboardForm.invalid){this.onboardForm.markAllAsTouched();return}let i=this.onboardForm.value;this.tradingAccountService.onboardTradingAccount(i).subscribe({next:r=>{this.toastrService.success("Trading account successfully onboarded.","Success"),this.dialogRef.close("submitted")},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while adding trading account. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}toUpperCase(i){let r=i.target;r.value=r.value.toUpperCase(),this.onboardForm.get("userId")?.setValue(r.value,{emitEvent:!1})}};t.\u0275fac=function(r){return new(r||t)(V(Rr),V(tr),V(tt),V(Ni))},t.\u0275cmp=ie({type:t,selectors:[["app-add-trading-account"]],decls:29,vars:11,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","name","type","text","required","","placeholder","Enter a nickname",1,"form-control"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","userId","type","text","required","","placeholder","Enter trading user ID",1,"form-control",3,"input"],["controlName","password","label","Trading Account Password (optional)","placeholder","Enter password (if you want automated login)",3,"formGroup","required"],["controlName","totpKey","label","TOTP Key (optional)","placeholder","Enter TOTP key (if you want automated login)",3,"formGroup","required"],["controlName","apiKey","label","API Key","placeholder","Enter API key",3,"formGroup","required"],["controlName","apiSecret","label","API Secret","placeholder","Enter API secret",3,"formGroup","required"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-2"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100",3,"click"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(m(0,"div",0)(1,"div",1)(2,"span",2),y(3,"Onboard Trading Account"),h()(),m(4,"div",3)(5,"form",4),k("ngSubmit",function(){return o.submit()}),m(6,"div")(7,"label",5),y(8,"Nickname "),m(9,"span",6),y(10,"*"),h()(),F(11,"input",7),A(12,JSe,2,0,"p",8),h(),m(13,"div")(14,"label",5),y(15,"Trading User ID "),m(16,"span",6),y(17,"*"),h()(),m(18,"input",9),k("input",function(s){return o.toUpperCase(s)}),h(),A(19,ewe,2,0,"p",8),h(),F(20,"app-toggle-secret-field",10)(21,"app-toggle-secret-field",11)(22,"app-toggle-secret-field",12)(23,"app-toggle-secret-field",13),m(24,"div",14)(25,"button",15),y(26,"Submit"),h(),m(27,"button",16),k("click",function(){return o.onClose()}),y(28,"Cancel"),h()()()()()),r&2){let a,s;g(5),x("formGroup",o.onboardForm),g(7),x("ngIf",((a=o.onboardForm.get("name"))==null?null:a.touched)&&((a=o.onboardForm.get("name"))==null?null:a.invalid)),g(7),x("ngIf",((s=o.onboardForm.get("userId"))==null?null:s.touched)&&((s=o.onboardForm.get("userId"))==null?null:s.invalid)),g(),x("formGroup",o.onboardForm)("required",!1),g(),x("formGroup",o.onboardForm)("required",!1),g(),x("formGroup",o.onboardForm)("required",!0),g(),x("formGroup",o.onboardForm)("required",!0)}},dependencies:[ui,Or,Yt,Zt,Pr,mo,_r,br,ye,Tv,or,rr],encapsulation:2});let n=t;return n})();var Ev=(()=>{let t=class t{constructor(i){this.api=i}getUserPreferences(){return this.api.get("/v1/user-preferences")}updatePreferenceValue(i,r){return this.api.patch(`/v1/user-preferences/${i}/value`,r)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var GZ=(()=>{let t=class t{constructor(i){this.apiService=i}updateProfile(i){return this.apiService.put("/v1/users/profile/update",i)}changePassword(i){return this.apiService.put("/v1/users/profile/change-password",i)}getTradingAccounts(){return this.apiService.get("/v1/users/profile/trading-accounts")}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var WZ=(()=>{let t=class t{constructor(i){this.api=i}getApplicationUserProfile(){return this.api.get("/v1/users/profile")}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var iwe=n=>({"text-red-500 hover:text-red-600":n});function rwe(n,t){if(n&1&&(m(0,"div",4),F(1,"fa-icon",5),m(2,"p",6),y(3,"Loading your profile..."),h()()),n&2){let e=M();g(),x("icon",e.faSpinner)}}function owe(n,t){n&1&&F(0,"span",14)}function awe(n,t){if(n&1){let e=ee();m(0,"div",12),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.setActiveTab(r))}),y(1),A(2,owe,1,0,"span",13),h()}if(n&2){let e=t.$implicit,i=M(2);Te("active-tab",e===i.activeTab)("text-gray-700",e!==i.activeTab),g(),q(" ",e," "),g(),x("ngIf",e===i.activeTab)}}function swe(n,t){n&1&&(m(0,"p"),y(1,"Full name is required"),h())}function lwe(n,t){n&1&&(m(0,"p"),y(1,"Full name must be at least 2 characters"),h())}function cwe(n,t){if(n&1&&(m(0,"div",56),A(1,swe,2,0,"p",57)(2,lwe,2,0,"p",57),h()),n&2){let e,i,r=M(3);g(),x("ngIf",(e=r.profileForm.get("fullName"))==null?null:e.hasError("required")),g(),x("ngIf",(i=r.profileForm.get("fullName"))==null?null:i.hasError("minlength"))}}function uwe(n,t){n&1&&(m(0,"p"),y(1,"Username is required"),h())}function dwe(n,t){n&1&&(m(0,"p"),y(1,"Username must be at least 3 characters"),h())}function fwe(n,t){if(n&1&&(m(0,"div",56),A(1,uwe,2,0,"p",57)(2,dwe,2,0,"p",57),h()),n&2){let e,i,r=M(3);g(),x("ngIf",(e=r.profileForm.get("userName"))==null?null:e.hasError("required")),g(),x("ngIf",(i=r.profileForm.get("userName"))==null?null:i.hasError("minlength"))}}function pwe(n,t){if(n&1&&F(0,"fa-icon",58),n&2){let e=M(3);x("icon",e.faCheck)}}function mwe(n,t){if(n&1&&F(0,"fa-icon",59),n&2){let e=M(3);x("icon",e.faSpinner)}}function hwe(n,t){n&1&&(m(0,"p"),y(1,"Current password is required"),h())}function gwe(n,t){n&1&&(m(0,"p"),y(1,"Password must be at least 6 characters"),h())}function vwe(n,t){if(n&1&&(m(0,"div",56),A(1,hwe,2,0,"p",57)(2,gwe,2,0,"p",57),h()),n&2){let e,i,r=M(3);g(),x("ngIf",(e=r.passwordForm.get("oldPassword"))==null?null:e.hasError("required")),g(),x("ngIf",(i=r.passwordForm.get("oldPassword"))==null?null:i.hasError("minlength"))}}function ywe(n,t){n&1&&(m(0,"p"),y(1,"New password is required"),h())}function _we(n,t){n&1&&(m(0,"p"),y(1,"Password must be at least 6 characters"),h())}function bwe(n,t){if(n&1&&(m(0,"div",56),A(1,ywe,2,0,"p",57)(2,_we,2,0,"p",57),h()),n&2){let e,i,r=M(3);g(),x("ngIf",(e=r.passwordForm.get("newPassword"))==null?null:e.hasError("required")),g(),x("ngIf",(i=r.passwordForm.get("newPassword"))==null?null:i.hasError("minlength"))}}function xwe(n,t){n&1&&(m(0,"p"),y(1,"Please confirm your password"),h())}function Cwe(n,t){n&1&&(m(0,"p"),y(1,"Passwords do not match"),h())}function Swe(n,t){if(n&1&&(m(0,"div",56),A(1,xwe,2,0,"p",57)(2,Cwe,2,0,"p",57),h()),n&2){let e,i=M(3);g(),x("ngIf",(e=i.passwordForm.get("confirmPassword"))==null?null:e.hasError("required")),g(),x("ngIf",i.passwordForm.hasError("passwordMismatch"))}}function wwe(n,t){if(n&1&&F(0,"fa-icon",58),n&2){let e=M(3);x("icon",e.faCheck)}}function Mwe(n,t){if(n&1&&F(0,"fa-icon",59),n&2){let e=M(3);x("icon",e.faSpinner)}}function Twe(n,t){if(n&1){let e=ee();m(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"h2",19)(5,"span",20),y(6,"\u{1F464}"),h(),y(7," Profile Information "),h(),m(8,"p",21),y(9,"Update your account details"),h()(),m(10,"form",22),k("ngSubmit",function(){N(e);let r=M(2);return P(r.onUpdateProfile())}),m(11,"div")(12,"label",23),y(13," Full Name "),h(),F(14,"input",24),A(15,cwe,3,2,"div",25),h(),m(16,"div")(17,"label",26),y(18," Username "),h(),F(19,"input",27),m(20,"p",28)(21,"span"),y(22,"\u26A0\uFE0F"),h(),m(23,"span"),y(24,"You will be logged out after changing the username"),h()(),A(25,fwe,3,2,"div",25),h(),m(26,"div",29)(27,"h3",30),y(28,"Account Details"),h(),m(29,"div",31)(30,"div",32)(31,"span",33),y(32,"Role:"),h(),m(33,"span",34),y(34),h()(),m(35,"div",32)(36,"span",33),y(37,"Created:"),h(),m(38,"span",34),y(39),Y(40,"istDate"),h()(),m(41,"div",32)(42,"span",33),y(43,"Last Updated:"),h(),m(44,"span",34),y(45),Y(46,"istDate"),h()()()(),m(47,"div",35)(48,"button",36),A(49,pwe,1,1,"fa-icon",37)(50,mwe,1,1,"fa-icon",38),y(51),h()()()(),m(52,"div",17)(53,"div",18)(54,"h2",19)(55,"span",39),y(56,"\u{1F512}"),h(),y(57," Change Password "),h(),m(58,"p",21),y(59,"Secure your account with a new password"),h()(),m(60,"form",22),k("ngSubmit",function(){N(e);let r=M(2);return P(r.onChangePassword())}),m(61,"div")(62,"label",40),y(63," Current Password "),h(),m(64,"div",41),F(65,"input",42),m(66,"button",43),k("click",function(){N(e);let r=M(2);return P(r.togglePasswordVisibility("old"))}),F(67,"fa-icon",44),h()(),A(68,vwe,3,2,"div",25),h(),m(69,"div")(70,"label",45),y(71," New Password "),h(),m(72,"div",41),F(73,"input",46),m(74,"button",43),k("click",function(){N(e);let r=M(2);return P(r.togglePasswordVisibility("new"))}),F(75,"fa-icon",44),h()(),A(76,bwe,3,2,"div",25),h(),m(77,"div")(78,"label",47),y(79," Confirm Password "),h(),m(80,"div",41),F(81,"input",48),m(82,"button",43),k("click",function(){N(e);let r=M(2);return P(r.togglePasswordVisibility("confirm"))}),F(83,"fa-icon",44),h()(),A(84,Swe,3,2,"div",25),h(),m(85,"div",49)(86,"h3",50),y(87," Password Requirements "),h(),m(88,"ul",51)(89,"li",52)(90,"span",53),y(91,"\u2713"),h(),m(92,"span"),y(93,"Password must be between 8 and 20 characters"),h()(),m(94,"li",52)(95,"span",53),y(96,"\u2713"),h(),m(97,"span"),y(98,"New Password and Confirm must match"),h()(),m(99,"li",52)(100,"span",54),y(101,"\u26A0"),h(),m(102,"span"),y(103,"You will be logged out after changing the password"),h()()()(),m(104,"div",35)(105,"button",55),A(106,wwe,1,1,"fa-icon",37)(107,Mwe,1,1,"fa-icon",38),y(108),h()()()()()()}if(n&2){let e,i,r,o,a,s=M(2);g(10),x("formGroup",s.profileForm),g(5),x("ngIf",((e=s.profileForm.get("fullName"))==null?null:e.touched)&&((e=s.profileForm.get("fullName"))==null?null:e.invalid)),g(10),x("ngIf",((i=s.profileForm.get("userName"))==null?null:i.touched)&&((i=s.profileForm.get("userName"))==null?null:i.invalid)),g(9),j(s.profile.role),g(5),j(J(40,24,s.profile.createdAt,"datetime-ordinal")),g(6),j(J(46,27,s.profile.updatedAt,"datetime-ordinal")),g(3),x("disabled",s.isUpdatingProfile||s.profileForm.invalid),g(),x("ngIf",!s.isUpdatingProfile),g(),x("ngIf",s.isUpdatingProfile),g(),q(" ",s.isUpdatingProfile?"Updating...":"Update Profile"," "),g(9),x("formGroup",s.passwordForm),g(5),x("type",s.showOldPassword?"text":"password"),g(2),x("icon",s.showOldPassword?s.faEyeSlash:s.faEye),g(),x("ngIf",((r=s.passwordForm.get("oldPassword"))==null?null:r.touched)&&((r=s.passwordForm.get("oldPassword"))==null?null:r.invalid)),g(5),x("type",s.showNewPassword?"text":"password"),g(2),x("icon",s.showNewPassword?s.faEyeSlash:s.faEye),g(),x("ngIf",((o=s.passwordForm.get("newPassword"))==null?null:o.touched)&&((o=s.passwordForm.get("newPassword"))==null?null:o.invalid)),g(5),x("type",s.showConfirmPassword?"text":"password"),g(2),x("icon",s.showConfirmPassword?s.faEyeSlash:s.faEye),g(),x("ngIf",s.passwordForm.touched&&(((a=s.passwordForm.get("confirmPassword"))==null?null:a.invalid)||s.passwordForm.hasError("passwordMismatch"))),g(21),x("disabled",s.isChangingPassword||s.passwordForm.invalid),g(),x("ngIf",!s.isChangingPassword),g(),x("ngIf",s.isChangingPassword),g(),q(" ",s.isChangingPassword?"Changing...":"Change Password"," ")}}function Ewe(n,t){if(n&1&&F(0,"fa-icon",67),n&2){let e=M(5);x("icon",e.faRightToBracket)}}function Dwe(n,t){if(n&1&&F(0,"fa-icon",73),n&2){let e=M(5);x("icon",e.faSpinner)}}function Iwe(n,t){if(n&1){let e=ee();m(0,"button",66),k("click",function(){N(e);let r=M(4);return P(r.renewTokensForAll())}),A(1,Ewe,1,1,"fa-icon",71)(2,Dwe,1,1,"fa-icon",72),m(3,"span"),y(4,"Renew All Tokens"),h()()}if(n&2){let e=M(4);x("disabled",e.isRenewingTokens),g(),x("ngIf",!e.isRenewingTokens),g(),x("ngIf",e.isRenewingTokens)}}function Lwe(n,t){if(n&1){let e=ee();m(0,"div",64)(1,"div",65)(2,"button",66),k("click",function(){N(e);let r=M(3);return P(r.refreshTradingAccounts())}),F(3,"fa-icon",67),m(4,"span"),y(5),h()(),A(6,Iwe,5,3,"button",68),h(),m(7,"div",65)(8,"button",69),k("click",function(){N(e);let r=M(3);return P(r.onboardTradingAccount())}),F(9,"fa-icon",70),h()()()}if(n&2){let e=M(3);g(2),x("disabled",e.isTradingAccountsRefreshing),g(),Te("fa-spin",e.isTradingAccountsRefreshing),x("icon",e.isTradingAccountsRefreshing?e.faSpinner:e.faRefresh),g(2),j(e.isTradingAccountsRefreshing?"Loading":"Refresh"),g(),x("ngIf",e.users.length>0),g(3),x("icon",e.faUserPlus)}}function Awe(n,t){n&1&&(m(0,"div",62)(1,"p",74),y(2,"No trading accounts to display"),h()())}function zwe(n,t){if(n&1&&(m(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getTradingAccountsSortIndicator("user"))}}function kwe(n,t){if(n&1&&(m(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getTradingAccountsSortIndicator("userName"))}}function Nwe(n,t){if(n&1&&(m(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getTradingAccountsSortIndicator("userId"))}}function Pwe(n,t){if(n&1&&(m(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getTradingAccountsSortIndicator("tokenStatus"))}}function Owe(n,t){if(n&1){let e=ee();m(0,"app-small-chip",93),k("click",function(r){N(e);let o=M().$implicit,a=M(4);return P(a.copyTotpToClipboard(o.userId,r))}),h(),m(1,"div",94),y(2),h()}if(n&2){let e,i,r=M().$implicit,o=M(4);x("matTooltip","Click to copy TOTP")("text",((e=o.getTotpDisplayData(r.userId))==null?null:e.value)||"")("color","blue"),g(2),q(" ",(i=o.getTotpDisplayData(r.userId))==null?null:i.timeRemaining,"s ")}}function Rwe(n,t){n&1&&(m(0,"div",90),y(1,"Loading..."),h())}function Fwe(n,t){if(n&1){let e=ee();m(0,"tr",85)(1,"td",86)(2,"div",87),F(3,"img",88),m(4,"span"),y(5),h()()(),m(6,"td",86),y(7),h(),m(8,"td",86),y(9),h(),m(10,"td",86),F(11,"app-small-chip",89),h(),m(12,"td",86)(13,"div",52),Gt(14,Owe,3,4)(15,Rwe,2,0,"div",90),h()(),m(16,"td",91)(17,"app-action-menu",92),k("handleAction",function(r){N(e);let o=M(4);return P(o.handleAction(r))}),h()()()}if(n&2){let e=t.$implicit,i=M(4);x("ngClass",_i(12,iwe,!e.active)),g(3),x("alt",x6(e.name))("ngSrc",(e.profile==null?null:e.profile.avatarURL)??i.fallbackAvatarUrl),g(2),j(e.name),g(2),j((e.profile==null?null:e.profile.userName)||""),g(2),j(e.userId),g(2),x("text",e.tokenStatus)("color",i.getTokenStatusColor(e.tokenStatus)),g(3),Wt(i.getTotpDisplayData(e.userId)?14:15),g(3),x("row",e)("actions",i.getActionButtons(e))}}function Bwe(n,t){if(n&1){let e=ee();m(0,"div",63)(1,"table",75)(2,"thead",76)(3,"tr",77)(4,"th",78)(5,"button",79),k("click",function(){N(e);let r=M(3);return P(r.setTradingAccountsSort("user"))}),y(6," USER "),A(7,zwe,2,1,"span",80),h()(),m(8,"th",78)(9,"button",79),k("click",function(){N(e);let r=M(3);return P(r.setTradingAccountsSort("userName"))}),y(10," FULL NAME "),A(11,kwe,2,1,"span",80),h()(),m(12,"th",78)(13,"button",79),k("click",function(){N(e);let r=M(3);return P(r.setTradingAccountsSort("userId"))}),y(14," USER ID "),A(15,Nwe,2,1,"span",80),h()(),m(16,"th",78)(17,"button",79),k("click",function(){N(e);let r=M(3);return P(r.setTradingAccountsSort("tokenStatus"))}),y(18," TOKEN STATUS "),A(19,Pwe,2,1,"span",80),h()(),m(20,"th",78),y(21," TOTP "),h(),m(22,"th",81),y(23,"ACTION"),h()()(),m(24,"tbody",82),A(25,Fwe,18,14,"tr",83),h()()()}if(n&2){let e=M(3);g(7),x("ngIf",e.getTradingAccountsSortIndicator("user")),g(4),x("ngIf",e.getTradingAccountsSortIndicator("userName")),g(4),x("ngIf",e.getTradingAccountsSortIndicator("userId")),g(4),x("ngIf",e.getTradingAccountsSortIndicator("tokenStatus")),g(6),x("ngForOf",e.sortedUsers)}}function Vwe(n,t){if(n&1&&(m(0,"div",15),A(1,Lwe,10,7,"div",60),m(2,"div",61),Gt(3,Awe,3,0,"div",62)(4,Bwe,26,5,"div",63),h()()),n&2){let e=M(2);g(),x("ngIf",!e.errorMessage),g(2),Wt(!e.users||e.users.length===0?3:4)}}function Uwe(n,t){n&1&&(m(0,"div",62)(1,"p",74),y(2,"No preferences to display"),h()())}function Hwe(n,t){if(n&1&&(m(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getPreferencesSortIndicator("displayName"))}}function jwe(n,t){if(n&1&&(m(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getPreferencesSortIndicator("description"))}}function Gwe(n,t){if(n&1&&(m(0,"span",84),y(1),h()),n&2){let e=M(4);g(),j(e.getPreferencesSortIndicator("value"))}}function Wwe(n,t){if(n&1&&(m(0,"option",101),y(1),h()),n&2){let e=t.$implicit;x("value",e),g(),j(e)}}function qwe(n,t){if(n&1){let e=ee();m(0,"tr",96)(1,"td",97)(2,"div",87)(3,"span",1),y(4),h()()(),m(5,"td",98),y(6),h(),m(7,"td",86),F(8,"app-small-chip",89),h(),m(9,"td",86)(10,"select",99),bt("ngModelChange",function(r){let o=N(e).$implicit;return Mt(o.value,r)||(o.value=r),P(r)}),k("change",function(){let r=N(e).$implicit,o=M(4);return P(o.onChange(r))}),A(11,Wwe,2,2,"option",100),h()()()}if(n&2){let e=t.$implicit,i=M(4);g(4),j(e.displayName),g(2),q(" ",e.description," "),g(2),x("text",e.value)("color",i.getPreferenceValueColor(e.value)),g(2),_t("ngModel",e.value),g(),x("ngForOf",e.allowedValues)}}function $we(n,t){if(n&1){let e=ee();m(0,"div",63)(1,"table",75)(2,"thead",76)(3,"tr",77)(4,"th",78)(5,"button",79),k("click",function(){N(e);let r=M(3);return P(r.setPreferencesSort("displayName"))}),y(6," PREFERENCE "),A(7,Hwe,2,1,"span",80),h()(),m(8,"th",78)(9,"button",79),k("click",function(){N(e);let r=M(3);return P(r.setPreferencesSort("description"))}),y(10," DESCRIPTION "),A(11,jwe,2,1,"span",80),h()(),m(12,"th",78)(13,"button",79),k("click",function(){N(e);let r=M(3);return P(r.setPreferencesSort("value"))}),y(14," CURRENT VALUE "),A(15,Gwe,2,1,"span",80),h()(),m(16,"th",78),y(17,"UPDATE"),h()()(),m(18,"tbody",82),A(19,qwe,12,6,"tr",95),h()()()}if(n&2){let e=M(3);g(7),x("ngIf",e.getPreferencesSortIndicator("displayName")),g(4),x("ngIf",e.getPreferencesSortIndicator("description")),g(4),x("ngIf",e.getPreferencesSortIndicator("value")),g(4),x("ngForOf",e.sortedUserPreferences)("ngForTrackBy",e.trackById)}}function Ywe(n,t){if(n&1&&(m(0,"div",15)(1,"div",61),Gt(2,Uwe,3,0,"div",62)(3,$we,20,5,"div",63),h()()),n&2){let e=M(2);g(2),Wt(!e.userPreferences||e.userPreferences.length===0?2:3)}}function Zwe(n,t){if(n&1&&(m(0,"div",7)(1,"div",8)(2,"div",9),A(3,awe,3,6,"div",10),h()(),A(4,Twe,109,30,"div",11)(5,Vwe,5,2,"div",11)(6,Ywe,4,1,"div",11),h()),n&2){let e=M();g(3),x("ngForOf",e.tabs),g(),x("ngIf",e.activeTab==="Profile"),g(),x("ngIf",e.activeTab==="Trading Accounts"),g(),x("ngIf",e.activeTab==="My Preferences")}}var qZ=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u,d,f,p,v,_){this.userService=i,this.userPreferencesService=r,this.profileService=o,this.applicationUserService=a,this.authUserService=s,this.toastrService=l,this.router=c,this.fb=u,this.alertService=d,this.dialog=f,this.utilsService=p,this.userViewStateService=v,this.userDataStateService=_,this.profile=null,this.tradingAccounts=[],this.isLoadingProfile=!1,this.isUpdatingProfile=!1,this.isChangingPassword=!1,this.showOldPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.tabs=["Trading Accounts","My Preferences","Profile"],this.activeTab="Trading Accounts",this.tradingAccountsSortColumn="user",this.tradingAccountsSortDirection="asc",this.preferencesSortColumn="displayName",this.preferencesSortDirection="asc",this.destroy$=new me,this.userPreferences=[],this.users=[],this.errorMessage="",this.isRenewingTokens=!1,this.totpData=new Map,this.totpRefreshTimers=new Map,this.actions=[{action:"login",color:"blue",label:"Renew Token"},{action:"modify",color:"blue",label:"Modify Trading Account"},{action:"unlink",color:"orange",label:"Deactivate Trading Account"},{action:"link",color:"green",label:"Activate Trading Account"},{action:"info",color:"gray",label:"Account Details"},{action:"delete",color:"red",label:"Delete Trading Account"}],this.isTradingAccountsRefreshing=!1,this.tradingAccountsSortAccessors={user:b=>(b.name??"").toString().toLowerCase(),userName:b=>(b.profile?.userName??"").toString().toLowerCase(),userId:b=>(b.userId??"").toString().toLowerCase(),tokenStatus:b=>(b.tokenStatus??"").toString().toLowerCase()},this.preferencesSortAccessors={displayName:b=>(b.displayName??"").toString().toLowerCase(),description:b=>(b.description??"").toString().toLowerCase(),value:b=>(b.value??"").toString().toLowerCase()},this.fallbackAvatarUrl=ci,this.faSpinner=ko,this.faUserPlus=mg,this.faRightToBracket=fg,this.faRefresh=Aa,this.faEye=fs,this.faEyeSlash=Yl,this.faCheck=Kj,this.initializeForms()}ngOnInit(){this.getCachedData(),this.loadCachedViewState(),this.loadProfileData(),this.fetchTradingAccounts(),this.fetchedUserPreferences()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.users&&(this.users=i.users)}ngOnDestroy(){this.totpRefreshTimers.forEach(i=>{i&&i.unsubscribe()}),this.totpRefreshTimers.clear(),this.totpData.clear(),this.destroy$.next(),this.destroy$.complete()}initializeForms(){this.profileForm=this.fb.group({fullName:["",[Ue.required,Ue.minLength(2)]],userName:["",[Ue.required,Ue.minLength(3)]]}),this.passwordForm=this.fb.group({oldPassword:["",[Ue.required,Ue.minLength(6)]],newPassword:["",[Ue.required,Ue.minLength(6)]],confirmPassword:["",[Ue.required,Ue.minLength(6)]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(i){let r=i.get("newPassword")?.value,o=i.get("confirmPassword")?.value;return r&&o&&r!==o?{passwordMismatch:!0}:null}loadCachedViewState(){let i=this.userViewStateService.getState();i?.profile?.selectedTab&&(this.activeTab=i.profile.selectedTab)}saveUserViewState(){this.userViewStateService.setState({profile:{selectedTab:this.activeTab}})}loadProfileData(){this.isLoadingProfile=!0,this.applicationUserService.getApplicationUserProfile().subscribe({next:i=>{i.data&&(this.profile=i.data,this.profileForm.patchValue({fullName:this.profile.fullName,userName:this.profile.userName})),this.isLoadingProfile=!1},error:i=>{this.isLoadingProfile=!1,i.error.message?this.toastrService.error(i.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching user profile. Verify that the backend service is operational.","Error")}})}setActiveTab(i){this.activeTab=i,this.saveUserViewState()}onUpdateProfile(){if(this.profileForm.invalid){this.toastrService.error("Please fix the form errors","Validation Error");return}this.isUpdatingProfile=!0;let i={fullName:this.profileForm.value.fullName.trim(),userName:this.profileForm.value.userName.trim()};this.profileService.updateProfile(i).pipe(nn(this.destroy$)).subscribe({next:r=>{this.toastrService.success("Profile updated successfully","Success"),this.isUpdatingProfile=!1,i.userName!==this.profile.userName?setTimeout(()=>{this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"username-changed"}})},1500):setTimeout(()=>{this.loadProfileData()},500)},error:r=>{this.isUpdatingProfile=!1;let o=r.error?.message||"Failed to update profile";this.toastrService.error(o,"Error")}})}onChangePassword(){if(this.passwordForm.invalid){this.toastrService.error("Please fix the form errors","Validation Error");return}this.isChangingPassword=!0;let i=this.passwordForm.value;this.profileService.changePassword(i).pipe(nn(this.destroy$)).subscribe({next:r=>{this.toastrService.success("Password changed successfully. Please log in again.","Success"),this.isChangingPassword=!1,setTimeout(()=>{this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"password-changed"}})},1500)},error:r=>{this.isChangingPassword=!1;let o=r.error?.message||"Failed to change password";this.toastrService.error(o,"Error")}})}togglePasswordVisibility(i){switch(i){case"old":this.showOldPassword=!this.showOldPassword;break;case"new":this.showNewPassword=!this.showNewPassword;break;case"confirm":this.showConfirmPassword=!this.showConfirmPassword;break}}fetchedUserPreferences(i){this.userPreferencesService.getUserPreferences().subscribe({next:r=>{this.userPreferences=r.data},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching user preferences. Verify that the backend service is operational.","Error")}})}trackById(i,r){return r.id}onChange(i){this.userPreferencesService.updatePreferenceValue(i.id,i.value).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchedUserPreferences()},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})}getPreferenceValueColor(i){return i==="NO"||i==="NONE"?"red":i==="YES"||i==="BOTH"?"green":"blue"}getActionButtons(i){let r=this.actions;return i.active?r=r.filter(o=>o.action!=="link"):r=r.filter(o=>o.action!=="unlink"),r}getTokenStatusColor(i){return i==="Valid"?"green":"red"}fetchTradingAccounts(){this.isTradingAccountsRefreshing=!0,this.userService.getTradingAccounts().subscribe({next:i=>{this.users=i.data,this.isTradingAccountsRefreshing=!1,this.users.forEach(r=>{this.fetchAndDisplayTotp(r.userId)})},error:i=>{i.error.message?this.toastrService.error(i.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error"),this.isTradingAccountsRefreshing=!1}})}renewTokensForAll(){this.alertService.confirm("Renew All Tokens","Are you sure you want to renew tokens for all trading accounts? Note: Only accounts with both password and TOTP key configured will be renewed.",()=>{this.isRenewingTokens=!0,this.userService.renewTokensForAll().subscribe({next:i=>{this.toastrService.success(i.data.toString(),"Success"),this.fetchTradingAccounts(),this.isRenewingTokens=!1},error:i=>{this.toastrService.error(i.error.message,"Error"),console.error(i),this.isRenewingTokens=!1}})})}handleAction(i){i.action==="login"?this.renewToken(i.row):i.action==="modify"?this.updateTradingAccount(i.row):i.action==="delete"?this.deleteTradingAccount(i.row):i.action==="unlink"?this.temporarilyUnmapTradingAccount(i.row):i.action==="link"?this.mapTradingAccount(i.row):i.action==="info"&&this.showInfo(i.row)}renewToken(i){i.kiteLoginEndPoint?window.open(i.kiteLoginEndPoint,"_blank","noopener,noreferrer"):console.error("Kite login end point is not available for this user")}updateTradingAccount(i){this.userService.getTradingAccount(i.userId).subscribe({next:r=>{let o=r.data;this.dialog.open(UZ,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{tradingAccount:o}}).afterClosed().subscribe(s=>{this.fetchTradingAccounts()})},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error")}})}onboardTradingAccount(){this.dialog.open(HZ,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{}}).afterClosed().subscribe(r=>{this.fetchTradingAccounts()})}deleteTradingAccount(i){this.alertService.confirm(`Delete Trading Account: ${i.userId}`,`Are you sure you want to delete ${i.userId} trading account?`,()=>{this.userService.deleteTradingAccount(i.userId).subscribe({next:r=>{this.toastrService.success("Trading account deleted successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while deleting trading account:",r),this.toastrService.error(r.error.message,"Error")}})})}temporarilyUnmapTradingAccount(i){this.userService.unmapTradingAccount(i.userId).subscribe({next:r=>{this.toastrService.success("Trading account unmapped successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while temporarily unmapping trading account:",r),this.toastrService.error(r.error.message,"Error")}})}mapTradingAccount(i){this.userService.mapTradingAccount(i.userId).subscribe({next:r=>{this.toastrService.success("Trading account mapped successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while mapping trading account:",r),this.toastrService.error(r.error.message,"Error")}})}showInfo(i){let r=X({name:i.name,userId:i.userId,tokenStatus:i.tokenStatus,active:i.active},i.profile);this.utilsService.showInfo(r,`User Profile - ${i.name}`)}fetchAndDisplayTotp(i){this.userService.getTotp(i).subscribe({next:r=>{let o=String(r.data);this.totpData.set(i,{value:o,timeRemaining:30}),this.startTotpRefreshTimer(i)},error:r=>{console.error(`Error while fetching TOTP for ${i}:`,r)}})}startTotpRefreshTimer(i){this.totpRefreshTimers.has(i)&&this.totpRefreshTimers.get(i)?.unsubscribe();let r=jd(1e3).pipe(nn(this.destroy$)).subscribe(()=>{let o=this.totpData.get(i);o&&(o.timeRemaining--,o.timeRemaining<=0&&this.fetchAndDisplayTotp(i))});this.totpRefreshTimers.set(i,r)}copyTotpToClipboard(i,r){r.stopPropagation();let o=this.totpData.get(i);o?.value&&navigator.clipboard.writeText(o.value).then(()=>{this.toastrService.success("TOTP copied to clipboard!","Success")}).catch(()=>{this.toastrService.error("Failed to copy TOTP to clipboard","Error")})}getTotpDisplayData(i){return this.totpData.get(i)}refreshTradingAccounts(){this.isTradingAccountsRefreshing=!0,this.fetchTradingAccounts()}get sortedUsers(){return!this.tradingAccountsSortColumn||!this.tradingAccountsSortDirection?this.users:[...this.users].sort((i,r)=>this.compareTradingAccounts(i,r))}setTradingAccountsSort(i){if(this.tradingAccountsSortColumn===i){this.tradingAccountsSortDirection=this.tradingAccountsSortDirection==="desc"?"asc":"desc";return}this.tradingAccountsSortColumn=i,this.tradingAccountsSortDirection="asc"}getTradingAccountsSortIndicator(i){return this.tradingAccountsSortColumn!==i||!this.tradingAccountsSortDirection?"":this.tradingAccountsSortDirection==="asc"?"\u2191":"\u2193"}compareTradingAccounts(i,r){let o=this.tradingAccountsSortColumn?this.tradingAccountsSortAccessors[this.tradingAccountsSortColumn]:null;if(!o||!this.tradingAccountsSortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.tradingAccountsSortDirection==="asc"?-1:1;if(s==null)return this.tradingAccountsSortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.tradingAccountsSortDirection==="asc"?l:-l}get sortedUserPreferences(){return!this.preferencesSortColumn||!this.preferencesSortDirection?this.userPreferences:[...this.userPreferences].sort((i,r)=>this.comparePreferences(i,r))}setPreferencesSort(i){if(this.preferencesSortColumn===i){this.preferencesSortDirection=this.preferencesSortDirection==="desc"?"asc":"desc";return}this.preferencesSortColumn=i,this.preferencesSortDirection="asc"}getPreferencesSortIndicator(i){return this.preferencesSortColumn!==i||!this.preferencesSortDirection?"":this.preferencesSortDirection==="asc"?"\u2191":"\u2193"}comparePreferences(i,r){let o=this.preferencesSortColumn?this.preferencesSortAccessors[this.preferencesSortColumn]:null;if(!o||!this.preferencesSortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.preferencesSortDirection==="asc"?-1:1;if(s==null)return this.preferencesSortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.preferencesSortDirection==="asc"?l:-l}};t.\u0275fac=function(r){return new(r||t)(V(tr),V(Ev),V(GZ),V(WZ),V(ar),V(tt),V(un),V(Rr),V(Fo),V(Zn),V(En),V(Bn),V(Tn))},t.\u0275cmp=ie({type:t,selectors:[["app-profile"]],decls:4,vars:2,consts:[[1,"page-container"],[1,""],["class","flex flex-col items-center justify-center py-16",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"flex","flex-col","items-center","justify-center","py-16"],[1,"text-4xl","text-blue-500","animate-spin","mb-4",3,"icon"],[1,"text-gray-600"],[1,"space-y-6"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","animate-fade-in",4,"ngIf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"animate-fade-in"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-md","shadow-md","p-6","md:p-6","border","border-gray-100","transition-shadow"],[1,"mb-6"],[1,"text-xl","font-bold","text-gray-800","flex","items-center","gap-2"],[1,"text-blue-600"],[1,"text-sm","text-gray-500","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","fullName",1,"block","text-sm","text-gray-700"],["id","fullName","type","text","formControlName","fullName","placeholder","Enter your full name",1,"form-control"],["class","mt-1.5 text-sm text-red-600 space-y-0.5",4,"ngIf"],["for","userName",1,"block","text-sm","text-gray-700"],["id","userName","type","text","formControlName","userName","placeholder","Enter your username",1,"form-control","mb-2"],[1,"mt-2","text-sm","text-amber-600","flex","items-center","gap-1.5"],[1,"bg-gradient-to-br","from-blue-50","to-indigo-50","rounded-md","p-4","border","border-blue-200"],[1,"font-semibold","text-gray-900","mb-3","text-sm"],[1,"space-y-2"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","text-sm","font-medium"],[1,"text-gray-900","text-sm"],[1,"pt-1"],["type","submit",1,"w-full","px-6","py-3","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","disabled:bg-gray-400","disabled:cursor-not-allowed","transition-colors","font-medium","flex","items-center","justify-center","gap-2","text-sm","shadow-md","hover:shadow-lg",3,"disabled"],[3,"icon",4,"ngIf"],["class","animate-spin",3,"icon",4,"ngIf"],[1,"text-orange-600"],["for","oldPassword",1,"block","text-sm","text-gray-700"],[1,"relative"],["id","oldPassword","formControlName","oldPassword","placeholder","Enter your current password",1,"form-control",3,"type"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-500","hover:text-gray-700","transition",3,"click"],[1,"text-lg",3,"icon"],["for","newPassword",1,"block","text-sm","text-gray-700"],["id","newPassword","formControlName","newPassword","placeholder","Enter your new password",1,"form-control",3,"type"],["for","confirmPassword",1,"block","text-sm","text-gray-700"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your new password",1,"form-control",3,"type"],[1,"bg-gradient-to-br","from-orange-50","to-amber-50","border","border-orange-200","rounded-md","p-4"],[1,"font-semibold","text-orange-900","text-sm","flex","items-center","gap-2"],[1,"text-sm","text-orange-800","space-y-2"],[1,"flex","items-center","gap-2"],[1,"text-green-600","font-bold"],[1,"text-amber-600","font-bold"],["type","submit",1,"w-full","px-6","py-3","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:bg-gray-400","disabled:cursor-not-allowed","transition-colors","font-medium","flex","items-center","justify-center","gap-2","text-sm","shadow-md","hover:shadow-lg",3,"disabled"],[1,"mt-1.5","text-sm","text-red-600","space-y-0.5"],[4,"ngIf"],[3,"icon"],[1,"animate-spin",3,"icon"],["class","mb-4 flex justify-between items-center flex-wrap gap-2",4,"ngIf"],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"mb-4","flex","justify-between","items-center","flex-wrap","gap-2"],[1,"flex","gap-2"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none","flex","items-center",3,"click","disabled"],[1,"mr-1",3,"icon"],["class","text-sm text-blue-600 hover:underline focus:outline-none flex items-center",3,"disabled","click",4,"ngIf"],["matTooltip","Onboard Trading Account",1,"px-3","py-2","rounded-md","bg-green-500","text-white","hover:bg-green-600","shadow-sm","transition-all","flex","items-center","gap-2",3,"click"],[1,"text-white",3,"icon"],["class","mr-1",3,"icon",4,"ngIf"],["class","fa-spin mr-1",3,"icon",4,"ngIf"],[1,"fa-spin","mr-1",3,"icon"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngClass"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],["width","32","height","32",1,"object-cover","border","border-gray-300","shadow-sm","rounded",3,"ngSrc","alt"],[3,"text","color"],[1,"text-xs","text-gray-400"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],[1,"cursor-pointer","text-sm",3,"click","matTooltip","text","color"],[1,"text-xs","text-gray-500","font-medium","min-w-[28px]","text-center"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","uppercase","whitespace-nowrap"],[1,"px-2","md:px-4","py-2","md:py-3","text-gray-500","whitespace-nowrap"],[1,"border","border-gray-300","rounded-md","px-2","py-1","w-full","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","text-sm",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"div",1),A(2,rwe,4,1,"div",2)(3,Zwe,7,4,"div",3),h()()),r&2&&(g(2),x("ngIf",o.isLoadingProfile),g(),x("ngIf",!o.isLoadingProfile&&o.profile))},dependencies:[We,Oe,ze,ye,pn,Or,Ia,La,Yt,Ao,Zt,Pr,Gi,ui,_r,br,ot,mn,jr,kr,Ht,ei],encapsulation:2});let n=t;return n})();function Xwe(n,t){n&1&&(m(0,"div",1)(1,"p",3),y(2,"No users to display"),h()())}function Qwe(n,t){if(n&1&&(m(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("id"))}}function Kwe(n,t){if(n&1&&(m(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("userName"))}}function Jwe(n,t){if(n&1&&(m(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("fullName"))}}function eMe(n,t){if(n&1&&(m(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("role"))}}function tMe(n,t){if(n&1&&(m(0,"span",12),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("createdAt"))}}function nMe(n,t){if(n&1&&(m(0,"tr",13)(1,"td",14),y(2),h(),m(3,"td",14),y(4),h(),m(5,"td",14),y(6),h(),m(7,"td",14),y(8),h(),m(9,"td",14),y(10),Y(11,"istDate"),h()()),n&2){let e=t.$implicit;g(2),j(e.id),g(2),j(e.userName),g(2),j(e.fullName),g(2),j(e.role),g(2),j(J(11,5,e.createdAt,"datetime-ordinal"))}}function iMe(n,t){if(n&1){let e=ee();m(0,"div",2)(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("id"))}),y(6," ID "),A(7,Qwe,2,1,"span",9),h()(),m(8,"th",7)(9,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("userName"))}),y(10," USER NAME "),A(11,Kwe,2,1,"span",9),h()(),m(12,"th",7)(13,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("fullName"))}),y(14," FULL NAME "),A(15,Jwe,2,1,"span",9),h()(),m(16,"th",7)(17,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("role"))}),y(18," ROLE "),A(19,eMe,2,1,"span",9),h()(),m(20,"th",7)(21,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("createdAt"))}),y(22," CREATION DATE "),A(23,tMe,2,1,"span",9),h()()()(),m(24,"tbody",10),A(25,nMe,12,8,"tr",11),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("id")),g(4),x("ngIf",e.getSortIndicator("userName")),g(4),x("ngIf",e.getSortIndicator("fullName")),g(4),x("ngIf",e.getSortIndicator("role")),g(4),x("ngIf",e.getSortIndicator("createdAt")),g(2),x("ngForOf",e.sortedRows)}}var $Z=(()=>{let t=class t{constructor(){this.rows=[],this.sortColumn="createdAt",this.sortDirection="asc",this.sortAccessors={id:i=>(i.id??"").toString().toLowerCase(),userName:i=>(i.userName??"").toString().toLowerCase(),fullName:i=>(i.fullName??"").toString().toLowerCase(),role:i=>(i.role??"").toString().toLowerCase(),createdAt:i=>i.createdAt??0}}get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((i,r)=>this.compareRows(i,r))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection="asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-application-users-table"]],inputs:{rows:"rows"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,Xwe,3,0,"div",1)(2,iMe,26,6,"div",2),h()),r&2&&(g(),Wt(!o.rows||o.rows.length===0?1:2))},dependencies:[We,ze,ye,ei],encapsulation:2});let n=t;return n})();var rMe=n=>({"text-red-500 hover:text-red-600":n});function oMe(n,t){n&1&&(m(0,"div",1)(1,"p",3),y(2,"No scheduled tasks to display"),h()())}function aMe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("schedulerName"))}}function sMe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("cronExpression"))}}function lMe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("lastExecutionDate"))}}function cMe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("executionStartTime"))}}function uMe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("executionEndTime"))}}function dMe(n,t){if(n&1&&(m(0,"span",13),y(1),h()),n&2){let e=M(2);g(),j(e.getSortIndicator("status"))}}function fMe(n,t){if(n&1){let e=ee();m(0,"tr",14)(1,"td",15)(2,"div",16),F(3,"app-small-chip",17),m(4,"span",18),y(5),h()()(),m(6,"td",15)(7,"span",18),y(8),m(9,"span",19),y(10),h()()(),m(11,"td",15),y(12),Y(13,"istDate"),h(),m(14,"td",15),y(15),Y(16,"istDate"),h(),m(17,"td",15),y(18),Y(19,"istDate"),h(),m(20,"td",15),F(21,"app-small-chip",20),h(),m(22,"td",21)(23,"app-action-menu",22),k("handleAction",function(r){N(e);let o=M(2);return P(o.handleAction(r))}),h()()()}if(n&2){let e=t.$implicit,i=M(2);x("ngClass",_i(25,rMe,e.errorMessage)),g(3),x("text",e.isActive?"ACTIVE":"PAUSED")("color",i.getStatusColor(e.isActive?"ACTIVE":"PAUSED")),g(),x("matTooltip",e.description),g(),j(e.schedulerName),g(2),x("matTooltip",e.cronDescription),g(),q("",e.cronExpression," "),g(2),j(e.timeZone),g(2),q(" ",J(13,16,e.lastExecutionDate,"date-ordinal")," "),g(3),q(" ",J(16,19,e.executionStartTime,"time-no-mod")," "),g(3),q(" ",J(19,22,e.executionEndTime,"time-no-mod")," "),g(3),x("matTooltip",e.errorMessage?e.errorMessage:"")("text",e.status)("color",i.getStatusColor(e.status)),g(2),x("row",e)("actions",i.getActionButtons(e))}}function pMe(n,t){if(n&1){let e=ee();m(0,"div",2)(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("schedulerName"))}),y(6," NAME "),A(7,aMe,2,1,"span",9),h()(),m(8,"th",7)(9,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("cronExpression"))}),y(10," CRON EXPRESSION "),A(11,sMe,2,1,"span",9),h()(),m(12,"th",7)(13,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("lastExecutionDate"))}),y(14," LAST EXECUTION DATE "),A(15,lMe,2,1,"span",9),h()(),m(16,"th",7)(17,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("executionStartTime"))}),y(18," START TIME "),A(19,cMe,2,1,"span",9),h()(),m(20,"th",7)(21,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("executionEndTime"))}),y(22," END TIME "),A(23,uMe,2,1,"span",9),h()(),m(24,"th",7)(25,"button",8),k("click",function(){N(e);let r=M();return P(r.setSort("status"))}),y(26," STTAUS "),A(27,dMe,2,1,"span",9),h()(),m(28,"th",10),y(29,"ACTION"),h()()(),m(30,"tbody",11),A(31,fMe,24,27,"tr",12),h()()()}if(n&2){let e=M();g(7),x("ngIf",e.getSortIndicator("schedulerName")),g(4),x("ngIf",e.getSortIndicator("cronExpression")),g(4),x("ngIf",e.getSortIndicator("lastExecutionDate")),g(4),x("ngIf",e.getSortIndicator("executionStartTime")),g(4),x("ngIf",e.getSortIndicator("executionEndTime")),g(4),x("ngIf",e.getSortIndicator("status")),g(4),x("ngForOf",e.sortedRows)}}var YZ=(()=>{let t=class t{constructor(){this.rows=[],this.handleClickAction=new be,this.actions=[],this.sortColumn="executionStartTime",this.sortDirection="desc",this.sortAccessors={schedulerName:i=>(i.schedulerName??"").toString().toLowerCase(),cronExpression:i=>(i.cronExpression??"").toString().toLowerCase(),lastExecutionDate:i=>i.lastExecutionDate??0,executionStartTime:i=>i.executionStartTime??0,executionEndTime:i=>i.executionEndTime??0,status:i=>(i.status??"").toString().toLowerCase()}}get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((i,r)=>this.compareRows(i,r))}setSort(i){if(this.sortColumn===i){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=i,this.sortDirection="asc"}getSortIndicator(i){return this.sortColumn!==i||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(i,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(i),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let l;return typeof a=="string"&&typeof s=="string"?l=a.localeCompare(s):l=a-s,this.sortDirection==="asc"?l:-l}getActionButtons(i){return i.isActive?this.actions.filter(r=>r.action!=="activate"):this.actions.filter(r=>r.action!=="pause")}handleAction(i){this.handleClickAction.emit(i)}getStatusColor(i){switch(i?.toUpperCase()){case"COMPLETED":case"ACTIVE":return"green";case"IN_PROGRESS":return"blue";case"FAILED":return"red";case"PAUSED":return"orange";default:return"gray"}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-scheduled-tasks-table"]],inputs:{rows:"rows",actions:"actions"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngClass"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[3,"text","color"],[3,"matTooltip"],[1,"text-sm","text-gray-400","uppercase","ml-1"],[3,"matTooltip","text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"]],template:function(r,o){r&1&&(m(0,"div",0),Gt(1,oMe,3,0,"div",1)(2,pMe,32,7,"div",2),h()),r&2&&(g(),Wt(!o.rows||o.rows.length===0?1:2))},dependencies:[We,Oe,ze,ye,jr,mn,Ht,ei],encapsulation:2});let n=t;return n})();var ZZ=(()=>{let t=class t{constructor(){this.message="Just a moment, we're preparing your view"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-data-loading-message"]],inputs:{message:"message"},decls:7,vars:0,consts:[[1,"relative","w-full"],[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-white/60","backdrop-blur-sm"],["role","status","aria-live","polite",1,"flex","items-center","space-x-3","p-6","rounded-md","bg-white","shadow-sm","border","border-blue-100"],["aria-hidden","true",1,"flex","space-x-2"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-1"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-2"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-3"]],template:function(r,o){r&1&&(es(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b6(4,"div",4)(5,"div",5)(6,"div",6),l2()()()())},styles:["@keyframes _ngcontent-%COMP%_loader-bounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-6px) scale(1.1)}}.bounce-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loader-bounce .6s infinite ease-in-out}.bounce-delay-1[_ngcontent-%COMP%]{animation-delay:0s}.bounce-delay-2[_ngcontent-%COMP%]{animation-delay:.15s}.bounce-delay-3[_ngcontent-%COMP%]{animation-delay:.3s}"]});let n=t;return n})();var XZ=(()=>{let t=class t{constructor(i){this.api=i}getAllApplicationUsers(){return this.api.get("/v1/admin/users")}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var QZ=(()=>{let t=class t{constructor(i){this.api=i}getScheduledTasks(){return this.api.get("/v1/admin/schedulers")}executeScheduledTask(i){return this.api.post(`/v1/admin/schedulers/${i}/execute`)}updateScheduledTaskStatus(i,r){return this.api.patch(`/v1/admin/schedulers/${i}/status`,r)}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var KZ=(()=>{let t=class t{constructor(i){this.api=i}getApplicationLogs(i){return this.api.get(`/v1/logs/${i}`,{responseType:"text"})}getAlgoLogs(i){return this.api.get(`/v1/logs/algo/${i}`,{responseType:"text"})}};t.\u0275fac=function(r){return new(r||t)(ae(Bt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var vMe=["scrollContainer"];function yMe(n,t){n&1&&F(0,"span",13)}function _Me(n,t){if(n&1){let e=ee();m(0,"div",11),k("click",function(){let r=N(e).$implicit,o=M(2);return P(o.setActiveTab(r))}),y(1),A(2,yMe,1,0,"span",12),h()}if(n&2){let e=t.$implicit,i=M(2);Te("active-tab",e===i.activeTab)("text-gray-700",e!==i.activeTab),g(),q(" ",e," "),g(),x("ngIf",e===i.activeTab)}}function bMe(n,t){if(n&1&&(m(0,"div",18),F(1,"app-application-users-table",19),h()),n&2){let e=M(3);g(),x("rows",e.applicationUsers)}}function xMe(n,t){n&1&&(m(0,"div",18)(1,"app-note",20),y(2," No application users have been onboarded to the application. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function CMe(n,t){if(n&1){let e=ee();m(0,"div",14)(1,"button",15),k("click",function(){N(e);let r=M(2);return P(r.refreshApplicationUsers())}),F(2,"fa-icon",16),m(3,"span"),y(4),h()(),A(5,bMe,2,1,"div",17)(6,xMe,3,3,"ng-template",null,0,Wn),h()}if(n&2){let e=An(7),i=M(2);g(),x("disabled",i.isRefreshingUsers),g(),Te("fa-spin",i.isRefreshingUsers),x("icon",i.isRefreshingUsers?i.faSpinner:i.faRefresh),g(2),j(i.isRefreshingUsers?"Loading":"Refresh"),g(),x("ngIf",i.applicationUsers.length>0)("ngIfElse",e)}}function SMe(n,t){if(n&1){let e=ee();m(0,"div",18)(1,"app-scheduled-tasks-table",21),k("handleClickAction",function(r){N(e);let o=M(3);return P(o.handleAction(r))}),h()()}if(n&2){let e=M(3);g(),x("rows",e.scheduledTasks)("actions",e.actions)}}function wMe(n,t){n&1&&(m(0,"div",18)(1,"app-note",20),y(2," No scheduled tasks to display. "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function MMe(n,t){if(n&1){let e=ee();m(0,"div",14)(1,"button",15),k("click",function(){N(e);let r=M(2);return P(r.refreshScheduledTasks())}),F(2,"fa-icon",16),m(3,"span"),y(4),h()(),A(5,SMe,2,2,"div",17)(6,wMe,3,3,"ng-template",null,1,Wn),h()}if(n&2){let e=An(7),i=M(2);g(),x("disabled",i.isRefreshingTasks),g(),Te("fa-spin",i.isRefreshingTasks),x("icon",i.isRefreshingTasks?i.faSpinner:i.faRefresh),g(2),j(i.isRefreshingTasks?"Loading":"Refresh"),g(),x("ngIf",i.scheduledTasks.length>0)("ngIfElse",e)}}function TMe(n,t){if(n&1&&(m(0,"option",33),y(1),h()),n&2){let e=t.$implicit;x("value",e.value),g(),q(" ",e.label," ")}}function EMe(n,t){if(n&1&&(m(0,"option",33),y(1),h()),n&2){let e=t.$implicit;x("value",e.value),g(),q(" ",e.label," ")}}function DMe(n,t){n&1&&(m(0,"div",42),F(1,"app-data-loading-message"),h())}function IMe(n,t){if(n&1&&(m(0,"div"),y(1),h()),n&2){let e=t.$implicit;g(),j(e)}}function LMe(n,t){if(n&1&&(At(0),A(1,IMe,2,1,"div",43),zt()),n&2){let e=M(3);g(),x("ngForOf",e.filteredLogs)}}function AMe(n,t){n&1&&(m(0,"div",45)(1,"app-note",20),y(2," No logs to display "),h()()),n&2&&(g(),x("type","warning")("dismissible",!1)("atCenter",!0))}function zMe(n,t){if(n&1&&A(0,AMe,3,3,"div",44),n&2){let e=M(3);x("ngIf",!e.showLogLoader)}}function kMe(n,t){if(n&1){let e=ee();m(0,"div",14)(1,"div",22)(2,"div",23)(3,"select",24),bt("ngModelChange",function(r){N(e);let o=M(2);return Mt(o.logFileType,r)||(o.logFileType=r),P(r)}),k("ngModelChange",function(){N(e);let r=M(2);return P(r.onLogFileTypeChange())}),A(4,TMe,2,2,"option",25),h(),m(5,"select",26),bt("ngModelChange",function(r){N(e);let o=M(2);return Mt(o.logFileName,r)||(o.logFileName=r),P(r)}),k("ngModelChange",function(){N(e);let r=M(2);return P(r.onLogFileNameChange())}),A(6,EMe,2,2,"option",25),h()(),m(7,"div",27)(8,"div",28),y(9),Y(10,"date"),h(),m(11,"div",29)(12,"label",30)(13,"input",31),bt("ngModelChange",function(r){N(e);let o=M(2);return Mt(o.autoRefresh,r)||(o.autoRefresh=r),P(r)}),h(),y(14," Auto "),h(),m(15,"select",32),bt("ngModelChange",function(r){N(e);let o=M(2);return Mt(o.refreshInterval,r)||(o.refreshInterval=r),P(r)}),m(16,"option",33),y(17,"5s"),h(),m(18,"option",33),y(19,"10s"),h(),m(20,"option",33),y(21,"15s"),h(),m(22,"option",33),y(23,"30s"),h()(),m(24,"button",34),k("click",function(){N(e);let r=M(2);return P(r.refreshLogs())}),F(25,"fa-icon",35),y(26," Refresh "),h()()()(),m(27,"div",36)(28,"input",37),bt("ngModelChange",function(r){N(e);let o=M(2);return Mt(o.searchTerm,r)||(o.searchTerm=r),P(r)}),h(),m(29,"button",38),k("click",function(){N(e);let r=M(2);return P(r.performSearch())}),y(30," Search "),h()(),m(31,"div",39,2),A(33,DMe,2,0,"div",40)(34,LMe,2,1,"ng-container",41)(35,zMe,1,1,"ng-template",null,3,Wn),h()()}if(n&2){let e=An(36),i=M(2);g(3),_t("ngModel",i.logFileType),g(),x("ngForOf",i.logFileTypeOptions),g(),_t("ngModel",i.logFileName),g(),x("ngForOf",i.logFileNameOptions),g(3),q("Last updated: ",J(10,20,i.lastUpdated,"shortTime")),g(4),_t("ngModel",i.autoRefresh),g(2),_t("ngModel",i.refreshInterval),x("disabled",!i.autoRefresh),g(),x("value",5e3),g(2),x("value",1e4),g(2),x("value",15e3),g(2),x("value",3e4),g(2),x("disabled",i.isRefreshingLogs),g(),Te("fa-spin",i.isRefreshingLogs),x("icon",i.isRefreshingLogs?i.faSpinner:i.faRefresh),g(3),_t("ngModel",i.searchTerm),g(5),x("ngIf",i.showLogLoader),g(),x("ngIf",i.filteredLogs.length)("ngIfElse",e)}}function NMe(n,t){if(n&1&&(m(0,"div",6)(1,"div",7)(2,"div",8),A(3,_Me,3,6,"div",9),h()(),A(4,CMe,8,7,"div",10)(5,MMe,8,7,"div",10)(6,kMe,37,23,"div",10),h()),n&2){let e=M();g(3),x("ngForOf",e.tabs),g(),x("ngIf",e.activeTab==="Application Users"),g(),x("ngIf",e.activeTab==="Scheduled Tasks"),g(),x("ngIf",e.activeTab==="Log Viewer")}}var JZ=(()=>{let t=class t{get autoRefresh(){return this._autoRefresh}set autoRefresh(i){this._autoRefresh=i,this.updateAutoRefreshTimer()}get refreshInterval(){return this._refreshInterval}set refreshInterval(i){this._refreshInterval=i,this.updateAutoRefreshTimer()}constructor(i,r,o,a,s,l,c,u){this.applicationUsersListService=i,this.scheduledTasksService=r,this.logsService=o,this.toastrService=a,this.userDataStateService=s,this.userViewStateService=l,this.utilsService=c,this.alertService=u,this.tabs=["Scheduled Tasks","Application Users","Log Viewer"],this.activeTab="Application Users",this.applicationUsers=[],this.isRefreshingUsers=!1,this.scheduledTasks=[],this.isRefreshingTasks=!1,this.logs="",this.searchTerm="",this.filteredLogs=[],this.logFileType="application",this.logFileName="fam-vest.log",this.isRefreshingLogs=!1,this.showLogLoader=!1,this.lastUpdated=new Date,this._autoRefresh=!0,this._refreshInterval=1e4,this.destroy$=new me,this.logFileTypeOptions=[{value:"application",label:"Application"},{value:"algo",label:"Algorithm"}],this.logFileNameOptions=[],this.applicationLogFiles=["fam-vest.log"],this.algoLogFiles=["straddle.log"],this.faSpinner=ko,this.faRefresh=Aa,this.actions=[{action:"activate",color:"blue",label:"Activate Scheduled Task"},{action:"pause",color:"orange",label:"Pause Scheduled Task"},{action:"execute",color:"blue",label:"Execute Scheduled Task"},{action:"info",color:"gray",label:"Scheduled Task Details"}],this.faPlus=_2}ngOnInit(){this.loadCachedViewState(),this.getCachedData(),this.loadTabData()}ngOnDestroy(){clearInterval(this.timer),this.destroy$.next(),this.destroy$.complete()}loadCachedViewState(){let i=this.userViewStateService.getState();i?.administration?.selectedTab&&(this.activeTab=i.administration.selectedTab)}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&(i.applicationUsers&&(this.applicationUsers=i.applicationUsers),i.scheduledTasks&&(this.scheduledTasks=i.scheduledTasks))}loadTabData(){this.fetchApplicationUsers(),this.fetchScheduledTasks(),this.initializeLogViewer(),this.fetchLogs()}setActiveTab(i){this.activeTab=i;let r=this.userViewStateService.getState();r.administration=r.administration||{},r.administration.selectedTab=i,this.userViewStateService.setState(r)}fetchApplicationUsers(){this.isRefreshingUsers=!0,this.applicationUsersListService.getAllApplicationUsers().pipe(nn(this.destroy$)).subscribe({next:i=>{this.applicationUsers=i.data||[],this.setCachedData(),this.isRefreshingUsers=!1},error:i=>{this.isRefreshingUsers=!1,this.toastrService.error(i.error?.message||"Error fetching application users","Error")}})}refreshApplicationUsers(){this.fetchApplicationUsers()}fetchScheduledTasks(){this.isRefreshingTasks=!0,this.scheduledTasksService.getScheduledTasks().pipe(nn(this.destroy$)).subscribe({next:i=>{this.scheduledTasks=i.data||[],this.setCachedData(),this.isRefreshingTasks=!1},error:i=>{this.isRefreshingTasks=!1,this.toastrService.error(i.error?.message||"Error fetching scheduled tasks","Error")}})}handleAction(i){(i.action==="activate"||i.action==="pause")&&this.toggleScheduledTaskStatus(i.action,i.row),i.action==="execute"?this.executeScheduledTask(i.row):i.action==="info"&&this.utilsService.showInfo(i.row,`Scheduled Task - ${i.row.schedulerName}`)}executeScheduledTask(i){this.alertService.confirm("Execute Scheduled Task","Are you sure you want to execute this scheduled task now? This will trigger immediate execution.",()=>{this.isRefreshingTasks=!0,i.status="IN_PROGRESS",this.scheduledTasksService.executeScheduledTask(i.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchScheduledTasks(),this.isRefreshingTasks=!1},error:r=>{this.isRefreshingTasks=!1,this.fetchScheduledTasks(),this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}toggleScheduledTaskStatus(i,r){this.scheduledTasksService.updateScheduledTaskStatus(r.id,{status:i}).subscribe({next:o=>{this.toastrService.success(o.message,"Success"),this.fetchScheduledTasks()},error:o=>{this.toastrService.error(o.error.message,"Error"),console.error(o)}})}refreshScheduledTasks(){this.fetchScheduledTasks()}initializeLogViewer(){this.updateLogFileOptions()}fetchLogs(){this.showLogLoader=!0,(this.logFileType==="application"?this.logsService.getApplicationLogs(this.logFileName):this.logsService.getAlgoLogs(this.logFileName)).pipe(nn(this.destroy$)).subscribe({next:r=>{this.logs=r,this.filterLogs(),this.lastUpdated=new Date,this.showLogLoader=!1,this.scrollToBottom()},error:r=>{this.showLogLoader=!1,this.logs="",this.filteredLogs=[],r.error?.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching logs.","Error")}})}filterLogs(){let i=this.logs.split(`
`);this.filteredLogs=this.searchTerm?i.filter(r=>r.toLowerCase().includes(this.searchTerm.toLowerCase())):i}performSearch(){this.showLogLoader=!0,setTimeout(()=>{this.filterLogs(),this.showLogLoader=!1},100)}refreshLogs(){this.fetchLogs()}scrollToBottom(){try{setTimeout(()=>{this.scrollContainer&&this.scrollContainer.nativeElement&&(this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight)},100)}catch(i){console.warn("Scroll failed:",i)}}updateAutoRefreshTimer(){clearInterval(this.timer),this.autoRefresh&&this.activeTab==="Log Viewer"&&(this.timer=setInterval(()=>{this.fetchLogs()},this.refreshInterval))}onLogFileTypeChange(){this.updateLogFileOptions(),this.fetchLogs()}onLogFileNameChange(){this.fetchLogs()}updateLogFileOptions(){this.logFileNameOptions=this.logFileType==="application"?this.applicationLogFiles.map(i=>({value:i,label:i})):this.algoLogFiles.map(i=>({value:i,label:i})),this.logFileName=this.logFileNameOptions.length>0?this.logFileNameOptions[0].value:""}setCachedData(){this.userDataStateService.setState({applicationUsers:this.applicationUsers,scheduledTasks:this.scheduledTasks})}};t.\u0275fac=function(r){return new(r||t)(V(XZ),V(QZ),V(KZ),V(tt),V(Tn),V(Bn),V(En),V(Fo))},t.\u0275cmp=ie({type:t,selectors:[["app-administration"]],viewQuery:function(r,o){if(r&1&&On(vMe,5),r&2){let a;an(a=sn())&&(o.scrollContainer=a.first)}},decls:2,vars:1,consts:[["noApplicationUsers",""],["noScheduledTasks",""],["scrollContainer",""],["noLogsTemplate",""],[1,"page-container"],["class","space-y-6",4,"ngIf"],[1,"space-y-6"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","animate-fade-in",4,"ngIf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"animate-fade-in"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1","mb-4",3,"click","disabled"],[1,"mr-0.5",3,"icon"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"rows"],[3,"type","dismissible","atCenter"],[3,"handleClickAction","rows","actions"],[1,"flex","flex-col","md:flex-row","gap-3","md:items-center","md:justify-between","bg-white","p-4","rounded-md","border","border-gray-200","text-gray-700"],[1,"flex","flex-col","sm:flex-row","gap-2","w-full","md:w-auto"],[1,"border","px-3","py-1.5","rounded-md","text-sm",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"border","px-3","py-1.5","rounded-md","text-sm","flex-1","sm:min-w-[200px]",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-3","flex-wrap"],[1,"text-sm","text-gray-500","mr-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1","text-sm","whitespace-nowrap"],["type","checkbox",1,"form-checkbox",3,"ngModelChange","ngModel"],[1,"border","px-2","py-1.5","rounded-md","text-sm",3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"bg-blue-600","text-white","px-3","py-1.5","rounded-md","text-sm","whitespace-nowrap","flex-shrink-0","flex","items-center","gap-1",3,"click","disabled"],[3,"icon"],[1,"flex","gap-2","w-full","mt-3"],["type","text","placeholder","Search logs...",1,"border","px-3","py-1.5","rounded-md","text-sm","w-full",3,"ngModelChange","ngModel"],[1,"bg-blue-600","text-white","px-3","py-1.5","rounded-md","text-sm","whitespace-nowrap","flex-shrink-0",3,"click"],[1,"bg-black","text-green-400","text-sm","font-mono","p-4","rounded-md","min-h-[300px]","page-content","whitespace-pre-wrap","relative","mt-3"],["class","absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-70","z-10"],[4,"ngFor","ngForOf"],["class","h-full w-full flex items-center justify-center",4,"ngIf"],[1,"h-full","w-full","flex","items-center","justify-center"]],template:function(r,o){r&1&&(m(0,"div",4),A(1,NMe,7,4,"div",5),h()),r&2&&(g(),x("ngIf",!(o.activeTab==="Application Users"&&o.applicationUsers.length===0&&o.isRefreshingUsers||o.activeTab==="Scheduled Tasks"&&o.scheduledTasks.length===0&&o.isRefreshingTasks||o.activeTab==="Log Viewer"&&o.showLogLoader&&o.filteredLogs.length===0)))},dependencies:[We,ze,ye,pn,Ia,La,Yt,m2,Ao,Zt,Gi,ot,$Z,YZ,ZZ,lr,jw],encapsulation:2});let n=t;return n})();var eX=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:FZ,canActivate:[go],data:{title:Gr.home}},{path:"watchlist",component:xv,canActivate:[go],data:{title:Gr.watchlist,standaloneWatchlist:!0}},{path:"orders",component:eZ,canActivate:[go],data:{title:Gr.orders}},{path:"basket-order",component:VZ,canActivate:[go],data:{title:Gr.basketOrder}},{path:"holdings",component:sZ,canActivate:[go],data:{title:Gr.holdings}},{path:"positions",component:fZ,canActivate:[go],data:{title:Gr.positions}},{path:"funds",component:pZ,canActivate:[go],data:{title:Gr.funds}},{path:"mf",component:xZ,canActivate:[go],data:{title:Gr.mf}},{path:"algo",component:TZ,canActivate:[go],data:{title:Gr.algo}},{path:"historical-data",component:DZ,canActivate:[go],data:{title:Gr.historicalData}},{path:"administration",component:JZ,canActivate:[go,IZ],data:{title:Gr.administration}},{path:"ipos",component:kZ,canActivate:[go],data:{title:Gr.ipos}},{path:"profile",component:qZ,canActivate:[go],data:{title:Gr.myProfile}},{path:"login",component:mZ,canActivate:[go],data:{title:Gr.login}},{path:"signup",component:CZ,data:{title:Gr.signup}},{path:"**",redirectTo:"/home"}];function tX(n){return new se(3e3,!1)}function PMe(){return new se(3100,!1)}function OMe(){return new se(3101,!1)}function RMe(n){return new se(3001,!1)}function FMe(n){return new se(3003,!1)}function BMe(n){return new se(3004,!1)}function iX(n,t){return new se(3005,!1)}function rX(){return new se(3006,!1)}function oX(){return new se(3007,!1)}function aX(n,t){return new se(3008,!1)}function sX(n){return new se(3002,!1)}function lX(n,t,e,i,r){return new se(3010,!1)}function cX(){return new se(3011,!1)}function uX(){return new se(3012,!1)}function dX(){return new se(3200,!1)}function fX(){return new se(3202,!1)}function pX(){return new se(3013,!1)}function mX(n){return new se(3014,!1)}function hX(n){return new se(3015,!1)}function gX(n){return new se(3016,!1)}function vX(n,t){return new se(3404,!1)}function VMe(n){return new se(3502,!1)}function yX(n){return new se(3503,!1)}function _X(){return new se(3300,!1)}function bX(n){return new se(3504,!1)}function xX(n){return new se(3301,!1)}function CX(n,t){return new se(3302,!1)}function SX(n){return new se(3303,!1)}function wX(n,t){return new se(3400,!1)}function MX(n){return new se(3401,!1)}function TX(n){return new se(3402,!1)}function EX(n,t){return new se(3505,!1)}function R2(n){switch(n.length){case 0:return new hs;case 1:return n[0];default:return new Jc(n)}}function ND(n,t,e=new Map,i=new Map){let r=[],o=[],a=-1,s=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==a,d=u&&s||new Map;l.forEach((f,p)=>{let v=p,_=f;if(p!=="offset")switch(v=n.normalizePropertyName(v,r),_){case lu:_=e.get(p);break;case Oa:_=i.get(p);break;default:_=n.normalizeStyleValue(p,v,_,r);break}d.set(v,_)}),u||o.push(d),s=d,a=c}),r.length)throw VMe(r);return o}function Dv(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&AD(e,"start",n)));break;case"done":n.onDone(()=>i(e&&AD(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&AD(e,"destroy",n)));break}}function AD(n,t,e){let i=e.totalTime,r=!!e.disabled,o=Iv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),a=n._data;return a!=null&&(o._data=a),o}function Iv(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Bo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function PD(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var UMe=typeof document>"u"?null:document.documentElement;function Lv(n){let t=n.parentNode||n.host||null;return t===UMe?null:t}function HMe(n){return n.substring(1,6)=="ebkit"}var d3=null,nX=!1;function DX(n){d3||(d3=jMe()||{},nX=d3.style?"WebkitAppearance"in d3.style:!1);let t=!0;return d3.style&&!HMe(n)&&(t=n in d3.style,!t&&nX&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in d3.style)),t}function jMe(){return typeof document<"u"?document.body:null}function OD(n,t){for(;t;){if(t===n)return!0;t=Lv(t)}return!1}function RD(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var GMe=1e3,FD="{{",WMe="}}",BD="ng-enter",Av="ng-leave",y8="ng-trigger",_8=".ng-trigger",VD="ng-animating",zv=".ng-animating";function Ms(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zD(parseFloat(t[1]),t[2])}function zD(n,t){switch(t){case"s":return n*GMe;default:return n}}function b8(n,t,e){return n.hasOwnProperty("duration")?n:$Me(n,t,e)}var qMe=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function $Me(n,t,e){let i,r=0,o="";if(typeof n=="string"){let a=n.match(qMe);if(a===null)return t.push(tX(n)),{duration:0,delay:0,easing:""};i=zD(parseFloat(a[1]),a[2]);let s=a[3];s!=null&&(r=zD(parseFloat(s),a[4]));let l=a[5];l&&(o=l)}else i=n;if(!e){let a=!1,s=t.length;i<0&&(t.push(PMe()),a=!0),r<0&&(t.push(OMe()),a=!0),a&&t.splice(s,0,tX(n))}return{duration:i,delay:r,easing:o}}function IX(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function E1(n,t,e){t.forEach((i,r)=>{let o=kv(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function p0(n,t){t.forEach((e,i)=>{let r=kv(i);n.style[r]=""})}function Mu(n){return Array.isArray(n)?n.length==1?n[0]:VW(n):n}function LX(n,t,e){let i=t.params||{},r=UD(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(RMe(o))})}var kD=new RegExp(`${FD}\\s*(.+?)\\s*${WMe}`,"g");function UD(n){let t=[];if(typeof n=="string"){let e;for(;e=kD.exec(n);)t.push(e[1]);kD.lastIndex=0}return t}function Tu(n,t,e){let i=`${n}`,r=i.replace(kD,(o,a)=>{let s=t[a];return s==null&&(e.push(FMe(a)),s=""),s.toString()});return r==i?n:r}var YMe=/-+([a-z0-9])/g;function kv(n){return n.replace(YMe,(...t)=>t[1].toUpperCase())}function AX(n,t){return n===0||t===0}function zX(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(s=>a.set(s,Nv(n,s)))}}return t}function Vo(n,t,e){switch(t.type){case vt.Trigger:return n.visitTrigger(t,e);case vt.State:return n.visitState(t,e);case vt.Transition:return n.visitTransition(t,e);case vt.Sequence:return n.visitSequence(t,e);case vt.Group:return n.visitGroup(t,e);case vt.Animate:return n.visitAnimate(t,e);case vt.Keyframes:return n.visitKeyframes(t,e);case vt.Style:return n.visitStyle(t,e);case vt.Reference:return n.visitReference(t,e);case vt.AnimateChild:return n.visitAnimateChild(t,e);case vt.AnimateRef:return n.visitAnimateRef(t,e);case vt.Query:return n.visitQuery(t,e);case vt.Stagger:return n.visitStagger(t,e);default:throw BMe(t.type)}}function Nv(n,t){return window.getComputedStyle(n)[t]}var rI=(()=>{class n{validateStyleProperty(e){return DX(e)}containsElement(e,i){return OD(e,i)}getParentElement(e){return Lv(e)}query(e,i,r){return RD(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],l){return new hs(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),p3=class{static NOOP=new rI},m3=class{};var ZMe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Bv=class extends m3{normalizePropertyName(t,e){return kv(t)}normalizeStyleValue(t,e,i,r){let o="",a=i.toString().trim();if(ZMe.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(iX(t,i))}return a+o}};var Vv="*";function XMe(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>QMe(i,e,t)):e.push(n),e}function QMe(n,t,e){if(n[0]==":"){let l=KMe(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(hX(n)),t;let r=i[1],o=i[2],a=i[3];t.push(kX(r,a));let s=r==Vv&&a==Vv;o[0]=="<"&&!s&&t.push(kX(a,r))}function KMe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(gX(n)),"* => *"}}var Pv=new Set(["true","1"]),Ov=new Set(["false","0"]);function kX(n,t){let e=Pv.has(n)||Ov.has(n),i=Pv.has(t)||Ov.has(t);return(r,o)=>{let a=n==Vv||n==r,s=t==Vv||t==o;return!a&&e&&typeof r=="boolean"&&(a=r?Pv.has(n):Ov.has(n)),!s&&i&&typeof o=="boolean"&&(s=o?Pv.has(t):Ov.has(t)),a&&s}}var jX=":self",JMe=new RegExp(`s*${jX}s*,?`,"g");function GX(n,t,e,i){return new $D(n).build(t,e,i)}var NX="",$D=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new YD(e);return this._resetContextStyleTimingState(r),Vo(this,Mu(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=NX,t.collectedStyles=new Map,t.collectedStyles.set(NX,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return t.name.charAt(0)=="@"&&e.errors.push(rX()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==vt.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==vt.Transition){let l=this.visitTransition(s,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(oX())}),{type:vt.Trigger,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{UD(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(aX(t.name,[...o.values()]))}return{type:vt.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Vo(this,Mu(t.animation),e),r=XMe(t.expr,e.errors);return{type:vt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:f3(t.options)}}visitSequence(t,e){return{type:vt.Sequence,steps:t.steps.map(i=>Vo(this,i,e)),options:f3(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(a=>{e.currentTime=i;let s=Vo(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:vt.Group,steps:o,options:f3(t.options)}}visitAnimate(t,e){let i=iTe(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Cr({});if(o.type==vt.Keyframes)r=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;let c={};i.easing&&(c.easing=i.easing),a=Cr(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:vt.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of r)typeof s=="string"?s===Oa?i.push(s):e.errors.push(sX(s)):i.push(new Map(Object.entries(s)));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(FD)>=0){o=!0;break}}}),{type:vt.Style,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(lX(l,u.startTime,u.endTime,o,r)),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),e.options&&LX(s,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:vt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(cX()),i;let r=1,o=0,a=[],s=!1,l=!1,c=0,u=t.steps.map(C=>{let w=this._makeStyleAst(C,e),E=w.offset!=null?w.offset:nTe(w.styles),D=0;return E!=null&&(o++,D=w.offset=E),l=l||D<0||D>1,s=s||D<c,c=D,a.push(D),w});l&&e.errors.push(uX()),s&&e.errors.push(dX());let d=t.steps.length,f=0;o>0&&o<d?e.errors.push(fX()):o==0&&(f=r/(d-1));let p=d-1,v=e.currentTime,_=e.currentAnimateTimings,b=_.duration;return u.forEach((C,w)=>{let E=f>0?w==p?1:f*w:a[w],D=E*b;e.currentTime=v+_.delay+D,_.duration=D,this._validateStyleAst(C,e),C.offset=E,i.styles.push(C)}),i}visitReference(t,e){return{type:vt.Reference,animation:Vo(this,Mu(t.animation),e),options:f3(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:vt.AnimateChild,options:f3(t.options)}}visitAnimateRef(t,e){return{type:vt.AnimateRef,animation:this.visitReference(t.animation,e),options:f3(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,a]=eTe(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Bo(e.collectedStyles,e.currentQuerySelector,new Map);let s=Vo(this,Mu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:vt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:f3(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(pX());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:b8(t.timings,e.errors,!0);return{type:vt.Stagger,animation:Vo(this,Mu(t.animation),e),timings:i,options:null}}};function eTe(n){let t=!!n.split(/\s*,\s*/).find(e=>e==jX);return t&&(n=n.replace(JMe,"")),n=n.replace(/@\*/g,_8).replace(/@\w+/g,e=>_8+"-"+e.slice(1)).replace(/:animating/g,zv),[n,t]}function tTe(n){return n?X({},n):null}var YD=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function nTe(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function iTe(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=b8(n,t).duration;return HD(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=HD(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=b8(e,t);return HD(r.duration,r.delay,r.easing)}function f3(n){return n?(n=X({},n),n.params&&(n.params=tTe(n.params))):n={},n}function HD(n,t,e){return{duration:n,delay:t,easing:e}}function oI(n,t,e,i,r,o,a=null,s=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var C8=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},rTe=1,oTe=":enter",aTe=new RegExp(oTe,"g"),sTe=":leave",lTe=new RegExp(sTe,"g");function WX(n,t,e,i,r,o=new Map,a=new Map,s,l,c=[]){return new ZD().buildKeyframes(n,t,e,i,r,o,a,s,l,c)}var ZD=class{buildKeyframes(t,e,i,r,o,a,s,l,c,u=[]){c=c||new C8;let d=new XD(t,e,c,r,o,u,[]);d.options=l;let f=l.delay?Ms(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([a],null,d.errors,l),Vo(this,i,d);let p=d.timelines.filter(v=>v.containsAnimation());if(p.length&&s.size){let v;for(let _=p.length-1;_>=0;_--){let b=p[_];if(b.element===e){v=b;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([s],null,d.errors,l)}return p.length?p.map(v=>v.buildKeyframes()):[oI(e,[],[],[],0,f,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let a=typeof o=="number"?o:Ms(Tu(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,a=i.duration!=null?Ms(i.duration):null,s=i.delay!=null?Ms(i.delay):null;return a!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Vo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==vt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Uv);let a=Ms(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Vo(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ms(t.options.delay):0;t.steps.forEach(a=>{let s=e.createSubContext(t.options);o&&s.delayNextStep(o),Vo(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?Tu(i,e.params,e.errors):i;return b8(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==vt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ms(r.delay):0;o&&(e.previousNode.type===vt.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Uv);let a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),Vo(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;a=Math.max(a,f)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Vo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},Uv={},XD=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Uv;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,a,s,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=l||new Hv(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Ms(i.duration)),i.delay!=null&&(r.delay=Ms(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=Tu(o[s],a,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Uv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new QD(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let s=[];if(r&&s.push(this.element),t.length>0){t=t.replace(aTe,"."+this._enterClassName),t=t.replace(lTe,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&s.length==0&&a.push(mX(e)),s}},Hv=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=rTe,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Oa),this._currentKeyframe.set(e,Oa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=cTe(t,this._globalTimelineStyles);for(let[s,l]of a){let c=Tu(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Oa),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((u,d)=>{u===lu?t.add(d):u===Oa&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...t.values()],a=[...e.values()];if(i){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return oI(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},QD=class extends Hv{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,a,s=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=i+e,s=e/a,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",PX(s)),o.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let f=new Map(t[d]),p=f.get("offset"),v=e+p*i;f.set("offset",PX(v/a)),o.push(f)}i=a,e=0,r="",t=o}return oI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function PX(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function cTe(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,Oa)}else for(let[o,a]of r)e.set(o,a)}),e}function OX(n,t,e,i,r,o,a,s,l,c,u,d,f){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var jD={},jv=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return uTe(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,s,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||jD,p=s&&s.params||jD,v=this.buildStyles(i,p,d),_=l&&l.params||jD,b=this.buildStyles(r,_,d),C=new Set,w=new Map,E=new Map,D=r==="void",L={params:qX(_,f),delay:this.ast.options?.delay},z=u?[]:WX(t,e,this.ast.animation,o,a,v,b,L,c,d),R=0;return z.forEach(H=>{R=Math.max(H.duration+H.delay,R)}),d.length?OX(e,this._triggerName,i,r,D,v,b,[],[],w,E,R,d):(z.forEach(H=>{let W=H.element,$=Bo(w,W,new Set);H.preStyleProps.forEach(Z=>$.add(Z));let G=Bo(E,W,new Set);H.postStyleProps.forEach(Z=>G.add(Z)),W!==e&&C.add(W)}),OX(e,this._triggerName,i,r,D,v,b,z,[...C.values()],w,E,R))}};function uTe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function qX(n,t){let e=X({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var KD=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=qX(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=Tu(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),i.set(s,a)})}),i}};function dTe(n,t,e){return new JD(n,t,e)}var JD=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new KD(r.style,o,i))}),RX(this.states,"true","1"),RX(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new jv(t,r,this.states))}),this.fallbackTransition=fTe(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function fTe(n,t,e){let i=[(a,s)=>!0],r={type:vt.Sequence,steps:[],options:null},o={type:vt.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new jv(n,o,t)}function RX(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var pTe=new C8,eI=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],o=GX(this._driver,e,i,r);if(i.length)throw yX(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=ND(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),a,s=new Map;if(o?(a=WX(this._driver,e,o,BD,Av,new Map,new Map,i,pTe,r),a.forEach(u=>{let d=Bo(s,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(_X()),a=[]),r.length)throw bX(r);s.forEach((u,d)=>{u.forEach((f,p)=>{u.set(p,this._driver.computeStyle(d,p,Oa))})});let l=a.map(u=>{let d=s.get(u.element);return this._buildPlayer(u,new Map,d)}),c=R2(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw xX(t);return e}listen(t,e,i,r){let o=Iv(e,"","","");return Dv(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(t,e,a);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},FX="ng-animate-queued",mTe=".ng-animate-queued",GD="ng-animate-disabled",hTe=".ng-animate-disabled",gTe="ng-star-inserted",vTe=".ng-star-inserted",yTe=[],$X={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_Te={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},D1="__ng_removed",S8=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=xTe(r),i){let o=t,{value:a}=o,s=fx(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},x8="void",WD=new S8(x8),tI=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Ua(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw CX(i,e);if(i==null||i.length==0)throw SX(e);if(!CTe(i))throw wX(i,e);let o=Bo(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);let s=Bo(this._engine.statesByElement,t,new Map);return s.has(e)||(Ua(t,y8),Ua(t,y8+"-"+e),s.set(e,WD)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw MX(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),a=new w8(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Ua(t,y8),Ua(t,y8+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e),c=new S8(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=WD),!(c.value===x8)&&l.value===c.value){if(!MTe(l.params,c.params)){let _=[],b=o.matchStyles(l.value,l.params,_),C=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{p0(t,b),E1(t,C)})}return}let f=Bo(this._engine.playersByElement,t,[]);f.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let p=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!p){if(!r)return;p=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:c,player:a,isFallbackTransition:v}),v||(Ua(t,FX),a.onStart(()=>{Eu(t,FX)})),a.onDone(()=>{let _=this.players.indexOf(a);_>=0&&this.players.splice(_,1);let b=this._engine.playersByElement.get(t);if(b){let C=b.indexOf(a);C>=0&&b.splice(C,1)}}),this.players.push(a),f.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,_8,!0);i.forEach(r=>{if(r[D1])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),a=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,x8,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&R2(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=i.get(a)||WD,u=new S8(x8),d=new w8(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[D1];(!o||o===$X)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ua(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){let l=Iv(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Dv(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},nI=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new tI(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(Rv(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Rv(e))return;let o=e[D1];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){let a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ua(t,GD)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Eu(t,GD))}removeNode(t,e,i){if(Rv(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[D1]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Rv(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,_8,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,zv,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return R2(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[D1];if(e&&e.setForRemoval){if(t[D1]=$X,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(GD)&&this.markElementAsDisabled(t,!1),this.driver.query(t,hTe,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Ua(r,gTe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?R2(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw TX(t)}_flushAnimations(t,e){let i=new C8,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(ne=>{u.add(ne);let he=this.driver.query(ne,mTe,!0);for(let oe=0;oe<he.length;oe++)u.add(he[oe])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=UX(f,this.collectedEnterElements),v=new Map,_=0;p.forEach((ne,he)=>{let oe=BD+_++;v.set(he,oe),ne.forEach(ve=>Ua(ve,oe))});let b=[],C=new Set,w=new Set;for(let ne=0;ne<this.collectedLeaveElements.length;ne++){let he=this.collectedLeaveElements[ne],oe=he[D1];oe&&oe.setForRemoval&&(b.push(he),C.add(he),oe.hasAnimation?this.driver.query(he,vTe,!0).forEach(ve=>C.add(ve)):w.add(he))}let E=new Map,D=UX(f,Array.from(C));D.forEach((ne,he)=>{let oe=Av+_++;E.set(he,oe),ne.forEach(ve=>Ua(ve,oe))}),t.push(()=>{p.forEach((ne,he)=>{let oe=v.get(he);ne.forEach(ve=>Eu(ve,oe))}),D.forEach((ne,he)=>{let oe=E.get(he);ne.forEach(ve=>Eu(ve,oe))}),b.forEach(ne=>{this.processLeaveNode(ne)})});let L=[],z=[];for(let ne=this._namespaceList.length-1;ne>=0;ne--)this._namespaceList[ne].drainQueuedTransitions(e).forEach(oe=>{let ve=oe.player,Ee=oe.element;if(L.push(ve),this.collectedEnterElements.length){let vn=Ee[D1];if(vn&&vn.setForMove){if(vn.previousTriggersValues&&vn.previousTriggersValues.has(oe.triggerName)){let Qi=vn.previousTriggersValues.get(oe.triggerName),xn=this.statesByElement.get(oe.element);if(xn&&xn.has(oe.triggerName)){let zn=xn.get(oe.triggerName);zn.value=Qi,xn.set(oe.triggerName,zn)}}ve.destroy();return}}let Ge=!d||!this.driver.containsElement(d,Ee),Ye=E.get(Ee),Rt=v.get(Ee),Xe=this._buildInstruction(oe,i,Rt,Ye,Ge);if(Xe.errors&&Xe.errors.length){z.push(Xe);return}if(Ge){ve.onStart(()=>p0(Ee,Xe.fromStyles)),ve.onDestroy(()=>E1(Ee,Xe.toStyles)),r.push(ve);return}if(oe.isFallbackTransition){ve.onStart(()=>p0(Ee,Xe.fromStyles)),ve.onDestroy(()=>E1(Ee,Xe.toStyles)),r.push(ve);return}let Jt=[];Xe.timelines.forEach(vn=>{vn.stretchStartingKeyframe=!0,this.disabledNodes.has(vn.element)||Jt.push(vn)}),Xe.timelines=Jt,i.append(Ee,Xe.timelines);let Mr={instruction:Xe,player:ve,element:Ee};a.push(Mr),Xe.queriedElements.forEach(vn=>Bo(s,vn,[]).push(ve)),Xe.preStyleProps.forEach((vn,Qi)=>{if(vn.size){let xn=l.get(Qi);xn||l.set(Qi,xn=new Set),vn.forEach((zn,rt)=>xn.add(rt))}}),Xe.postStyleProps.forEach((vn,Qi)=>{let xn=c.get(Qi);xn||c.set(Qi,xn=new Set),vn.forEach((zn,rt)=>xn.add(rt))})});if(z.length){let ne=[];z.forEach(he=>{ne.push(EX(he.triggerName,he.errors))}),L.forEach(he=>he.destroy()),this.reportError(ne)}let R=new Map,H=new Map;a.forEach(ne=>{let he=ne.element;i.has(he)&&(H.set(he,he),this._beforeAnimationBuild(ne.player.namespaceId,ne.instruction,R))}),r.forEach(ne=>{let he=ne.element;this._getPreviousPlayers(he,!1,ne.namespaceId,ne.triggerName,null).forEach(ve=>{Bo(R,he,[]).push(ve),ve.destroy()})});let W=b.filter(ne=>HX(ne,l,c)),$=new Map;VX($,this.driver,w,c,Oa).forEach(ne=>{HX(ne,l,c)&&W.push(ne)});let Z=new Map;p.forEach((ne,he)=>{VX(Z,this.driver,new Set(ne),l,lu)}),W.forEach(ne=>{let he=$.get(ne),oe=Z.get(ne);$.set(ne,new Map([...he?.entries()??[],...oe?.entries()??[]]))});let te=[],re=[],ce={};a.forEach(ne=>{let{element:he,player:oe,instruction:ve}=ne;if(i.has(he)){if(u.has(he)){oe.onDestroy(()=>E1(he,ve.toStyles)),oe.disabled=!0,oe.overrideTotalTime(ve.totalTime),r.push(oe);return}let Ee=ce;if(H.size>1){let Ye=he,Rt=[];for(;Ye=Ye.parentNode;){let Xe=H.get(Ye);if(Xe){Ee=Xe;break}Rt.push(Ye)}Rt.forEach(Xe=>H.set(Xe,Ee))}let Ge=this._buildAnimation(oe.namespaceId,ve,R,o,Z,$);if(oe.setRealPlayer(Ge),Ee===ce)te.push(oe);else{let Ye=this.playersByElement.get(Ee);Ye&&Ye.length&&(oe.parentPlayer=R2(Ye)),r.push(oe)}}else p0(he,ve.fromStyles),oe.onDestroy(()=>E1(he,ve.toStyles)),re.push(oe),u.has(he)&&r.push(oe)}),re.forEach(ne=>{let he=o.get(ne.element);if(he&&he.length){let oe=R2(he);ne.setRealPlayer(oe)}}),r.forEach(ne=>{ne.parentPlayer?ne.syncPlayerEvents(ne.parentPlayer):ne.destroy()});for(let ne=0;ne<b.length;ne++){let he=b[ne],oe=he[D1];if(Eu(he,Av),oe&&oe.hasAnimation)continue;let ve=[];if(s.size){let Ge=s.get(he);Ge&&Ge.length&&ve.push(...Ge);let Ye=this.driver.query(he,zv,!0);for(let Rt=0;Rt<Ye.length;Rt++){let Xe=s.get(Ye[Rt]);Xe&&Xe.length&&ve.push(...Xe)}}let Ee=ve.filter(Ge=>!Ge.destroyed);Ee.length?STe(this,he,Ee):this.processLeaveNode(he)}return b.length=0,te.forEach(ne=>{this.players.push(ne),ne.onDone(()=>{ne.destroy();let he=this.players.indexOf(ne);this.players.splice(he,1)}),ne.play()}),te}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(a=s)}else{let s=this.playersByElement.get(t);if(s){let l=!o||o==x8;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==o,d=Bo(i,c,[]);this._getPreviousPlayers(c,u,a,s,e.toState).forEach(p=>{let v=p.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),p.destroy(),d.push(p)})}p0(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){let s=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,f=e.timelines.map(v=>{let _=v.element;u.add(_);let b=_[D1];if(b&&b.removedBeforeQueried)return new hs(v.duration,v.delay);let C=_!==l,w=wTe((i.get(_)||yTe).map(R=>R.getRealPlayer())).filter(R=>{let H=R;return H.element?H.element===_:!1}),E=o.get(_),D=a.get(_),L=ND(this._normalizer,v.keyframes,E,D),z=this._buildPlayer(v,L,w);if(v.subTimeline&&r&&d.add(_),C){let R=new w8(t,s,_);R.setRealPlayer(z),c.push(R)}return z});c.forEach(v=>{Bo(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>bTe(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Ua(v,VD));let p=R2(f);return p.onDestroy(()=>{u.forEach(v=>Eu(v,VD)),E1(l,e.toStyles)}),d.forEach(v=>{Bo(r,v,[]).push(p)}),p}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hs(t.duration,t.delay)}},w8=class{namespaceId;triggerName;element;_player=new hs;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Dv(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function bTe(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function xTe(n){return n??null}function Rv(n){return n&&n.nodeType===1}function CTe(n){return n=="start"||n=="done"}function BX(n,t){let e=n.style.display;return n.style.display=t??"none",e}function VX(n,t,e,i,r){let o=[];e.forEach(l=>o.push(BX(l)));let a=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=t.computeStyle(c,d,r);u.set(d,f),(!f||f.length==0)&&(c[D1]=_Te,a.push(c))}),n.set(c,u)});let s=0;return e.forEach(l=>BX(l,o[s++])),a}function UX(n,t){let e=new Map;if(n.forEach(s=>e.set(s,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function a(s){if(!s)return i;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=a(c),o.set(s,l),l}return t.forEach(s=>{let l=a(s);l!==i&&e.get(l).push(s)}),e}function Ua(n,t){n.classList?.add(t)}function Eu(n,t){n.classList?.remove(t)}function STe(n,t,e){R2(e).onDone(()=>n.processLeaveNode(t))}function wTe(n){let t=[];return YX(n,t),t}function YX(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof Jc?YX(i.players,t):t.push(i)}}function MTe(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function HX(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var Du=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new nI(t.body,e,i),this._timelineEngine=new eI(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let a=t+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],u=GX(this._driver,o,l,c);if(l.length)throw vX(r,l);s=dTe(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,a]=PD(i),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[a,s]=PD(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function TTe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=qD(t[0]),t.length>1&&(i=qD(t[t.length-1]))):t instanceof Map&&(e=qD(t)),e||i?new ETe(n,e,i):null}var ETe=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&E1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(E1(this._element,this._initialStyles),this._endStyles&&(E1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(p0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(p0(this._element,this._endStyles),this._endStyles=null),E1(this._element,this._initialStyles),this._state=3)}}return n})();function qD(n){let t=null;return n.forEach((e,i)=>{DTe(i)&&(t=t||new Map,t.set(i,e))}),t}function DTe(n){return n==="display"||n==="position"}var Gv=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){let r=this._convertKeyframesToObject(e);try{return t.animate(r,i)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:Nv(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Wv=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return OD(t,e)}getParentElement(t){return Lv(t)}query(t,e,i){return RD(t,e,i)}computeStyle(t,e,i){return Nv(t,e)}animate(t,e,i,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:i,delay:r,fill:s};o&&(l.easing=o);let c=new Map,u=a.filter(p=>p instanceof Gv);AX(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((v,_)=>c.set(_,v))});let d=IX(e).map(p=>new Map(p));d=zX(t,d,c);let f=TTe(t,d);return new Gv(t,d,l,f)}};var Fv="@",ZX="@.disabled",qv=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i,r){if(r){this.delegate.removeChild(t,e,i,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Fv&&e==ZX?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},iI=class extends qv{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Fv?e.charAt(1)=="."&&e==ZX?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==Fv){let o=ITe(t),a=e.slice(1),s="";return a.charAt(0)!=Fv&&([a,s]=LTe(a)),this.engine.listen(this.namespaceId,o,a,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(t,e,i,r)}};function ITe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function LTe(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var $v=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new qv("",r,this.engine,d),c.set(r,u)}return u}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,a,t,c.name,c)};return e.data.animation.forEach(s),new iI(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var zTe=(()=>{class n extends Du{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(ae(Me),ae(p3),ae(m3))};static \u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function kTe(){return new Bv}function NTe(n,t,e){return new $v(n,t,e)}var XX=[{provide:m3,useFactory:kTe},{provide:Du,useClass:zTe},{provide:gi,useFactory:NTe,deps:[qf,Du,Pe]}],PTe=[{provide:p3,useClass:rI},{provide:Dl,useValue:"NoopAnimations"},...XX],aI=[{provide:p3,useFactory:()=>new Wv},{provide:Dl,useFactory:()=>"BrowserAnimations"},...XX],QX=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?PTe:aI}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=pt({providers:aI,imports:[nM]})}return n})();function KX(){return Ta("NgEagerAnimations"),[...aI]}var JX=(()=>{let t=class t{constructor(i,r){this.authUserService=i,this.router=r}intercept(i,r){if(this.authUserService.isLoggingOut())return console.warn("HTTP request blocked - user is logging out:",i.url),Bi;let o=this.authUserService.getToken(),a=i;return o&&(a=i.clone({headers:i.headers.set("Authorization",`Bearer ${o}`)})),r.handle(a).pipe(Vt(s=>s.status===401||s.status===403?(this.authUserService.isLoggingOut()||(this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"session-expired"}})),Bi):U1(()=>s)))}};t.\u0275fac=function(r){return new(r||t)(ae(ar),ae(un))},t.\u0275prov=Q({token:t,factory:t.\u0275fac});let n=t;return n})();var ik={};Ko(ik,{Axis:()=>Cb,ChartView:()=>Sr,ComponentModel:()=>kt,ComponentView:()=>Qn,List:()=>ab,Model:()=>$t,PRIORITY:()=>vz,SeriesModel:()=>xo,color:()=>Sy,connect:()=>Hze,dataTool:()=>Zze,dependencies:()=>wze,disConnect:()=>jze,disconnect:()=>zie,dispose:()=>Gze,env:()=>Be,extendChartView:()=>uNe,extendComponentModel:()=>sNe,extendComponentView:()=>lNe,extendSeriesModel:()=>cNe,format:()=>tk,getCoordinateSystemDimensions:()=>qze,getInstanceByDom:()=>bz,getInstanceById:()=>Wze,getMap:()=>Yze,graphic:()=>ek,helper:()=>qz,init:()=>Uze,innerDrawElementOnCanvas:()=>xd,matrix:()=>G2,number:()=>Kz,parseGeoJSON:()=>xb,parseGeoJson:()=>xb,registerAction:()=>no,registerCoordinateSystem:()=>wz,registerLayout:()=>Mz,registerLoading:()=>nb,registerLocale:()=>f_,registerMap:()=>Ez,registerPostInit:()=>Cz,registerPostUpdate:()=>Sz,registerPreprocessor:()=>eb,registerProcessor:()=>tb,registerTheme:()=>xz,registerTransform:()=>Dz,registerUpdateLifecycle:()=>Hp,registerVisual:()=>al,setCanvasCreator:()=>$ze,setPlatformAPI:()=>Kv,throttle:()=>d4,time:()=>Jz,use:()=>Fi,util:()=>nk,vector:()=>Ts,version:()=>Sze,zrUtil:()=>$e,zrender:()=>Ny});var xQ=T7(bQ(),1),{__extends:de,__assign:M8t,__rest:T8t,__decorate:E8t,__param:D8t,__metadata:I8t,__awaiter:L8t,__generator:A8t,__exportStar:z8t,__createBinding:k8t,__values:N8t,__read:P8t,__spread:O8t,__spreadArrays:R8t,__spreadArray:F8t,__await:B8t,__asyncGenerator:V8t,__asyncDelegator:U8t,__asyncValues:H8t,__makeTemplateObject:j8t,__importStar:G8t,__importDefault:W8t,__classPrivateFieldGet:q8t,__classPrivateFieldSet:$8t}=xQ.default;var Ny={};Ko(Ny,{dispose:()=>yDe,disposeAll:()=>_De,getElementSSRData:()=>xDe,getInstance:()=>bDe,init:()=>ky,registerPainter:()=>oL,registerSSRDataGetter:()=>aL,version:()=>CDe});var OTe=(function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n})(),RTe=(function(){function n(){this.browser=new OTe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n})(),m0=new RTe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(m0.wxa=!0,m0.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?m0.worker=!0:!m0.hasGlobalWindow||"Deno"in window?(m0.node=!0,m0.svgSupported=!0):FTe(navigator.userAgent,m0);function FTe(n,t){var e=t.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(e.firefox=!0,e.version=i[1]),r&&(e.ie=!0,e.version=r[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),a&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}var Be=m0;var $e={};Ko($e,{HashMap:()=>EQ,RADIAN_TO_DEGREE:()=>ty,assert:()=>Yi,bind:()=>Ae,clone:()=>ke,concatArray:()=>fI,createCanvas:()=>XTe,createHashMap:()=>Le,createObject:()=>V2,curry:()=>lt,defaults:()=>Ne,disableUserSelect:()=>I8,each:()=>O,eqNaN:()=>g3,extend:()=>fe,filter:()=>hn,find:()=>QTe,guid:()=>M8,hasOwn:()=>Uo,indexOf:()=>qe,inherits:()=>T8,isArray:()=>pe,isArrayLike:()=>wi,isBuiltInObject:()=>lI,isDom:()=>F2,isFunction:()=>De,isGradientObject:()=>B2,isImagePatternObject:()=>dI,isNumber:()=>Ct,isObject:()=>Se,isPrimitive:()=>Lu,isRegExp:()=>JTe,isString:()=>_e,isStringSafe:()=>zu,isTypedArray:()=>oi,keys:()=>Lt,logError:()=>h3,map:()=>ge,merge:()=>je,mergeAll:()=>ZTe,mixin:()=>cr,noop:()=>di,normalizeCssArray:()=>D8,reduce:()=>Wr,retrieve:()=>h0,retrieve2:()=>nt,retrieve3:()=>g0,setAsPrimitive:()=>v3,slice:()=>E8,trim:()=>ur});var Qv=12,BTe="sans-serif",I1=Qv+"px "+BTe,VTe=20,UTe=100,HTe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function jTe(n){var t={};if(typeof JSON>"u")return t;for(var e=0;e<n.length;e++){var i=String.fromCharCode(e+32),r=(n.charCodeAt(e)-VTe)/UTe;t[i]=r}return t}var GTe=jTe(HTe),vo={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var n,t;return function(e,i){if(!n){var r=vo.createCanvas();n=r&&r.getContext("2d")}if(n)return t!==i&&(t=n.font=i||I1),n.measureText(e);e=e||"",i=i||I1;var o=/((?:\d+)?\.?\d*)px/.exec(i),a=o&&+o[1]||Qv,s=0;if(i.indexOf("mono")>=0)s=a*e.length;else for(var l=0;l<e.length;l++){var c=GTe[e[l]];s+=c==null?a:c*a}return{width:s}}})(),loadImage:function(n,t,e){var i=new Image;return i.onload=t,i.onerror=e,i.src=n,i}};function Kv(n){for(var t in vo)n[t]&&(vo[t]=n[t])}var SQ=Wr(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,t){return n["[object "+t+"]"]=!0,n},{}),wQ=Wr(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,t){return n["[object "+t+"Array]"]=!0,n},{}),Au=Object.prototype.toString,ey=Array.prototype,WTe=ey.forEach,qTe=ey.filter,cI=ey.slice,$Te=ey.map,CQ=(function(){}).constructor,Jv=CQ?CQ.prototype:null,uI="__proto__",YTe=2311;function M8(){return YTe++}function h3(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];typeof console<"u"&&console.error.apply(console,n)}function ke(n){if(n==null||typeof n!="object")return n;var t=n,e=Au.call(n);if(e==="[object Array]"){if(!Lu(n)){t=[];for(var i=0,r=n.length;i<r;i++)t[i]=ke(n[i])}}else if(wQ[e]){if(!Lu(n)){var o=n.constructor;if(o.from)t=o.from(n);else{t=new o(n.length);for(var i=0,r=n.length;i<r;i++)t[i]=n[i]}}}else if(!SQ[e]&&!Lu(n)&&!F2(n)){t={};for(var a in n)n.hasOwnProperty(a)&&a!==uI&&(t[a]=ke(n[a]))}return t}function je(n,t,e){if(!Se(t)||!Se(n))return e?ke(t):n;for(var i in t)if(t.hasOwnProperty(i)&&i!==uI){var r=n[i],o=t[i];Se(o)&&Se(r)&&!pe(o)&&!pe(r)&&!F2(o)&&!F2(r)&&!lI(o)&&!lI(r)&&!Lu(o)&&!Lu(r)?je(r,o,e):(e||!(i in n))&&(n[i]=ke(t[i]))}return n}function ZTe(n,t){for(var e=n[0],i=1,r=n.length;i<r;i++)e=je(e,n[i],t);return e}function fe(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==uI&&(n[e]=t[e]);return n}function Ne(n,t,e){for(var i=Lt(t),r=0,o=i.length;r<o;r++){var a=i[r];(e?t[a]!=null:n[a]==null)&&(n[a]=t[a])}return n}var XTe=vo.createCanvas;function qe(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,i=n.length;e<i;e++)if(n[e]===t)return e}return-1}function T8(n,t){var e=n.prototype;function i(){}i.prototype=t.prototype,n.prototype=new i;for(var r in e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);n.prototype.constructor=n,n.superClass=t}function cr(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];o!=="constructor"&&(e?t[o]!=null:n[o]==null)&&(n[o]=t[o])}else Ne(n,t,e)}function wi(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function O(n,t,e){if(n&&t)if(n.forEach&&n.forEach===WTe)n.forEach(t,e);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&t.call(e,n[o],o,n)}function ge(n,t,e){if(!n)return[];if(!t)return E8(n);if(n.map&&n.map===$Te)return n.map(t,e);for(var i=[],r=0,o=n.length;r<o;r++)i.push(t.call(e,n[r],r,n));return i}function Wr(n,t,e,i){if(n&&t){for(var r=0,o=n.length;r<o;r++)e=t.call(i,e,n[r],r,n);return e}}function hn(n,t,e){if(!n)return[];if(!t)return E8(n);if(n.filter&&n.filter===qTe)return n.filter(t,e);for(var i=[],r=0,o=n.length;r<o;r++)t.call(e,n[r],r,n)&&i.push(n[r]);return i}function QTe(n,t,e){if(n&&t){for(var i=0,r=n.length;i<r;i++)if(t.call(e,n[i],i,n))return n[i]}}function Lt(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}function KTe(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return function(){return n.apply(t,e.concat(cI.call(arguments)))}}var Ae=Jv&&De(Jv.bind)?Jv.call.bind(Jv.bind):KTe;function lt(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(cI.call(arguments)))}}function pe(n){return Array.isArray?Array.isArray(n):Au.call(n)==="[object Array]"}function De(n){return typeof n=="function"}function _e(n){return typeof n=="string"}function zu(n){return Au.call(n)==="[object String]"}function Ct(n){return typeof n=="number"}function Se(n){var t=typeof n;return t==="function"||!!n&&t==="object"}function lI(n){return!!SQ[Au.call(n)]}function oi(n){return!!wQ[Au.call(n)]}function F2(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function B2(n){return n.colorStops!=null}function dI(n){return n.image!=null}function JTe(n){return Au.call(n)==="[object RegExp]"}function g3(n){return n!==n}function h0(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,i=n.length;e<i;e++)if(n[e]!=null)return n[e]}function nt(n,t){return n??t}function g0(n,t,e){return n??t??e}function E8(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return cI.apply(n,t)}function D8(n){if(typeof n=="number")return[n,n,n,n];var t=n.length;return t===2?[n[0],n[1],n[0],n[1]]:t===3?[n[0],n[1],n[2],n[1]]:n}function Yi(n,t){if(!n)throw new Error(t)}function ur(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var MQ="__ec_primitive__";function v3(n){n[MQ]=!0}function Lu(n){return n[MQ]}var eEe=(function(){function n(){this.data={}}return n.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},n.prototype.has=function(t){return this.data.hasOwnProperty(t)},n.prototype.get=function(t){return this.data[t]},n.prototype.set=function(t,e){return this.data[t]=e,this},n.prototype.keys=function(){return Lt(this.data)},n.prototype.forEach=function(t){var e=this.data;for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},n})(),TQ=typeof Map=="function";function tEe(){return TQ?new Map:new eEe}var EQ=(function(){function n(t){var e=pe(t);this.data=tEe();var i=this;t instanceof n?t.each(r):t&&O(t,r);function r(o,a){e?i.set(o,a):i.set(a,o)}}return n.prototype.hasKey=function(t){return this.data.has(t)},n.prototype.get=function(t){return this.data.get(t)},n.prototype.set=function(t,e){return this.data.set(t,e),e},n.prototype.each=function(t,e){this.data.forEach(function(i,r){t.call(e,i,r)})},n.prototype.keys=function(){var t=this.data.keys();return TQ?Array.from(t):t},n.prototype.removeKey=function(t){this.data.delete(t)},n})();function Le(n){return new EQ(n)}function fI(n,t){for(var e=new n.constructor(n.length+t.length),i=0;i<n.length;i++)e[i]=n[i];for(var r=n.length,i=0;i<t.length;i++)e[i+r]=t[i];return e}function V2(n,t){var e;if(Object.create)e=Object.create(n);else{var i=function(){};i.prototype=n,e=new i}return t&&fe(e,t),e}function I8(n){var t=n.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Uo(n,t){return n.hasOwnProperty(t)}function di(){}var ty=180/Math.PI;var ZQ=T7(YQ(),1),{__extends:Je,__assign:J8t,__rest:ept,__decorate:tpt,__param:npt,__metadata:ipt,__awaiter:rpt,__generator:opt,__exportStar:apt,__createBinding:spt,__values:lpt,__read:cpt,__spread:upt,__spreadArrays:dpt,__spreadArray:fpt,__await:ppt,__asyncGenerator:mpt,__asyncDelegator:hpt,__asyncValues:gpt,__makeTemplateObject:vpt,__importStar:ypt,__importDefault:_pt,__classPrivateFieldGet:bpt,__classPrivateFieldSet:xpt}=ZQ.default;var Ts={};Ko(Ts,{add:()=>oy,applyTransform:()=>Mi,clone:()=>mI,copy:()=>nEe,create:()=>U2,dist:()=>_I,distSquare:()=>v0,distance:()=>A8,distanceSquare:()=>XQ,div:()=>lEe,dot:()=>cEe,len:()=>gI,lenSquare:()=>vI,length:()=>oEe,lengthSquare:()=>aEe,lerp:()=>dEe,max:()=>ja,min:()=>Ha,mul:()=>sEe,negate:()=>uEe,normalize:()=>yI,scale:()=>L8,scaleAndAdd:()=>rEe,set:()=>iEe,sub:()=>hI});function U2(n,t){return n==null&&(n=0),t==null&&(t=0),[n,t]}function nEe(n,t){return n[0]=t[0],n[1]=t[1],n}function mI(n){return[n[0],n[1]]}function iEe(n,t,e){return n[0]=t,n[1]=e,n}function oy(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function rEe(n,t,e,i){return n[0]=t[0]+e[0]*i,n[1]=t[1]+e[1]*i,n}function hI(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function gI(n){return Math.sqrt(vI(n))}var oEe=gI;function vI(n){return n[0]*n[0]+n[1]*n[1]}var aEe=vI;function sEe(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n}function lEe(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n}function cEe(n,t){return n[0]*t[0]+n[1]*t[1]}function L8(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function yI(n,t){var e=gI(t);return e===0?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function A8(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var _I=A8;function XQ(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var v0=XQ;function uEe(n,t){return n[0]=-t[0],n[1]=-t[1],n}function dEe(n,t,e,i){return n[0]=t[0]+i*(e[0]-t[0]),n[1]=t[1]+i*(e[1]-t[1]),n}function Mi(n,t,e){var i=t[0],r=t[1];return n[0]=e[0]*i+e[2]*r+e[4],n[1]=e[1]*i+e[3]*r+e[5],n}function Ha(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function ja(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var Nu=(function(){function n(t,e){this.target=t,this.topTarget=e&&e.topTarget}return n})(),fEe=(function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Nu(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,r=t.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,e.drift(o,a,t),this.handler.dispatchToElement(new Nu(e,t),"drag",t.event);var s=this.handler.findHover(i,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Nu(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Nu(s,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Nu(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Nu(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n})(),QQ=fEe;var pEe=(function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof e=="function"&&(r=i,i=e,e=null),!i||!t)return this;var a=this._$eventProcessor;e!=null&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===i)return this;var l={h:i,query:e,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},c=o[t].length-1,u=o[t][c];return u&&u.callAtLast?o[t].splice(c,0,l):o[t].push(l),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var r=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e&&r.push(i[t][o]);i[t]=r}i[t]&&i[t].length===0&&delete i[t]}else delete i[t];return this},n.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=r.length,l=0;l<s;l++){var c=r[l];if(!(o&&o.filter&&c.query!=null&&!o.filter(t,c.query)))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,e[0]);break;case 2:c.h.call(c.ctx,e[0],e[1]);break;default:c.h.apply(c.ctx,e);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=e[a-1],l=r.length,c=0;c<l;c++){var u=r[c];if(!(o&&o.filter&&u.query!=null&&!o.filter(t,u.query)))switch(a){case 0:u.h.call(s);break;case 1:u.h.call(s,e[0]);break;case 2:u.h.call(s,e[0],e[1]);break;default:u.h.apply(s,e.slice(1,a-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n})(),Ti=pEe;var mEe=Math.log(2);function bI(n,t,e,i,r,o){var a=i+"-"+r,s=n.length;if(o.hasOwnProperty(a))return o[a];if(t===1){var l=Math.round(Math.log((1<<s)-1&~r)/mEe);return n[e][l]}for(var c=i|1<<e,u=e+1;i&1<<u;)u++;for(var d=0,f=0,p=0;f<s;f++){var v=1<<f;v&r||(d+=(p%2?-1:1)*n[e][f]*bI(n,t-1,u,c,r|v,o),p++)}return o[a]=d,d}function xI(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],i={},r=bI(e,8,0,0,0,i);if(r!==0){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)o[s]==null&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*bI(e,7,a===0?1:0,1<<a,1<<s,i)/r*t[a];return function(l,c,u){var d=c*o[6]+u*o[7]+1;l[0]=(c*o[0]+u*o[1]+o[2])/d,l[1]=(c*o[3]+u*o[4]+o[5])/d}}}var KQ="___zrEVENTSAVED",CI=[];function JQ(n,t,e,i,r){return ay(CI,t,i,r,!0)&&ay(n,e,CI[0],CI[1])}function ay(n,t,e,i,r){if(t.getBoundingClientRect&&Be.domSupported&&!SI(t)){var o=t[KQ]||(t[KQ]={}),a=hEe(t,o),s=gEe(a,o,r);if(s)return s(n,e,i),!0}return!1}function hEe(n,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,c=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[c]+":0",i[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),n.appendChild(a),e.push(a)}return e}function gEe(n,t,e){for(var i=e?"invTrans":"trans",r=t[i],o=t.srcCoords,a=[],s=[],l=!0,c=0;c<4;c++){var u=n[c].getBoundingClientRect(),d=2*c,f=u.left,p=u.top;a.push(f,p),l=l&&o&&f===o[d]&&p===o[d+1],s.push(n[c].offsetLeft,n[c].offsetTop)}return l&&r?r:(t.srcCoords=a,t[i]=e?xI(s,a):xI(a,s))}function SI(n){return n.nodeName.toUpperCase()==="CANVAS"}var vEe=/([&<>"'])/g,yEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Zi(n){return n==null?"":(n+"").replace(vEe,function(t,e){return yEe[e]})}var _Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wI=[],bEe=Be.browser.firefox&&+Be.browser.version.split(".")[0]<39;function sy(n,t,e,i){return e=e||{},i?eK(n,t,e):bEe&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):eK(n,t,e),e}function eK(n,t,e){if(Be.domSupported&&n.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(SI(n)){var o=n.getBoundingClientRect();e.zrX=i-o.left,e.zrY=r-o.top;return}else if(ay(wI,n,i,r)){e.zrX=wI[0],e.zrY=wI[1];return}}e.zrX=e.zrY=0}function ly(n){return n||window.event}function Ho(n,t,e){if(t=ly(t),t.zrX!=null)return t;var i=t.type,r=i&&i.indexOf("touch")>=0;if(r){var a=i!=="touchend"?t.targetTouches[0]:t.changedTouches[0];a&&sy(n,a,t,e)}else{sy(n,t,t,e);var o=xEe(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&_Ee.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function xEe(n){var t=n.wheelDelta;if(t)return t;var e=n.deltaX,i=n.deltaY;if(e==null||i==null)return t;var r=Math.abs(i!==0?i:e),o=i>0?-1:i<0?1:e>0?-1:1;return 3*r*o}function z8(n,t,e,i){n.addEventListener(t,e,i)}function tK(n,t,e,i){n.removeEventListener(t,e,i)}var Es=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function MI(n){return n.which===2||n.which===3}var iK=(function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,i){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,s=r.length;a<s;a++){var l=r[a],c=sy(i,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(t){for(var e in TI)if(TI.hasOwnProperty(e)){var i=TI[e](this._track,t);if(i)return i}},n})();function nK(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}function CEe(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var TI={pinch:function(n,t){var e=n.length;if(e){var i=(n[e-1]||{}).points,r=(n[e-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=nK(i)/nK(r);!isFinite(o)&&(o=1),t.pinchScale=o;var a=CEe(i);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:n[0].target,event:t}}}}};var G2={};Ko(G2,{clone:()=>SEe,copy:()=>cy,create:()=>L1,identity:()=>H2,invert:()=>j2,mul:()=>Ga,rotate:()=>y3,scale:()=>EI,translate:()=>Pu});function L1(){return[1,0,0,1,0,0]}function H2(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function cy(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Ga(n,t,e){var i=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=i,n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=l,n}function Pu(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function y3(n,t,e,i){i===void 0&&(i=[0,0]);var r=t[0],o=t[2],a=t[4],s=t[1],l=t[3],c=t[5],u=Math.sin(e),d=Math.cos(e);return n[0]=r*d+s*u,n[1]=-r*u+s*d,n[2]=o*d+l*u,n[3]=-o*u+d*l,n[4]=d*(a-i[0])+u*(c-i[1])+i[0],n[5]=d*(c-i[1])-u*(a-i[0])+i[1],n}function EI(n,t,e){var i=e[0],r=e[1];return n[0]=t[0]*i,n[1]=t[1]*r,n[2]=t[2]*i,n[3]=t[3]*r,n[4]=t[4]*i,n[5]=t[5]*r,n}function j2(n,t){var e=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=e*a-o*i;return l?(l=1/l,n[0]=a*l,n[1]=-o*l,n[2]=-i*l,n[3]=e*l,n[4]=(i*s-a*r)*l,n[5]=(o*r-e*s)*l,n):null}function SEe(n){var t=L1();return cy(t,n),t}var wEe=(function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,i){t.x=e,t.y=i},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},n.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},n.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},n.scaleAndAdd=function(t,e,i,r){t.x=e.x+i.x*r,t.y=e.y+i.y*r},n.lerp=function(t,e,i,r){var o=1-r;t.x=o*e.x+r*i.x,t.y=o*e.y+r*i.y},n})(),Kt=wEe;var uy=Math.min,dy=Math.max,_3=new Kt,b3=new Kt,x3=new Kt,C3=new Kt,N8=new Kt,P8=new Kt,MEe=(function(){function n(t,e,i,r){i<0&&(t=t+i,i=-i),r<0&&(e=e+r,r=-r),this.x=t,this.y=e,this.width=i,this.height=r}return n.prototype.union=function(t){var e=uy(t.x,this.x),i=uy(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=dy(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=dy(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=e,this.y=i},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,r=t.height/e.height,o=L1();return Pu(o,o,[-e.x,-e.y]),EI(o,o,[i,r]),Pu(o,o,[t.x,t.y]),o},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=t.x,c=t.x+t.width,u=t.y,d=t.y+t.height,f=!(o<l||c<r||s<u||d<a);if(e){var p=1/0,v=0,_=Math.abs(o-l),b=Math.abs(c-r),C=Math.abs(s-u),w=Math.abs(d-a),E=Math.min(_,b),D=Math.min(C,w);o<l||c<r?E>v&&(v=E,_<b?Kt.set(P8,-_,0):Kt.set(P8,b,0)):E<p&&(p=E,_<b?Kt.set(N8,_,0):Kt.set(N8,-b,0)),s<u||d<a?D>v&&(v=D,C<w?Kt.set(P8,0,-C):Kt.set(P8,0,w)):E<p&&(p=E,C<w?Kt.set(N8,0,C):Kt.set(N8,0,-w))}return e&&Kt.copy(e,f?N8:P8),f},n.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,i){if(!i){t!==e&&n.copy(t,e);return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],s=i[5];t.x=e.x*r+a,t.y=e.y*o+s,t.width=e.width*r,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}_3.x=x3.x=e.x,_3.y=C3.y=e.y,b3.x=C3.x=e.x+e.width,b3.y=x3.y=e.y+e.height,_3.transform(i),C3.transform(i),b3.transform(i),x3.transform(i),t.x=uy(_3.x,b3.x,x3.x,C3.x),t.y=uy(_3.y,b3.y,x3.y,C3.y);var l=dy(_3.x,b3.x,x3.x,C3.x),c=dy(_3.y,b3.y,x3.y,C3.y);t.width=l-t.x,t.height=c-t.y},n})(),Ke=MEe;var oK="silent";function TEe(n,t,e){return{type:n,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:EEe}}function EEe(){Es(this.event)}var DEe=(function(n){Je(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(Ti),O8=(function(){function n(t,e){this.x=t,this.y=e}return n})(),IEe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],DI=new Ke(0,0,0,0),aK=(function(n){Je(t,n);function t(e,i,r,o,a){var s=n.call(this)||this;return s._hovered=new O8(0,0),s.storage=e,s.painter=i,s.painterRoot=o,s._pointerSize=a,r=r||new DEe,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new QQ(s),s}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(O(IEe,function(i){e.on&&e.on(i,this[i],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var i=e.zrX,r=e.zrY,o=sK(this,i,r),a=this._hovered,s=a.target;s&&!s.__zr&&(a=this.findHover(a.x,a.y),s=a.target);var l=this._hovered=o?new O8(i,r):this.findHover(i,r),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(l,"mousemove",e),c&&c!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var i=e.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new O8(0,0)},t.prototype.dispatch=function(e,i){var r=this[e];r&&r.call(this,i)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},t.prototype.dispatchToElement=function(e,i,r){e=e||{};var o=e.target;if(!(o&&o.silent)){for(var a="on"+i,s=TEe(i,e,r);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(i,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,s),l.trigger&&l.trigger(i,s)}))}},t.prototype.findHover=function(e,i,r){var o=this.storage.getDisplayList(),a=new O8(e,i);if(rK(o,a,e,i,r),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,c=l/2,u=new Ke(e-c,i-c,l,l),d=o.length-1;d>=0;d--){var f=o[d];f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(DI.copy(f.getBoundingRect()),f.transform&&DI.applyTransform(f.transform),DI.intersect(u)&&s.push(f))}if(s.length)for(var p=4,v=Math.PI/12,_=Math.PI*2,b=0;b<c;b+=p)for(var C=0;C<_;C+=v){var w=e+b*Math.cos(C),E=i+b*Math.sin(C);if(rK(s,a,w,E,r),a.target)return a}}return a},t.prototype.processGesture=function(e,i){this._gestureMgr||(this._gestureMgr=new iK);var r=this._gestureMgr;i==="start"&&r.clear();var o=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(i==="end"&&r.clear(),o){var a=o.type;e.gestureEvent=a;var s=new O8;s.target=o.target,this.dispatchToElement(s,a,o.event)}},t})(Ti);O(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){aK.prototype[n]=function(t){var e=t.zrX,i=t.zrY,r=sK(this,e,i),o,a;if((n!=="mouseup"||!r)&&(o=this.findHover(e,i),a=o.target),n==="mousedown")this._downEl=a,this._downPoint=[t.zrX,t.zrY],this._upEl=a;else if(n==="mouseup")this._upEl=a;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||_I(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,n,t)}});function LEe(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(t,e))return!1}i.silent&&(r=!0);var s=i.__hostTarget;i=s||i.parent}return r?oK:!0}return!1}function rK(n,t,e,i,r){for(var o=n.length-1;o>=0;o--){var a=n[o],s=void 0;if(a!==r&&!a.ignore&&(s=LEe(a,e,i))&&(!t.topTarget&&(t.topTarget=a),s!==oK)){t.target=a;break}}}function sK(n,t,e){var i=n.painter;return t<0||t>i.getWidth()||e<0||e>i.getHeight()}var lK=aK;var dK=32,R8=7;function AEe(n){for(var t=0;n>=dK;)t|=n&1,n>>=1;return n+t}function cK(n,t,e,i){var r=t+1;if(r===e)return 1;if(i(n[r++],n[t])<0){for(;r<e&&i(n[r],n[r-1])<0;)r++;zEe(n,t,r)}else for(;r<e&&i(n[r],n[r-1])>=0;)r++;return r-t}function zEe(n,t,e){for(e--;t<e;){var i=n[t];n[t++]=n[e],n[e--]=i}}function uK(n,t,e,i,r){for(i===t&&i++;i<e;i++){for(var o=n[i],a=t,s=i,l;a<s;)l=a+s>>>1,r(o,n[l])<0?s=l:a=l+1;var c=i-a;switch(c){case 3:n[a+3]=n[a+2];case 2:n[a+2]=n[a+1];case 1:n[a+1]=n[a];break;default:for(;c>0;)n[a+c]=n[a+c-1],c--}n[a]=o}}function II(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])>0){for(s=i-r;l<s&&o(n,t[e+r+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(n,t[e+r-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}for(a++;a<l;){var u=a+(l-a>>>1);o(n,t[e+u])>0?a=u+1:l=u}return l}function LI(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])<0){for(s=r+1;l<s&&o(n,t[e+r-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}else{for(s=i-r;l<s&&o(n,t[e+r+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(n,t[e+u])<0?l=u:a=u+1}return l}function kEe(n,t){var e=R8,i,r,o=0,a=[];i=[],r=[];function s(p,v){i[o]=p,r[o]=v,o+=1}function l(){for(;o>1;){var p=o-2;if(p>=1&&r[p-1]<=r[p]+r[p+1]||p>=2&&r[p-2]<=r[p]+r[p-1])r[p-1]<r[p+1]&&p--;else if(r[p]>r[p+1])break;u(p)}}function c(){for(;o>1;){var p=o-2;p>0&&r[p-1]<r[p+1]&&p--,u(p)}}function u(p){var v=i[p],_=r[p],b=i[p+1],C=r[p+1];r[p]=_+C,p===o-3&&(i[p+1]=i[p+2],r[p+1]=r[p+2]),o--;var w=LI(n[b],n,v,_,0,t);v+=w,_-=w,_!==0&&(C=II(n[v+_-1],n,b,C,C-1,t),C!==0&&(_<=C?d(v,_,b,C):f(v,_,b,C)))}function d(p,v,_,b){var C=0;for(C=0;C<v;C++)a[C]=n[p+C];var w=0,E=_,D=p;if(n[D++]=n[E++],--b===0){for(C=0;C<v;C++)n[D+C]=a[w+C];return}if(v===1){for(C=0;C<b;C++)n[D+C]=n[E+C];n[D+b]=a[w];return}for(var L=e,z,R,H;;){z=0,R=0,H=!1;do if(t(n[E],a[w])<0){if(n[D++]=n[E++],R++,z=0,--b===0){H=!0;break}}else if(n[D++]=a[w++],z++,R=0,--v===1){H=!0;break}while((z|R)<L);if(H)break;do{if(z=LI(n[E],a,w,v,0,t),z!==0){for(C=0;C<z;C++)n[D+C]=a[w+C];if(D+=z,w+=z,v-=z,v<=1){H=!0;break}}if(n[D++]=n[E++],--b===0){H=!0;break}if(R=II(a[w],n,E,b,0,t),R!==0){for(C=0;C<R;C++)n[D+C]=n[E+C];if(D+=R,E+=R,b-=R,b===0){H=!0;break}}if(n[D++]=a[w++],--v===1){H=!0;break}L--}while(z>=R8||R>=R8);if(H)break;L<0&&(L=0),L+=2}if(e=L,e<1&&(e=1),v===1){for(C=0;C<b;C++)n[D+C]=n[E+C];n[D+b]=a[w]}else{if(v===0)throw new Error;for(C=0;C<v;C++)n[D+C]=a[w+C]}}function f(p,v,_,b){var C=0;for(C=0;C<b;C++)a[C]=n[_+C];var w=p+v-1,E=b-1,D=_+b-1,L=0,z=0;if(n[D--]=n[w--],--v===0){for(L=D-(b-1),C=0;C<b;C++)n[L+C]=a[C];return}if(b===1){for(D-=v,w-=v,z=D+1,L=w+1,C=v-1;C>=0;C--)n[z+C]=n[L+C];n[D]=a[E];return}for(var R=e;;){var H=0,W=0,$=!1;do if(t(a[E],n[w])<0){if(n[D--]=n[w--],H++,W=0,--v===0){$=!0;break}}else if(n[D--]=a[E--],W++,H=0,--b===1){$=!0;break}while((H|W)<R);if($)break;do{if(H=v-LI(a[E],n,p,v,v-1,t),H!==0){for(D-=H,w-=H,v-=H,z=D+1,L=w+1,C=H-1;C>=0;C--)n[z+C]=n[L+C];if(v===0){$=!0;break}}if(n[D--]=a[E--],--b===1){$=!0;break}if(W=b-II(n[w],a,0,b,b-1,t),W!==0){for(D-=W,E-=W,b-=W,z=D+1,L=E+1,C=0;C<W;C++)n[z+C]=a[L+C];if(b<=1){$=!0;break}}if(n[D--]=n[w--],--v===0){$=!0;break}R--}while(H>=R8||W>=R8);if($)break;R<0&&(R=0),R+=2}if(e=R,e<1&&(e=1),b===1){for(D-=v,w-=v,z=D+1,L=w+1,C=v-1;C>=0;C--)n[z+C]=n[L+C];n[D]=a[E]}else{if(b===0)throw new Error;for(L=D-(b-1),C=0;C<b;C++)n[L+C]=a[C]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:s}}function S3(n,t,e,i){e||(e=0),i||(i=n.length);var r=i-e;if(!(r<2)){var o=0;if(r<dK){o=cK(n,e,i,t),uK(n,e,i,e+o,t);return}var a=kEe(n,t),s=AEe(r);do{if(o=cK(n,e,i,t),o<s){var l=r;l>s&&(l=s),uK(n,e,e+l,e+o,t),o=l}a.pushRun(e,o),a.mergeRuns(),r-=o,e+=o}while(r!==0);a.forceMergeRuns()}}var Ri=1,w3=2,y0=4;var fK=!1;function AI(){fK||(fK=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function pK(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var NEe=(function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=pK}return n.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return(t||!i.length)&&this.updateDisplayList(e),i},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,S3(i,pK)},n.prototype._updateAndAddDisplayable=function(t,e,i){if(!(t.ignore&&!i)){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e?e=e.slice():e=[];for(var o=r,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var c=s[l];t.__dirty&&(c.__dirty|=Ri),this._updateAndAddDisplayable(c,e,i)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(AI(),u.z=0),isNaN(u.z2)&&(AI(),u.z2=0),isNaN(u.zlevel)&&(AI(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var d=t.getDecalElement&&t.getDecalElement();d&&this._updateAndAddDisplayable(d,e,i);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,e,i);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,e,i)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);return}var r=qe(this._roots,t);r>=0&&this._roots.splice(r,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n})(),mK=NEe;var hK;hK=Be.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var F8=hK;var fy={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1,i=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=i/4):t=i*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)))},elasticOut:function(n){var t,e=.1,i=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=i/4):t=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/i)+1)},elasticInOut:function(n){var t,e=.1,i=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=i/4):t=i*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?-.5*(e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)):e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/i)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?.5*(n*n*((t+1)*n-t)):.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-fy.bounceOut(1-n)},bounceOut:function(n){return n<.36363636363636365?7.5625*n*n:n<.7272727272727273?7.5625*(n-=.5454545454545454)*n+.75:n<.9090909090909091?7.5625*(n-=.8181818181818182)*n+.9375:7.5625*(n-=.9545454545454546)*n+.984375},bounceInOut:function(n){return n<.5?fy.bounceIn(n*2)*.5:fy.bounceOut(n*2-1)*.5+.5}},py=fy;var my=Math.pow,b0=Math.sqrt,gy=1e-8,vK=1e-4,gK=b0(3),hy=1/3,Ds=U2(),Wa=U2(),Ou=U2();function _0(n){return n>-gy&&n<gy}function yK(n){return n>gy||n<-gy}function ni(n,t,e,i,r){var o=1-r;return o*o*(o*n+3*r*t)+r*r*(r*i+3*o*e)}function zI(n,t,e,i,r){var o=1-r;return 3*(((t-n)*o+2*(e-t)*r)*o+(i-e)*r*r)}function M3(n,t,e,i,r,o){var a=i+3*(t-e)-n,s=3*(e-t*2+n),l=3*(t-n),c=n-r,u=s*s-3*a*l,d=s*l-9*a*c,f=l*l-3*s*c,p=0;if(_0(u)&&_0(d))if(_0(s))o[0]=0;else{var v=-l/s;v>=0&&v<=1&&(o[p++]=v)}else{var _=d*d-4*u*f;if(_0(_)){var b=d/u,v=-s/a+b,C=-b/2;v>=0&&v<=1&&(o[p++]=v),C>=0&&C<=1&&(o[p++]=C)}else if(_>0){var w=b0(_),E=u*s+1.5*a*(-d+w),D=u*s+1.5*a*(-d-w);E<0?E=-my(-E,hy):E=my(E,hy),D<0?D=-my(-D,hy):D=my(D,hy);var v=(-s-(E+D))/(3*a);v>=0&&v<=1&&(o[p++]=v)}else{var L=(2*u*s-3*a*d)/(2*b0(u*u*u)),z=Math.acos(L)/3,R=b0(u),H=Math.cos(z),v=(-s-2*R*H)/(3*a),C=(-s+R*(H+gK*Math.sin(z)))/(3*a),W=(-s+R*(H-gK*Math.sin(z)))/(3*a);v>=0&&v<=1&&(o[p++]=v),C>=0&&C<=1&&(o[p++]=C),W>=0&&W<=1&&(o[p++]=W)}}return p}function vy(n,t,e,i,r){var o=6*e-12*t+6*n,a=9*t+3*i-3*n-9*e,s=3*t-3*n,l=0;if(_0(a)){if(yK(o)){var c=-s/o;c>=0&&c<=1&&(r[l++]=c)}}else{var u=o*o-4*a*s;if(_0(u))r[0]=-o/(2*a);else if(u>0){var d=b0(u),c=(-o+d)/(2*a),f=(-o-d)/(2*a);c>=0&&c<=1&&(r[l++]=c),f>=0&&f<=1&&(r[l++]=f)}}return l}function Ru(n,t,e,i,r,o){var a=(t-n)*r+n,s=(e-t)*r+t,l=(i-e)*r+e,c=(s-a)*r+a,u=(l-s)*r+s,d=(u-c)*r+c;o[0]=n,o[1]=a,o[2]=c,o[3]=d,o[4]=d,o[5]=u,o[6]=l,o[7]=i}function _K(n,t,e,i,r,o,a,s,l,c,u){var d,f=.005,p=1/0,v,_,b,C;Ds[0]=l,Ds[1]=c;for(var w=0;w<1;w+=.05)Wa[0]=ni(n,e,r,a,w),Wa[1]=ni(t,i,o,s,w),b=v0(Ds,Wa),b<p&&(d=w,p=b);p=1/0;for(var E=0;E<32&&!(f<vK);E++)v=d-f,_=d+f,Wa[0]=ni(n,e,r,a,v),Wa[1]=ni(t,i,o,s,v),b=v0(Wa,Ds),v>=0&&b<p?(d=v,p=b):(Ou[0]=ni(n,e,r,a,_),Ou[1]=ni(t,i,o,s,_),C=v0(Ou,Ds),_<=1&&C<p?(d=_,p=C):f*=.5);return u&&(u[0]=ni(n,e,r,a,d),u[1]=ni(t,i,o,s,d)),b0(p)}function bK(n,t,e,i,r,o,a,s,l){for(var c=n,u=t,d=0,f=1/l,p=1;p<=l;p++){var v=p*f,_=ni(n,e,r,a,v),b=ni(t,i,o,s,v),C=_-c,w=b-u;d+=Math.sqrt(C*C+w*w),c=_,u=b}return d}function Xi(n,t,e,i){var r=1-i;return r*(r*n+2*i*t)+i*i*e}function kI(n,t,e,i){return 2*((1-i)*(t-n)+i*(e-t))}function xK(n,t,e,i,r){var o=n-2*t+e,a=2*(t-n),s=n-i,l=0;if(_0(o)){if(yK(a)){var c=-s/a;c>=0&&c<=1&&(r[l++]=c)}}else{var u=a*a-4*o*s;if(_0(u)){var c=-a/(2*o);c>=0&&c<=1&&(r[l++]=c)}else if(u>0){var d=b0(u),c=(-a+d)/(2*o),f=(-a-d)/(2*o);c>=0&&c<=1&&(r[l++]=c),f>=0&&f<=1&&(r[l++]=f)}}return l}function yy(n,t,e){var i=n+e-2*t;return i===0?.5:(n-t)/i}function Fu(n,t,e,i,r){var o=(t-n)*i+n,a=(e-t)*i+t,s=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=e}function CK(n,t,e,i,r,o,a,s,l){var c,u=.005,d=1/0;Ds[0]=a,Ds[1]=s;for(var f=0;f<1;f+=.05){Wa[0]=Xi(n,e,r,f),Wa[1]=Xi(t,i,o,f);var p=v0(Ds,Wa);p<d&&(c=f,d=p)}d=1/0;for(var v=0;v<32&&!(u<vK);v++){var _=c-u,b=c+u;Wa[0]=Xi(n,e,r,_),Wa[1]=Xi(t,i,o,_);var p=v0(Wa,Ds);if(_>=0&&p<d)c=_,d=p;else{Ou[0]=Xi(n,e,r,b),Ou[1]=Xi(t,i,o,b);var C=v0(Ou,Ds);b<=1&&C<d?(c=b,d=C):u*=.5}}return l&&(l[0]=Xi(n,e,r,c),l[1]=Xi(t,i,o,c)),b0(d)}function SK(n,t,e,i,r,o,a){for(var s=n,l=t,c=0,u=1/a,d=1;d<=a;d++){var f=d*u,p=Xi(n,e,r,f),v=Xi(t,i,o,f),_=p-s,b=v-l;c+=Math.sqrt(_*_+b*b),s=p,l=v}return c}var PEe=/cubic-bezier\(([0-9,\.e ]+)\)/;function _y(n){var t=n&&PEe.exec(n);if(t){var e=t[1].split(","),i=+ur(e[0]),r=+ur(e[1]),o=+ur(e[2]),a=+ur(e[3]);if(isNaN(i+r+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:M3(0,i,o,1,l,s)&&ni(0,r,a,1,s[0])}}}var OEe=(function(){function n(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||di,this.ondestroy=t.ondestroy||di,this.onrestart=t.onrestart||di,t.easing&&this.setEasing(t.easing)}return n.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var i=this._life,r=t-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),o===1)if(this.loop){var l=r%i;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(t){this.easing=t,this.easingFunc=De(t)?t:py[t]||_y(t)},n})(),wK=OEe;var Sy={};Ko(Sy,{fastLerp:()=>IK,fastMapToColor:()=>HEe,lerp:()=>xy,lift:()=>BI,liftColor:()=>Cy,lum:()=>E3,mapToColor:()=>jEe,modifyAlpha:()=>WEe,modifyHSL:()=>GEe,parse:()=>qr,random:()=>qEe,stringify:()=>Is,toHex:()=>UEe});var MK=(function(){function n(t){this.value=t}return n})();var REe=(function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new MK(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n})();var FEe=(function(){function n(t){this._list=new REe,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var i=this._list,r=this._map,o=null;if(r[t]==null){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new MK(e),s.key=t,i.insertEntry(s),r[t]=s}return o},n.prototype.get=function(t){var e=this._map[t],i=this._list;if(e!=null)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n})(),W2=FEe;var TK={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function A1(n){return n=Math.round(n),n<0?0:n>255?255:n}function BEe(n){return n=Math.round(n),n<0?0:n>360?360:n}function B8(n){return n<0?0:n>1?1:n}function PI(n){var t=n;return t.length&&t.charAt(t.length-1)==="%"?A1(parseFloat(t)/100*255):A1(parseInt(t,10))}function T3(n){var t=n;return t.length&&t.charAt(t.length-1)==="%"?B8(parseFloat(t)/100):B8(parseFloat(t))}function OI(n,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?n+(t-n)*e*6:e*2<1?t:e*3<2?n+(t-n)*(2/3-e)*6:n}function x0(n,t,e){return n+(t-n)*e}function qa(n,t,e,i,r){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}function RI(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var DK=new W2(20),by=null;function Bu(n,t){by&&RI(by,t),by=DK.put(n,by||t.slice())}function qr(n,t){if(n){t=t||[];var e=DK.get(n);if(e)return RI(t,e);n=n+"";var i=n.replace(/ /g,"").toLowerCase();if(i in TK)return RI(t,TK[i]),Bu(n,t),t;var r=i.length;if(i.charAt(0)==="#"){if(r===4||r===5){var o=parseInt(i.slice(1,4),16);if(!(o>=0&&o<=4095)){qa(t,0,0,0,1);return}return qa(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,r===5?parseInt(i.slice(4),16)/15:1),Bu(n,t),t}else if(r===7||r===9){var o=parseInt(i.slice(1,7),16);if(!(o>=0&&o<=16777215)){qa(t,0,0,0,1);return}return qa(t,(o&16711680)>>16,(o&65280)>>8,o&255,r===9?parseInt(i.slice(7),16)/255:1),Bu(n,t),t}return}var a=i.indexOf("("),s=i.indexOf(")");if(a!==-1&&s+1===r){var l=i.substr(0,a),c=i.substr(a+1,s-(a+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?qa(t,+c[0],+c[1],+c[2],1):qa(t,0,0,0,1);u=T3(c.pop());case"rgb":if(c.length>=3)return qa(t,PI(c[0]),PI(c[1]),PI(c[2]),c.length===3?u:T3(c[3])),Bu(n,t),t;qa(t,0,0,0,1);return;case"hsla":if(c.length!==4){qa(t,0,0,0,1);return}return c[3]=T3(c[3]),FI(c,t),Bu(n,t),t;case"hsl":if(c.length!==3){qa(t,0,0,0,1);return}return FI(c,t),Bu(n,t),t;default:return}}qa(t,0,0,0,1)}}function FI(n,t){var e=(parseFloat(n[0])%360+360)%360/360,i=T3(n[1]),r=T3(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=r*2-o;return t=t||[],qa(t,A1(OI(a,o,e+1/3)*255),A1(OI(a,o,e)*255),A1(OI(a,o,e-1/3)*255),1),n.length===4&&(t[3]=n[3]),t}function VEe(n){if(n){var t=n[0]/255,e=n[1]/255,i=n[2]/255,r=Math.min(t,e,i),o=Math.max(t,e,i),a=o-r,s=(o+r)/2,l,c;if(a===0)l=0,c=0;else{s<.5?c=a/(o+r):c=a/(2-o-r);var u=((o-t)/6+a/2)/a,d=((o-e)/6+a/2)/a,f=((o-i)/6+a/2)/a;t===o?l=f-d:e===o?l=1/3+u-f:i===o&&(l=2/3+d-u),l<0&&(l+=1),l>1&&(l-=1)}var p=[l*360,c,s];return n[3]!=null&&p.push(n[3]),p}}function BI(n,t){var e=qr(n);if(e){for(var i=0;i<3;i++)t<0?e[i]=e[i]*(1-t)|0:e[i]=(255-e[i])*t+e[i]|0,e[i]>255?e[i]=255:e[i]<0&&(e[i]=0);return Is(e,e.length===4?"rgba":"rgb")}}function UEe(n){var t=qr(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function IK(n,t,e){if(!(!(t&&t.length)||!(n>=0&&n<=1))){e=e||[];var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],l=i-r;return e[0]=A1(x0(a[0],s[0],l)),e[1]=A1(x0(a[1],s[1],l)),e[2]=A1(x0(a[2],s[2],l)),e[3]=B8(x0(a[3],s[3],l)),e}}var HEe=IK;function xy(n,t,e){if(!(!(t&&t.length)||!(n>=0&&n<=1))){var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=qr(t[r]),s=qr(t[o]),l=i-r,c=Is([A1(x0(a[0],s[0],l)),A1(x0(a[1],s[1],l)),A1(x0(a[2],s[2],l)),B8(x0(a[3],s[3],l))],"rgba");return e?{color:c,leftIndex:r,rightIndex:o,value:i}:c}}var jEe=xy;function GEe(n,t,e,i){var r=qr(n);if(n)return r=VEe(r),t!=null&&(r[0]=BEe(t)),e!=null&&(r[1]=T3(e)),i!=null&&(r[2]=T3(i)),Is(FI(r),"rgba")}function WEe(n,t){var e=qr(n);if(e&&t!=null)return e[3]=B8(t),Is(e,"rgba")}function Is(n,t){if(!(!n||!n.length)){var e=n[0]+","+n[1]+","+n[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+n[3]),t+"("+e+")"}}function E3(n,t){var e=qr(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function qEe(){return Is([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var EK=new W2(100);function Cy(n){if(_e(n)){var t=EK.get(n);return t||(t=BI(n,-.1),EK.put(n,t)),t}else if(B2(n)){var e=fe({},n);return e.colorStops=ge(n.colorStops,function(i){return{offset:i.offset,color:BI(i.color,-.1)}}),e}return n}function LK(n){return n.type==="linear"}function AK(n){return n.type==="radial"}var c7t=(function(){return Be.hasGlobalWindow&&De(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})();var UI=Array.prototype.slice;function q2(n,t,e){return(t-n)*e+n}function VI(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=q2(t[o],e[o],i);return n}function $Ee(n,t,e,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=q2(t[a][s],e[a][s],i)}return n}function wy(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=t[o]+e[o]*i;return n}function zK(n,t,e,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=t[a][s]+e[a][s]*i}return n}function YEe(n,t){for(var e=n.length,i=t.length,r=e>i?t:n,o=Math.min(e,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(e,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function ZEe(n,t,e){var i=n,r=t;if(!(!i.push||!r.push)){var o=i.length,a=r.length;if(o!==a){var s=o>a;if(s)i.length=a;else for(var l=o;l<a;l++)i.push(e===1?r[l]:UI.call(r[l]))}for(var c=i[0]&&i[0].length,l=0;l<i.length;l++)if(e===1)isNaN(i[l])&&(i[l]=r[l]);else for(var u=0;u<c;u++)isNaN(i[l][u])&&(i[l][u]=r[l][u])}}function H8(n){if(wi(n)){var t=n.length;if(wi(n[0])){for(var e=[],i=0;i<t;i++)e.push(UI.call(n[i]));return e}return UI.call(n)}return n}function Ey(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function XEe(n){return wi(n&&n[0])?2:1}var My=0,Dy=1,PK=2,U8=3,HI=4,jI=5,kK=6;function NK(n){return n===HI||n===jI}function Ty(n){return n===Dy||n===PK}var V8=[0,0,0,0],QEe=(function(){function n(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e,i){this._needsSort=!0;var r=this.keyframes,o=r.length,a=!1,s=kK,l=e;if(wi(e)){var c=XEe(e);s=c,(c===1&&!Ct(e[0])||c===2&&!Ct(e[0][0]))&&(a=!0)}else if(Ct(e)&&!g3(e))s=My;else if(_e(e))if(!isNaN(+e))s=My;else{var u=qr(e);u&&(l=u,s=U8)}else if(B2(e)){var d=fe({},l);d.colorStops=ge(e.colorStops,function(p){return{offset:p.offset,color:qr(p.color)}}),LK(e)?s=HI:AK(e)&&(s=jI),l=d}o===0?this.valType=s:(s!==this.valType||s===kK)&&(a=!0),this.discrete=this.discrete||a;var f={time:t,value:l,rawValue:e,percent:0};return i&&(f.easing=i,f.easingFunc=De(i)?i:py[i]||_y(i)),r.push(f),f},n.prototype.prepare=function(t,e){var i=this.keyframes;this._needsSort&&i.sort(function(_,b){return _.time-b.time});for(var r=this.valType,o=i.length,a=i[o-1],s=this.discrete,l=Ty(r),c=NK(r),u=0;u<o;u++){var d=i[u],f=d.value,p=a.value;d.percent=d.time/t,s||(l&&u!==o-1?ZEe(f,p,r):c&&YEe(f.colorStops,p.colorStops))}if(!s&&r!==jI&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;for(var v=i[0].value,u=0;u<o;u++)r===My?i[u].additiveValue=i[u].value-v:r===U8?i[u].additiveValue=wy([],i[u].value,v,-1):Ty(r)&&(i[u].additiveValue=r===Dy?wy([],i[u].value,v,-1):zK([],i[u].value,v,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i=this._additiveTrack!=null,r=i?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,c=o===U8,u,d=this._lastFr,f=Math.min,p,v;if(s===1)p=v=a[0];else{if(e<0)u=0;else if(e<this._lastFrP){var _=f(d+1,s-1);for(u=_;u>=0&&!(a[u].percent<=e);u--);u=f(u,s-2)}else{for(u=d;u<s&&!(a[u].percent>e);u++);u=f(u-1,s-2)}v=a[u+1],p=a[u]}if(p&&v){this._lastFr=u,this._lastFrP=e;var b=v.percent-p.percent,C=b===0?1:f((e-p.percent)/b,1);v.easingFunc&&(C=v.easingFunc(C));var w=i?this._additiveValue:c?V8:t[l];if((Ty(o)||c)&&!w&&(w=this._additiveValue=[]),this.discrete)t[l]=C<1?p.rawValue:v.rawValue;else if(Ty(o))o===Dy?VI(w,p[r],v[r],C):$Ee(w,p[r],v[r],C);else if(NK(o)){var E=p[r],D=v[r],L=o===HI;t[l]={type:L?"linear":"radial",x:q2(E.x,D.x,C),y:q2(E.y,D.y,C),colorStops:ge(E.colorStops,function(R,H){var W=D.colorStops[H];return{offset:q2(R.offset,W.offset,C),color:Ey(VI([],R.color,W.color,C))}}),global:D.global},L?(t[l].x2=q2(E.x2,D.x2,C),t[l].y2=q2(E.y2,D.y2,C)):t[l].r=q2(E.r,D.r,C)}else if(c)VI(w,p[r],v[r],C),i||(t[l]=Ey(w));else{var z=q2(p[r],v[r],C);i?this._additiveValue=z:t[l]=z}i&&this._addToTarget(t)}}},n.prototype._addToTarget=function(t){var e=this.valType,i=this.propName,r=this._additiveValue;e===My?t[i]=t[i]+r:e===U8?(qr(t[i],V8),wy(V8,V8,r,1),t[i]=Ey(V8)):e===Dy?wy(t[i],t[i],r,1):e===PK&&zK(t[i],t[i],r,1)},n})(),KEe=(function(){function n(t,e,i,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r){h3("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=i}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e,i){return this.whenWithKeys(t,e,Lt(e),i)},n.prototype.whenWithKeys=function(t,e,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var s=i[a],l=o[s];if(!l){l=o[s]=new QEe(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var d=u.keyframes,f=d[d.length-1];c=f&&f.value,u.valType===U8&&c&&(c=Ey(c))}else c=this._target[s];if(c==null)continue;t>0&&l.addKeyframe(0,H8(c),r),this._trackKeys.push(s)}l.addKeyframe(t,H8(e[s]),r)}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(t);o&&(e=o)}return e},n.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),c=s.keyframes,u=c.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=c[u-1];d&&(e._target[s.propName]=d.rawValue),s.setFinished()}else i.push(s)}if(i.length||this._force){var f=new wK({life:r,loop:this._loop,delay:this._delay||0,onframe:function(p){e._started=2;var v=e._additiveAnimators;if(v){for(var _=!1,b=0;b<v.length;b++)if(v[b]._clip){_=!0;break}_||(e._additiveAnimators=null)}for(var b=0;b<i.length;b++)i[b].step(e._target,p);var C=e._onframeCbs;if(C)for(var b=0;b<C.length;b++)C[b](e._target,p)},ondestroy:function(){e._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),t&&f.setEasing(t)}else this._doneCallback();return this}},n.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.getTracks=function(){var t=this;return ge(this._trackKeys,function(e){return t._tracks[e]})},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var a=i[t[o]];a&&!a.isFinished()&&(e?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var s=!0,o=0;o<r.length;o++)if(!i[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(t,e,i){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var o=e[r],a=this._tracks[o];if(!(!a||a.isFinished())){var s=a.keyframes,l=s[i?0:s.length-1];l&&(t[o]=H8(l.rawValue))}}}},n.prototype.__changeFinalValue=function(t,e){e=e||Lt(t);for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,t[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n})(),j8=KEe;function D3(){return new Date().getTime()}var JEe=(function(n){Je(t,n);function t(e){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,e=e||{},i.stage=e.stage||{},i}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var i=e.getClip();i&&this.addClip(i)},t.prototype.removeClip=function(e){if(e.animation){var i=e.prev,r=e.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var i=e.getClip();i&&this.removeClip(i),e.animation=null},t.prototype.update=function(e){for(var i=D3()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next,s=o.step(i,r);s&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,e||(this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function i(){e._running&&(F8(i),!e._paused&&e.update())}F8(i)},t.prototype.start=function(){this._running||(this._time=D3(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=D3(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=D3()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var i=e.next;e.prev=e.next=e.animation=null,e=i}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,i){i=i||{},this.start();var r=new j8(e,i.loop);return this.addAnimator(r),r},t})(Ti),OK=JEe;var eDe=300,GI=Be.domSupported,WI=(function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=ge(n,function(r){var o=r.replace("mouse","pointer");return e.hasOwnProperty(o)?o:r});return{mouse:n,touch:t,pointer:i}})(),RK={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},FK=!1;function YI(n){var t=n.pointerType;return t==="pen"||t==="touch"}function tDe(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function qI(n){n&&(n.zrByTouch=!0)}function nDe(n,t){return Ho(n.dom,new iDe(n,t),!0)}function VK(n,t){for(var e=t,i=!1;e&&e.nodeType!==9&&!(i=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return i}var iDe=(function(){function n(t,e){this.stopPropagation=di,this.stopImmediatePropagation=di,this.preventDefault=di,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return n})(),z1={mousedown:function(n){n=Ho(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Ho(this.dom,n);var t=this.__mayPointerCapture;t&&(n.zrX!==t[0]||n.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Ho(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=Ho(this.dom,n);var t=n.toElement||n.relatedTarget;VK(this,t)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){FK=!0,n=Ho(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){FK||(n=Ho(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=Ho(this.dom,n),qI(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),z1.mousemove.call(this,n),z1.mousedown.call(this,n)},touchmove:function(n){n=Ho(this.dom,n),qI(n),this.handler.processGesture(n,"change"),z1.mousemove.call(this,n)},touchend:function(n){n=Ho(this.dom,n),qI(n),this.handler.processGesture(n,"end"),z1.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<eDe&&z1.click.call(this,n)},pointerdown:function(n){z1.mousedown.call(this,n)},pointermove:function(n){YI(n)||z1.mousemove.call(this,n)},pointerup:function(n){z1.mouseup.call(this,n)},pointerout:function(n){YI(n)||z1.mouseout.call(this,n)}};O(["click","dblclick","contextmenu"],function(n){z1[n]=function(t){t=Ho(this.dom,t),this.trigger(n,t)}});var ZI={pointermove:function(n){YI(n)||ZI.mousemove.call(this,n)},pointerup:function(n){ZI.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function rDe(n,t){var e=t.domHandlers;Be.pointerEventsSupported?O(WI.pointer,function(i){Iy(t,i,function(r){e[i].call(n,r)})}):(Be.touchEventsSupported&&O(WI.touch,function(i){Iy(t,i,function(r){e[i].call(n,r),tDe(t)})}),O(WI.mouse,function(i){Iy(t,i,function(r){r=ly(r),t.touching||e[i].call(n,r)})}))}function oDe(n,t){Be.pointerEventsSupported?O(RK.pointer,e):Be.touchEventsSupported||O(RK.mouse,e);function e(i){function r(o){o=ly(o),VK(n,o.target)||(o=nDe(n,o),t.domHandlers[i].call(n,o))}Iy(t,i,r,{capture:!0})}}function Iy(n,t,e,i){n.mounted[t]=e,n.listenerOpts[t]=i,z8(n.domTarget,t,e,i)}function $I(n){var t=n.mounted;for(var e in t)t.hasOwnProperty(e)&&tK(n.domTarget,e,t[e],n.listenerOpts[e]);n.mounted={}}var BK=(function(){function n(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return n})(),aDe=(function(n){Je(t,n);function t(e,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=i,r._localHandlerScope=new BK(e,z1),GI&&(r._globalHandlerScope=new BK(document,ZI)),rDe(r,r._localHandlerScope),r}return t.prototype.dispose=function(){$I(this._localHandlerScope),GI&&$I(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,GI&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var i=this._globalHandlerScope;e?oDe(this,i):$I(i)}},t})(Ti),UK=aDe;var HK=1;Be.hasGlobalWindow&&(HK=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var I3=HK,G8=.4,W8="#333",q8="#ccc",jK="#eee";var GK=H2,WK=5e-5;function L3(n){return n>WK||n<-WK}var A3=[],Vu=[],XI=L1(),QI=Math.abs,sDe=(function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return L3(this.rotation)||L3(this.x)||L3(this.y)||L3(this.scaleX-1)||L3(this.scaleY-1)||L3(this.skewX)||L3(this.skewY)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),i=this.transform;if(!(e||t)){i&&(GK(i),this.invTransform=null);return}i=i||L1(),e?this.getLocalTransform(i):GK(i),t&&(e?Ga(i,t,i):cy(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(A3);var i=A3[0]<0?-1:1,r=A3[1]<0?-1:1,o=((A3[0]-i)*e+i)/A3[0]||0,a=((A3[1]-r)*e+r)/A3[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||L1(),j2(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),o=Math.PI/2+r-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||L1(),Ga(Vu,t.invTransform,e),e=Vu);var i=this.originX,r=this.originY;(i||r)&&(XI[4]=i,XI[5]=r,Ga(Vu,e,XI),Vu[4]-=i,Vu[5]-=r,e=Vu),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var i=[t,e],r=this.invTransform;return r&&Mi(i,i,r),i},n.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],r=this.transform;return r&&Mi(i,i,r),i},n.prototype.getLineScale=function(){var t=this.transform;return t&&QI(t[0]-1)>1e-10&&QI(t[3]-1)>1e-10?Math.sqrt(QI(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){lDe(this,t)},n.getLocalTransform=function(t,e){e=e||[];var i=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.anchorX,l=t.anchorY,c=t.rotation||0,u=t.x,d=t.y,f=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;if(i||r||s||l){var v=i+s,_=r+l;e[4]=-v*o-f*_*a,e[5]=-_*a-p*v*o}else e[4]=e[5]=0;return e[0]=o,e[3]=a,e[1]=p*o,e[2]=f*a,c&&y3(e,e,c),e[4]+=i+u,e[5]+=r+d,e},n.initDefaultProps=(function(){var t=n.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),n})(),z3=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function lDe(n,t){for(var e=0;e<z3.length;e++){var i=z3[e];n[i]=t[i]}}var $8=sDe;var qK={};function jo(n,t){t=t||I1;var e=qK[t];e||(e=qK[t]=new W2(500));var i=e.get(n);return i==null&&(i=vo.measureText(n,t).width,e.put(n,i)),i}function $K(n,t,e,i){var r=jo(n,t),o=Ly(t),a=Uu(0,r,e),s=k3(0,o,i),l=new Ke(a,s,r,o);return l}function C0(n,t,e,i){var r=((n||"")+"").split(`
`),o=r.length;if(o===1)return $K(r[0],t,e,i);for(var a=new Ke(0,0,0,0),s=0;s<r.length;s++){var l=$K(r[s],t,e,i);s===0?a.copy(l):a.union(l)}return a}function Uu(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function k3(n,t,e){return e==="middle"?n-=t/2:e==="bottom"&&(n-=t),n}function Ly(n){return jo("\u56FD",n)}function $a(n,t){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function N3(n,t,e){var i=t.position||"inside",r=t.distance!=null?t.distance:5,o=e.height,a=e.width,s=o/2,l=e.x,c=e.y,u="left",d="top";if(i instanceof Array)l+=$a(i[0],e.width),c+=$a(i[1],e.height),u=null,d=null;else switch(i){case"left":l-=r,c+=s,u="right",d="middle";break;case"right":l+=r+a,c+=s,d="middle";break;case"top":l+=a/2,c-=r,u="center",d="bottom";break;case"bottom":l+=a/2,c+=o+r,u="center";break;case"inside":l+=a/2,c+=s,u="center",d="middle";break;case"insideLeft":l+=r,c+=s,d="middle";break;case"insideRight":l+=a-r,c+=s,u="right",d="middle";break;case"insideTop":l+=a/2,c+=r,u="center";break;case"insideBottom":l+=a/2,c+=o-r,u="center",d="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=a-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=o-r,d="bottom";break;case"insideBottomRight":l+=a-r,c+=o-r,u="right",d="bottom";break}return n=n||{},n.x=l,n.y=c,n.align=u,n.verticalAlign=d,n}var JI="__zr_normal__",eL=z3.concat(["ignore"]),cDe=Wr(z3,function(n,t){return n[t]=!0,n},{ignore:!1}),Hu={},uDe=new Ke(0,0,0,0),iL=(function(){function n(t){this.id=M8(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=e.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var c=!1;if(o.copyTransform(e),i.position!=null){var u=uDe;i.layoutRect?u.copy(i.layoutRect):u.copy(this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Hu,i,u):N3(Hu,i,u),o.x=Hu.x,o.y=Hu.y,a=Hu.align,s=Hu.verticalAlign;var d=i.origin;if(d&&i.rotation!=null){var f=void 0,p=void 0;d==="center"?(f=u.width*.5,p=u.height*.5):(f=$a(d[0],u.width),p=$a(d[1],u.height)),c=!0,o.originX=-o.x+f+(r?0:u.x),o.originY=-o.y+p+(r?0:u.y)}}i.rotation!=null&&(o.rotation=i.rotation);var v=i.offset;v&&(o.x+=v[0],o.y+=v[1],c||(o.originX=-v[0],o.originY=-v[1]));var _=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),C=void 0,w=void 0,E=void 0;_&&this.canBeInsideText()?(C=i.insideFill,w=i.insideStroke,(C==null||C==="auto")&&(C=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(C),E=!0)):(C=i.outsideFill,w=i.outsideStroke,(C==null||C==="auto")&&(C=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(C),E=!0)),C=C||"#000",(C!==b.fill||w!==b.stroke||E!==b.autoStroke||a!==b.align||s!==b.verticalAlign)&&(l=!0,b.fill=C,b.stroke=w,b.autoStroke=E,b.align=a,b.verticalAlign=s,e.setDefaultTextStyle(b)),e.__dirty|=Ri,l&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?q8:W8},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i=typeof e=="string"&&qr(e);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,Is(i,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},fe(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(Se(t))for(var i=t,r=Lt(i),o=0;o<r.length;o++){var a=r[o];this.attrKV(a,t[a])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==JI)){var a=r.targetName,s=a?e[a]:e;r.saveTo(s)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,eL)},n.prototype._savePrimaryToNormal=function(t,e,i){for(var r=0;r<i.length;r++){var o=i[r];t[o]!=null&&!(o in e)&&(e[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(JI,!1,t)},n.prototype.useState=function(t,e,i,r){var o=t===JI,a=this.hasState();if(!(!a&&o)){var s=this.currentStates,l=this.stateTransition;if(!(qe(s,t)>=0&&(e||s.length===1))){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),!c&&!o){h3("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,e,!i&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,f=this._textGuide;return d&&d.useState(t,e,i,u),f&&f.useState(t,e,i,u),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ri),c}}},n.prototype.useStates=function(t,e,i){if(!t.length)this.clearStates();else{var r=[],o=this.currentStates,a=t.length,s=a===o.length;if(s){for(var l=0;l<a;l++)if(t[l]!==o[l]){s=!1;break}}if(s)return;for(var l=0;l<a;l++){var c=t[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,t)),u||(u=this.states[c]),u&&r.push(u)}var d=r[a-1],f=!!(d&&d.hoverLayer||i);f&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),v=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(t.join(","),p,this._normalState,!1,!e&&!this.__inHover&&v&&v.duration>0,v);var _=this._textContent,b=this._textGuide;_&&_.useStates(t,e,f),b&&b.useStates(t,e,f),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ri)}},n.prototype.isSilent=function(){for(var t=this.silent,e=this.parent;!t&&e;){if(e.silent){t=!0;break}e=e.parent}return t},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=qe(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},n.prototype.replaceState=function(t,e,i){var r=this.currentStates.slice(),o=qe(r,t),a=qe(r,e)>=0;o>=0?a?r.splice(o,1):r[o]=e:i&&!a&&r.push(e),this.useStates(r)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e={},i,r=0;r<t.length;r++){var o=t[r];fe(e,o),o.textConfig&&(i=i||{},fe(i,o.textConfig))}return i&&(e.textConfig=i),e},n.prototype._applyStateObj=function(t,e,i,r,o,a){var s=!(e&&r);e&&e.textConfig?(this.textConfig=fe({},r?this.textConfig:i.textConfig),fe(this.textConfig,e.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},c=!1,u=0;u<eL.length;u++){var d=eL[u],f=o&&cDe[d];e&&e[d]!=null?f?(c=!0,l[d]=e[d]):this[d]=e[d]:s&&i[d]!=null&&(f?(c=!0,l[d]=i[d]):this[d]=i[d])}if(!o)for(var u=0;u<this.animators.length;u++){var p=this.animators[u],v=p.targetName;p.getLoop()||p.__changeFinalValue(v?(e||i)[v]:e||i)}c&&this._transitionState(t,l,a)},n.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new $8,this._attachComponent(t),this._textContent=t,this.markRedraw())},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),fe(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Ri;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e,i){var r=t?this[t]:this,o=new j8(r,e,i);return t&&(o.targetName=t),this.addAnimator(o,t),o},n.prototype.addAnimator=function(t,e){var i=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var o=r.animators,a=qe(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var s=i[a];!t||t===s.scope?s.stop(e):o.push(s)}return this.animators=o,this},n.prototype.animateTo=function(t,e,i){tL(this,t,e,i)},n.prototype.animateFrom=function(t,e,i){tL(this,t,e,i,!0)},n.prototype._transitionState=function(t,e,i,r){for(var o=tL(this,e,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=(function(){var t=n.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Ri;var e={};function i(o,a,s){e[o+a+s]||(console.warn("DEPRECATED: '"+o+"' has been deprecated. use '"+a+"', '"+s+"' instead"),e[o+a+s]=!0)}function r(o,a,s,l){Object.defineProperty(t,o,{get:function(){if(!this[a]){var u=this[a]=[];c(this,u)}return this[a]},set:function(u){this[s]=u[0],this[l]=u[1],this[a]=u,c(this,u)}});function c(u,d){Object.defineProperty(d,0,{get:function(){return u[s]},set:function(f){u[s]=f}}),Object.defineProperty(d,1,{get:function(){return u[l]},set:function(f){u[l]=f}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))})(),n})();cr(iL,Ti);cr(iL,$8);function tL(n,t,e,i,r){e=e||{};var o=[];YK(n,"",n,t,e,i,o,r);var a=o.length,s=!1,l=e.done,c=e.aborted,u=function(){s=!0,a--,a<=0&&(s?l&&l():c&&c())},d=function(){a--,a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&e.during&&o[0].during(function(v,_){e.during(_)});for(var f=0;f<o.length;f++){var p=o[f];u&&p.done(u),d&&p.aborted(d),e.force&&p.duration(e.duration),p.start(e.easing)}return o}function nL(n,t,e){for(var i=0;i<e;i++)n[i]=t[i]}function dDe(n){return wi(n[0])}function fDe(n,t,e){if(wi(t[e]))if(wi(n[e])||(n[e]=[]),oi(t[e])){var i=t[e].length;n[e].length!==i&&(n[e]=new t[e].constructor(i),nL(n[e],t[e],i))}else{var r=t[e],o=n[e],a=r.length;if(dDe(r))for(var s=r[0].length,l=0;l<a;l++)o[l]?nL(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else nL(o,r,a);o.length=r.length}else n[e]=t[e]}function pDe(n,t){return n===t||wi(n)&&wi(t)&&mDe(n,t)}function mDe(n,t){var e=n.length;if(e!==t.length)return!1;for(var i=0;i<e;i++)if(n[i]!==t[i])return!1;return!0}function YK(n,t,e,i,r,o,a,s){for(var l=Lt(i),c=r.duration,u=r.delay,d=r.additive,f=r.setToFinal,p=!Se(o),v=n.animators,_=[],b=0;b<l.length;b++){var C=l[b],w=i[C];if(w!=null&&e[C]!=null&&(p||o[C]))if(Se(w)&&!wi(w)&&!B2(w)){if(t){s||(e[C]=w,n.updateDuringAnimation(t));continue}YK(n,C,e[C],w,r,o&&o[C],a,s)}else _.push(C);else s||(e[C]=w,n.updateDuringAnimation(t),_.push(C))}var E=_.length;if(!d&&E)for(var D=0;D<v.length;D++){var L=v[D];if(L.targetName===t){var z=L.stopTracks(_);if(z){var R=qe(v,L);v.splice(R,1)}}}if(r.force||(_=hn(_,function(G){return!pDe(i[G],e[G])}),E=_.length),E>0||r.force&&!a.length){var H=void 0,W=void 0,$=void 0;if(s){W={},f&&(H={});for(var D=0;D<E;D++){var C=_[D];W[C]=e[C],f?H[C]=i[C]:e[C]=i[C]}}else if(f){$={};for(var D=0;D<E;D++){var C=_[D];$[C]=H8(e[C]),fDe(e,i,C)}}var L=new j8(e,!1,!1,d?hn(v,function(Z){return Z.targetName===t}):null);L.targetName=t,r.scope&&(L.scope=r.scope),f&&H&&L.whenWithKeys(0,H,_),$&&L.whenWithKeys(0,$,_),L.whenWithKeys(c??500,s?W:i,_).delay(u||0),n.addAnimator(L,t),a.push(L)}}var Ay=iL;var ZK=(function(n){Je(t,n);function t(e){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===e)return i[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,i){if(e&&e!==this&&e.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,i){var r=qe(this._children,e);return r>=0&&this.replaceAt(i,r),this},t.prototype.replaceAt=function(e,i){var r=this._children,o=r[i];if(e&&e!==this&&e.parent!==this&&e!==o){r[i]=e,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var i=this.__zr;i&&i!==e.__zr&&e.addSelfToZr(i),i&&i.refresh()},t.prototype.remove=function(e){var i=this.__zr,r=this._children,o=qe(r,e);return o<0?this:(r.splice(o,1),e.parent=null,i&&e.removeSelfFromZr(i),i&&i.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,i=this.__zr,r=0;r<e.length;r++){var o=e[r];i&&o.removeSelfFromZr(i),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,i){for(var r=this._children,o=0;o<r.length;o++){var a=r[o];e.call(i,a,o)}return this},t.prototype.traverse=function(e,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=e.call(i,o);o.isGroup&&!a&&o.traverse(e,i)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var i=new Ke(0,0,0,0),r=e||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(o);u?(Ke.applyTransform(i,c,u),a=a||i.clone(),a.union(i)):(a=a||c.clone(),a.union(c))}}return a||i},t})(Ay);ZK.prototype.type="group";var Pt=ZK;var zy={},P3={};function hDe(n){delete P3[n]}function gDe(n){if(!n)return!1;if(typeof n=="string")return E3(n,1)<G8;if(n.colorStops){for(var t=n.colorStops,e=0,i=t.length,r=0;r<i;r++)e+=E3(t[r].color,1);return e/=i,e<G8}return!1}var vDe=(function(){function n(t,e,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var o=new mK,a=i.renderer||"canvas";zy[a]||(a=Lt(zy)[0]),i.useDirtyRect=i.useDirtyRect==null?!1:i.useDirtyRect;var s=new zy[a](e,o,i,t),l=i.ssr||s.ssrOnly;this.storage=o,this.painter=s;var c=!Be.node&&!Be.worker&&!l?new UK(s.getViewportRoot(),s.root):null,u=i.useCoarsePointer,d=u==null||u==="auto"?Be.touchEventsSupported:!!u,f=44,p;d&&(p=nt(i.pointerSize,f)),this.handler=new lK(o,s,c,s.root,p),this.animation=new OK({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},n.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=gDe(t))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(t){var e,i=D3();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=D3();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},n.prototype.on=function(t,e,i){return this._disposed||this.handler.on(t,e,i),this},n.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},n.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},n.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Pt&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,hDe(this.id))},n})();function ky(n,t){var e=new vDe(M8(),n,t);return P3[e.id]=e,e}function yDe(n){n.dispose()}function _De(){for(var n in P3)P3.hasOwnProperty(n)&&P3[n].dispose();P3={}}function bDe(n){return P3[n]}function oL(n,t){zy[n]=t}var rL;function xDe(n){if(typeof rL=="function")return rL(n)}function aL(n){rL=n}var CDe="5.6.1";var XK=1e-4,QK=20;function SDe(n){return n.replace(/^\s+|\s+$/g,"")}function Ei(n,t,e,i){var r=t[0],o=t[1],a=e[0],s=e[1],l=o-r,c=s-a;if(l===0)return c===0?a:(a+s)/2;if(i)if(l>0){if(n<=r)return a;if(n>=o)return s}else{if(n>=r)return a;if(n<=o)return s}else{if(n===r)return a;if(n===o)return s}return(n-r)/l*c+a}function fi(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return _e(n)?SDe(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):n==null?NaN:+n}function bn(n,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),QK),n=(+n).toFixed(t),e?n:+n}function $2(n){return n.sort(function(t,e){return t-e}),n}function yo(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e}return sL(n)}function sL(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),i=e>0?+t.slice(e+1):0,r=e>0?e:t.length,o=t.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}function ju(n,t){var e=Math.log,i=Math.LN10,r=Math.floor(e(n[1]-n[0])/i),o=Math.round(e(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function KK(n,t,e){if(!n[t])return 0;var i=wDe(n,e);return i[t]||0}function wDe(n,t){var e=Wr(n,function(p,v){return p+(isNaN(v)?0:v)},0);if(e===0)return[];for(var i=Math.pow(10,t),r=ge(n,function(p){return(isNaN(p)?0:p)/e*i*100}),o=i*100,a=ge(r,function(p){return Math.floor(p)}),s=Wr(a,function(p,v){return p+v},0),l=ge(r,function(p,v){return p-a[v]});s<o;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,f=l.length;d<f;++d)l[d]>c&&(c=l[d],u=d);++a[u],l[u]=0,++s}return ge(a,function(p){return p/i})}function JK(n,t){var e=Math.max(yo(n),yo(t)),i=n+t;return e>QK?i:bn(i,e)}var eJ=9007199254740991;function Y8(n){var t=Math.PI*2;return(n%t+t)%t}function O3(n){return n>-XK&&n<XK}var MDe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function dr(n){if(n instanceof Date)return n;if(_e(n)){var t=MDe.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function Py(n){return Math.pow(10,Gu(n))}function Gu(n){if(n===0)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function Wu(n,t){var e=Gu(n),i=Math.pow(10,e),r=n/i,o;return t?r<1.5?o=1:r<2.5?o=2:r<4?o=3:r<7?o=5:o=10:r<1?o=1:r<2?o=2:r<3?o=3:r<5?o=5:o=10,n=o*i,e>=-20?+n.toFixed(e<0?-e:0):n}function tJ(n,t){var e=(n.length-1)*t+1,i=Math.floor(e),r=+n[i-1],o=e-i;return o?r+o*(n[i]-r):r}function nJ(n){n.sort(function(l,c){return s(l,c,0)?-1:1});for(var t=-1/0,e=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-e),t=r[a],e=o[a];r[0]===r[1]&&o[0]*o[1]!==1?n.splice(i,1):i++}return n;function s(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]===(u?-1:1)||!u&&s(l,c,1))}}function Ya(n){var t=parseFloat(n);return t==n&&(t!==0||!_e(n)||n.indexOf("x")<=0)?t:NaN}function Z8(n){return!isNaN(Ya(n))}function Oy(){return Math.round(Math.random()*9)}function iJ(n,t){return t===0?n:iJ(t,n%t)}function lL(n,t){return n==null?t:t==null?n:n*t/iJ(n,t)}function fr(n){throw new Error(n)}function rJ(n,t,e){return(t-n)*e+n}var oJ="series\0",aJ="\0_ec_\0";function ii(n){return n instanceof Array?n:n==null?[]:[n]}function cL(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var i=0,r=e.length;i<r;i++){var o=e[i];!n.emphasis[t].hasOwnProperty(o)&&n[t].hasOwnProperty(o)&&(n.emphasis[t][o]=n[t][o])}}}var uL=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Y2(n){return Se(n)&&!pe(n)&&!(n instanceof Date)?n.value:n}function sJ(n){return Se(n)&&!(n instanceof Array)}function lJ(n,t,e){var i=e==="normalMerge",r=e==="replaceMerge",o=e==="replaceAll";n=n||[],t=(t||[]).slice();var a=Le();O(t,function(l,c){if(!Se(l)){t[c]=null;return}});var s=TDe(n,a,e);return(i||r)&&EDe(s,n,a,t),i&&DDe(s,t),i||r?IDe(s,t,r):o&&LDe(s,t),ADe(s),s}function TDe(n,t,e){var i=[];if(e==="replaceAll")return i;for(var r=0;r<n.length;r++){var o=n[r];o&&o.id!=null&&t.set(o.id,r),i.push({existing:e==="replaceMerge"||qu(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}function EDe(n,t,e,i){O(i,function(r,o){if(!(!r||r.id==null)){var a=Q8(r.id),s=e.get(a);if(s!=null){var l=n[s];Yi(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=t[s],i[o]=null}}})}function DDe(n,t){O(t,function(e,i){if(!(!e||e.name==null))for(var r=0;r<n.length;r++){var o=n[r].existing;if(!n[r].newOption&&o&&(o.id==null||e.id==null)&&!qu(e)&&!qu(o)&&cJ("name",o,e)){n[r].newOption=e,t[i]=null;return}}})}function IDe(n,t,e){O(t,function(i){if(i){for(var r,o=0;(r=n[o])&&(r.newOption||qu(r.existing)||r.existing&&i.id!=null&&!cJ("id",i,r.existing));)o++;r?(r.newOption=i,r.brandNew=e):n.push({newOption:i,brandNew:e,existing:null,keyInfo:null}),o++}})}function LDe(n,t){O(t,function(e){n.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function ADe(n){var t=Le();O(n,function(e){var i=e.existing;i&&t.set(i.id,e)}),O(n,function(e){var i=e.newOption;Yi(!i||i.id==null||!t.get(i.id)||t.get(i.id)===e,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,e),!e.keyInfo&&(e.keyInfo={})}),O(n,function(e,i){var r=e.existing,o=e.newOption,a=e.keyInfo;if(Se(o)){if(a.name=o.name!=null?Q8(o.name):r?r.name:oJ+i,r)a.id=Q8(r.id);else if(o.id!=null)a.id=Q8(o.id);else{var s=0;do a.id="\0"+a.name+"\0"+s++;while(t.get(a.id))}t.set(a.id,e)}})}function cJ(n,t,e){var i=da(t[n],null),r=da(e[n],null);return i!=null&&r!=null&&i===r}function Q8(n){return da(n,"")}function da(n,t){return n==null?t:_e(n)?n:Ct(n)||zu(n)?n+"":t}function $u(n){var t=n.name;return!!(t&&t.indexOf(oJ))}function qu(n){return n&&n.id!=null&&Q8(n.id).indexOf(aJ)===0}function uJ(n){return aJ+n}function dJ(n,t,e){O(n,function(i){var r=i.newOption;Se(r)&&(i.keyInfo.mainType=t,i.keyInfo.subType=zDe(t,r,i.existing,e))})}function zDe(n,t,e,i){var r=t.type?t.type:e?e.subType:i.determineSubType(n,t);return r}function Za(n,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return pe(t.dataIndex)?ge(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex);if(t.name!=null)return pe(t.name)?ge(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name)}function Ot(){var n="__ec_inner_"+kDe++;return function(t){return t[n]||(t[n]={})}}var kDe=Oy();function S0(n,t,e){var i=K8(t,e),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,s=a,l=e?e.defaultMainType:null;return!r&&l&&o.set(l,{}),o.each(function(c,u){var d=w0(n,u,c,{useDefault:l===u,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});s[u+"Models"]=d.models,s[u+"Model"]=d.models[0]}),s}function K8(n,t){var e;if(_e(n)){var i={};i[n+"Index"]=0,e=i}else e=n;var r=Le(),o={},a=!1;return O(e,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){o[l]=s;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],d=(c[2]||"").toLowerCase();if(!(!u||!d||t&&t.includeMainTypes&&qe(t.includeMainTypes,u)<0)){a=a||!!u;var f=r.get(u)||r.set(u,{});f[d]=s}}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var ai={useDefault:!0,enableAll:!1,enableNone:!1},fJ={useDefault:!1,enableAll:!0,enableNone:!0};function w0(n,t,e,i){i=i||ai;var r=e.index,o=e.id,a=e.name,s={models:null,specified:r!=null||o!=null||a!=null};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=n.getComponent(t))?[l]:[],s}return r==="none"||r===!1?(Yi(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(r==="all"&&(Yi(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=n.queryComponents({mainType:t,index:r,id:o,name:a}),s)}function dL(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function pJ(n,t){return n.getAttribute?n.getAttribute(t):n[t]}function mJ(n){return n==="auto"?Be.domSupported?"html":"richText":n||"html"}function fL(n,t,e,i,r){var o=t==null||t==="auto";if(i==null)return i;if(Ct(i)){var a=rJ(e||0,i,r);return bn(a,o?Math.max(yo(e||0),yo(i)):t)}else{if(_e(i))return r<1?e:i;for(var s=[],l=e,c=i,u=Math.max(l?l.length:0,c.length),d=0;d<u;++d){var f=n.getDimensionInfo(d);if(f&&f.type==="ordinal")s[d]=(r<1&&l?l:c)[d];else{var p=l&&l[d]?l[d]:0,v=c[d],a=rJ(p,v,r);s[d]=bn(a,o?Math.max(yo(p),yo(v)):t)}}return s}}var NDe=".",F3="___EC__COMPONENT__CONTAINER___",hJ="___EC__EXTENDED_CLASS___";function Go(n){var t={main:"",sub:""};if(n){var e=n.split(NDe);t.main=e[0]||"",t.sub=e[1]||""}return t}function PDe(n){Yi(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function gJ(n){return!!(n&&n[hJ])}function Yu(n,t){n.$constructor=n,n.extend=function(e){var i=this,r;return ODe(i)?r=(function(o){de(a,o);function a(){return o.apply(this,arguments)||this}return a})(i):(r=function(){(e.$constructor||i).apply(this,arguments)},T8(r,this)),fe(r.prototype,e),r[hJ]=!0,r.extend=this.extend,r.superCall=FDe,r.superApply=BDe,r.superClass=i,r}}function ODe(n){return De(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function Ry(n,t){n.extend=t.extend}var RDe=Math.round(Math.random()*10);function vJ(n){var t=["__\0is_clz",RDe++].join("_");n.prototype[t]=!0,n.isInstance=function(e){return!!(e&&e[t])}}function FDe(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return this.superClass.prototype[t].apply(n,e)}function BDe(n,t,e){return this.superClass.prototype[t].apply(n,e)}function M0(n){var t={};n.registerClass=function(i){var r=i.type||i.prototype.type;if(r){PDe(r),i.prototype.type=r;var o=Go(r);if(!o.sub)t[o.main]=i;else if(o.sub!==F3){var a=e(o);a[o.sub]=i}}return i},n.getClass=function(i,r,o){var a=t[i];if(a&&a[F3]&&(a=r?a[r]:null),o&&!a)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return a},n.getClassesByMainType=function(i){var r=Go(i),o=[],a=t[r.main];return a&&a[F3]?O(a,function(s,l){l!==F3&&o.push(s)}):o.push(a),o},n.hasClass=function(i){var r=Go(i);return!!t[r.main]},n.getAllClassMainTypes=function(){var i=[];return O(t,function(r,o){i.push(o)}),i},n.hasSubTypes=function(i){var r=Go(i),o=t[r.main];return o&&o[F3]};function e(i){var r=t[i.main];return(!r||!r[F3])&&(r=t[i.main]={},r[F3]=!0),r}}function Ls(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(i,r,o){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(r&&qe(r,l)>=0||o&&qe(o,l)<0)){var c=i.getShallow(l,t);c!=null&&(a[n[s][0]]=c)}}return a}}var VDe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],UDe=Ls(VDe),yJ=(function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return UDe(this,t,e)},n})();var mL=new W2(50);function bJ(n){if(typeof n=="string"){var t=mL.get(n);return t&&t.image}else return n}function hL(n,t,e,i,r){if(n)if(typeof n=="string"){if(t&&t.__zrImageSrc===n||!e)return t;var o=mL.get(n),a={hostEl:e,cb:i,cbPayload:r};return o?(t=o.image,!Zu(t)&&o.pending.push(a)):(t=vo.loadImage(n,_J,_J),t.__zrImageSrc=n,mL.put(n,t.__cachedImgObj={image:t,pending:[a]})),t}else return n;else return t}function _J(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],i=e.cb;i&&i(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Zu(n){return n&&n.width&&n.height}var gL=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function yL(n,t,e,i,r){var o={};return CJ(o,n,t,e,i,r),o.text}function CJ(n,t,e,i,r,o){if(!e){n.text="",n.isTruncated=!1;return}var a=(t+"").split(`
`);o=SJ(e,i,r,o);for(var s=!1,l={},c=0,u=a.length;c<u;c++)wJ(l,a[c],o),a[c]=l.textLine,s=s||l.isTruncated;n.text=a.join(`
`),n.isTruncated=s}function SJ(n,t,e,i){i=i||{};var r=fe({},i);r.font=t,e=nt(e,"..."),r.maxIterations=nt(i.maxIterations,2);var o=r.minChar=nt(i.minChar,0);r.cnCharWidth=jo("\u56FD",t);var a=r.ascCharWidth=jo("a",t);r.placeholder=nt(i.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<o&&s>=a;l++)s-=a;var c=jo(e,t);return c>s&&(e="",c=0),s=n-c,r.ellipsis=e,r.ellipsisWidth=c,r.contentWidth=s,r.containerWidth=n,r}function wJ(n,t,e){var i=e.containerWidth,r=e.font,o=e.contentWidth;if(!i){n.textLine="",n.isTruncated=!1;return}var a=jo(t,r);if(a<=i){n.textLine=t,n.isTruncated=!1;return}for(var s=0;;s++){if(a<=o||s>=e.maxIterations){t+=e.ellipsis;break}var l=s===0?jDe(t,o,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*o/a):0;t=t.substr(0,l),a=jo(t,r)}t===""&&(t=e.placeholder),n.textLine=t,n.isTruncated=!0}function jDe(n,t,e,i){for(var r=0,o=0,a=n.length;o<a&&r<t;o++){var s=n.charCodeAt(o);r+=0<=s&&s<=127?e:i}return o}function MJ(n,t){n!=null&&(n+="");var e=t.overflow,i=t.padding,r=t.font,o=e==="truncate",a=Ly(r),s=nt(t.lineHeight,a),l=!!t.backgroundColor,c=t.lineOverflow==="truncate",u=!1,d=t.width,f;d!=null&&(e==="break"||e==="breakAll")?f=n?EJ(n,t.font,d,e==="breakAll",0).lines:[]:f=n?n.split(`
`):[];var p=f.length*s,v=nt(t.height,p);if(p>v&&c){var _=Math.floor(v/s);u=u||f.length>_,f=f.slice(0,_)}if(n&&o&&d!=null)for(var b=SJ(d,r,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),C={},w=0;w<f.length;w++)wJ(C,f[w],b),f[w]=C.textLine,u=u||C.isTruncated;for(var E=v,D=0,w=0;w<f.length;w++)D=Math.max(jo(f[w],r),D);d==null&&(d=D);var L=D;return i&&(E+=i[0]+i[2],L+=i[1]+i[3],d+=i[1]+i[3]),l&&(L=d),{lines:f,height:v,outerWidth:L,outerHeight:E,lineHeight:s,calculatedLineHeight:a,contentWidth:D,contentHeight:p,width:d,isTruncated:u}}var GDe=(function(){function n(){}return n})(),xJ=(function(){function n(t){this.tokens=[],t&&(this.tokens=t)}return n})(),WDe=(function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return n})();function TJ(n,t){var e=new WDe;if(n!=null&&(n+=""),!n)return e;for(var i=t.width,r=t.height,o=t.overflow,a=(o==="break"||o==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:o==="breakAll"}:null,s=gL.lastIndex=0,l;(l=gL.exec(n))!=null;){var c=l.index;c>s&&vL(e,n.substring(s,c),t,a),vL(e,l[2],t,a,l[1]),s=gL.lastIndex}s<n.length&&vL(e,n.substring(s,n.length),t,a);var u=[],d=0,f=0,p=t.padding,v=o==="truncate",_=t.lineOverflow==="truncate",b={};function C(Ee,Ge,Ye){Ee.width=Ge,Ee.lineHeight=Ye,d+=Ye,f=Math.max(f,Ge)}e:for(var w=0;w<e.lines.length;w++){for(var E=e.lines[w],D=0,L=0,z=0;z<E.tokens.length;z++){var R=E.tokens[z],H=R.styleName&&t.rich[R.styleName]||{},W=R.textPadding=H.padding,$=W?W[1]+W[3]:0,G=R.font=H.font||t.font;R.contentHeight=Ly(G);var Z=nt(H.height,R.contentHeight);if(R.innerHeight=Z,W&&(Z+=W[0]+W[2]),R.height=Z,R.lineHeight=g0(H.lineHeight,t.lineHeight,Z),R.align=H&&H.align||t.align,R.verticalAlign=H&&H.verticalAlign||"middle",_&&r!=null&&d+R.lineHeight>r){var te=e.lines.length;z>0?(E.tokens=E.tokens.slice(0,z),C(E,L,D),e.lines=e.lines.slice(0,w+1)):e.lines=e.lines.slice(0,w),e.isTruncated=e.isTruncated||e.lines.length<te;break e}var re=H.width,ce=re==null||re==="auto";if(typeof re=="string"&&re.charAt(re.length-1)==="%")R.percentWidth=re,u.push(R),R.contentWidth=jo(R.text,G);else{if(ce){var ne=H.backgroundColor,he=ne&&ne.image;he&&(he=bJ(he),Zu(he)&&(R.width=Math.max(R.width,he.width*Z/he.height)))}var oe=v&&i!=null?i-L:null;oe!=null&&oe<R.width?!ce||oe<$?(R.text="",R.width=R.contentWidth=0):(CJ(b,R.text,oe-$,G,t.ellipsis,{minChar:t.truncateMinChar}),R.text=b.text,e.isTruncated=e.isTruncated||b.isTruncated,R.width=R.contentWidth=jo(R.text,G)):R.contentWidth=jo(R.text,G)}R.width+=$,L+=R.width,H&&(D=Math.max(D,R.lineHeight))}C(E,L,D)}e.outerWidth=e.width=nt(i,f),e.outerHeight=e.height=nt(r,d),e.contentHeight=d,e.contentWidth=f,p&&(e.outerWidth+=p[1]+p[3],e.outerHeight+=p[0]+p[2]);for(var w=0;w<u.length;w++){var R=u[w],ve=R.percentWidth;R.width=parseInt(ve,10)/100*e.width}return e}function vL(n,t,e,i,r){var o=t==="",a=r&&e.rich[r]||{},s=n.lines,l=a.font||e.font,c=!1,u,d;if(i){var f=a.padding,p=f?f[1]+f[3]:0;if(a.width!=null&&a.width!=="auto"){var v=$a(a.width,i.width)+p;s.length>0&&v+i.accumWidth>i.width&&(u=t.split(`
`),c=!0),i.accumWidth=v}else{var _=EJ(t,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=_.accumWidth+p,d=_.linesWidths,u=_.lines}}else u=t.split(`
`);for(var b=0;b<u.length;b++){var C=u[b],w=new GDe;if(w.styleName=r,w.text=C,w.isLineHolder=!C&&!o,typeof a.width=="number"?w.width=a.width:w.width=d?d[b]:jo(C,l),!b&&!c){var E=(s[s.length-1]||(s[0]=new xJ)).tokens,D=E.length;D===1&&E[0].isLineHolder?E[0]=w:(C||!D||o)&&E.push(w)}else s.push(new xJ([w]))}}function qDe(n){var t=n.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var $De=Wr(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function YDe(n){return qDe(n)?!!$De[n]:!0}function EJ(n,t,e,i,r){for(var o=[],a=[],s="",l="",c=0,u=0,d=0;d<n.length;d++){var f=n.charAt(d);if(f===`
`){l&&(s+=l,u+=c),o.push(s),a.push(u),s="",l="",c=0,u=0;continue}var p=jo(f,t),v=i?!1:!YDe(f);if(o.length?u+p>e:r+u+p>e){u?(s||l)&&(v?(s||(s=l,l="",c=0,u=c),o.push(s),a.push(u-c),l+=f,c+=p,s="",u=c):(l&&(s+=l,l="",c=0),o.push(s),a.push(u),s=f,u=p)):v?(o.push(l),a.push(c),l=f,c=p):(o.push(f),a.push(p));continue}u+=p,v?(l+=f,c+=p):(l&&(s+=l,l="",c=0),s+=f)}return!o.length&&!s&&(s=n,l="",c=0),l&&(s+=l),s&&(o.push(s),a.push(u)),o.length===1&&(u+=r),{accumWidth:u,lines:o,linesWidths:a}}var xL="__zr_style_"+Math.round(Math.random()*10),As={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},B3={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};As[xL]=!0;var DJ=["z","z2","invisible"],ZDe=["invisible"],XDe=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype._init=function(e){for(var i=Lt(e),r=0;r<i.length;r++){var o=i[r];o==="style"?this.useStyle(e[o]):n.prototype.attrKV.call(this,o,e[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,i,r,o){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&QDe(this,e,i)||a&&!a[0]&&!a[3])return!1;if(r&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(e,i){return this.rectContain(e,i)},t.prototype.traverse=function(e,i){e.call(i,this)},t.prototype.rectContain=function(e,i){var r=this.transformCoordToLocal(e,i),o=this.getBoundingRect();return o.contain(r[0],r[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Ke(0,0,0,0)),i?Ke.applyTransform(e,r,i):e.copy(r),(a||s||l)&&(e.width+=a*2+Math.abs(s),e.height+=a*2+Math.abs(l),e.x=Math.min(e.x,e.x+s-a),e.y=Math.min(e.y,e.y+l-a));var c=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-c),e.y=Math.floor(e.y-c),e.width=Math.ceil(e.width+1+c*2),e.height=Math.ceil(e.height+1+c*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Ke(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,i){e!=="style"?n.prototype.attrKV.call(this,e,i):this.style?this.setStyle(i):this.useStyle(i)},t.prototype.setStyle=function(e,i){return typeof e=="string"?this.style[e]=i:fe(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=w3,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&w3)},t.prototype.styleUpdated=function(){this.__dirty&=~w3},t.prototype.createStyle=function(e){return V2(As,e)},t.prototype.useStyle=function(e){e[xL]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[xL]},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,i,DJ)},t.prototype._applyStateObj=function(e,i,r,o,a,s){n.prototype._applyStateObj.call(this,e,i,r,o,a,s);var l=!(i&&o),c;if(i&&i.style?a?o?c=i.style:(c=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(c,i.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(c,i.style)):l&&(c=r.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=Lt(u),f=0;f<d.length;f++){var p=d[f];p in c&&(c[p]=c[p],this.style[p]=u[p])}for(var v=Lt(c),f=0;f<v.length;f++){var p=v[f];this.style[p]=this.style[p]}this._transitionState(e,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);for(var _=this.__inHover?ZDe:DJ,f=0;f<_.length;f++){var p=_[f];i&&i[p]!=null?this[p]=i[p]:l&&r[p]!=null&&(this[p]=r[p])}},t.prototype._mergeStates=function(e){for(var i=n.prototype._mergeStates.call(this,e),r,o=0;o<e.length;o++){var a=e[o];a.style&&(r=r||{},this._mergeStyle(r,a.style))}return r&&(i.style=r),i},t.prototype._mergeStyle=function(e,i){return fe(e,i),e},t.prototype.getAnimationStyleProps=function(){return B3},t.initDefaultProps=(function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Ri|w3})(),t})(Ay),_L=new Ke(0,0,0,0),bL=new Ke(0,0,0,0);function QDe(n,t,e){return _L.copy(n.getBoundingRect()),n.transform&&_L.applyTransform(n.transform),bL.width=t,bL.height=e,!_L.intersect(bL)}var zs=XDe;var Xa=Math.min,Qa=Math.max,CL=Math.sin,SL=Math.cos,V3=Math.PI*2,Fy=U2(),By=U2(),Vy=U2();function wL(n,t,e,i,r,o){r[0]=Xa(n,e),r[1]=Xa(t,i),o[0]=Qa(n,e),o[1]=Qa(t,i)}var IJ=[],LJ=[];function AJ(n,t,e,i,r,o,a,s,l,c){var u=vy,d=ni,f=u(n,e,r,a,IJ);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var p=0;p<f;p++){var v=d(n,e,r,a,IJ[p]);l[0]=Xa(v,l[0]),c[0]=Qa(v,c[0])}f=u(t,i,o,s,LJ);for(var p=0;p<f;p++){var _=d(t,i,o,s,LJ[p]);l[1]=Xa(_,l[1]),c[1]=Qa(_,c[1])}l[0]=Xa(n,l[0]),c[0]=Qa(n,c[0]),l[0]=Xa(a,l[0]),c[0]=Qa(a,c[0]),l[1]=Xa(t,l[1]),c[1]=Qa(t,c[1]),l[1]=Xa(s,l[1]),c[1]=Qa(s,c[1])}function zJ(n,t,e,i,r,o,a,s){var l=yy,c=Xi,u=Qa(Xa(l(n,e,r),1),0),d=Qa(Xa(l(t,i,o),1),0),f=c(n,e,r,u),p=c(t,i,o,d);a[0]=Xa(n,r,f),a[1]=Xa(t,o,p),s[0]=Qa(n,r,f),s[1]=Qa(t,o,p)}function kJ(n,t,e,i,r,o,a,s,l){var c=Ha,u=ja,d=Math.abs(r-o);if(d%V3<1e-4&&d>1e-4){s[0]=n-e,s[1]=t-i,l[0]=n+e,l[1]=t+i;return}if(Fy[0]=SL(r)*e+n,Fy[1]=CL(r)*i+t,By[0]=SL(o)*e+n,By[1]=CL(o)*i+t,c(s,Fy,By),u(l,Fy,By),r=r%V3,r<0&&(r=r+V3),o=o%V3,o<0&&(o=o+V3),r>o&&!a?o+=V3:r<o&&a&&(r+=V3),a){var f=o;o=r,r=f}for(var p=0;p<o;p+=Math.PI/2)p>r&&(Vy[0]=SL(p)*e+n,Vy[1]=CL(p)*i+t,c(s,Vy,s),u(l,Vy,l))}var gn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},U3=[],H3=[],ks=[],T0=[],Ns=[],Ps=[],ML=Math.min,TL=Math.max,j3=Math.cos,G3=Math.sin,Z2=Math.abs,IL=Math.PI,E0=IL*2,EL=typeof Float32Array<"u",J8=[];function DL(n){var t=Math.round(n/IL*1e8)/1e8;return t%2*IL}function KDe(n,t){var e=DL(n[0]);e<0&&(e+=E0);var i=e-n[0],r=n[1];r+=i,!t&&r-e>=E0?r=e+E0:t&&e-r>=E0?r=e-E0:!t&&e>r?r=e+(E0-DL(e-r)):t&&e<r&&(r=e-(E0-DL(r-e))),n[0]=e,n[1]=r}var JDe=(function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,i){i=i||0,i>0&&(this._ux=Z2(i/I3/t)||0,this._uy=Z2(i/I3/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(gn.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var i=Z2(t-this._xi),r=Z2(e-this._yi),o=i>this._ux||r>this._uy;if(this.addData(gn.L,t,e),this._ctx&&o&&this._ctx.lineTo(t,e),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){return this._drawPendingPt(),this.addData(gn.C,t,e,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(t,e,i,r,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(t,e,i,r){return this._drawPendingPt(),this.addData(gn.Q,t,e,i,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(t,e,i,r,o,a){this._drawPendingPt(),J8[0]=r,J8[1]=o,KDe(J8,a),r=J8[0],o=J8[1];var s=o-r;return this.addData(gn.A,t,e,i,i,r,s,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,r,o,a),this._xi=j3(o)*i+t,this._yi=G3(o)*i+e,this},n.prototype.arcTo=function(t,e,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,i,r,o),this},n.prototype.rect=function(t,e,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,i,r),this.addData(gn.R,t,e,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(gn.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&t.closePath(),this._xi=e,this._yi=i,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;!(this.data&&this.data.length===e)&&EL&&(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,r=this._len,o=0;o<e;o++)i+=t[o].len();EL&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i));for(var o=0;o<e;o++)for(var a=t[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},n.prototype.addData=function(t,e,i,r,o,a,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,EL&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){ks[0]=ks[1]=Ns[0]=Ns[1]=Number.MAX_VALUE,T0[0]=T0[1]=Ps[0]=Ps[1]=-Number.MAX_VALUE;var t=this.data,e=0,i=0,r=0,o=0,a;for(a=0;a<this._len;){var s=t[a++],l=a===1;switch(l&&(e=t[a],i=t[a+1],r=e,o=i),s){case gn.M:e=r=t[a++],i=o=t[a++],Ns[0]=r,Ns[1]=o,Ps[0]=r,Ps[1]=o;break;case gn.L:wL(e,i,t[a],t[a+1],Ns,Ps),e=t[a++],i=t[a++];break;case gn.C:AJ(e,i,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],Ns,Ps),e=t[a++],i=t[a++];break;case gn.Q:zJ(e,i,t[a++],t[a++],t[a],t[a+1],Ns,Ps),e=t[a++],i=t[a++];break;case gn.A:var c=t[a++],u=t[a++],d=t[a++],f=t[a++],p=t[a++],v=t[a++]+p;a+=1;var _=!t[a++];l&&(r=j3(p)*d+c,o=G3(p)*f+u),kJ(c,u,d,f,p,v,_,Ns,Ps),e=j3(v)*d+c,i=G3(v)*f+u;break;case gn.R:r=e=t[a++],o=i=t[a++];var b=t[a++],C=t[a++];wL(r,o,r+b,o+C,Ns,Ps);break;case gn.Z:e=r,i=o;break}Ha(ks,ks,Ns),ja(T0,T0,Ps)}return a===0&&(ks[0]=ks[1]=T0[0]=T0[1]=0),new Ke(ks[0],ks[1],T0[0]-ks[0],T0[1]-ks[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,d=0,f=0;f<e;){var p=t[f++],v=f===1;v&&(o=t[f],a=t[f+1],s=o,l=a);var _=-1;switch(p){case gn.M:o=s=t[f++],a=l=t[f++];break;case gn.L:{var b=t[f++],C=t[f++],w=b-o,E=C-a;(Z2(w)>i||Z2(E)>r||f===e-1)&&(_=Math.sqrt(w*w+E*E),o=b,a=C);break}case gn.C:{var D=t[f++],L=t[f++],b=t[f++],C=t[f++],z=t[f++],R=t[f++];_=bK(o,a,D,L,b,C,z,R,10),o=z,a=R;break}case gn.Q:{var D=t[f++],L=t[f++],b=t[f++],C=t[f++];_=SK(o,a,D,L,b,C,10),o=b,a=C;break}case gn.A:var H=t[f++],W=t[f++],$=t[f++],G=t[f++],Z=t[f++],te=t[f++],re=te+Z;f+=1,v&&(s=j3(Z)*$+H,l=G3(Z)*G+W),_=TL($,G)*ML(E0,Math.abs(te)),o=j3(re)*$+H,a=G3(re)*G+W;break;case gn.R:{s=o=t[f++],l=a=t[f++];var ce=t[f++],ne=t[f++];_=ce*2+ne*2;break}case gn.Z:{var w=s-o,E=l-a;_=Math.sqrt(w*w+E*E),o=s,a=l;break}}_>=0&&(c[d++]=_,u+=_)}return this._pathLen=u,u},n.prototype.rebuildPath=function(t,e){var i=this.data,r=this._ux,o=this._uy,a=this._len,s,l,c,u,d,f,p=e<1,v,_,b=0,C=0,w,E=0,D,L;if(!(p&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,_=this._pathLen,w=e*_,!w)))e:for(var z=0;z<a;){var R=i[z++],H=z===1;switch(H&&(c=i[z],u=i[z+1],s=c,l=u),R!==gn.L&&E>0&&(t.lineTo(D,L),E=0),R){case gn.M:s=c=i[z++],l=u=i[z++],t.moveTo(c,u);break;case gn.L:{d=i[z++],f=i[z++];var W=Z2(d-c),$=Z2(f-u);if(W>r||$>o){if(p){var G=v[C++];if(b+G>w){var Z=(w-b)/G;t.lineTo(c*(1-Z)+d*Z,u*(1-Z)+f*Z);break e}b+=G}t.lineTo(d,f),c=d,u=f,E=0}else{var te=W*W+$*$;te>E&&(D=d,L=f,E=te)}break}case gn.C:{var re=i[z++],ce=i[z++],ne=i[z++],he=i[z++],oe=i[z++],ve=i[z++];if(p){var G=v[C++];if(b+G>w){var Z=(w-b)/G;Ru(c,re,ne,oe,Z,U3),Ru(u,ce,he,ve,Z,H3),t.bezierCurveTo(U3[1],H3[1],U3[2],H3[2],U3[3],H3[3]);break e}b+=G}t.bezierCurveTo(re,ce,ne,he,oe,ve),c=oe,u=ve;break}case gn.Q:{var re=i[z++],ce=i[z++],ne=i[z++],he=i[z++];if(p){var G=v[C++];if(b+G>w){var Z=(w-b)/G;Fu(c,re,ne,Z,U3),Fu(u,ce,he,Z,H3),t.quadraticCurveTo(U3[1],H3[1],U3[2],H3[2]);break e}b+=G}t.quadraticCurveTo(re,ce,ne,he),c=ne,u=he;break}case gn.A:var Ee=i[z++],Ge=i[z++],Ye=i[z++],Rt=i[z++],Xe=i[z++],Jt=i[z++],Mr=i[z++],vn=!i[z++],Qi=Ye>Rt?Ye:Rt,xn=Z2(Ye-Rt)>.001,zn=Xe+Jt,rt=!1;if(p){var G=v[C++];b+G>w&&(zn=Xe+Jt*(w-b)/G,rt=!0),b+=G}if(xn&&t.ellipse?t.ellipse(Ee,Ge,Ye,Rt,Mr,Xe,zn,vn):t.arc(Ee,Ge,Qi,Xe,zn,vn),rt)break e;H&&(s=j3(Xe)*Ye+Ee,l=G3(Xe)*Rt+Ge),c=j3(zn)*Ye+Ee,u=G3(zn)*Rt+Ge;break;case gn.R:s=c=i[z],l=u=i[z+1],d=i[z++],f=i[z++];var Ft=i[z++],Ws=i[z++];if(p){var G=v[C++];if(b+G>w){var yn=w-b;t.moveTo(d,f),t.lineTo(d+ML(yn,Ft),f),yn-=Ft,yn>0&&t.lineTo(d+Ft,f+ML(yn,Ws)),yn-=Ws,yn>0&&t.lineTo(d+TL(Ft-yn,0),f+Ws),yn-=Ft,yn>0&&t.lineTo(d,f+TL(Ws-yn,0));break e}b+=G}t.rect(d,f,Ft,Ws);break;case gn.Z:if(p){var G=v[C++];if(b+G>w){var Z=(w-b)/G;t.lineTo(c*(1-Z)+s*Z,u*(1-Z)+l*Z);break e}b+=G}t.closePath(),c=s,u=l}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=gn,n.initDefaultProps=(function(){var t=n.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),n})(),fa=JDe;function W3(n,t,e,i,r,o,a){if(r===0)return!1;var s=r,l=0,c=n;if(a>t+s&&a>i+s||a<t-s&&a<i-s||o>n+s&&o>e+s||o<n-s&&o<e-s)return!1;if(n!==e)l=(t-i)/(n-e),c=(n*i-e*t)/(n-e);else return Math.abs(o-n)<=s/2;var u=l*o-a+c,d=u*u/(l*l+1);return d<=s/2*s/2}function NJ(n,t,e,i,r,o,a,s,l,c,u){if(l===0)return!1;var d=l;if(u>t+d&&u>i+d&&u>o+d&&u>s+d||u<t-d&&u<i-d&&u<o-d&&u<s-d||c>n+d&&c>e+d&&c>r+d&&c>a+d||c<n-d&&c<e-d&&c<r-d&&c<a-d)return!1;var f=_K(n,t,e,i,r,o,a,s,c,u,null);return f<=d/2}function PJ(n,t,e,i,r,o,a,s,l){if(a===0)return!1;var c=a;if(l>t+c&&l>i+c&&l>o+c||l<t-c&&l<i-c&&l<o-c||s>n+c&&s>e+c&&s>r+c||s<n-c&&s<e-c&&s<r-c)return!1;var u=CK(n,t,e,i,r,o,s,l,null);return u<=c/2}var OJ=Math.PI*2;function ep(n){return n%=OJ,n<0&&(n+=OJ),n}var tp=Math.PI*2;function RJ(n,t,e,i,r,o,a,s,l){if(a===0)return!1;var c=a;s-=n,l-=t;var u=Math.sqrt(s*s+l*l);if(u-c>e||u+c<e)return!1;if(Math.abs(i-r)%tp<1e-4)return!0;if(o){var d=i;i=ep(r),r=ep(d)}else i=ep(i),r=ep(r);i>r&&(r+=tp);var f=Math.atan2(l,s);return f<0&&(f+=tp),f>=i&&f<=r||f+tp>=i&&f+tp<=r}function Ka(n,t,e,i,r,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var a=(o-t)/(i-t),s=i<t?1:-1;(a===1||a===0)&&(s=i<t?.5:-.5);var l=a*(e-n)+n;return l===r?1/0:l>r?s:0}var D0=fa.CMD,q3=Math.PI*2,rIe=1e-4;function oIe(n,t){return Math.abs(n-t)<rIe}var _o=[-1,-1,-1],Ja=[-1,-1];function aIe(){var n=Ja[0];Ja[0]=Ja[1],Ja[1]=n}function sIe(n,t,e,i,r,o,a,s,l,c){if(c>t&&c>i&&c>o&&c>s||c<t&&c<i&&c<o&&c<s)return 0;var u=M3(t,i,o,s,c,_o);if(u===0)return 0;for(var d=0,f=-1,p=void 0,v=void 0,_=0;_<u;_++){var b=_o[_],C=b===0||b===1?.5:1,w=ni(n,e,r,a,b);w<l||(f<0&&(f=vy(t,i,o,s,Ja),Ja[1]<Ja[0]&&f>1&&aIe(),p=ni(t,i,o,s,Ja[0]),f>1&&(v=ni(t,i,o,s,Ja[1]))),f===2?b<Ja[0]?d+=p<t?C:-C:b<Ja[1]?d+=v<p?C:-C:d+=s<v?C:-C:b<Ja[0]?d+=p<t?C:-C:d+=s<p?C:-C)}return d}function lIe(n,t,e,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var l=xK(t,i,o,s,_o);if(l===0)return 0;var c=yy(t,i,o);if(c>=0&&c<=1){for(var u=0,d=Xi(t,i,o,c),f=0;f<l;f++){var p=_o[f]===0||_o[f]===1?.5:1,v=Xi(n,e,r,_o[f]);v<a||(_o[f]<c?u+=d<t?p:-p:u+=o<d?p:-p)}return u}else{var p=_o[0]===0||_o[0]===1?.5:1,v=Xi(n,e,r,_o[0]);return v<a?0:o<t?p:-p}}function cIe(n,t,e,i,r,o,a,s){if(s-=t,s>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);_o[0]=-l,_o[1]=l;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c>=q3-1e-4){i=0,r=q3;var u=o?1:-1;return a>=_o[0]+n&&a<=_o[1]+n?u:0}if(i>r){var d=i;i=r,r=d}i<0&&(i+=q3,r+=q3);for(var f=0,p=0;p<2;p++){var v=_o[p];if(v+n>a){var _=Math.atan2(s,v),u=o?1:-1;_<0&&(_=q3+_),(_>=i&&_<=r||_+q3>=i&&_+q3<=r)&&(_>Math.PI/2&&_<Math.PI*1.5&&(u=-u),f+=u)}}return f}function FJ(n,t,e,i,r){for(var o=n.data,a=n.len(),s=0,l=0,c=0,u=0,d=0,f,p,v=0;v<a;){var _=o[v++],b=v===1;switch(_===D0.M&&v>1&&(e||(s+=Ka(l,c,u,d,i,r))),b&&(l=o[v],c=o[v+1],u=l,d=c),_){case D0.M:u=o[v++],d=o[v++],l=u,c=d;break;case D0.L:if(e){if(W3(l,c,o[v],o[v+1],t,i,r))return!0}else s+=Ka(l,c,o[v],o[v+1],i,r)||0;l=o[v++],c=o[v++];break;case D0.C:if(e){if(NJ(l,c,o[v++],o[v++],o[v++],o[v++],o[v],o[v+1],t,i,r))return!0}else s+=sIe(l,c,o[v++],o[v++],o[v++],o[v++],o[v],o[v+1],i,r)||0;l=o[v++],c=o[v++];break;case D0.Q:if(e){if(PJ(l,c,o[v++],o[v++],o[v],o[v+1],t,i,r))return!0}else s+=lIe(l,c,o[v++],o[v++],o[v],o[v+1],i,r)||0;l=o[v++],c=o[v++];break;case D0.A:var C=o[v++],w=o[v++],E=o[v++],D=o[v++],L=o[v++],z=o[v++];v+=1;var R=!!(1-o[v++]);f=Math.cos(L)*E+C,p=Math.sin(L)*D+w,b?(u=f,d=p):s+=Ka(l,c,f,p,i,r);var H=(i-C)*D/E+C;if(e){if(RJ(C,w,D,L,L+z,R,t,H,r))return!0}else s+=cIe(C,w,D,L,L+z,R,H,r);l=Math.cos(L+z)*E+C,c=Math.sin(L+z)*D+w;break;case D0.R:u=l=o[v++],d=c=o[v++];var W=o[v++],$=o[v++];if(f=u+W,p=d+$,e){if(W3(u,d,f,d,t,i,r)||W3(f,d,f,p,t,i,r)||W3(f,p,u,p,t,i,r)||W3(u,p,u,d,t,i,r))return!0}else s+=Ka(f,d,f,p,i,r),s+=Ka(u,p,u,d,i,r);break;case D0.Z:if(e){if(W3(l,c,u,d,t,i,r))return!0}else s+=Ka(l,c,u,d,i,r);l=u,c=d;break}}return!e&&!oIe(c,d)&&(s+=Ka(l,c,u,d,i,r)||0),s!==0}function BJ(n,t,e){return FJ(n,0,!1,t,e)}function VJ(n,t,e,i){return FJ(n,t,!0,e,i)}var AL=Ne({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},As),dIe={style:Ne({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},B3.style)},LL=z3.concat(["invisible","culling","z","z2","zlevel","parent"]),fIe=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(){var e=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new t;r.buildPath===t.prototype.buildPath&&(r.buildPath=function(l){e.buildPath(l,e.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<LL.length;++s)r[LL[s]]=this[LL[s]];r.__dirty|=Ri}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var i=Lt(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<i.length;o++){var a=i[o],s=e[a];a==="style"?this.style?fe(this.style,s):this.useStyle(s):a==="shape"?fe(this.shape,s):n.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(_e(e)){var i=E3(e,0);return i>.5?W8:i>.2?jK:q8}else if(e)return q8}return W8},t.prototype.getInsideTextStroke=function(e){var i=this.style.fill;if(_e(i)){var r=this.__zr,o=!!(r&&r.isDarkMode()),a=E3(e,0)<G8;if(o===a)return i}},t.prototype.buildPath=function(e,i,r){},t.prototype.pathUpdated=function(){this.__dirty&=~y0},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new fa(!1)},t.prototype.hasStroke=function(){var e=this.style,i=e.stroke;return!(i==null||i==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,i=e.fill;return i!=null&&i!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,i=this.style,r=!e;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&y0)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),e=a.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||r){s.copy(e);var l=i.strokeNoScale?this.getLineScale():1,c=i.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return e},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i),o=this.getBoundingRect(),a=this.style;if(e=r[0],i=r[1],o.contain(e,i)){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),VJ(s,l/c,e,i)))return!0}if(this.hasFill())return BJ(s,e,i)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=y0,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,i){e==="shape"?this.setShape(i):n.prototype.attrKV.call(this,e,i)},t.prototype.setShape=function(e,i){var r=this.shape;return r||(r=this.shape={}),typeof e=="string"?r[e]=i:fe(r,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&y0)},t.prototype.createStyle=function(e){return V2(AL,e)},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.shape&&!i.shape&&(i.shape=fe({},this.shape))},t.prototype._applyStateObj=function(e,i,r,o,a,s){n.prototype._applyStateObj.call(this,e,i,r,o,a,s);var l=!(i&&o),c;if(i&&i.shape?a?o?c=i.shape:(c=fe({},r.shape),fe(c,i.shape)):(c=fe({},o?this.shape:r.shape),fe(c,i.shape)):l&&(c=r.shape),c)if(a){this.shape=fe({},this.shape);for(var u={},d=Lt(c),f=0;f<d.length;f++){var p=d[f];typeof c[p]=="object"?this.shape[p]=c[p]:u[p]=c[p]}this._transitionState(e,{shape:u},s)}else this.shape=c,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var i=n.prototype._mergeStates.call(this,e),r,o=0;o<e.length;o++){var a=e[o];a.shape&&(r=r||{},this._mergeStyle(r,a.shape))}return r&&(i.shape=r),i},t.prototype.getAnimationStyleProps=function(){return dIe},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var i=(function(o){Je(a,o);function a(s){var l=o.call(this,s)||this;return e.init&&e.init.call(l,s),l}return a.prototype.getDefaultStyle=function(){return ke(e.style)},a.prototype.getDefaultShape=function(){return ke(e.shape)},a})(t);for(var r in e)typeof e[r]=="function"&&(i.prototype[r]=e[r]);return i},t.initDefaultProps=(function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Ri|w3|y0})(),t})(zs),ct=fIe;var pIe=Ne({strokeFirst:!0,font:I1,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},AL),UJ=(function(n){Je(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var e=this.style,i=e.stroke;return i!=null&&i!=="none"&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style,i=e.fill;return i!=null&&i!=="none"},t.prototype.createStyle=function(e){return V2(pIe,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var i=e.text;i!=null?i+="":i="";var r=C0(i,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},t.initDefaultProps=(function(){var e=t.prototype;e.dirtyRectTolerance=10})(),t})(zs);UJ.prototype.type="tspan";var np=UJ;var mIe=Ne({x:0,y:0},As),hIe={style:Ne({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},B3.style)};function gIe(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var HJ=(function(n){Je(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return V2(mIe,e)},t.prototype._getSize=function(e){var i=this.style,r=i[e];if(r!=null)return r;var o=gIe(i.image)?i.image:this.__image;if(!o)return 0;var a=e==="width"?"height":"width",s=i[a];return s==null?o[e]:o[e]/o[a]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return hIe},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Ke(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t})(zs);HJ.prototype.type="image";var Wo=HJ;function jJ(n,t){var e=t.x,i=t.y,r=t.width,o=t.height,a=t.r,s,l,c,u;r<0&&(e=e+r,r=-r),o<0&&(i=i+o,o=-o),typeof a=="number"?s=l=c=u=a:a instanceof Array?a.length===1?s=l=c=u=a[0]:a.length===2?(s=c=a[0],l=u=a[1]):a.length===3?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=0;var d;s+l>r&&(d=s+l,s*=r/d,l*=r/d),c+u>r&&(d=c+u,c*=r/d,u*=r/d),l+c>o&&(d=l+c,l*=o/d,c*=o/d),s+u>o&&(d=s+u,s*=o/d,u*=o/d),n.moveTo(e+s,i),n.lineTo(e+r-l,i),l!==0&&n.arc(e+r-l,i+l,l,-Math.PI/2,0),n.lineTo(e+r,i+o-c),c!==0&&n.arc(e+r-c,i+o-c,c,0,Math.PI/2),n.lineTo(e+u,i+o),u!==0&&n.arc(e+u,i+o-u,u,Math.PI/2,Math.PI),n.lineTo(e,i+s),s!==0&&n.arc(e+s,i+s,s,Math.PI,Math.PI*1.5)}var Xu=Math.round;function Uy(n,t,e){if(t){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var s=e&&e.lineWidth;return s&&(Xu(i*2)===Xu(r*2)&&(n.x1=n.x2=I0(i,s,!0)),Xu(o*2)===Xu(a*2)&&(n.y1=n.y2=I0(o,s,!0))),n}}function Hy(n,t,e){if(t){var i=t.x,r=t.y,o=t.width,a=t.height;n.x=i,n.y=r,n.width=o,n.height=a;var s=e&&e.lineWidth;return s&&(n.x=I0(i,s,!0),n.y=I0(r,s,!0),n.width=Math.max(I0(i+o,s,!1)-n.x,o===0?0:1),n.height=Math.max(I0(r+a,s,!1)-n.y,a===0?0:1)),n}}function I0(n,t,e){if(!t)return n;var i=Xu(n*2);return(i+Xu(t))%2===0?i/2:(i+(e?1:-1))/2}var _Ie=(function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n})();var bIe={},GJ=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new _Ie},t.prototype.buildPath=function(e,i){var r,o,a,s;if(this.subPixelOptimize){var l=Hy(bIe,i,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,a=i.width,s=i.height;i.r?jJ(e,i):e.rect(r,o,a,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(ct);GJ.prototype.type="rect";var Tt=GJ;var WJ={fill:"#000"},qJ=2,xIe={style:Ne({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},B3.style)},eee=(function(n){Je(t,n);function t(e){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=WJ,i.attr(e),i}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var i=this.innerTransformable;return i?i.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,TIe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Ke(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var s=i[a],l=s.getBoundingRect(),c=s.getLocalTransform(r);c?(e.copy(l),e.applyTransform(c),o=o||e.clone(),o.union(e)):(o=o||l.clone(),o.union(l))}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||WJ},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,i){if(!i)return e;var r=i.rich,o=e.rich||r&&{};return fe(e,i),r&&o?(this._mergeRich(o,r),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,i){for(var r=Lt(i),o=0;o<r.length;o++){var a=r[o];e[a]=e[a]||{},fe(e[a],i[a])}},t.prototype.getAnimationStyleProps=function(){return xIe},t.prototype._getOrCreateChild=function(e){var i=this._children[this._childCursor];return(!i||!(i instanceof e))&&(i=new e),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},t.prototype._updatePlainTexts=function(){var e=this.style,i=e.font||I1,r=e.padding,o=JJ(e),a=MJ(o,e),s=zL(e),l=!!e.backgroundColor,c=a.outerHeight,u=a.outerWidth,d=a.contentWidth,f=a.lines,p=a.lineHeight,v=this._defaultStyle;this.isTruncated=!!a.isTruncated;var _=e.x||0,b=e.y||0,C=e.align||v.align||"left",w=e.verticalAlign||v.verticalAlign||"top",E=_,D=k3(b,a.contentHeight,w);if(s||r){var L=Uu(_,u,C),z=k3(b,c,w);s&&this._renderBackground(e,e,L,z,u,c)}D+=p/2,r&&(E=KJ(_,C,r),w==="top"?D+=r[0]:w==="bottom"&&(D-=r[2]));for(var R=0,H=!1,W=QJ("fill"in e?e.fill:(H=!0,v.fill)),$=XJ("stroke"in e?e.stroke:!l&&(!v.autoStroke||H)?(R=qJ,v.stroke):null),G=e.textShadowBlur>0,Z=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll"),te=a.calculatedLineHeight,re=0;re<f.length;re++){var ce=this._getOrCreateChild(np),ne=ce.createStyle();ce.useStyle(ne),ne.text=f[re],ne.x=E,ne.y=D,C&&(ne.textAlign=C),ne.textBaseline="middle",ne.opacity=e.opacity,ne.strokeFirst=!0,G&&(ne.shadowBlur=e.textShadowBlur||0,ne.shadowColor=e.textShadowColor||"transparent",ne.shadowOffsetX=e.textShadowOffsetX||0,ne.shadowOffsetY=e.textShadowOffsetY||0),ne.stroke=$,ne.fill=W,$&&(ne.lineWidth=e.lineWidth||R,ne.lineDash=e.lineDash,ne.lineDashOffset=e.lineDashOffset||0),ne.font=i,YJ(ne,e),D+=p,Z&&ce.setBoundingRect(new Ke(Uu(ne.x,d,ne.textAlign),k3(ne.y,te,ne.textBaseline),d,te))}},t.prototype._updateRichTexts=function(){var e=this.style,i=JJ(e),r=TJ(i,e),o=r.width,a=r.outerWidth,s=r.outerHeight,l=e.padding,c=e.x||0,u=e.y||0,d=this._defaultStyle,f=e.align||d.align,p=e.verticalAlign||d.verticalAlign;this.isTruncated=!!r.isTruncated;var v=Uu(c,a,f),_=k3(u,s,p),b=v,C=_;l&&(b+=l[3],C+=l[0]);var w=b+o;zL(e)&&this._renderBackground(e,e,v,_,a,s);for(var E=!!e.backgroundColor,D=0;D<r.lines.length;D++){for(var L=r.lines[D],z=L.tokens,R=z.length,H=L.lineHeight,W=L.width,$=0,G=b,Z=w,te=R-1,re=void 0;$<R&&(re=z[$],!re.align||re.align==="left");)this._placeToken(re,e,H,C,G,"left",E),W-=re.width,G+=re.width,$++;for(;te>=0&&(re=z[te],re.align==="right");)this._placeToken(re,e,H,C,Z,"right",E),W-=re.width,Z-=re.width,te--;for(G+=(o-(G-b)-(w-Z)-W)/2;$<=te;)re=z[$],this._placeToken(re,e,H,C,G+re.width/2,"center",E),G+=re.width,$++;C+=H}},t.prototype._placeToken=function(e,i,r,o,a,s,l){var c=i.rich[e.styleName]||{};c.text=e.text;var u=e.verticalAlign,d=o+r/2;u==="top"?d=o+e.height/2:u==="bottom"&&(d=o+r-e.height/2);var f=!e.isLineHolder&&zL(c);f&&this._renderBackground(c,i,s==="right"?a-e.width:s==="center"?a-e.width/2:a,d-e.height/2,e.width,e.height);var p=!!c.backgroundColor,v=e.textPadding;v&&(a=KJ(a,s,v),d-=e.height/2-v[0]-e.innerHeight/2);var _=this._getOrCreateChild(np),b=_.createStyle();_.useStyle(b);var C=this._defaultStyle,w=!1,E=0,D=QJ("fill"in c?c.fill:"fill"in i?i.fill:(w=!0,C.fill)),L=XJ("stroke"in c?c.stroke:"stroke"in i?i.stroke:!p&&!l&&(!C.autoStroke||w)?(E=qJ,C.stroke):null),z=c.textShadowBlur>0||i.textShadowBlur>0;b.text=e.text,b.x=a,b.y=d,z&&(b.shadowBlur=c.textShadowBlur||i.textShadowBlur||0,b.shadowColor=c.textShadowColor||i.textShadowColor||"transparent",b.shadowOffsetX=c.textShadowOffsetX||i.textShadowOffsetX||0,b.shadowOffsetY=c.textShadowOffsetY||i.textShadowOffsetY||0),b.textAlign=s,b.textBaseline="middle",b.font=e.font||I1,b.opacity=g0(c.opacity,i.opacity,1),YJ(b,c),L&&(b.lineWidth=g0(c.lineWidth,i.lineWidth,E),b.lineDash=nt(c.lineDash,i.lineDash),b.lineDashOffset=i.lineDashOffset||0,b.stroke=L),D&&(b.fill=D);var R=e.contentWidth,H=e.contentHeight;_.setBoundingRect(new Ke(Uu(b.x,R,b.textAlign),k3(b.y,H,b.textBaseline),R,H))},t.prototype._renderBackground=function(e,i,r,o,a,s){var l=e.backgroundColor,c=e.borderWidth,u=e.borderColor,d=l&&l.image,f=l&&!d,p=e.borderRadius,v=this,_,b;if(f||e.lineHeight||c&&u){_=this._getOrCreateChild(Tt),_.useStyle(_.createStyle()),_.style.fill=null;var C=_.shape;C.x=r,C.y=o,C.width=a,C.height=s,C.r=p,_.dirtyShape()}if(f){var w=_.style;w.fill=l||null,w.fillOpacity=nt(e.fillOpacity,1)}else if(d){b=this._getOrCreateChild(Wo),b.onload=function(){v.dirtyStyle()};var E=b.style;E.image=l.image,E.x=r,E.y=o,E.width=a,E.height=s}if(c&&u){var w=_.style;w.lineWidth=c,w.stroke=u,w.strokeOpacity=nt(e.strokeOpacity,1),w.lineDash=e.borderDash,w.lineDashOffset=e.borderDashOffset||0,_.strokeContainThreshold=0,_.hasFill()&&_.hasStroke()&&(w.strokeFirst=!0,w.lineWidth*=2)}var D=(_||b).style;D.shadowBlur=e.shadowBlur||0,D.shadowColor=e.shadowColor||"transparent",D.shadowOffsetX=e.shadowOffsetX||0,D.shadowOffsetY=e.shadowOffsetY||0,D.opacity=g0(e.opacity,i.opacity,1)},t.makeFont=function(e){var i="";return MIe(e)&&(i=[e.fontStyle,e.fontWeight,wIe(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),i&&ur(i)||e.textFont||e.font},t})(zs),CIe={left:!0,right:1,center:1},SIe={top:1,bottom:1,middle:1},$J=["fontStyle","fontWeight","fontSize","fontFamily"];function wIe(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?Qv+"px":n+"px"}function YJ(n,t){for(var e=0;e<$J.length;e++){var i=$J[e],r=t[i];r!=null&&(n[i]=r)}}function MIe(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function TIe(n){return ZJ(n),O(n.rich,ZJ),n}function ZJ(n){if(n){n.font=eee.makeFont(n);var t=n.align;t==="middle"&&(t="center"),n.align=t==null||CIe[t]?t:"left";var e=n.verticalAlign;e==="center"&&(e="middle"),n.verticalAlign=e==null||SIe[e]?e:"top";var i=n.padding;i&&(n.padding=D8(n.padding))}}function XJ(n,t){return n==null||t<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function QJ(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function KJ(n,t,e){return t==="right"?n-e[1]:t==="center"?n+e[3]/2-e[1]/2:n+e[3]}function JJ(n){var t=n.text;return t!=null&&(t+=""),t}function zL(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var qt=eee;var yt=Ot(),tee=function(n,t,e,i){if(i){var r=yt(i);r.dataIndex=e,r.dataType=t,r.seriesIndex=n,r.ssrType="chart",i.type==="group"&&i.traverse(function(o){var a=yt(o);a.seriesIndex=n,a.dataIndex=e,a.dataType=t,a.ssrType="chart"})}};var nee=1,iee={},lee=Ot(),PL=Ot(),OL=0,ip=1,rp=2,e1=["emphasis","blur","select"],RL=["normal","emphasis","blur","select"],EIe=10,DIe=9,L0="highlight",op="downplay",Ku="select",ap="unselect",Ju="toggleSelect";function Qu(n){return n!=null&&n!=="none"}function Gy(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function cee(n){Gy(n,"emphasis",rp)}function uee(n){n.hoverState===rp&&Gy(n,"normal",OL)}function FL(n){Gy(n,"blur",ip)}function dee(n){n.hoverState===ip&&Gy(n,"normal",OL)}function IIe(n){n.selected=!0}function LIe(n){n.selected=!1}function ree(n,t,e){t(n,e)}function X2(n,t,e){ree(n,t,e),n.isGroup&&n.traverse(function(i){ree(i,t,e)})}function BL(n,t){switch(t){case"emphasis":n.hoverState=rp;break;case"normal":n.hoverState=OL;break;case"blur":n.hoverState=ip;break;case"select":n.selected=!0}}function AIe(n,t,e,i){for(var r=n.style,o={},a=0;a<t.length;a++){var s=t[a],l=r[s];o[s]=l??(i&&i[s])}for(var a=0;a<n.animators.length;a++){var c=n.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(e)<0&&c.targetName==="style"&&c.saveTo(o,t)}return o}function zIe(n,t,e,i){var r=e&&qe(e,"select")>=0,o=!1;if(n instanceof ct){var a=lee(n),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(Qu(s)||Qu(l)){i=i||{};var c=i.style||{};c.fill==="inherit"?(o=!0,i=fe({},i),c=fe({},c),c.fill=s):!Qu(c.fill)&&Qu(s)?(o=!0,i=fe({},i),c=fe({},c),c.fill=Cy(s)):!Qu(c.stroke)&&Qu(l)&&(o||(i=fe({},i),c=fe({},c)),c.stroke=Cy(l)),i.style=c}}if(i&&i.z2==null){o||(i=fe({},i));var u=n.z2EmphasisLift;i.z2=n.z2+(u??EIe)}return i}function kIe(n,t,e){if(e&&e.z2==null){e=fe({},e);var i=n.z2SelectLift;e.z2=n.z2+(i??DIe)}return e}function NIe(n,t,e){var i=qe(n.currentStates,t)>=0,r=n.style.opacity,o=i?null:AIe(n,["opacity"],t,{opacity:1});e=e||{};var a=e.style||{};return a.opacity==null&&(e=fe({},e),a=fe({opacity:i?r:o.opacity*.1},a),e.style=a),e}function kL(n,t){var e=this.states[n];if(this.style){if(n==="emphasis")return zIe(this,n,t,e);if(n==="blur")return NIe(this,n,e);if(n==="select")return kIe(this,n,e)}return e}function PIe(n){n.stateProxy=kL;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=kL),e&&(e.stateProxy=kL)}function oee(n,t){!pee(n,t)&&!n.__highByOuter&&X2(n,cee)}function aee(n,t){!pee(n,t)&&!n.__highByOuter&&X2(n,uee)}function Os(n,t){n.__highByOuter|=1<<(t||0),X2(n,cee)}function Rs(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&X2(n,uee)}function fee(n){X2(n,FL)}function VL(n){X2(n,dee)}function UL(n){X2(n,IIe)}function HL(n){X2(n,LIe)}function pee(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function jL(n){var t=n.getModel(),e=[],i=[];t.eachComponent(function(r,o){var a=PL(o),s=r==="series",l=s?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!s&&i.push(l),a.isBlured&&(l.group.traverse(function(c){dee(c)}),s&&e.push(o)),a.isBlured=!1}),O(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(e,!1,t)})}function NL(n,t,e,i){var r=i.getModel();e=e||"coordinateSystem";function o(c,u){for(var d=0;d<u.length;d++){var f=c.getItemGraphicEl(u[d]);f&&VL(f)}}if(n!=null&&!(!t||t==="none")){var a=r.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(c){var u=a===c,d=c.coordinateSystem;d&&d.master&&(d=d.master);var f=d&&s?d===s:u;if(!(e==="series"&&!u||e==="coordinateSystem"&&!f||t==="series"&&u)){var p=i.getViewOfSeriesModel(c);if(p.group.traverse(function(b){b.__highByOuter&&u&&t==="self"||FL(b)}),wi(t))o(c.getData(),t);else if(Se(t))for(var v=Lt(t),_=0;_<v.length;_++)o(c.getData(v[_]),t[v[_]]);l.push(c),PL(c).isBlured=!0}}),r.eachComponent(function(c,u){if(c!=="series"){var d=i.getViewOfComponentModel(u);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,r)}})}}function jy(n,t,e){if(!(n==null||t==null)){var i=e.getModel().getComponent(n,t);if(i){PL(i).isBlured=!0;var r=e.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(o){FL(o)})}}}function mee(n,t,e){var i=n.seriesIndex,r=n.getData(t.dataType);if(r){var o=Za(r,t);o=(pe(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l<s;)a=r.getItemGraphicEl(l++);if(a){var c=yt(a);NL(i,c.focus,c.blurScope,e)}else{var u=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);u!=null&&NL(i,u,d,e)}}}function Wy(n,t,e,i){var r={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||t==null||e==null)return r;var o=i.getModel().getComponent(n,t);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s=a.findHighDownDispatchers(e),l,c=0;c<s.length;c++)if(yt(s[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function hee(n,t,e){var i=yt(n),r=Wy(i.componentMainType,i.componentIndex,i.componentHighDownName,e),o=r.dispatchers,a=r.focusSelf;o?(a&&jy(i.componentMainType,i.componentIndex,e),O(o,function(s){return oee(s,t)})):(NL(i.seriesIndex,i.focus,i.blurScope,e),i.focus==="self"&&jy(i.componentMainType,i.componentIndex,e),oee(n,t))}function gee(n,t,e){jL(e);var i=yt(n),r=Wy(i.componentMainType,i.componentIndex,i.componentHighDownName,e).dispatchers;r?O(r,function(o){return aee(o,t)}):aee(n,t)}function vee(n,t,e){if(qy(t)){var i=t.dataType,r=n.getData(i),o=Za(r,t);pe(o)||(o=[o]),n[t.type===Ju?"toggleSelect":t.type===Ku?"select":"unselect"](o,i)}}function GL(n){var t=n.getAllData();O(t,function(e){var i=e.data,r=e.type;i.eachItemGraphicEl(function(o,a){n.isSelected(a,r)?UL(o):HL(o)})})}function yee(n){var t=[];return n.eachSeries(function(e){var i=e.getAllData();O(i,function(r){var o=r.data,a=r.type,s=e.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:e.seriesIndex};a!=null&&(l.dataType=a),t.push(l)}})}),t}function A0(n,t,e){_ee(n,!0),X2(n,PIe),RIe(n,t,e)}function OIe(n){_ee(n,!1)}function $3(n,t,e,i){i?OIe(n):A0(n,t,e)}function RIe(n,t,e){var i=yt(n);t!=null?(i.focus=t,i.blurScope=e):i.focus&&(i.focus=null)}var see=["emphasis","blur","select"],FIe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function sp(n,t,e,i){e=e||"itemStyle";for(var r=0;r<see.length;r++){var o=see[r],a=t.getModel([o,e]),s=n.ensureState(o);s.style=i?i(a):a[FIe[e]]()}}function _ee(n,t){var e=t===!1,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!e||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!e)}function lp(n){return!!(n&&n.__highDownDispatcher)}function bee(n){var t=iee[n];return t==null&&nee<=32&&(t=iee[n]=nee++),t}function qy(n){var t=n.type;return t===Ku||t===ap||t===Ju}function WL(n){var t=n.type;return t===L0||t===op}function xee(n){var t=lee(n);t.normalFill=n.style.fill,t.normalStroke=n.style.stroke;var e=n.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var si={};Ko(si,{Arc:()=>X3,BezierCurve:()=>mp,BoundingRect:()=>Ke,Circle:()=>Y3,CompoundPath:()=>Qy,Ellipse:()=>up,Group:()=>Pt,Image:()=>Wo,IncrementalDisplayable:()=>n_,Line:()=>pa,LinearGradient:()=>nd,OrientedBoundingRect:()=>id,Path:()=>ct,Point:()=>Kt,Polygon:()=>Q2,Polyline:()=>K2,RadialGradient:()=>Jy,Rect:()=>Tt,Ring:()=>pp,Sector:()=>Bs,Text:()=>qt,applyTransform:()=>t4,clipPointsByRect:()=>yp,clipRectByRect:()=>oA,createIcon:()=>el,extendPath:()=>tA,extendShape:()=>eA,getShapeClass:()=>nA,getTransform:()=>J2,groupTransition:()=>rA,initProps:()=>Yr,isElementRemoved:()=>J3,lineLineIntersect:()=>Xee,linePolygonIntersect:()=>yLe,makeImage:()=>gp,makePath:()=>od,mergePath:()=>iA,registerShape:()=>ma,removeElement:()=>rd,removeElementWithFadeOut:()=>hp,resizePath:()=>a_,setTooltipConfig:()=>z0,subPixelOptimize:()=>gLe,subPixelOptimizeLine:()=>e4,subPixelOptimizeRect:()=>hLe,transformDirection:()=>vp,traverseElements:()=>n4,updateProps:()=>pi});var ed=fa.CMD,BIe=[[],[],[]],Cee=Math.sqrt,VIe=Math.atan2;function qL(n,t){if(t){var e=n.data,i=n.len(),r,o,a,s,l,c,u=ed.M,d=ed.C,f=ed.L,p=ed.R,v=ed.A,_=ed.Q;for(a=0,s=0;a<i;){switch(r=e[a++],s=a,o=0,r){case u:o=1;break;case f:o=1;break;case d:o=3;break;case _:o=2;break;case v:var b=t[4],C=t[5],w=Cee(t[0]*t[0]+t[1]*t[1]),E=Cee(t[2]*t[2]+t[3]*t[3]),D=VIe(-t[1]/E,t[0]/w);e[a]*=w,e[a++]+=b,e[a]*=E,e[a++]+=C,e[a++]*=w,e[a++]*=E,e[a++]+=D,e[a++]+=D,a+=2,s=a;break;case p:c[0]=e[a++],c[1]=e[a++],Mi(c,c,t),e[s++]=c[0],e[s++]=c[1],c[0]+=e[a++],c[1]+=e[a++],Mi(c,c,t),e[s++]=c[0],e[s++]=c[1]}for(l=0;l<o;l++){var L=BIe[l];L[0]=e[a++],L[1]=e[a++],Mi(L,L,t),e[s++]=L[0],e[s++]=L[1]}}n.increaseVersion()}}var $L=Math.sqrt,$y=Math.sin,Yy=Math.cos,cp=Math.PI;function See(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function YL(n,t){return(n[0]*t[0]+n[1]*t[1])/(See(n)*See(t))}function wee(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(YL(n,t))}function Mee(n,t,e,i,r,o,a,s,l,c,u){var d=l*(cp/180),f=Yy(d)*(n-e)/2+$y(d)*(t-i)/2,p=-1*$y(d)*(n-e)/2+Yy(d)*(t-i)/2,v=f*f/(a*a)+p*p/(s*s);v>1&&(a*=$L(v),s*=$L(v));var _=(r===o?-1:1)*$L((a*a*(s*s)-a*a*(p*p)-s*s*(f*f))/(a*a*(p*p)+s*s*(f*f)))||0,b=_*a*p/s,C=_*-s*f/a,w=(n+e)/2+Yy(d)*b-$y(d)*C,E=(t+i)/2+$y(d)*b+Yy(d)*C,D=wee([1,0],[(f-b)/a,(p-C)/s]),L=[(f-b)/a,(p-C)/s],z=[(-1*f-b)/a,(-1*p-C)/s],R=wee(L,z);if(YL(L,z)<=-1&&(R=cp),YL(L,z)>=1&&(R=0),R<0){var H=Math.round(R/cp*1e6)/1e6;R=cp*2+H%2*cp}u.addData(c,w,E,a,s,D,R,d,o)}var UIe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,HIe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function jIe(n){var t=new fa;if(!n)return t;var e=0,i=0,r=e,o=i,a,s=fa.CMD,l=n.match(UIe);if(!l)return t;for(var c=0;c<l.length;c++){for(var u=l[c],d=u.charAt(0),f=void 0,p=u.match(HIe)||[],v=p.length,_=0;_<v;_++)p[_]=parseFloat(p[_]);for(var b=0;b<v;){var C=void 0,w=void 0,E=void 0,D=void 0,L=void 0,z=void 0,R=void 0,H=e,W=i,$=void 0,G=void 0;switch(d){case"l":e+=p[b++],i+=p[b++],f=s.L,t.addData(f,e,i);break;case"L":e=p[b++],i=p[b++],f=s.L,t.addData(f,e,i);break;case"m":e+=p[b++],i+=p[b++],f=s.M,t.addData(f,e,i),r=e,o=i,d="l";break;case"M":e=p[b++],i=p[b++],f=s.M,t.addData(f,e,i),r=e,o=i,d="L";break;case"h":e+=p[b++],f=s.L,t.addData(f,e,i);break;case"H":e=p[b++],f=s.L,t.addData(f,e,i);break;case"v":i+=p[b++],f=s.L,t.addData(f,e,i);break;case"V":i=p[b++],f=s.L,t.addData(f,e,i);break;case"C":f=s.C,t.addData(f,p[b++],p[b++],p[b++],p[b++],p[b++],p[b++]),e=p[b-2],i=p[b-1];break;case"c":f=s.C,t.addData(f,p[b++]+e,p[b++]+i,p[b++]+e,p[b++]+i,p[b++]+e,p[b++]+i),e+=p[b-2],i+=p[b-1];break;case"S":C=e,w=i,$=t.len(),G=t.data,a===s.C&&(C+=e-G[$-4],w+=i-G[$-3]),f=s.C,H=p[b++],W=p[b++],e=p[b++],i=p[b++],t.addData(f,C,w,H,W,e,i);break;case"s":C=e,w=i,$=t.len(),G=t.data,a===s.C&&(C+=e-G[$-4],w+=i-G[$-3]),f=s.C,H=e+p[b++],W=i+p[b++],e+=p[b++],i+=p[b++],t.addData(f,C,w,H,W,e,i);break;case"Q":H=p[b++],W=p[b++],e=p[b++],i=p[b++],f=s.Q,t.addData(f,H,W,e,i);break;case"q":H=p[b++]+e,W=p[b++]+i,e+=p[b++],i+=p[b++],f=s.Q,t.addData(f,H,W,e,i);break;case"T":C=e,w=i,$=t.len(),G=t.data,a===s.Q&&(C+=e-G[$-4],w+=i-G[$-3]),e=p[b++],i=p[b++],f=s.Q,t.addData(f,C,w,e,i);break;case"t":C=e,w=i,$=t.len(),G=t.data,a===s.Q&&(C+=e-G[$-4],w+=i-G[$-3]),e+=p[b++],i+=p[b++],f=s.Q,t.addData(f,C,w,e,i);break;case"A":E=p[b++],D=p[b++],L=p[b++],z=p[b++],R=p[b++],H=e,W=i,e=p[b++],i=p[b++],f=s.A,Mee(H,W,e,i,z,R,E,D,L,f,t);break;case"a":E=p[b++],D=p[b++],L=p[b++],z=p[b++],R=p[b++],H=e,W=i,e+=p[b++],i+=p[b++],f=s.A,Mee(H,W,e,i,z,R,E,D,L,f,t);break}}(d==="z"||d==="Z")&&(f=s.Z,t.addData(f),e=r,i=o),a=f}return t.toStatic(),t}var Tee=(function(n){Je(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t})(ct);function Eee(n){return n.setData!=null}function Dee(n,t){var e=jIe(n),i=fe({},t);return i.buildPath=function(r){if(Eee(r)){r.setData(e.data);var o=r.getContext();o&&r.rebuildPath(o,1)}else{var o=r;e.rebuildPath(o,1)}},i.applyTransform=function(r){qL(e,r),this.dirtyShape()},i}function Iee(n,t){return new Tee(Dee(n,t))}function Lee(n,t){var e=Dee(n,t),i=(function(r){Je(o,r);function o(a){var s=r.call(this,a)||this;return s.applyTransform=e.applyTransform,s.buildPath=e.buildPath,s}return o})(Tee);return i}function Aee(n,t){for(var e=[],i=n.length,r=0;r<i;r++){var o=n[r];e.push(o.getUpdatedPathProxy(!0))}var a=new ct(t);return a.createPathProxy(),a.buildPath=function(s){if(Eee(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},a}var WIe=(function(){function n(){this.cx=0,this.cy=0,this.r=0}return n})();var zee=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new WIe},t.prototype.buildPath=function(e,i){e.moveTo(i.cx+i.r,i.cy),e.arc(i.cx,i.cy,i.r,0,Math.PI*2)},t})(ct);zee.prototype.type="circle";var Y3=zee;var qIe=(function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n})();var kee=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new qIe},t.prototype.buildPath=function(e,i){var r=.5522848,o=i.cx,a=i.cy,s=i.rx,l=i.ry,c=s*r,u=l*r;e.moveTo(o-s,a),e.bezierCurveTo(o-s,a-u,o-c,a-l,o,a-l),e.bezierCurveTo(o+c,a-l,o+s,a-u,o+s,a),e.bezierCurveTo(o+s,a+u,o+c,a+l,o,a+l),e.bezierCurveTo(o-c,a+l,o-s,a+u,o-s,a),e.closePath()},t})(ct);kee.prototype.type="ellipse";var up=kee;var Pee=Math.PI,ZL=Pee*2,Z3=Math.sin,td=Math.cos,$Ie=Math.acos,$r=Math.atan2,Nee=Math.abs,fp=Math.sqrt,dp=Math.max,Fs=Math.min,k1=1e-4;function YIe(n,t,e,i,r,o,a,s){var l=e-n,c=i-t,u=a-r,d=s-o,f=d*l-u*c;if(!(f*f<k1))return f=(u*(t-o)-d*(n-r))/f,[n+f*l,t+f*c]}function Zy(n,t,e,i,r,o,a){var s=n-e,l=t-i,c=(a?o:-o)/fp(s*s+l*l),u=c*l,d=-c*s,f=n+u,p=t+d,v=e+u,_=i+d,b=(f+v)/2,C=(p+_)/2,w=v-f,E=_-p,D=w*w+E*E,L=r-o,z=f*_-v*p,R=(E<0?-1:1)*fp(dp(0,L*L*D-z*z)),H=(z*E-w*R)/D,W=(-z*w-E*R)/D,$=(z*E+w*R)/D,G=(-z*w+E*R)/D,Z=H-b,te=W-C,re=$-b,ce=G-C;return Z*Z+te*te>re*re+ce*ce&&(H=$,W=G),{cx:H,cy:W,x0:-u,y0:-d,x1:H*(r/L-1),y1:W*(r/L-1)}}function ZIe(n){var t;if(pe(n)){var e=n.length;if(!e)return n;e===1?t=[n[0],n[0],0,0]:e===2?t=[n[0],n[0],n[1],n[1]]:e===3?t=n.concat(n[2]):t=n}else t=[n,n,n,n];return t}function Oee(n,t){var e,i=dp(t.r,0),r=dp(t.r0||0,0),o=i>0,a=r>0;if(!(!o&&!a)){if(o||(i=r,r=0),r>i){var s=i;i=r,r=s}var l=t.startAngle,c=t.endAngle;if(!(isNaN(l)||isNaN(c))){var u=t.cx,d=t.cy,f=!!t.clockwise,p=Nee(c-l),v=p>ZL&&p%ZL;if(v>k1&&(p=v),!(i>k1))n.moveTo(u,d);else if(p>ZL-k1)n.moveTo(u+i*td(l),d+i*Z3(l)),n.arc(u,d,i,l,c,!f),r>k1&&(n.moveTo(u+r*td(c),d+r*Z3(c)),n.arc(u,d,r,c,l,f));else{var _=void 0,b=void 0,C=void 0,w=void 0,E=void 0,D=void 0,L=void 0,z=void 0,R=void 0,H=void 0,W=void 0,$=void 0,G=void 0,Z=void 0,te=void 0,re=void 0,ce=i*td(l),ne=i*Z3(l),he=r*td(c),oe=r*Z3(c),ve=p>k1;if(ve){var Ee=t.cornerRadius;Ee&&(e=ZIe(Ee),_=e[0],b=e[1],C=e[2],w=e[3]);var Ge=Nee(i-r)/2;if(E=Fs(Ge,C),D=Fs(Ge,w),L=Fs(Ge,_),z=Fs(Ge,b),W=R=dp(E,D),$=H=dp(L,z),(R>k1||H>k1)&&(G=i*td(c),Z=i*Z3(c),te=r*td(l),re=r*Z3(l),p<Pee)){var Ye=YIe(ce,ne,te,re,G,Z,he,oe);if(Ye){var Rt=ce-Ye[0],Xe=ne-Ye[1],Jt=G-Ye[0],Mr=Z-Ye[1],vn=1/Z3($Ie((Rt*Jt+Xe*Mr)/(fp(Rt*Rt+Xe*Xe)*fp(Jt*Jt+Mr*Mr)))/2),Qi=fp(Ye[0]*Ye[0]+Ye[1]*Ye[1]);W=Fs(R,(i-Qi)/(vn+1)),$=Fs(H,(r-Qi)/(vn-1))}}}if(!ve)n.moveTo(u+ce,d+ne);else if(W>k1){var xn=Fs(C,W),zn=Fs(w,W),rt=Zy(te,re,ce,ne,i,xn,f),Ft=Zy(G,Z,he,oe,i,zn,f);n.moveTo(u+rt.cx+rt.x0,d+rt.cy+rt.y0),W<R&&xn===zn?n.arc(u+rt.cx,d+rt.cy,W,$r(rt.y0,rt.x0),$r(Ft.y0,Ft.x0),!f):(xn>0&&n.arc(u+rt.cx,d+rt.cy,xn,$r(rt.y0,rt.x0),$r(rt.y1,rt.x1),!f),n.arc(u,d,i,$r(rt.cy+rt.y1,rt.cx+rt.x1),$r(Ft.cy+Ft.y1,Ft.cx+Ft.x1),!f),zn>0&&n.arc(u+Ft.cx,d+Ft.cy,zn,$r(Ft.y1,Ft.x1),$r(Ft.y0,Ft.x0),!f))}else n.moveTo(u+ce,d+ne),n.arc(u,d,i,l,c,!f);if(!(r>k1)||!ve)n.lineTo(u+he,d+oe);else if($>k1){var xn=Fs(_,$),zn=Fs(b,$),rt=Zy(he,oe,G,Z,r,-zn,f),Ft=Zy(ce,ne,te,re,r,-xn,f);n.lineTo(u+rt.cx+rt.x0,d+rt.cy+rt.y0),$<H&&xn===zn?n.arc(u+rt.cx,d+rt.cy,$,$r(rt.y0,rt.x0),$r(Ft.y0,Ft.x0),!f):(zn>0&&n.arc(u+rt.cx,d+rt.cy,zn,$r(rt.y0,rt.x0),$r(rt.y1,rt.x1),!f),n.arc(u,d,r,$r(rt.cy+rt.y1,rt.cx+rt.x1),$r(Ft.cy+Ft.y1,Ft.cx+Ft.x1),f),xn>0&&n.arc(u+Ft.cx,d+Ft.cy,xn,$r(Ft.y1,Ft.x1),$r(Ft.y0,Ft.x0),!f))}else n.lineTo(u+he,d+oe),n.arc(u,d,r,c,l,f)}n.closePath()}}}var QIe=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n})();var Ree=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new QIe},t.prototype.buildPath=function(e,i){Oee(e,i)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(ct);Ree.prototype.type="sector";var Bs=Ree;var KIe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n})();var Fee=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new KIe},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.PI*2;e.moveTo(r+i.r,o),e.arc(r,o,i.r,0,a,!1),e.moveTo(r+i.r0,o),e.arc(r,o,i.r0,0,a,!0)},t})(ct);Fee.prototype.type="ring";var pp=Fee;function XL(n,t,e,i){var r=[],o=[],a=[],s=[],l,c,u,d;if(i){u=[1/0,1/0],d=[-1/0,-1/0];for(var f=0,p=n.length;f<p;f++)Ha(u,u,n[f]),ja(d,d,n[f]);Ha(u,u,i[0]),ja(d,d,i[1])}for(var f=0,p=n.length;f<p;f++){var v=n[f];if(e)l=n[f?f-1:p-1],c=n[(f+1)%p];else if(f===0||f===p-1){r.push(mI(n[f]));continue}else l=n[f-1],c=n[f+1];hI(o,c,l),L8(o,o,t);var _=A8(v,l),b=A8(v,c),C=_+b;C!==0&&(_/=C,b/=C),L8(a,o,-_),L8(s,o,b);var w=oy([],v,a),E=oy([],v,s);i&&(ja(w,w,u),Ha(w,w,d),ja(E,E,u),Ha(E,E,d)),r.push(w),r.push(E)}return e&&r.push(r.shift()),r}function Xy(n,t,e){var i=t.smooth,r=t.points;if(r&&r.length>=2){if(i){var o=XL(r,i,e,t.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(e?a:a-1);s++){var l=o[s*2],c=o[s*2+1],u=r[(s+1)%a];n.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{n.moveTo(r[0][0],r[0][1]);for(var s=1,d=r.length;s<d;s++)n.lineTo(r[s][0],r[s][1])}e&&n.closePath()}}var JIe=(function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n})();var Vee=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new JIe},t.prototype.buildPath=function(e,i){Xy(e,i,!0)},t})(ct);Vee.prototype.type="polygon";var Q2=Vee;var eLe=(function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n})();var Uee=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new eLe},t.prototype.buildPath=function(e,i){Xy(e,i,!1)},t})(ct);Uee.prototype.type="polyline";var K2=Uee;var tLe={},nLe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})();var Hee=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new nLe},t.prototype.buildPath=function(e,i){var r,o,a,s;if(this.subPixelOptimize){var l=Uy(tLe,i,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=i.x1,o=i.y1,a=i.x2,s=i.y2;var c=i.percent;c!==0&&(e.moveTo(r,o),c<1&&(a=r*(1-c)+a*c,s=o*(1-c)+s*c),e.lineTo(a,s))},t.prototype.pointAt=function(e){var i=this.shape;return[i.x1*(1-e)+i.x2*e,i.y1*(1-e)+i.y2*e]},t})(ct);Hee.prototype.type="line";var pa=Hee;var qo=[],iLe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n})();function jee(n,t,e){var i=n.cpx2,r=n.cpy2;return i!=null||r!=null?[(e?zI:ni)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?zI:ni)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?kI:Xi)(n.x1,n.cpx1,n.x2,t),(e?kI:Xi)(n.y1,n.cpy1,n.y2,t)]}var Gee=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new iLe},t.prototype.buildPath=function(e,i){var r=i.x1,o=i.y1,a=i.x2,s=i.y2,l=i.cpx1,c=i.cpy1,u=i.cpx2,d=i.cpy2,f=i.percent;f!==0&&(e.moveTo(r,o),u==null||d==null?(f<1&&(Fu(r,l,a,f,qo),l=qo[1],a=qo[2],Fu(o,c,s,f,qo),c=qo[1],s=qo[2]),e.quadraticCurveTo(l,c,a,s)):(f<1&&(Ru(r,l,u,a,f,qo),l=qo[1],u=qo[2],a=qo[3],Ru(o,c,d,s,f,qo),c=qo[1],d=qo[2],s=qo[3]),e.bezierCurveTo(l,c,u,d,a,s)))},t.prototype.pointAt=function(e){return jee(this.shape,e,!1)},t.prototype.tangentAt=function(e){var i=jee(this.shape,e,!0);return yI(i,i)},t})(ct);Gee.prototype.type="bezier-curve";var mp=Gee;var rLe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})();var Wee=(function(n){Je(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rLe},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),s=i.startAngle,l=i.endAngle,c=i.clockwise,u=Math.cos(s),d=Math.sin(s);e.moveTo(u*a+r,d*a+o),e.arc(r,o,a,s,l,!c)},t})(ct);Wee.prototype.type="arc";var X3=Wee;var oLe=(function(n){Je(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,i=this.shapeChanged(),r=0;r<e.length;r++)i=i||e[r].shapeChanged();i&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(i[0],i[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(e,r[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],i=0;i<e.length;i++)e[i].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),ct.prototype.getBoundingRect.call(this)},t})(ct),Qy=oLe;var aLe=(function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n})(),Ky=aLe;var sLe=(function(n){Je(t,n);function t(e,i,r,o,a,s){var l=n.call(this,a)||this;return l.x=e??0,l.y=i??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return t})(Ky),nd=sLe;var lLe=(function(n){Je(t,n);function t(e,i,r,o,a){var s=n.call(this,o)||this;return s.x=e??.5,s.y=i??.5,s.r=r??.5,s.type="radial",s.global=a||!1,s}return t})(Ky),Jy=lLe;var Q3=[0,0],K3=[0,0],e_=new Kt,t_=new Kt,cLe=(function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Kt;for(var i=0;i<2;i++)this._axes[i]=new Kt;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var i=this._corners,r=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(i[0].set(o,a),i[1].set(s,a),i[2].set(s,l),i[3].set(o,l),e)for(var c=0;c<4;c++)i[c].transform(e);Kt.sub(r[0],i[1],i[0]),Kt.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize();for(var c=0;c<2;c++)this._origin[c]=r[c].dot(i[0])},n.prototype.intersect=function(t,e){var i=!0,r=!e;return e_.set(1/0,1/0),t_.set(0,0),!this._intersectCheckOneSide(this,t,e_,t_,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(t,this,e_,t_,r,-1)&&(i=!1,r)||r||Kt.copy(e,i?e_:t_),i},n.prototype._intersectCheckOneSide=function(t,e,i,r,o,a){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Q3),this._getProjMinMaxOnAxis(l,e._corners,K3),Q3[1]<K3[0]||Q3[0]>K3[1]){if(s=!1,o)return s;var u=Math.abs(K3[0]-Q3[1]),d=Math.abs(Q3[0]-K3[1]);Math.min(u,d)>r.len()&&(u<d?Kt.scale(r,c,-u*a):Kt.scale(r,c,d*a))}else if(i){var u=Math.abs(K3[0]-Q3[1]),d=Math.abs(Q3[0]-K3[1]);Math.min(u,d)<i.len()&&(u<d?Kt.scale(i,c,u*a):Kt.scale(i,c,-d*a))}}return s},n.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var r=this._axes[t],o=this._origin,a=e[0].dot(r)+o[t],s=a,l=a,c=1;c<e.length;c++){var u=e[c].dot(r)+o[t];s=Math.min(u,s),l=Math.max(u,l)}i[0]=s,i[1]=l},n})(),id=cLe;var uLe=[],dLe=(function(n){Je(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,i){e.call(i,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,i){i?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,i){i=i||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],i)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var i=this._cursor;i<this._displayables.length;i++)e&&e(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)e&&e(this._temporaryDisplayables[i])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var i=this._displayables[e];i.parent=this,i.update(),i.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var i=this._temporaryDisplayables[e];i.parent=this,i.update(),i.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Ke(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(uLe)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i),o=this.getBoundingRect();if(o.contain(r[0],r[1]))for(var a=0;a<this._displayables.length;a++){var s=this._displayables[a];if(s.contain(e,i))return!0}return!1},t})(zs),n_=dLe;var fLe=Ot();function pLe(n,t,e,i,r){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s=t&&t.isAnimationEnabled(),l=n==="update";if(s){var c=void 0,u=void 0,d=void 0;i?(c=nt(i.duration,200),u=nt(i.easing,"cubicOut"),d=0):(c=t.getShallow(l?"animationDurationUpdate":"animationDuration"),u=t.getShallow(l?"animationEasingUpdate":"animationEasing"),d=t.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(c=o.duration),o.easing!=null&&(u=o.easing),o.delay!=null&&(d=o.delay)),De(d)&&(d=d(e,r)),De(c)&&(c=c(e));var f={duration:c||0,delay:d,easing:u};return f}else return null}function QL(n,t,e,i,r,o,a){var s=!1,l;De(r)?(a=o,o=r,r=null):Se(r)&&(o=r.cb,a=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var c=n==="leave";c||t.stopAnimation("leave");var u=pLe(n,i,r,c?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null);if(u&&u.duration>0){var d=u.duration,f=u.delay,p=u.easing,v={duration:d,delay:f||0,easing:p,done:o,force:!!o||!!a,setToFinal:!c,scope:n,during:a};s?t.animateFrom(e,v):t.animateTo(e,v)}else t.stopAnimation(),!s&&t.attr(e),a&&a(1),o&&o()}function pi(n,t,e,i,r,o){QL("update",n,t,e,i,r,o)}function Yr(n,t,e,i,r,o){QL("enter",n,t,e,i,r,o)}function J3(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++){var e=n.animators[t];if(e.scope==="leave")return!0}return!1}function rd(n,t,e,i,r,o){J3(n)||QL("leave",n,t,e,i,r,o)}function qee(n,t,e,i){n.removeTextContent(),n.removeTextGuideLine(),rd(n,{style:{opacity:0}},t,e,i)}function hp(n,t,e){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||qee(r,t,e,i)}):qee(n,t,e,i)}function i_(n){fLe(n).oldStyle=n.style}var r_=Math.max,o_=Math.min,JL={};function eA(n){return ct.extend(n)}var mLe=Lee;function tA(n,t){return mLe(n,t)}function ma(n,t){JL[n]=t}function nA(n){if(JL.hasOwnProperty(n))return JL[n]}function od(n,t,e,i){var r=Iee(n,t);return e&&(i==="center"&&(e=Zee(e,r.getBoundingRect())),a_(r,e)),r}function gp(n,t,e){var i=new Wo({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){if(e==="center"){var o={width:r.width,height:r.height};i.setStyle(Zee(t,o))}}});return i}function Zee(n,t){var e=t.width/t.height,i=n.height*e,r;i<=n.width?r=n.height:(i=n.width,r=i/e);var o=n.x+n.width/2,a=n.y+n.height/2;return{x:o-i/2,y:a-r/2,width:i,height:r}}var iA=Aee;function a_(n,t){if(n.applyTransform){var e=n.getBoundingRect(),i=e.calculateTransform(t);n.applyTransform(i)}}function e4(n,t){return Uy(n,n,{lineWidth:t}),n}function hLe(n){return Hy(n.shape,n.shape,n.style),n}var gLe=I0;function J2(n,t){for(var e=H2([]);n&&n!==t;)Ga(e,n.getLocalTransform(),e),n=n.parent;return e}function t4(n,t,e){return t&&!wi(t)&&(t=$8.getLocalTransform(t)),e&&(t=j2([],t)),Mi([],n,t)}function vp(n,t,e){var i=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),r=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[n==="left"?-i:n==="right"?i:0,n==="top"?-r:n==="bottom"?r:0];return o=t4(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function $ee(n){return!n.isGroup}function vLe(n){return n.shape!=null}function rA(n,t,e){if(!n||!t)return;function i(a){var s={};return a.traverse(function(l){$ee(l)&&l.anid&&(s[l.anid]=l)}),s}function r(a){var s={x:a.x,y:a.y,rotation:a.rotation};return vLe(a)&&(s.shape=fe({},a.shape)),s}var o=i(n);t.traverse(function(a){if($ee(a)&&a.anid){var s=o[a.anid];if(s){var l=r(a);a.attr(r(s)),pi(a,l,e,yt(a).dataIndex)}}})}function yp(n,t){return ge(n,function(e){var i=e[0];i=r_(i,t.x),i=o_(i,t.x+t.width);var r=e[1];return r=r_(r,t.y),r=o_(r,t.y+t.height),[i,r]})}function oA(n,t){var e=r_(n.x,t.x),i=o_(n.x+n.width,t.x+t.width),r=r_(n.y,t.y),o=o_(n.y+n.height,t.y+t.height);if(i>=e&&o>=r)return{x:e,y:r,width:i-e,height:o-r}}function el(n,t,e){var i=fe({rectHover:!0},t),r=i.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(r.image=n.slice(8),Ne(r,e),new Wo(i)):od(n.replace("path://",""),i,e,"center")}function yLe(n,t,e,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(Xee(n,t,e,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function Xee(n,t,e,i,r,o,a,s){var l=e-n,c=i-t,u=a-r,d=s-o,f=KL(u,d,l,c);if(_Le(f))return!1;var p=n-r,v=t-o,_=KL(p,v,l,c)/f;if(_<0||_>1)return!1;var b=KL(p,v,u,d)/f;return!(b<0||b>1)}function KL(n,t,e,i){return n*i-e*t}function _Le(n){return n<=1e-6&&n>=-1e-6}function z0(n){var t=n.itemTooltipOption,e=n.componentModel,i=n.itemName,r=_e(t)?{formatter:t}:t,o=e.mainType,a=e.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=n.formatterParamsExtra;l&&O(Lt(l),function(u){Uo(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=yt(n.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:i,option:Ne({content:i,encodeHTMLContent:!0,formatterParams:s},r)}}function Yee(n,t){var e;n.isGroup&&(e=t(n)),e||n.traverse(t)}function n4(n,t){if(n)if(pe(n))for(var e=0;e<n.length;e++)Yee(n[e],t);else Yee(n,t)}ma("circle",Y3);ma("ellipse",up);ma("sector",Bs);ma("ring",pp);ma("polygon",Q2);ma("polyline",K2);ma("rect",Tt);ma("line",pa);ma("bezierCurve",mp);ma("arc",X3);var s_={};function bLe(n,t){for(var e=0;e<e1.length;e++){var i=e1[e],r=t[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(a,!0)}function Qee(n,t,e){var i=n.labelFetcher,r=n.labelDataIndex,o=n.labelDimIndex,a=t.normal,s;i&&(s=i.getFormattedLabel(r,"normal",null,o,a&&a.get("formatter"),e!=null?{interpolatedValue:e}:null)),s==null&&(s=De(n.defaultText)?n.defaultText(r,n,e):n.defaultText);for(var l={normal:s},c=0;c<e1.length;c++){var u=e1[c],d=t[u];l[u]=nt(i?i.getFormattedLabel(r,u,null,o,d&&d.get("formatter")):null,s)}return l}function k0(n,t,e,i){e=e||s_;for(var r=n instanceof qt,o=!1,a=0;a<RL.length;a++){var s=t[RL[a]];if(s&&s.getShallow("show")){o=!0;break}}var l=r?n:n.getTextContent();if(o){r||(l||(l=new qt,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var c=Qee(e,t),u=t.normal,d=!!u.getShallow("show"),f=Zr(u,i&&i.normal,e,!1,!r);f.text=c.normal,r||n.setTextConfig(Kee(u,e,!1));for(var a=0;a<e1.length;a++){var p=e1[a],s=t[p];if(s){var v=l.ensureState(p),_=!!nt(s.getShallow("show"),d);if(_!==d&&(v.ignore=!_),v.style=Zr(s,i&&i[p],e,!0,!r),v.style.text=c[p],!r){var b=n.ensureState(p);b.textConfig=Kee(s,e,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!d,l.useStyle(f),l.dirty(),e.enableTextSetter&&(ad(l).setLabelText=function(C){var w=Qee(e,t,C);bLe(l,w)})}else l&&(l.ignore=!0);n.dirty()}function N0(n,t){t=t||"label";for(var e={normal:n.getModel(t)},i=0;i<e1.length;i++){var r=e1[i];e[r]=n.getModel([r,t])}return e}function Zr(n,t,e,i,r){var o={};return xLe(o,n,e,i,r),t&&fe(o,t),o}function Kee(n,t,e){t=t||{};var i={},r,o=n.getShallow("rotate"),a=nt(n.getShallow("distance"),e?null:5),s=n.getShallow("offset");return r=n.getShallow("position")||(e?null:"inside"),r==="outside"&&(r=t.defaultOutsidePosition||"top"),r!=null&&(i.position=r),s!=null&&(i.offset=s),o!=null&&(o*=Math.PI/180,i.rotation=o),a!=null&&(i.distance=a),i.outsideFill=n.get("color")==="inherit"?t.inheritColor||null:"auto",i}function xLe(n,t,e,i,r){e=e||s_;var o=t.ecModel,a=o&&o.option.textStyle,s=CLe(t),l;if(s){l={};for(var c in s)if(s.hasOwnProperty(c)){var u=t.getModel(["rich",c]);nte(l[c]={},u,a,e,i,r,!1,!0)}}l&&(n.rich=l);var d=t.get("overflow");d&&(n.overflow=d);var f=t.get("minMargin");f!=null&&(n.margin=f),nte(n,t,a,e,i,r,!0,!1)}function CLe(n){for(var t;n&&n!==n.ecModel;){var e=(n.option||s_).rich;if(e){t=t||{};for(var i=Lt(e),r=0;r<i.length;r++){var o=i[r];t[o]=1}}n=n.parentModel}return t}var Jee=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],ete=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],tte=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function nte(n,t,e,i,r,o,a,s){e=!r&&e||s_;var l=i&&i.inheritColor,c=t.getShallow("color"),u=t.getShallow("textBorderColor"),d=nt(t.getShallow("opacity"),e.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),o||(c=c||e.color,u=u||e.textBorderColor),c!=null&&(n.fill=c),u!=null&&(n.stroke=u);var f=nt(t.getShallow("textBorderWidth"),e.textBorderWidth);f!=null&&(n.lineWidth=f);var p=nt(t.getShallow("textBorderType"),e.textBorderType);p!=null&&(n.lineDash=p);var v=nt(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);v!=null&&(n.lineDashOffset=v),!r&&d==null&&!s&&(d=i&&i.defaultOpacity),d!=null&&(n.opacity=d),!r&&!o&&n.fill==null&&i.inheritColor&&(n.fill=i.inheritColor);for(var _=0;_<Jee.length;_++){var b=Jee[_],C=nt(t.getShallow(b),e[b]);C!=null&&(n[b]=C)}for(var _=0;_<ete.length;_++){var b=ete[_],C=t.getShallow(b);C!=null&&(n[b]=C)}if(n.verticalAlign==null){var w=t.getShallow("baseline");w!=null&&(n.verticalAlign=w)}if(!a||!i.disableBox){for(var _=0;_<tte.length;_++){var b=tte[_],C=t.getShallow(b);C!=null&&(n[b]=C)}var E=t.getShallow("borderType");E!=null&&(n.borderDash=E),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&l&&(n.backgroundColor=l),(n.borderColor==="auto"||n.borderColor==="inherit")&&l&&(n.borderColor=l)}}function l_(n,t){var e=t&&t.getModel("textStyle");return ur([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var ad=Ot();function ite(n,t,e,i){if(n){var r=ad(n);r.prevValue=r.value,r.value=e;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=t)}}var SLe=["textStyle","color"],aA=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],sA=new qt,wLe=(function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(SLe):null)},n.prototype.getFont=function(){return l_({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<aA.length;i++)e[aA[i]]=this.getShallow(aA[i]);return sA.useStyle(e),sA.update(),sA.getBoundingRect()},n})(),rte=wLe;var lA=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],MLe=Ls(lA),ote=(function(){function n(){}return n.prototype.getLineStyle=function(t){return MLe(this,t)},n})();var cA=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],TLe=Ls(cA),ate=(function(){function n(){}return n.prototype.getItemStyle=function(t,e){return TLe(this,t,e)},n})();var i4=(function(){function n(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return n.prototype.init=function(t,e,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(t,e){je(this.option,t,!0)},n.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var i=this.option,r=i==null?i:i[t];if(r==null&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},n.prototype.getModel=function(t,e){var i=t!=null,r=i?this.parsePath(t):null,o=i?this._doGet(r):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new n(o,e,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var t=this.constructor;return new t(ke(this.option))},n.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!Be.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var r=0;r<t.length&&!(t[r]&&(i=i&&typeof i=="object"?i[t[r]]:null,i==null));r++);return i==null&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},n})();Yu(i4);vJ(i4);cr(i4,ote);cr(i4,ate);cr(i4,yJ);cr(i4,rte);var $t=i4;var ELe=Math.round(Math.random()*10);function Vs(n){return[n||"",ELe++].join("_")}function ste(n){var t={};n.registerSubTypeDefaulter=function(e,i){var r=Go(e);t[r.main]=i},n.determineSubType=function(e,i){var r=i.type;if(!r){var o=Go(e).main;n.hasSubTypes(e)&&t[o]&&(r=t[o](i))}return r}}function lte(n,t){n.topologicalTravel=function(o,a,s,l){if(!o.length)return;var c=e(a),u=c.graph,d=c.noEntryList,f={};for(O(o,function(w){f[w]=!0});d.length;){var p=d.pop(),v=u[p],_=!!f[p];_&&(s.call(l,p,v.originalDeps.slice()),delete f[p]),O(v.successor,_?C:b)}O(f,function(){var w="";throw new Error(w)});function b(w){u[w].entryCount--,u[w].entryCount===0&&d.push(w)}function C(w){f[w]=!0,b(w)}};function e(o){var a={},s=[];return O(o,function(l){var c=i(a,l),u=c.originalDeps=t(l),d=r(u,o);c.entryCount=d.length,c.entryCount===0&&s.push(l),O(d,function(f){qe(c.predecessor,f)<0&&c.predecessor.push(f);var p=i(a,f);qe(p.successor,f)<0&&p.successor.push(l)})}),{graph:a,noEntryList:s}}function i(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}function r(o,a){var s=[];return O(o,function(l){qe(a,l)>=0&&s.push(l)}),s}}function P0(n,t){return je(je({},n,!0),t,!0)}var cte={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var ute={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE",custom:"\u81EA\u5B9A\u4E49\u56FE\u8868",chart:"\u56FE\u8868"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var u_="ZH",dA="EN",sd=dA,c_={},fA={},d_=Be.domSupported?(function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||sd).toUpperCase();return n.indexOf(u_)>-1?u_:sd})():sd;function f_(n,t){n=n.toUpperCase(),fA[n]=new $t(t),c_[n]=t}function dte(n){if(_e(n)){var t=c_[n.toUpperCase()]||{};return n===u_||n===dA?ke(t):je(ke(t),ke(c_[sd]),!1)}else return je(ke(n),ke(c_[sd]),!1)}function fte(n){return fA[n]}function pte(){return fA[sd]}f_(dA,cte);f_(u_,ute);var m_=1e3,h_=m_*60,cd=h_*60,ha=cd*24,mA=ha*365,_p={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},p_="{yyyy}-{MM}-{dd}",hA={year:"{yyyy}",month:"{yyyy}-{MM}",day:p_,hour:p_+" "+_p.hour,minute:p_+" "+_p.minute,second:p_+" "+_p.second,millisecond:_p.none},pA=["year","month","day","hour","minute","second","millisecond"],gA=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Xr(n,t){return n+="","0000".substr(0,t-n.length)+n}function o4(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function mte(n){return n===o4(n)}function hte(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function tl(n,t,e,i){var r=dr(n),o=r[g_(e)](),a=r[r4(e)]()+1,s=Math.floor((a-1)/3)+1,l=r[bp(e)](),c=r["get"+(e?"UTC":"")+"Day"](),u=r[ld(e)](),d=(u-1)%12+1,f=r[xp(e)](),p=r[Cp(e)](),v=r[Sp(e)](),_=u>=12?"pm":"am",b=_.toUpperCase(),C=i instanceof $t?i:fte(i||d_)||pte(),w=C.getModel("time"),E=w.get("month"),D=w.get("monthAbbr"),L=w.get("dayOfWeek"),z=w.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,_+"").replace(/{A}/g,b+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Xr(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,E[a-1]).replace(/{MMM}/g,D[a-1]).replace(/{MM}/g,Xr(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Xr(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,L[c]).replace(/{ee}/g,z[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Xr(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Xr(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Xr(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Xr(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Xr(v,3)).replace(/{S}/g,v+"")}function gte(n,t,e,i,r){var o=null;if(_e(e))o=e;else if(De(e))o=e(n.value,t,{level:n.level});else{var a=fe({},_p);if(n.level>0)for(var s=0;s<pA.length;++s)a[pA[s]]="{primary|"+a[pA[s]]+"}";var l=e?e.inherit===!1?e:Ne(e,a):a,c=vte(n.value,r);if(l[c])o=l[c];else if(l.inherit){for(var u=gA.indexOf(c),s=u-1;s>=0;--s)if(l[c]){o=l[c];break}o=o||a.none}if(pe(o)){var d=n.level==null?0:n.level>=0?n.level:o.length+n.level;d=Math.min(d,o.length-1),o=o[d]}}return tl(new Date(n.value),o,r,i)}function vte(n,t){var e=dr(n),i=e[r4(t)]()+1,r=e[bp(t)](),o=e[ld(t)](),a=e[xp(t)](),s=e[Cp(t)](),l=e[Sp(t)](),c=l===0,u=c&&s===0,d=u&&a===0,f=d&&o===0,p=f&&r===1,v=p&&i===1;return v?"year":p?"month":f?"day":d?"hour":u?"minute":c?"second":"millisecond"}function vA(n,t,e){var i=Ct(n)?dr(n):n;switch(t=t||vte(n,e),t){case"year":return i[g_(e)]();case"half-year":return i[r4(e)]()>=6?1:0;case"quarter":return Math.floor((i[r4(e)]()+1)/4);case"month":return i[r4(e)]();case"day":return i[bp(e)]();case"half-day":return i[ld(e)]()/24;case"hour":return i[ld(e)]();case"minute":return i[xp(e)]();case"second":return i[Cp(e)]();case"millisecond":return i[Sp(e)]()}}function g_(n){return n?"getUTCFullYear":"getFullYear"}function r4(n){return n?"getUTCMonth":"getMonth"}function bp(n){return n?"getUTCDate":"getDate"}function ld(n){return n?"getUTCHours":"getHours"}function xp(n){return n?"getUTCMinutes":"getMinutes"}function Cp(n){return n?"getUTCSeconds":"getSeconds"}function Sp(n){return n?"getUTCMilliseconds":"getMilliseconds"}function yte(n){return n?"setUTCFullYear":"setFullYear"}function yA(n){return n?"setUTCMonth":"setMonth"}function _A(n){return n?"setUTCDate":"setDate"}function bA(n){return n?"setUTCHours":"setHours"}function xA(n){return n?"setUTCMinutes":"setMinutes"}function CA(n){return n?"setUTCSeconds":"setSeconds"}function SA(n){return n?"setUTCMilliseconds":"setMilliseconds"}function wA(n,t,e,i,r,o,a,s){var l=new qt({style:{text:n,font:t,align:e,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function wp(n){if(!Z8(n))return _e(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function ud(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,i){return i.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Us=D8;function v_(n,t,e){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(u){return u&&ur(u)?u:"-"}function o(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var a=t==="time",s=n instanceof Date;if(a||s){var l=a?dr(n):n;if(isNaN(+l)){if(s)return"-"}else return tl(l,i,e)}if(t==="ordinal")return zu(n)?r(n):Ct(n)&&o(n)?n+"":"-";var c=Ya(n);return o(c)?wp(c):zu(n)?r(n):typeof n=="boolean"?n+"":"-"}var _te=["a","b","c","d","e","f","g"],MA=function(n,t){return"{"+n+(t??"")+"}"};function dd(n,t,e){pe(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=_te[o];n=n.replace(MA(a),MA(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var c=t[s][r[l]];n=n.replace(MA(_te[l],s),e?Zi(c):c)}return n}function y_(n,t){var e=_e(n)?{color:n,extraCssText:t}:n||{},i=e.color,r=e.type;t=e.extraCssText;var o=e.renderMode||"html";if(!i)return"";if(o==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Zi(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Zi(i)+";"+(t||"")+'"></span>';var a=e.markerId||"markerX";return{renderMode:o,content:"{"+a+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function bte(n,t,e){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var i=dr(t),r=e?"getUTC":"get",o=i[r+"FullYear"](),a=i[r+"Month"]()+1,s=i[r+"Date"](),l=i[r+"Hours"](),c=i[r+"Minutes"](),u=i[r+"Seconds"](),d=i[r+"Milliseconds"]();return n=n.replace("MM",Xr(a,2)).replace("M",a).replace("yyyy",o).replace("yy",Xr(o%100+"",2)).replace("dd",Xr(s,2)).replace("d",s).replace("hh",Xr(l,2)).replace("h",l).replace("mm",Xr(c,2)).replace("m",c).replace("ss",Xr(u,2)).replace("s",u).replace("SSS",Xr(d,3)),n}function xte(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function N1(n,t){return t=t||"transparent",_e(n)?n:Se(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function TA(n,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var x_=O,DLe=["left","right","top","bottom","width","height"],b_=[["width","left","right"],["height","top","bottom"]];function EA(n,t,e,i,r){var o=0,a=0;i==null&&(i=1/0),r==null&&(r=1/0);var s=0;t.eachChild(function(l,c){var u=l.getBoundingRect(),d=t.childAt(c+1),f=d&&d.getBoundingRect(),p,v;if(n==="horizontal"){var _=u.width+(f?-f.x+u.x:0);p=o+_,p>i||l.newline?(o=0,p=_,a+=s+e,s=u.height):s=Math.max(s,u.height)}else{var b=u.height+(f?-f.y+u.y:0);v=a+b,v>r||l.newline?(o+=s+e,a=0,v=b,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),n==="horizontal"?o=p+e:a=v+e)})}var nl=EA,Vgt=lt(EA,"vertical"),Ugt=lt(EA,"horizontal");function Qr(n,t,e){e=Us(e||0);var i=t.width,r=t.height,o=fi(n.left,i),a=fi(n.top,r),s=fi(n.right,i),l=fi(n.bottom,r),c=fi(n.width,i),u=fi(n.height,r),d=e[2]+e[0],f=e[1]+e[3],p=n.aspect;switch(isNaN(c)&&(c=i-s-f-o),isNaN(u)&&(u=r-l-d-a),p!=null&&(isNaN(c)&&isNaN(u)&&(p>i/r?c=i*.8:u=r*.8),isNaN(c)&&(c=p*u),isNaN(u)&&(u=c/p)),isNaN(o)&&(o=i-s-c-f),isNaN(a)&&(a=r-l-u-d),n.left||n.right){case"center":o=i/2-c/2-e[3];break;case"right":o=i-c-f;break}switch(n.top||n.bottom){case"middle":case"center":a=r/2-u/2-e[0];break;case"bottom":a=r-u-d;break}o=o||0,a=a||0,isNaN(c)&&(c=i-f-o-(s||0)),isNaN(u)&&(u=r-d-a-(l||0));var v=new Ke(o+e[3],a+e[0],c,u);return v.margin=e,v}function Cte(n,t,e,i,r,o){var a=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(o=o||n,o.x=n.x,o.y=n.y,!a&&!s)return!1;var c;if(l==="raw")c=n.type==="group"?new Ke(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(c=n.getBoundingRect(),n.needLocalTransform()){var u=n.getLocalTransform();c=c.clone(),c.applyTransform(u)}var d=Qr(Ne({width:c.width,height:c.height},t),e,i),f=a?d.x-c.x:0,p=s?d.y-c.y:0;return l==="raw"?(o.x=f,o.y=p):(o.x+=f,o.y+=p),o===n&&n.markRedraw(),!0}function O0(n){var t=n.layoutMode||n.constructor.layoutMode;return Se(t)?t:t?{type:t}:null}function Hs(n,t,e){var i=e&&e.ignoreSize;!pe(i)&&(i=[i,i]);var r=a(b_[0],0),o=a(b_[1],1);c(b_[0],n,r),c(b_[1],n,o);function a(u,d){var f={},p=0,v={},_=0,b=2;if(x_(u,function(E){v[E]=n[E]}),x_(u,function(E){s(t,E)&&(f[E]=v[E]=t[E]),l(f,E)&&p++,l(v,E)&&_++}),i[d])return l(t,u[1])?v[u[2]]=null:l(t,u[2])&&(v[u[1]]=null),v;if(_===b||!p)return v;if(p>=b)return f;for(var C=0;C<u.length;C++){var w=u[C];if(!s(f,w)&&s(n,w)){f[w]=n[w];break}}return f}function s(u,d){return u.hasOwnProperty(d)}function l(u,d){return u[d]!=null&&u[d]!=="auto"}function c(u,d,f){x_(u,function(p){d[p]=f[p]})}}function js(n){return ILe({},n)}function ILe(n,t){return t&&n&&x_(DLe,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}var LLe=Ot(),fd=(function(n){de(t,n);function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.uid=Vs("ec_cpt_model"),o}return t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=O0(this),o=r?js(e):{},a=i.getTheme();je(e,a.get(this.mainType)),je(e,this.getDefaultOption()),r&&Hs(e,o,r)},t.prototype.mergeOption=function(e,i){je(this.option,e,!0);var r=O0(this);r&&Hs(this.option,e,r)},t.prototype.optionUpdated=function(e,i){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!gJ(e))return e.defaultOption;var i=LLe(this);if(!i.defaultOption){for(var r=[],o=e;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=je(s,r[l],!0);i.defaultOption=s}return i.defaultOption},t.prototype.getReferringComponents=function(e,i){var r=e+"Index",o=e+"Id";return w0(this.ecModel,e,{index:this.get(r,!0),id:this.get(o,!0)},i)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=(function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0})(),t})($t);Ry(fd,$t);M0(fd);ste(fd);lte(fd,ALe);function ALe(n){var t=[];return O(fd.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=ge(t,function(e){return Go(e).main}),n!=="dataset"&&qe(t,"dataset")<=0&&t.unshift("dataset"),t}var kt=fd;var Ste="";typeof navigator<"u"&&(Ste=navigator.platform||"");var pd="rgba(0, 0, 0, 0.2)",wte={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:pd,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:pd,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:pd,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:pd,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:pd,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:pd,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Ste.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var S_=Le(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),pr="original",mr="arrayRows",$o="objectRows",t1="keyedColumns",ga="typedArray",DA="unknown",n1="column",il="row";var bo={Must:1,Might:2,Not:3},Mte=Ot();function Tte(n){Mte(n).datasetMap=Le()}function Ete(n,t,e){var i={},r=IA(t);if(!r||!n)return i;var o=[],a=[],s=t.ecModel,l=Mte(s).datasetMap,c=r.uid+"_"+e.seriesLayoutBy,u,d;n=n.slice(),O(n,function(_,b){var C=Se(_)?_:n[b]={name:_};C.type==="ordinal"&&u==null&&(u=b,d=v(C)),i[C.name]=[]});var f=l.get(c)||l.set(c,{categoryWayDim:d,valueWayDim:0});O(n,function(_,b){var C=_.name,w=v(_);if(u==null){var E=f.valueWayDim;p(i[C],E,w),p(a,E,w),f.valueWayDim+=w}else if(u===b)p(i[C],0,w),p(o,0,w);else{var E=f.categoryWayDim;p(i[C],E,w),p(a,E,w),f.categoryWayDim+=w}});function p(_,b,C){for(var w=0;w<C;w++)_.push(b+w)}function v(_){var b=_.dimsDef;return b?b.length:1}return o.length&&(i.itemName=o),a.length&&(i.seriesName=a),i}function IA(n){var t=n.get("data",!0);if(!t)return w0(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},ai).models[0]}function Dte(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:w0(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},ai).models}function w_(n,t){return zLe(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function zLe(n,t,e,i,r,o){var a,s=5;if(oi(n))return bo.Not;var l,c;if(i){var u=i[o];Se(u)?(l=u.name,c=u.type):_e(u)&&(l=u)}if(c!=null)return c==="ordinal"?bo.Must:bo.Not;if(t===mr){var d=n;if(e===il){for(var f=d[o],p=0;p<(f||[]).length&&p<s;p++)if((a=D(f[r+p]))!=null)return a}else for(var p=0;p<d.length&&p<s;p++){var v=d[r+p];if(v&&(a=D(v[o]))!=null)return a}}else if(t===$o){var _=n;if(!l)return bo.Not;for(var p=0;p<_.length&&p<s;p++){var b=_[p];if(b&&(a=D(b[l]))!=null)return a}}else if(t===t1){var C=n;if(!l)return bo.Not;var f=C[l];if(!f||oi(f))return bo.Not;for(var p=0;p<f.length&&p<s;p++)if((a=D(f[p]))!=null)return a}else if(t===pr)for(var w=n,p=0;p<w.length&&p<s;p++){var b=w[p],E=Y2(b);if(!pe(E))return bo.Not;if((a=D(E[o]))!=null)return a}function D(L){var z=_e(L);if(L!=null&&Number.isFinite(Number(L))&&L!=="")return z?bo.Might:bo.Not;if(z&&L!=="-")return bo.Must}return bo.Not}var LA=Le();function Ite(n,t){Yi(LA.get(n)==null&&t),LA.set(n,t)}function Lte(n,t,e){var i=LA.get(t);if(!i)return e;var r=i(n);if(!r)return e;if(0)for(var o;o<r.length;o++);return e.concat(r)}var Ate=Ot(),ivt=Ot(),Mp=(function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,i){var r=ii(this.get("color",!0)),o=this.get("colorLayer",!0);return NLe(this,Ate,r,o,t,e,i)},n.prototype.clearColorPalette=function(){PLe(this,Ate)},n})();function kLe(n,t){for(var e=n.length,i=0;i<e;i++)if(n[i].length>t)return n[i];return n[e-1]}function NLe(n,t,e,i,r,o,a){o=o||n;var s=t(o),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var u=a==null||!i?e:kLe(i,a);if(u=u||e,!(!u||!u.length)){var d=u[l];return r&&(c[r]=d),s.paletteIdx=(l+1)%u.length,d}}function PLe(n,t){t(n).paletteIdx=0,t(n).paletteNameMap={}}var M_,Tp,zte,kte="\0_ec_inner",OLe=1;var Rte=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e,i,r,o,a,s){o=o||{},this.option=null,this._theme=new $t(o),this._locale=new $t(a),this._optionManager=s},t.prototype.setOption=function(e,i,r){var o=Ote(i);this._optionManager.setOption(e,r,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,i){return this._resetOption(e,Ote(i))},t.prototype._resetOption=function(e,i){var r=!1,o=this._optionManager;if(!e||e==="recreate"){var a=o.mountOption(e==="recreate");!this.option||e==="recreate"?zte(this,a):(this.restoreData(),this._mergeOption(a,i)),r=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!e||e==="recreate"||e==="media"){var l=o.getMediaOption(this);l.length&&O(l,function(c){r=!0,this._mergeOption(c,i)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Le(),c=i&&i.replaceMergeMainTypeMap;Tte(this),O(e,function(d,f){d!=null&&(kt.hasClass(f)?f&&(s.push(f),l.set(f,!0)):r[f]=r[f]==null?ke(d):je(r[f],d,!0))}),c&&c.each(function(d,f){kt.hasClass(f)&&!l.get(f)&&(s.push(f),l.set(f,!0))}),kt.topologicalTravel(s,kt.getAllClassMainTypes(),u,this);function u(d){var f=Lte(this,d,ii(e[d])),p=o.get(d),v=p?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll",_=lJ(p,f,v);dJ(_,d,kt),r[d]=null,o.set(d,null),a.set(d,0);var b=[],C=[],w=0,E,D;O(_,function(L,z){var R=L.existing,H=L.newOption;if(!H)R&&(R.mergeOption({},this),R.optionUpdated({},!1));else{var W=d==="series",$=kt.getClass(d,L.keyInfo.subType,!W);if(!$){if(0)var G,Z;return}if(d==="tooltip"){if(E)return;E=!0}if(R&&R.constructor===$)R.name=L.keyInfo.name,R.mergeOption(H,this),R.optionUpdated(H,!1);else{var te=fe({componentIndex:z},L.keyInfo);R=new $(H,this,this,te),fe(R,te),L.brandNew&&(R.__requireNewView=!0),R.init(H,this,this),R.optionUpdated(null,!0)}}R?(b.push(R.option),C.push(R),w++):(b.push(void 0),C.push(void 0))},this),r[d]=b,o.set(d,C),a.set(d,w),d==="series"&&M_(this)}this._seriesIndices||M_(this)},t.prototype.getOption=function(){var e=ke(this.option);return O(e,function(i,r){if(kt.hasClass(r)){for(var o=ii(i),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!qu(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,e[r]=o}}),delete e[kte],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,i){var r=this._componentsMap.get(e);if(r){var o=r[i||0];if(o)return o;if(i==null){for(var a=0;a<r.length;a++)if(r[a])return r[a]}}},t.prototype.queryComponents=function(e){var i=e.mainType;if(!i)return[];var r=e.index,o=e.id,a=e.name,s=this._componentsMap.get(i);if(!s||!s.length)return[];var l;return r!=null?(l=[],O(ii(r),function(c){s[c]&&l.push(s[c])})):o!=null?l=Nte("id",o,s):a!=null?l=Nte("name",a,s):l=hn(s,function(c){return!!c}),Pte(l,e)},t.prototype.findComponents=function(e){var i=e.query,r=e.mainType,o=s(i),a=o?this.queryComponents(o):hn(this._componentsMap.get(r),function(c){return!!c});return l(Pte(a,e));function s(c){var u=r+"Index",d=r+"Id",f=r+"Name";return c&&(c[u]!=null||c[d]!=null||c[f]!=null)?{mainType:r,index:c[u],id:c[d],name:c[f]}:null}function l(c){return e.filter?hn(c,e.filter):c}},t.prototype.eachComponent=function(e,i,r){var o=this._componentsMap;if(De(e)){var a=i,s=e;o.each(function(d,f){for(var p=0;d&&p<d.length;p++){var v=d[p];v&&s.call(a,f,v,v.componentIndex)}})}else for(var l=_e(e)?o.get(e):Se(e)?this.findComponents(e):null,c=0;l&&c<l.length;c++){var u=l[c];u&&i.call(r,u,u.componentIndex)}},t.prototype.getSeriesByName=function(e){var i=da(e,null);return hn(this._componentsMap.get("series"),function(r){return!!r&&i!=null&&r.name===i})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return hn(this._componentsMap.get("series"),function(i){return!!i&&i.subType===e})},t.prototype.getSeries=function(){return hn(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,i){Tp(this),O(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];e.call(i,o,r)},this)},t.prototype.eachRawSeries=function(e,i){O(this._componentsMap.get("series"),function(r){r&&e.call(i,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,i,r){Tp(this),O(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===e&&i.call(r,a,o)},this)},t.prototype.eachRawSeriesByType=function(e,i,r){return O(this.getSeriesByType(e),i,r)},t.prototype.isSeriesFiltered=function(e){return Tp(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,i){Tp(this);var r=[];O(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Le(r)},t.prototype.restoreData=function(e){M_(this);var i=this._componentsMap,r=[];i.each(function(o,a){kt.hasClass(a)&&r.push(a)}),kt.topologicalTravel(r,kt.getAllClassMainTypes(),function(o){O(i.get(o),function(a){a&&(o!=="series"||!RLe(a,e))&&a.restoreData()})})},t.internalField=(function(){M_=function(e){var i=e._seriesIndices=[];O(e._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),e._seriesIndicesMap=Le(i)},Tp=function(e){},zte=function(e,i){e.option={},e.option[kte]=OLe,e._componentsMap=Le({series:[]}),e._componentsCount=Le();var r=i.aria;Se(r)&&r.enabled==null&&(r.enabled=!0),FLe(i,e._theme.option),je(i,wte,!1),e._mergeOption(i,null)}})(),t})($t);function RLe(n,t){if(t){var e=t.seriesIndex,i=t.seriesId,r=t.seriesName;return e!=null&&n.componentIndex!==e||i!=null&&n.id!==i||r!=null&&n.name!==r}}function FLe(n,t){var e=n.color&&!n.colorLayer;O(t,function(i,r){r==="colorLayer"&&e||kt.hasClass(r)||(typeof i=="object"?n[r]=n[r]?je(n[r],i,!1):ke(i):n[r]==null&&(n[r]=i))})}function Nte(n,t,e){if(pe(t)){var i=Le();return O(t,function(o){if(o!=null){var a=da(o,null);a!=null&&i.set(o,!0)}}),hn(e,function(o){return o&&i.get(o[n])})}else{var r=da(t,null);return hn(e,function(o){return o&&r!=null&&o[n]===r})}}function Pte(n,t){return t.hasOwnProperty("subType")?hn(n,function(e){return e&&e.subType===t.subType}):n}function Ote(n){var t=Le();return n&&O(ii(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}cr(Rte,Mp);var T_=Rte;var BLe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],VLe=(function(){function n(t){O(BLe,function(e){this[e]=Ae(t[e],t)},this)}return n})(),E_=VLe;var AA={},ULe=(function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var i=[];O(AA,function(r,o){var a=r.create(t,e);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(t,e){O(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){AA[t]=e},n.get=function(t){return AA[t]},n})(),md=ULe;var HLe=/^(min|max)?(.+)$/,jLe=(function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,i){t&&(O(ii(t.series),function(a){a&&a.data&&oi(a.data)&&v3(a.data)}),O(ii(t.dataset),function(a){a&&a.source&&oi(a.source)&&v3(a.source)})),t=ke(t);var r=this._optionBackup,o=GLe(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],ke(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var r=t.getComponent("timeline");r&&(e=ke(i[r.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var e=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!r.length&&!o)return s;for(var l=0,c=r.length;l<c;l++)WLe(r[l].query,e,i)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!$Le(a,this._currentMediaIndices)&&(s=ge(a,function(u){return ke(u===-1?o.option:r[u].option)})),this._currentMediaIndices=a,s},n})();function GLe(n,t,e){var i=[],r,o,a=n.baseOption,s=n.timeline,l=n.options,c=n.media,u=!!n.media,d=!!(l||s||a&&a.timeline);a?(o=a,o.timeline||(o.timeline=s)):((d||u)&&(n.options=n.media=null),o=n),u&&pe(c)&&O(c,function(p){p&&p.option&&(p.query?i.push(p):r||(r=p))}),f(o),O(l,function(p){return f(p)}),O(i,function(p){return f(p.option)});function f(p){O(t,function(v){v(p,e)})}return{baseOption:o,timelineOptions:l||[],mediaDefault:r,mediaList:i}}function WLe(n,t,e){var i={width:t,height:e,aspectratio:t/e},r=!0;return O(n,function(o,a){var s=a.match(HLe);if(!(!s||!s[1]||!s[2])){var l=s[1],c=s[2].toLowerCase();qLe(i[c],o,l)||(r=!1)}}),r}function qLe(n,t,e){return e==="min"?n>=t:e==="max"?n<=t:n===t}function $Le(n,t){return n.join(",")===t.join(",")}var Fte=jLe;var P1=O,Dp=Se,Bte=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function zA(n){var t=n&&n.itemStyle;if(t)for(var e=0,i=Bte.length;e<i;e++){var r=Bte[e],o=t.normal,a=t.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?je(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?je(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function Kr(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var i=n[t].normal,r=n[t].emphasis;i&&(e?(n[t].normal=n[t].emphasis=null,Ne(n[t],i)):n[t]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[t]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function Ep(n){Kr(n,"itemStyle"),Kr(n,"lineStyle"),Kr(n,"areaStyle"),Kr(n,"label"),Kr(n,"labelLine"),Kr(n,"upperLabel"),Kr(n,"edgeLabel")}function Di(n,t){var e=Dp(n)&&n[t],i=Dp(e)&&e.textStyle;if(i)for(var r=0,o=uL.length;r<o;r++){var a=uL[r];i.hasOwnProperty(a)&&(e[a]=i[a])}}function i1(n){n&&(Ep(n),Di(n,"label"),n.emphasis&&Di(n.emphasis,"label"))}function YLe(n){if(Dp(n)){zA(n),Ep(n),Di(n,"label"),Di(n,"upperLabel"),Di(n,"edgeLabel"),n.emphasis&&(Di(n.emphasis,"label"),Di(n.emphasis,"upperLabel"),Di(n.emphasis,"edgeLabel"));var t=n.markPoint;t&&(zA(t),i1(t));var e=n.markLine;e&&(zA(e),i1(e));var i=n.markArea;i&&i1(i);var r=n.data;if(n.type==="graph"){r=r||n.nodes;var o=n.links||n.edges;if(o&&!oi(o))for(var a=0;a<o.length;a++)i1(o[a]);O(n.categories,function(c){Ep(c)})}if(r&&!oi(r))for(var a=0;a<r.length;a++)i1(r[a]);if(t=n.markPoint,t&&t.data)for(var s=t.data,a=0;a<s.length;a++)i1(s[a]);if(e=n.markLine,e&&e.data)for(var l=e.data,a=0;a<l.length;a++)pe(l[a])?(i1(l[a][0]),i1(l[a][1])):i1(l[a]);n.type==="gauge"?(Di(n,"axisLabel"),Di(n,"title"),Di(n,"detail")):n.type==="treemap"?(Kr(n.breadcrumb,"itemStyle"),O(n.levels,function(c){Ep(c)})):n.type==="tree"&&Ep(n.leaves)}}function rl(n){return pe(n)?n:n?[n]:[]}function Vte(n){return(pe(n)?n[0]:n)||{}}function kA(n,t){P1(rl(n.series),function(i){Dp(i)&&YLe(i)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),P1(e,function(i){P1(rl(n[i]),function(r){r&&(Di(r,"axisLabel"),Di(r.axisPointer,"label"))})}),P1(rl(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Di(r,"axisLabel"),Di(r&&r.axisPointer,"label")}),P1(rl(n.calendar),function(i){Kr(i,"itemStyle"),Di(i,"dayLabel"),Di(i,"monthLabel"),Di(i,"yearLabel")}),P1(rl(n.radar),function(i){Di(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),P1(rl(n.geo),function(i){Dp(i)&&(i1(i),P1(rl(i.regions),function(r){i1(r)}))}),P1(rl(n.timeline),function(i){i1(i),Kr(i,"label"),Kr(i,"itemStyle"),Kr(i,"controlStyle",!0);var r=i.data;pe(r)&&O(r,function(o){Se(o)&&(Kr(o,"label"),Kr(o,"itemStyle"))})}),P1(rl(n.toolbox),function(i){Kr(i,"iconStyle"),P1(i.feature,function(r){Kr(r,"iconStyle")})}),Di(Vte(n.axisPointer),"label"),Di(Vte(n.tooltip).axisPointer,"label")}function ZLe(n,t){for(var e=t.split(","),i=n,r=0;r<e.length&&(i=i&&i[e[r]],i!=null);r++);return i}function XLe(n,t,e,i){for(var r=t.split(","),o=n,a,s=0;s<r.length-1;s++)a=r[s],o[a]==null&&(o[a]={}),o=o[a];(i||o[r[s]]==null)&&(o[r[s]]=e)}function Ute(n){n&&O(QLe,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var QLe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],KLe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],NA=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Ip(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<NA.length;e++){var i=NA[e][1],r=NA[e][0];t[i]!=null&&(t[r]=t[i])}}function Hte(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function jte(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function JLe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function Gte(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&Gte(n[e].children,t)}function D_(n,t){kA(n,t),n.series=ii(n.series),O(n.series,function(e){if(Se(e)){var i=e.type;if(i==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(i==="pie"||i==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),Hte(e.label);var r=e.data;if(r&&!oi(r))for(var o=0;o<r.length;o++)Hte(r[o]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(i==="gauge"){var a=ZLe(e,"pointer.color");a!=null&&XLe(e,"itemStyle.color",a)}else if(i==="bar"){Ip(e),Ip(e.backgroundStyle),Ip(e.emphasis);var r=e.data;if(r&&!oi(r))for(var o=0;o<r.length;o++)typeof r[o]=="object"&&(Ip(r[o]),Ip(r[o]&&r[o].emphasis))}else if(i==="sunburst"){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),jte(e),Gte(e.data,jte)}else i==="graph"||i==="sankey"?JLe(e):i==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Ne(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),Ute(e)}}),n.dataRange&&(n.visualMap=n.dataRange),O(KLe,function(e){var i=n[e];i&&(pe(i)||(i=[i]),O(i,function(r){Ute(r)}))})}function PA(n){var t=Le();n.eachSeries(function(e){var i=e.get("stack");if(i){var r=t.get(i)||t.set(i,[]),o=e.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),t.each(eAe)}function eAe(n){O(n,function(t,e){var i=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(c,u,d){var f=a.get(t.stackedDimension,d);if(isNaN(f))return r;var p,v;s?v=a.getRawIndex(d):p=a.get(t.stackedByDimension,d);for(var _=NaN,b=e-1;b>=0;b--){var C=n[b];if(s||(v=C.data.rawIndexOf(C.stackedByDimension,p)),v>=0){var w=C.data.getByRawIndex(C.stackResultDimension,v);if(l==="all"||l==="positive"&&w>0||l==="negative"&&w<0||l==="samesign"&&f>=0&&w>0||l==="samesign"&&f<=0&&w<0){f=JK(f,w),_=w;break}}}return i[0]=f,i[1]=_,i})})}var I_=(function(){function n(t){this.data=t.data||(t.sourceFormat===t1?{}:[]),this.sourceFormat=t.sourceFormat||DA,this.seriesLayoutBy=t.seriesLayoutBy||n1,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var i=0;i<e.length;i++){var r=e[i];r.type==null&&w_(this,i)===bo.Must&&(r.type="ordinal")}}return n})();function hd(n){return n instanceof I_}function Lp(n,t,e){e=e||OA(n);var i=t.seriesLayoutBy,r=tAe(n,e,i,t.sourceHeader,t.dimensions),o=new I_({data:n,sourceFormat:e,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:ke(t)});return o}function gd(n){return new I_({data:n,sourceFormat:oi(n)?ga:pr})}function $te(n){return new I_({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:ke(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function OA(n){var t=DA;if(oi(n))t=ga;else if(pe(n)){n.length===0&&(t=mr);for(var e=0,i=n.length;e<i;e++){var r=n[e];if(r!=null){if(pe(r)||oi(r)){t=mr;break}else if(Se(r)){t=$o;break}}}}else if(Se(n)){for(var o in n)if(Uo(n,o)&&wi(n[o])){t=t1;break}}return t}function tAe(n,t,e,i,r){var o,a;if(!n)return{dimensionsDefine:Wte(r),startIndex:a,dimensionsDetectedCount:o};if(t===mr){var s=n;i==="auto"||i==null?qte(function(c){c!=null&&c!=="-"&&(_e(c)?a==null&&(a=1):a=0)},e,s,10):a=Ct(i)?i:i?1:0,!r&&a===1&&(r=[],qte(function(c,u){r[u]=c!=null?c+"":""},e,s,1/0)),o=r?r.length:e===il?s.length:s[0]?s[0].length:null}else if(t===$o)r||(r=nAe(n));else if(t===t1)r||(r=[],O(n,function(c,u){r.push(u)}));else if(t===pr){var l=Y2(n[0]);o=pe(l)&&l.length||1}return{startIndex:a,dimensionsDefine:Wte(r),dimensionsDetectedCount:o}}function nAe(n){for(var t=0,e;t<n.length&&!(e=n[t++]););if(e)return Lt(e)}function Wte(n){if(n){var t=Le();return ge(n,function(e,i){e=Se(e)?e:{name:e};var r={name:e.name,displayName:e.displayName,type:e.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r})}}function qte(n,t,e,i){if(t===il)for(var r=0;r<e.length&&r<i;r++)n(e[r]?e[r][0]:null,r);else for(var o=e[0]||[],r=0;r<o.length&&r<i;r++)n(o[r],r)}function L_(n){var t=n.sourceFormat;return t===$o||t===t1}var a4,s4,l4,Yte,Zte,A_=(function(){function n(t,e){var i=hd(t)?t:gd(t);this._source=i;var r=this._data=i.data;i.sourceFormat===ga&&(this._offset=0,this._dimSize=e,this._data=r),Zte(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=(function(){var t=n.prototype;t.pure=!1,t.persistent=!0})(),n.internalField=(function(){var t;Zte=function(a,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,d=l.startIndex,f=l.dimensionsDefine,p=Yte[UA(c,u)];if(fe(a,p),c===ga)a.getItem=e,a.count=r,a.fillStorage=i;else{var v=FA(c,u);a.getItem=Ae(v,null,s,d,f);var _=BA(c,u);a.count=Ae(_,null,s,d,f)}};var e=function(a,s){a=a-this._offset,s=s||[];for(var l=this._data,c=this._dimSize,u=c*a,d=0;d<c;d++)s[d]=l[u+d];return s},i=function(a,s,l,c){for(var u=this._data,d=this._dimSize,f=0;f<d;f++){for(var p=c[f],v=p[0]==null?1/0:p[0],_=p[1]==null?-1/0:p[1],b=s-a,C=l[f],w=0;w<b;w++){var E=u[w*d+f];C[a+w]=E,E<v&&(v=E),E>_&&(_=E)}p[0]=v,p[1]=_}},r=function(){return this._data?this._data.length/this._dimSize:0};Yte=(t={},t[mr+"_"+n1]={pure:!0,appendData:o},t[mr+"_"+il]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[$o]={pure:!0,appendData:o},t[t1]={pure:!0,appendData:function(a){var s=this._data;O(a,function(l,c){for(var u=s[c]||(s[c]=[]),d=0;d<(l||[]).length;d++)u.push(l[d])})}},t[pr]={appendData:o},t[ga]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}})(),n})();var Xte=function(n,t,e,i){return n[i]},iAe=(a4={},a4[mr+"_"+n1]=function(n,t,e,i){return n[i+t]},a4[mr+"_"+il]=function(n,t,e,i,r){i+=t;for(var o=r||[],a=n,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},a4[$o]=Xte,a4[t1]=function(n,t,e,i,r){for(var o=r||[],a=0;a<e.length;a++){var s=e[a].name,l=n[s];o[a]=l?l[i]:null}return o},a4[pr]=Xte,a4);function FA(n,t){var e=iAe[UA(n,t)];return e}var Qte=function(n,t,e){return n.length},rAe=(s4={},s4[mr+"_"+n1]=function(n,t,e){return Math.max(0,n.length-t)},s4[mr+"_"+il]=function(n,t,e){var i=n[0];return i?Math.max(0,i.length-t):0},s4[$o]=Qte,s4[t1]=function(n,t,e){var i=e[0].name,r=n[i];return r?r.length:0},s4[pr]=Qte,s4);function BA(n,t){var e=rAe[UA(n,t)];return e}var RA=function(n,t,e){return n[t]},oAe=(l4={},l4[mr]=RA,l4[$o]=function(n,t,e){return n[e]},l4[t1]=RA,l4[pr]=function(n,t,e){var i=Y2(n);return i instanceof Array?i[t]:i},l4[ga]=RA,l4);function VA(n){var t=oAe[n];return t}function UA(n,t){return n===mr?n+"_"+t:n}function ol(n,t,e){if(n){var i=n.getRawDataItem(t);if(i!=null){var r=n.getStore(),o=r.getSource().sourceFormat;if(e!=null){var a=n.getDimensionIndex(e),s=r.getDimensionProperty(a);return VA(o)(i,a,s)}else{var l=i;return o===pr&&(l=Y2(i)),l}}}}var aAe=/\{@(.+?)\}/g,Kte=(function(){function n(){}return n.prototype.getDataParams=function(t,e){var i=this.getData(e),r=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),s=i.getRawDataItem(t),l=i.getItemVisual(t,"style"),c=l&&l[i.getItemVisual(t,"drawType")||"fill"],u=l&&l.stroke,d=this.mainType,f=d==="series",p=i.userOutput&&i.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:a,dataIndex:o,data:s,dataType:e,value:r,color:c,borderColor:u,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,i,r,o,a){e=e||"normal";var s=this.getData(i),l=this.getDataParams(t,i);if(a&&(l.value=a.interpolatedValue),r!=null&&pe(l.value)&&(l.value=l.value[r]),!o){var c=s.getItemModel(t);o=c.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(De(o))return l.status=e,l.dimensionIndex=r,o(l);if(_e(o)){var u=dd(o,l);return u.replace(aAe,function(d,f){var p=f.length,v=f;v.charAt(0)==="["&&v.charAt(p-1)==="]"&&(v=+v.slice(1,p-1));var _=ol(s,t,v);if(a&&pe(a.interpolatedValue)){var b=s.getDimensionIndex(v);b>=0&&(_=a.interpolatedValue[b])}return _!=null?_+"":""})}},n.prototype.getRawValue=function(t,e){return ol(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,i){},n})();function HA(n){var t,e;return Se(n)?n.type&&(e=n):t=n,{text:t,frag:e}}function R0(n){return new sAe(n)}var sAe=(function(){function n(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e=this._upstream,i=t&&t.skip;if(this._dirty&&e){var r=this.context;r.data=r.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!i&&(o=this._plan(this.context));var a=u(this._modBy),s=this._modDataCount||0,l=u(t&&t.modBy),c=t&&t.modDataCount||0;(a!==l||s!==c)&&(o="reset");function u(w){return!(w>=1)&&(w=1),w}var d;(this._dirty||o==="reset")&&(this._dirty=!1,d=this._doReset(i)),this._modBy=l,this._modDataCount=c;var f=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,v=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(d||p<v)){var _=this._progress;if(pe(_))for(var b=0;b<_.length;b++)this._doProgress(_[b],p,v,l,c);else this._doProgress(_,p,v,l,c)}this._dueIndex=v;var C=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=C}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,i,r,o){Jte.reset(e,i,r,o),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:Jte.next},this.context)},n.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,i;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(i=e.forceFirstProgress,e=e.progress),pe(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n})();var Jte=(function(){var n,t,e,i,r,o={reset:function(l,c,u,d){t=l,n=c,e=u,i=d,r=Math.ceil(i/e),o.next=e>1&&i>0?s:a}};return o;function a(){return t<n?t++:null}function s(){var l=t%r*e+Math.ceil(t/r),c=t>=n?null:l<i?l:t;return t++,c}})();function vd(n,t){var e=t&&t.type;return e==="ordinal"?n:(e==="time"&&!Ct(n)&&n!=null&&n!=="-"&&(n=+dr(n)),n==null||n===""?NaN:Number(n))}var Qvt=Le({number:function(n){return parseFloat(n)},time:function(n){return+dr(n)},trim:function(n){return _e(n)?ur(n):n}});var lAe={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},Kvt=(function(){function n(t,e){if(!Ct(e)){var i="";fr(i)}this._opFn=lAe[t],this._rvalFloat=Ya(e)}return n.prototype.evaluate=function(t){return Ct(t)?this._opFn(t,this._rvalFloat):this._opFn(Ya(t),this._rvalFloat)},n})(),ene=(function(){function n(t,e){var i=t==="desc";this._resultLT=i?1:-1,e==null&&(e=i?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return n.prototype.evaluate=function(t,e){var i=Ct(t)?t:Ya(t),r=Ct(e)?e:Ya(e),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var s=_e(t),l=_e(e);s&&(i=l?t:0),l&&(r=s?e:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n})();var Jvt=(function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Ya(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i!==this._rvalTypeof&&(i==="number"||this._rvalTypeof==="number")&&(e=Ya(t)===this._rvalFloat)}return this._isEQ?e:!e},n})();var cAe=(function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return vd(t,e)},n})();function uAe(n,t){var e=new cAe,i=n.data,r=e.sourceFormat=n.sourceFormat,o=n.startIndex,a="";n.seriesLayoutBy!==n1&&fr(a);var s=[],l={},c=n.dimensionsDefine;if(c)O(c,function(_,b){var C=_.name,w={index:b,name:C,displayName:_.displayName};if(s.push(w),C!=null){var E="";Uo(l,C)&&fr(E),l[C]=w}});else for(var u=0;u<n.dimensionsDetectedCount;u++)s.push({index:u});var d=FA(r,n1);t.__isBuiltIn&&(e.getRawDataItem=function(_){return d(i,o,s,_)},e.getRawData=Ae(dAe,null,n)),e.cloneRawData=Ae(fAe,null,n);var f=BA(r,n1);e.count=Ae(f,null,i,o,s);var p=VA(r);e.retrieveValue=function(_,b){var C=d(i,o,s,_);return v(C,b)};var v=e.retrieveValueFromItem=function(_,b){if(_!=null){var C=s[b];if(C)return p(_,b,C.name)}};return e.getDimensionInfo=Ae(pAe,null,s,l),e.cloneAllDimensionInfo=Ae(mAe,null,s),e}function dAe(n){var t=n.sourceFormat;if(!jA(t)){var e="";fr(e)}return n.data}function fAe(n){var t=n.sourceFormat,e=n.data;if(!jA(t)){var i="";fr(i)}if(t===mr){for(var r=[],o=0,a=e.length;o<a;o++)r.push(e[o].slice());return r}else if(t===$o){for(var r=[],o=0,a=e.length;o<a;o++)r.push(fe({},e[o]));return r}}function pAe(n,t,e){if(e!=null){if(Ct(e)||!isNaN(e)&&!Uo(t,e))return n[e];if(Uo(t,e))return t[e]}}function mAe(n){return ke(n)}var tne=Le();function nne(n){n=ke(n);var t=n.type,e="";t||fr(e);var i=t.split(":");i.length!==2&&fr(e);var r=!1;i[0]==="echarts"&&(t=i[1],r=!0),n.__isBuiltIn=r,tne.set(t,n)}function ine(n,t,e){var i=ii(n),r=i.length,o="";r||fr(o);for(var a=0,s=r;a<s;a++){var l=i[a];t=hAe(l,t,e,r===1?null:a),a!==s-1&&(t.length=Math.max(t.length,1))}return t}function hAe(n,t,e,i){var r="";t.length||fr(r),Se(n)||fr(r);var o=n.type,a=tne.get(o);a||fr(r);var s=ge(t,function(u){return uAe(u,a)}),l=ii(a.transform({upstream:s[0],upstreamList:s,config:ke(n.config)}));if(0&&n.print)var c;return ge(l,function(u,d){var f="";Se(u)||fr(f),u.data||fr(f);var p=OA(u.data);jA(p)||fr(f);var v,_=t[0];if(_&&d===0&&!u.dimensions){var b=_.startIndex;b&&(u.data=_.data.slice(0,b).concat(u.data)),v={seriesLayoutBy:n1,sourceHeader:b,dimensions:_.metaRawOption.dimensions}}else v={seriesLayoutBy:n1,sourceHeader:0,dimensions:u.dimensions};return Lp(u.data,v,null)})}function jA(n){return n===mr||n===$o}var z_="undefined",gAe=typeof Uint32Array===z_?Array:Uint32Array,vAe=typeof Uint16Array===z_?Array:Uint16Array,WA=typeof Int32Array===z_?Array:Int32Array,rne=typeof Float64Array===z_?Array:Float64Array,ane={float:rne,int:WA,ordinal:Array,number:Array,time:rne},GA;function yd(n){return n>65535?gAe:vAe}function _d(){return[1/0,-1/0]}function yAe(n){var t=n.constructor;return t===Array?n.slice():new t(n)}function one(n,t,e,i,r){var o=ane[e||"float"];if(r){var a=n[t],s=a&&a.length;if(s!==i){for(var l=new o(i),c=0;c<s;c++)l[c]=a[c];n[t]=l}}else n[t]=new o(i)}var _Ae=(function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Le()}return n.prototype.initData=function(t,e,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),o=this.defaultDimValueGetter=GA[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[];var a=L_(r);this._dimensions=ge(e,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(t);if(o!=null){if(r[o].type===e)return o}else o=r.length;return r[o]={type:e},i.set(t,o),this._chunks[o]=new ane[e||"float"](this._rawCount),this._rawExtent[o]=_d(),o},n.prototype.collectOrdinalMeta=function(t,e){var i=this._chunks[t],r=this._dimensions[t],o=this._rawExtent,a=r.ordinalOffset||0,s=i.length;a===0&&(o[t]=_d());for(var l=o[t],c=a;c<s;c++){var u=i[c]=e.parseAndCollect(i[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}r.ordinalMeta=e,r.ordinalOffset=s,r.type="ordinal"},n.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],i=e.ordinalMeta;return i},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,i=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(t,e){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),c=0;c<o;c++){var u=r[c];one(i,c,u.type,l,!0)}for(var d=[],f=s;f<l;f++)for(var p=f-s,v=0;v<o;v++){var u=r[v],_=GA.arrayRows.call(this,t[p]||d,u.property,p,v);i[v][f]=_;var b=a[v];_<b[0]&&(b[0]=_),_>b[1]&&(b[1]=_)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(t,e,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,c=ge(a,function(w){return w.property}),u=0;u<s;u++){var d=a[u];l[u]||(l[u]=_d()),one(o,u,d.type,e,i)}if(r.fillStorage)r.fillStorage(t,e,o,l);else for(var f=[],p=t;p<e;p++){f=r.getItem(p,f);for(var v=0;v<s;v++){var _=o[v],b=this._dimValueGetter(f,c[v],p,v);_[p]=b;var C=l[v];b<C[0]&&(C[0]=b),b>C[1]&&(C[1]=b)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var i=[],r=[];if(e==null){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=t;for(var o=0,a=r.length;o<a;o++)i.push(this.get(r[o],e));return i},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._chunks[t];return i?i[e]:NaN},n.prototype.getSum=function(t){var e=this._chunks[t],i=0;if(e)for(var r=0,o=this.count();r<o;r++){var a=this.get(t,r);isNaN(a)||(i+=a)}return i},n.prototype.getMedian=function(t){var e=[];this.each([t],function(o){isNaN(o)||e.push(o)});var i=e.sort(function(o,a){return o-a}),r=this.count();return r===0?0:r%2===1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(i!=null&&i<this._count&&i===t)return t;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(e[a]<t)r=a+1;else if(e[a]>t)o=a-1;else return a}return-1},n.prototype.indicesOfNearest=function(t,e,i){var r=this._chunks,o=r[t],a=[];if(!o)return a;i==null&&(i=1/0);for(var s=1/0,l=-1,c=0,u=0,d=this.count();u<d;u++){var f=this.getRawIndex(u),p=e-o[f],v=Math.abs(p);v<=i&&((v<s||v===s&&p>=0&&l<0)&&(s=v,l=p,c=0),p===l&&(a[c++]=u))}return a.length=c,a},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,r=this._count;if(i===Array){t=new i(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new i(e.buffer,0,r)}else{var i=yd(this._rawCount);t=new i(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=yd(i._rawCount),a=new o(r),s=[],l=t.length,c=0,u=t[0],d=i._chunks,f=0;f<r;f++){var p=void 0,v=i.getRawIndex(f);if(l===0)p=e(f);else if(l===1){var _=d[u][v];p=e(_,f)}else{for(var b=0;b<l;b++)s[b]=d[t[b]][v];s[b]=f,p=e.apply(null,s)}p&&(a[c++]=v)}return c<r&&(i._indices=a),i._count=c,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(t){var e=this.clone(),i=e._count;if(!i)return this;var r=Lt(t),o=r.length;if(!o)return this;var a=e.count(),s=yd(e._rawCount),l=new s(a),c=0,u=r[0],d=t[u][0],f=t[u][1],p=e._chunks,v=!1;if(!e._indices){var _=0;if(o===1){for(var b=p[r[0]],C=0;C<i;C++){var w=b[C];(w>=d&&w<=f||isNaN(w))&&(l[c++]=_),_++}v=!0}else if(o===2){for(var b=p[r[0]],E=p[r[1]],D=t[r[1]][0],L=t[r[1]][1],C=0;C<i;C++){var w=b[C],z=E[C];(w>=d&&w<=f||isNaN(w))&&(z>=D&&z<=L||isNaN(z))&&(l[c++]=_),_++}v=!0}}if(!v)if(o===1)for(var C=0;C<a;C++){var R=e.getRawIndex(C),w=p[r[0]][R];(w>=d&&w<=f||isNaN(w))&&(l[c++]=R)}else for(var C=0;C<a;C++){for(var H=!0,R=e.getRawIndex(C),W=0;W<o;W++){var $=r[W],w=p[$][R];(w<t[$][0]||w>t[$][1])&&(H=!1)}H&&(l[c++]=e.getRawIndex(C))}return c<a&&(e._indices=l),e._count=c,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var i=this.clone(t);return this._updateDims(i,t,e),i},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,i){for(var r=t._chunks,o=[],a=e.length,s=t.count(),l=[],c=t._rawExtent,u=0;u<e.length;u++)c[e[u]]=_d();for(var d=0;d<s;d++){for(var f=t.getRawIndex(d),p=0;p<a;p++)l[p]=r[e[p]][f];l[a]=d;var v=i&&i.apply(null,l);if(v!=null){typeof v!="object"&&(o[0]=v,v=o);for(var u=0;u<v.length;u++){var _=e[u],b=v[u],C=c[_],w=r[_];w&&(w[f]=b),b<C[0]&&(C[0]=b),b>C[1]&&(C[1]=b)}}}},n.prototype.lttbDownSample=function(t,e){var i=this.clone([t],!0),r=i._chunks,o=r[t],a=this.count(),s=0,l=Math.floor(1/e),c=this.getRawIndex(0),u,d,f,p=new(yd(this._rawCount))(Math.min((Math.ceil(a/l)+2)*2,a));p[s++]=c;for(var v=1;v<a-1;v+=l){for(var _=Math.min(v+l,a-1),b=Math.min(v+l*2,a),C=(b+_)/2,w=0,E=_;E<b;E++){var D=this.getRawIndex(E),L=o[D];isNaN(L)||(w+=L)}w/=b-_;var z=v,R=Math.min(v+l,a),H=v-1,W=o[c];u=-1,f=z;for(var $=-1,G=0,E=z;E<R;E++){var D=this.getRawIndex(E),L=o[D];if(isNaN(L)){G++,$<0&&($=D);continue}d=Math.abs((H-C)*(L-W)-(H-E)*(w-W)),d>u&&(u=d,f=D)}G>0&&G<R-z&&(p[s++]=Math.min($,f),f=Math.max($,f)),p[s++]=f,c=f}return p[s++]=this.getRawIndex(a-1),i._count=s,i._indices=p,i.getRawIndex=this._getRawIdx,i},n.prototype.minmaxDownSample=function(t,e){for(var i=this.clone([t],!0),r=i._chunks,o=Math.floor(1/e),a=r[t],s=this.count(),l=new(yd(this._rawCount))(Math.ceil(s/o)*2),c=0,u=0;u<s;u+=o){var d=u,f=a[this.getRawIndex(d)],p=u,v=a[this.getRawIndex(p)],_=o;u+o>s&&(_=s-u);for(var b=0;b<_;b++){var C=this.getRawIndex(u+b),w=a[C];w<f&&(f=w,d=u+b),w>v&&(v=w,p=u+b)}var E=this.getRawIndex(d),D=this.getRawIndex(p);d<p?(l[c++]=E,l[c++]=D):(l[c++]=D,l[c++]=E)}return i._count=c,i._indices=l,i._updateGetRawIdx(),i},n.prototype.downSample=function(t,e,i,r){for(var o=this.clone([t],!0),a=o._chunks,s=[],l=Math.floor(1/e),c=a[t],u=this.count(),d=o._rawExtent[t]=_d(),f=new(yd(this._rawCount))(Math.ceil(u/l)),p=0,v=0;v<u;v+=l){l>u-v&&(l=u-v,s.length=l);for(var _=0;_<l;_++){var b=this.getRawIndex(v+_);s[_]=c[b]}var C=i(s),w=this.getRawIndex(Math.min(v+r(s,C)||0,u-1));c[w]=C,C<d[0]&&(d[0]=C),C>d[1]&&(d[1]=C),f[p++]=w}return o._count=p,o._indices=f,o._updateGetRawIdx(),o},n.prototype.each=function(t,e){if(this._count)for(var i=t.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(i){case 0:e(o);break;case 1:e(r[t[0]][s],o);break;case 2:e(r[t[0]][s],r[t[1]][s],o);break;default:for(var l=0,c=[];l<i;l++)c[l]=r[t[l]][s];c[l]=o,e.apply(null,c)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],i=_d();if(!e)return i;var r=this.count(),o=!this._indices,a;if(o)return this._rawExtent[t].slice();if(a=this._extent[t],a)return a.slice();a=i;for(var s=a[0],l=a[1],c=0;c<r;c++){var u=this.getRawIndex(c),d=e[u];d<s&&(s=d),d>l&&(l=d)}return a=[s,l],this._extent[t]=a,a},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][e]);return i},n.prototype.clone=function(t,e){var i=new n,r=this._chunks,o=t&&Wr(t,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<r.length;a++)i._chunks[a]=o[a]?yAe(r[a]):r[a];else i._chunks=r;return this._copyCommonProps(i),e||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=ke(this._extent),t._rawExtent=ke(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var i=this._indices.length;e=new t(i);for(var r=0;r<i;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=(function(){function t(e,i,r,o){return vd(e[o],this._dimensions[o])}GA={arrayRows:t,objectRows:function(e,i,r,o){return vd(e[i],this._dimensions[o])},keyedColumns:t,original:function(e,i,r,o){var a=e&&(e.value==null?e:e.value);return vd(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(e,i,r,o){return e[o]}}})(),n})(),Ap=_Ae;var lne=(function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),i=!!e.length,r,o;if(k_(t)){var a=t,s=void 0,l=void 0,c=void 0;if(i){var u=e[0];u.prepareSource(),c=u.getSource(),s=c.data,l=c.sourceFormat,o=[u._getVersionSign()]}else s=a.get("data",!0),l=oi(s)?ga:pr,o=[];var d=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},p=nt(d.seriesLayoutBy,f.seriesLayoutBy)||null,v=nt(d.sourceHeader,f.sourceHeader),_=nt(d.dimensions,f.dimensions),b=p!==f.seriesLayoutBy||!!v!=!!f.sourceHeader||_;r=b?[Lp(s,{seriesLayoutBy:p,sourceHeader:v,dimensions:_},l)]:[]}else{var C=t;if(i){var w=this._applyTransform(e);r=w.sourceList,o=w.upstreamSignList}else{var E=C.get("source",!0);r=[Lp(E,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(r,o)},n.prototype._applyTransform=function(t){var e=this._sourceHost,i=e.get("transform",!0),r=e.get("fromTransformResult",!0);if(r!=null){var o="";t.length!==1&&sne(o)}var a,s=[],l=[];return O(t,function(c){c.prepareSource();var u=c.getSource(r||0),d="";r!=null&&!u&&sne(d),s.push(u),l.push(c._getVersionSign())}),i?a=ine(i,s,{datasetIndex:e.componentIndex}):r!=null&&(a=[$te(s[0])]),{sourceList:a,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var i=t[e];if(i._isDirty()||this._upstreamSignList[e]!==i._getVersionSign())return!0}},n.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,i){var r=0,o=this._storeList,a=o[r];a||(a=o[r]={});var s=a[i];if(!s){var l=this._getUpstreamSourceManagers()[0];k_(this._sourceHost)&&l?s=l._innerGetDataStore(t,e,i):(s=new Ap,s.initData(new A_(e,t.length),t)),a[i]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(k_(t)){var e=IA(t);return e?[e.getSourceManager()]:[]}else return ge(Dte(t),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,i,r;if(k_(t))e=t.get("seriesLayoutBy",!0),i=t.get("sourceHeader",!0),r=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;e=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),r=o.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:i,dimensions:r}},n})();function k_(n){return n.mainType==="series"}function sne(n){throw new Error(n)}var bAe="line-height:1";function cne(n){var t=n.lineHeight;return t==null?bAe:"line-height:"+Zi(t+"")+"px"}function une(n,t){var e=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Zi(i+"")+"px;color:"+Zi(e)+";font-weight:"+Zi(r+""),valueStyle:"font-size:"+Zi(a+"")+"px;color:"+Zi(o)+";font-weight:"+Zi(s+"")}:{nameStyle:{fontSize:i,fill:e,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var xAe=[0,10,20,30],CAe=["",`
`,`

`,`


`];function c4(n,t){return t.type=n,t}function qA(n){return n.type==="section"}function dne(n){return qA(n)?SAe:wAe}function fne(n){if(qA(n)){var t=0,e=n.blocks.length,i=e>1||e>0&&!n.noHeader;return O(n.blocks,function(r){var o=fne(r);o>=t&&(t=o+ +(i&&(!o||qA(r)&&!r.noHeader)))}),t}return 0}function SAe(n,t,e,i){var r=t.noHeader,o=MAe(fne(t)),a=[],s=t.blocks||[];Yi(!s||pe(s)),s=s||[];var l=n.orderMode;if(t.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Uo(c,l)){var u=new ene(c[l],null);s.sort(function(_,b){return u.evaluate(_.sortParam,b.sortParam)})}else l==="seriesDesc"&&s.reverse()}O(s,function(_,b){var C=t.valueFormatter,w=dne(_)(C?fe(fe({},n),{valueFormatter:C}):n,_,b>0?o.html:0,i);w!=null&&a.push(w)});var d=n.renderMode==="richText"?a.join(o.richText):$A(i,a.join(""),r?e:o.html);if(r)return d;var f=v_(t.header,"ordinal",n.useUTC),p=une(i,n.renderMode).nameStyle,v=cne(i);return n.renderMode==="richText"?pne(n,f,p)+o.richText+d:$A(i,'<div style="'+p+";"+v+';">'+Zi(f)+"</div>"+d,e)}function wAe(n,t,e,i){var r=n.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,l=t.name,c=n.useUTC,u=t.valueFormatter||n.valueFormatter||function(D){return D=pe(D)?D:[D],ge(D,function(L,z){return v_(L,pe(p)?p[z]:p,c)})};if(!(o&&a)){var d=s?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),f=o?"":v_(l,"ordinal",c),p=t.valueType,v=a?[]:u(t.value,t.dataIndex),_=!s||!o,b=!s&&o,C=une(i,r),w=C.nameStyle,E=C.valueStyle;return r==="richText"?(s?"":d)+(o?"":pne(n,f,w))+(a?"":DAe(n,v,_,b,E)):$A(i,(s?"":d)+(o?"":TAe(f,!s,w))+(a?"":EAe(v,_,b,E)),e)}}function YA(n,t,e,i,r,o){if(n){var a=dne(n),s={useUTC:r,renderMode:e,orderMode:i,markupStyleCreator:t,valueFormatter:n.valueFormatter};return a(s,n,0,o)}}function MAe(n){return{html:xAe[n],richText:CAe[n]}}function $A(n,t,e){var i='<div style="clear:both"></div>',r="margin: "+e+"px 0 0",o=cne(n);return'<div style="'+r+";"+o+';">'+t+i+"</div>"}function TAe(n,t,e){var i=t?"margin-left:2px":"";return'<span style="'+e+";"+i+'">'+Zi(n)+"</span>"}function EAe(n,t,e,i){var r=e?"10px":"20px",o=t?"float:right;margin-left:"+r:"";return n=pe(n)?n:[n],'<span style="'+o+";"+i+'">'+ge(n,function(a){return Zi(a)}).join("&nbsp;&nbsp;")+"</span>"}function pne(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function DAe(n,t,e,i,r){var o=[r],a=i?10:20;return e&&o.push({padding:[0,0,0,a],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(pe(t)?t.join("  "):t,o)}function mne(n,t){var e=n.getData().getItemVisual(t,"style"),i=e[n.visualDrawType];return N1(i)}function N_(n,t){var e=n.get("padding");return e??(t==="richText"?[8,10]:10)}var P_=(function(){function n(){this.richTextStyles={},this._nextStyleNameId=Oy()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,i){var r=i==="richText"?this._generateStyleName():null,o=y_({color:e,type:t,renderMode:i,markerId:r});return _e(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(t,e){var i={};pe(e)?O(e,function(o){return fe(i,o)}):fe(i,e);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+t+"}"},n})();function hne(n){var t=n.series,e=n.dataIndex,i=n.multipleSeries,r=t.getData(),o=r.mapDimensionsAll("defaultedTooltip"),a=o.length,s=t.getRawValue(e),l=pe(s),c=mne(t,e),u,d,f,p;if(a>1||l&&!a){var v=IAe(s,t,e,o,c);u=v.inlineValues,d=v.inlineValueTypes,f=v.blocks,p=v.inlineValues[0]}else if(a){var _=r.getDimensionInfo(o[0]);p=u=ol(r,e,o[0]),d=_.type}else p=u=l?s[0]:s;var b=$u(t),C=b&&t.name||"",w=r.getName(e),E=i?C:w;return c4("section",{header:C,noHeader:i||!b,sortParam:p,blocks:[c4("nameValue",{markerType:"item",markerColor:c,name:E,noName:!ur(E),value:u,valueType:d,dataIndex:e})].concat(f||[])})}function IAe(n,t,e,i,r){var o=t.getData(),a=Wr(n,function(d,f,p){var v=o.getDimensionInfo(p);return d=d||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],l=[],c=[];i.length?O(i,function(d){u(ol(o,e,d),d)}):O(n,u);function u(d,f){var p=o.getDimensionInfo(f);!p||p.otherDims.tooltip===!1||(a?c.push(c4("nameValue",{markerType:"subItem",markerColor:r,name:p.displayName,value:d,valueType:p.type})):(s.push(d),l.push(p.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:c}}var F0=Ot();function O_(n,t){return n.getName(t)||n.getId(t)}var LAe="__universalTransitionEnabled",R_=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,i,r){this.seriesIndex=this.componentIndex,this.dataTask=R0({count:zAe,reset:kAe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r);var o=F0(this).sourceManager=new lne(this);o.prepareSource();var a=this.getInitialData(e,r);vne(a,this),this.dataTask.context.data=a,F0(this).dataBeforeProcessed=a,gne(this),this._initSelectedMapFromData(a)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=O0(this),o=r?js(e):{},a=this.subType;kt.hasClass(a)&&(a+="Series"),je(e,i.getTheme().get(this.subType)),je(e,this.getDefaultOption()),cL(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Hs(e,o,r)},t.prototype.mergeOption=function(e,i){e=je(this.option,e,!0),this.fillDataTextStyle(e.data);var r=O0(this);r&&Hs(this.option,e,r);var o=F0(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(e,i);vne(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,F0(this).dataBeforeProcessed=a,gne(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!oi(e))for(var i=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&cL(e[r],"label",i)},t.prototype.getInitialData=function(e,i){},t.prototype.appendData=function(e){var i=this.getRawData();i.appendData(e.data)},t.prototype.getData=function(e){var i=ZA(this);if(i){var r=i.context.data;return e==null||!r.getLinkedData?r:r.getLinkedData(e)}else return F0(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var i=ZA(this);if(i){var r=i.context;r.outputData=e,i!==this.dataTask&&(r.data=e)}F0(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Le(e)},t.prototype.getSourceManager=function(){return F0(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return F0(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,i,r){return hne({series:this,dataIndex:e,multipleSeries:i})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Be.node&&!(e&&e.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,i,r){var o=this.ecModel,a=Mp.prototype.getColorFromPalette.call(this,e,i,r);return a||(a=o.getColorFromPalette(e,i,r)),a},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,i){this._innerSelect(this.getData(i),e)},t.prototype.unselect=function(e,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if(o==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<e.length;s++){var l=e[s],c=O_(a,l);r[c]=!1,this._selectedDataIndicesMap[c]=-1}}},t.prototype.toggleSelect=function(e,i){for(var r=[],o=0;o<e.length;o++)r[0]=e[o],this.isSelected(e[o],i)?this.unselect(r,i):this.select(r,i)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,i=Lt(e),r=[],o=0;o<i.length;o++){var a=e[i[o]];a>=0&&r.push(a)}return r},t.prototype.isSelected=function(e,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return(r==="all"||r[O_(o,e)])&&!o.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[LAe])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,i){var r,o,a=this.option,s=a.selectedMode,l=i.length;if(!(!s||!l)){if(s==="series")a.selectedMap="all";else if(s==="multiple"){Se(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,u=0;u<l;u++){var d=i[u],f=O_(e,d);c[f]=!0,this._selectedDataIndicesMap[f]=e.getRawIndex(d)}}else if(s==="single"||s===!0){var p=i[l-1],f=O_(e,p);a.selectedMap=(r={},r[f]=!0,r),this._selectedDataIndicesMap=(o={},o[f]=e.getRawIndex(p),o)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var i=[];e.hasItemOption&&e.each(function(r){var o=e.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(e,i)}},t.registerClass=function(e){return kt.registerClass(e)},t.protoInitialize=(function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"})(),t})(kt);cr(R_,Kte);cr(R_,Mp);Ry(R_,kt);function gne(n){var t=n.name;$u(n)||(n.name=AAe(n)||t)}function AAe(n){var t=n.getRawData(),e=t.mapDimensionsAll("seriesName"),i=[];return O(e,function(r){var o=t.getDimensionInfo(r);o.displayName&&i.push(o.displayName)}),i.join(" ")}function zAe(n){return n.model.getRawData().count()}function kAe(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),NAe}function NAe(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function vne(n,t){O(fI(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,lt(PAe,t))})}function PAe(n,t){var e=ZA(n);return e&&e.setOutputEnd((t||this).count()),t}function ZA(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var i=e.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}var xo=R_;var XA=(function(){function n(){this.group=new Pt,this.uid=Vs("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){},n.prototype.updateLayout=function(t,e,i,r){},n.prototype.updateVisual=function(t,e,i,r){},n.prototype.toggleBlurSeries=function(t,e,i){},n.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},n})();Yu(XA);M0(XA);var Qn=XA;function u4(){var n=Ot();return function(t){var e=n(t),i=t.pipelineContext,r=!!e.large,o=!!e.progressiveRender,a=e.large=!!(i&&i.large),s=e.progressiveRender=!!(i&&i.progressiveRender);return(r!==a||o!==s)&&"reset"}}var bne=Ot(),OAe=u4(),QA=(function(){function n(){this.group=new Pt,this.uid=Vs("viewChart"),this.renderTask=R0({plan:RAe,reset:FAe}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.highlight=function(t,e,i,r){var o=t.getData(r&&r.dataType);o&&_ne(o,r,"emphasis")},n.prototype.downplay=function(t,e,i,r){var o=t.getData(r&&r.dataType);o&&_ne(o,r,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateLayout=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateVisual=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.eachRendered=function(t){n4(this.group,t)},n.markUpdateMethod=function(t,e){bne(t).updateMethod=e},n.protoInitialize=(function(){var t=n.prototype;t.type="chart"})(),n})();function yne(n,t,e){n&&lp(n)&&(t==="emphasis"?Os:Rs)(n,e)}function _ne(n,t,e){var i=Za(n,t),r=t&&t.highlightKey!=null?bee(t.highlightKey):null;i!=null?O(ii(i),function(o){yne(n.getItemGraphicEl(o),e,r)}):n.eachItemGraphicEl(function(o){yne(o,e,r)})}Yu(QA,["dispose"]);M0(QA);function RAe(n){return OAe(n.model)}function FAe(n){var t=n.model,e=n.ecModel,i=n.api,r=n.payload,o=t.pipelineContext.progressiveRender,a=n.view,s=r&&bne(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return l!=="render"&&a[l](t,e,i,r),BAe[l]}var BAe={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Sr=QA;var F_="\0__throttleOriginMethod",xne="\0__throttleRate",Cne="\0__throttleType";function d4(n,t,e){var i,r=0,o=0,a=null,s,l,c,u;t=t||0;function d(){o=new Date().getTime(),a=null,n.apply(l,c||[])}var f=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];i=new Date().getTime(),l=this,c=p;var _=u||t,b=u||e;u=null,s=i-(b?r:o)-_,clearTimeout(a),b?a=setTimeout(d,_):s>=0?d():a=setTimeout(d,-s),r=i};return f.clear=function(){a&&(clearTimeout(a),a=null)},f.debounceNextCall=function(p){u=p},f}function B0(n,t,e,i){var r=n[t];if(r){var o=r[F_]||r,a=r[Cne],s=r[xne];if(s!==e||a!==i){if(e==null||!i)return n[t]=o;r=n[t]=d4(o,e,i==="debounce"),r[F_]=o,r[Cne]=i,r[xne]=e}return r}}function f4(n,t){var e=n[t];e&&e[F_]&&(e.clear&&e.clear(),n[t]=e[F_])}var Sne=Ot(),wne={itemStyle:Ls(cA,!0),lineStyle:Ls(lA,!0)},VAe={lineStyle:"stroke",itemStyle:"fill"};function Mne(n,t){var e=n.visualStyleMapper||wne[t];return e||(console.warn("Unknown style type '"+t+"'."),wne.itemStyle)}function Tne(n,t){var e=n.visualDrawType||VAe[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var Ene={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=Mne(n,i),a=o(r),s=r.getShallow("decal");s&&(e.setVisual("decal",s),s.dirty=!0);var l=Tne(n,i),c=a[l],u=De(c)?c:null,d=a.fill==="auto"||a.stroke==="auto";if(!a[l]||u||d){var f=n.getColorFromPalette(n.name,null,t.getSeriesCount());a[l]||(a[l]=f,e.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||De(a.fill)?f:a.fill,a.stroke=a.stroke==="auto"||De(a.stroke)?f:a.stroke}if(e.setVisual("style",a),e.setVisual("drawType",l),!t.isSeriesFiltered(n)&&u)return e.setVisual("colorFromPalette",!1),{dataEach:function(p,v){var _=n.getDataParams(v),b=fe({},a);b[l]=u(_),p.setItemVisual(v,"style",b)}}}},zp=new $t,Dne={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!(n.ignoreStyleOnData||t.isSeriesFiltered(n))){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=Mne(n,i),o=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[i]){zp.option=l[i];var c=r(zp),u=a.ensureUniqueItemVisual(s,"style");fe(u,c),zp.option.decal&&(a.setItemVisual(s,"decal",zp.option.decal),zp.option.decal.dirty=!0),o in c&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},Ine={performRawSeries:!0,overallReset:function(n){var t=Le();n.eachSeries(function(e){var i=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+i,o=t.get(r);o||(o={},t.set(r,o)),Sne(e).scope=o}}),n.eachSeries(function(e){if(!(e.isColorBySeries()||n.isSeriesFiltered(e))){var i=e.getRawData(),r={},o=e.getData(),a=Sne(e).scope,s=e.visualStyleAccessPath||"itemStyle",l=Tne(e,s);o.each(function(c){var u=o.getRawIndex(c);r[u]=c}),i.each(function(c){var u=r[c],d=o.getItemVisual(u,"colorFromPalette");if(d){var f=o.ensureUniqueItemVisual(u,"style"),p=i.getName(c)||c+"",v=i.count();f[l]=e.getColorFromPalette(p,a,v)}})}})}};var B_=Math.PI;function JA(n,t){t=t||{},Ne(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Pt,i=new Tt({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(i);var r=new qt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new Tt({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(o);var a;return t.showSpinner&&(a=new X3({shape:{startAngle:-B_/2,endAngle:-B_/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:B_*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:B_*3/2}).delay(300).start("circularInOut"),e.add(a)),e.resize=function(){var s=r.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,c=(n.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),u=n.getHeight()/2;t.showSpinner&&a.setShape({cx:c,cy:u}),o.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}var UAe=(function(){function n(t,e,i,r){this._stageTaskMap=Le(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),r=i.context,o=!e&&i.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>i.blockIndex,a=o?i.step:null,s=r&&r.modDataCount,l=s!=null?Math.ceil(s/a):null;return{step:a,modBy:l,modDataCount:s}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),r=t.getData(),o=r.count(),a=i.progressiveEnabled&&e.incrementalPrepareRender&&o>=i.threshold,s=t.get("large")&&o>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=i.context={progressiveRender:a,modDataCount:l,large:s}},n.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=Le();t.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;O(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{}),a="";Yi(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,o,e,i),r.overallReset&&this._createOverallStageTask(r,o,e,i)},this)},n.prototype.prepareView=function(t,e,i,r){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},n.prototype._performStageTasks=function(t,e,i,r){r=r||{};var o=!1,a=this;O(t,function(l,c){if(!(r.visualType&&r.visualType!==l.visualType)){var u=a._stageTaskMap.get(l.uid),d=u.seriesTaskMap,f=u.overallTask;if(f){var p,v=f.agentStubMap;v.each(function(b){s(r,b)&&(b.dirty(),p=!0)}),p&&f.dirty(),a.updatePayload(f,i);var _=a.getPerformArgs(f,r.block);v.each(function(b){b.perform(_)}),f.perform(_)&&(o=!0)}else d&&d.each(function(b,C){s(r,b)&&b.dirty();var w=a.getPerformArgs(b,r.block);w.skip=!l.performRawSeries&&e.isSeriesFiltered(b.context.model),a.updatePayload(b,i),b.perform(w)&&(o=!0)})}});function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(i){e=i.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,i,r){var o=this,a=e.seriesTaskMap,s=e.seriesTaskMap=Le(),l=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(u):l?i.eachRawSeriesByType(l,u):c&&c(i,r).each(u);function u(d){var f=d.uid,p=s.set(f,a&&a.get(f)||R0({plan:qAe,reset:$Ae,count:ZAe}));p.context={model:d,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(d,p)}},n.prototype._createOverallStageTask=function(t,e,i,r){var o=this,a=e.overallTask=e.overallTask||R0({reset:HAe});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Le(),c=t.seriesType,u=t.getTargetSeries,d=!0,f=!1,p="";Yi(!t.createOnAllSeries,p),c?i.eachRawSeriesByType(c,v):u?u(i,r).each(v):(d=!1,O(i.getSeries(),v));function v(_){var b=_.uid,C=l.set(b,s&&s.get(b)||(f=!0,R0({reset:jAe,onDirty:WAe})));C.context={model:_,overallProgress:d},C.agent=a,C.__block=d,o._pipe(_,C)}f&&a.dirty()},n.prototype._pipe=function(t,e){var i=t.uid,r=this._pipelineMap.get(i);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},n.wrapStageHandler=function(t,e){return De(t)&&(t={overallReset:t,seriesType:XAe(t)}),t.uid=Vs("stageHandler"),e&&(t.visualType=e),t},n})();function HAe(n){n.overallReset(n.ecModel,n.api,n.payload)}function jAe(n){return n.overallProgress&&GAe}function GAe(){this.agent.dirty(),this.getDownstream().dirty()}function WAe(){this.agent&&this.agent.dirty()}function qAe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function $Ae(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=ii(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?ge(t,function(e,i){return Lne(i)}):YAe}var YAe=Lne(0);function Lne(n){return function(t,e){var i=e.data,r=e.resetDefines[n];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function ZAe(n){return n.data.count()}function XAe(n){V_=null;try{n(kp,Ane)}catch{}return V_}var kp={},Ane={},V_;zne(kp,T_);zne(Ane,E_);kp.eachSeriesByType=kp.eachRawSeriesByType=function(n){V_=n};kp.eachComponent=function(n){n.mainType==="series"&&n.subType&&(V_=n.subType)};function zne(n,t){for(var e in t.prototype)n[e]=di}var ez=UAe;var kne=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Nne={color:kne,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],kne]};var Jr="#B9B8CE",Pne="#100C2A",U_=function(){return{axisLine:{lineStyle:{color:Jr}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},One=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Rne={darkMode:!0,color:One,backgroundColor:Pne,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Jr},pageTextStyle:{color:Jr}},textStyle:{color:Jr},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Jr}},dataZoom:{borderColor:"#71708A",textStyle:{color:Jr},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Jr}},timeline:{lineStyle:{color:Jr},label:{color:Jr},controlStyle:{color:Jr,borderColor:Jr}},calendar:{itemStyle:{color:Pne},dayLabel:{color:Jr},monthLabel:{color:Jr},yearLabel:{color:Jr}},timeAxis:U_(),logAxis:U_(),valueAxis:U_(),categoryAxis:U_(),line:{symbol:"circle"},graph:{color:One},gauge:{title:{color:Jr},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Jr},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Rne.categoryAxis.splitLine.show=!1;var Fne=Rne;var Bne=(function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},i={},r={};if(_e(t)){var o=Go(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};O(t,function(l,c){for(var u=!1,d=0;d<a.length;d++){var f=a[d],p=c.lastIndexOf(f);if(p>0&&p===c.length-f.length){var v=c.slice(0,p);v!=="data"&&(e.mainType=v,e[f.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(i[c]=l,u=!0),u||(r[c]=l)})}return{cptQuery:e,dataQuery:i,otherQuery:r}},n.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=e.cptQuery,c=e.dataQuery;return u(l,a,"mainType")&&u(l,a,"subType")&&u(l,a,"index","componentIndex")&&u(l,a,"name")&&u(l,a,"id")&&u(c,o,"name")&&u(c,o,"dataIndex")&&u(c,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,o));function u(d,f,p,v){return d[p]==null||f[v||p]===d[p]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n})();var tz=["symbol","symbolSize","symbolRotate","symbolOffset"],Vne=tz.concat(["symbolKeepAspect"]),Une={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var i={},r={},o=!1,a=0;a<tz.length;a++){var s=tz[a],l=n.get(s);De(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||n.defaultSymbol,e.setVisual(fe({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),t.isSeriesFiltered(n))return;var c=Lt(r);function u(d,f){for(var p=n.getRawValue(f),v=n.getDataParams(f),_=0;_<c.length;_++){var b=c[_];d.setItemVisual(f,b,r[b](p,v))}}return{dataEach:o?u:null}}},Hne={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.hasSymbolVisual||t.isSeriesFiltered(n))return;var e=n.getData();function i(r,o){for(var a=r.getItemModel(o),s=0;s<Vne.length;s++){var l=Vne[s],c=a.getShallow(l,!0);c!=null&&r.setItemVisual(o,l,c)}}return{dataEach:e.hasItemOption?i:null}}};function jne(n,t,e){switch(e){case"color":var i=n.getItemVisual(t,"style");return i[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e);default:}}function Gne(n,t){switch(t){case"color":var e=n.getVisual("style");return e[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t);default:}}function bd(n,t,e,i,r){var o=n+t;e.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,c=r.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var d=a.getData(),f=Za(d,r.fromActionPayload);e.trigger(o,{type:o,seriesId:a.id,name:pe(f)?d.getName(f[0]):d.getName(f),selected:_e(l)?l:fe({},l)})}})}function Wne(n,t,e){n.on("selectchanged",function(i){var r=e.getModel();i.isFromClick?(bd("map","selectchanged",t,r,i),bd("pie","selectchanged",t,r,i)):i.fromAction==="select"?(bd("map","selected",t,r,i),bd("pie","selected",t,r,i)):i.fromAction==="unselect"&&(bd("map","unselected",t,r,i),bd("pie","unselected",t,r,i))})}function p4(n,t,e){for(var i;n&&!(t(n)&&(i=n,e));)n=n.__hostTarget||n.parent;return i}var QAe=Math.round(Math.random()*9),KAe=typeof Object.defineProperty=="function",JAe=(function(){function n(){this._id="__ec_inner_"+QAe++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var i=this._guard(t);return KAe?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},n.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n})(),qne=JAe;var eze=ct.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i+o),n.lineTo(e-r,i+o),n.closePath()}}),tze=ct.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i),n.lineTo(e,i+o),n.lineTo(e-r,i),n.closePath()}}),nze=ct.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,d=Math.sin(c),f=Math.cos(c),p=a*.6,v=a*.7;n.moveTo(e-u,l+s),n.arc(e,l,a,Math.PI-c,Math.PI*2+c),n.bezierCurveTo(e+u-d*p,l+s+f*p,e,i-v,e,i),n.bezierCurveTo(e,i-v,e-u+d*p,l+s+f*p,e-u,l+s),n.closePath()}}),ize=ct.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,i=t.width,r=t.x,o=t.y,a=i/3*2;n.moveTo(r,o),n.lineTo(r+a,o+e),n.lineTo(r,o+e/4*3),n.lineTo(r-a,o+e),n.lineTo(r,o),n.closePath()}}),rze={line:pa,rect:Tt,roundRect:Tt,square:Tt,circle:Y3,diamond:tze,pin:nze,arrow:ize,triangle:eze},oze={line:function(n,t,e,i,r){r.x1=n,r.y1=t+i/2,r.x2=n+e,r.y2=t+i/2},rect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i},roundRect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i,r.r=Math.min(e,i)/4},square:function(n,t,e,i,r){var o=Math.min(e,i);r.x=n,r.y=t,r.width=o,r.height=o},circle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.r=Math.min(e,i)/2},diamond:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i},pin:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},arrow:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},triangle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i}},Np={};O(rze,function(n,t){Np[t]=new n});var aze=ct.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var i=N3(n,t,e),r=this.shape;return r&&r.symbolType==="pin"&&t.position==="inside"&&(i.y=e.y+e.height*.4),i},buildPath:function(n,t,e){var i=t.symbolType;if(i!=="none"){var r=Np[i];r||(i="rect",r=Np[i]),oze[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,e)}}});function sze(n,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=n:e.fill=n,this.markRedraw()}}function eo(n,t,e,i,r,o,a){var s=n.indexOf("empty")===0;s&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=gp(n.slice(8),new Ke(t,e,i,r),a?"center":"cover"):n.indexOf("path://")===0?l=od(n.slice(7),{},new Ke(t,e,i,r),a?"center":"cover"):l=new aze({shape:{symbolType:n,x:t,y:e,width:i,height:r}}),l.__isEmptyBrush=s,l.setColor=sze,o&&l.setColor(o),l}function $ne(n){return pe(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function H_(n,t){if(n!=null)return pe(n)||(n=[n,n]),[fi(n[0],t[0])||0,fi(nt(n[1],n[0]),t[1])||0]}function m4(n){return isFinite(n)}function lze(n,t,e){var i=t.x==null?0:t.x,r=t.x2==null?1:t.x2,o=t.y==null?0:t.y,a=t.y2==null?0:t.y2;t.global||(i=i*e.width+e.x,r=r*e.width+e.x,o=o*e.height+e.y,a=a*e.height+e.y),i=m4(i)?i:0,r=m4(r)?r:1,o=m4(o)?o:0,a=m4(a)?a:0;var s=n.createLinearGradient(i,o,r,a);return s}function cze(n,t,e){var i=e.width,r=e.height,o=Math.min(i,r),a=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(a=a*i+e.x,s=s*r+e.y,l=l*o),a=m4(a)?a:.5,s=m4(s)?s:.5,l=l>=0&&m4(l)?l:.5;var c=n.createRadialGradient(a,s,0,a,s,l);return c}function Pp(n,t,e){for(var i=t.type==="radial"?cze(n,t,e):lze(n,t,e),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Yne(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!0;return!1}function j_(n){return parseInt(n,10)}function Op(n,t,e){var i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(e[i]!=null&&e[i]!=="auto")return parseFloat(e[i]);var s=document.defaultView.getComputedStyle(n);return(n[r]||j_(s[i])||j_(n.style[i]))-(j_(s[o])||0)-(j_(s[a])||0)|0}function uze(n,t){return!n||n==="solid"||!(t>0)?null:n==="dashed"?[4*t,2*t]:n==="dotted"?[t]:Ct(n)?[n]:pe(n)?n:null}function nz(n){var t=n.style,e=t.lineDash&&t.lineWidth>0&&uze(t.lineDash,t.lineWidth),i=t.lineDashOffset;if(e){var r=t.strokeNoScale&&n.getLineScale?n.getLineScale():1;r&&r!==1&&(e=ge(e,function(o){return o/r}),i/=r)}return[e,i]}var dze=new fa(!0);function G_(n){var t=n.stroke;return!(t==null||t==="none"||!(n.lineWidth>0))}function Zne(n){return typeof n=="string"&&n!=="none"}function W_(n){var t=n.fill;return t!=null&&t!=="none"}function Xne(n,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function Qne(n,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function q_(n,t,e){var i=hL(t.image,t.__image,e);if(Zu(i)){var r=n.createPattern(i,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*ty),o.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(o)}return r}}function fze(n,t,e,i){var r,o=G_(e),a=W_(e),s=e.strokePercent,l=s<1,c=!t.path;(!t.silent||l)&&c&&t.createPathProxy();var u=t.path||dze,d=t.__dirty;if(!i){var f=e.fill,p=e.stroke,v=a&&!!f.colorStops,_=o&&!!p.colorStops,b=a&&!!f.image,C=o&&!!p.image,w=void 0,E=void 0,D=void 0,L=void 0,z=void 0;(v||_)&&(z=t.getBoundingRect()),v&&(w=d?Pp(n,f,z):t.__canvasFillGradient,t.__canvasFillGradient=w),_&&(E=d?Pp(n,p,z):t.__canvasStrokeGradient,t.__canvasStrokeGradient=E),b&&(D=d||!t.__canvasFillPattern?q_(n,f,t):t.__canvasFillPattern,t.__canvasFillPattern=D),C&&(L=d||!t.__canvasStrokePattern?q_(n,p,t):t.__canvasStrokePattern,t.__canvasStrokePattern=D),v?n.fillStyle=w:b&&(D?n.fillStyle=D:a=!1),_?n.strokeStyle=E:C&&(L?n.strokeStyle=L:o=!1)}var R=t.getGlobalScale();u.setScale(R[0],R[1],t.segmentIgnoreThreshold);var H,W;n.setLineDash&&e.lineDash&&(r=nz(t),H=r[0],W=r[1]);var $=!0;(c||d&y0)&&(u.setDPR(n.dpr),l?u.setContext(null):(u.setContext(n),$=!1),u.reset(),t.buildPath(u,t.shape,i),u.toStatic(),t.pathUpdated()),$&&u.rebuildPath(n,l?s:1),H&&(n.setLineDash(H),n.lineDashOffset=W),i||(e.strokeFirst?(o&&Qne(n,e),a&&Xne(n,e)):(a&&Xne(n,e),o&&Qne(n,e))),H&&n.setLineDash([])}function pze(n,t,e){var i=t.__image=hL(e.image,t.__image,t,t.onload);if(!(!i||!Zu(i))){var r=e.x||0,o=e.y||0,a=t.getWidth(),s=t.getHeight(),l=i.width/i.height;if(a==null&&s!=null?a=s*l:s==null&&a!=null?s=a/l:a==null&&s==null&&(a=i.width,s=i.height),e.sWidth&&e.sHeight){var c=e.sx||0,u=e.sy||0;n.drawImage(i,c,u,e.sWidth,e.sHeight,r,o,a,s)}else if(e.sx&&e.sy){var c=e.sx,u=e.sy,d=a-c,f=s-u;n.drawImage(i,c,u,d,f,r,o,a,s)}else n.drawImage(i,r,o,a,s)}}function mze(n,t,e){var i,r=e.text;if(r!=null&&(r+=""),r){n.font=e.font||I1,n.textAlign=e.textAlign,n.textBaseline=e.textBaseline;var o=void 0,a=void 0;n.setLineDash&&e.lineDash&&(i=nz(t),o=i[0],a=i[1]),o&&(n.setLineDash(o),n.lineDashOffset=a),e.strokeFirst?(G_(e)&&n.strokeText(r,e.x,e.y),W_(e)&&n.fillText(r,e.x,e.y)):(W_(e)&&n.fillText(r,e.x,e.y),G_(e)&&n.strokeText(r,e.x,e.y)),o&&n.setLineDash([])}}var Kne=["shadowBlur","shadowOffsetX","shadowOffsetY"],Jne=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function oie(n,t,e,i,r){var o=!1;if(!i&&(e=e||{},t===e))return!1;if(i||t.opacity!==e.opacity){Yo(n,r),o=!0;var a=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(a)?As.opacity:a}(i||t.blend!==e.blend)&&(o||(Yo(n,r),o=!0),n.globalCompositeOperation=t.blend||As.blend);for(var s=0;s<Kne.length;s++){var l=Kne[s];(i||t[l]!==e[l])&&(o||(Yo(n,r),o=!0),n[l]=n.dpr*(t[l]||0))}return(i||t.shadowColor!==e.shadowColor)&&(o||(Yo(n,r),o=!0),n.shadowColor=t.shadowColor||As.shadowColor),o}function eie(n,t,e,i,r){var o=Rp(t,r.inHover),a=i?null:e&&Rp(e,r.inHover)||{};if(o===a)return!1;var s=oie(n,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(Yo(n,r),s=!0),Zne(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(Yo(n,r),s=!0),Zne(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(Yo(n,r),s=!0),n.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var l=o.lineWidth,c=l/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==c&&(s||(Yo(n,r),s=!0),n.lineWidth=c)}for(var u=0;u<Jne.length;u++){var d=Jne[u],f=d[0];(i||o[f]!==a[f])&&(s||(Yo(n,r),s=!0),n[f]=o[f]||d[1])}return s}function hze(n,t,e,i,r){return oie(n,Rp(t,r.inHover),e&&Rp(e,r.inHover),i,r)}function aie(n,t){var e=t.transform,i=n.dpr||1;e?n.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):n.setTransform(i,0,0,i,0,0)}function gze(n,t,e){for(var i=!1,r=0;r<n.length;r++){var o=n[r];i=i||o.isZeroArea(),aie(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}e.allClipped=i}function vze(n,t){return n&&t?n[0]!==t[0]||n[1]!==t[1]||n[2]!==t[2]||n[3]!==t[3]||n[4]!==t[4]||n[5]!==t[5]:!(!n&&!t)}var tie=1,nie=2,iie=3,rie=4;function yze(n){var t=W_(n),e=G_(n);return!(n.lineDash||!(+t^+e)||t&&typeof n.fill!="string"||e&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function Yo(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function Rp(n,t){return t&&n.__hoverStyle||n.style}function xd(n,t){V0(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function V0(n,t,e,i){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Ri,t.__isRendered=!1;return}var o=t.__clipPaths,a=e.prevElClipPaths,s=!1,l=!1;if((!a||Yne(o,a))&&(a&&a.length&&(Yo(n,e),n.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(Yo(n,e),n.save(),gze(o,n,e),s=!0),e.prevElClipPaths=o),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var c=e.prevEl;c||(l=s=!0);var u=t instanceof ct&&t.autoBatch&&yze(t.style);s||vze(r,c.transform)?(Yo(n,e),aie(n,t)):u||Yo(n,e);var d=Rp(t,e.inHover);t instanceof ct?(e.lastDrawType!==tie&&(l=!0,e.lastDrawType=tie),eie(n,t,c,l,e),(!u||!e.batchFill&&!e.batchStroke)&&n.beginPath(),fze(n,t,d,u),u&&(e.batchFill=d.fill||"",e.batchStroke=d.stroke||"")):t instanceof np?(e.lastDrawType!==iie&&(l=!0,e.lastDrawType=iie),eie(n,t,c,l,e),mze(n,t,d)):t instanceof Wo?(e.lastDrawType!==nie&&(l=!0,e.lastDrawType=nie),hze(n,t,c,l,e),pze(n,t,d)):t.getTemporalDisplayables&&(e.lastDrawType!==rie&&(l=!0,e.lastDrawType=rie),_ze(n,t,e)),u&&i&&Yo(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function _ze(n,t,e){var i=t.getDisplayables(),r=t.getTemporalDisplayables();n.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},a,s;for(a=t.getCursor(),s=i.length;a<s;a++){var l=i[a];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),V0(n,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}for(var c=0,u=r.length;c<u;c++){var l=r[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),V0(n,l,o,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,n.restore()}var iz=new qne,sie=new W2(100),lie=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Fp(n,t){if(n==="none")return null;var e=t.getDevicePixelRatio(),i=t.getZr(),r=i.painter.type==="svg";n.dirty&&iz.delete(n);var o=iz.get(n);if(o)return o;var a=Ne(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/e,iz.set(n,s),n.dirty=!1,s;function l(c){for(var u=[e],d=!0,f=0;f<lie.length;++f){var p=a[lie[f]];if(p!=null&&!pe(p)&&!_e(p)&&!Ct(p)&&typeof p!="boolean"){d=!1;break}u.push(p)}var v;if(d){v=u.join(",")+(r?"-svg":"");var _=sie.get(v);_&&(r?c.svgElement=_:c.image=_)}var b=uie(a.dashArrayX),C=bze(a.dashArrayY),w=cie(a.symbol),E=xze(b),D=die(C),L=!r&&vo.createCanvas(),z=r&&{tag:"g",attrs:{},key:"dcl",children:[]},R=W(),H;L&&(L.width=R.width*e,L.height=R.height*e,H=L.getContext("2d")),$(),d&&sie.put(v,L||z),c.image=L,c.svgElement=z,c.svgWidth=R.width,c.svgHeight=R.height;function W(){for(var G=1,Z=0,te=E.length;Z<te;++Z)G=lL(G,E[Z]);for(var re=1,Z=0,te=w.length;Z<te;++Z)re=lL(re,w[Z].length);G*=re;var ce=D*E.length*w.length;if(0)var ne;return{width:Math.max(1,Math.min(G,a.maxTileWidth)),height:Math.max(1,Math.min(ce,a.maxTileHeight))}}function $(){H&&(H.clearRect(0,0,L.width,L.height),a.backgroundColor&&(H.fillStyle=a.backgroundColor,H.fillRect(0,0,L.width,L.height)));for(var G=0,Z=0;Z<C.length;++Z)G+=C[Z];if(G<=0)return;for(var te=-D,re=0,ce=0,ne=0;te<R.height;){if(re%2===0){for(var he=ce/2%w.length,oe=0,ve=0,Ee=0;oe<R.width*2;){for(var Ge=0,Z=0;Z<b[ne].length;++Z)Ge+=b[ne][Z];if(Ge<=0)break;if(ve%2===0){var Ye=(1-a.symbolSize)*.5,Rt=oe+b[ne][ve]*Ye,Xe=te+C[re]*Ye,Jt=b[ne][ve]*a.symbolSize,Mr=C[re]*a.symbolSize,vn=Ee/2%w[he].length;Qi(Rt,Xe,Jt,Mr,w[he][vn])}oe+=b[ne][ve],++Ee,++ve,ve===b[ne].length&&(ve=0)}++ne,ne===b.length&&(ne=0)}te+=C[re],++ce,++re,re===C.length&&(re=0)}function Qi(xn,zn,rt,Ft,Ws){var yn=r?1:e,ya=eo(Ws,xn*yn,zn*yn,rt*yn,Ft*yn,a.color,a.symbolKeepAspect);if(r){var f7=i.painter.renderOneToVNode(ya);f7&&z.children.push(f7)}else xd(H,ya)}}}}function cie(n){if(!n||n.length===0)return[["rect"]];if(_e(n))return[[n]];for(var t=!0,e=0;e<n.length;++e)if(!_e(n[e])){t=!1;break}if(t)return cie([n]);for(var i=[],e=0;e<n.length;++e)_e(n[e])?i.push([n[e]]):i.push(n[e]);return i}function uie(n){if(!n||n.length===0)return[[0,0]];if(Ct(n)){var t=Math.ceil(n);return[[t,t]]}for(var e=!0,i=0;i<n.length;++i)if(!Ct(n[i])){e=!1;break}if(e)return uie([n]);for(var r=[],i=0;i<n.length;++i)if(Ct(n[i])){var t=Math.ceil(n[i]);r.push([t,t])}else{var t=ge(n[i],function(s){return Math.ceil(s)});t.length%2===1?r.push(t.concat(t)):r.push(t)}return r}function bze(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Ct(n)){var t=Math.ceil(n);return[t,t]}var e=ge(n,function(i){return Math.ceil(i)});return n.length%2?e.concat(e):e}function xze(n){return ge(n,function(t){return die(t)})}function die(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2===1?t*2:t}function rz(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var i=e.getData();i.hasItemVisual()&&i.each(function(a){var s=i.getItemVisual(a,"decal");if(s){var l=i.ensureUniqueItemVisual(a,"style");l.decal=Fp(s,t)}});var r=i.getVisual("decal");if(r){var o=i.getVisual("style");o.decal=Fp(r,t)}}})}var Cze=new Ti,r1=Cze;var fie={};function pie(n,t){fie[n]=t}function oz(n){return fie[n]}var Sze="5.6.0",wze={zrender:"5.6.1"},Mze=1,Tze=800,Eze=900,Dze=1e3,Ize=2e3,Lze=5e3,Cie=1e3,Aze=1100,gz=2e3,Sie=3e3,zze=4e3,J_=4500,kze=4600,Nze=5e3,Pze=6e3,wie=7e3,vz={PROCESSOR:{FILTER:Dze,SERIES_FILTER:Tze,STATISTIC:Lze},VISUAL:{LAYOUT:Cie,PROGRESSIVE_LAYOUT:Aze,GLOBAL:gz,CHART:Sie,POST_CHART_LAYOUT:kze,COMPONENT:zze,BRUSH:Nze,CHART_ITEM:J_,ARIA:Pze,DECAL:wie}},to="__flagInMainProcess",Zo="__pendingUpdate",az="__needsUpdateStatus",mie=/^[a-zA-Z0-9_]+$/,sz="__connectUpdateStatus",hie=0,Oze=1,Rze=2;function Mie(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return Eie(this,n,t)}}function Tie(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Eie(this,n,t)}}function Eie(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Ti.prototype[t].apply(n,e)}var Die=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(Ti),Iie=Die.prototype;Iie.on=Tie("on");Iie.off=Tie("off");var Cd,lz,$_,U0,cz,uz,dz,Bp,Vp,gie,vie,fz,yie,Y_,_ie,Lie,o1,bie,Z_=(function(n){de(t,n);function t(e,i,r){var o=n.call(this,new Bne)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},_e(i)&&(i=Aie[i]),o._dom=e;var a="canvas",s="auto",l=!1;if(0)var c;r.ssr&&aL(function(p){var v=yt(p),_=v.dataIndex;if(_!=null){var b=Le();return b.set("series_index",v.seriesIndex),b.set("data_index",_),v.ssrType&&b.set("ssr_type",v.ssrType),b}});var u=o._zr=ky(e,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:nt(r.useDirtyRect,l),useCoarsePointer:nt(r.useCoarsePointer,s),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=d4(Ae(u.flush,u),17),i=ke(i),i&&D_(i,!0),o._theme=i,o._locale=dte(r.locale||d_),o._coordSysMgr=new md;var d=o._api=_ie(o);function f(p,v){return p.__prio-v.__prio}return S3(Q_,f),S3(pz,f),o._scheduler=new ez(o,d,pz,Q_),o._messageCenter=new Die,o._initEvents(),o.resize=Ae(o.resize,o),u.animation.on("frame",o._onframe,o),gie(u,o),vie(u,o),v3(o),o}return t.prototype._onframe=function(){if(!this._disposed){bie(this);var e=this._scheduler;if(this[Zo]){var i=this[Zo].silent;this[to]=!0;try{Cd(this),U0.update.call(this,null,this[Zo].updateParams)}catch(l){throw this[to]=!1,this[Zo]=null,l}this._zr.flush(),this[to]=!1,this[Zo]=null,Bp.call(this,i),Vp.call(this,i)}else if(e.unfinished){var r=Mze,o=this._model,a=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),uz(this,o),e.performVisualTasks(o),Y_(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,i,r){if(!this[to]){if(this._disposed){this.id;return}var o,a,s;if(Se(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,s=i.transition,i=i.notMerge),this[to]=!0,!this._model||i){var l=new Fte(this._api),c=this._theme,u=this._model=new T_;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(e,{replaceMerge:a},mz);var d={seriesTransition:s,optionChanged:!0};if(r)this[Zo]={silent:o,updateParams:d},this[to]=!1,this.getZr().wakeUp();else{try{Cd(this),U0.update.call(this,null,d)}catch(f){throw this[Zo]=null,this[to]=!1,f}this._ssr||this._zr.flush(),this[Zo]=null,this[to]=!1,Bp.call(this,o),Vp.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Be.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var i=this._zr.painter;return i.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(Be.svgSupported){var e=this._zr,i=e.storage.getDisplayList();return O(i,function(r){r.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var i=e.excludeComponents,r=this._model,o=[],a=this;O(i,function(l){r.eachComponent({mainType:l},function(c){var u=a._componentsMap[c.__viewId];u.group.ignore||(o.push(u),u.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return O(o,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var i=e.type==="svg",r=this.group,o=Math.min,a=Math.max,s=1/0;if(K_[r]){var l=s,c=s,u=-s,d=-s,f=[],p=e&&e.pixelRatio||this.getDevicePixelRatio();O(h4,function(E,D){if(E.group===r){var L=i?E.getZr().painter.getSvgDom().innerHTML:E.renderToCanvas(ke(e)),z=E.getDom().getBoundingClientRect();l=o(z.left,l),c=o(z.top,c),u=a(z.right,u),d=a(z.bottom,d),f.push({dom:L,left:z.left,top:z.top})}}),l*=p,c*=p,u*=p,d*=p;var v=u-l,_=d-c,b=vo.createCanvas(),C=ky(b,{renderer:i?"svg":"canvas"});if(C.resize({width:v,height:_}),i){var w="";return O(f,function(E){var D=E.left-l,L=E.top-c;w+='<g transform="translate('+D+","+L+')">'+E.dom+"</g>"}),C.painter.getSvgRoot().innerHTML=w,e.connectedBackgroundColor&&C.painter.setBackgroundColor(e.connectedBackgroundColor),C.refreshImmediately(),C.painter.toDataURL()}else return e.connectedBackgroundColor&&C.add(new Tt({shape:{x:0,y:0,width:v,height:_},style:{fill:e.connectedBackgroundColor}})),O(f,function(E){var D=new Wo({style:{x:E.left*p-l,y:E.top*p-c,image:E.dom}});C.add(D)}),C.refreshImmediately(),b.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,i){return cz(this,"convertToPixel",e,i)},t.prototype.convertFromPixel=function(e,i){return cz(this,"convertFromPixel",e,i)},t.prototype.containPixel=function(e,i){if(this._disposed){this.id;return}var r=this._model,o,a=S0(r,e);return O(a,function(s,l){l.indexOf("Models")>=0&&O(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)o=o||!!u.containPoint(i);else if(l==="seriesModels"){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(o=o||d.containPoint(i,c))}},this)},this),!!o},t.prototype.getVisual=function(e,i){var r=this._model,o=S0(r,e,{defaultMainType:"series"}),a=o.seriesModel,s=a.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return l!=null?jne(s,l,i):Gne(s,i)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;O(Fze,function(i){var r=function(o){var a=e.getModel(),s=o.target,l,c=i==="globalout";if(c?l={}:s&&p4(s,function(v){var _=yt(v);if(_&&_.dataIndex!=null){var b=_.dataModel||a.getSeriesByIndex(_.seriesIndex);return l=b&&b.getDataParams(_.dataIndex,_.dataType,s)||{},!0}else if(_.eventData)return l=fe({},_.eventData),!0},!0),l){var u=l.componentType,d=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",d=l.seriesIndex);var f=u&&d!=null&&a.getComponent(u,d),p=f&&e[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=o,l.type=i,e._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:f,view:p},e.trigger(i,l)}};r.zrEventfulCallAtLast=!0,e._zr.on(i,r,e)}),O(Up,function(i,r){e._messageCenter.on(r,function(o){this.trigger(r,o)},e)}),O(["selectchanged"],function(i){e._messageCenter.on(i,function(r){this.trigger(i,r)},e)}),Wne(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&dL(this.getDom(),_z,"");var i=this,r=i._api,o=i._model;O(i._componentsViews,function(a){a.dispose(o,r)}),O(i._chartsViews,function(a){a.dispose(o,r)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete h4[i.id]},t.prototype.resize=function(e){if(!this[to]){if(this._disposed){this.id;return}this._zr.resize(e);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!i){var r=i.resetOption("media"),o=e&&e.silent;this[Zo]&&(o==null&&(o=this[Zo].silent),r=!0,this[Zo]=null),this[to]=!0;try{r&&Cd(this),U0.update.call(this,{type:"resize",animation:fe({duration:0},e&&e.animation)})}catch(a){throw this[to]=!1,a}this[to]=!1,Bp.call(this,o),Vp.call(this,o)}}},t.prototype.showLoading=function(e,i){if(this._disposed){this.id;return}if(Se(e)&&(i=e,e=""),e=e||"default",this.hideLoading(),!!hz[e]){var r=hz[e](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var i=fe({},e);return i.type=Up[e.type],i},t.prototype.dispatchAction=function(e,i){if(this._disposed){this.id;return}if(Se(i)||(i={silent:!!i}),!!X_[e.type]&&this._model){if(this[to]){this._pendingActions.push(e);return}var r=i.silent;dz.call(this,e,r);var o=i.flush;o?this._zr.flush():o!==!1&&Be.browser.weChat&&this._throttledZrFlush(),Bp.call(this,r),Vp.call(this,r)}},t.prototype.updateLabelLayout=function(){r1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var i=e.seriesIndex,r=this.getModel(),o=r.getSeriesByIndex(i);o.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){Cd=function(d){var f=d._scheduler;f.restorePipelines(d._model),f.prepareStageTasks(),lz(d,!0),lz(d,!1),f.plan()},lz=function(d,f){for(var p=d._model,v=d._scheduler,_=f?d._componentsViews:d._chartsViews,b=f?d._componentsMap:d._chartsMap,C=d._zr,w=d._api,E=0;E<_.length;E++)_[E].__alive=!1;f?p.eachComponent(function(z,R){z!=="series"&&D(R)}):p.eachSeries(D);function D(z){var R=z.__requireNewView;z.__requireNewView=!1;var H="_ec_"+z.id+"_"+z.type,W=!R&&b[H];if(!W){var $=Go(z.type),G=f?Qn.getClass($.main,$.sub):Sr.getClass($.sub);W=new G,W.init(p,w),b[H]=W,_.push(W),C.add(W.group)}z.__viewId=W.__id=H,W.__alive=!0,W.__model=z,W.group.__ecComponentInfo={mainType:z.mainType,index:z.componentIndex},!f&&v.prepareView(W,z,p,w)}for(var E=0;E<_.length;){var L=_[E];L.__alive?E++:(!f&&L.renderTask.dispose(),C.remove(L.group),L.dispose(p,w),_.splice(E,1),b[L.__id]===L&&delete b[L.__id],L.__id=L.group.__ecComponentInfo=null)}},$_=function(d,f,p,v,_){var b=d._model;if(b.setUpdatePayload(p),!v){O([].concat(d._componentsViews).concat(d._chartsViews),L);return}var C={};C[v+"Id"]=p[v+"Id"],C[v+"Index"]=p[v+"Index"],C[v+"Name"]=p[v+"Name"];var w={mainType:v,query:C};_&&(w.subType=_);var E=p.excludeSeriesId,D;E!=null&&(D=Le(),O(ii(E),function(z){var R=da(z,null);R!=null&&D.set(R,!0)})),b&&b.eachComponent(w,function(z){var R=D&&D.get(z.id)!=null;if(!R)if(WL(p))if(z instanceof xo)p.type===L0&&!p.notBlur&&!z.get(["emphasis","disabled"])&&mee(z,p,d._api);else{var H=Wy(z.mainType,z.componentIndex,p.name,d._api),W=H.focusSelf,$=H.dispatchers;p.type===L0&&W&&!p.notBlur&&jy(z.mainType,z.componentIndex,d._api),$&&O($,function(G){p.type===L0?Os(G):Rs(G)})}else qy(p)&&z instanceof xo&&(vee(z,p,d._api),GL(z),o1(d))},d),b&&b.eachComponent(w,function(z){var R=D&&D.get(z.id)!=null;R||L(d[v==="series"?"_chartsMap":"_componentsMap"][z.__viewId])},d);function L(z){z&&z.__alive&&z[f]&&z[f](z.__model,b,d._api,p)}},U0={prepareAndUpdate:function(d){Cd(this),U0.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,f){var p=this._model,v=this._api,_=this._zr,b=this._coordSysMgr,C=this._scheduler;if(p){p.setUpdatePayload(d),C.restoreData(p,d),C.performSeriesTasks(p),b.create(p,v),C.performDataProcessorTasks(p,d),uz(this,p),b.update(p,v),e(p),C.performVisualTasks(p,d),fz(this,p,v,d,f);var w=p.get("backgroundColor")||"transparent",E=p.get("darkMode");_.setBackgroundColor(w),E!=null&&E!=="auto"&&_.setDarkMode(E),r1.trigger("afterupdate",p,v)}},updateTransform:function(d){var f=this,p=this._model,v=this._api;if(p){p.setUpdatePayload(d);var _=[];p.eachComponent(function(C,w){if(C!=="series"){var E=f.getViewOfComponentModel(w);if(E&&E.__alive)if(E.updateTransform){var D=E.updateTransform(w,p,v,d);D&&D.update&&_.push(E)}else _.push(E)}});var b=Le();p.eachSeries(function(C){var w=f._chartsMap[C.__viewId];if(w.updateTransform){var E=w.updateTransform(C,p,v,d);E&&E.update&&b.set(C.uid,1)}else b.set(C.uid,1)}),e(p),this._scheduler.performVisualTasks(p,d,{setDirty:!0,dirtyMap:b}),Y_(this,p,v,d,{},b),r1.trigger("afterupdate",p,v)}},updateView:function(d){var f=this._model;f&&(f.setUpdatePayload(d),Sr.markUpdateMethod(d,"updateView"),e(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0}),fz(this,f,this._api,d,{}),r1.trigger("afterupdate",f,this._api))},updateVisual:function(d){var f=this,p=this._model;p&&(p.setUpdatePayload(d),p.eachSeries(function(v){v.getData().clearAllVisual()}),Sr.markUpdateMethod(d,"updateVisual"),e(p),this._scheduler.performVisualTasks(p,d,{visualType:"visual",setDirty:!0}),p.eachComponent(function(v,_){if(v!=="series"){var b=f.getViewOfComponentModel(_);b&&b.__alive&&b.updateVisual(_,p,f._api,d)}}),p.eachSeries(function(v){var _=f._chartsMap[v.__viewId];_.updateVisual(v,p,f._api,d)}),r1.trigger("afterupdate",p,this._api))},updateLayout:function(d){U0.update.call(this,d)}},cz=function(d,f,p,v){if(d._disposed){d.id;return}for(var _=d._model,b=d._coordSysMgr.getCoordinateSystems(),C,w=S0(_,p),E=0;E<b.length;E++){var D=b[E];if(D[f]&&(C=D[f](_,w,v))!=null)return C}},uz=function(d,f){var p=d._chartsMap,v=d._scheduler;f.eachSeries(function(_){v.updateStreamModes(_,p[_.__viewId])})},dz=function(d,f){var p=this,v=this.getModel(),_=d.type,b=d.escapeConnect,C=X_[_],w=C.actionInfo,E=(w.update||"update").split(":"),D=E.pop(),L=E[0]!=null&&Go(E[0]);this[to]=!0;var z=[d],R=!1;d.batch&&(R=!0,z=ge(d.batch,function(re){return re=Ne(fe({},re),d),re.batch=null,re}));var H=[],W,$=qy(d),G=WL(d);if(G&&jL(this._api),O(z,function(re){if(W=C.action(re,p._model,p._api),W=W||fe({},re),W.type=w.event||W.type,H.push(W),G){var ce=K8(d),ne=ce.queryOptionMap,he=ce.mainTypeSpecified,oe=he?ne.keys()[0]:"series";$_(p,D,re,oe),o1(p)}else $?($_(p,D,re,"series"),o1(p)):L&&$_(p,D,re,L.main,L.sub)}),D!=="none"&&!G&&!$&&!L)try{this[Zo]?(Cd(this),U0.update.call(this,d),this[Zo]=null):U0[D].call(this,d)}catch(re){throw this[to]=!1,re}if(R?W={type:w.event||_,escapeConnect:b,batch:H}:W=H[0],this[to]=!1,!f){var Z=this._messageCenter;if(Z.trigger(W.type,W),$){var te={type:"selectchanged",escapeConnect:b,selected:yee(v),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};Z.trigger(te.type,te)}}},Bp=function(d){for(var f=this._pendingActions;f.length;){var p=f.shift();dz.call(this,p,d)}},Vp=function(d){!d&&this.trigger("updated")},gie=function(d,f){d.on("rendered",function(p){f.trigger("rendered",p),d.animation.isFinished()&&!f[Zo]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},vie=function(d,f){d.on("mouseover",function(p){var v=p.target,_=p4(v,lp);_&&(hee(_,p,f._api),o1(f))}).on("mouseout",function(p){var v=p.target,_=p4(v,lp);_&&(gee(_,p,f._api),o1(f))}).on("click",function(p){var v=p.target,_=p4(v,function(w){return yt(w).dataIndex!=null},!0);if(_){var b=_.selected?"unselect":"select",C=yt(_);f._api.dispatchAction({type:b,dataType:C.dataType,dataIndexInside:C.dataIndex,seriesIndex:C.seriesIndex,isFromClick:!0})}})};function e(d){d.clearColorPalette(),d.eachSeries(function(f){f.clearColorPalette()})}function i(d){var f=[],p=[],v=!1;if(d.eachComponent(function(w,E){var D=E.get("zlevel")||0,L=E.get("z")||0,z=E.getZLevelKey();v=v||!!z,(w==="series"?p:f).push({zlevel:D,z:L,idx:E.componentIndex,type:w,key:z})}),v){var _=f.concat(p),b,C;S3(_,function(w,E){return w.zlevel===E.zlevel?w.z-E.z:w.zlevel-E.zlevel}),O(_,function(w){var E=d.getComponent(w.type,w.idx),D=w.zlevel,L=w.key;b!=null&&(D=Math.max(b,D)),L?(D===b&&L!==C&&D++,C=L):C&&(D===b&&D++,C=""),b=D,E.setZLevel(D)})}}fz=function(d,f,p,v,_){i(f),yie(d,f,p,v,_),O(d._chartsViews,function(b){b.__alive=!1}),Y_(d,f,p,v,_),O(d._chartsViews,function(b){b.__alive||b.remove(f,p)})},yie=function(d,f,p,v,_,b){O(b||d._componentsViews,function(C){var w=C.__model;c(w,C),C.render(w,f,p,v),s(w,C),u(w,C)})},Y_=function(d,f,p,v,_,b){var C=d._scheduler;_=fe(_||{},{updatedSeries:f.getSeries()}),r1.trigger("series:beforeupdate",f,p,_);var w=!1;f.eachSeries(function(E){var D=d._chartsMap[E.__viewId];D.__alive=!0;var L=D.renderTask;C.updatePayload(L,v),c(E,D),b&&b.get(E.uid)&&L.dirty(),L.perform(C.getPerformArgs(L))&&(w=!0),D.group.silent=!!E.get("silent"),a(E,D),GL(E)}),C.unfinished=w||C.unfinished,r1.trigger("series:layoutlabels",f,p,_),r1.trigger("series:transition",f,p,_),f.eachSeries(function(E){var D=d._chartsMap[E.__viewId];s(E,D),u(E,D)}),o(d,f),r1.trigger("series:afterupdate",f,p,_)},o1=function(d){d[az]=!0,d.getZr().wakeUp()},bie=function(d){d[az]&&(d.getZr().storage.traverse(function(f){J3(f)||r(f)}),d[az]=!1)};function r(d){for(var f=[],p=d.currentStates,v=0;v<p.length;v++){var _=p[v];_==="emphasis"||_==="blur"||_==="select"||f.push(_)}d.selected&&d.states.select&&f.push("select"),d.hoverState===rp&&d.states.emphasis?f.push("emphasis"):d.hoverState===ip&&d.states.blur&&f.push("blur"),d.useStates(f)}function o(d,f){var p=d._zr,v=p.storage,_=0;v.traverse(function(b){b.isGroup||_++}),_>f.get("hoverLayerThreshold")&&!Be.node&&!Be.worker&&f.eachSeries(function(b){if(!b.preventUsingHoverLayer){var C=d._chartsMap[b.__viewId];C.__alive&&C.eachRendered(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}function a(d,f){var p=d.get("blendMode")||null;f.eachRendered(function(v){v.isGroup||(v.style.blend=p)})}function s(d,f){if(!d.preventAutoZ){var p=d.get("z")||0,v=d.get("zlevel")||0;f.eachRendered(function(_){return l(_,p,v,-1/0),!0})}}function l(d,f,p,v){var _=d.getTextContent(),b=d.getTextGuideLine(),C=d.isGroup;if(C)for(var w=d.childrenRef(),E=0;E<w.length;E++)v=Math.max(l(w[E],f,p,v),v);else d.z=f,d.zlevel=p,v=Math.max(d.z2,v);if(_&&(_.z=f,_.zlevel=p,isFinite(v)&&(_.z2=v+2)),b){var D=d.textGuideLineConfig;b.z=f,b.zlevel=p,isFinite(v)&&(b.z2=v+(D&&D.showAbove?1:-1))}return v}function c(d,f){f.eachRendered(function(p){if(!J3(p)){var v=p.getTextContent(),_=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function u(d,f){var p=d.getModel("stateAnimation"),v=d.isAnimationEnabled(),_=p.get("duration"),b=_>0?{duration:_,delay:p.get("delay"),easing:p.get("easing")}:null;f.eachRendered(function(C){if(C.states&&C.states.emphasis){if(J3(C))return;if(C instanceof ct&&xee(C),C.__dirty){var w=C.prevStates;w&&C.useStates(w)}if(v){C.stateTransition=b;var E=C.getTextContent(),D=C.getTextGuideLine();E&&(E.stateTransition=b),D&&(D.stateTransition=b)}C.__dirty&&r(C)}})}_ie=function(d){return new((function(f){de(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(v){for(;v;){var _=v.__ecComponentInfo;if(_!=null)return d._model.getComponent(_.mainType,_.index);v=v.parent}},p.prototype.enterEmphasis=function(v,_){Os(v,_),o1(d)},p.prototype.leaveEmphasis=function(v,_){Rs(v,_),o1(d)},p.prototype.enterBlur=function(v){fee(v),o1(d)},p.prototype.leaveBlur=function(v){VL(v),o1(d)},p.prototype.enterSelect=function(v){UL(v),o1(d)},p.prototype.leaveSelect=function(v){HL(v),o1(d)},p.prototype.getModel=function(){return d.getModel()},p.prototype.getViewOfComponentModel=function(v){return d.getViewOfComponentModel(v)},p.prototype.getViewOfSeriesModel=function(v){return d.getViewOfSeriesModel(v)},p})(E_))(d)},Lie=function(d){function f(p,v){for(var _=0;_<p.length;_++){var b=p[_];b[sz]=v}}O(Up,function(p,v){d._messageCenter.on(v,function(_){if(K_[d.group]&&d[sz]!==hie){if(_&&_.escapeConnect)return;var b=d.makeActionFromEvent(_),C=[];O(h4,function(w){w!==d&&w.group===d.group&&C.push(w)}),f(C,hie),O(C,function(w){w[sz]!==Oze&&w.dispatchAction(b)}),f(C,Rze)}})})}})(),t})(Ti),yz=Z_.prototype;yz.on=Mie("on");yz.off=Mie("off");yz.one=function(n,t,e){var i=this;function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),i.off(n,r)}this.on.call(this,n,r,e)};var Fze=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var X_={},Up={},pz=[],mz=[],Q_=[],Aie={},hz={},h4={},K_={},Bze=+new Date-0,Vze=+new Date-0,_z="_echarts_instance_";function Uze(n,t,e){var i=!(e&&e.ssr);if(i){var r=bz(n);if(r)return r}var o=new Z_(n,t,e);return o.id="ec_"+Bze++,h4[o.id]=o,i&&dL(n,_z,o.id),Lie(o),r1.trigger("afterinit",o),o}function Hze(n){if(pe(n)){var t=n;n=null,O(t,function(e){e.group!=null&&(n=e.group)}),n=n||"g_"+Vze++,O(t,function(e){e.group=n})}return K_[n]=!0,n}function zie(n){K_[n]=!1}var jze=zie;function Gze(n){_e(n)?n=h4[n]:n instanceof Z_||(n=bz(n)),n instanceof Z_&&!n.isDisposed()&&n.dispose()}function bz(n){return h4[pJ(n,_z)]}function Wze(n){return h4[n]}function xz(n,t){Aie[n]=t}function eb(n){qe(mz,n)<0&&mz.push(n)}function tb(n,t){Tz(pz,n,t,Ize)}function Cz(n){Hp("afterinit",n)}function Sz(n){Hp("afterupdate",n)}function Hp(n,t){r1.on(n,t)}function no(n,t,e){De(t)&&(e=t,t="");var i=Se(n)?n.type:[n,n={event:t}][0];n.event=(n.event||i).toLowerCase(),t=n.event,!Up[t]&&(Yi(mie.test(i)&&mie.test(t)),X_[i]||(X_[i]={action:e,actionInfo:n}),Up[t]=i)}function wz(n,t){md.register(n,t)}function qze(n){var t=md.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function Mz(n,t){Tz(Q_,n,t,Cie,"layout")}function al(n,t){Tz(Q_,n,t,Sie,"visual")}var xie=[];function Tz(n,t,e,i,r){if((De(t)||Se(t))&&(e=t,t=i),!(qe(xie,e)>=0)){xie.push(e);var o=ez.wrapStageHandler(e,r);o.__prio=t,o.__raw=e,n.push(o)}}function nb(n,t){hz[n]=t}function $ze(n){Kv({createCanvas:n})}function Ez(n,t,e){var i=oz("registerMap");i&&i(n,t,e)}function Yze(n){var t=oz("getMap");return t&&t(n)}var Dz=nne;al(gz,Ene);al(J_,Dne);al(J_,Ine);al(gz,Une);al(J_,Hne);al(wie,rz);eb(D_);tb(Eze,PA);nb("default",JA);no({type:L0,event:L0,update:L0},di);no({type:op,event:op,update:op},di);no({type:Ku,event:Ku,update:Ku},di);no({type:ap,event:ap,update:ap},di);no({type:Ju,event:Ju,update:Ju},di);xz("light",Nne);xz("dark",Fne);var Zze={};function jp(n){return n==null?0:n.length||1}function kie(n){return n}var Xze=(function(){function n(t,e,i,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=i||kie,this._newKeyGetter=r||kie,this.context=o,this._diffModeMultiple=a==="multiple"}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=r[a],l=i[s],c=jp(l);if(c>1){var u=l.shift();l.length===1&&(i[s]=l[0]),this._update&&this._update(u,a)}else c===1?(i[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var t=this._old,e=this._new,i={},r={},o=[],a=[];this._initIndexMap(t,i,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],c=i[l],u=r[l],d=jp(c),f=jp(u);if(d>1&&f===1)this._updateManyToOne&&this._updateManyToOne(u,c),r[l]=null;else if(d===1&&f>1)this._updateOneToMany&&this._updateOneToMany(u,c),r[l]=null;else if(d===1&&f===1)this._update&&this._update(u,c),r[l]=null;else if(d>1&&f>1)this._updateManyToMany&&this._updateManyToMany(u,c),r[l]=null;else if(d>1)for(var p=0;p<d;p++)this._remove&&this._remove(c[p]);else this._remove&&this._remove(c)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=e[r],a=jp(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else a===1&&this._add&&this._add(o);e[r]=null}},n.prototype._initIndexMap=function(t,e,i,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[r](t[a],a);if(o||(i[a]=s),!!e){var l=e[s],c=jp(l);c===0?(e[s]=a,o&&i.push(s)):c===1?e[s]=[l,a]:l.push(a)}}},n})(),Sd=Xze;var Qze=(function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n})();function Nie(n,t){var e={},i=e.encode={},r=Le(),o=[],a=[],s={};O(n.dimensions,function(f){var p=n.getDimensionInfo(f),v=p.coordDim;if(v){var _=p.coordDimIndex;Iz(i,v)[_]=f,p.isExtraCoord||(r.set(v,1),Kze(p.type)&&(o[0]=f),Iz(s,v)[_]=n.getDimensionIndex(p.name)),p.defaultTooltip&&a.push(f)}S_.each(function(b,C){var w=Iz(i,C),E=p.otherDims[C];E!=null&&E!==!1&&(w[E]=p.name)})});var l=[],c={};r.each(function(f,p){var v=i[p];c[p]=v[0],l=l.concat(v)}),e.dataDimsOnCoord=l,e.dataDimIndicesOnCoord=ge(l,function(f){return n.getDimensionInfo(f).storeDimIndex}),e.encodeFirstDimNotExtra=c;var u=i.label;u&&u.length&&(o=u.slice());var d=i.tooltip;return d&&d.length?a=d.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,e.userOutput=new Qze(s,t),e}function Iz(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function Pie(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function Kze(n){return!(n==="ordinal"||n==="time")}var Jze=(function(){function n(t){this.otherDims={},t!=null&&fe(this,t)}return n})(),wd=Jze;var eke=Ot(),tke={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Lz=(function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=zz(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return nt(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=L_(this.source),i=!kz(t),r="",o=[],a=0,s=0;a<t;a++){var l=void 0,c=void 0,u=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===a)l=e?d.name:null,c=d.type,u=d.ordinalMeta,s++;else{var f=this.getSourceDimension(a);f&&(l=e?f.name:null,c=f.type)}o.push({property:l,type:c,ordinalMeta:u}),e&&l!=null&&(!d||!d.isCalculationCoord)&&(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=tke[c]||"f",u&&(r+=u.uid),r+="$"}var p=this.source,v=[p.seriesLayoutBy,p.startIndex,r].join("$$");return{dimensions:o,hash:v}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,i=0;e<this._fullDimCount;e++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(e);a&&(r=a.name)}t.push(r)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n})();function rb(n){return n instanceof Lz}function Az(n){for(var t=Le(),e=0;e<(n||[]).length;e++){var i=n[e],r=Se(i)?i.name:i;r!=null&&t.get(r)==null&&t.set(r,e)}return t}function zz(n){var t=eke(n);return t.dimNameMap||(t.dimNameMap=Az(n.dimensionsDefine))}function kz(n){return n>30}var Gp=Se,H0=ge,nke=typeof Int32Array>"u"?Array:Int32Array,ike="e\0\0",Oie=-1,rke=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],oke=["_approximateExtent"],Rie,ob,Wp,qp,Nz,$p,Pz,ake=(function(){function n(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var i,r=!1;rb(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,i=t),i=i||["x","y"];for(var o={},a=[],s={},l=!1,c={},u=0;u<i.length;u++){var d=i[u],f=_e(d)?new wd({name:d}):d instanceof wd?d:new wd(d),p=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=p,f.coordDimIndex=0);var v=f.otherDims=f.otherDims||{};a.push(p),o[p]=f,c[p]!=null&&(l=!0),f.createInvertedIndices&&(s[p]=[]),v.itemName===0&&(this._nameDimIdx=u),v.itemId===0&&(this._idDimIdx=u),r&&(f.storeDimIndex=u)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var _=this._dimIdxToName=Le();O(a,function(b){_.set(o[b].storeDimIndex,b)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(i!=null)return i;var r=this._schema.getSourceDimension(e);if(r)return r.name},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(Ct(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(i){return e.hasOwnProperty(i)?e[i]:void 0}:function(i){return e[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(e==null)return i.encodeFirstDimNotExtra[t];var r=i.encode[t];return r?r[e]:null},n.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,i=e.encode[t];return(i||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,i){var r=this,o;if(t instanceof Ap&&(o=t),!o){var a=this.dimensions,s=hd(t)||wi(t)?new A_(t,a.length):t;o=new Ap;var l=H0(a,function(c){return{type:r._dimInfos[c].type,property:c}});o.initData(s,l,i)}this._store=o,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=Nie(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e&&e.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=r;s<o;s++){var l=s-r;this._nameList[s]=e[l],a&&Pz(this,s)}},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var r=this._dimInfos[e[i]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==ga&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store,r=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,s=r.getSource().sourceFormat,l=s===pr;if(l&&!r.pure)for(var c=[],u=t;u<e;u++){var d=r.getItem(u,c);if(!this.hasItemOption&&sJ(d)&&(this.hasItemOption=!0),d){var f=d.name;o[u]==null&&f!=null&&(o[u]=da(f,null));var p=d.id;a[u]==null&&p!=null&&(a[u]=da(p,null))}}if(this._shouldMakeIdFromName())for(var u=t;u<e;u++)Pz(this,u);Rie(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){Gp(t)?fe(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return i==null&&this._nameDimIdx!=null&&(i=Wp(this,this._nameDimIdx,e)),i==null&&(i=""),i},n.prototype._getCategory=function(t,e){var i=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[i]:i},n.prototype.getId=function(t){return ob(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var i=this._store,r=this._dimInfos[t];if(r)return i.get(r.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var i=this._store,r=this._dimInfos[t];if(r)return i.getByRawIndex(r.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var i=this,r=this._store;return pe(t)?r.getValues(H0(t,function(o){return i._getStoreDimIndex(o)}),e):r.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,r=e.length;i<r;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var i=t&&this._invertedIndicesMap[t],r=i&&i[e];return r==null||isNaN(r)?Oie:r},n.prototype.indicesOfNearest=function(t,e,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,i)},n.prototype.each=function(t,e,i){"use strict";De(t)&&(i=e,e=t,t=[]);var r=i||this,o=H0(qp(t),this._getStoreDimIndex,this);this._store.each(o,r?Ae(e,r):e)},n.prototype.filterSelf=function(t,e,i){"use strict";De(t)&&(i=e,e=t,t=[]);var r=i||this,o=H0(qp(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?Ae(e,r):e),this},n.prototype.selectRange=function(t){"use strict";var e=this,i={},r=Lt(t),o=[];return O(r,function(a){var s=e._getStoreDimIndex(a);i[s]=t[a],o.push(s)}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(t,e,i){"use strict";De(t)&&(i=e,e=t,t=[]),i=i||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},i),r},n.prototype.map=function(t,e,i,r){"use strict";var o=i||r||this,a=H0(qp(t),this._getStoreDimIndex,this),s=$p(this);return s._store=this._store.map(a,o?Ae(e,o):e),s},n.prototype.modify=function(t,e,i,r){var o=this,a=i||r||this,s=H0(qp(t),this._getStoreDimIndex,this);this._store.modify(s,a?Ae(e,a):e)},n.prototype.downSample=function(t,e,i,r){var o=$p(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,i,r),o},n.prototype.minmaxDownSample=function(t,e){var i=$p(this);return i._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),i},n.prototype.lttbDownSample=function(t,e){var i=$p(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new $t(i,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new Sd(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return ob(t,i)},function(i){return ob(e,i)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},Gp(t)?fe(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t],r=i&&i[e];return r??this.getVisual(e)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,r=i[t];r||(r=i[t]={});var o=r[e];return o==null&&(o=this.getVisual(e),pe(o)?o=o.slice():Gp(o)&&(o=fe({},o)),r[e]=o),o},n.prototype.setItemVisual=function(t,e,i){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,Gp(e)?fe(r,e):r[e]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){Gp(t)?fe(this._layout,t):this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?fe(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){var i=this.hostModel&&this.hostModel.seriesIndex;tee(i,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){O(this._graphicEls,function(i,r){i&&t&&t.call(e,i,r)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:H0(this.dimensions,this._getDimInfo,this),this.hostModel)),Nz(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var i=this[t];De(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=i.apply(this,arguments);return e.apply(this,[r].concat(E8(arguments)))})},n.internalField=(function(){Rie=function(t){var e=t._invertedIndicesMap;O(e,function(i,r){var o=t._dimInfos[r],a=o.ordinalMeta,s=t._store;if(a){i=e[r]=new nke(a.categories.length);for(var l=0;l<i.length;l++)i[l]=Oie;for(var l=0;l<s.count();l++)i[s.get(o.storeDimIndex,l)]=l}})},Wp=function(t,e,i){return da(t._getCategory(e,i),null)},ob=function(t,e){var i=t._idList[e];return i==null&&t._idDimIdx!=null&&(i=Wp(t,t._idDimIdx,e)),i==null&&(i=ike+e),i},qp=function(t){return pe(t)||(t=t!=null?[t]:[]),t},$p=function(t){var e=new n(t._schema?t._schema:H0(t.dimensions,t._getDimInfo,t),t.hostModel);return Nz(e,t),e},Nz=function(t,e){O(rke.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,O(oke,function(i){t[i]=ke(e[i])}),t._calculationInfo=fe({},e._calculationInfo)},Pz=function(t,e){var i=t._nameList,r=t._idList,o=t._nameDimIdx,a=t._idDimIdx,s=i[e],l=r[e];if(s==null&&o!=null&&(i[e]=s=Wp(t,o,e)),l==null&&a!=null&&(r[e]=l=Wp(t,a,e)),l==null&&s!=null){var c=t._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),r[e]=l}}})(),n})(),ab=ake;var qz={};Ko(qz,{createDimensions:()=>Fie,createList:()=>jke,createScale:()=>Wke,createSymbol:()=>eo,createTextStyle:()=>$ke,dataStack:()=>Gke,enableHoverEmphasis:()=>A0,getECData:()=>yt,getLayoutRect:()=>Qr,mixinAxisModelCommonMethods:()=>qke});function Fie(n,t){return sb(n,t).dimensions}function sb(n,t){hd(n)||(n=gd(n)),t=t||{};var e=t.coordDimensions||[],i=t.dimensionsDefine||n.dimensionsDefine||[],r=Le(),o=[],a=lke(n,e,i,t.dimensionsCount),s=t.canOmitUnusedDimensions&&kz(a),l=i===n.dimensionsDefine,c=l?zz(n):Az(i),u=t.encodeDefine;!u&&t.encodeDefaulter&&(u=t.encodeDefaulter(n,a));for(var d=Le(u),f=new WA(a),p=0;p<f.length;p++)f[p]=-1;function v(W){var $=f[W];if($<0){var G=i[W],Z=Se(G)?G:{name:G},te=new wd,re=Z.name;re!=null&&c.get(re)!=null&&(te.name=te.displayName=re),Z.type!=null&&(te.type=Z.type),Z.displayName!=null&&(te.displayName=Z.displayName);var ce=o.length;return f[W]=ce,te.storeDimIndex=W,o.push(te),te}return o[$]}if(!s)for(var p=0;p<a;p++)v(p);d.each(function(W,$){var G=ii(W).slice();if(G.length===1&&!_e(G[0])&&G[0]<0){d.set($,!1);return}var Z=d.set($,[]);O(G,function(te,re){var ce=_e(te)?c.get(te):te;ce!=null&&ce<a&&(Z[re]=ce,b(v(ce),$,re))})});var _=0;O(e,function(W){var $,G,Z,te;if(_e(W))$=W,te={};else{te=W,$=te.name;var re=te.ordinalMeta;te.ordinalMeta=null,te=fe({},te),te.ordinalMeta=re,G=te.dimsDef,Z=te.otherDims,te.name=te.coordDim=te.coordDimIndex=te.dimsDef=te.otherDims=null}var ce=d.get($);if(ce!==!1){if(ce=ii(ce),!ce.length)for(var ne=0;ne<(G&&G.length||1);ne++){for(;_<a&&v(_).coordDim!=null;)_++;_<a&&ce.push(_++)}O(ce,function(he,oe){var ve=v(he);if(l&&te.type!=null&&(ve.type=te.type),b(Ne(ve,te),$,oe),ve.name==null&&G){var Ee=G[oe];!Se(Ee)&&(Ee={name:Ee}),ve.name=ve.displayName=Ee.name,ve.defaultTooltip=Ee.defaultTooltip}Z&&Ne(ve.otherDims,Z)})}});function b(W,$,G){S_.get($)!=null?W.otherDims[$]=G:(W.coordDim=$,W.coordDimIndex=G,r.set($,!0))}var C=t.generateCoord,w=t.generateCoordCount,E=w!=null;w=C?w||1:0;var D=C||"value";function L(W){W.name==null&&(W.name=W.coordDim)}if(s)O(o,function(W){L(W)}),o.sort(function(W,$){return W.storeDimIndex-$.storeDimIndex});else for(var z=0;z<a;z++){var R=v(z),H=R.coordDim;H==null&&(R.coordDim=cke(D,r,E),R.coordDimIndex=0,(!C||w<=0)&&(R.isExtraCoord=!0),w--),L(R),R.type==null&&(w_(n,z)===bo.Must||R.isExtraCoord&&(R.otherDims.itemName!=null||R.otherDims.seriesName!=null))&&(R.type="ordinal")}return ske(o),new Lz({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function ske(n){for(var t=Le(),e=0;e<n.length;e++){var i=n[e],r=i.name,o=t.get(r)||0;o>0&&(i.name=r+(o-1)),o++,t.set(r,o)}}function lke(n,t,e,i){var r=Math.max(n.dimensionsDetectedCount||1,t.length,e.length,i||0);return O(t,function(o){var a;Se(o)&&(a=o.dimsDef)&&(r=Math.max(r,a.length))}),r}function cke(n,t,e){if(e||t.hasKey(n)){for(var i=0;t.hasKey(n+i);)i++;n+=i}return t.set(n,!0),n}var uke=(function(){function n(t){this.coordSysDims=[],this.axisMap=Le(),this.categoryAxisMap=Le(),this.coordSysName=t}return n})();function Bie(n){var t=n.get("coordinateSystem"),e=new uke(t),i=dke[t];if(i)return i(n,e,e.axisMap,e.categoryAxisMap),e}var dke={cartesian2d:function(n,t,e,i){var r=n.getReferringComponents("xAxis",ai).models[0],o=n.getReferringComponents("yAxis",ai).models[0];t.coordSysDims=["x","y"],e.set("x",r),e.set("y",o),Md(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),Md(o)&&(i.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,i){var r=n.getReferringComponents("singleAxis",ai).models[0];t.coordSysDims=["single"],e.set("single",r),Md(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(n,t,e,i){var r=n.getReferringComponents("polar",ai).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",a),Md(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),Md(a)&&(i.set("angle",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,i){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();O(o.parallelAxisIndex,function(s,l){var c=r.getComponent("parallelAxis",s),u=a[l];e.set(u,c),Md(c)&&(i.set(u,c),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function Md(n){return n.get("type")==="category"}function lb(n,t,e){e=e||{};var i=e.byIndex,r=e.stackedCoordDimension,o,a,s;fke(t)?o=t:(a=t.schema,o=a.dimensions,s=t.store);var l=!!(n&&n.get("stack")),c,u,d,f;if(O(o,function(w,E){_e(w)&&(o[E]=w={name:w}),l&&!w.isExtraCoord&&(!i&&!c&&w.ordinalMeta&&(c=w),!u&&w.type!=="ordinal"&&w.type!=="time"&&(!r||r===w.coordDim)&&(u=w))}),u&&!i&&!c&&(i=!0),u){d="__\0ecstackresult_"+n.id,f="__\0ecstackedover_"+n.id,c&&(c.createInvertedIndices=!0);var p=u.coordDim,v=u.type,_=0;O(o,function(w){w.coordDim===p&&_++});var b={name:d,coordDim:p,coordDimIndex:_,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},C={name:f,coordDim:f,coordDimIndex:_+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(b.storeDimIndex=s.ensureCalculationDimension(f,v),C.storeDimIndex=s.ensureCalculationDimension(d,v)),a.appendCalculationDimension(b),a.appendCalculationDimension(C)):(o.push(b),o.push(C))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:i,stackedOverDimension:f,stackResultDimension:d}}function fke(n){return!rb(n.schema)}function O1(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function cb(n,t){return O1(n,t)?n.getCalculationInfo("stackResultDimension"):t}function pke(n,t){var e=n.get("coordinateSystem"),i=md.get(e),r;return t&&t.coordSysDims&&(r=ge(t.coordSysDims,function(o){var a={name:o},s=t.axisMap.get(o);if(s){var l=s.get("type");a.type=Pie(l)}return a})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}function mke(n,t,e){var i,r;return e&&O(n,function(o,a){var s=o.coordDim,l=e.categoryAxisMap.get(s);l&&(i==null&&(i=a),o.ordinalMeta=l.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(r=!0)}),!r&&i!=null&&(n[i].otherDims.itemName=0),i}function hke(n,t,e){e=e||{};var i=t.getSourceManager(),r,o=!1;n?(o=!0,r=gd(n)):(r=i.getSource(),o=r.sourceFormat===pr);var a=Bie(t),s=pke(t,a),l=e.useEncodeDefaulter,c=De(l)?l:l?lt(Ete,s,t):null,u={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o},d=sb(r,u),f=mke(d.dimensions,e.createInvertedIndices,a),p=o?null:i.getSharedDataStore(d),v=lb(t,{schema:d,store:p}),_=new ab(d,t);_.setCalculationInfo(v);var b=f!=null&&gke(r)?function(C,w,E,D){return D===f?E:this.defaultDimValueGetter(C,w,E,D)}:null;return _.hasItemOption=!1,_.initData(o?r:p,null,b),_}function gke(n){if(n.sourceFormat===pr){var t=vke(n.data||[]);return!pe(Y2(t))}}function vke(n){for(var t=0;t<n.length&&n[t]==null;)t++;return n[t]}var j0=hke;var Vie=(function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n})();M0(Vie);var Xo=Vie;var yke=0,_ke=(function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++yke}return n.createByAxisModel=function(t){var e=t.option,i=e.data,r=i&&ge(i,bke);return new n({categories:r,needCollect:!r,deduplication:e.dedplication!==!1})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if(!_e(t)&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=this._getOrCreateMap();return e=r.get(t),e==null&&(i?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Le(this.categories))},n})();function bke(n){return Se(n)&&n.value!=null?n.value:n+""}var Yp=_ke;function Zp(n){return n.type==="interval"||n.type==="log"}function Hie(n,t,e,i){var r={},o=n[1]-n[0],a=r.interval=Wu(o/t,!0);e!=null&&a<e&&(a=r.interval=e),i!=null&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=Oz(a),l=r.niceTickExtent=[bn(Math.ceil(n[0]/a)*a,s),bn(Math.floor(n[1]/a)*a,s)];return xke(l,n),r}function ub(n){var t=Math.pow(10,Gu(n)),e=n/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,bn(e*t)}function Oz(n){return yo(n)+2}function Uie(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function xke(n,t){!isFinite(n[0])&&(n[0]=t[0]),!isFinite(n[1])&&(n[1]=t[1]),Uie(n,0,t),Uie(n,1,t),n[0]>n[1]&&(n[0]=n[1])}function G0(n,t){return n>=t[0]&&n<=t[1]}function W0(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function q0(n,t){return n*(t[1]-t[0])+t[0]}var jie=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new Yp({})),pe(r)&&(r=new Yp({categories:ge(r,function(o){return Se(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return t.prototype.parse=function(e){return e==null?NaN:_e(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),G0(e,this._extent)&&this._ordinalMeta.categories[e]!=null},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),W0(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(q0(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],i=this._extent,r=i[0];r<=i[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);a<l;++a){var c=i[a];r[a]=c,o[c]=a}for(var u=0;a<s;++a){for(;o[u]!=null;)u++;r.push(u),o[u]=a}},t.prototype._getTickNumber=function(e){var i=this._ticksByOrdinalNumber;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getRawOrdinalNumber=function(e){var i=this._ordinalNumbersByTick;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var i=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[i];return r==null?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Xo);Xo.registerClass(jie);var Rz=jie;var g4=bn,Gie=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return G0(e,this._extent)},t.prototype.normalize=function(e){return W0(e,this._extent)},t.prototype.scale=function(e){return q0(e,this._extent)},t.prototype.setExtent=function(e,i){var r=this._extent;isNaN(e)||(r[0]=parseFloat(e)),isNaN(i)||(r[1]=parseFloat(i))},t.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1]),this.setExtent(i[0],i[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Oz(e)},t.prototype.getTicks=function(e){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!i)return s;var l=1e4;r[0]<o[0]&&(e?s.push({value:g4(o[0]-i,a)}):s.push({value:r[0]}));for(var c=o[0];c<=o[1]&&(s.push({value:c}),c=g4(c+i,a),c!==s[s.length-1].value);)if(s.length>l)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&(e?s.push({value:g4(u+i,a)}):s.push({value:r[1]})),s},t.prototype.getMinorTicks=function(e){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var s=i[a],l=i[a-1],c=0,u=[],d=s.value-l.value,f=d/e;c<e-1;){var p=g4(l.value+(c+1)*f);p>o[0]&&p<o[1]&&u.push(p),c++}r.push(u)}return r},t.prototype.getLabel=function(e,i){if(e==null)return"";var r=i&&i.precision;r==null?r=yo(e.value)||0:r==="auto"&&(r=this._intervalPrecision);var o=g4(e.value,r,!0);return wp(o)},t.prototype.calcNiceTicks=function(e,i,r){e=e||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=Hie(o,e,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var r=Math.abs(i[0]);e.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(i[0]=g4(Math.floor(i[0]/a)*a)),e.fixMax||(i[1]=g4(Math.ceil(i[1]/a)*a))},t.prototype.setNiceExtent=function(e,i){this._niceExtent=[e,i]},t.type="interval",t})(Xo);Xo.registerClass(Gie);var sl=Gie;var Wie=typeof Float32Array<"u",Cke=Wie?Float32Array:Array;function va(n){return pe(n)?Wie?new Float32Array(n):n:new Cke(n)}var Ske="__ec_stack_";function Fz(n){return n.get("stack")||Ske+n.seriesIndex}function Bz(n){return n.dim+n.index}function Vz(n,t){var e=[];return t.eachSeriesByType(n,function(i){Zie(i)&&e.push(i)}),e}function wke(n){var t={};O(n,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var d=l.getData(),f=u.dim+"_"+u.index,p=d.getDimensionIndex(d.mapDimension(u.dim)),v=d.getStore(),_=0,b=v.count();_<b;++_){var C=v.get(p,_);t[f]?t[f].push(C):t[f]=[C]}});var e={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r){r.sort(function(l,c){return l-c});for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=o===null?s:Math.min(o,s))}e[i]=o}}return e}function Uz(n){var t=wke(n),e=[];return O(n,function(i){var r=i.coordinateSystem,o=r.getBaseAxis(),a=o.getExtent(),s;if(o.type==="category")s=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var l=o.dim+"_"+o.index,c=t[l],u=Math.abs(a[1]-a[0]),d=o.scale.getExtent(),f=Math.abs(d[1]-d[0]);s=c?u/f*c:u}else{var p=i.getData();s=Math.abs(a[1]-a[0])/p.count()}var v=fi(i.get("barWidth"),s),_=fi(i.get("barMaxWidth"),s),b=fi(i.get("barMinWidth")||(Xie(i)?.5:1),s),C=i.get("barGap"),w=i.get("barCategoryGap");e.push({bandWidth:s,barWidth:v,barMaxWidth:_,barMinWidth:b,barGap:C,barCategoryGap:w,axisKey:Bz(o),stackId:Fz(i)})}),Mke(e)}function Mke(n){var t={};O(n,function(i,r){var o=i.axisKey,a=i.bandWidth,s=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[o]=s;var c=i.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=i.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var d=i.barMaxWidth;d&&(l[c].maxWidth=d);var f=i.barMinWidth;f&&(l[c].minWidth=f);var p=i.barGap;p!=null&&(s.gap=p);var v=i.barCategoryGap;v!=null&&(s.categoryGap=v)});var e={};return O(t,function(i,r){e[r]={};var o=i.stacks,a=i.bandWidth,s=i.categoryGap;if(s==null){var l=Lt(o).length;s=Math.max(35-l*4,15)+"%"}var c=fi(s,a),u=fi(i.gap,1),d=i.remainedWidth,f=i.autoWidthCount,p=(d-c)/(f+(f-1)*u);p=Math.max(p,0),O(o,function(C){var w=C.maxWidth,E=C.minWidth;if(C.width){var D=C.width;w&&(D=Math.min(D,w)),E&&(D=Math.max(D,E)),C.width=D,d-=D+u*D,f--}else{var D=p;w&&w<D&&(D=Math.min(w,d)),E&&E>D&&(D=E),D!==p&&(C.width=D,d-=D+u*D,f--)}}),p=(d-c)/(f+(f-1)*u),p=Math.max(p,0);var v=0,_;O(o,function(C,w){C.width||(C.width=p),_=C,v+=C.width*(1+u)}),_&&(v-=_.width*u);var b=-v/2;O(o,function(C,w){e[r][w]=e[r][w]||{bandWidth:a,offset:b,width:C.width},b+=C.width*(1+u)})}),e}function qie(n,t,e){if(n&&t){var i=n[Bz(t)];return i!=null&&e!=null?i[Fz(e)]:i}}function $ie(n,t){var e=Vz(n,t),i=Uz(e);O(e,function(r){var o=r.getData(),a=r.coordinateSystem,s=a.getBaseAxis(),l=Fz(r),c=i[Bz(s)][l],u=c.offset,d=c.width;o.setLayout({bandWidth:c.bandWidth,offset:u,size:d})})}function Yie(n){return{seriesType:n,plan:u4(),reset:function(t){if(Zie(t)){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),a=e.getDimensionIndex(e.mapDimension(o.dim)),s=e.getDimensionIndex(e.mapDimension(r.dim)),l=t.get("showBackground",!0),c=e.mapDimension(o.dim),u=e.getCalculationInfo("stackResultDimension"),d=O1(e,c)&&!!e.getCalculationInfo("stackedOnSeries"),f=o.isHorizontal(),p=Tke(r,o),v=Xie(t),_=t.get("barMinHeight")||0,b=u&&e.getDimensionIndex(u),C=e.getLayout("size"),w=e.getLayout("offset");return{progress:function(E,D){for(var L=E.count,z=v&&va(L*3),R=v&&l&&va(L*3),H=v&&va(L),W=i.master.getRect(),$=f?W.width:W.height,G,Z=D.getStore(),te=0;(G=E.next())!=null;){var re=Z.get(d?b:a,G),ce=Z.get(s,G),ne=p,he=void 0;d&&(he=+re-Z.get(a,G));var oe=void 0,ve=void 0,Ee=void 0,Ge=void 0;if(f){var Ye=i.dataToPoint([re,ce]);if(d){var Rt=i.dataToPoint([he,ce]);ne=Rt[0]}oe=ne,ve=Ye[1]+w,Ee=Ye[0]-ne,Ge=C,Math.abs(Ee)<_&&(Ee=(Ee<0?-1:1)*_)}else{var Ye=i.dataToPoint([ce,re]);if(d){var Rt=i.dataToPoint([ce,he]);ne=Rt[1]}oe=Ye[0]+w,ve=ne,Ee=C,Ge=Ye[1]-ne,Math.abs(Ge)<_&&(Ge=(Ge<=0?-1:1)*_)}v?(z[te]=oe,z[te+1]=ve,z[te+2]=f?Ee:Ge,R&&(R[te]=f?W.x:oe,R[te+1]=f?ve:W.y,R[te+2]=$),H[G]=G):D.setItemLayout(G,{x:oe,y:ve,width:Ee,height:Ge}),te+=3}v&&D.setLayout({largePoints:z,largeDataIndices:H,largeBackgroundPoints:R,valueAxisHorizontal:f})}}}}}}function Zie(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function Xie(n){return n.pipelineContext&&n.pipelineContext.large}function Tke(n,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?e>0?e:1:e))}var Eke=function(n,t,e,i){for(;e<i;){var r=e+i>>>1;n[r][1]<t?e=r+1:i=r}return e},Kie=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="time",i}return t.prototype.getLabel=function(e){var i=this.getSetting("useUTC");return tl(e.value,hA[hte(o4(this._minLevelUnit))]||hA.second,i,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,i,r){var o=this.getSetting("useUTC"),a=this.getSetting("locale");return gte(e,i,r,a,o)},t.prototype.getTicks=function(){var e=this._interval,i=this._extent,r=[];if(!e)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=Nke(this._minLevelUnit,this._approxInterval,o,i);return r=r.concat(a),r.push({value:i[1],level:0}),r},t.prototype.calcNiceExtent=function(e){var i=this._extent;if(i[0]===i[1]&&(i[0]-=ha,i[1]+=ha),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-ha}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,i,r){e=e||10;var o=this._extent,a=o[1]-o[0];this._approxInterval=a/e,i!=null&&this._approxInterval<i&&(this._approxInterval=i),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var s=fb.length,l=Math.min(Eke(fb,this._approxInterval,0,s),s-1);this._interval=fb[l][1],this._minLevelUnit=fb[Math.max(l-1,0)][0]},t.prototype.parse=function(e){return Ct(e)?e:+dr(e)},t.prototype.contain=function(e){return G0(this.parse(e),this._extent)},t.prototype.normalize=function(e){return W0(this.parse(e),this._extent)},t.prototype.scale=function(e){return q0(e,this._extent)},t.type="time",t})(sl),fb=[["second",m_],["minute",h_],["hour",cd],["quarter-day",cd*6],["half-day",cd*12],["day",ha*1.2],["half-week",ha*3.5],["week",ha*7],["month",ha*31],["quarter",ha*95],["half-year",mA/2],["year",mA]];function Dke(n,t,e,i){var r=dr(t),o=dr(e),a=function(v){return vA(r,v,i)===vA(o,v,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},c=function(){return l()&&a("day")},u=function(){return c()&&a("hour")},d=function(){return u()&&a("minute")},f=function(){return d()&&a("second")},p=function(){return f()&&a("millisecond")};switch(n){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return d();case"second":return f();case"millisecond":return p()}}function Ike(n,t){return n/=ha,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Lke(n){var t=30*ha;return n/=t,n>6?6:n>3?3:n>2?2:1}function Ake(n){return n/=cd,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function Qie(n,t){return n/=t?h_:m_,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function zke(n){return Wu(n,!0)}function kke(n,t,e){var i=new Date(n);switch(o4(t)){case"year":case"month":i[yA(e)](0);case"day":i[_A(e)](1);case"hour":i[bA(e)](0);case"minute":i[xA(e)](0);case"second":i[CA(e)](0),i[SA(e)](0)}return i.getTime()}function Nke(n,t,e,i){var r=1e4,o=gA,a=0;function s($,G,Z,te,re,ce,ne){for(var he=new Date(G),oe=G,ve=he[te]();oe<Z&&oe<=i[1];)ne.push({value:oe}),ve+=$,he[re](ve),oe=he.getTime();ne.push({value:oe,notAdd:!0})}function l($,G,Z){var te=[],re=!G.length;if(!Dke(o4($),i[0],i[1],e)){re&&(G=[{value:kke(new Date(i[0]),$,e)},{value:i[1]}]);for(var ce=0;ce<G.length-1;ce++){var ne=G[ce].value,he=G[ce+1].value;if(ne!==he){var oe=void 0,ve=void 0,Ee=void 0,Ge=!1;switch($){case"year":oe=Math.max(1,Math.round(t/ha/365)),ve=g_(e),Ee=yte(e);break;case"half-year":case"quarter":case"month":oe=Lke(t),ve=r4(e),Ee=yA(e);break;case"week":case"half-week":case"day":oe=Ike(t,31),ve=bp(e),Ee=_A(e),Ge=!0;break;case"half-day":case"quarter-day":case"hour":oe=Ake(t),ve=ld(e),Ee=bA(e);break;case"minute":oe=Qie(t,!0),ve=xp(e),Ee=xA(e);break;case"second":oe=Qie(t,!1),ve=Cp(e),Ee=CA(e);break;case"millisecond":oe=zke(t),ve=Sp(e),Ee=SA(e);break}s(oe,ne,he,ve,Ee,Ge,te),$==="year"&&Z.length>1&&ce===0&&Z.unshift({value:Z[0].value-oe})}}for(var ce=0;ce<te.length;ce++)Z.push(te[ce]);return te}}for(var c=[],u=[],d=0,f=0,p=0;p<o.length&&a++<r;++p){var v=o4(o[p]);if(mte(o[p])){l(o[p],c[c.length-1]||[],u);var _=o[p+1]?o4(o[p+1]):null;if(v!==_){if(u.length){f=d,u.sort(function($,G){return $.value-G.value});for(var b=[],C=0;C<u.length;++C){var w=u[C].value;(C===0||u[C-1].value!==w)&&(b.push(u[C]),w>=i[0]&&w<=i[1]&&d++)}var E=(i[1]-i[0])/t;if(d>E*1.5&&f>E/1.5||(c.push(b),d>E||n===o[p]))break}u=[]}}}for(var D=hn(ge(c,function($){return hn($,function(G){return G.value>=i[0]&&G.value<=i[1]&&!G.notAdd})}),function($){return $.length>0}),L=[],z=D.length-1,p=0;p<D.length;++p)for(var R=D[p],H=0;H<R.length;++H)L.push({value:R[H].value,level:z-p});L.sort(function($,G){return $.value-G.value});for(var W=[],p=0;p<L.length;++p)(p===0||L[p].value!==L[p-1].value)&&W.push(L[p]);return W}Xo.registerClass(Kie);var Jie=Kie;var ere=Xo.prototype,Xp=sl.prototype,Pke=bn,Oke=Math.floor,Rke=Math.ceil,pb=Math.pow,R1=Math.log,Hz=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new sl,e._interval=0,e}return t.prototype.getTicks=function(e){var i=this._originalScale,r=this._extent,o=i.getExtent(),a=Xp.getTicks.call(this,e);return ge(a,function(s){var l=s.value,c=bn(pb(this.base,l));return c=l===r[0]&&this._fixMin?mb(c,o[0]):c,c=l===r[1]&&this._fixMax?mb(c,o[1]):c,{value:c}},this)},t.prototype.setExtent=function(e,i){var r=R1(this.base);e=R1(Math.max(0,e))/r,i=R1(Math.max(0,i))/r,Xp.setExtent.call(this,e,i)},t.prototype.getExtent=function(){var e=this.base,i=ere.getExtent.call(this);i[0]=pb(e,i[0]),i[1]=pb(e,i[1]);var r=this._originalScale,o=r.getExtent();return this._fixMin&&(i[0]=mb(i[0],o[0])),this._fixMax&&(i[1]=mb(i[1],o[1])),i},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=R1(e[0])/R1(i),e[1]=R1(e[1])/R1(i),ere.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.calcNiceTicks=function(e){e=e||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=Py(r),a=e/r*o;for(a<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[bn(Rke(i[0]/o)*o),bn(Oke(i[1]/o)*o)];this._interval=o,this._niceExtent=s}},t.prototype.calcNiceExtent=function(e){Xp.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=R1(e)/R1(this.base),G0(e,this._extent)},t.prototype.normalize=function(e){return e=R1(e)/R1(this.base),W0(e,this._extent)},t.prototype.scale=function(e){return e=q0(e,this._extent),pb(this.base,e)},t.type="log",t})(Xo),tre=Hz.prototype;tre.getMinorTicks=Xp.getMinorTicks;tre.getLabel=Xp.getLabel;function mb(n,t){return Pke(n,yo(t))}Xo.registerClass(Hz);var nre=Hz;var Fke=(function(){function n(t,e,i){this._prepareParams(t,e,i)}return n.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=e.get("min",!0);o==null&&(o=e.get("startValue",!0));var a=this._modelMinRaw=o;De(a)?this._modelMinNum=hb(t,a({min:i[0],max:i[1]})):a!=="dataMin"&&(this._modelMinNum=hb(t,a));var s=this._modelMaxRaw=e.get("max",!0);if(De(s)?this._modelMaxNum=hb(t,s({min:i[0],max:i[1]})):s!=="dataMax"&&(this._modelMaxNum=hb(t,s)),r)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),c=pe(l)?l:[l||0,l||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[$a(c[0],1),$a(c[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:i-e||Math.abs(e),s=this._modelMinRaw==="dataMin"?e:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,c=s!=null,u=l!=null;s==null&&(s=t?r?0:NaN:e-o[0]*a),l==null&&(l=t?r?r-1:NaN:i+o[1]*a),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=g3(s)||g3(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var f=this._determinedMin,p=this._determinedMax;return f!=null&&(s=f,c=!0),p!=null&&(l=p,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:d}},n.prototype.modifyDataMinMax=function(t,e){this[Vke[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){var i=Bke[t];this[i]=e},n.prototype.freeze=function(){this.frozen=!0},n})();var Bke={min:"_determinedMin",max:"_determinedMax"},Vke={min:"_dataMin",max:"_dataMax"};function gb(n,t,e){var i=n.rawExtentInfo;return i||(i=new Fke(n,t,e),n.rawExtentInfo=i,i)}function hb(n,t){return t==null?null:g3(t)?NaN:n.parse(t)}function jz(n,t){var e=n.type,i=gb(n,t,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=t.ecModel;if(a&&e==="time"){var s=Vz("bar",a),l=!1;if(O(s,function(d){l=l||d.getBaseAxis()===t.axis}),l){var c=Uz(s),u=Uke(r,o,t,c);r=u.min,o=u.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function Uke(n,t,e,i){var r=e.axis.getExtent(),o=Math.abs(r[1]-r[0]),a=qie(i,e.axis);if(a===void 0)return{min:n,max:t};var s=1/0;O(a,function(p){s=Math.min(p.offset,s)});var l=-1/0;O(a,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=t-n,d=1-(s+l)/o,f=u/d-u;return t+=f*(l/c),n-=f*(s/c),{min:n,max:t}}function Qp(n,t){var e=t,i=jz(n,e),r=i.extent,o=e.get("splitNumber");n instanceof nre&&(n.base=e.get("logBase"));var a=n.type,s=e.get("interval"),l=a==="interval"||a==="time";n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?e.get("minInterval"):null,maxInterval:l?e.get("maxInterval"):null}),s!=null&&n.setInterval&&n.setInterval(s)}function vb(n,t){if(t=t||n.get("type"),t)switch(t){case"category":return new Rz({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Jie({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Xo.getClass(t)||sl)}}function ire(n){var t=n.scale.getExtent(),e=t[0],i=t[1];return!(e>0&&i>0||e<0&&i<0)}function v4(n){var t=n.getLabelModel().get("formatter"),e=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?(function(i){return function(r,o){return n.scale.getFormattedLabel(r,o,i)}})(t):_e(t)?(function(i){return function(r){var o=n.scale.getLabel(r),a=i.replace("{value}",o??"");return a}})(t):De(t)?(function(i){return function(r,o){return e!=null&&(o=r.value-e),i(Kp(n,r),o,r.level!=null?{level:r.level}:null)}})(t):function(i){return n.scale.getLabel(i)}}function Kp(n,t){return n.type==="category"?n.scale.getLabel(t):t.value}function rre(n){var t=n.model,e=n.scale;if(!(!t.get(["axisLabel","show"])||e.isBlank())){var i,r,o=e.getExtent();e instanceof Rz?r=e.count():(i=e.getTicks(),r=i.length);var a=n.getLabelModel(),s=v4(n),l,c=1;r>40&&(c=Math.ceil(r/40));for(var u=0;u<r;u+=c){var d=i?i[u]:{value:o[0]+u},f=s(d,u),p=a.getTextRect(f),v=Hke(p,a.get("rotate")||0);l?l.union(v):l=v}return l}}function Hke(n,t){var e=t*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(e))+Math.abs(r*Math.sin(e)),a=i*Math.abs(Math.sin(e))+Math.abs(r*Math.cos(e)),s=new Ke(n.x,n.y,o,a);return s}function yb(n){var t=n.get("interval");return t??"auto"}function _b(n){return n.type==="category"&&yb(n.getLabelModel())===0}function Gz(n,t){var e={};return O(n.mapDimensionsAll(t),function(i){e[cb(n,i)]=!0}),Lt(e)}function ore(n,t,e){t&&O(Gz(t,e),function(i){var r=t.getApproximateExtent(i);r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])})}var bb=(function(){function n(){}return n.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},n.prototype.getCoordSysModel=function(){},n})();function jke(n){return j0(null,n)}var Gke={isDimensionStacked:O1,enableDataStack:lb,getStackedDimension:cb};function Wke(n,t){var e=t;t instanceof $t||(e=new $t(t));var i=vb(e);return i.setExtent(n[0],n[1]),Qp(i,e),i}function qke(n){cr(n,bb)}function $ke(n,t){return t=t||{},Zr(n,null,null,t.state!=="normal")}var are=[],Yke={registerPreprocessor:eb,registerProcessor:tb,registerPostInit:Cz,registerPostUpdate:Sz,registerUpdateLifecycle:Hp,registerAction:no,registerCoordinateSystem:wz,registerLayout:Mz,registerVisual:al,registerTransform:Dz,registerLoading:nb,registerMap:Ez,registerImpl:pie,PRIORITY:vz,ComponentModel:kt,ComponentView:Qn,SeriesModel:xo,ChartView:Sr,registerComponentModel:function(n){kt.registerClass(n)},registerComponentView:function(n){Qn.registerClass(n)},registerSeriesModel:function(n){xo.registerClass(n)},registerChartView:function(n){Sr.registerClass(n)},registerSubTypeDefaulter:function(n,t){kt.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){oL(n,t)}};function Fi(n){if(pe(n)){O(n,function(t){Fi(t)});return}qe(are,n)>=0||(are.push(n),De(n)&&(n={install:n}),n.install(Yke))}var Zke=1e-8;function sre(n,t){return Math.abs(n-t)<Zke}function $z(n,t,e){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=Ka(r[0],r[1],a[0],a[1],t,e),r=a}var s=n[0];return(!sre(r[0],s[0])||!sre(r[1],s[1]))&&(i+=Ka(r[0],r[1],s[0],s[1],t,e)),i!==0}var Qke=[];function Yz(n,t){for(var e=0;e<n.length;e++)Mi(n[e],n[e],t)}function lre(n,t,e,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Ha(t,t,o),ja(e,e,o))}}function Kke(n){for(var t=0,e=0,i=0,r=n.length,o=n[r-1][0],a=n[r-1][1],s=0;s<r;s++){var l=n[s][0],c=n[s][1],u=o*c-l*a;t+=u,e+=(o+l)*u,i+=(a+c)*u,o=l,a=c}return t?[e/t/3,i/t/3,t]:[n[0][0]||0,n[0][1]||0]}var cre=(function(){function n(t){this.name=t}return n.prototype.setCenter=function(t){this._center=t},n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},n})();var Zz=(function(){function n(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return n})();var Xz=(function(){function n(t){this.type="linestring",this.points=t}return n})();var ure=(function(n){de(t,n);function t(e,i,r){var o=n.call(this,e)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return t.prototype.calcCenter=function(){for(var e=this.geometries,i,r=0,o=0;o<e.length;o++){var a=e[o],s=a.exterior,l=s&&s.length;l>r&&(i=a,r=l)}if(i)return Kke(i.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},t.prototype.getBoundingRect=function(e){var i=this._rect;if(i&&!e)return i;var r=[1/0,1/0],o=[-1/0,-1/0],a=this.geometries;return O(a,function(s){s.type==="polygon"?lre(s.exterior,r,o,e):O(s.points,function(l){lre(l,r,o,e)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new Ke(r[0],r[1],o[0]-r[0],o[1]-r[1]),e||(this._rect=i),i},t.prototype.contain=function(e){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(e[0],e[1]))return!1;e:for(var o=0,a=r.length;o<a;o++){var s=r[o];if(s.type==="polygon"){var l=s.exterior,c=s.interiors;if($z(l,e[0],e[1])){for(var u=0;u<(c?c.length:0);u++)if($z(c[u],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new Ke(e,i,r,o),c=a.calculateTransform(l),u=this.geometries,d=0;d<u.length;d++){var f=u[d];f.type==="polygon"?(Yz(f.exterior,c),O(f.interiors,function(p){Yz(p,c)})):O(f.points,function(p){Yz(p,c)})}a=this._rect,a.copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t})(cre);var eSt=(function(n){de(t,n);function t(e,i){var r=n.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,i=e.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=H2(Qke),a=e;a&&!a.isGeoSVGGraphicRoot;)Ga(o,a.getLocalTransform(),o),a=a.parent;return j2(o,o),Mi(r,r,o),r},t})(cre);function Jke(n){if(!n.UTF8Encoding)return n;var t=n,e=t.UTF8Scale;e==null&&(e=1024);var i=t.features;return O(i,function(r){var o=r.geometry,a=o.encodeOffsets,s=o.coordinates;if(a)switch(o.type){case"LineString":o.coordinates=dre(s,a,e);break;case"Polygon":Qz(s,a,e);break;case"MultiLineString":Qz(s,a,e);break;case"MultiPolygon":O(s,function(l,c){return Qz(l,a[c],e)})}}),t.UTF8Encoding=!1,t}function Qz(n,t,e){for(var i=0;i<n.length;i++)n[i]=dre(n[i],t[i],e)}function dre(n,t,e){for(var i=[],r=t[0],o=t[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=r,l+=o,r=s,o=l,i.push([s/e,l/e])}return i}function xb(n,t){return n=Jke(n),ge(hn(n.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var i=e.properties,r=e.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new Zz(a[0],a.slice(1)));break;case"MultiPolygon":O(r.coordinates,function(l){l[0]&&o.push(new Zz(l[0],l.slice(1)))});break;case"LineString":o.push(new Xz([r.coordinates]));break;case"MultiLineString":o.push(new Xz(r.coordinates))}var s=new ure(i[t||"name"],o,i.cp);return s.properties=i,s})}var Kz={};Ko(Kz,{MAX_SAFE_INTEGER:()=>eJ,asc:()=>$2,getPercentWithPrecision:()=>KK,getPixelPrecision:()=>ju,getPrecision:()=>yo,getPrecisionSafe:()=>sL,isNumeric:()=>Z8,isRadianAroundZero:()=>O3,linearMap:()=>Ei,nice:()=>Wu,numericToNumber:()=>Ya,parseDate:()=>dr,quantile:()=>tJ,quantity:()=>Py,quantityExponent:()=>Gu,reformIntervals:()=>nJ,remRadian:()=>Y8,round:()=>bn});var Jz={};Ko(Jz,{format:()=>tl,parse:()=>dr});var ek={};Ko(ek,{Arc:()=>X3,BezierCurve:()=>mp,BoundingRect:()=>Ke,Circle:()=>Y3,CompoundPath:()=>Qy,Ellipse:()=>up,Group:()=>Pt,Image:()=>Wo,IncrementalDisplayable:()=>n_,Line:()=>pa,LinearGradient:()=>nd,Polygon:()=>Q2,Polyline:()=>K2,RadialGradient:()=>Jy,Rect:()=>Tt,Ring:()=>pp,Sector:()=>Bs,Text:()=>qt,clipPointsByRect:()=>yp,clipRectByRect:()=>oA,createIcon:()=>el,extendPath:()=>tA,extendShape:()=>eA,getShapeClass:()=>nA,getTransform:()=>J2,initProps:()=>Yr,makeImage:()=>gp,makePath:()=>od,mergePath:()=>iA,registerShape:()=>ma,resizePath:()=>a_,updateProps:()=>pi});var tk={};Ko(tk,{addCommas:()=>wp,capitalFirst:()=>xte,encodeHTML:()=>Zi,formatTime:()=>bte,formatTpl:()=>dd,getTextRect:()=>wA,getTooltipMarker:()=>y_,normalizeCssArray:()=>Us,toCamelCase:()=>ud,truncateText:()=>yL});var nk={};Ko(nk,{bind:()=>Ae,clone:()=>ke,curry:()=>lt,defaults:()=>Ne,each:()=>O,extend:()=>fe,filter:()=>hn,indexOf:()=>qe,inherits:()=>T8,isArray:()=>pe,isFunction:()=>De,isObject:()=>Se,isString:()=>_e,map:()=>ge,merge:()=>je,reduce:()=>Wr});var Jp=Ot();function fre(n,t){var e=ge(t,function(i){return n.scale.parse(i)});return n.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function pre(n){var t=n.getLabelModel().get("customValues");if(t){var e=v4(n),i=n.scale.getExtent(),r=fre(n,t),o=hn(r,function(a){return a>=i[0]&&a<=i[1]});return{labels:ge(o,function(a){var s={value:a};return{formattedLabel:e(s),rawLabel:n.scale.getLabel(s),tickValue:a}})}}return n.type==="category"?eNe(n):nNe(n)}function mre(n,t){var e=n.getTickModel().get("customValues");if(e){var i=n.scale.getExtent(),r=fre(n,e);return{ticks:hn(r,function(o){return o>=i[0]&&o<=i[1]})}}return n.type==="category"?tNe(n,t):{ticks:ge(n.scale.getTicks(),function(o){return o.value})}}function eNe(n){var t=n.getLabelModel(),e=hre(n,t);return!t.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function hre(n,t){var e=gre(n,"labels"),i=yb(t),r=vre(e,i);if(r)return r;var o,a;return De(i)?o=xre(n,i):(a=i==="auto"?iNe(n):i,o=bre(n,a)),yre(e,i,{labels:o,labelCategoryInterval:a})}function tNe(n,t){var e=gre(n,"ticks"),i=yb(t),r=vre(e,i);if(r)return r;var o,a;if((!t.get("show")||n.scale.isBlank())&&(o=[]),De(i))o=xre(n,i,!0);else if(i==="auto"){var s=hre(n,n.getLabelModel());a=s.labelCategoryInterval,o=ge(s.labels,function(l){return l.tickValue})}else a=i,o=bre(n,a,!0);return yre(e,i,{ticks:o,tickCategoryInterval:a})}function nNe(n){var t=n.scale.getTicks(),e=v4(n);return{labels:ge(t,function(i,r){return{level:i.level,formattedLabel:e(i,r),rawLabel:n.scale.getLabel(i),tickValue:i.value}})}}function gre(n,t){return Jp(n)[t]||(Jp(n)[t]=[])}function vre(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function yre(n,t,e){return n.push({key:t,value:e}),e}function iNe(n){var t=Jp(n).autoInterval;return t??(Jp(n).autoInterval=n.calculateCategoryInterval())}function _re(n){var t=rNe(n),e=v4(n),i=(t.axisRotate-t.labelRotate)/180*Math.PI,r=n.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],c=n.dataToCoord(l+1)-n.dataToCoord(l),u=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),f=0,p=0;l<=o[1];l+=s){var v=0,_=0,b=C0(e({value:l}),t.font,"center","top");v=b.width*1.3,_=b.height*1.3,f=Math.max(f,v,7),p=Math.max(p,_,7)}var C=f/u,w=p/d;isNaN(C)&&(C=1/0),isNaN(w)&&(w=1/0);var E=Math.max(0,Math.floor(Math.min(C,w))),D=Jp(n.model),L=n.getExtent(),z=D.lastAutoInterval,R=D.lastTickCount;return z!=null&&R!=null&&Math.abs(z-E)<=1&&Math.abs(R-a)<=1&&z>E&&D.axisExtent0===L[0]&&D.axisExtent1===L[1]?E=z:(D.lastTickCount=a,D.lastAutoInterval=E,D.axisExtent0=L[0],D.axisExtent1=L[1]),E}function rNe(n){var t=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function bre(n,t,e){var i=v4(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((t||0)+1,1),c=o[0],u=r.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=_b(n),f=a.get("showMinLabel")||d,p=a.get("showMaxLabel")||d;f&&c!==o[0]&&_(o[0]);for(var v=c;v<=o[1];v+=l)_(v);p&&v-l!==o[1]&&_(o[1]);function _(b){var C={value:b};s.push(e?b:{formattedLabel:i(C),rawLabel:r.getLabel(C),tickValue:b})}return s}function xre(n,t,e){var i=n.scale,r=v4(n),o=[];return O(i.getTicks(),function(a){var s=i.getLabel(a),l=a.value;t(a.value,s)&&o.push(e?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var Cre=[0,1],oNe=(function(){function n(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return n.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=i&&t<=r},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return ju(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},n.prototype.dataToCoord=function(t,e){var i=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&r.type==="ordinal"&&(i=i.slice(),Sre(i,r.count())),Ei(t,Cre,i,e)},n.prototype.coordToData=function(t,e){var i=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(i=i.slice(),Sre(i,r.count()));var o=Ei(t,i,Cre,e);return this.scale.scale(o)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),i=mre(this,e),r=i.ticks,o=ge(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),a=e.get("alignWithLabel");return aNe(this,o,a,t.clamp),o},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var i=this.scale.getMinorTicks(e),r=ge(i,function(o){return ge(o,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this);return r},n.prototype.getViewLabels=function(){return pre(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);i===0&&(i=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return _re(this)},n})();function Sre(n,t){var e=n[1]-n[0],i=t,r=e/i/2;n[0]+=r,n[1]-=r}function aNe(n,t,e,i){var r=t.length;if(!n.onBand||e||!r)return;var o=n.getExtent(),a,s;if(r===1)t[0].coord=o[0],a=t[1]={coord:o[1],tickValue:t[0].tickValue};else{var l=t[r-1].tickValue-t[0].tickValue,c=(t[r-1].coord-t[0].coord)/l;O(t,function(p){p.coord-=c/2});var u=n.scale.getExtent();s=1+u[1]-t[r-1].tickValue,a={coord:t[r-1].coord+c*s,tickValue:u[1]+1},t.push(a)}var d=o[0]>o[1];f(t[0].coord,o[0])&&(i?t[0].coord=o[0]:t.shift()),i&&f(o[0],t[0].coord)&&t.unshift({coord:o[0]}),f(o[1],a.coord)&&(i?a.coord=o[1]:t.pop()),i&&f(a.coord,o[1])&&t.push({coord:o[1]});function f(p,v){return p=bn(p),v=bn(v),d?p>v:p<v}}var Cb=oNe;function sNe(n){var t=kt.extend(n);return kt.registerClass(t),t}function lNe(n){var t=Qn.extend(n);return Qn.registerClass(t),t}function cNe(n){var t=xo.extend(n);return xo.registerClass(t),t}function uNe(n){var t=Sr.extend(n);return Sr.registerClass(t),t}function wre(n){for(var t=[],e=0;e<n.length;e++){var i=n[e];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,c=a.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new id(a,o):null;t.push({label:r,labelLine:i.labelLine,rect:c,localRect:a,obb:u,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return t}function Mre(n){var t=[];n.sort(function(_,b){return b.priority-_.priority});var e=new Ke(0,0,0,0);function i(_){if(!_.ignore){var b=_.ensureState("emphasis");b.ignore==null&&(b.ignore=!1)}_.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,s=o.localRect,l=o.transform,c=o.label,u=o.labelLine;e.copy(o.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var d=o.obb,f=!1,p=0;p<t.length;p++){var v=t[p];if(e.intersect(v.rect)){if(a&&v.axisAligned){f=!0;break}if(v.obb||(v.obb=new id(v.localRect,v.transform)),d||(d=new id(s,l)),d.intersect(v.obb)){f=!0;break}}}f?(i(c),u&&i(u)):(c.attr("ignore",o.defaultAttr.ignore),u&&u.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}var dNe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){if(0)var i;return j0(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var i=new Pt,r=eo("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);i.add(r),r.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s=o==="none"?"circle":o,l=e.itemHeight*.8,c=eo(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);i.add(c),c.setStyle(e.itemStyle);var u=e.iconRotate==="inherit"?a:e.iconRotate||0;return c.rotation=u*Math.PI/180,c.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),i},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(xo),Tre=dNe;function Td(n,t){var e=n.mapDimensionsAll("defaultedLabel"),i=e.length;if(i===1){var r=ol(n,t,e[0]);return r!=null?r+"":null}else if(i){for(var o=[],a=0;a<e.length;a++)o.push(ol(n,t,e[a]));return o.join(" ")}}function Sb(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!pe(t))return t+"";for(var i=[],r=0;r<e.length;r++){var o=n.getDimensionIndex(e[r]);o>=0&&i.push(t[o])}return i.join(" ")}var fNe=(function(n){de(t,n);function t(e,i,r,o){var a=n.call(this)||this;return a.updateData(e,i,r,o),a}return t.prototype._createSymbol=function(e,i,r,o,a){this.removeAll();var s=eo(e,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=pNe,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Os(this.childAt(0))},t.prototype.downplay=function(){Rs(this.childAt(0))},t.prototype.setZ=function(e,i){var r=this.childAt(0);r.zlevel=e,r.z=i},t.prototype.setDraggable=function(e,i){var r=this.childAt(0);r.draggable=e,r.cursor=!i&&e?"move":r.cursor},t.prototype.updateData=function(e,i,r,o){this.silent=!1;var a=e.getItemVisual(i,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,i),c=a!==this._symbolType,u=o&&o.disableAnimation;if(c){var d=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,e,i,l,d)}else{var f=this.childAt(0);f.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};u?f.attr(p):pi(f,p,s,i),i_(f)}if(this._updateCommon(e,i,l,r,o),c){var f=this.childAt(0);if(!u){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Yr(f,p,s,i)}}u&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,i,r,o,a){var s=this.childAt(0),l=e.hostModel,c,u,d,f,p,v,_,b,C;if(o&&(c=o.emphasisItemStyle,u=o.blurItemStyle,d=o.selectItemStyle,f=o.focus,p=o.blurScope,_=o.labelStatesModels,b=o.hoverScale,C=o.cursorStyle,v=o.emphasisDisabled),!o||e.hasItemOption){var w=o&&o.itemModel?o.itemModel:e.getItemModel(i),E=w.getModel("emphasis");c=E.getModel("itemStyle").getItemStyle(),d=w.getModel(["select","itemStyle"]).getItemStyle(),u=w.getModel(["blur","itemStyle"]).getItemStyle(),f=E.get("focus"),p=E.get("blurScope"),v=E.get("disabled"),_=N0(w),b=E.getShallow("scale"),C=w.getShallow("cursor")}var D=e.getItemVisual(i,"symbolRotate");s.attr("rotation",(D||0)*Math.PI/180||0);var L=H_(e.getItemVisual(i,"symbolOffset"),r);L&&(s.x=L[0],s.y=L[1]),C&&s.attr("cursor",C);var z=e.getItemVisual(i,"style"),R=z.fill;if(s instanceof Wo){var H=s.style;s.useStyle(fe({image:H.image,x:H.x,y:H.y,width:H.width,height:H.height},z))}else s.__isEmptyBrush?s.useStyle(fe({},z)):s.useStyle(z),s.style.decal=null,s.setColor(R,a&&a.symbolInnerColor),s.style.strokeNoScale=!0;var W=e.getItemVisual(i,"liftZ"),$=this._z2;W!=null?$==null&&(this._z2=s.z2,s.z2+=W):$!=null&&(s.z2=$,this._z2=null);var G=a&&a.useNameLabel;k0(s,_,{labelFetcher:l,labelDataIndex:i,defaultText:Z,inheritColor:R,defaultOpacity:z.opacity});function Z(ce){return G?e.getName(ce):Td(e,ce)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var te=s.ensureState("emphasis");te.style=c,s.ensureState("select").style=d,s.ensureState("blur").style=u;var re=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;te.scaleX=this._sizeX*re,te.scaleY=this._sizeY*re,this.setSymbolScale(1),$3(this,f,p,v)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,i,r){var o=this.childAt(0),a=yt(this).dataIndex,s=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var l=o.getTextContent();l&&rd(l,{style:{opacity:0}},i,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();rd(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:e,removeOpt:s})},t.getSymbolSize=function(e,i){return $ne(e.getItemVisual(i,"symbolSize"))},t})(Pt);function pNe(n,t){this.parent.drift(n,t)}var e7=fNe;function rk(n,t,e,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(e))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&n.getItemVisual(e,"symbol")!=="none"}function Ere(n){return n!=null&&!Se(n)&&(n={isIgnore:n}),n||{}}function Dre(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:N0(t),cursorStyle:t.get("cursor")}}var mNe=(function(){function n(t){this.group=new Pt,this._SymbolCtor=t||e7}return n.prototype.updateData=function(t,e){this._progressiveEls=null,e=Ere(e);var i=this.group,r=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,l=Dre(t),c={disableAnimation:s},u=e.getSymbolPoint||function(d){return t.getItemLayout(d)};o||i.removeAll(),t.diff(o).add(function(d){var f=u(d);if(rk(t,f,d,e)){var p=new a(t,d,l,c);p.setPosition(f),t.setItemGraphicEl(d,p),i.add(p)}}).update(function(d,f){var p=o.getItemGraphicEl(f),v=u(d);if(!rk(t,v,d,e)){i.remove(p);return}var _=t.getItemVisual(d,"symbol")||"circle",b=p&&p.getSymbolType&&p.getSymbolType();if(!p||b&&b!==_)i.remove(p),p=new a(t,d,l,c),p.setPosition(v);else{p.updateData(t,d,l,c);var C={x:v[0],y:v[1]};s?p.attr(C):pi(p,C,r)}i.add(p),t.setItemGraphicEl(d,p)}).remove(function(d){var f=o.getItemGraphicEl(d);f&&f.fadeOut(function(){i.remove(f)},r)}).execute(),this._getSymbolPoint=u,this._data=t},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(i,r){var o=t._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Dre(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,i){this._progressiveEls=[],i=Ere(i);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(rk(e,a,o,i)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(t){n4(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)},i.hostModel)}):e.removeAll()},n})(),Ire=mNe;function wb(n,t,e){var i=n.getBaseAxis(),r=n.getOtherAxis(i),o=hNe(r,e),a=i.dim,s=r.dim,l=t.mapDimension(s),c=t.mapDimension(a),u=s==="x"||s==="radius"?1:0,d=ge(n.dimensions,function(v){return t.mapDimension(v)}),f=!1,p=t.getCalculationInfo("stackResultDimension");return O1(t,d[0])&&(f=!0,d[0]=p),O1(t,d[1])&&(f=!0,d[1]=p),{dataDimsForPoint:d,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!f,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function hNe(n,t){var e=0,i=n.scale.getExtent();return t==="start"?e=i[0]:t==="end"?e=i[1]:Ct(t)&&!isNaN(t)?e=t:i[0]>0?e=i[0]:i[1]<0&&(e=i[1]),e}function Mb(n,t,e,i){var r=NaN;n.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=e.get(n.baseDim,i),a[1-o]=r,t.dataToPoint(a)}function gNe(n,t){var e=[];return t.diff(n).add(function(i){e.push({cmd:"+",idx:i})}).update(function(i,r){e.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){e.push({cmd:"-",idx:i})}).execute(),e}function ok(n,t,e,i,r,o,a,s){for(var l=gNe(n,t),c=[],u=[],d=[],f=[],p=[],v=[],_=[],b=wb(r,t,a),C=n.getLayout("points")||[],w=t.getLayout("points")||[],E=0;E<l.length;E++){var D=l[E],L=!0,z=void 0,R=void 0;switch(D.cmd){case"=":z=D.idx*2,R=D.idx1*2;var H=C[z],W=C[z+1],$=w[R],G=w[R+1];(isNaN(H)||isNaN(W))&&(H=$,W=G),c.push(H,W),u.push($,G),d.push(e[z],e[z+1]),f.push(i[R],i[R+1]),_.push(t.getRawIndex(D.idx1));break;case"+":var Z=D.idx,te=b.dataDimsForPoint,re=r.dataToPoint([t.get(te[0],Z),t.get(te[1],Z)]);R=Z*2,c.push(re[0],re[1]),u.push(w[R],w[R+1]);var ce=Mb(b,r,t,Z);d.push(ce[0],ce[1]),f.push(i[R],i[R+1]),_.push(t.getRawIndex(Z));break;case"-":L=!1}L&&(p.push(D),v.push(v.length))}v.sort(function(Jt,Mr){return _[Jt]-_[Mr]});for(var ne=c.length,he=va(ne),oe=va(ne),ve=va(ne),Ee=va(ne),Ge=[],E=0;E<v.length;E++){var Ye=v[E],Rt=E*2,Xe=Ye*2;he[Rt]=c[Xe],he[Rt+1]=c[Xe+1],oe[Rt]=u[Xe],oe[Rt+1]=u[Xe+1],ve[Rt]=d[Xe],ve[Rt+1]=d[Xe+1],Ee[Rt]=f[Xe],Ee[Rt+1]=f[Xe+1],Ge[E]=p[Ye]}return{current:he,next:oe,stackedOnCurrent:ve,stackedOnNext:Ee,status:Ge}}var $0=Math.min,Y0=Math.max;function y4(n,t){return isNaN(n)||isNaN(t)}function ak(n,t,e,i,r,o,a,s,l){for(var c,u,d,f,p,v,_=e,b=0;b<i;b++){var C=t[_*2],w=t[_*2+1];if(_>=r||_<0)break;if(y4(C,w)){if(l){_+=o;continue}break}if(_===e)n[o>0?"moveTo":"lineTo"](C,w),d=C,f=w;else{var E=C-c,D=w-u;if(E*E+D*D<.5){_+=o;continue}if(a>0){for(var L=_+o,z=t[L*2],R=t[L*2+1];z===C&&R===w&&b<i;)b++,L+=o,_+=o,z=t[L*2],R=t[L*2+1],C=t[_*2],w=t[_*2+1],E=C-c,D=w-u;var H=b+1;if(l)for(;y4(z,R)&&H<i;)H++,L+=o,z=t[L*2],R=t[L*2+1];var W=.5,$=0,G=0,Z=void 0,te=void 0;if(H>=i||y4(z,R))p=C,v=w;else{$=z-c,G=R-u;var re=C-c,ce=z-C,ne=w-u,he=R-w,oe=void 0,ve=void 0;if(s==="x"){oe=Math.abs(re),ve=Math.abs(ce);var Ee=$>0?1:-1;p=C-Ee*oe*a,v=w,Z=C+Ee*ve*a,te=w}else if(s==="y"){oe=Math.abs(ne),ve=Math.abs(he);var Ge=G>0?1:-1;p=C,v=w-Ge*oe*a,Z=C,te=w+Ge*ve*a}else oe=Math.sqrt(re*re+ne*ne),ve=Math.sqrt(ce*ce+he*he),W=ve/(ve+oe),p=C-$*a*(1-W),v=w-G*a*(1-W),Z=C+$*a*W,te=w+G*a*W,Z=$0(Z,Y0(z,C)),te=$0(te,Y0(R,w)),Z=Y0(Z,$0(z,C)),te=Y0(te,$0(R,w)),$=Z-C,G=te-w,p=C-$*oe/ve,v=w-G*oe/ve,p=$0(p,Y0(c,C)),v=$0(v,Y0(u,w)),p=Y0(p,$0(c,C)),v=Y0(v,$0(u,w)),$=C-p,G=w-v,Z=C+$*ve/oe,te=w+G*ve/oe}n.bezierCurveTo(d,f,p,v,C,w),d=Z,f=te}else n.lineTo(C,w)}c=C,u=w,_+=o}return b}var Lre=(function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n})(),Are=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="ec-polyline",i}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Lre},t.prototype.buildPath=function(e,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&y4(r[a*2-2],r[a*2-1]);a--);for(;o<a&&y4(r[o*2],r[o*2+1]);o++);}for(;o<a;)o+=ak(e,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},t.prototype.getPointOn=function(e,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,o=r.data,a=fa.CMD,s,l,c=i==="x",u=[],d=0;d<o.length;){var f=o[d++],p=void 0,v=void 0,_=void 0,b=void 0,C=void 0,w=void 0,E=void 0;switch(f){case a.M:s=o[d++],l=o[d++];break;case a.L:if(p=o[d++],v=o[d++],E=c?(e-s)/(p-s):(e-l)/(v-l),E<=1&&E>=0){var D=c?(v-l)*E+l:(p-s)*E+s;return c?[e,D]:[D,e]}s=p,l=v;break;case a.C:p=o[d++],v=o[d++],_=o[d++],b=o[d++],C=o[d++],w=o[d++];var L=c?M3(s,p,_,C,e,u):M3(l,v,b,w,e,u);if(L>0)for(var z=0;z<L;z++){var R=u[z];if(R<=1&&R>=0){var D=c?ni(l,v,b,w,R):ni(s,p,_,C,R);return c?[e,D]:[D,e]}}s=C,l=w;break}}},t})(ct);var vNe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(Lre),zre=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="ec-polygon",i}return t.prototype.getDefaultShape=function(){return new vNe},t.prototype.buildPath=function(e,i){var r=i.points,o=i.stackedOnPoints,a=0,s=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;s>0&&y4(r[s*2-2],r[s*2-1]);s--);for(;a<s&&y4(r[a*2],r[a*2+1]);a++);}for(;a<s;){var c=ak(e,r,a,s,s,1,i.smooth,l,i.connectNulls);ak(e,o,a+c-1,c,s,-1,i.stackedOnSmooth,l,i.connectNulls),a+=c+1,e.closePath()}},t})(ct);function sk(n,t,e,i,r){var o=n.getArea(),a=o.x,s=o.y,l=o.width,c=o.height,u=e.get(["lineStyle","width"])||0;a-=u/2,s-=u/2,l+=u,c+=u,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var d=new Tt({shape:{x:a,y:s,width:l,height:c}});if(t){var f=n.getBaseAxis(),p=f.isHorizontal(),v=f.inverse;p?(v&&(d.shape.x+=l),d.shape.width=0):(v||(d.shape.y+=c),d.shape.height=0);var _=De(r)?function(b){r(b,d)}:null;Yr(d,{shape:{width:l,height:c,x:a,y:s}},e,null,i,_)}return d}function lk(n,t,e){var i=n.getArea(),r=bn(i.r0,1),o=bn(i.r,1),a=new Bs({shape:{cx:bn(n.cx,1),cy:bn(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(t){var s=n.getBaseAxis().dim==="angle";s?a.shape.endAngle=i.startAngle:a.shape.r=r,Yr(a,{shape:{endAngle:i.endAngle,r:o}},e)}return a}function kre(n,t,e,i,r){if(n){if(n.type==="polar")return lk(n,t,e);if(n.type==="cartesian2d")return sk(n,t,e,i,r)}else return null;return null}function t7(n,t){return n.type===t}function Nre(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function Pre(n){for(var t=1/0,e=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r))}return[[t,e],[i,r]]}function Ore(n,t){var e=Pre(n),i=e[0],r=e[1],o=Pre(t),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function Rre(n){return Ct(n)?n:n?.5:0}function yNe(n,t,e){if(!e.valueDim)return[];for(var i=t.count(),r=va(i*2),o=0;o<i;o++){var a=Mb(e,n,t,o);r[o*2]=a[0],r[o*2+1]=a[1]}return r}function Z0(n,t,e,i,r){var o=e.getBaseAxis(),a=o.dim==="x"||o.dim==="radius"?0:1,s=[],l=0,c=[],u=[],d=[],f=[];if(r){for(l=0;l<n.length;l+=2){var p=t||n;!isNaN(p[l])&&!isNaN(p[l+1])&&f.push(n[l],n[l+1])}n=f}for(l=0;l<n.length-2;l+=2)switch(d[0]=n[l+2],d[1]=n[l+3],u[0]=n[l],u[1]=n[l+1],s.push(u[0],u[1]),i){case"end":c[a]=d[a],c[1-a]=u[1-a],s.push(c[0],c[1]);break;case"middle":var v=(u[a]+d[a])/2,_=[];c[a]=_[a]=v,c[1-a]=u[1-a],_[1-a]=d[1-a],s.push(c[0],c[1]),s.push(_[0],_[1]);break;default:c[a]=u[a],c[1-a]=d[1-a],s.push(c[0],c[1])}return s.push(n[l++],n[l++]),s}function _Ne(n,t){var e=[],i=n.length,r,o;function a(u,d,f){var p=u.coord,v=(f-p)/(d.coord-p),_=xy(v,[u.color,d.color]);return{coord:f,color:_}}for(var s=0;s<i;s++){var l=n[s],c=l.coord;if(c<0)r=l;else if(c>t){o?e.push(a(o,l,t)):r&&e.push(a(r,l,0),a(r,l,t));break}else r&&(e.push(a(r,l,0)),r=null),e.push(l),o=l}return e}function bNe(n,t,e){var i=n.getVisual("visualMeta");if(!(!i||!i.length||!n.count())&&t.type==="cartesian2d"){for(var r,o,a=i.length-1;a>=0;a--){var s=n.getDimensionInfo(i[a].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){o=i[a];break}}if(o){var l=t.getAxis(r),c=ge(o.stops,function(E){return{coord:l.toGlobalCoord(l.dataToCoord(E.value)),color:E.color}}),u=c.length,d=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),d.reverse());var f=_Ne(c,r==="x"?e.getWidth():e.getHeight()),p=f.length;if(!p&&u)return c[0].coord<0?d[1]?d[1]:c[u-1].color:d[0]?d[0]:c[0].color;var v=10,_=f[0].coord-v,b=f[p-1].coord+v,C=b-_;if(C<.001)return"transparent";O(f,function(E){E.offset=(E.coord-_)/C}),f.push({offset:p?f[p-1].offset:.5,color:d[1]||"transparent"}),f.unshift({offset:p?f[0].offset:.5,color:d[0]||"transparent"});var w=new nd(0,0,0,0,f,!0);return w[r]=_,w[r+"2"]=b,w}}}function xNe(n,t,e){var i=n.get("showAllSymbol"),r=i==="auto";if(!(i&&!r)){var o=e.getAxesByScale("ordinal")[0];if(o&&!(r&&CNe(o,t))){var a=t.mapDimension(o.dim),s={};return O(o.getViewLabels(),function(l){var c=o.scale.getRawOrdinalNumber(l.tickValue);s[c]=1}),function(l){return!s.hasOwnProperty(t.get(a,l))}}}}function CNe(n,t){var e=n.getExtent(),i=Math.abs(e[1]-e[0])/n.scale.count();isNaN(i)&&(i=0);for(var r=t.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(e7.getSymbolSize(t,a)[n.isHorizontal()?1:0]*1.5>i)return!1;return!0}function SNe(n,t){return isNaN(n)||isNaN(t)}function wNe(n){for(var t=n.length/2;t>0&&SNe(n[t*2-2],n[t*2-1]);t--);return t-1}function Fre(n,t){return[n[t*2],n[t*2+1]]}function MNe(n,t,e){for(var i=n.length/2,r=e==="x"?0:1,o,a,s=0,l=-1,c=0;c<i;c++)if(a=n[c*2+r],!(isNaN(a)||isNaN(n[c*2+1-r]))){if(c===0){o=a;continue}if(o<=t&&a>=t||o>=t&&a<=t){l=c;break}s=c,o=a}return{range:[s,l],t:(t-o)/(a-o)}}function Bre(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<e1.length;t++)if(n.get([e1[t],"endLabel","show"]))return!0;return!1}function ck(n,t,e,i){if(t7(t,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=Bre(i)?function(p,v){n._endLabelOnDuring(p,v,a,s,o,r,t)}:null,c=t.getBaseAxis().isHorizontal(),u=sk(t,e,i,function(){var p=n._endLabel;p&&e&&s.originalX!=null&&p.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var d=u.shape,f=Math.max(d.width,d.height);c?(d.y-=f,d.height+=f*2):(d.x-=f,d.width+=f*2)}return l&&l(1,u),u}else return lk(t,e,i)}function TNe(n,t){var e=t.getBaseAxis(),i=e.isHorizontal(),r=e.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:n.get("align")||o,verticalAlign:n.get("verticalAlign")||a}}}var ENe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=new Pt,i=new Ire;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=e,this._changePolyState=Ae(this._changePolyState,this)},t.prototype.render=function(e,i,r){var o=e.coordinateSystem,a=this.group,s=e.getData(),l=e.getModel("lineStyle"),c=e.getModel("areaStyle"),u=s.getLayout("points")||[],d=o.type==="polar",f=this._coordSys,p=this._symbolDraw,v=this._polyline,_=this._polygon,b=this._lineGroup,C=!i.ssr&&e.get("animation"),w=!c.isEmpty(),E=c.get("origin"),D=wb(o,s,E),L=w&&yNe(o,s,D),z=e.get("showSymbol"),R=e.get("connectNulls"),H=z&&!d&&xNe(e,s,o),W=this._data;W&&W.eachItemGraphicEl(function(Jt,Mr){Jt.__temp&&(a.remove(Jt),W.setItemGraphicEl(Mr,null))}),z||p.remove(),a.add(b);var $=d?!1:e.get("step"),G;o&&o.getArea&&e.get("clip",!0)&&(G=o.getArea(),G.width!=null?(G.x-=.1,G.y-=.1,G.width+=.2,G.height+=.2):G.r0&&(G.r0-=.5,G.r+=.5)),this._clipShapeForSymbol=G;var Z=bNe(s,o,r)||s.getVisual("style")[s.getVisual("drawType")];if(!(v&&f.type===o.type&&$===this._step))z&&p.updateData(s,{isIgnore:H,clipShape:G,disableAnimation:!0,getSymbolPoint:function(Jt){return[u[Jt*2],u[Jt*2+1]]}}),C&&this._initSymbolLabelAnimation(s,o,G),$&&(L&&(L=Z0(L,u,o,$,R)),u=Z0(u,null,o,$,R)),v=this._newPolyline(u),w?_=this._newPolygon(u,L):_&&(b.remove(_),_=this._polygon=null),d||this._initOrUpdateEndLabel(e,o,N1(Z)),b.setClipPath(ck(this,o,!0,e));else{w&&!_?_=this._newPolygon(u,L):_&&!w&&(b.remove(_),_=this._polygon=null),d||this._initOrUpdateEndLabel(e,o,N1(Z));var te=b.getClipPath();if(te){var re=ck(this,o,!1,e);Yr(te,{shape:re.shape},e)}else b.setClipPath(ck(this,o,!0,e));z&&p.updateData(s,{isIgnore:H,clipShape:G,disableAnimation:!0,getSymbolPoint:function(Jt){return[u[Jt*2],u[Jt*2+1]]}}),(!Nre(this._stackedOnPoints,L)||!Nre(this._points,u))&&(C?this._doUpdateAnimation(s,L,o,r,$,E,R):($&&(L&&(L=Z0(L,u,o,$,R)),u=Z0(u,null,o,$,R)),v.setShape({points:u}),_&&_.setShape({points:u,stackedOnPoints:L})))}var ce=e.getModel("emphasis"),ne=ce.get("focus"),he=ce.get("blurScope"),oe=ce.get("disabled");if(v.useStyle(Ne(l.getLineStyle(),{fill:"none",stroke:Z,lineJoin:"bevel"})),sp(v,e,"lineStyle"),v.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var ve=v.getState("emphasis").style;ve.lineWidth=+v.style.lineWidth+1}yt(v).seriesIndex=e.seriesIndex,$3(v,ne,he,oe);var Ee=Rre(e.get("smooth")),Ge=e.get("smoothMonotone");if(v.setShape({smooth:Ee,smoothMonotone:Ge,connectNulls:R}),_){var Ye=s.getCalculationInfo("stackedOnSeries"),Rt=0;_.useStyle(Ne(c.getAreaStyle(),{fill:Z,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),Ye&&(Rt=Rre(Ye.get("smooth"))),_.setShape({smooth:Ee,stackedOnSmooth:Rt,smoothMonotone:Ge,connectNulls:R}),sp(_,e,"areaStyle"),yt(_).seriesIndex=e.seriesIndex,$3(_,ne,he,oe)}var Xe=this._changePolyState;s.eachItemGraphicEl(function(Jt){Jt&&(Jt.onHoverStateChange=Xe)}),this._polyline.onHoverStateChange=Xe,this._data=s,this._coordSys=o,this._stackedOnPoints=L,this._points=u,this._step=$,this._valueOrigin=E,e.get("triggerLineEvent")&&(this.packEventData(e,v),_&&this.packEventData(e,_))},t.prototype.packEventData=function(e,i){yt(i).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,i,r,o){var a=e.getData(),s=Za(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=a.getLayout("points"),c=a.getItemGraphicEl(s);if(!c){var u=l[s*2],d=l[s*2+1];if(isNaN(u)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,d))return;var f=e.get("zlevel")||0,p=e.get("z")||0;c=new e7(a,s),c.x=u,c.y=d,c.setZ(f,p);var v=c.getSymbolPath().getTextContent();v&&(v.zlevel=f,v.z=p,v.z2=this._polyline.z2+1),c.__temp=!0,a.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else Sr.prototype.highlight.call(this,e,i,r,o)},t.prototype.downplay=function(e,i,r,o){var a=e.getData(),s=Za(a,o);if(this._changePolyState("normal"),s!=null&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Sr.prototype.downplay.call(this,e,i,r,o)},t.prototype._changePolyState=function(e){var i=this._polygon;BL(this._polyline,e),i&&BL(i,e)},t.prototype._newPolyline=function(e){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new Are({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},t.prototype._newPolygon=function(e,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new zre({shape:{points:e,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,i,r){var o,a,s=i.getBaseAxis(),l=s.inverse;i.type==="cartesian2d"?(o=s.isHorizontal(),a=!1):i.type==="polar"&&(o=s.dim==="angle",a=!0);var c=e.hostModel,u=c.get("animationDuration");De(u)&&(u=u(null));var d=c.get("animationDelay")||0,f=De(d)?d(null):d;e.eachItemGraphicEl(function(p,v){var _=p;if(_){var b=[p.x,p.y],C=void 0,w=void 0,E=void 0;if(r)if(a){var D=r,L=i.pointToCoord(b);o?(C=D.startAngle,w=D.endAngle,E=-L[1]/180*Math.PI):(C=D.r0,w=D.r,E=L[0])}else{var z=r;o?(C=z.x,w=z.x+z.width,E=p.x):(C=z.y+z.height,w=z.y,E=p.y)}var R=w===C?0:(E-C)/(w-C);l&&(R=1-R);var H=De(d)?d(v):u*R+f,W=_.getSymbolPath(),$=W.getTextContent();_.attr({scaleX:0,scaleY:0}),_.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:H}),$&&$.animateFrom({style:{opacity:0}},{duration:300,delay:H}),W.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,i,r){var o=e.getModel("endLabel");if(Bre(e)){var a=e.getData(),s=this._polyline,l=a.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new qt({z2:200}),c.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=wNe(l);u>=0&&(k0(s,N0(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:u,defaultText:function(d,f,p){return p!=null?Sb(a,p):Td(a,d)},enableTextSetter:!0},TNe(o,i)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,i,r,o,a,s,l){var c=this._endLabel,u=this._polyline;if(c){e<1&&o.originalX==null&&(o.originalX=c.x,o.originalY=c.y);var d=r.getLayout("points"),f=r.hostModel,p=f.get("connectNulls"),v=s.get("precision"),_=s.get("distance")||0,b=l.getBaseAxis(),C=b.isHorizontal(),w=b.inverse,E=i.shape,D=w?C?E.x:E.y+E.height:C?E.x+E.width:E.y,L=(C?_:0)*(w?-1:1),z=(C?0:-_)*(w?-1:1),R=C?"x":"y",H=MNe(d,D,R),W=H.range,$=W[1]-W[0],G=void 0;if($>=1){if($>1&&!p){var Z=Fre(d,W[0]);c.attr({x:Z[0]+L,y:Z[1]+z}),a&&(G=f.getRawValue(W[0]))}else{var Z=u.getPointOn(D,R);Z&&c.attr({x:Z[0]+L,y:Z[1]+z});var te=f.getRawValue(W[0]),re=f.getRawValue(W[1]);a&&(G=fL(r,v,te,re,H.t))}o.lastFrameIndex=W[0]}else{var ce=e===1||o.lastFrameIndex>0?W[0]:0,Z=Fre(d,ce);a&&(G=f.getRawValue(ce)),c.attr({x:Z[0]+L,y:Z[1]+z})}if(a){var ne=ad(c);typeof ne.setLabelText=="function"&&ne.setLabelText(G)}}},t.prototype._doUpdateAnimation=function(e,i,r,o,a,s,l){var c=this._polyline,u=this._polygon,d=e.hostModel,f=ok(this._data,e,this._stackedOnPoints,i,this._coordSys,r,this._valueOrigin,s),p=f.current,v=f.stackedOnCurrent,_=f.next,b=f.stackedOnNext;if(a&&(v=Z0(f.stackedOnCurrent,f.current,r,a,l),p=Z0(f.current,null,r,a,l),b=Z0(f.stackedOnNext,f.next,r,a,l),_=Z0(f.next,null,r,a,l)),Ore(p,_)>3e3||u&&Ore(v,b)>3e3){c.stopAnimation(),c.setShape({points:_}),u&&(u.stopAnimation(),u.setShape({points:_,stackedOnPoints:b}));return}c.shape.__points=f.current,c.shape.points=p;var C={shape:{points:_}};f.current!==p&&(C.shape.__points=f.next),c.stopAnimation(),pi(c,C,d),u&&(u.setShape({points:p,stackedOnPoints:v}),u.stopAnimation(),pi(u,{shape:{stackedOnPoints:b}},d),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var w=[],E=f.status,D=0;D<E.length;D++){var L=E[D].cmd;if(L==="="){var z=e.getItemGraphicEl(E[D].idx1);z&&w.push({el:z,ptIdx:D})}}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var R=c.shape.__points,H=0;H<w.length;H++){var W=w[H].el,$=w[H].ptIdx*2;W.x=R[$],W.y=R[$+1],W.markRedraw()}})},t.prototype.remove=function(e){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(Sr),Vre=ENe;function uk(n,t){return{seriesType:n,plan:u4(),reset:function(e){var i=e.getData(),r=e.coordinateSystem,o=e.pipelineContext,a=t||o.large;if(r){var s=ge(r.dimensions,function(p){return i.mapDimension(p)}).slice(0,2),l=s.length,c=i.getCalculationInfo("stackResultDimension");O1(i,s[0])&&(s[0]=c),O1(i,s[1])&&(s[1]=c);var u=i.getStore(),d=i.getDimensionIndex(s[0]),f=i.getDimensionIndex(s[1]);return l&&{progress:function(p,v){for(var _=p.end-p.start,b=a&&va(_*l),C=[],w=[],E=p.start,D=0;E<p.end;E++){var L=void 0;if(l===1){var z=u.get(d,E);L=r.dataToPoint(z,null,w)}else C[0]=u.get(d,E),C[1]=u.get(f,E),L=r.dataToPoint(C,null,w);a?(b[D++]=L[0],b[D++]=L[1]):v.setItemLayout(E,L.slice())}a&&v.setLayout("points",b)}}}}}}var DNe={average:function(n){for(var t=0,e=0,i=0;i<n.length;i++)isNaN(n[i])||(t+=n[i],e++);return e===0?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},INe=function(n){return Math.round(n.length/2)};function n7(n){return{seriesType:n,reset:function(t,e,i){var r=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,s=r.count();if(s>10&&a.type==="cartesian2d"&&o){var l=a.getBaseAxis(),c=a.getOtherAxis(l),u=l.getExtent(),d=i.getDevicePixelRatio(),f=Math.abs(u[1]-u[0])*(d||1),p=Math.round(s/f);if(isFinite(p)&&p>1){o==="lttb"?t.setData(r.lttbDownSample(r.mapDimension(c.dim),1/p)):o==="minmax"&&t.setData(r.minmaxDownSample(r.mapDimension(c.dim),1/p));var v=void 0;_e(o)?v=DNe[o]:De(o)&&(v=o),v&&t.setData(r.downSample(r.mapDimension(c.dim),1/p,v,INe))}}}}}function dk(n){n.registerChartView(Vre),n.registerSeriesModel(Tre),n.registerLayout(uk("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,n7("line"))}var Ure=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,i){return j0(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,i,r){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.clampData(e),s=o.dataToPoint(a);if(r)O(o.getAxes(),function(f,p){if(f.type==="category"&&i!=null){var v=f.getTicksCoords(),_=f.getTickModel().get("alignWithLabel"),b=a[p],C=i[p]==="x1"||i[p]==="y1";if(C&&!_&&(b+=1),v.length<2)return;if(v.length===2){s[p]=f.toGlobalCoord(f.getExtent()[C?1:0]);return}for(var w=void 0,E=void 0,D=1,L=0;L<v.length;L++){var z=v[L].coord,R=L===v.length-1?v[L-1].tickValue+D:v[L].tickValue;if(R===b){E=z;break}else if(R<b)w=z;else if(w!=null&&R>b){E=(z+w)/2;break}L===1&&(D=R-v[0].tickValue)}E==null&&(w?w&&(E=v[v.length-1].coord):E=v[0].coord),s[p]=f.toGlobalCoord(E)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;s[d]+=c+u/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t})(xo);xo.registerClass(Ure);var fk=Ure;var LNe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return j0(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>e&&(e=i),e},t.prototype.brushSelector=function(e,i,r){return r.rect(i.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=P0(fk.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t})(fk),Hre=LNe;var ANe=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),zNe=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="sausage",i}return t.prototype.getDefaultShape=function(){return new ANe},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),s=Math.max(i.r,0),l=(s-a)*.5,c=a+l,u=i.startAngle,d=i.endAngle,f=i.clockwise,p=Math.PI*2,v=f?d-u<p:u-d<p;v||(u=d-(f?p:-p));var _=Math.cos(u),b=Math.sin(u),C=Math.cos(d),w=Math.sin(d);v?(e.moveTo(_*a+r,b*a+o),e.arc(_*c+r,b*c+o,l,-Math.PI+u,u,!f)):e.moveTo(_*s+r,b*s+o),e.arc(r,o,s,u,d,!f),e.arc(C*c+r,w*c+o,l,d-Math.PI*2,d-Math.PI,!f),a!==0&&e.arc(r,o,a,d,u,f)},t})(ct),pk=zNe;function jre(n,t){t=t||{};var e=t.isRoundCap;return function(i,r,o){var a=r.position;if(!a||a instanceof Array)return N3(i,r,o);var s=n(a),l=r.distance!=null?r.distance:5,c=this.shape,u=c.cx,d=c.cy,f=c.r,p=c.r0,v=(f+p)/2,_=c.startAngle,b=c.endAngle,C=(_+b)/2,w=e?Math.abs(f-p)/2:0,E=Math.cos,D=Math.sin,L=u+f*E(_),z=d+f*D(_),R="left",H="top";switch(s){case"startArc":L=u+(p-l)*E(C),z=d+(p-l)*D(C),R="center",H="top";break;case"insideStartArc":L=u+(p+l)*E(C),z=d+(p+l)*D(C),R="center",H="bottom";break;case"startAngle":L=u+v*E(_)+Tb(_,l+w,!1),z=d+v*D(_)+Eb(_,l+w,!1),R="right",H="middle";break;case"insideStartAngle":L=u+v*E(_)+Tb(_,-l+w,!1),z=d+v*D(_)+Eb(_,-l+w,!1),R="left",H="middle";break;case"middle":L=u+v*E(C),z=d+v*D(C),R="center",H="middle";break;case"endArc":L=u+(f+l)*E(C),z=d+(f+l)*D(C),R="center",H="bottom";break;case"insideEndArc":L=u+(f-l)*E(C),z=d+(f-l)*D(C),R="center",H="top";break;case"endAngle":L=u+v*E(b)+Tb(b,l+w,!0),z=d+v*D(b)+Eb(b,l+w,!0),R="left",H="middle";break;case"insideEndAngle":L=u+v*E(b)+Tb(b,-l+w,!0),z=d+v*D(b)+Eb(b,-l+w,!0),R="right",H="middle";break;default:return N3(i,r,o)}return i=i||{},i.x=L,i.y=z,i.align=R,i.verticalAlign=H,i}}function Gre(n,t,e,i){if(Ct(i)){n.setTextConfig({rotation:i});return}else if(pe(t)){n.setTextConfig({rotation:0});return}var r=n.shape,o=r.clockwise?r.startAngle:r.endAngle,a=r.clockwise?r.endAngle:r.startAngle,s=(o+a)/2,l,c=e(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=o;break;case"endAngle":case"insideEndAngle":l=a;break;default:n.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),n.setTextConfig({rotation:u})}function Tb(n,t,e){return t*Math.sin(n)*(e?-1:1)}function Eb(n,t,e){return t*Math.cos(n)*(e?1:-1)}function Wre(n,t,e){var i=n.get("borderRadius");if(i==null)return e?{cornerRadius:0}:null;pe(i)||(i=[i,i,i,i]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:ge(i,function(o){return $a(o,r)})}}var mk=Math.max,hk=Math.min;function kNe(n,t){var e=n.getArea&&n.getArea();if(t7(n,"cartesian2d")){var i=n.getBaseAxis();if(i.type!=="category"||!i.onBand){var r=t.getLayout("bandWidth");i.isHorizontal()?(e.x-=r,e.width+=r*2):(e.y-=r,e.height+=r*2)}}return e}var NNe=(function(n){de(t,n);function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,i,r,o){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var a=e.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,i,r):this._renderNormal(e,i,r,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,i){this._progressiveEls=[],this._incrementalRenderLarge(e,i)},t.prototype.eachRendered=function(e){n4(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e,i,r,o){var a=this.group,s=e.getData(),l=this._data,c=e.coordinateSystem,u=c.getBaseAxis(),d;c.type==="cartesian2d"?d=u.isHorizontal():c.type==="polar"&&(d=u.dim==="angle");var f=e.isAnimationEnabled()?e:null,p=PNe(e,c);p&&this._enableRealtimeSort(p,s,r);var v=e.get("clip",!0)||p,_=kNe(c,s);a.removeClipPath();var b=e.get("roundCap",!0),C=e.get("showBackground",!0),w=e.getModel("backgroundStyle"),E=w.get("borderRadius")||0,D=[],L=this._backgroundEls,z=o&&o.isInitSort,R=o&&o.type==="changeAxisOrder";function H(G){var Z=Db[c.type](s,G),te=HNe(c,d,Z);return te.useStyle(w.getItemStyle()),c.type==="cartesian2d"?te.setShape("r",E):te.setShape("cornerRadius",E),D[G]=te,te}s.diff(l).add(function(G){var Z=s.getItemModel(G),te=Db[c.type](s,G,Z);if(C&&H(G),!(!s.hasValue(G)||!Xre[c.type](te))){var re=!1;v&&(re=qre[c.type](_,te));var ce=$re[c.type](e,s,G,te,d,f,u.model,!1,b);p&&(ce.forceLabelAnimation=!0),Qre(ce,s,G,Z,te,e,d,c.type==="polar"),z?ce.attr({shape:te}):p?Yre(p,f,ce,te,G,d,!1,!1):Yr(ce,{shape:te},e,G),s.setItemGraphicEl(G,ce),a.add(ce),ce.ignore=re}}).update(function(G,Z){var te=s.getItemModel(G),re=Db[c.type](s,G,te);if(C){var ce=void 0;L.length===0?ce=H(Z):(ce=L[Z],ce.useStyle(w.getItemStyle()),c.type==="cartesian2d"?ce.setShape("r",E):ce.setShape("cornerRadius",E),D[G]=ce);var ne=Db[c.type](s,G),he=noe(d,ne,c);pi(ce,{shape:he},f,G)}var oe=l.getItemGraphicEl(Z);if(!s.hasValue(G)||!Xre[c.type](re)){a.remove(oe);return}var ve=!1;if(v&&(ve=qre[c.type](_,re),ve&&a.remove(oe)),oe?i_(oe):oe=$re[c.type](e,s,G,re,d,f,u.model,!!oe,b),p&&(oe.forceLabelAnimation=!0),R){var Ee=oe.getTextContent();if(Ee){var Ge=ad(Ee);Ge.prevValue!=null&&(Ge.prevValue=Ge.value)}}else Qre(oe,s,G,te,re,e,d,c.type==="polar");z?oe.attr({shape:re}):p?Yre(p,f,oe,re,G,d,!0,R):pi(oe,{shape:re},e,G,null),s.setItemGraphicEl(G,oe),oe.ignore=ve,a.add(oe)}).remove(function(G){var Z=l.getItemGraphicEl(G);Z&&hp(Z,e,G)}).execute();var W=this._backgroundGroup||(this._backgroundGroup=new Pt);W.removeAll();for(var $=0;$<D.length;++$)W.add(D[$]);a.add(W),this._backgroundEls=D,this._data=s},t.prototype._renderLarge=function(e,i,r){this._clear(),Jre(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,i){this._removeBackground(),Jre(i,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var i=e.get("clip",!0)&&kre(e.coordinateSystem,!1,e),r=this.group;i?r.setClipPath(i):r.removeClipPath()},t.prototype._enableRealtimeSort=function(e,i,r){var o=this;if(i.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,e,r),this._isFirstFrame=!1;else{var s=function(l){var c=i.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(a.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,i,r){var o=[];return e.each(e.mapDimension(i.dim),function(a,s){var l=r(s);l=l??NaN,o.push({dataIndex:s,mappedValue:l,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:ge(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,i,r){for(var o=r.scale,a=e.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,c=o.getOrdinalMeta().categories.length;l<c;++l){var u=e.rawIndexOf(a,o.getRawOrdinalNumber(l)),d=u<0?Number.MIN_VALUE:i(e.indexOfRawIndex(u));if(d>s)return!0;s=d}return!1},t.prototype._isOrderDifferentInView=function(e,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(e.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,i,r,o){if(this._isOrderChangedWithinSameData(e,i,r)){var a=this._dataSort(e,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,i,r){var o=i.baseAxis,a=this._dataSort(e,o,function(s){return e.get(e.mapDimension(i.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},t.prototype.remove=function(e,i){this._clear(this._model),this._removeOnRenderedListener(i)},t.prototype.dispose=function(e,i){this._removeOnRenderedListener(i)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var i=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){hp(o,e,yt(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(Sr),qre={cartesian2d:function(n,t){var e=t.width<0?-1:1,i=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=n.x+n.width,o=n.y+n.height,a=mk(t.x,n.x),s=hk(t.x+t.width,r),l=mk(t.y,n.y),c=hk(t.y+t.height,o),u=s<a,d=c<l;return t.x=u&&a>r?s:a,t.y=d&&l>o?c:l,t.width=u?0:s-a,t.height=d?0:c-l,e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),u||d},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var i=t.r;t.r=t.r0,t.r0=i}var r=hk(t.r,n.r),o=mk(t.r0,n.r0);t.r=r,t.r0=o;var a=r-o<0;if(e<0){var i=t.r;t.r=t.r0,t.r0=i}return a}},$re={cartesian2d:function(n,t,e,i,r,o,a,s,l){var c=new Tt({shape:fe({},i),z2:1});if(c.__dataIndex=e,c.name="item",o){var u=c.shape,d=r?"height":"width";u[d]=0}return c},polar:function(n,t,e,i,r,o,a,s,l){var c=!r&&l?pk:Bs,u=new c({shape:i,z2:1});u.name="item";var d=toe(r);if(u.calculateTextPosition=jre(d,{isRoundCap:c===pk}),o){var f=u.shape,p=r?"r":"endAngle",v={};f[p]=r?i.r0:i.startAngle,v[p]=i[p],(s?pi:Yr)(u,{shape:v},o)}return u}};function PNe(n,t){var e=n.get("realtimeSort",!0),i=t.getBaseAxis();if(e&&i.type==="category"&&t.type==="cartesian2d")return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}function Yre(n,t,e,i,r,o,a,s){var l,c;o?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?pi:Yr)(e,{shape:l},t,r,null);var u=t?n.baseAxis.model:null;(a?pi:Yr)(e,{shape:c},u,r)}function Zre(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var ONe=["x","y","width","height"],RNe=["cx","cy","r","startAngle","endAngle"],Xre={cartesian2d:function(n){return!Zre(n,ONe)},polar:function(n){return!Zre(n,RNe)}},Db={cartesian2d:function(n,t,e){var i=n.getItemLayout(t),r=e?BNe(e,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,t,e){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function FNe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function toe(n){return(function(t){var e=t?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+e;default:return i}}})(n)}function Qre(n,t,e,i,r,o,a,s){var l=t.getItemVisual(e,"style");if(s){if(!o.get("roundCap")){var u=n.shape,d=Wre(i.getModel("itemStyle"),u,!0);fe(u,d),n.setShape(u)}}else{var c=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",c)}n.useStyle(l);var f=i.getShallow("cursor");f&&n.attr("cursor",f);var p=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",v=N0(i);k0(n,v,{labelFetcher:o,labelDataIndex:e,defaultText:Td(o.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var _=n.getTextContent();if(s&&_){var b=i.get(["label","position"]);n.textConfig.inside=b==="middle"?!0:null,Gre(n,b==="outside"?p:b,toe(a),i.get(["label","rotate"]))}ite(_,v,o.getRawValue(e),function(w){return Sb(t,w)});var C=i.getModel(["emphasis"]);$3(n,C.get("focus"),C.get("blurScope"),C.get("disabled")),sp(n,i),FNe(r)&&(n.style.fill="none",n.style.stroke="none",O(n.states,function(w){w.style&&(w.style.fill=w.style.stroke="none")}))}function BNe(n,t){var e=n.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var i=n.get(["itemStyle","borderWidth"])||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,r,o)}var VNe=(function(){function n(){}return n})(),Kre=(function(n){de(t,n);function t(e){var i=n.call(this,e)||this;return i.type="largeBar",i}return t.prototype.getDefaultShape=function(){return new VNe},t.prototype.buildPath=function(e,i){for(var r=i.points,o=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],c=this.barWidth,u=0;u<r.length;u+=3)l[o]=c,l[a]=r[u+2],s[o]=r[u+o],s[a]=r[u+a],e.rect(s[0],s[1],l[0],l[1])},t})(ct);function Jre(n,t,e,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=n.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new Kre({shape:{points:c},incremental:!!i,silent:!0,z2:0});u.baseDimIdx=o,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),t.add(u),e&&e.push(u)}var d=new Kre({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=a,d.barWidth=s,t.add(d),d.useStyle(r.getVisual("style")),d.style.stroke=null,yt(d).seriesIndex=n.seriesIndex,n.get("silent")||(d.on("mousedown",eoe),d.on("mousemove",eoe)),e&&e.push(d)}var eoe=d4(function(n){var t=this,e=UNe(t,n.offsetX,n.offsetY);yt(t).dataIndex=e>=0?e:null},30,!1);function UNe(n,t,e){for(var i=n.baseDimIdx,r=1-i,o=n.shape.points,a=n.largeDataIndices,s=[],l=[],c=n.barWidth,u=0,d=o.length/3;u<d;u++){var f=u*3;if(l[i]=c,l[r]=o[f+2],s[i]=o[f+i],s[r]=o[f+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return a[u]}return-1}function noe(n,t,e){if(t7(e,"cartesian2d")){var i=t,r=e.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}else{var r=e.getArea(),o=t;return{cx:r.cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:Math.PI*2}}}function HNe(n,t,e){var i=n.type==="polar"?Bs:Tt;return new i({shape:noe(t,e,n),silent:!0,z2:0})}var ioe=NNe;function gk(n){n.registerChartView(ioe),n.registerSeriesModel(Hre),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,lt($ie,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Yie("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,n7("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})}var jNe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t})(kt),roe=jNe;var Ib=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ai).models[0]},t.type="cartesian2dAxis",t})(kt);cr(Ib,bb);var ooe={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},GNe=je({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},ooe),vk=je({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},ooe),WNe=je({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},vk),qNe=Ne({logBase:10},vk),aoe={category:GNe,value:vk,time:WNe,log:qNe};var soe={value:1,category:1,time:1,log:1};function Lb(n,t,e,i){O(soe,function(r,o){var a=je(je({},aoe[o],!0),i,!0),s=(function(l){de(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=t+"Axis."+o,u}return c.prototype.mergeDefaultAndTheme=function(u,d){var f=O0(this),p=f?js(u):{},v=d.getTheme();je(u,v.get(o+"Axis")),je(u,this.getDefaultOption()),u.type=loe(u),f&&Hs(u,p,f)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=Yp.createByAxisModel(this))},c.prototype.getCategories=function(u){var d=this.option;if(d.type==="category")return u?d.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=t+"Axis."+o,c.defaultOption=a,c})(e);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(t+"Axis",loe)}function loe(n){return n.type||(n.data?"category":"value")}var $Ne=(function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return ge(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),hn(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n})(),coe=$Ne;var Ab=["x","y"];function uoe(n){return n.type==="interval"||n.type==="time"}var YNe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Ab,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!uoe(e)||!uoe(i))){var r=e.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],c=o[1]-o[0];if(!(!l||!c)){var u=(s[0]-a[0])/l,d=(s[1]-a[1])/c,f=a[0]-r[0]*u,p=a[1]-o[0]*d,v=this._transform=[u,0,0,d,f,p];this._invTransform=j2([],v)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,i){var r=this.dataToPoint(e),o=this.dataToPoint(i),a=this.getArea(),s=new Ke(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(s)},t.prototype.dataToPoint=function(e,i,r){r=r||[];var o=e[0],a=e[1];if(this._transform&&o!=null&&isFinite(o)&&a!=null&&isFinite(a))return Mi(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(a,i)),r},t.prototype.clampData=function(e,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(e[0]),c=o.parse(e[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),i},t.prototype.pointToData=function(e,i){var r=[];if(this._invTransform)return Mi(r,e,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(e[0]),i),r[1]=a.coordToData(a.toLocalCoord(e[1]),i),r},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var i=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),o=Math.min(i[0],i[1])-e,a=Math.min(r[0],r[1])-e,s=Math.max(i[0],i[1])-o+e,l=Math.max(r[0],r[1])-a+e;return new Ke(o,a,s,l)},t})(coe),doe=YNe;var ZNe=(function(n){de(t,n);function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),e&&i[0]>i[1]&&i.reverse(),i},t.prototype.pointToData=function(e,i){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),i)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t})(Cb),foe=ZNe;function i7(n,t,e){e=e||{};var i=n.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,c=r.dim,u=i.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,v=c==="x"?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(a){var _=a.toGlobalCoord(a.dataToCoord(0));v[f.onZero]=Math.max(Math.min(_,v[1]),v[0])}o.position=[c==="y"?v[f[l]]:d[0],c==="x"?v[f[l]]:d[3]],o.rotation=Math.PI/2*(c==="x"?0:1);var b={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=b[s],o.labelOffset=a?v[f[s]]-v[f.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),h0(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var C=t.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-C:C,o.z2=1,o}function yk(n){return n.get("coordinateSystem")==="cartesian2d"}function _k(n){var t={xAxisModel:null,yAxisModel:null};return O(t,function(e,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,ai).models[0];t[i]=o}),t}var bk=Math.log;function moe(n,t,e){var i=sl.prototype,r=i.getTicks.call(e),o=i.getTicks.call(e,!0),a=r.length-1,s=i.getInterval.call(e),l=jz(n,t),c=l.extent,u=l.fixMin,d=l.fixMax;if(n.type==="log"){var f=bk(n.base);c=[bk(c[0])/f,bk(c[1])/f]}n.setExtent(c[0],c[1]),n.calcNiceExtent({splitNumber:a,fixMin:u,fixMax:d});var p=i.getExtent.call(n);u&&(c[0]=p[0]),d&&(c[1]=p[1]);var v=i.getInterval.call(n),_=c[0],b=c[1];if(u&&d)v=(b-_)/a;else if(u)for(b=c[0]+v*a;b<c[1]&&isFinite(b)&&isFinite(c[1]);)v=ub(v),b=c[0]+v*a;else if(d)for(_=c[1]-v*a;_>c[0]&&isFinite(_)&&isFinite(c[0]);)v=ub(v),_=c[1]-v*a;else{var C=n.getTicks().length-1;C>a&&(v=ub(v));var w=v*a;b=Math.ceil(c[1]/v)*v,_=bn(b-w),_<0&&c[0]>=0?(_=0,b=bn(w)):b>0&&c[1]<=0&&(b=0,_=-bn(w))}var E=(r[0].value-o[0].value)/s,D=(r[a].value-o[a].value)/s;if(i.setExtent.call(n,_+v*E,b+v*D),i.setInterval.call(n,v),(E||D)&&i.setNiceExtent.call(n,_+v,b-v),0)var L}var XNe=(function(){function n(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ab,this._initCartesian(t,e,i),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model);function r(a){var s,l=Lt(a),c=l.length;if(c){for(var u=[],d=c-1;d>=0;d--){var f=+l[d],p=a[f],v=p.model,_=p.scale;Zp(_)&&v.get("alignTicks")&&v.get("interval")==null?u.push(p):(Qp(_,v),Zp(_)&&(s=p))}u.length&&(s||(s=u.pop(),Qp(s.scale,s.model)),O(u,function(b){moe(b.scale,b.model,s.scale)}))}}r(i.x),r(i.y);var o={};O(i.x,function(a){hoe(i,"y",a,o)}),O(i.y,function(a){hoe(i,"x",a,o)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,i){var r=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),a=Qr(r,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var s=this._axesList;l(),o&&(O(s,function(c){if(!c.model.get(["axisLabel","inside"])){var u=rre(c);if(u){var d=c.isHorizontal()?"height":"width",f=c.model.get(["axisLabel","margin"]);a[d]-=u[d]+f,c.position==="top"?a.y+=u.height+f:c.position==="left"&&(a.x+=u.width+f)}}}),l()),O(this._coordsList,function(c){c.calcAffineTransform()});function l(){O(s,function(c){var u=c.isHorizontal(),d=u?[0,a.width]:[0,a.height],f=c.inverse?1:0;c.setExtent(d[f],d[1-f]),QNe(c,u?a.x:a.y)})}},n.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(i!=null)return i[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var i="x"+t+"y"+e;return this._coordsMap[i]}Se(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(t){var e=t.seriesModel,i=t.xAxisModel||e&&e.getReferringComponents("xAxis",ai).models[0],r=t.yAxisModel||e&&e.getReferringComponents("yAxis",ai).models[0],o=t.gridModel,a=this._coordsList,s,l;if(e)s=e.coordinateSystem,qe(a,s)<0&&(s=null);else if(i&&r)s=this.getCartesian(i.componentIndex,r.componentIndex);else if(i)l=this.getAxis("x",i.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(o){var c=o.coordinateSystem;c===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",c("x"),this),e.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,O(s.x,function(u,d){O(s.y,function(f,p){var v="x"+d+"y"+p,_=new doe(v);_.master=r,_.model=t,r._coordsMap[v]=_,r._coordsList.push(_),_.addAxis(u),_.addAxis(f)})});function c(u){return function(d,f){if(xk(d,t)){var p=d.get("position");u==="x"?p!=="top"&&p!=="bottom"&&(p=a.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=a.left?"right":"left"),a[p]=!0;var v=new foe(u,vb(d),[0,0],d.get("type"),p),_=v.type==="category";v.onBand=_&&d.get("boundaryGap"),v.inverse=d.get("inverse"),d.axis=v,v.model=d,v.grid=o,v.index=f,o._axesList.push(v),s[u][f]=v,l[u]++}}}},n.prototype._updateScale=function(t,e){O(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),t.eachSeries(function(r){if(yk(r)){var o=_k(r),a=o.xAxisModel,s=o.yAxisModel;if(!xk(a,e)||!xk(s,e))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),c=r.getData(),u=l.getAxis("x"),d=l.getAxis("y");i(c,u),i(c,d)}},this);function i(r,o){O(Gz(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}},n.prototype.getTooltipAxes=function(t){var e=[],i=[];return O(this.getCartesians(),function(r){var o=t!=null&&t!=="auto"?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(o);qe(e,o)<0&&e.push(o),qe(i,a)<0&&i.push(a)}),{baseAxes:e,otherAxes:i}},n.create=function(t,e){var i=[];return t.eachComponent("grid",function(r,o){var a=new n(r,t,e);a.name="grid_"+o,a.resize(r,e,!0),r.coordinateSystem=a,i.push(a)}),t.eachSeries(function(r){if(yk(r)){var o=_k(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel(),c=l.coordinateSystem;r.coordinateSystem=c.getCartesian(a.componentIndex,s.componentIndex)}}),i},n.dimensions=Ab,n})();function xk(n,t){return n.getCoordSysModel()===t}function hoe(n,t,e,i){e.getAxesOnZeroOf=function(){return o?[o]:[]};var r=n[t],o,a=e.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)goe(r[l])&&(o=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&goe(r[c])&&!i[u(r[c])]){o=r[c];break}o&&(i[u(o)]=!0);function u(d){return d.dim+"_"+d.index}}function goe(n){return n&&n.type!=="category"&&n.type!=="time"&&ire(n)}function QNe(n,t){var e=n.getExtent(),i=e[0]+e[1];n.toGlobalCoord=n.dim==="x"?function(r){return r+t}:function(r){return i-r+t},n.toLocalCoord=n.dim==="x"?function(r){return r-t}:function(r){return i-r+t}}var voe=XNe;var X0=Math.PI,_4=(function(){function n(t,e){this.group=new Pt,this.opt=e,this.axisModel=t,Ne(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Pt({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(t){return!!yoe[t]},n.prototype.add=function(t){yoe[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,i){var r=Y8(e-t),o,a;return O3(r)?(a=i>0?"top":"bottom",o="center"):O3(r-X0)?(a=i>0?"bottom":"top",o="center"):(a="middle",r>0&&r<X0?o=i>0?"right":"left":o=i>0?"left":"right"),{rotation:r,textAlign:o,textVerticalAlign:a}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n})(),yoe={axisLine:function(n,t,e,i){var r=t.get(["axisLine","show"]);if(r==="auto"&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),!!r){var o=t.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0],c=s[0]>l[0];a&&(Mi(s,s,a),Mi(l,l,a));var u=fe({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new pa({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});e4(d.shape,d.style.lineWidth),d.anid="line",e.add(d);var f=t.get(["axisLine","symbol"]);if(f!=null){var p=t.get(["axisLine","symbolSize"]);_e(f)&&(f=[f,f]),(_e(p)||Ct(p))&&(p=[p,p]);var v=H_(t.get(["axisLine","symbolOffset"])||0,p),_=p[0],b=p[1];O([{rotate:n.rotation+Math.PI/2,offset:v[0],r:0},{rotate:n.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(C,w){if(f[w]!=="none"&&f[w]!=null){var E=eo(f[w],-_/2,-b/2,_,b,u.stroke,!0),D=C.r+C.offset,L=c?l:s;E.attr({rotation:C.rotate,x:L[0]+D*Math.cos(n.rotation),y:L[1]-D*Math.sin(n.rotation),silent:!0,z2:11}),e.add(E)}})}}},axisTickLabel:function(n,t,e,i){var r=ePe(e,i,t,n),o=nPe(e,i,t,n);if(JNe(t,o,r),tPe(e,i,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])){var a=wre(ge(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Mre(a)}},axisName:function(n,t,e,i){var r=h0(n.axisName,t.get("name"));if(r){var o=t.get("nameLocation"),a=n.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,c=t.axis.getExtent(),u=c[0]>c[1]?-1:1,d=[o==="start"?c[0]-u*l:o==="end"?c[1]+u*l:(c[0]+c[1])/2,boe(o)?n.labelOffset+a*l:0],f,p=t.get("nameRotate");p!=null&&(p=p*X0/180);var v;boe(o)?f=_4.innerTextLayout(n.rotation,p??n.rotation,a):(f=KNe(n.rotation,o,p||0,c),v=n.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(f.rotation)),!isFinite(v)&&(v=null)));var _=s.getFont(),b=t.get("nameTruncate",!0)||{},C=b.ellipsis,w=h0(n.nameTruncateMaxWidth,b.maxWidth,v),E=new qt({x:d[0],y:d[1],rotation:f.rotation,silent:_4.isLabelSilent(t),style:Zr(s,{text:r,font:_,overflow:"truncate",width:w,ellipsis:C,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(z0({el:E,componentModel:t,itemName:r}),E.__fullText=r,E.anid="name",t.get("triggerEvent")){var D=_4.makeAxisEventDataBase(t);D.targetType="axisName",D.name=r,yt(E).eventData=D}i.add(E),E.updateTransform(),e.add(E),E.decomposeTransform()}}};function KNe(n,t,e,i){var r=Y8(e-n),o,a,s=i[0]>i[1],l=t==="start"&&!s||t!=="start"&&s;return O3(r-X0/2)?(a=l?"bottom":"top",o="center"):O3(r-X0*1.5)?(a=l?"top":"bottom",o="center"):(a="middle",r<X0*1.5&&r>X0/2?o=l?"left":"right":o=l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}function JNe(n,t,e){if(!_b(n.axis)){var i=n.get(["axisLabel","showMinLabel"]),r=n.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var o=t[0],a=t[1],s=t[t.length-1],l=t[t.length-2],c=e[0],u=e[1],d=e[e.length-1],f=e[e.length-2];i===!1?(a1(o),a1(c)):_oe(o,a)&&(i?(a1(a),a1(u)):(a1(o),a1(c))),r===!1?(a1(s),a1(d)):_oe(l,s)&&(r?(a1(l),a1(f)):(a1(s),a1(d)))}}function a1(n){n&&(n.ignore=!0)}function _oe(n,t){var e=n&&n.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(!(!e||!i)){var r=H2([]);return y3(r,r,-n.rotation),e.applyTransform(Ga([],r,n.getLocalTransform())),i.applyTransform(Ga([],r,t.getLocalTransform())),e.intersect(i)}}function boe(n){return n==="middle"||n==="center"}function xoe(n,t,e,i,r){for(var o=[],a=[],s=[],l=0;l<n.length;l++){var c=n[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=e,t&&(Mi(a,a,t),Mi(s,s,t));var u=new pa({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});e4(u.shape,u.style.lineWidth),u.anid=r+"_"+n[l].tickValue,o.push(u)}return o}function ePe(n,t,e,i){var r=e.axis,o=e.getModel("axisTick"),a=o.get("show");if(a==="auto"&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick")),!(!a||r.scale.isBlank())){for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),c=r.getTicksCoords(),u=xoe(c,t.transform,l,Ne(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)n.add(u[d]);return u}}function tPe(n,t,e,i){var r=e.axis,o=e.getModel("minorTick");if(!(!o.get("show")||r.scale.isBlank())){var a=r.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=i*o.get("length"),c=Ne(s.getLineStyle(),Ne(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var d=xoe(a[u],t.transform,l,c,"minorticks_"+u),f=0;f<d.length;f++)n.add(d[f])}}function nPe(n,t,e,i){var r=e.axis,o=h0(i.axisLabelShow,e.get(["axisLabel","show"]));if(!(!o||r.scale.isBlank())){var a=e.getModel("axisLabel"),s=a.get("margin"),l=r.getViewLabels(),c=(h0(i.labelRotate,a.get("rotate"))||0)*X0/180,u=_4.innerTextLayout(i.rotation,c,i.labelDirection),d=e.getCategories&&e.getCategories(!0),f=[],p=_4.isLabelSilent(e),v=e.get("triggerEvent");return O(l,function(_,b){var C=r.scale.type==="ordinal"?r.scale.getRawOrdinalNumber(_.tickValue):_.tickValue,w=_.formattedLabel,E=_.rawLabel,D=a;if(d&&d[C]){var L=d[C];Se(L)&&L.textStyle&&(D=new $t(L.textStyle,a,e.ecModel))}var z=D.getTextColor()||e.get(["axisLine","lineStyle","color"]),R=r.dataToCoord(C),H=D.getShallow("align",!0)||u.textAlign,W=nt(D.getShallow("alignMinLabel",!0),H),$=nt(D.getShallow("alignMaxLabel",!0),H),G=D.getShallow("verticalAlign",!0)||D.getShallow("baseline",!0)||u.textVerticalAlign,Z=nt(D.getShallow("verticalAlignMinLabel",!0),G),te=nt(D.getShallow("verticalAlignMaxLabel",!0),G),re=new qt({x:R,y:i.labelOffset+i.labelDirection*s,rotation:u.rotation,silent:p,z2:10+(_.level||0),style:Zr(D,{text:w,align:b===0?W:b===l.length-1?$:H,verticalAlign:b===0?Z:b===l.length-1?te:G,fill:De(z)?z(r.type==="category"?E:r.type==="value"?C+"":C,b):z})});if(re.anid="label_"+C,z0({el:re,componentModel:e,itemName:w,formatterParamsExtra:{isTruncated:function(){return re.isTruncated},value:E,tickIndex:b}}),v){var ce=_4.makeAxisEventDataBase(e);ce.targetType="axisLabel",ce.value=E,ce.tickIndex=b,r.type==="category"&&(ce.dataIndex=C),yt(re).eventData=ce}t.add(re),re.updateTransform(),f.push(re),n.add(re),re.decomposeTransform()}),f}}var zb=_4;function Coe(n,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return iPe(e,n,t),e.seriesInvolved&&oPe(e,n),e}function iPe(n,t,e){var i=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];O(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Ed(s.model),c=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var u=s.model,d=u.getModel("tooltip",i);if(O(s.getAxes(),lt(_,!1,null)),s.getTooltipAxes&&i&&d.get("show")){var f=d.get("trigger")==="axis",p=d.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(d.get(["axisPointer","axis"]));(f||p)&&O(v.baseAxes,lt(_,p?"cross":!0,f)),p&&O(v.otherAxes,lt(_,"cross",!1))}function _(b,C,w){var E=w.model.getModel("axisPointer",r),D=E.get("show");if(!(!D||D==="auto"&&!b&&!Sk(E))){C==null&&(C=E.get("triggerTooltip")),E=b?rPe(w,d,r,t,b,C):E;var L=E.get("snap"),z=E.get("triggerEmphasis"),R=Ed(w.model),H=C||L||w.type==="category",W=n.axesInfo[R]={key:R,axis:w,coordSys:s,axisPointerModel:E,triggerTooltip:C,triggerEmphasis:z,involveSeries:H,snap:L,useHandle:Sk(E),seriesModels:[],linkGroup:null};c[R]=W,n.seriesInvolved=n.seriesInvolved||H;var $=aPe(o,w);if($!=null){var G=a[$]||(a[$]={axesInfo:{}});G.axesInfo[R]=W,G.mapper=o[$].mapper,W.linkGroup=G}}}})}function rPe(n,t,e,i,r,o){var a=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};O(s,function(f){l[f]=ke(a.get(f))}),l.snap=n.type!=="category"&&!!o,a.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),r==="cross"){var u=a.get(["label","show"]);if(c.show=u??!0,!o){var d=l.lineStyle=a.get("crossStyle");d&&Ne(c,d.textStyle)}}return n.model.getModel("axisPointer",new $t(l,e,i))}function oPe(n,t){t.eachSeries(function(e){var i=e.coordinateSystem,r=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);!i||r==="none"||r===!1||r==="item"||o===!1||e.get(["axisPointer","show"],!0)===!1||O(n.coordSysAxesInfo[Ed(i.model)],function(a){var s=a.axis;i.getAxis(s.dim)===s&&(a.seriesModels.push(e),a.seriesDataCount==null&&(a.seriesDataCount=0),a.seriesDataCount+=e.getData().count())})})}function aPe(n,t){for(var e=t.model,i=t.dim,r=0;r<n.length;r++){var o=n[r]||{};if(Ck(o[i+"AxisId"],e.id)||Ck(o[i+"AxisIndex"],e.componentIndex)||Ck(o[i+"AxisName"],e.name))return r}}function Ck(n,t){return n==="all"||pe(n)&&qe(n,t)>=0||n===t}function Soe(n){var t=kb(n);if(t){var e=t.axisPointerModel,i=t.axis.scale,r=e.option,o=e.get("status"),a=e.get("value");a!=null&&(a=i.parse(a));var s=Sk(e);o==null&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function kb(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Ed(n)]}function woe(n){var t=kb(n);return t&&t.axisPointerModel}function Sk(n){return!!n.get(["handle","show"])}function Ed(n){return n.type+"||"+n.id}var Moe={},sPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,i,r,o){this.axisPointerClass&&Soe(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,i,r,o){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,i){var r=this._axisPointer;r&&r.remove(i)},t.prototype.dispose=function(e,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,i,r){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=woe(e);a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,i,r):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,i){Moe[e]=i},t.getAxisPointerClass=function(e){return e&&Moe[e]},t.type="axis",t})(Qn),Nb=sPe;var Mk=Ot();function Toe(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var u=s.length,d=Mk(n).splitAreaColors,f=Le(),p=0;if(d)for(var v=0;v<c.length;v++){var _=d.get(c[v].tickValue);if(_!=null){p=(_+(u-1)*v)%u;break}}var b=r.toGlobalCoord(c[0].coord),C=a.getAreaStyle();s=pe(s)?s:[s];for(var v=1;v<c.length;v++){var w=r.toGlobalCoord(c[v].coord),E=void 0,D=void 0,L=void 0,z=void 0;r.isHorizontal()?(E=b,D=l.y,L=w-E,z=l.height,b=E+L):(E=l.x,D=b,L=l.width,z=w-D,b=D+z);var R=c[v-1].tickValue;R!=null&&f.set(R,p),t.add(new Tt({anid:R!=null?"area_"+R:null,shape:{x:E,y:D,width:L,height:z},style:Ne({fill:s[p]},C),autoBatch:!0,silent:!0})),p=(p+1)%u}Mk(n).splitAreaColors=f}}}function Eoe(n){Mk(n).splitAreaColors=null}var lPe=["axisLine","axisTickLabel","axisName"],cPe=["splitArea","splitLine","minorSplitLine"],Doe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Pt,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=i7(s,e),c=new zb(e,fe({handleAutoShown:function(d){for(var f=s.coordinateSystem.getCartesians(),p=0;p<f.length;p++)if(Zp(f[p].getOtherAxis(e.axis).scale))return!0;return!1}},l));O(lPe,c.add,c),this._axisGroup.add(c.getGroup()),O(cPe,function(d){e.get([d,"show"])&&uPe[d](this,this._axisGroup,e,s)},this);var u=o&&o.type==="changeAxisOrder"&&o.isInitSort;u||rA(a,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)}},t.prototype.remove=function(){Eoe(this)},t.type="cartesianAxis",t})(Nb),uPe={splitLine:function(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color"),l=o.get("showMinLine")!==!1,c=o.get("showMaxLine")!==!1;s=pe(s)?s:[s];for(var u=i.coordinateSystem.getRect(),d=r.isHorizontal(),f=0,p=r.getTicksCoords({tickModel:o}),v=[],_=[],b=a.getLineStyle(),C=0;C<p.length;C++){var w=r.toGlobalCoord(p[C].coord);if(!(C===0&&!l||C===p.length-1&&!c)){var E=p[C].tickValue;d?(v[0]=w,v[1]=u.y,_[0]=w,_[1]=u.y+u.height):(v[0]=u.x,v[1]=w,_[0]=u.x+u.width,_[1]=w);var D=f++%s.length,L=new pa({anid:E!=null?"line_"+E:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:_[0],y2:_[1]},style:Ne({stroke:s[D]},b),silent:!0});e4(L.shape,b.lineWidth),t.add(L)}}}},minorSplitLine:function(n,t,e,i){var r=e.axis,o=e.getModel("minorSplitLine"),a=o.getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var u=[],d=[],f=a.getLineStyle(),p=0;p<c.length;p++)for(var v=0;v<c[p].length;v++){var _=r.toGlobalCoord(c[p][v].coord);l?(u[0]=_,u[1]=s.y,d[0]=_,d[1]=s.y+s.height):(u[0]=s.x,u[1]=_,d[0]=s.x+s.width,d[1]=_);var b=new pa({anid:"minor_line_"+c[p][v].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:f,silent:!0});e4(b.shape,f.lineWidth),t.add(b)}},splitArea:function(n,t,e,i){Toe(n,t,e,i)}},Tk=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t})(Doe);var Ioe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=Tk.type,e}return t.type="yAxis",t})(Doe);var dPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,i){this.group.removeAll(),e.get("show")&&this.group.add(new Tt({shape:e.coordinateSystem.getRect(),style:Ne({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(Qn),Loe={offset:0};function Aoe(n){n.registerComponentView(dPe),n.registerComponentModel(roe),n.registerCoordinateSystem("cartesian2d",voe),Lb(n,"x",Ib,Loe),Lb(n,"y",Ib,Loe),n.registerComponentView(Tk),n.registerComponentView(Ioe),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var zoe="\0_ec_interaction_mutex";function koe(n,t,e){var i=Dk(n);i[t]=e}function Noe(n,t,e){var i=Dk(n),r=i[t];r===e&&(i[t]=null)}function Ek(n,t){return!!Dk(n)[t]}function Dk(n){return n[zoe]||(n[zoe]={})}no({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},di);var fPe=(function(n){de(t,n);function t(e){var i=n.call(this)||this;i._zr=e;var r=Ae(i._mousedownHandler,i),o=Ae(i._mousemoveHandler,i),a=Ae(i._mouseupHandler,i),s=Ae(i._mousewheelHandler,i),l=Ae(i._pinchHandler,i);return i.enable=function(c,u){this.disable(),this._opt=Ne(ke(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),c==null&&(c=!0),(c===!0||c==="move"||c==="pan")&&(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a)),(c===!0||c==="scale"||c==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},i.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",l)},i}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!MI(e)){for(var i=e.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=e.offsetX,o=e.offsetY;this.pointerChecker&&this.pointerChecker(e,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!Pb("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||Ek(this._zr,"globalPan"))){var i=e.offsetX,r=e.offsetY,o=this._x,a=this._y,s=i-o,l=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&Es(e.event),Ooe(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){MI(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var i=Pb("zoomOnMouseWheel",e,this._opt),r=Pb("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,a=Math.abs(o),s=e.offsetX,l=e.offsetY;if(!(o===0||!i&&!r)){if(i){var c=a>3?1.4:a>1?1.2:1.1,u=o>0?c:1/c;Ik(this,"zoom","zoomOnMouseWheel",e,{scale:u,originX:s,originY:l,isAvailableBehavior:null})}if(r){var d=Math.abs(o),f=(o>0?1:-1)*(d>3?.4:d>1?.15:.05);Ik(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:f,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!Ek(this._zr,"globalPan")){var i=e.pinchScale>1?1.1:1/1.1;Ik(this,"zoom",null,e,{scale:i,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t})(Ti);function Ik(n,t,e,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(Es(i.event),Ooe(n,t,e,i,r))}function Ooe(n,t,e,i,r){r.isAvailableBehavior=Ae(Pb,null,e,i),n.trigger(t,r)}function Pb(n,t,e){var i=e[n];return!n||i&&(!_e(i)||t.event[i+"Key"])}var Roe=fPe;var pPe={axisPointer:1,tooltip:1,brush:1};function Foe(n,t,e){var i=t.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==e&&!pPe.hasOwnProperty(i.mainType)&&r&&r.model!==e}function Gs(n,t,e,i,r,o){n=n||0;var a=e[1]-e[0];if(r!=null&&(r=Dd(r,[0,a])),o!=null&&(o=Math.max(o,r??0)),i==="all"){var s=Math.abs(t[1]-t[0]);s=Dd(s,[0,a]),r=o=Dd(s,[r,o]),i=0}t[0]=Dd(t[0],e),t[1]=Dd(t[1],e);var l=Lk(t,i);t[i]+=n;var c=r||0,u=e.slice();l.sign<0?u[0]+=c:u[1]-=c,t[i]=Dd(t[i],u);var d;return d=Lk(t,i),r!=null&&(d.sign!==l.sign||d.span<r)&&(t[1-i]=t[i]+l.sign*r),d=Lk(t,i),o!=null&&d.span>o&&(t[1-i]=t[i]+d.sign*o),t}function Lk(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Dd(n,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,n))}var b4=!0,r7=Math.min,Id=Math.max,mPe=Math.pow,hPe=1e4,gPe=6,vPe=6,Boe="globalPan",yPe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},_Pe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Voe={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},bPe=0,xPe=(function(n){de(t,n);function t(e){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=e,i.group=new Pt,i._uid="brushController_"+bPe++,O(DPe,function(r,o){this._handlers[o]=Ae(r,this)},i),i}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var i=this._zr;this._enableGlobalPan||koe(i,Boe,this._uid),O(this._handlers,function(r,o){i.on(o,r)}),this._brushType=e.brushType,this._brushOption=je(ke(Voe),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;Noe(e,Boe,this._uid),O(this._handlers,function(i,r){e.off(r,i)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var i=this._panels={};O(e,function(r){i[r.panelId]=ke(r)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=i.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=ge(e,function(f){return je(ke(Voe),f,!0)});var i="\0-brush-index-",r=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new Sd(r,e,c,l).add(u).update(u).remove(d).execute(),this;function l(f,p){return(f.id!=null?f.id:i+p)+"-"+f.brushType}function c(f,p){return l(f.__brushOption,p)}function u(f,p){var v=e[f];if(p!=null&&r[p]===s)o[f]=r[p];else{var _=o[f]=p!=null?(r[p].__brushOption=v,r[p]):qoe(a,Woe(a,v));Ok(a,_)}}function d(f){r[f]!==s&&a.group.remove(r[f])}},t.prototype.unmount=function(){return this.enableBrush(!1),Ak(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t})(Ti);function Woe(n,t){var e=Ob[t.brushType].createCover(n,t);return e.__brushOption=t,Yoe(e,t),n.group.add(e),e}function qoe(n,t){var e=Rk(t);return e.endCreating&&(e.endCreating(n,t),Yoe(t,t.__brushOption)),t}function $oe(n,t){var e=t.__brushOption;Rk(t).updateCoverShape(n,t,e.range,e)}function Yoe(n,t){var e=t.z;e==null&&(e=hPe),n.traverse(function(i){i.z=e,i.z2=e})}function Ok(n,t){Rk(t).updateCommon(n,t),$oe(n,t)}function Rk(n){return Ob[n.__brushOption.brushType]}function Fk(n,t,e){var i=n._panels;if(!i)return b4;var r,o=n._transform;return O(i,function(a){a.isTargetByCursor(t,e,o)&&(r=a)}),r}function Zoe(n,t){var e=n._panels;if(!e)return b4;var i=t.__brushOption.panelId;return i!=null?e[i]:b4}function Ak(n){var t=n._covers,e=t.length;return O(t,function(i){n.group.remove(i)},n),t.length=0,!!e}function x4(n,t){var e=ge(n._covers,function(i){var r=i.__brushOption,o=ke(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function CPe(n){var t=n._track;if(!t.length)return!1;var e=t[t.length-1],i=t[0],r=e[0]-i[0],o=e[1]-i[1],a=mPe(r*r+o*o,.5);return a>gPe}function Xoe(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function Qoe(n,t,e,i){var r=new Pt;return r.add(new Tt({name:"main",style:Bk(e),silent:!0,draggable:!0,cursor:"move",drift:lt(Uoe,n,t,r,["n","s","w","e"]),ondragend:lt(x4,t,{isEnd:!0})})),O(i,function(o){r.add(new Tt({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:lt(Uoe,n,t,r,o),ondragend:lt(x4,t,{isEnd:!0})}))}),r}function Koe(n,t,e,i){var r=i.brushStyle.lineWidth||0,o=Id(r,vPe),a=e[0][0],s=e[1][0],l=a-r/2,c=s-r/2,u=e[0][1],d=e[1][1],f=u-o+r/2,p=d-o+r/2,v=u-a,_=d-s,b=v+r,C=_+r;ll(n,t,"main",a,s,v,_),i.transformable&&(ll(n,t,"w",l,c,o,C),ll(n,t,"e",f,c,o,C),ll(n,t,"n",l,c,b,o),ll(n,t,"s",l,p,b,o),ll(n,t,"nw",l,c,o,o),ll(n,t,"ne",f,c,o,o),ll(n,t,"sw",l,p,o,o),ll(n,t,"se",f,p,o,o))}function zk(n,t){var e=t.__brushOption,i=e.transformable,r=t.childAt(0);r.useStyle(Bk(e)),r.attr({silent:!i,cursor:i?"move":"default"}),O([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=t.childOfName(o.join("")),s=o.length===1?kk(n,o[0]):wPe(n,o);a&&a.attr({silent:!i,invisible:!i,cursor:i?_Pe[s]+"-resize":null})})}function ll(n,t,e,i,r,o,a){var s=t.childOfName(e);s&&s.setShape(TPe(Vk(n,t,[[i,r],[i+o,r+a]])))}function Bk(n){return Ne({strokeNoScale:!0},n.brushStyle)}function Joe(n,t,e,i){var r=[r7(n,e),r7(t,i)],o=[Id(n,e),Id(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function SPe(n){return J2(n.group)}function kk(n,t){var e={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},r=vp(e[t],SPe(n));return i[r]}function wPe(n,t){var e=[kk(n,t[0]),kk(n,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function Uoe(n,t,e,i,r,o){var a=e.__brushOption,s=n.toRectRange(a.range),l=eae(t,r,o);O(i,function(c){var u=yPe[c];s[u[0]][u[1]]+=l[u[0]]}),a.range=n.fromRectRange(Joe(s[0][0],s[1][0],s[0][1],s[1][1])),Ok(t,e),x4(t,{isEnd:!1})}function MPe(n,t,e,i){var r=t.__brushOption.range,o=eae(n,e,i);O(r,function(a){a[0]+=o[0],a[1]+=o[1]}),Ok(n,t),x4(n,{isEnd:!1})}function eae(n,t,e){var i=n.group,r=i.transformCoordToLocal(t,e),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function Vk(n,t,e){var i=Zoe(n,t);return i&&i!==b4?i.clipPath(e,n._transform):ke(e)}function TPe(n){var t=r7(n[0][0],n[1][0]),e=r7(n[0][1],n[1][1]),i=Id(n[0][0],n[1][0]),r=Id(n[0][1],n[1][1]);return{x:t,y:e,width:i-t,height:r-e}}function EPe(n,t,e){if(!(!n._brushType||IPe(n,t.offsetX,t.offsetY))){var i=n._zr,r=n._covers,o=Fk(n,t,e);if(!n._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(o===b4||s.panelId===o.panelId)&&Ob[s.brushType].contain(r[a],e[0],e[1]))return}o&&i.setCursorStyle("crosshair")}}function Nk(n){var t=n.event;t.preventDefault&&t.preventDefault()}function Pk(n,t,e){return n.childOfName("main").contain(t,e)}function tae(n,t,e,i){var r=n._creatingCover,o=n._creatingPanel,a=n._brushOption,s;if(n._track.push(e.slice()),CPe(n)||r){if(o&&!r){a.brushMode==="single"&&Ak(n);var l=ke(a);l.brushType=Hoe(l.brushType,o),l.panelId=o===b4?null:o.panelId,r=n._creatingCover=Woe(n,l),n._covers.push(r)}if(r){var c=Ob[Hoe(n._brushType,o)],u=r.__brushOption;u.range=c.getCreatingRange(Vk(n,r,n._track)),i&&(qoe(n,r),c.updateCommon(n,r)),$oe(n,r),s={isEnd:i}}}else i&&a.brushMode==="single"&&a.removeOnClick&&Fk(n,t,e)&&Ak(n)&&(s={isEnd:i,removeOnClick:!0});return s}function Hoe(n,t){return n==="auto"?t.defaultBrushType:n}var DPe={mousedown:function(n){if(this._dragging)joe(this,n);else if(!n.target||!n.target.draggable){Nk(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var e=this._creatingPanel=Fk(this,n,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var t=n.offsetX,e=n.offsetY,i=this.group.transformCoordToLocal(t,e);if(EPe(this,n,i),this._dragging){Nk(n);var r=tae(this,n,i,!1);r&&x4(this,r)}},mouseup:function(n){joe(this,n)}};function joe(n,t){if(n._dragging){Nk(t);var e=t.offsetX,i=t.offsetY,r=n.group.transformCoordToLocal(e,i),o=tae(n,t,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&x4(n,o)}}function IPe(n,t,e){var i=n._zr;return t<0||t>i.getWidth()||e<0||e>i.getHeight()}var Ob={lineX:Goe(0),lineY:Goe(1),rect:{createCover:function(n,t){function e(i){return i}return Qoe({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=Xoe(n);return Joe(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,i){Koe(n,t,e,i)},updateCommon:zk,contain:Pk},polygon:{createCover:function(n,t){var e=new Pt;return e.add(new K2({name:"main",style:Bk(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new Q2({name:"main",draggable:!0,drift:lt(MPe,n,t),ondragend:lt(x4,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,i){t.childAt(0).setShape({points:Vk(n,t,e)})},updateCommon:zk,contain:Pk}};function Goe(n){return{createCover:function(t,e){return Qoe({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=Xoe(t),i=r7(e[0][n],e[1][n]),r=Id(e[0][n],e[1][n]);return[i,r]},updateCoverShape:function(t,e,i,r){var o,a=Zoe(t,e);if(a!==b4&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[i,o];n&&l.reverse(),Koe(t,e,l,r)},updateCommon:zk,contain:Pk}}var nae=xPe;function iae(n){return n=Uk(n),function(t){return yp(t,n)}}function rae(n,t){return n=Uk(n),function(e){var i=t??e,r=i?n.width:n.height,o=i?n.x:n.y;return[o,o+(r||0)]}}function oae(n,t,e){var i=Uk(n);return function(r,o){return i.contain(o[0],o[1])&&!Foe(r,t,e)}}function Uk(n){return Ke.create(n)}var C4=Ot(),aae=ke,Hk=Ae,APe=(function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,i,r){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,!(!r&&this._lastValue===o&&this._lastStatus===a)){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||a==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var c={};this.makeElOption(c,o,t,e,i);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(t,e);if(!s)s=this._group=new Pt,this.createPointerEl(s,c,t,e),this.createLabelEl(s,c,t,e),i.getZr().add(s);else{var f=lt(sae,e,d);this.updatePointerEl(s,c,f),this.updateLabelEl(s,c,f,e)}cae(s,e,!0),this._renderHandle(o)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var i=e.get("animation"),r=t.axis,o=r.type==="category",a=e.get("snap");if(!a&&!o)return!1;if(i==="auto"||i==null){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=kb(t).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return i===!0},n.prototype.makeElOption=function(t,e,i,r,o){},n.prototype.createPointerEl=function(t,e,i,r){var o=e.pointer;if(o){var a=C4(t).pointerEl=new si[o.type](aae(e.pointer));t.add(a)}},n.prototype.createLabelEl=function(t,e,i,r){if(e.label){var o=C4(t).labelEl=new qt(aae(e.label));t.add(o),lae(o,r)}},n.prototype.updatePointerEl=function(t,e,i){var r=C4(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),i(r,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,i,r){var o=C4(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),lae(o,r))},n.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=e.getModel("handle"),a=e.get("status");if(!o.get("show")||!a||a==="hide"){r&&i.remove(r),this._handle=null;return}var s;this._handle||(s=!0,r=this._handle=el(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){Es(c.event)},onmousedown:Hk(this._onHandleDragMove,this,0,0),drift:Hk(this._onHandleDragMove,this),ondragend:Hk(this._onHandleDragEnd,this)}),i.add(r)),cae(r,e,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");pe(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,B0(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},n.prototype._moveHandleToValue=function(t,e){sae(this._axisPointerModel,!e&&this._moveAnimation,this._handle,jk(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(jk(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(jk(r)),C4(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,r=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),f4(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}},n})();function sae(n,t,e,i){uae(C4(e).lastProp,i)||(C4(e).lastProp=i,t?pi(e,i,n):(e.stopAnimation(),e.attr(i)))}function uae(n,t){if(Se(n)&&Se(t)){var e=!0;return O(t,function(i,r){e=e&&uae(n[r],i)}),!!e}else return n===t}function lae(n,t){n[t.get(["label","show"])?"show":"hide"]()}function jk(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function cae(n,t,e){var i=t.get("z"),r=t.get("zlevel");n&&n.traverse(function(o){o.type!=="group"&&(i!=null&&(o.z=i),r!=null&&(o.zlevel=r),o.silent=e)})}var dae=APe;function fae(n){var t=n.get("type"),e=n.getModel(t+"Style"),i;return t==="line"?(i=e.getLineStyle(),i.fill=null):t==="shadow"&&(i=e.getAreaStyle(),i.stroke=null),i}function zPe(n,t,e,i,r){var o=e.get("value"),a=Gk(o,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=Us(s.get("padding")||0),c=s.getFont(),u=C0(a,c),d=r.position,f=u.width+l[1]+l[3],p=u.height+l[0]+l[2],v=r.align;v==="right"&&(d[0]-=f),v==="center"&&(d[0]-=f/2);var _=r.verticalAlign;_==="bottom"&&(d[1]-=p),_==="middle"&&(d[1]-=p/2),kPe(d,f,p,i);var b=s.get("backgroundColor");(!b||b==="auto")&&(b=t.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:Zr(s,{text:a,font:c,fill:s.getTextColor(),padding:l,backgroundColor:b}),z2:10}}function kPe(n,t,e,i){var r=i.getWidth(),o=i.getHeight();n[0]=Math.min(n[0]+t,r)-t,n[1]=Math.min(n[1]+e,o)-e,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function Gk(n,t,e,i,r){n=t.scale.parse(n);var o=t.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var s={value:Kp(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};O(i,function(l){var c=e.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,d=c&&c.getDataParams(u);d&&s.seriesData.push(d)}),_e(a)?o=a.replace("{value}",o):De(a)&&(o=a(s))}return o}function Wk(n,t,e){var i=L1();return y3(i,i,e.rotation),Pu(i,i,e.position),t4([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],i)}function pae(n,t,e,i,r,o){var a=zb.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),zPe(t,i,r,o,{position:Wk(i.axis,n,e),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function mae(n,t,e){return e=e||0,{x1:n[e],y1:n[1-e],x2:t[e],y2:t[1-e]}}function hae(n,t,e){return e=e||0,{x:n[e],y:n[1-e],width:t[e],height:t[1-e]}}var NPe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis,l=s.grid,c=o.get("type"),u=vae(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(i,!0));if(c&&c!=="none"){var f=fae(o),p=PPe[c](s,d,u);p.style=f,e.graphicKey=p.type,e.pointer=p}var v=i7(l.model,r);pae(i,e,v,r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=i7(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=Wk(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),c=vae(s,a).getOtherAxis(a).getGlobalExtent(),u=a.dim==="x"?0:1,d=[e.x,e.y];d[u]+=i[u],d[u]=Math.min(l[1],d[u]),d[u]=Math.max(l[0],d[u]);var f=(c[1]+c[0])/2,p=[f,f];p[u]=d[u];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:e.rotation,cursorPoint:p,tooltipOption:v[u]}},t})(dae);function vae(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var PPe={line:function(n,t,e){var i=mae([t,e[0]],[t,e[1]],yae(n));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(n,t,e){var i=Math.max(1,n.getBandWidth()),r=e[1]-e[0];return{type:"Rect",shape:hae([t-i/2,e[0]],[i,r],yae(n))}}};function yae(n){return n.dim==="x"?0:1}var _ae=NPe;var OPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t})(kt),bae=OPe;var cl=Ot(),RPe=O;function Rb(n,t,e){if(!Be.node){var i=t.getZr();cl(i).records||(cl(i).records={}),FPe(i,t);var r=cl(i).records[n]||(cl(i).records[n]={});r.handler=e}}function FPe(n,t){if(cl(n).initialized)return;cl(n).initialized=!0,e("click",lt(xae,"click")),e("mousemove",lt(xae,"mousemove")),e("globalout",VPe);function e(i,r){n.on(i,function(o){var a=UPe(t);RPe(cl(n).records,function(s){s&&r(s,o,a.dispatchAction)}),BPe(a.pendings,t)})}}function BPe(n,t){var e=n.showTip.length,i=n.hideTip.length,r;e?r=n.showTip[e-1]:i&&(r=n.hideTip[i-1]),r&&(r.dispatchAction=null,t.dispatchAction(r))}function VPe(n,t,e){n.handler("leave",null,e)}function xae(n,t,e,i){t.handler(n,e,i)}function UPe(n){var t={showTip:[],hideTip:[]},e=function(i){var r=t[i.type];r?r.push(i):(i.dispatchAction=e,n.dispatchAction(i))};return{dispatchAction:e,pendings:t}}function o7(n,t){if(!Be.node){var e=t.getZr(),i=(cl(e).records||{})[n];i&&(cl(e).records[n]=null)}}var HPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,i,r){var o=i.getComponent("tooltip"),a=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";Rb("axisPointer",r,function(s,l,c){a!=="none"&&(s==="leave"||a.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,i){o7("axisPointer",i)},t.prototype.dispose=function(e,i){o7("axisPointer",i)},t.type="axisPointer",t})(Qn),Sae=HPe;function a7(n,t){var e=[],i=n.seriesIndex,r;if(i==null||!(r=t.getSeriesByIndex(i)))return{point:[]};var o=r.getData(),a=Za(o,n);if(a==null||a<0||pe(a))return{point:[]};var s=o.getItemGraphicEl(a),l=r.coordinateSystem;if(r.getTooltipPosition)e=r.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),d=u.dim,f=c.dim,p=d==="x"||d==="radius"?1:0,v=o.mapDimension(f),_=[];_[p]=o.get(v,a),_[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),e=l.dataToPoint(_)||[]}else e=l.dataToPoint(o.getValues(ge(l.dimensions,function(C){return o.mapDimension(C)}),a))||[];else if(s){var b=s.getBoundingRect().clone();b.applyTransform(s.transform),e=[b.x+b.width/2,b.y+b.height/2]}return{point:e,el:s}}var wae=Ot();function qk(n,t,e){var i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||Ae(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Fb(r)&&(r=a7({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=Fb(r),c=o.axesInfo,u=s.axesInfo,d=i==="leave"||Fb(r),f={},p={},v={list:[],map:{}},_={showPointer:lt(GPe,p),showTooltip:lt(WPe,v)};O(s.coordSysMap,function(C,w){var E=l||C.containPoint(r);O(s.coordSysAxesInfo[w],function(D,L){var z=D.axis,R=ZPe(c,D);if(!d&&E&&(!c||R)){var H=R&&R.value;H==null&&!l&&(H=z.pointToData(r)),H!=null&&Mae(D,H,_,!1,f)}})});var b={};return O(u,function(C,w){var E=C.linkGroup;E&&!p[w]&&O(E.axesInfo,function(D,L){var z=p[L];if(D!==C&&z){var R=z.value;E.mapper&&(R=C.axis.scale.parse(E.mapper(R,Tae(D),Tae(C)))),b[C.key]=R}})}),O(b,function(C,w){Mae(u[w],C,_,!0,f)}),qPe(p,u,f),$Pe(v,r,n,a),YPe(u,a,e),f}}function Mae(n,t,e,i,r){var o=n.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!n.involveSeries){e.showPointer(n,t);return}var a=jPe(t,n),s=a.payloadBatch,l=a.snapToValue;s[0]&&r.seriesIndex==null&&fe(r,s[0]),!i&&n.snap&&o.containData(l)&&l!=null&&(t=l),e.showPointer(n,t,s),e.showTooltip(n,a,l)}}function jPe(n,t){var e=t.axis,i=e.dim,r=n,o=[],a=Number.MAX_VALUE,s=-1;return O(t.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(i),d,f;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(u,n,e);f=p.dataIndices,d=p.nestestValue}else{if(f=l.getData().indicesOfNearest(u[0],n,e.type==="category"?.5:null),!f.length)return;d=l.getData().get(u[0],f[0])}if(!(d==null||!isFinite(d))){var v=n-d,_=Math.abs(v);_<=a&&((_<a||v>=0&&s<0)&&(a=_,s=v,r=d,o.length=0),O(f,function(b){o.push({seriesIndex:l.seriesIndex,dataIndexInside:b,dataIndex:l.getData().getRawIndex(b)})}))}}),{payloadBatch:o,snapToValue:r}}function GPe(n,t,e,i){n[t.key]={value:e,payloadBatch:i}}function WPe(n,t,e,i){var r=e.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!r.length)){var l=t.coordSys.model,c=Ed(l),u=n.map[c];u||(u=n.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function qPe(n,t,e){var i=e.axesInfo=[];O(t,function(r,o){var a=r.axisPointerModel.option,s=n[o];s?(!r.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(a.status="hide"),a.status==="show"&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:a.value})})}function $Pe(n,t,e,i){if(Fb(t)||!n.list.length){i({type:"hideTip"});return}var r=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:n.list})}function YPe(n,t,e){var i=e.getZr(),r="axisPointerLastHighlights",o=wae(i)[r]||{},a=wae(i)[r]={};O(n,function(c,u){var d=c.axisPointerModel.option;d.status==="show"&&c.triggerEmphasis&&O(d.seriesDataIndices,function(f){var p=f.seriesIndex+" | "+f.dataIndex;a[p]=f})});var s=[],l=[];O(o,function(c,u){!a[u]&&l.push(c)}),O(a,function(c,u){!o[u]&&s.push(c)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function ZPe(n,t){for(var e=0;e<(n||[]).length;e++){var i=n[e];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}function Tae(n){var t=n.axis.model,e={},i=e.axisDim=n.axis.dim;return e.axisIndex=e[i+"AxisIndex"]=t.componentIndex,e.axisName=e[i+"AxisName"]=t.name,e.axisId=e[i+"AxisId"]=t.id,e}function Fb(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function Bb(n){Nb.registerAxisPointerClass("CartesianAxisPointer",_ae),n.registerComponentModel(bae),n.registerComponentView(Sae),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!pe(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Coe(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},qk)}function $k(n){Fi(Aoe),Fi(Bb)}var Yk=["x","y","radius","angle","single"],XPe=["cartesian2d","polar","singleAxis"];function Eae(n){var t=n.get("coordinateSystem");return qe(XPe,t)>=0}function s1(n){return n+"Axis"}function Dae(n,t){var e=Le(),i=[],r=Le();n.eachComponent({mainType:"dataZoom",query:t},function(u){r.get(u.uid)||s(u)});var o;do o=!1,n.eachComponent("dataZoom",a);while(o);function a(u){!r.get(u.uid)&&l(u)&&(s(u),o=!0)}function s(u){r.set(u.uid,!0),i.push(u),c(u)}function l(u){var d=!1;return u.eachTargetAxis(function(f,p){var v=e.get(f);v&&v[p]&&(d=!0)}),d}function c(u){u.eachTargetAxis(function(d,f){(e.get(d)||e.set(d,[]))[f]=!0})}return i}function Vb(n){var t=n.ecModel,e={infoList:[],infoMap:Le()};return n.eachTargetAxis(function(i,r){var o=t.getComponent(s1(i),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=e.infoMap.get(s);l||(l={model:a,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(o)}}}),e}var Zk=(function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n})(),QPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,i,r){var o=Iae(e);this.settledOption=o,this.mergeDefaultAndTheme(e,r),this._doInit(o)},t.prototype.mergeOption=function(e){var i=Iae(e);je(this.option,e,!0),je(this.settledOption,i,!0),this._doInit(i)},t.prototype._doInit=function(e){var i=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;O([["start","startValue"],["end","endValue"]],function(o,a){this._rangePropMode[a]==="value"&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),i=this._targetAxisInfoMap=Le(),r=this._fillSpecifiedTargetAxis(i);r?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var i=!1;return O(Yk,function(r){var o=this.getReferringComponents(s1(r),fJ);if(o.specified){i=!0;var a=new Zk;O(o.models,function(s){a.add(s.componentIndex)}),e.set(r,a)}},this),i},t.prototype._fillAutoTargetAxisByOrient=function(e,i){var r=this.ecModel,o=!0;if(o){var a=i==="vertical"?"y":"x",s=r.findComponents({mainType:a+"Axis"});l(s,a)}if(o){var s=r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===i}});l(s,"single")}function l(c,u){var d=c[0];if(d){var f=new Zk;if(f.add(d.componentIndex),e.set(u,f),o=!1,u==="x"||u==="y"){var p=d.getReferringComponents("grid",ai).models[0];p&&O(c,function(v){d.componentIndex!==v.componentIndex&&p===v.getReferringComponents("grid",ai).models[0]&&f.add(v.componentIndex)})}}}o&&O(Yk,function(c){if(o){var u=r.findComponents({mainType:s1(c),filter:function(f){return f.get("type",!0)==="category"}});if(u[0]){var d=new Zk;d.add(u[0].componentIndex),e.set(c,d),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(i){!e&&(e=i)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var i=this._rangePropMode,r=this.get("rangeMode");O([["start","startValue"],["end","endValue"]],function(o,a){var s=e[o[0]]!=null,l=e[o[1]]!=null;s&&!l?i[a]="percent":!s&&l?i[a]="value":r?i[a]=r[a]:s&&(i[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(i,r){e==null&&(e=this.ecModel.getComponent(s1(i),r))},this),e},t.prototype.eachTargetAxis=function(e,i){this._targetAxisInfoMap.each(function(r,o){O(r.indexList,function(a){e.call(i,o,a)})})},t.prototype.getAxisProxy=function(e,i){var r=this.getAxisModel(e,i);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,i){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[i])return this.ecModel.getComponent(s1(e),i)},t.prototype.setRawRange=function(e){var i=this.option,r=this.settledOption;O([["start","startValue"],["end","endValue"]],function(o){(e[o[0]]!=null||e[o[1]]!=null)&&(i[o[0]]=r[o[0]]=e[o[0]],i[o[1]]=r[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var i=this.option;O(["start","startValue","end","endValue"],function(r){i[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,i){if(e==null&&i==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(e,i).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var c=this.getAxisProxy(a,s.indexList[l]);if(c.hostedBy(this))return c;i||(i=c)}return i},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(kt);function Iae(n){var t={};return O(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var Q0=QPe;var KPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(Q0),Lae=KPe;var JPe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,i,r,o){this.dataZoomModel=e,this.ecModel=i,this.api=r},t.type="dataZoom",t})(Qn),Ld=JPe;var eOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(Ld),Aae=eOe;var Ad=O,zae=$2,tOe=(function(){function n(t,e,i,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(Eae(e)){var i=s1(this._dimName),r=e.getReferringComponents(i,ai).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return ke(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e=this._dataExtent,i=this.getAxisModel(),r=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[],c;Ad(["start","end"],function(f,p){var v=t[f],_=t[f+"Value"];o[p]==="percent"?(v==null&&(v=a[p]),_=r.parse(Ei(v,a,e))):(c=!0,_=_==null?e[p]:r.parse(_),v=Ei(_,e,a)),l[p]=_==null||isNaN(_)?e[p]:_,s[p]=v==null||isNaN(v)?a[p]:v}),zae(l),zae(s);var u=this._minMaxSpan;c?d(l,s,e,a,!1):d(s,l,a,e,!0);function d(f,p,v,_,b){var C=b?"Span":"ValueSpan";Gs(0,f,v,"all",u["min"+C],u["max"+C]);for(var w=0;w<2;w++)p[w]=Ei(f[w],v,_,!0),b&&(p[w]=r.parse(p[w]))}return{valueWindow:l,percentWindow:s}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=nOe(this,this._dimName,e),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var i=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;if(o==="none")return;Ad(r,function(l){var c=l.getData(),u=c.mapDimensionsAll(i);if(u.length){if(o==="weakFilter"){var d=c.getStore(),f=ge(u,function(p){return c.getDimensionIndex(p)},c);c.filterSelf(function(p){for(var v,_,b,C=0;C<u.length;C++){var w=d.get(f[C],p),E=!isNaN(w),D=w<a[0],L=w>a[1];if(E&&!D&&!L)return!0;E&&(b=!0),D&&(v=!0),L&&(_=!0)}return b&&v&&_})}else Ad(u,function(p){if(o==="empty")l.setData(c=c.map(p,function(_){return s(_)?_:NaN}));else{var v={};v[p]=a,c.selectRange(v)}});Ad(u,function(p){c.setApproximateExtent(a,p)})}});function s(l){return l>=a[0]&&l<=a[1]}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,i=this._dataExtent;Ad(["min","max"],function(r){var o=e.get(r+"Span"),a=e.get(r+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?o=Ei(i[0]+a,i,[0,100],!0):o!=null&&(a=Ei(o,[0,100],i,!0)-i[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,i=this._valueWindow;if(e){var r=ju(i,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;e[0]!==0&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),e[1]!==100&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n})();function nOe(n,t,e){var i=[1/0,-1/0];Ad(e,function(a){ore(i,a.getData(),t)});var r=n.getAxisModel(),o=gb(r.axis.scale,r,i).calculate();return[o.min,o.max]}var kae=tOe;var iOe={getTargetSeries:function(n){function t(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=n.getComponent(s1(a),s);r(a,s,l,o)})})}t(function(r,o,a,s){a.__dzAxisProxy=null});var e=[];t(function(r,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new kae(r,o,s,n),e.push(a.__dzAxisProxy))});var i=Le();return O(e,function(r){O(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).reset(e)}),e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var i=e.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},Nae=iOe;function Xk(n){n.registerAction("dataZoom",function(t,e){var i=Dae(e,t);O(i,function(r){r.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var Pae=!1;function S4(n){Pae||(Pae=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,Nae),Xk(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Oae(n){n.registerComponentModel(Lae),n.registerComponentView(Aae),S4(n)}var wr=(function(){function n(){}return n})();var Rae={};function zd(n,t){Rae[n]=t}function Ub(n){return Rae[n]}var oOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;O(this.option.feature,function(i,r){var o=Ub(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),je(i,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t})(kt),Fae=oOe;function Bae(n,t,e){var i=t.getBoxLayoutParams(),r=t.get("padding"),o={width:e.getWidth(),height:e.getHeight()},a=Qr(i,o,r);nl(t.get("orient"),n,t.get("itemGap"),a.width,a.height),Cte(n,i,o,r)}function Hb(n,t){var e=Us(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),n=new Tt({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1}),n}var sOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(e,i,r,o){var a=this.group;if(a.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),l=e.get("orient")==="vertical",c=e.get("feature")||{},u=this._features||(this._features={}),d=[];O(c,function(v,_){d.push(_)}),new Sd(this._featureNames||[],d).add(f).update(f).remove(lt(f,null)).execute(),this._featureNames=d;function f(v,_){var b=d[v],C=d[_],w=c[b],E=new $t(w,e,e.ecModel),D;if(o&&o.newTitle!=null&&o.featureName===b&&(w.title=o.newTitle),b&&!C){if(lOe(b))D={onclick:E.option.onclick,featureName:b};else{var L=Ub(b);if(!L)return;D=new L}u[b]=D}else if(D=u[C],!D)return;D.uid=Vs("toolbox-feature"),D.model=E,D.ecModel=i,D.api=r;var z=D instanceof wr;if(!b&&C){z&&D.dispose&&D.dispose(i,r);return}if(!E.get("show")||z&&D.unusable){z&&D.remove&&D.remove(i,r);return}p(E,D,b),E.setIconStatus=function(R,H){var W=this.option,$=this.iconPaths;W.iconStatus=W.iconStatus||{},W.iconStatus[R]=H,$[R]&&(H==="emphasis"?Os:Rs)($[R])},D instanceof wr&&D.render&&D.render(E,i,r,o)}function p(v,_,b){var C=v.getModel("iconStyle"),w=v.getModel(["emphasis","iconStyle"]),E=_ instanceof wr&&_.getIcons?_.getIcons():v.get("icon"),D=v.get("title")||{},L,z;_e(E)?(L={},L[b]=E):L=E,_e(D)?(z={},z[b]=D):z=D;var R=v.iconPaths={};O(L,function(H,W){var $=el(H,{},{x:-s/2,y:-s/2,width:s,height:s});$.setStyle(C.getItemStyle());var G=$.ensureState("emphasis");G.style=w.getItemStyle();var Z=new qt({style:{text:z[W],align:w.get("textAlign"),borderRadius:w.get("textBorderRadius"),padding:w.get("textPadding"),fill:null,font:l_({fontStyle:w.get("textFontStyle"),fontFamily:w.get("textFontFamily"),fontSize:w.get("textFontSize"),fontWeight:w.get("textFontWeight")},i)},ignore:!0});$.setTextContent(Z),z0({el:$,componentModel:e,itemName:W,formatterParamsExtra:{title:z[W]}}),$.__title=z[W],$.on("mouseover",function(){var te=w.getItemStyle(),re=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";Z.setStyle({fill:w.get("textFill")||te.fill||te.stroke||"#000",backgroundColor:w.get("textBackgroundColor")}),$.setTextConfig({position:w.get("textPosition")||re}),Z.ignore=!e.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",W])!=="emphasis"&&r.leaveEmphasis(this),Z.hide()}),(v.get(["iconStatus",W])==="emphasis"?Os:Rs)($),a.add($),$.on("click",Ae(_.onclick,_,i,r,W)),R[W]=$})}Bae(a,e,r),a.add(Hb(a.getBoundingRect(),e)),l||a.eachChild(function(v){var _=v.__title,b=v.ensureState("emphasis"),C=b.textConfig||(b.textConfig={}),w=v.getTextContent(),E=w&&w.ensureState("emphasis");if(E&&!De(E)&&_){var D=E.style||(E.style={}),L=C0(_,qt.makeFont(D)),z=v.x+a.x,R=v.y+a.y+s,H=!1;R+L.height>r.getHeight()&&(C.position="top",H=!0);var W=H?-5-L.height:s+10;z+L.width/2>r.getWidth()?(C.position=["100%",W],D.align="right"):z-L.width/2<0&&(C.position=[0,W],D.align="left")}})},t.prototype.updateView=function(e,i,r,o){O(this._features,function(a){a instanceof wr&&a.updateView&&a.updateView(a.model,i,r,o)})},t.prototype.remove=function(e,i){O(this._features,function(r){r instanceof wr&&r.remove&&r.remove(e,i)}),this.group.removeAll()},t.prototype.dispose=function(e,i){O(this._features,function(r){r instanceof wr&&r.dispose&&r.dispose(e,i)})},t.type="toolbox",t})(Qn);function lOe(n){return n.indexOf("my")===0}var Vae=sOe;var cOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,i){var r=this.model,o=r.get("name")||e.get("title.0.text")||"echarts",a=i.getZr().painter.getType()==="svg",s=a?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),c=Be.browser;if(typeof MouseEvent=="function"&&(c.newEdge||!c.ie&&!c.edge)){var u=document.createElement("a");u.download=o+"."+s,u.target="_blank",u.href=l;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||a){var f=l.split(","),p=f[0].indexOf("base64")>-1,v=a?decodeURIComponent(f[1]):f[1];p&&(v=window.atob(v));var _=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var b=v.length,C=new Uint8Array(b);b--;)C[b]=v.charCodeAt(b);var w=new Blob([C]);window.navigator.msSaveOrOpenBlob(w,_)}else{var E=document.createElement("iframe");document.body.appendChild(E);var D=E.contentWindow,L=D.document;L.open("image/svg+xml","replace"),L.write(v),L.close(),D.focus(),L.execCommand("SaveAs",!0,_),document.body.removeChild(E)}}else{var z=r.get("lang"),R='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(z&&z[0]||"")+'" /></body>',H=window.open();H.document.write(R),H.document.title=o}},t.getDefaultOption=function(e){var i={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return i},t})(wr),Uae=cOe;var Hae="__ec_magicType_stack__";var uOe=[["line","bar"],["stack"]],dOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,i=e.get("icon"),r={};return O(e.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},t.getDefaultOption=function(e){var i={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return i},t.prototype.onclick=function(e,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(jae[r]){var s={series:[]},l=function(d){var f=d.subType,p=d.id,v=jae[r](f,p,d,o);v&&(Ne(v,d.option),s.series.push(v));var _=d.coordinateSystem;if(_&&_.type==="cartesian2d"&&(r==="line"||r==="bar")){var b=_.getAxesByScale("ordinal")[0];if(b){var C=b.dim,w=C+"Axis",E=d.getReferringComponents(w,ai).models[0],D=E.componentIndex;s[w]=s[w]||[];for(var L=0;L<=D;L++)s[w][D]=s[w][D]||{};s[w][D].boundaryGap=r==="bar"}}};O(uOe,function(d){qe(d,r)>=0&&O(d,function(f){o.setIconStatus(f,"normal")})}),o.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},l);var c,u=r;r==="stack"&&(c=je({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",r])!=="emphasis"&&(u="tiled")),i.dispatchAction({type:"changeMagicType",currentType:u,newOption:s,newTitle:c,featureName:"magicType"})}},t})(wr),jae={line:function(n,t,e,i){if(n==="bar")return je({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,t,e,i){if(n==="line")return je({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,t,e,i){var r=e.get("stack")===Hae;if(n==="line"||n==="bar")return i.setIconStatus("stack",r?"normal":"emphasis"),je({id:t,stack:r?"":Hae},i.get(["option","stack"])||{},!0)}};no({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var Gae=dOe;var Gb=new Array(60).join("-"),kd="	";function fOe(n){var t={},e=[],i=[];return n.eachRawSeries(function(r){var o=r.coordinateSystem;if(o&&(o.type==="cartesian2d"||o.type==="polar")){var a=o.getBaseAxis();if(a.type==="category"){var s=a.dim+"_"+a.index;t[s]||(t[s]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},i.push({axisDim:a.dim,axisIndex:a.index})),t[s].series.push(r)}else e.push(r)}else e.push(r)}),{seriesGroupByCategoryAxis:t,other:e,meta:i}}function pOe(n){var t=[];return O(n,function(e,i){var r=e.categoryAxis,o=e.valueAxis,a=o.dim,s=[" "].concat(ge(e.series,function(p){return p.name})),l=[r.model.getCategories()];O(e.series,function(p){var v=p.getRawData();l.push(p.getRawData().mapArray(v.mapDimension(a),function(_){return _}))});for(var c=[s.join(kd)],u=0;u<l[0].length;u++){for(var d=[],f=0;f<l.length;f++)d.push(l[f][u]);c.push(d.join(kd))}t.push(c.join(`
`))}),t.join(`

`+Gb+`

`)}function mOe(n){return ge(n,function(t){var e=t.getRawData(),i=[t.name],r=[];return e.each(e.dimensions,function(){for(var o=arguments.length,a=arguments[o-1],s=e.getName(a),l=0;l<o-1;l++)r[l]=arguments[l];i.push((s?s+kd:"")+r.join(kd))}),i.join(`
`)}).join(`

`+Gb+`

`)}function hOe(n){var t=fOe(n);return{value:hn([pOe(t.seriesGroupByCategoryAxis),mOe(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+Gb+`

`),meta:t.meta}}function jb(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function gOe(n){var t=n.slice(0,n.indexOf(`
`));if(t.indexOf(kd)>=0)return!0}var Qk=new RegExp("["+kd+"]+","g");function vOe(n){for(var t=n.split(/\n+/g),e=jb(t.shift()).split(Qk),i=[],r=ge(e,function(l){return{name:l,data:[]}}),o=0;o<t.length;o++){var a=jb(t[o]).split(Qk);i.push(a.shift());for(var s=0;s<a.length;s++)r[s]&&(r[s].data[o]=a[s])}return{series:r,categories:i}}function yOe(n){for(var t=n.split(/\n+/g),e=jb(t.shift()),i=[],r=0;r<t.length;r++){var o=jb(t[r]);if(o){var a=o.split(Qk),s="",l=void 0,c=!1;isNaN(a[0])?(c=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var u=0;u<a.length;u++)l.push(+a[u]);l.length===1&&(c?i[r].value=l[0]:i[r]=l[0])}}return{name:e,data:i}}function _Oe(n,t){var e=n.split(new RegExp(`
*`+Gb+`
*`,"g")),i={series:[]};return O(e,function(r,o){if(gOe(r)){var a=vOe(r),s=t[o],l=s.axisDim+"Axis";s&&(i[l]=i[l]||[],i[l][s.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else{var a=yOe(r);i.series.push(a)}}),i}var bOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var d=o.get("optionToContent"),f=o.get("contentToOption"),p=hOe(e);if(De(d)){var v=d(i.getOption());_e(v)?c.innerHTML=v:F2(v)&&c.appendChild(v)}else{u.readOnly=o.get("readOnly");var _=u.style;_.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",_.color=o.get("textColor"),_.borderColor=o.get("textareaBorderColor"),_.backgroundColor=o.get("textareaColor"),u.value=p.value,c.appendChild(u)}var b=p.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",E=document.createElement("div"),D=document.createElement("div");w+=";background-color:"+o.get("buttonColor"),w+=";color:"+o.get("buttonTextColor");var L=this;function z(){r.removeChild(a),L._dom=null}z8(E,"click",z),z8(D,"click",function(){if(f==null&&d!=null||f!=null&&d==null){z();return}var R;try{De(f)?R=f(c,i.getOption()):R=_Oe(u.value,b)}catch(H){throw z(),new Error("Data view format error "+H)}R&&i.dispatchAction({type:"changeDataView",newOption:R}),z()}),E.innerHTML=l[1],D.innerHTML=l[2],D.style.cssText=E.style.cssText=w,!o.get("readOnly")&&C.appendChild(D),C.appendChild(E),a.appendChild(s),a.appendChild(c),a.appendChild(C),c.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},t.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.getDefaultOption=function(e){var i={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return i},t})(wr);function xOe(n,t){return ge(n,function(e,i){var r=t&&t[i];if(Se(r)&&!pe(r)){var o=Se(e)&&!pe(e);o||(e={value:e});var a=r.name!=null&&e.name==null;return e=Ne(e,r),a&&delete e.name,e}else return e})}no({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];O(n.newOption.series,function(i){var r=t.getSeriesByName(i.name)[0];if(!r)e.push(fe({type:"scatter"},i));else{var o=r.get("data");e.push({name:i.name,data:xOe(i.data,o)})}}),t.mergeOption(Ne({series:e},n.newOption))});var Wae=bOe;var qae=O,$ae=Ot();function Yae(n,t){var e=Kk(n);qae(t,function(i,r){for(var o=e.length-1;o>=0;o--){var a=e[o];if(a[r])break}if(o<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();e[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),e.push(t)}function Zae(n){var t=Kk(n),e=t[t.length-1];t.length>1&&t.pop();var i={};return qae(e,function(r,o){for(var a=t.length-1;a>=0;a--)if(r=t[a][o],r){i[o]=r;break}}),i}function Xae(n){$ae(n).snapshots=null}function Qae(n){return Kk(n).length}function Kk(n){var t=$ae(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var COe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,i){Xae(e),i.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var i={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return i},t})(wr);no({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var Jae=COe;var SOe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],wOe=(function(){function n(t,e,i){var r=this;this._targetInfoList=[];var o=e1e(e,t);O(MOe,function(a,s){(!i||!i.include||qe(i.include,s)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=Jk[i.brushType](0,o,r);i.__rangeOffset={offset:r1e[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,i){O(t,function(r){var o=this.findTargetInfo(r,e);o&&o!==!0&&O(o.coordSyses,function(a){var s=Jk[r.brushType](1,a,r.range,!0);i(r,s.values,a,e)})},this)},n.prototype.setInputRanges=function(t,e){O(t,function(i){var r=this.findTargetInfo(i,e);if(i.range=i.range||[],r&&r!==!0){i.panelId=r.panelId;var o=Jk[i.brushType](0,r.coordSys,i.coordRange),a=i.__rangeOffset;i.range=a?r1e[i.brushType](o.values,a.offset,TOe(o.xyMinMax,a.xyMinMax)):o.values}},this)},n.prototype.makePanelOpts=function(t,e){return ge(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e?e(i):null,clipPath:iae(r),isTargetByCursor:oae(r,t,i.coordSysModel),getLinearBrushOtherExtent:rae(r)}})},n.prototype.controlSeries=function(t,e,i){var r=this.findTargetInfo(t,i);return r===!0||r&&qe(r.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var i=this._targetInfoList,r=e1e(e,t),o=0;o<i.length;o++){var a=i[o],s=t.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<t1e.length;l++)if(t1e[l](r,a))return a}return!0},n})();function eN(n){return n[0]>n[1]&&n.reverse(),n}function e1e(n,t){return S0(n,t,{includeMainTypes:SOe})}var MOe={grid:function(n,t){var e=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=Le(),a={},s={};!e&&!i&&!r||(O(e,function(l){var c=l.axis.grid.model;o.set(c.id,c),a[c.id]=!0}),O(i,function(l){var c=l.axis.grid.model;o.set(c.id,c),s[c.id]=!0}),O(r,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var c=l.coordinateSystem,u=[];O(c.getCartesians(),function(d,f){(qe(e,d.getAxis("x").model)>=0||qe(i,d.getAxis("y").model)>=0)&&u.push(d)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:n1e.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,t){O(n.geoModels,function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:n1e.geo})})}},t1e=[function(n,t){var e=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],n1e={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(J2(n)),t}},Jk={lineX:lt(i1e,0),lineY:lt(i1e,1),rect:function(n,t,e,i){var r=n?t.pointToData([e[0][0],e[1][0]],i):t.dataToPoint([e[0][0],e[1][0]],i),o=n?t.pointToData([e[0][1],e[1][1]],i):t.dataToPoint([e[0][1],e[1][1]],i),a=[eN([r[0],o[0]]),eN([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,t,e,i){var r=[[1/0,-1/0],[1/0,-1/0]],o=ge(e,function(a){var s=n?t.pointToData(a,i):t.dataToPoint(a,i);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s});return{values:o,xyMinMax:r}}};function i1e(n,t,e,i){var r=e.getAxis(["x","y"][n]),o=eN(ge([0,1],function(s){return t?r.coordToData(r.toLocalCoord(i[s]),!0):r.toGlobalCoord(r.dataToCoord(i[s]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var r1e={lineX:lt(o1e,0),lineY:lt(o1e,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return ge(n,function(i,r){return[i[0]-e[0]*t[r][0],i[1]-e[1]*t[r][1]]})}};function o1e(n,t,e,i){return[t[0]-i[n]*e[0],t[1]-i[n]*e[1]]}function TOe(n,t){var e=a1e(n),i=a1e(t),r=[e[0]/i[0],e[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function a1e(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var tN=wOe;var nN=O,EOe=uJ("toolbox-dataZoom_");var DOe=(function(n){de(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(e,i,r,o){this._brushController||(this._brushController=new nae(r.getZr()),this._brushController.on("brush",Ae(this._onBrush,this)).mount()),AOe(e,i,this,o,r),LOe(e,i)},t.prototype.onclick=function(e,i,r){IOe[r].call(this)},t.prototype.remove=function(e,i){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,i){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var i=e.areas;if(!e.isEnd||!i.length)return;var r={},o=this.ecModel;this._brushController.updateCovers([]);var a=new tN(iN(this.model),o,{include:["grid"]});a.matchOutputRanges(i,o,function(c,u,d){if(d.type==="cartesian2d"){var f=c.brushType;f==="rect"?(s("x",d,u[0]),s("y",d,u[1])):s({lineX:"x",lineY:"y"}[f],d,u)}}),Yae(o,r),this._dispatchZoomAction(r);function s(c,u,d){var f=u.getAxis(c),p=f.model,v=l(c,p,o),_=v.findRepresentativeAxisProxy(p).getMinMaxSpan();(_.minValueSpan!=null||_.maxValueSpan!=null)&&(d=Gs(0,d.slice(),f.scale.getExtent(),0,_.minValueSpan,_.maxValueSpan)),v&&(r[v.id]={dataZoomId:v.id,startValue:d[0],endValue:d[1]})}function l(c,u,d){var f;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var v=p.getAxisModel(c,u.componentIndex);v&&(f=p)}),f}},t.prototype._dispatchZoomAction=function(e){var i=[];nN(e,function(r,o){i.push(ke(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},t.getDefaultOption=function(e){var i={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return i},t})(wr),IOe={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(Zae(this.ecModel))}};function iN(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function LOe(n,t){n.setIconStatus("back",Qae(t)>1?"emphasis":"normal")}function AOe(n,t,e,i,r){var o=e._isZoomActive;i&&i.type==="takeGlobalCursor"&&(o=i.key==="dataZoomSelect"?i.dataZoomSelectActive:!1),e._isZoomActive=o,n.setIconStatus("zoom",o?"emphasis":"normal");var a=new tN(iN(n),t,{include:["grid"]}),s=a.makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(o&&s.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}Ite("dataZoom",function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var i=t.getModel(e),r=[],o=iN(i),a=S0(n,o);nN(a.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),nN(a.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,c,u){var d=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:EOe+c+d};f[u]=d,r.push(f)}return r});var s1e=DOe;function rN(n){n.registerComponentModel(Fae),n.registerComponentView(Vae),zd("saveAsImage",Uae),zd("magicType",Gae),zd("dataView",Wae),zd("dataZoom",s1e),zd("restore",Jae),Fi(Oae)}var zOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t})(kt),l1e=zOe;function Wb(n){var t=n.get("confine");return t!=null?!!t:n.get("renderMode")==="richText"}function c1e(n){if(Be.domSupported){for(var t=document.documentElement.style,e=0,i=n.length;e<i;e++)if(n[e]in t)return n[e]}}var oN=c1e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),u1e=c1e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function aN(n,t){if(!n)return t;t=ud(t,!0);var e=n.indexOf(t);return n=e===-1?t:"-"+n.slice(0,e)+"-"+t,n.toLowerCase()}function d1e(n,t){var e=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return e?t?e[t]:e:null}var kOe=aN(u1e,"transition"),sN=aN(oN,"transform"),NOe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Be.transform3dSupported?"will-change:transform;":"");function POe(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function OOe(n,t,e){if(!_e(e)||e==="inside")return"";var i=n.get("backgroundColor"),r=n.get("borderWidth");t=N1(t);var o=POe(e),a=Math.max(Math.round(r)*1.5,6),s="",l=sN+":",c;qe(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c=o==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c=o==="top"?225:45)+"deg)");var u=c*Math.PI/180,d=a+r,f=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),p=Math.round(((f-Math.SQRT2*r)/2+Math.SQRT2*r-(f-d)/2)*100)/100;s+=";"+o+":-"+p+"px";var v=t+" solid "+r+"px;",_=["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+i+";"];return'<div style="'+_.join("")+'"></div>'}function ROe(n,t){var e="cubic-bezier(0.23,1,0.32,1)",i=" "+n/2+"s "+e,r="opacity"+i+",visibility"+i;return t||(i=" "+n+"s "+e,r+=Be.transformSupported?","+sN+i:",left"+i+",top"+i),kOe+":"+r}function f1e(n,t,e){var i=n.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!Be.transformSupported)return e?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=Be.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return e?"top:0;left:0;"+sN+":"+a+";":[["top",0],["left",0],[oN,a]]}function FOe(n){var t=[],e=n.get("fontSize"),i=n.getTextColor();i&&t.push("color:"+i),t.push("font:"+n.getFont());var r=nt(n.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+r+"px");var o=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return o&&a&&t.push("text-shadow:"+s+"px "+l+"px "+a+"px "+o),O(["decoration","align"],function(c){var u=n.get(c);u&&t.push("text-"+c+":"+u)}),t.join(";")}function BOe(n,t,e){var i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),u=n.getModel("textStyle"),d=N_(n,"html"),f=l+"px "+c+"px "+a+"px "+s;return i.push("box-shadow:"+f),t&&r&&i.push(ROe(r,e)),o&&i.push("background-color:"+o),O(["width","color","radius"],function(p){var v="border-"+p,_=ud(v),b=n.get(_);b!=null&&i.push(v+":"+b+(p==="color"?"":"px"))}),i.push(FOe(u)),d!=null&&i.push("padding:"+Us(d).join("px ")+"px"),i.join(";")+";"}function p1e(n,t,e,i,r){var o=t&&t.painter;if(e){var a=o&&o.getViewportRoot();a&&JQ(n,a,e,i,r)}else{n[0]=i,n[1]=r;var s=o&&o.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var VOe=(function(){function n(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Be.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=t.getZr(),o=e.appendTo,a=o&&(_e(o)?document.querySelector(o):F2(o)?o:De(o)&&o(t.getDom()));p1e(this._styleCoord,r,a,t.getWidth()/2,t.getHeight()/2),(a||t.getDom()).appendChild(i),this._api=t,this._container=a;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=r.handler,u=r.painter.getViewportRoot();Ho(u,l,!0),c.dispatch("mousemove",l)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),i=d1e(e,"position"),r=e.style;r.position!=="absolute"&&i!=="absolute"&&(r.position="relative")}var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=NOe+BOe(t,!this._firstShow,this._longHide)+f1e(o[0],o[1],!0)+("border-color:"+N1(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,i,r,o){var a=this.el;if(t==null){a.innerHTML="";return}var s="";if(_e(o)&&i.get("trigger")==="item"&&!Wb(i)&&(s=OOe(i,r,o)),_e(t))a.innerHTML=t+s;else if(t){a.innerHTML="",pe(t)||(t=[t]);for(var l=0;l<t.length;l++)F2(t[l])&&t[l].parentNode!==a&&a.appendChild(t[l]);if(s&&a.childNodes.length){var c=document.createElement("div");c.innerHTML=s,a.appendChild(c)}}},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},n.prototype.moveTo=function(t,e){if(this.el){var i=this._styleCoord;if(p1e(i,this._zr,this._container,t,e),i[0]!=null&&i[1]!=null){var r=this.el.style,o=f1e(i[0],i[1]);O(o,function(a){r[a[0]]=a[1]})}}},n.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Be.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Ae(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},n})(),m1e=VOe;var UOe=(function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),g1e(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,i,r,o){var a=this;Se(t)&&fr(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new qt({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:N_(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),O(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){a.el.style[c]=i.get(c)}),O(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){a.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=h1e(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},n.prototype.moveTo=function(t,e){var i=this.el;if(i){var r=this._styleCoord;g1e(r,this._zr,t,e),t=r[0],e=r[1];var o=i.style,a=K0(o.borderWidth||0),s=h1e(o);i.x=t+a+s.left,i.y=e+a+s.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Ae(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n})();function K0(n){return Math.max(0,n)}function h1e(n){var t=K0(n.shadowBlur||0),e=K0(n.shadowOffsetX||0),i=K0(n.shadowOffsetY||0);return{left:K0(t-e),right:K0(t+e),top:K0(t-i),bottom:K0(t+i)}}function g1e(n,t,e,i){n[0]=e,n[1]=i,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var v1e=UOe;var HOe=new Tt({shape:{x:-1,y:-1,width:2,height:2}}),jOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,i){if(!(Be.node||!i.getDom())){var r=e.getComponent("tooltip"),o=this._renderMode=mJ(r.get("renderMode"));this._tooltipContent=o==="richText"?new v1e(i):new m1e(i,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},t.prototype.render=function(e,i,r){if(!(Be.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=i,this._api=r;var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?B0(this,"_updatePosition",50,"fixRate"):f4(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,i=e.get("triggerOn");Rb("itemTooltip",this._api,Ae(function(r,o,a){i!=="none"&&(i.indexOf(r)>=0?this._tryShow(o,a):r==="leave"&&this._hide(a))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,i=this._ecModel,r=this._api,o=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(e,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,i,r,o){if(!(o.from===this.uid||Be.node||!r.getDom())){var a=y1e(o,r);this._ticket="";var s=o.dataByCoordSys,l=$Oe(o,i,r);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var u=HOe;u.x=o.x,u.y=o.y,u.update(),yt(u).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:u},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(e,i,r,o))return;var d=a7(o,i),f=d.point[0],p=d.point[1];f!=null&&p!=null&&this._tryShow({offsetX:f,offsetY:p,target:d.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(e,i,r,o){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(y1e(o,r))},t.prototype._manuallyAxisShowTip=function(e,i,r,o){var a=o.seriesIndex,s=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(!(a==null||s==null||l==null)){var c=i.getSeriesByIndex(a);if(c){var u=c.getData(),d=s7([u.getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}}},t.prototype._tryShow=function(e,i){var r=e.target,o=this._tooltipModel;if(o){this._lastX=e.offsetX,this._lastY=e.offsetY;var a=e.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,e);else if(r){var s=yt(r);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,c;p4(r,function(u){if(yt(u).dataIndex!=null)return l=u,!0;if(yt(u).tooltipConfig!=null)return c=u,!0},!0),l?this._showSeriesItemTooltip(e,l,i):c?this._showComponentItemTooltip(e,c,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},t.prototype._showOrMove=function(e,i){var r=e.get("showDelay");i=Ae(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},t.prototype._showAxisTooltip=function(e,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],s=s7([i.tooltipOption],o),l=this._renderMode,c=[],u=c4("section",{blocks:[],noHeader:!0}),d=[],f=new P_;O(e,function(w){O(w.dataByAxis,function(E){var D=r.getComponent(E.axisDim+"Axis",E.axisIndex),L=E.value;if(!(!D||L==null)){var z=Gk(L,D.axis,r,E.seriesDataIndices,E.valueLabelOpt),R=c4("section",{header:z,noHeader:!ur(z),sortBlocks:!0,blocks:[]});u.blocks.push(R),O(E.seriesDataIndices,function(H){var W=r.getSeriesByIndex(H.seriesIndex),$=H.dataIndexInside,G=W.getDataParams($);if(!(G.dataIndex<0)){G.axisDim=E.axisDim,G.axisIndex=E.axisIndex,G.axisType=E.axisType,G.axisId=E.axisId,G.axisValue=Kp(D.axis,{value:L}),G.axisValueLabel=z,G.marker=f.makeTooltipMarker("item",N1(G.color),l);var Z=HA(W.formatTooltip($,!0,null)),te=Z.frag;if(te){var re=s7([W],o).get("valueFormatter");R.blocks.push(re?fe({valueFormatter:re},te):te)}Z.text&&d.push(Z.text),c.push(G)}})}})}),u.blocks.reverse(),d.reverse();var p=i.position,v=s.get("order"),_=YA(u,f,l,v,r.get("useUTC"),s.get("textStyle"));_&&d.unshift(_);var b=l==="richText"?`

`:"<br/>",C=d.join(b);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,c)?this._updatePosition(s,p,a[0],a[1],this._tooltipContent,c):this._showTooltipContent(s,C,c,Math.random()+"",a[0],a[1],p,null,f)})},t.prototype._showSeriesItemTooltip=function(e,i,r){var o=this._ecModel,a=yt(i),s=a.seriesIndex,l=o.getSeriesByIndex(s),c=a.dataModel||l,u=a.dataIndex,d=a.dataType,f=c.getData(d),p=this._renderMode,v=e.positionDefault,_=s7([f.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),b=_.get("trigger");if(!(b!=null&&b!=="item")){var C=c.getDataParams(u,d),w=new P_;C.marker=w.makeTooltipMarker("item",N1(C.color),p);var E=HA(c.formatTooltip(u,!1,d)),D=_.get("order"),L=_.get("valueFormatter"),z=E.frag,R=z?YA(L?fe({valueFormatter:L},z):z,w,p,D,o.get("useUTC"),_.get("textStyle")):E.text,H="item_"+c.name+"_"+u;this._showOrMove(_,function(){this._showTooltipContent(_,R,C,H,e.offsetX,e.offsetY,e.position,e.target,w)}),r({type:"showTip",dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,i,r){var o=this._renderMode==="html",a=yt(i),s=a.tooltipConfig,l=s.option||{},c=l.encodeHTMLContent;if(_e(l)){var u=l;l={content:u,formatter:u},c=!0}c&&o&&l.content&&(l=ke(l),l.content=Zi(l.content));var d=[l],f=this._ecModel.getComponent(a.componentMainType,a.componentIndex);f&&d.push(f),d.push({formatter:l.content});var p=e.positionDefault,v=s7(d,this._tooltipModel,p?{position:p}:null),_=v.get("content"),b=Math.random()+"",C=new P_;this._showOrMove(v,function(){var w=ke(v.get("formatterParams")||{});this._showTooltipContent(v,_,w,b,e.offsetX,e.offsetY,e.position,i,C)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,i,r,o,a,s,l,c,u){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var d=this._tooltipContent;d.setEnterable(e.get("enterable"));var f=e.get("formatter");l=l||e.get("position");var p=i,v=this._getNearestPoint([a,s],r,e.get("trigger"),e.get("borderColor")),_=v.color;if(f)if(_e(f)){var b=e.ecModel.get("useUTC"),C=pe(r)?r[0]:r,w=C&&C.axisType&&C.axisType.indexOf("time")>=0;p=f,w&&(p=tl(C.axisValue,p,b)),p=dd(p,r,!0)}else if(De(f)){var E=Ae(function(D,L){D===this._ticket&&(d.setContent(L,u,e,_,l),this._updatePosition(e,l,a,s,d,r,c))},this);this._ticket=o,p=f(r,o,E)}else p=f;d.setContent(p,u,e,_,l),d.show(e,_),this._updatePosition(e,l,a,s,d,r,c)}},t.prototype._getNearestPoint=function(e,i,r,o){if(r==="axis"||pe(i))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!pe(i))return{color:o||i.color||i.borderColor}},t.prototype._updatePosition=function(e,i,r,o,a,s,l){var c=this._api.getWidth(),u=this._api.getHeight();i=i||e.get("position");var d=a.getSize(),f=e.get("align"),p=e.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),De(i)&&(i=i([r,o],s,a.el,v,{viewSize:[c,u],contentSize:d.slice()})),pe(i))r=fi(i[0],c),o=fi(i[1],u);else if(Se(i)){var _=i;_.width=d[0],_.height=d[1];var b=Qr(_,{width:c,height:u});r=b.x,o=b.y,f=null,p=null}else if(_e(i)&&l){var C=qOe(i,v,d,e.get("borderWidth"));r=C[0],o=C[1]}else{var C=GOe(r,o,a,c,u,f?null:20,p?null:20);r=C[0],o=C[1]}if(f&&(r-=_1e(f)?d[0]/2:f==="right"?d[0]:0),p&&(o-=_1e(p)?d[1]/2:p==="bottom"?d[1]:0),Wb(e)){var C=WOe(r,o,a,c,u);r=C[0],o=C[1]}a.moveTo(r,o)},t.prototype._updateContentNotChangedOnAxis=function(e,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===e.length;return a&&O(r,function(s,l){var c=s.dataByAxis||[],u=e[l]||{},d=u.dataByAxis||[];a=a&&c.length===d.length,a&&O(c,function(f,p){var v=d[p]||{},_=f.seriesDataIndices||[],b=v.seriesDataIndices||[];a=a&&f.value===v.value&&f.axisType===v.axisType&&f.axisId===v.axisId&&_.length===b.length,a&&O(_,function(C,w){var E=b[w];a=a&&C.seriesIndex===E.seriesIndex&&C.dataIndex===E.dataIndex}),o&&O(f.seriesDataIndices,function(C){var w=C.seriesIndex,E=i[w],D=o[w];E&&D&&D.data!==E.data&&(a=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=i,!!a},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,i){Be.node||!i.getDom()||(f4(this,"_updatePosition"),this._tooltipContent.dispose(),o7("itemTooltip",i))},t.type="tooltip",t})(Qn);function s7(n,t,e){var i=t.ecModel,r;e?(r=new $t(e,i,i),r=new $t(t.option,r,i)):r=t;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof $t&&(a=a.get("tooltip",!0)),_e(a)&&(a={formatter:a}),a&&(r=new $t(a,r,i)))}return r}function y1e(n,t){return n.dispatchAction||Ae(t.dispatchAction,t)}function GOe(n,t,e,i,r,o,a){var s=e.getSize(),l=s[0],c=s[1];return o!=null&&(n+l+o+2>i?n-=l+o:n+=o),a!=null&&(t+c+a>r?t-=c+a:t+=a),[n,t]}function WOe(n,t,e,i,r){var o=e.getSize(),a=o[0],s=o[1];return n=Math.min(n+a,i)-a,t=Math.min(t+s,r)-s,n=Math.max(n,0),t=Math.max(t,0),[n,t]}function qOe(n,t,e,i){var r=e[0],o=e[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,c=t.width,u=t.height;switch(n){case"inside":s=t.x+c/2-r/2,l=t.y+u/2-o/2;break;case"top":s=t.x+c/2-r/2,l=t.y-o-a;break;case"bottom":s=t.x+c/2-r/2,l=t.y+u+a;break;case"left":s=t.x-r-a,l=t.y+u/2-o/2;break;case"right":s=t.x+c+a,l=t.y+u/2-o/2}return[s,l]}function _1e(n){return n==="center"||n==="middle"}function $Oe(n,t,e){var i=K8(n).queryOptionMap,r=i.keys()[0];if(!(!r||r==="series")){var o=w0(t,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(a){var s=e.getViewOfComponentModel(a),l;if(s.group.traverse(function(c){var u=yt(c).tooltipConfig;if(u&&u.name===n.name)return l=c,!0}),l)return{componentMainType:r,componentIndex:a.componentIndex,el:l}}}}var b1e=jOe;function lN(n){Fi(Bb),n.registerComponentModel(l1e),n.registerComponentView(b1e),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},di),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},di)}var YOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t})(kt),ZOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,i,r){if(this.group.removeAll(),!!e.get("show")){var o=this.group,a=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),c=nt(e.get("textBaseline"),e.get("textVerticalAlign")),u=new qt({style:Zr(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),f=e.get("subtext"),p=new qt({style:Zr(s,{text:f,fill:s.getTextColor(),y:d.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=e.get("link"),_=e.get("sublink"),b=e.get("triggerEvent",!0);u.silent=!v&&!b,p.silent=!_&&!b,v&&u.on("click",function(){TA(v,"_"+e.get("target"))}),_&&p.on("click",function(){TA(_,"_"+e.get("subtarget"))}),yt(u).eventData=yt(p).eventData=b?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(u),f&&o.add(p);var C=o.getBoundingRect(),w=e.getBoxLayoutParams();w.width=C.width,w.height=C.height;var E=Qr(w,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));l||(l=e.get("left")||e.get("right"),l==="middle"&&(l="center"),l==="right"?E.x+=E.width:l==="center"&&(E.x+=E.width/2)),c||(c=e.get("top")||e.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?E.y+=E.height:c==="middle"&&(E.y+=E.height/2),c=c||"top"),o.x=E.x,o.y=E.y,o.markRedraw();var D={align:l,verticalAlign:c};u.setStyle(D),p.setStyle(D),C=o.getBoundingRect();var L=E.margin,z=e.getItemStyle(["color","opacity"]);z.fill=e.get("backgroundColor");var R=new Tt({shape:{x:C.x-L[3],y:C.y-L[0],width:C.width+L[1]+L[3],height:C.height+L[0]+L[2],r:e.get("borderRadius")},style:z,subPixelOptimize:!0,silent:!0});o.add(R)}},t.type="title",t})(Qn);function cN(n){n.registerComponentModel(YOe),n.registerComponentView(ZOe)}var XOe=function(n,t){if(t==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},QOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},t.prototype._updateSelector=function(e){var i=e.selector,r=this.ecModel;i===!0&&(i=e.selector=["all","inverse"]),pe(i)&&O(i,function(o,a){_e(o)&&(o={type:o}),i[a]=je(o,XOe(r,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var i=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var i=[],r=[];e.eachRawSeries(function(l){var c=l.name;r.push(c);var u;if(l.legendVisualProvider){var d=l.legendVisualProvider,f=d.getAllNames();e.isSeriesFiltered(l)||(r=r.concat(f)),f.length?i=i.concat(f):u=!0}else u=!0;u&&$u(l)&&i.push(l.name)}),this._availableNames=r;var o=this.get("data")||i,a=Le(),s=ge(o,function(l){return(_e(l)||Ct(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new $t(l,this,this.ecModel))},this);this._data=hn(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var i=this.option.selected,r=this.get("selectedMode");if(r==="single"){var o=this._data;O(o,function(a){i[a.get("name")]=!1})}i[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var i=this.option.selected;i.hasOwnProperty(e)||(i[e]=!0),this[i[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,i=this.option.selected;O(e,function(r){i[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,i=this.option.selected;O(e,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},t.prototype.isSelected=function(e){var i=this.option.selected;return!(i.hasOwnProperty(e)&&!i[e])&&qe(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t})(kt),l7=QOe;var Nd=lt,uN=O,qb=Pt,KOe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new qb),this.group.add(this._selectorGroup=new qb),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var a=e.get("align"),s=e.get("orient");(!a||a==="auto")&&(a=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),c=e.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=s==="horizontal"?"end":"start"),this.renderInner(a,e,i,r,l,s,c);var u=e.getBoxLayoutParams(),d={width:r.getWidth(),height:r.getHeight()},f=e.get("padding"),p=Qr(u,d,f),v=this.layoutInner(e,a,p,o,l,c),_=Qr(Ne({width:v.width,height:v.height},u),d,f);this.group.x=_.x-v.x,this.group.y=_.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Hb(v,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,i,r,o,a,s,l){var c=this.getContentGroup(),u=Le(),d=i.get("selectedMode"),f=[];r.eachRawSeries(function(p){!p.get("legendHoverLink")&&f.push(p.id)}),uN(i.getData(),function(p,v){var _=p.get("name");if(!this.newlineDisabled&&(_===""||_===`
`)){var b=new qb;b.newline=!0,c.add(b);return}var C=r.getSeriesByName(_)[0];if(!u.get(_))if(C){var w=C.getData(),E=w.getVisual("legendLineStyle")||{},D=w.getVisual("legendIcon"),L=w.getVisual("style"),z=this._createItem(C,_,v,p,i,e,E,L,D,d,o);z.on("click",Nd(x1e,_,null,o,f)).on("mouseover",Nd(dN,C.name,null,o,f)).on("mouseout",Nd(fN,C.name,null,o,f)),r.ssr&&z.eachChild(function(R){var H=yt(R);H.seriesIndex=C.seriesIndex,H.dataIndex=v,H.ssrType="legend"}),u.set(_,!0)}else r.eachRawSeries(function(R){if(!u.get(_)&&R.legendVisualProvider){var H=R.legendVisualProvider;if(!H.containName(_))return;var W=H.indexOfName(_),$=H.getItemVisual(W,"style"),G=H.getItemVisual(W,"legendIcon"),Z=qr($.fill);Z&&Z[3]===0&&(Z[3]=.2,$=fe(fe({},$),{fill:Is(Z,"rgba")}));var te=this._createItem(R,_,v,p,i,e,{},$,G,d,o);te.on("click",Nd(x1e,null,_,o,f)).on("mouseover",Nd(dN,null,_,o,f)).on("mouseout",Nd(fN,null,_,o,f)),r.ssr&&te.eachChild(function(re){var ce=yt(re);ce.seriesIndex=R.seriesIndex,ce.dataIndex=v,ce.ssrType="legend"}),u.set(_,!0)}},this)},this),a&&this._createSelector(a,i,o,s,l)},t.prototype._createSelector=function(e,i,r,o,a){var s=this.getSelectorGroup();uN(e,function(c){var u=c.type,d=new qt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect",legendId:i.id})}});s.add(d);var f=i.getModel("selectorLabel"),p=i.getModel(["emphasis","selectorLabel"]);k0(d,{normal:f,emphasis:p},{defaultText:c.title}),A0(d)})},t.prototype._createItem=function(e,i,r,o,a,s,l,c,u,d,f){var p=e.visualDrawType,v=a.get("itemWidth"),_=a.get("itemHeight"),b=a.isSelected(i),C=o.get("symbolRotate"),w=o.get("symbolKeepAspect"),E=o.get("icon");u=E||u||"roundRect";var D=JOe(u,o,l,c,p,b,f),L=new qb,z=o.getModel("textStyle");if(De(e.getLegendIcon)&&(!E||E==="inherit"))L.add(e.getLegendIcon({itemWidth:v,itemHeight:_,icon:u,iconRotate:C,itemStyle:D.itemStyle,lineStyle:D.lineStyle,symbolKeepAspect:w}));else{var R=E==="inherit"&&e.getData().getVisual("symbol")?C==="inherit"?e.getData().getVisual("symbolRotate"):C:0;L.add(eRe({itemWidth:v,itemHeight:_,icon:u,iconRotate:R,itemStyle:D.itemStyle,lineStyle:D.lineStyle,symbolKeepAspect:w}))}var H=s==="left"?v+5:-5,W=s,$=a.get("formatter"),G=i;_e($)&&$?G=$.replace("{name}",i??""):De($)&&(G=$(i));var Z=b?z.getTextColor():o.get("inactiveColor");L.add(new qt({style:Zr(z,{text:G,x:H,y:_/2,fill:Z,align:W,verticalAlign:"middle"},{inheritColor:Z})}));var te=new Tt({shape:L.getBoundingRect(),style:{fill:"transparent"}}),re=o.getModel("tooltip");return re.get("show")&&z0({el:te,componentModel:a,itemName:i,itemTooltipOption:re.option}),L.add(te),L.eachChild(function(ce){ce.silent=!0}),te.silent=!d,this.getContentGroup().add(L),A0(L),L.__legendDataIndex=r,L},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getContentGroup(),c=this.getSelectorGroup();nl(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var u=l.getBoundingRect(),d=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),a){nl("horizontal",c,e.get("selectorItemGap",!0));var f=c.getBoundingRect(),p=[-f.x,-f.y],v=e.get("selectorButtonGap",!0),_=e.getOrient().index,b=_===0?"width":"height",C=_===0?"height":"width",w=_===0?"y":"x";s==="end"?p[_]+=u[b]+v:d[_]+=f[b]+v,p[1-_]+=u[C]/2-f[C]/2,c.x=p[0],c.y=p[1],l.x=d[0],l.y=d[1];var E={x:0,y:0};return E[b]=u[b]+v+f[b],E[C]=Math.max(u[C],f[C]),E[w]=Math.min(0,f[w]+p[1-_]),E}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(Qn);function JOe(n,t,e,i,r,o,a){function s(b,C){b.lineWidth==="auto"&&(b.lineWidth=C.lineWidth>0?2:0),uN(b,function(w,E){b[E]==="inherit"&&(b[E]=C[E])})}var l=t.getModel("itemStyle"),c=l.getItemStyle(),u=n.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");c.decal=!d||d==="inherit"?i.decal:Fp(d,a),c.fill==="inherit"&&(c.fill=i[r]),c.stroke==="inherit"&&(c.stroke=i[u]),c.opacity==="inherit"&&(c.opacity=(r==="fill"?i:e).opacity),s(c,i);var f=t.getModel("lineStyle"),p=f.getLineStyle();if(s(p,e),c.fill==="auto"&&(c.fill=i.fill),c.stroke==="auto"&&(c.stroke=i.fill),p.stroke==="auto"&&(p.stroke=i.fill),!o){var v=t.get("inactiveBorderWidth"),_=c[u];c.lineWidth=v==="auto"?i.lineWidth>0&&_?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),p.stroke=f.get("inactiveColor"),p.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}function eRe(n){var t=n.icon||"roundRect",e=eo(t,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return e.setStyle(n.itemStyle),e.rotation=(n.iconRotate||0)*Math.PI/180,e.setOrigin([n.itemWidth/2,n.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function x1e(n,t,e,i){fN(n,t,e,i),e.dispatchAction({type:"legendToggleSelect",name:n??t}),dN(n,t,e,i)}function C1e(n){for(var t=n.getZr().storage.getDisplayList(),e,i=0,r=t.length;i<r&&!(e=t[i].states.emphasis);)i++;return e&&e.hoverLayer}function dN(n,t,e,i){C1e(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:i})}function fN(n,t,e,i){C1e(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:i})}var $b=KOe;function pN(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}function c7(n,t,e){var i=n==="allSelect"||n==="inverseSelect",r={},o=[];e.eachComponent({mainType:"legend",query:t},function(s){i?s[n]():s[n](t.name),S1e(s,r),o.push(s.componentIndex)});var a={};return e.eachComponent("legend",function(s){O(r,function(l,c){s[l?"select":"unSelect"](c)}),S1e(s,a)}),i?{selected:a,legendIndex:o}:{name:t.name,selected:a}}function S1e(n,t){var e=t||{};return O(n.getData(),function(i){var r=i.get("name");if(!(r===`
`||r==="")){var o=n.isSelected(r);Uo(e,r)?e[r]=e[r]&&o:e[r]=o}}),e}function w1e(n){n.registerAction("legendToggleSelect","legendselectchanged",lt(c7,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",lt(c7,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",lt(c7,"inverseSelect")),n.registerAction("legendSelect","legendselected",lt(c7,"select")),n.registerAction("legendUnSelect","legendunselected",lt(c7,"unSelect"))}function Yb(n){n.registerComponentModel(l7),n.registerComponentView($b),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,pN),n.registerSubTypeDefaulter("legend",function(){return"plain"}),w1e(n)}var tRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,i,r){var o=js(e);n.prototype.init.call(this,e,i,r),M1e(this,e,o)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),M1e(this,this.option,e)},t.type="legend.scroll",t.defaultOption=P0(l7.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t})(l7);function M1e(n,t,e){var i=n.getOrient(),r=[1,1];r[i.index]=0,Hs(t,e,{type:"box",ignoreSize:!!r})}var T1e=tRe;var E1e=Pt,mN=["width","height"],hN=["x","y"],nRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new E1e),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new E1e)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,i,r,o,a,s,l){var c=this;n.prototype.renderInner.call(this,e,i,r,o,a,s,l);var u=this._controllerGroup,d=i.get("pageIconSize",!0),f=pe(d)?d:[d,d];v("pagePrev",0);var p=i.getModel("pageTextStyle");u.add(new qt({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(_,b){var C=_+"DataIndex",w=el(i.get("pageIcons",!0)[i.getOrient().name][b],{onclick:Ae(c._pageGo,c,C,i,o)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});w.name=_,u.add(w)}},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getSelectorGroup(),c=e.getOrient().index,u=mN[c],d=hN[c],f=mN[1-c],p=hN[1-c];a&&nl("horizontal",l,e.get("selectorItemGap",!0));var v=e.get("selectorButtonGap",!0),_=l.getBoundingRect(),b=[-_.x,-_.y],C=ke(r);a&&(C[u]=r[u]-_[u]-v);var w=this._layoutContentAndController(e,o,C,c,u,f,p,d);if(a){if(s==="end")b[c]+=w[u]+v;else{var E=_[u]+v;b[c]-=E,w[d]-=E}w[u]+=_[u]+v,b[1-c]+=w[p]+w[f]/2-_[f]/2,w[f]=Math.max(w[f],_[f]),w[p]=Math.min(w[p],_[p]+b[1-c]),l.x=b[0],l.y=b[1],l.markRedraw()}return w},t.prototype._layoutContentAndController=function(e,i,r,o,a,s,l,c){var u=this.getContentGroup(),d=this._containerGroup,f=this._controllerGroup;nl(e.get("orient"),u,e.get("itemGap"),o?r.width:null,o?null:r.height),nl("horizontal",f,e.get("pageButtonItemGap",!0));var p=u.getBoundingRect(),v=f.getBoundingRect(),_=this._showController=p[a]>r[a],b=[-p.x,-p.y];i||(b[o]=u[c]);var C=[0,0],w=[-v.x,-v.y],E=nt(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(_){var D=e.get("pageButtonPosition",!0);D==="end"?w[o]+=r[a]-v[a]:C[o]+=v[a]+E}w[1-o]+=p[s]/2-v[s]/2,u.setPosition(b),d.setPosition(C),f.setPosition(w);var L={x:0,y:0};if(L[a]=_?r[a]:p[a],L[s]=Math.max(p[s],v[s]),L[l]=Math.min(0,v[l]+w[1-o]),d.__rectSize=r[a],_){var z={x:0,y:0};z[a]=Math.max(r[a]-v[a]-E,0),z[s]=L[s],d.setClipPath(new Tt({shape:z})),d.__rectSize=z[a]}else f.eachChild(function(H){H.attr({invisible:!0,silent:!0})});var R=this._getPageInfo(e);return R.pageIndex!=null&&pi(u,{x:R.contentPosition[0],y:R.contentPosition[1]},_?e:null),this._updatePageInfoView(e,R),L},t.prototype._pageGo=function(e,i,r){var o=this._getPageInfo(i)[e];o!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},t.prototype._updatePageInfoView=function(e,i){var r=this._controllerGroup;O(["pagePrev","pageNext"],function(u){var d=u+"DataIndex",f=i[d]!=null,p=r.childOfName(u);p&&(p.setStyle("fill",f?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),p.cursor=f?"pointer":"default")});var o=r.childOfName("pageText"),a=e.get("pageFormatter"),s=i.pageIndex,l=s!=null?s+1:0,c=i.pageCount;o&&a&&o.setStyle("text",_e(a)?a.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):a({current:l,total:c}))},t.prototype._getPageInfo=function(e){var i=e.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=e.getOrient().index,s=mN[a],l=hN[a],c=this._findTargetItemIndex(i),u=r.children(),d=u[c],f=u.length,p=f?1:0,v={contentPosition:[r.x,r.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return v;var _=D(d);v.contentPosition[a]=-_.s;for(var b=c+1,C=_,w=_,E=null;b<=f;++b)E=D(u[b]),(!E&&w.e>C.s+o||E&&!L(E,C.s))&&(w.i>C.i?C=w:C=E,C&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=C.i),++v.pageCount)),w=E;for(var b=c-1,C=_,w=_,E=null;b>=-1;--b)E=D(u[b]),(!E||!L(w,E.s))&&C.i<w.i&&(w=C,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=C.i),++v.pageCount,++v.pageIndex),C=E;return v;function D(z){if(z){var R=z.getBoundingRect(),H=R[l]+z[l];return{s:H,e:H+R[s],i:z.__legendDataIndex}}}function L(z,R){return z.e>=R&&z.s<=R+o}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var i,r=this.getContentGroup(),o;return r.eachChild(function(a,s){var l=a.__legendDataIndex;o==null&&l!=null&&(o=s),l===e&&(i=s)}),i??o},t.type="legend.scroll",t})($b),D1e=nRe;function gN(n){n.registerAction("legendScroll","legendscroll",function(t,e){var i=t.scrollDataIndex;i!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(r){r.setScrollDataIndex(i)})})}function I1e(n){Fi(Yb),n.registerComponentModel(T1e),n.registerComponentView(D1e),gN(n)}function vN(n){Fi(Yb),Fi(I1e)}var iRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=P0(Q0.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(Q0),L1e=iRe;var yN=Ot();function A1e(n,t,e){yN(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}function z1e(n,t){for(var e=yN(n).coordSysRecordMap,i=e.keys(),r=0;r<i.length;r++){var o=i[r],a=e.get(o),s=a.dataZoomInfoMap;if(s){var l=t.uid,c=s.get(l);c&&(s.removeKey(l),s.keys().length||k1e(e,a))}}}function k1e(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function rRe(n,t){var e={model:t,containsPoint:lt(aRe,t),dispatchAction:lt(oRe,n),dataZoomInfoMap:null,controller:null},i=e.controller=new Roe(n.getZr());return O(["pan","zoom","scrollMove"],function(r){i.on(r,function(o){var a=[];e.dataZoomInfoMap.each(function(s){if(o.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],c=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,o);!s.model.get("disabled",!0)&&c&&a.push({dataZoomId:s.model.id,start:c[0],end:c[1]})}}),a.length&&e.dispatchAction(a)})}),e}function oRe(n,t){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function aRe(n,t,e,i){return n.coordinateSystem.containPoint([e,i])}function sRe(n){var t,e="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return n.each(function(o){var a=o.model,s=a.get("disabled",!0)?!1:a.get("zoomLock",!0)?"move":!0;i[e+s]>i[e+t]&&(t=s),r=r&&a.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}function N1e(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var i=yN(e),r=i.coordSysRecordMap||(i.coordSysRecordMap=Le());r.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var a=Vb(o);O(a.infoList,function(s){var l=s.model.uid,c=r.get(l)||r.set(l,rRe(e,s.model)),u=c.dataZoomInfoMap||(c.dataZoomInfoMap=Le());u.set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),r.each(function(o){var a=o.controller,s,l=o.dataZoomInfoMap;if(l){var c=l.keys()[0];c!=null&&(s=l.get(c))}if(!s){k1e(r,o);return}var u=sRe(l);a.enable(u.controlType,u.opt),a.setPointerChecker(o.containsPoint),B0(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var cRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,i,r){if(n.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),A1e(r,e,{pan:Ae(_N.pan,this),zoom:Ae(_N.zoom,this),scrollMove:Ae(_N.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){z1e(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(Ld),_N={zoom:function(n,t,e,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var s=bN[t](null,[i.originX,i.originY],a,e,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],c=Math.max(1/i.scale,0);o[0]=(o[0]-l)*c+l,o[1]=(o[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Gs(0,o,[0,100],0,u.minSpan,u.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1])return o}},pan:P1e(function(n,t,e,i,r,o){var a=bN[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,e);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:P1e(function(n,t,e,i,r,o){var a=bN[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,e);return a.signal*(n[1]-n[0])*o.scrollDelta})};function P1e(n){return function(t,e,i,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s){var l=n(a,s,t,e,i,r);if(Gs(l,a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1])return a}}}var bN={grid:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem.getRect();return n=n||[0,0],o.dim==="x"?(a.pixel=t[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(a.pixel=t[0]-n[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,t,e,i,r){var o=e.axis,a=r.model.coordinateSystem.getRect(),s={};return n=n||[0,0],o.orient==="horizontal"?(s.pixel=t[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},O1e=cRe;function R1e(n){S4(n),n.registerComponentModel(L1e),n.registerComponentView(O1e),N1e(n)}var uRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=P0(Q0.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t})(Q0),F1e=uRe;var u7=Tt,B1e=7,dRe=1,xN=30,fRe=7,d7="horizontal",V1e="vertical",pRe=5,mRe=["line","bar","candlestick","scatter"],hRe={easing:"cubicOut",duration:100,delay:0},gRe=(function(n){de(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,i){this.api=i,this._onBrush=Ae(this._onBrush,this),this._onBrushEnd=Ae(this._onBrushEnd,this)},t.prototype.render=function(e,i,r,o){if(n.prototype.render.apply(this,arguments),B0(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){f4(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new Pt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(i),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,i=this.api,r=e.get("brushSelect"),o=r?fRe:0,a=this._findCoordRect(),s={width:i.getWidth(),height:i.getHeight()},l=this._orient===d7?{right:s.width-a.x-a.width,top:s.height-xN-B1e-o,width:a.width,height:xN}:{right:B1e,top:a.y,width:xN,height:a.height},c=js(e.option);O(["right","top","width","height"],function(d){c[d]==="ph"&&(c[d]=l[d])});var u=Qr(c,s);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===V1e&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r===d7&&!a?{scaleY:l?1:-1,scaleX:1}:r===d7&&a?{scaleY:l?1:-1,scaleX:-1}:r===V1e&&!a?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var c=e.getBoundingRect([s]);e.x=i.x-c.x,e.y=i.y-c.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new u7({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new u7({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:Ae(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var i=this._size,r=this._shadowSize||[],o=e.series,a=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&a.getDimensionInfo(s)?o.getShadowDim():e.otherDim;if(l==null)return;var c=this._shadowPolygonPts,u=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var d=a.getDataExtent(l),f=(d[1]-d[0])*.3;d=[d[0]-f,d[1]+f];var p=[0,i[1]],v=[0,i[0]],_=[[i[0],0],[0,0]],b=[],C=v[1]/(a.count()-1),w=0,E=Math.round(a.count()/i[0]),D;a.each([l],function(W,$){if(E>0&&$%E){w+=C;return}var G=W==null||isNaN(W)||W==="",Z=G?0:Ei(W,d,p,!0);G&&!D&&$?(_.push([_[_.length-1][0],0]),b.push([b[b.length-1][0],0])):!G&&D&&(_.push([w,0]),b.push([w,0])),_.push([w,Z]),b.push([w,Z]),w+=C,D=G}),c=this._shadowPolygonPts=_,u=this._shadowPolylinePts=b}this._shadowData=a,this._shadowDim=l,this._shadowSize=[i[0],i[1]];var L=this.dataZoomModel;function z(W){var $=L.getModel(W?"selectedDataBackground":"dataBackground"),G=new Pt,Z=new Q2({shape:{points:c},segmentIgnoreThreshold:1,style:$.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),te=new K2({shape:{points:u},segmentIgnoreThreshold:1,style:$.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return G.add(Z),G.add(te),G}for(var R=0;R<3;R++){var H=z(R===1);this._displayables.sliderGroup.add(H),this._displayables.dataShadowSegs.push(H)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,i=e.get("showDataShadow");if(i!==!1){var r,o=this.ecModel;return e.eachTargetAxis(function(a,s){var l=e.getAxisProxy(a,s).getTargetSeriesModels();O(l,function(c){if(!r&&!(i!==!0&&qe(mRe,c.get("type"))<0)){var u=o.getComponent(s1(a),s).axis,d=vRe(a),f,p=c.coordinateSystem;d!=null&&p.getOtherAxis&&(f=p.getOtherAxis(u).inverse),d=c.getData().mapDimension(d),r={thisAxis:u,series:c,thisDim:a,otherDim:d,otherAxisInverse:f}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,c=this.api,u=l.get("borderRadius")||0,d=l.get("brushSelect"),f=i.filler=new u7({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(f),a.add(new u7({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:u},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:dRe,fill:"rgba(0,0,0,0)"}})),O([0,1],function(E){var D=l.get("handleIcon");!Np[D]&&D.indexOf("path://")<0&&D.indexOf("image://")<0&&(D="path://"+D);var L=eo(D,-1,0,2,2,null,!0);L.attr({cursor:U1e(this._orient),draggable:!0,drift:Ae(this._onDragMove,this,E),ondragend:Ae(this._onDragEnd,this),onmouseover:Ae(this._showDataInfo,this,!0),onmouseout:Ae(this._showDataInfo,this,!1),z2:5});var z=L.getBoundingRect(),R=l.get("handleSize");this._handleHeight=fi(R,this._size[1]),this._handleWidth=z.width/z.height*this._handleHeight,L.setStyle(l.getModel("handleStyle").getItemStyle()),L.style.strokeNoScale=!0,L.rectHover=!0,L.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),A0(L);var H=l.get("handleColor");H!=null&&(L.style.fill=H),a.add(r[E]=L);var W=l.getModel("textStyle"),$=l.get("handleLabel")||{},G=$.show||!1;e.add(o[E]=new qt({silent:!0,invisible:!G,style:Zr(W,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:W.getTextColor(),font:W.getFont()}),z2:10}))},this);var p=f;if(d){var v=fi(l.get("moveHandleSize"),s[1]),_=i.moveHandle=new Tt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),b=v*.8,C=i.moveHandleIcon=eo(l.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);C.silent=!0,C.y=s[1]+v/2-.5,_.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var w=Math.min(s[1]/2,Math.max(v,10));p=i.moveZone=new Tt({invisible:!0,shape:{y:s[1]-w,height:v+w}}),p.on("mouseover",function(){c.enterEmphasis(_)}).on("mouseout",function(){c.leaveEmphasis(_)}),a.add(_),a.add(C),a.add(p)}p.attr({draggable:!0,cursor:U1e(this._orient),drift:Ae(this._onDragMove,this,"all"),ondragstart:Ae(this._showDataInfo,this,!0),ondragend:Ae(this._onDragEnd,this),onmouseover:Ae(this._showDataInfo,this,!0),onmouseout:Ae(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[Ei(e[0],[0,100],i,!0),Ei(e[1],[0,100],i,!0)]},t.prototype._updateInterval=function(e,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Gs(i,o,a,r.get("zoomLock")?"all":e,s.minSpan!=null?Ei(s.minSpan,l,a,!0):null,s.maxSpan!=null?Ei(s.maxSpan,l,a,!0):null);var c=this._range,u=this._range=$2([Ei(o[0],a,l,!0),Ei(o[1],a,l,!0)]);return!c||c[0]!==u[0]||c[1]!==u[1]},t.prototype._updateView=function(e){var i=this._displayables,r=this._handleEnds,o=$2(r.slice()),a=this._size;O([0,1],function(p){var v=i.handles[p],_=this._handleHeight;v.attr({scaleX:_/2,scaleY:_/2,x:r[p]+(p?-1:1),y:a[1]/2-_/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(s),i.moveZone.setShape(s),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=i.dataShadowSegs,c=[0,o[0],o[1],a[0]],u=0;u<l.length;u++){var d=l[u],f=d.getClipPath();f||(f=new Tt,d.setClipPath(f)),f.setShape({x:c[u],y:0,width:c[u+1]-c[u],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,d=e?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(d[0],c),this._formatLabel(d[1],c)]}}var f=$2(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(v){var _=J2(r.handles[v].parent,this.group),b=vp(v===0?"right":"left",_),C=this._handleWidth/2+pRe,w=t4([f[v]+(v===0?-C:C),this._size[1]/2],_);o[v].setStyle({x:w[0],y:w[1],verticalAlign:a===d7?"middle":b,align:a===d7?b:"center",text:s[v]})}},t.prototype._formatLabel=function(e,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");(a==null||a==="auto")&&(a=i.getPixelPrecision());var s=e==null||isNaN(e)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return De(o)?o(e,s):_e(o)?o.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var i=this.dataZoomModel.get("handleLabel")||{},r=i.show||!1,o=this.dataZoomModel.getModel(["emphasis","handleLabel"]),a=o.get("show")||!1,s=e||this._dragging?a:r,l=this._displayables,c=l.handleLabels;c[0].attr("invisible",!s),c[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(e,i,r,o){this._dragging=!0,Es(o.event);var a=this._displayables.sliderGroup.getLocalTransform(),s=t4([i,r],a,!0),l=this._updateInterval(e,s[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,a=(o[0]+o[1])/2,s=this._updateInterval("all",r[0]-a);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var i=e.offsetX,r=e.offsetY;this._brushStart=new Kt(i,r),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,!!i){i.attr("ignore",!0);var r=i.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(r.width)<5)){var a=this._getViewExtent(),s=[0,100];this._range=$2([Ei(r.x,a,s,!0),Ei(r.x+r.width,a,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Es(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,i){var r=this._displayables,o=this.dataZoomModel,a=r.brushRect;a||(a=r.brushRect=new u7({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(e,i),u=l.transformCoordToLocal(s.x,s.y),d=this._size;c[0]=Math.max(Math.min(d[0],c[0]),0),a.setShape({x:u[0],y:0,width:c[0]-u[0],height:d[1]})},t.prototype._dispatchZoomAction=function(e){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?hRe:null,start:i[0],end:i[1]})},t.prototype._findCoordRect=function(){var e,i=Vb(this.dataZoomModel).infoList;if(!e&&i.length){var r=i[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var o=this.api.getWidth(),a=this.api.getHeight();e={x:o*.2,y:a*.2,width:o*.6,height:a*.6}}return e},t.type="dataZoom.slider",t})(Ld);function vRe(n){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[n]}function U1e(n){return n==="vertical"?"ns-resize":"ew-resize"}var H1e=gRe;function j1e(n){n.registerComponentModel(F1e),n.registerComponentView(H1e),S4(n)}function CN(n){Fi(R1e),Fi(j1e)}function G1e(n,t,e){var i=vo.createCanvas(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*e,i.height=o*e,i}var yRe=(function(n){Je(t,n);function t(e,i,r){var o=n.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var a;r=r||I3,typeof e=="string"?a=G1e(e,i,r):Se(e)&&(a=e,e=a.id),o.id=e,o.dom=a;var s=a.style;return s&&(I8(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=i,o.dpr=r,o}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=G1e("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a=[],s=this.maxRepaintRectCount,l=!1,c=new Ke(0,0,0,0);function u(w){if(!(!w.isFinite()||w.isZero()))if(a.length===0){var E=new Ke(0,0,0,0);E.copy(w),a.push(E)}else{for(var D=!1,L=1/0,z=0,R=0;R<a.length;++R){var H=a[R];if(H.intersect(w)){var W=new Ke(0,0,0,0);W.copy(H),W.union(w),a[R]=W,D=!0;break}else if(l){c.copy(w),c.union(H);var $=w.width*w.height,G=H.width*H.height,Z=c.width*c.height,te=Z-$-G;te<L&&(L=te,z=R)}}if(l&&(a[z].union(w),D=!0),!D){var E=new Ke(0,0,0,0);E.copy(w),a.push(E)}l||(l=a.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var f=e[d];if(f){var p=f.shouldBePainted(r,o,!0,!0),v=f.__isRendered&&(f.__dirty&Ri||!p)?f.getPrevPaintRect():null;v&&u(v);var _=p&&(f.__dirty&Ri||!f.__isRendered)?f.getPaintRect():null;_&&u(_)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var f=i[d],p=f&&f.shouldBePainted(r,o,!0,!0);if(f&&(!p||!f.__zr)&&f.__isRendered){var v=f.getPrevPaintRect();v&&u(v)}}var b;do{b=!1;for(var d=0;d<a.length;){if(a[d].isZero()){a.splice(d,1);continue}for(var C=d+1;C<a.length;)a[d].intersect(a[C])?(b=!0,a[d].union(a[C]),a.splice(C,1)):C++;d++}}while(b);return this._paintRects=a,a},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,i){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=e+"px",a.height=i+"px"),o.width=e*r,o.height=i*r,s&&(s.width=e*r,s.height=i*r,r!==1&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,i,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;i=i||this.clearColor;var c=this.motionBlur&&!e,u=this.lastFrameAlpha,d=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/d,l/d));var p=this.domBack;function v(_,b,C,w){if(a.clearRect(_,b,C,w),i&&i!=="transparent"){var E=void 0;if(B2(i)){var D=i.global||i.__width===C&&i.__height===w;E=D&&i.__canvasGradient||Pp(a,i,{x:0,y:0,width:C,height:w}),i.__canvasGradient=E,i.__width=C,i.__height=w}else dI(i)&&(i.scaleX=i.scaleX||d,i.scaleY=i.scaleY||d,E=q_(a,i,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));a.save(),a.fillStyle=E||i,a.fillRect(_,b,C,w),a.restore()}c&&(a.save(),a.globalAlpha=u,a.drawImage(p,_,b,C,w),a.restore())}!r||c?v(0,0,s,l):r.length&&O(r,function(_){v(_.x*d,_.y*d,_.width*d,_.height*d)})},t})(Ti),Zb=yRe;var W1e=1e5,w4=314159,Xb=.01,_Re=.001;function bRe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function xRe(n,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var CRe=(function(){function n(t,e,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=i=fe({},i||{}),this.dpr=i.devicePixelRatio||I3,this._singleCanvas=o,this.root=t;var a=t.style;a&&(I8(t),t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=t,d=u.width,f=u.height;i.width!=null&&(d=i.width),i.height!=null&&(f=i.height),this.dpr=i.devicePixelRatio||1,u.width=d*this.dpr,u.height=f*this.dpr,this._width=d,this._height=f;var p=new Zb(u,this,this.dpr);p.__builtin__=!0,p.initContext(),l[w4]=p,p.zlevel=w4,s.push(w4),this._domRoot=t}else{this._width=Op(t,0,i),this._height=Op(t,1,i);var c=this._domRoot=xRe(this._width,this._height);t.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var o=0;o<r.length;o++){var a=r[o],s=this._layers[a];if(!s.__builtin__&&s.refresh){var l=o===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),!!e){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,a=0;a<e;a++){var s=t[a];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(W1e)),o||(o=i.ctx,o.save()),V0(o,s,r,a===e-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(W1e)},n.prototype.paintOne=function(t,e){xd(t,e)},n.prototype._paintList=function(t,e,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,i),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),a)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;F8(function(){l._paintList(t,e,i,r)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(w4).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,i)})},n.prototype._doPaintList=function(t,e,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&o.push(c)}for(var u=!0,d=!1,f=function(_){var b=o[_],C=b.ctx,w=a&&b.createRepaintRects(t,e,p._width,p._height),E=i?b.__startIndex:b.__drawIndex,D=!i&&b.incremental&&Date.now,L=D&&Date.now(),z=b.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,z,w);else if(E===b.__startIndex){var R=t[E];(!R.incremental||!R.notClear||i)&&b.clear(!1,z,w)}E===-1&&(console.error("For some unknown reason. drawIndex is -1"),E=b.__startIndex);var H,W=function(te){var re={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(H=E;H<b.__endIndex;H++){var ce=t[H];if(ce.__inHover&&(d=!0),r._doPaintEl(ce,b,a,te,re,H===b.__endIndex-1),D){var ne=Date.now()-L;if(ne>15)break}}re.prevElClipPaths&&C.restore()};if(w)if(w.length===0)H=b.__endIndex;else for(var $=p.dpr,G=0;G<w.length;++G){var Z=w[G];C.save(),C.beginPath(),C.rect(Z.x*$,Z.y*$,Z.width*$,Z.height*$),C.clip(),W(Z),C.restore()}else C.save(),W(),C.restore();b.__drawIndex=H,b.__drawIndex<b.__endIndex&&(u=!1)},p=this,v=0;v<o.length;v++)f(v);return Be.wxa&&O(this._layers,function(_){_&&_.ctx&&_.ctx.draw&&_.ctx.draw()}),{finished:u,needsRefreshHover:d}},n.prototype._doPaintEl=function(t,e,i,r,o,a){var s=e.ctx;if(i){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(V0(s,t,o,a),t.setPrevPaintRect(l))}else V0(s,t,o,a)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=w4);var i=this._layers[t];return i||(i=new Zb("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]?je(i,this._layerConfig[t],!0):this._layerConfig[t-Xb]&&je(i,this._layerConfig[t-Xb],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},n.prototype.insertLayer=function(t,e){var i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(!i[t]&&bRe(e)){if(o>0&&t>r[0]){for(l=0;l<o-1&&!(r[l]<t&&r[l+1]>t);l++);s=i[r[l]]}if(r.splice(l+1,0,t),i[t]=e,!e.virtual)if(s){var c=s.dom;c.nextSibling?a.insertBefore(e.dom,c.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.painter||(e.painter=this)}},n.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];t.call(e,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},n.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(d,f){d.__dirty=d.__used=!1});function e(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this._singleCanvas)for(var i=1;i<t.length;i++){var r=t[i];if(r.zlevel!==t[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var o=null,a=0,s,l;for(l=0;l<t.length;l++){var r=t[l],c=r.zlevel,u=void 0;s!==c&&(s=c,a=0),r.incremental?(u=this.getLayer(c+_Re,this._needsManuallyCompositing),u.incremental=!0,a=1):u=this.getLayer(c+(a>0?Xb:0),this._needsManuallyCompositing),u.__builtin__||h3("ZLevel "+c+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,e(l),o=u),r.__dirty&Ri&&!r.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}e(l),this.eachBuiltinLayer(function(d,f){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,O(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?je(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===t||o===t+Xb){var a=this._layers[o];je(a,i[t],!0)}}}},n.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(qe(i,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(t!=null&&(r.width=t),e!=null&&(r.height=e),t=Op(o,0,r),e=Op(o,1,r),i.style.display="",this._width!==t||e!==this._height){i.style.width=t+"px",i.style.height=e+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(w4).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[w4].dom;var e=new Zb("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(d){d.__builtin__?i.drawImage(d.dom,0,0,r,o):d.renderToCanvas&&(i.save(),d.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++){var u=s[l];V0(i,u,a,l===c-1)}return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n})(),q1e=CRe;function SN(n){n.registerPainter("canvas",q1e)}Fi([cN,lN,$k,vN,CN,rN,dk,gk,SN]);function SRe(n){return()=>n.loadConfig()}var $1e={providers:[QX,BM(eX),KX(),PY({timeOut:1e4,positionClass:"toast-top-right",preventDuplicates:!0}),Sm(lM),{provide:c9,useClass:JX,multi:!0},{provide:Tf,useFactory:SRe,deps:[Ul],multi:!0},{provide:ns,useValue:"en-IN"},SD({echarts:ik})]};function wRe(n,t){if(n&1&&(At(0),m(1,"div",3)(2,"div",4)(3,"span",5),y(4),h(),m(5,"span",6),y(6),Y(7,"number"),h()(),m(8,"span",7),y(9),Y(10,"number"),m(11,"span",8),y(12),Y(13,"percent"),h()()(),zt()),n&2){let e=t.$implicit,i=M(2);g(4),q(" ",e.symbol," "),g(),x("ngClass",i.color(e.change)),g(),q(" ",J(7,13,e.lastTradedPrice,"1.2-2")," "),g(2),Te("text-green-600",e.change>0)("text-red-600",e.change<0),g(),q(" ",J(10,16,e.change,"1.2-2")," "),g(2),Te("bg-green-50",e.percentChange>0)("bg-red-50",e.percentChange<0),g(),q(" ",J(13,19,e.percentChange/100,"1.2-2")," ")}}function MRe(n,t){if(n&1&&(m(0,"div",1),A(1,wRe,14,22,"ng-container",2),h()),n&2){let e=M();g(),x("ngForOf",e.quotes)}}var Y1e=(()=>{let t=class t{constructor(){this.quotes=[]}color(i){return i>0?"text-green-600":i<0?"text-red-600":""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ie({type:t,selectors:[["app-index-ticker"]],inputs:{quotes:"quotes",showTickers:"showTickers"},decls:1,vars:1,consts:[["class","index-ticker flex items-center gap-3 text-sm whitespace-nowrap",4,"ngIf"],[1,"index-ticker","flex","items-center","gap-3","text-sm","whitespace-nowrap"],[4,"ngFor","ngForOf"],[1,"ticker-item","flex","flex-col","items-start"],[1,"ticker-symbol","flex","items-center","gap-2","font-normal"],[1,"symbol","text-gray-700","uppercase"],[1,"price",3,"ngClass"],[1,"font-normal","text-gray-600"],[1,"text-sm","rounded-md","px-1","py-[1px]"]],template:function(r,o){r&1&&A(0,MRe,2,1,"div",0),r&2&&x("ngIf",o.showTickers)},dependencies:[Oe,ze,ye,ln,qn],encapsulation:2});let n=t;return n})();var TRe=["header"],ERe=["menuTrigger"],DRe=["profileTrigger"],IRe=(n,t,e)=>({"bg-green-100 text-green-600":n,"bg-red-100 text-red-600":t,"bg-yellow-100 text-yellow-600":e});function LRe(n,t){n&1&&F(0,"div",51)}function ARe(n,t){if(n&1){let e=ee();m(0,"a",58),k("click",function(){N(e);let r=M(2);return P(r.closeMoreMenu())}),m(1,"span"),y(2,"Administration"),h()()}}function zRe(n,t){if(n&1){let e=ee();m(0,"div",45)(1,"a",46),k("click",function(){N(e);let r=M();return P(r.closeMoreMenu())}),y(2," IPO "),h(),m(3,"a",47),k("click",function(){N(e);let r=M();return P(r.closeMoreMenu())}),m(4,"span"),y(5,"Mutual Funds"),h()(),m(6,"a",48),k("click",function(){N(e);let r=M();return P(r.closeMoreMenu())}),y(7," Algo "),h(),m(8,"a",49),k("click",function(){N(e);let r=M();return P(r.closeMoreMenu())}),m(9,"span"),y(10,"Algo"),h()(),m(11,"a",50),k("click",function(){N(e);let r=M();return P(r.closeMoreMenu())}),m(12,"span"),y(13,"IPO"),h()(),F(14,"div",51),m(15,"a",52),k("click",function(){N(e);let r=M();return P(r.closeMoreMenu())}),m(16,"span"),y(17,"Funds"),h()(),m(18,"a",53),k("click",function(){N(e);let r=M();return P(r.closeMoreMenu())}),m(19,"span"),y(20,"Historical Data"),h()(),m(21,"a",54),k("click",function(){N(e);let r=M();return P(r.logout())}),F(22,"fa-icon",55),m(23,"span"),y(24,"Logout"),h()(),A(25,LRe,1,0,"div",56)(26,ARe,3,0,"a",57),h()}if(n&2){let e=M();g(22),x("icon",e.faSignOutAlt),g(3),x("ngIf",e.isAdmin()),g(),x("ngIf",e.isAdmin())}}function kRe(n,t){if(n&1&&(m(0,"a",59),F(1,"fa-icon",15),h()),n&2){let e=M();x("matTooltip","Administration"),g(),x("icon",e.faGear)}}var Z1e=(()=>{let t=class t{constructor(i,r,o,a,s,l,c,u){this.authUserService=i,this.ws=r,this.toastrService=o,this.router=a,this.userDataStateService=s,this.dialog=l,this.document=c,this.overlay=u,this.instrumentTokens=[],this.indexTickers=[{symbol:"NIFTY 50",instrumentToken:256265,lastTradedPrice:0,change:0,percentChange:0},{symbol:"SENSEX",instrumentToken:265,lastTradedPrice:0,change:0,percentChange:0}],this.showTickers=!0,this.lastFeedTimestamp=0,this.lastFeedChangedTimestamp=0,this.feedStatus="idle",this.heightCheckAttempts=0,this.maxHeightCheckAttempts=20,this.showMoreMenu=!1,this.faSignOutAlt=Zj,this.faChevronDown=rG,this.faUserTie=kj,this.faCircleExclamation=Wj,this.faCircle=Gj,this.faHome=eG,this.faCartPlus=A5,this.faWallet=X6,this.faChartLine=hg,this.faListCheck=J6,this.faStar=sG,this.faGear=Yj,this.instrumentTokens=this.indexTickers.map(d=>d.instrumentToken)}checkFeedStatus(){let i=Date.now(),r=5*1e3,o=60*1e3;if(this.lastFeedTimestamp===0){this.feedStatus="disconnected";return}let a=i-this.lastFeedTimestamp,s=i-this.lastFeedChangedTimestamp;a>o?this.feedStatus="disconnected":s>r?this.feedStatus="idle":this.feedStatus="live"}isAdmin(){return this.authUserService.isAdmin()}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.indexTickers&&(this.indexTickers=i.indexTickers)}setCachedData(){this.userDataStateService.setState({indexTickers:this.indexTickers})}ngOnInit(){this.getCachedData(),this.subscribeToWebSocket(),this.statusCheckInterval=setInterval(()=>{this.checkFeedStatus()},1e4)}ngAfterViewInit(){this.updateHeaderHeight(),this.startPeriodicHeightCheck()}startPeriodicHeightCheck(){this.heightCheckAttempts=0,this.heightCheckInterval=setInterval(()=>{this.heightCheckAttempts++,this.updateHeaderHeight(),this.heightCheckAttempts>=this.maxHeightCheckAttempts&&clearInterval(this.heightCheckInterval)},100)}updateHeaderHeight(){if(this.headerElement?.nativeElement){let i=this.headerElement.nativeElement.offsetHeight;if(i===0)return;let r=parseInt(getComputedStyle(this.document.documentElement).getPropertyValue("--header-height")||"43");Math.abs(i-r)>1&&(this.document.documentElement.style.setProperty("--header-height",`${i}px`),console.log(`Header height updated: ${i}px (attempt ${this.heightCheckAttempts})`))}}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.statusCheckInterval&&clearInterval(this.statusCheckInterval),this.headerHeightUpdateTimeout&&clearTimeout(this.headerHeightUpdateTimeout),this.heightCheckInterval&&clearInterval(this.heightCheckInterval),this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe(),this.orderSub?.unsubscribe()}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(et(i=>i),Nt(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(i=>{this.updateIndexTickerOnUpdate(i)}),this.orderSub=this.ws.orderUpdates().subscribe(i=>{console.log("Received order update:",i),this.playOrderNotificationSound();let r=this.toastrService.info(`Account ID:${i.user_id}. ${i.transaction_type} order with
        quantity ${i.quantity} and price ${i.price} is ${i.status}. Order ID:${i.order_id}.`,"Order Update",{timeOut:0,extendedTimeOut:0,closeButton:!0,tapToDismiss:!0}),o=this.router.url;o.includes("/holdings")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/holdings"])}):o.includes("/orders")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/orders"])}):o.includes("/positions")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/positions"])}):console.log("No matching route found for refresh."),r.onTap.subscribe(()=>{})})):console.log("No instrument tokens available for web socket subscription.")}updateIndexTickerOnUpdate(i){i.forEach(r=>{this.lastFeedTimestamp=Date.now(),this.indexTickers.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{this.showTickers=!0,a&&a.lastTradedPrice!==r.lastTradedPrice&&(this.lastFeedChangedTimestamp=Date.now(),this.feedStatus="live",a.lastTradedPrice=r.lastTradedPrice,a.change=r.lastTradedPrice-r.closePrice,a.percentChange=r.change)})}),this.setCachedData()}closeMoreMenu(){this.showMoreMenu=!1}onDocumentClick(i){let r=this.menuTrigger?.nativeElement,o=r?.nextElementSibling;!r||!o||this.showMoreMenu&&!r.contains(i.target)&&!o.contains(i.target)&&this.closeMoreMenu()}toggleMoreMenu(){this.showMoreMenu=!this.showMoreMenu}logout(){this.closeMoreMenu(),this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"logged-out"}})}playOrderNotificationSound(){try{let i=new window.AudioContext||new window.webkitAudioContext,r=i.createOscillator(),o=i.createGain();r.connect(o),o.connect(i.destination),r.frequency.value=1200,r.type="sine",o.gain.setValueAtTime(.3,i.currentTime),o.gain.exponentialRampToValueAtTime(.01,i.currentTime+.15),r.start(i.currentTime),r.stop(i.currentTime+.2)}catch(i){console.error("Error playing notification sound:",i)}}};t.\u0275fac=function(r){return new(r||t)(V(ar),V(sr),V(tt),V(un),V(Tn),V(Zn),V(Me),V(Vr))},t.\u0275cmp=ie({type:t,selectors:[["app-header"]],viewQuery:function(r,o){if(r&1&&(On(TRe,7),On(ERe,5),On(DRe,5)),r&2){let a;an(a=sn())&&(o.headerElement=a.first),an(a=sn())&&(o.menuTrigger=a.first),an(a=sn())&&(o.profileTrigger=a.first)}},hostBindings:function(r,o){r&1&&k("click",function(s){return o.onDocumentClick(s)},xf)},decls:77,vars:35,consts:[["header",""],["menuTrigger",""],[1,"header","fixed","top-0","left-0","w-full","z-50","bg-white","shadow-sm","border-b","border-gray-200"],[1,"mx-auto","px-4","py-1"],[1,"flex","items-center","justify-between","gap-6"],[1,"flex","items-center","gap-6","flex-1","min-w-0"],[1,"flex","items-center","gap-2","flex-shrink-0"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","width","40","height","40",1,"w-9","h-9","rounded-lg","object-contain"],[1,"hidden","md:flex","flex-col","justify-center"],[1,"text-md","font-medium","text-gray-800","leading-tight"],[1,"text-sm","text-gray-500","leading-tight"],[1,"flex-1","min-w-0","overflow-x-auto","scrollbar-hide"],[3,"quotes","showTickers"],[1,"flex","items-center","gap-1"],["routerLink","/home","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],[1,"text-base",3,"icon"],[1,"hidden","lg:inline"],["routerLink","/holdings","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/positions","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/orders","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/mf","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],[1,"relative"],[1,"nav-link","flex","items-center","gap-1","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],[1,"md:inline","hidden"],[1,"text-xs","transition-transform","duration-200",3,"icon"],["class","absolute right-0 mt-2 w-56 bg-white shadow-xl rounded-lg border border-gray-200 py-2 z-50",4,"ngIf"],["routerLink","/basket-order","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"],["routerLink","/profile","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"],["routerLink","/administration","routerLinkActive","active-link","matTooltipPosition","below","class","nav-link hidden md:flex items-center gap-2 pb-2 px-4 py-2 text-sm text-gray-700 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-all",3,"matTooltip",4,"ngIf"],["matTooltipPosition","below",1,"flex","items-center","gap-1.5","px-2","py-1","rounded-lg","transition-all","cursor-default","ml-1",3,"ngClass","matTooltip"],[1,"text-xs",3,"icon"],[1,"hidden","xl:inline","text-xs"],["matTooltipPosition","below",1,"hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-red-600","rounded-lg","hover:bg-red-50","transition-all","ml-1",3,"click","matTooltip"],[1,"hidden","xl:inline"],[1,"md:hidden","fixed","bottom-0","left-0","w-full","bg-white","shadow-lg","border-t","border-gray-200","z-50","pb-[env(safe-area-inset-bottom)]"],[1,"flex","items-center","justify-between","px-0","py-0"],["routerLink","/home","routerLinkActive","!bg-blue-50 !text-blue-600 ",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],[1,"text-lg",3,"icon"],[1,"text-xs"],["routerLink","/watchlist","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/holdings","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/positions","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/orders","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/basket-order","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/profile","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],[1,"absolute","right-0","mt-2","w-56","bg-white","shadow-xl","rounded-lg","border","border-gray-200","py-2","z-50"],["routerLink","/ipos","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],["routerLink","/mf","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/algo","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],["routerLink","/algo","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/ipos","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],[1,"md:hidden","border-t","border-gray-200","my-2"],["routerLink","/funds","routerLinkActive","active-link",1,"nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/historical-data","routerLinkActive","active-link",1,"nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],[1,"md:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-red-600","hover:bg-red-50","transition-colors","cursor-pointer",3,"click"],[1,"w-4",3,"icon"],["class","md:hidden border-t border-gray-200 my-2",4,"ngIf"],["routerLink","/administration","routerLinkActive","active-link","class","md:hidden nav-link flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",3,"click",4,"ngIf"],["routerLink","/administration","routerLinkActive","active-link",1,"md:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/administration","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"]],template:function(r,o){if(r&1){let a=ee();m(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),F(6,"img",7),m(7,"div",8)(8,"span",9),y(9,"FamVest"),h(),m(10,"span",10),y(11,"Portfolio Manager"),h()()(),m(12,"div",11),F(13,"app-index-ticker",12),h()(),m(14,"nav",13)(15,"a",14),F(16,"fa-icon",15),m(17,"span",16),y(18,"Dashboard"),h()(),m(19,"a",17),y(20," Holdings "),h(),m(21,"a",18),y(22," Positions "),h(),m(23,"a",19),y(24," Orders "),h(),m(25,"a",20),y(26," Mutual Funds "),h(),m(27,"div",21)(28,"button",22,1),k("click",function(){return N(a),P(o.toggleMoreMenu())}),m(30,"span",23),y(31,"More"),h(),F(32,"fa-icon",24),h(),A(33,zRe,27,3,"div",25),h(),m(34,"a",26),F(35,"fa-icon",15),h(),m(36,"a",27),F(37,"fa-icon",15),h(),A(38,kRe,2,2,"a",28),m(39,"div",29),F(40,"fa-icon",30),m(41,"span",31),y(42),h()(),m(43,"button",32),k("click",function(){return N(a),P(o.logout())}),F(44,"fa-icon",15),m(45,"span",33),y(46,"Logout"),h()()()()()(),m(47,"div",34)(48,"div",35)(49,"a",36),F(50,"fa-icon",37),m(51,"span",38),y(52,"Dashboard"),h()(),m(53,"a",39),F(54,"fa-icon",37),m(55,"span",38),y(56,"Watchlist"),h()(),m(57,"a",40),F(58,"fa-icon",37),m(59,"span",38),y(60,"Holdings"),h()(),m(61,"a",41),F(62,"fa-icon",37),m(63,"span",38),y(64,"Positions"),h()(),m(65,"a",42),F(66,"fa-icon",37),m(67,"span",38),y(68,"Orders"),h()(),m(69,"a",43),F(70,"fa-icon",37),m(71,"span",38),y(72,"Basket"),h()(),m(73,"a",44),F(74,"fa-icon",37),m(75,"span",38),y(76,"Profile"),h()()()()}r&2&&(g(13),x("quotes",o.indexTickers)("showTickers",o.showTickers),g(3),x("icon",o.faHome),g(12),Te("bg-blue-50",o.showMoreMenu)("text-blue-600",o.showMoreMenu),g(4),Te("rotate-180",o.showMoreMenu),x("icon",o.faChevronDown),g(),x("ngIf",o.showMoreMenu),g(),x("matTooltip","Basket Order"),g(),x("icon",o.faCartPlus),g(),x("matTooltip","Add Trading Accounts, Manage Preferences and Update Profile"),g(),x("icon",o.faUserTie),g(),x("ngIf",o.isAdmin()),g(),x("ngClass",wn(31,IRe,o.feedStatus==="live",o.feedStatus==="disconnected",o.feedStatus==="idle"))("matTooltip",o.feedStatus==="live"?"Market is Open":o.feedStatus==="idle"?"Market is Closed":"Market Feed Disconnected"),g(),Te("animate-pulse",o.feedStatus==="live"),x("icon",o.feedStatus==="live"?o.faCircle:o.faCircleExclamation),g(2),q(" ",o.feedStatus==="live"?"Open":o.feedStatus==="idle"?"Closed":"Offline"," "),g(),x("matTooltip","Logout"),g(),x("icon",o.faSignOutAlt),g(6),x("icon",o.faHome),g(4),x("icon",o.faStar),g(4),x("icon",o.faWallet),g(4),x("icon",o.faChartLine),g(4),x("icon",o.faListCheck),g(4),x("icon",o.faCartPlus),g(4),x("icon",o.faUserTie))},dependencies:[Fc,Lo,FM,kr,We,Oe,ye,Y1e,ot,Ht],encapsulation:2});let n=t;return n})();function NRe(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var X1e=["en-IN",[["a","p"],["am","pm"]],[["am","pm"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[0,0],["dd/MM/yy","dd-MMM-y","d MMMM y","EEEE, d MMMM, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##,##0.###","#,##,##0%","\xA4#,##,##0.00","#E0"],"INR","\u20B9","Indian Rupee",{JPY:["JP\xA5","\xA5"]},"ltr",NRe];var PRe=(n,t)=>({"w-[75%]":n,"w-full":t}),ORe=(n,t)=>({"w-[25%]":n,"w-0":t});function RRe(n,t){n&1&&F(0,"app-header")}function FRe(n,t){if(n&1){let e=ee();m(0,"div",5)(1,"app-watchlist",6),k("collapseChanged",function(r){N(e);let o=M();return P(o.onCollapseChanged(r))}),h()()}if(n&2){let e=M();x("ngClass",gt(1,ORe,!e.isWatchlistCollapsed,e.isWatchlistCollapsed))}}dV(X1e,"en-IN");var Q1e=(()=>{let t=class t{constructor(i,r,o,a,s,l){this.router=i,this.activatedRoute=r,this.titleService=o,this.authUserService=a,this.userPreferencesService=s,this.userDataStateService=l,this.isAuthenticated=!1,this.isWatchlistCollapsed=!1,this.isWatchlistRoute=!1,this.themeClass="from-gray-50",this.themeMap={BLUE:"from-blue-50",PINK:"from-pink-50",GREEN:"from-green-50",ORANGE:"from-orange-50",YELLOW:"from-yellow-50",GRAY:"from-gray-50"},this.authUserService.authStatus$.subscribe(c=>{this.isAuthenticated=c}),this.router.events.pipe(et(c=>c instanceof po),Qe(()=>this.activatedRoute),Qe(c=>{for(;c.firstChild;)c=c.firstChild;return c}),Kn(c=>c.data)).subscribe(c=>{this.isWatchlistRoute=this.router.url.includes("/watchlist"),this.titleService.setTitle(c.title||"FamVest App")})}onCollapseChanged(i){this.isWatchlistCollapsed=i}getCachedData(){let i=this.userDataStateService.getState();i&&Object.keys(i).length>0&&i.themeClass&&(this.themeClass=i.themeClass)}setCachedData(){this.userDataStateService.setState({themeClass:this.themeClass})}ngOnInit(){this.getCachedData(),this.isAuthenticated&&this.userPreferencesService.getUserPreferences().subscribe(i=>{let o=(i.data||[]).find(a=>a.preference==="THEME_COLOR");o&&o.value&&(this.themeClass=this.themeMap[o.value]||this.themeClass,this.setCachedData())})}};t.\u0275fac=function(r){return new(r||t)(V(un),V(Nr),V(u9),V(ar),V(Ev),V(Tn))},t.\u0275cmp=ie({type:t,selectors:[["app-root"]],decls:6,vars:7,consts:[[4,"ngIf"],[1,"bg-gradient-to-b","to-white","min-h-screen","w-full",3,"ngClass"],[1,"flex","w-full","min-h-screen","text-sm"],["class","transition-all duration-300 overflow-hidden",3,"ngClass",4,"ngIf"],[1,"transition-all","duration-300",3,"ngClass"],[1,"transition-all","duration-300","overflow-hidden",3,"ngClass"],[3,"collapseChanged"]],template:function(r,o){r&1&&(A(0,RRe,1,0,"app-header",0),m(1,"div",1)(2,"div",2),A(3,FRe,2,4,"div",3),m(4,"div",4),F(5,"router-outlet"),h()()()),r&2&&(x("ngIf",o.isAuthenticated),g(),x("ngClass",o.themeClass),g(2),x("ngIf",o.isAuthenticated&&!o.isWatchlistRoute),g(),x("ngClass",gt(4,PRe,!o.isWatchlistCollapsed&&o.isAuthenticated&&!o.isWatchlistRoute,o.isWatchlistCollapsed||!o.isAuthenticated||o.isWatchlistRoute)))},dependencies:[d5,Fc,Z1e,We,Oe,ye,Aj,o0,ui,xv],encapsulation:2});let n=t;return n})();window.global=window;tM(Q1e,$1e).catch(n=>console.error(n));
