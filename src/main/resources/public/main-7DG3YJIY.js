import{a as P,b as ie,c as au,d as ue,f as Ky,g as si}from"./chunk-GAL4ENT6.js";var _D=ue((zSe,pg)=>{"use strict";global.crypto&&global.crypto.getRandomValues?pg.exports.randomBytes=function(n){var i=new Uint8Array(n);return global.crypto.getRandomValues(i),i}:pg.exports.randomBytes=function(n){for(var i=new Array(n),e=0;e<n;e++)i[e]=Math.floor(Math.random()*256);return i}});var is=ue((LSe,xD)=>{"use strict";var yK=_D(),bD="abcdefghijklmnopqrstuvwxyz012345";xD.exports={string:function(n){for(var i=bD.length,e=yK.randomBytes(n),t=[],r=0;r<n;r++)t.push(bD.substr(e[r]%i,1));return t.join("")},number:function(n){return Math.floor(Math.random()*n)},numberString:function(n){var i=(""+(n-1)).length,e=new Array(i+1).join("0");return(e+this.number(n)).slice(-i)}}});var Or=ue((kSe,Wd)=>{"use strict";var _K=is(),n3={},mg=!1,CD=global.chrome&&global.chrome.app&&global.chrome.app.runtime;Wd.exports={attachEvent:function(n,i){typeof global.addEventListener<"u"?global.addEventListener(n,i,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+n,i),global.attachEvent("on"+n,i))},detachEvent:function(n,i){typeof global.addEventListener<"u"?global.removeEventListener(n,i,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+n,i),global.detachEvent("on"+n,i))},unloadAdd:function(n){if(CD)return null;var i=_K.string(8);return n3[i]=n,mg&&setTimeout(this.triggerUnloadCallbacks,0),i},unloadDel:function(n){n in n3&&delete n3[n]},triggerUnloadCallbacks:function(){for(var n in n3)n3[n](),delete n3[n]}};var bK=function(){mg||(mg=!0,Wd.exports.triggerUnloadCallbacks())};CD||Wd.exports.attachEvent("unload",bK)});var SD=ue((ASe,wD)=>{"use strict";wD.exports=function(i,e){if(e=e.split(":")[0],i=+i,!i)return!1;switch(e){case"http":case"ws":return i!==80;case"https":case"wss":return i!==443;case"ftp":return i!==21;case"gopher":return i!==70;case"file":return!1}return i!==0}});var TD=ue(hg=>{"use strict";var xK=Object.prototype.hasOwnProperty,CK;function MD(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch{return null}}function ED(n){try{return encodeURIComponent(n)}catch{return null}}function wK(n){for(var i=/([^=?#&]+)=?([^&]*)/g,e={},t;t=i.exec(n);){var r=MD(t[1]),o=MD(t[2]);r===null||o===null||r in e||(e[r]=o)}return e}function SK(n,i){i=i||"";var e=[],t,r;typeof i!="string"&&(i="?");for(r in n)if(xK.call(n,r)){if(t=n[r],!t&&(t===null||t===CK||isNaN(t))&&(t=""),r=ED(r),t=ED(t),r===null||t===null)continue;e.push(r+"="+t)}return e.length?i+e.join("&"):""}hg.stringify=SK;hg.parse=wK});var yg=ue((PSe,ND)=>{"use strict";var DD=SD(),Gd=TD(),MK=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,zD=/[\n\r\t]/g,EK=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,LD=/:\d+$/,TK=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,IK=/^[a-zA-Z]:/;function vg(n){return(n||"").toString().replace(MK,"")}var gg=[["#","hash"],["?","query"],function(i,e){return $2(e.protocol)?i.replace(/\\/g,"/"):i},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ID={hash:1,query:1};function kD(n){var i;typeof window<"u"?i=window:typeof global<"u"?i=global:typeof self<"u"?i=self:i={};var e=i.location||{};n=n||e;var t={},r=typeof n,o;if(n.protocol==="blob:")t=new W2(unescape(n.pathname),{});else if(r==="string"){t=new W2(n,{});for(o in ID)delete t[o]}else if(r==="object"){for(o in n)o in ID||(t[o]=n[o]);t.slashes===void 0&&(t.slashes=EK.test(n.href))}return t}function $2(n){return n==="file:"||n==="ftp:"||n==="http:"||n==="https:"||n==="ws:"||n==="wss:"}function AD(n,i){n=vg(n),n=n.replace(zD,""),i=i||{};var e=TK.exec(n),t=e[1]?e[1].toLowerCase():"",r=!!e[2],o=!!e[3],a=0,s;return r?o?(s=e[2]+e[3]+e[4],a=e[2].length+e[3].length):(s=e[2]+e[4],a=e[2].length):o?(s=e[3]+e[4],a=e[3].length):s=e[4],t==="file:"?a>=2&&(s=s.slice(2)):$2(t)?s=e[4]:t?r&&(s=s.slice(2)):a>=2&&$2(i.protocol)&&(s=e[4]),{protocol:t,slashes:r||$2(t),slashesCount:a,rest:s}}function DK(n,i){if(n==="")return i;for(var e=(i||"/").split("/").slice(0,-1).concat(n.split("/")),t=e.length,r=e[t-1],o=!1,a=0;t--;)e[t]==="."?e.splice(t,1):e[t]===".."?(e.splice(t,1),a++):a&&(t===0&&(o=!0),e.splice(t,1),a--);return o&&e.unshift(""),(r==="."||r==="..")&&e.push(""),e.join("/")}function W2(n,i,e){if(n=vg(n),n=n.replace(zD,""),!(this instanceof W2))return new W2(n,i,e);var t,r,o,a,s,u,m=gg.slice(),_=typeof i,y=this,E=0;for(_!=="object"&&_!=="string"&&(e=i,i=null),e&&typeof e!="function"&&(e=Gd.parse),i=kD(i),r=AD(n||"",i),t=!r.protocol&&!r.slashes,y.slashes=r.slashes||t&&i.slashes,y.protocol=r.protocol||i.protocol||"",n=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||IK.test(n))||!r.slashes&&(r.protocol||r.slashesCount<2||!$2(y.protocol)))&&(m[3]=[/(.*)/,"pathname"]);E<m.length;E++){if(a=m[E],typeof a=="function"){n=a(n,y);continue}o=a[0],u=a[1],o!==o?y[u]=n:typeof o=="string"?(s=o==="@"?n.lastIndexOf(o):n.indexOf(o),~s&&(typeof a[2]=="number"?(y[u]=n.slice(0,s),n=n.slice(s+a[2])):(y[u]=n.slice(s),n=n.slice(0,s)))):(s=o.exec(n))&&(y[u]=s[1],n=n.slice(0,s.index)),y[u]=y[u]||t&&a[3]&&i[u]||"",a[4]&&(y[u]=y[u].toLowerCase())}e&&(y.query=e(y.query)),t&&i.slashes&&y.pathname.charAt(0)!=="/"&&(y.pathname!==""||i.pathname!=="")&&(y.pathname=DK(y.pathname,i.pathname)),y.pathname.charAt(0)!=="/"&&$2(y.protocol)&&(y.pathname="/"+y.pathname),DD(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(s=y.auth.indexOf(":"),~s?(y.username=y.auth.slice(0,s),y.username=encodeURIComponent(decodeURIComponent(y.username)),y.password=y.auth.slice(s+1),y.password=encodeURIComponent(decodeURIComponent(y.password))):y.username=encodeURIComponent(decodeURIComponent(y.auth)),y.auth=y.password?y.username+":"+y.password:y.username),y.origin=y.protocol!=="file:"&&$2(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString()}function zK(n,i,e){var t=this;switch(n){case"query":typeof i=="string"&&i.length&&(i=(e||Gd.parse)(i)),t[n]=i;break;case"port":t[n]=i,DD(i,t.protocol)?i&&(t.host=t.hostname+":"+i):(t.host=t.hostname,t[n]="");break;case"hostname":t[n]=i,t.port&&(i+=":"+t.port),t.host=i;break;case"host":t[n]=i,LD.test(i)?(i=i.split(":"),t.port=i.pop(),t.hostname=i.join(":")):(t.hostname=i,t.port="");break;case"protocol":t.protocol=i.toLowerCase(),t.slashes=!e;break;case"pathname":case"hash":if(i){var r=n==="pathname"?"/":"#";t[n]=i.charAt(0)!==r?r+i:i}else t[n]=i;break;case"username":case"password":t[n]=encodeURIComponent(i);break;case"auth":var o=i.indexOf(":");~o?(t.username=i.slice(0,o),t.username=encodeURIComponent(decodeURIComponent(t.username)),t.password=i.slice(o+1),t.password=encodeURIComponent(decodeURIComponent(t.password))):t.username=encodeURIComponent(decodeURIComponent(i))}for(var a=0;a<gg.length;a++){var s=gg[a];s[4]&&(t[s[1]]=t[s[1]].toLowerCase())}return t.auth=t.password?t.username+":"+t.password:t.username,t.origin=t.protocol!=="file:"&&$2(t.protocol)&&t.host?t.protocol+"//"+t.host:"null",t.href=t.toString(),t}function LK(n){(!n||typeof n!="function")&&(n=Gd.stringify);var i,e=this,t=e.host,r=e.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var o=r+(e.protocol&&e.slashes||$2(e.protocol)?"//":"");return e.username?(o+=e.username,e.password&&(o+=":"+e.password),o+="@"):e.password?(o+=":"+e.password,o+="@"):e.protocol!=="file:"&&$2(e.protocol)&&!t&&e.pathname!=="/"&&(o+="@"),(t[t.length-1]===":"||LD.test(e.hostname)&&!e.port)&&(t+=":"),o+=t+e.pathname,i=typeof e.query=="object"?n(e.query):e.query,i&&(o+=i.charAt(0)!=="?"?"?"+i:i),e.hash&&(o+=e.hash),o}W2.prototype={set:zK,toString:LK};W2.extractProtocol=AD;W2.location=kD;W2.trimLeft=vg;W2.qs=Gd;ND.exports=W2});var gi=ue((OSe,PD)=>{"use strict";var kK=yg(),AK=function(){};PD.exports={getOrigin:function(n){if(!n)return null;var i=new kK(n);if(i.protocol==="file:")return null;var e=i.port;return e||(e=i.protocol==="https:"?"443":"80"),i.protocol+"//"+i.hostname+":"+e},isOriginEqual:function(n,i){var e=this.getOrigin(n)===this.getOrigin(i);return AK("same",n,i,e),e},isSchemeEqual:function(n,i){return n.split(":")[0]===i.split(":")[0]},addPath:function(n,i){var e=n.split("?");return e[0]+i+(e[1]?"?"+e[1]:"")},addQuery:function(n,i){return n+(n.indexOf("?")===-1?"?"+i:"&"+i)},isLoopbackAddr:function(n){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(n)||/^\[::1\]$/.test(n)}}});var ot=ue((RSe,_g)=>{"use strict";typeof Object.create=="function"?_g.exports=function(i,e){e&&(i.super_=e,i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:_g.exports=function(i,e){if(e){i.super_=e;var t=function(){};t.prototype=e.prototype,i.prototype=new t,i.prototype.constructor=i}}});var bg=ue((FSe,OD)=>{"use strict";function Yd(){this._listeners={}}Yd.prototype.addEventListener=function(n,i){n in this._listeners||(this._listeners[n]=[]);var e=this._listeners[n];e.indexOf(i)===-1&&(e=e.concat([i])),this._listeners[n]=e};Yd.prototype.removeEventListener=function(n,i){var e=this._listeners[n];if(e){var t=e.indexOf(i);if(t!==-1){e.length>1?this._listeners[n]=e.slice(0,t).concat(e.slice(t+1)):delete this._listeners[n];return}}};Yd.prototype.dispatchEvent=function(){var n=arguments[0],i=n.type,e=arguments.length===1?[n]:Array.apply(null,arguments);if(this["on"+i]&&this["on"+i].apply(this,e),i in this._listeners)for(var t=this._listeners[i],r=0;r<t.length;r++)t[r].apply(this,e)};OD.exports=Yd});var C1=ue((BSe,RD)=>{"use strict";var NK=ot(),Qd=bg();function Go(){Qd.call(this)}NK(Go,Qd);Go.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}};Go.prototype.once=function(n,i){var e=this,t=!1;function r(){e.removeListener(n,r),t||(t=!0,i.apply(this,arguments))}this.on(n,r)};Go.prototype.emit=function(){var n=arguments[0],i=this._listeners[n];if(i){for(var e=arguments.length,t=new Array(e-1),r=1;r<e;r++)t[r-1]=arguments[r];for(var o=0;o<i.length;o++)i[o].apply(this,t)}};Go.prototype.on=Go.prototype.addListener=Qd.prototype.addEventListener;Go.prototype.removeListener=Qd.prototype.removeEventListener;RD.exports.EventEmitter=Go});var BD=ue((VSe,xg)=>{"use strict";var FD=global.WebSocket||global.MozWebSocket;FD?xg.exports=function(i){return new FD(i)}:xg.exports=void 0});var qD=ue((USe,HD)=>{"use strict";var VD=Or(),PK=gi(),OK=ot(),UD=C1().EventEmitter,jD=BD(),Rr=function(){};function Fr(n,i,e){if(!Fr.enabled())throw new Error("Transport created when disabled");UD.call(this),Rr("constructor",n);var t=this,r=PK.addPath(n,"/websocket");r.slice(0,5)==="https"?r="wss"+r.slice(5):r="ws"+r.slice(4),this.url=r,this.ws=new jD(this.url,[],e),this.ws.onmessage=function(o){Rr("message event",o.data),t.emit("message",o.data)},this.unloadRef=VD.unloadAdd(function(){Rr("unload"),t.ws.close()}),this.ws.onclose=function(o){Rr("close event",o.code,o.reason),t.emit("close",o.code,o.reason),t._cleanup()},this.ws.onerror=function(o){Rr("error event",o),t.emit("close",1006,"WebSocket connection broken"),t._cleanup()}}OK(Fr,UD);Fr.prototype.send=function(n){var i="["+n+"]";Rr("send",i),this.ws.send(i)};Fr.prototype.close=function(){Rr("close");var n=this.ws;this._cleanup(),n&&n.close()};Fr.prototype._cleanup=function(){Rr("_cleanup");var n=this.ws;n&&(n.onmessage=n.onclose=n.onerror=null),VD.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Fr.enabled=function(){return Rr("enabled"),!!jD};Fr.transportName="websocket";Fr.roundTrips=2;HD.exports=Fr});var GD=ue((jSe,WD)=>{"use strict";var RK=ot(),$D=C1().EventEmitter,Br=function(){};function rs(n,i){Br(n),$D.call(this),this.sendBuffer=[],this.sender=i,this.url=n}RK(rs,$D);rs.prototype.send=function(n){Br("send",n),this.sendBuffer.push(n),this.sendStop||this.sendSchedule()};rs.prototype.sendScheduleWait=function(){Br("sendScheduleWait");var n=this,i;this.sendStop=function(){Br("sendStop"),n.sendStop=null,clearTimeout(i)},i=setTimeout(function(){Br("timeout"),n.sendStop=null,n.sendSchedule()},25)};rs.prototype.sendSchedule=function(){Br("sendSchedule",this.sendBuffer.length);var n=this;if(this.sendBuffer.length>0){var i="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,i,function(e){n.sendStop=null,e?(Br("error",e),n.emit("close",e.code||1006,"Sending error: "+e),n.close()):n.sendScheduleWait()}),this.sendBuffer=[]}};rs.prototype._cleanup=function(){Br("_cleanup"),this.removeAllListeners()};rs.prototype.close=function(){Br("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};WD.exports=rs});var KD=ue((HSe,QD)=>{"use strict";var FK=ot(),YD=C1().EventEmitter,Bc=function(){};function Kd(n,i,e){Bc(i),YD.call(this),this.Receiver=n,this.receiveUrl=i,this.AjaxObject=e,this._scheduleReceiver()}FK(Kd,YD);Kd.prototype._scheduleReceiver=function(){Bc("_scheduleReceiver");var n=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(e){Bc("message",e),n.emit("message",e)}),i.once("close",function(e,t){Bc("close",e,t,n.pollIsClosing),n.poll=i=null,n.pollIsClosing||(t==="network"?n._scheduleReceiver():(n.emit("close",e||1006,t),n.removeAllListeners()))})};Kd.prototype.abort=function(){Bc("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};QD.exports=Kd});var Sg=ue((qSe,XD)=>{"use strict";var BK=ot(),VK=gi(),Cg=GD(),UK=KD(),Xd=function(){};function wg(n,i,e,t,r){var o=VK.addPath(n,i);Xd(o);var a=this;Cg.call(this,n,e),this.poll=new UK(t,o,r),this.poll.on("message",function(s){Xd("poll message",s),a.emit("message",s)}),this.poll.once("close",function(s,u){Xd("poll close",s,u),a.poll=null,a.emit("close",s,u),a.close()})}BK(wg,Cg);wg.prototype.close=function(){Cg.prototype.close.call(this),Xd("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};XD.exports=wg});var os=ue(($Se,ez)=>{"use strict";var jK=ot(),HK=gi(),ZD=Sg(),Mg=function(){};function qK(n){return function(i,e,t){Mg("create ajax sender",i,e);var r={};typeof e=="string"&&(r.headers={"Content-type":"text/plain"});var o=HK.addPath(i,"/xhr_send"),a=new n("POST",o,e,r);return a.once("finish",function(s){if(Mg("finish",s),a=null,s!==200&&s!==204)return t(new Error("http status "+s));t()}),function(){Mg("abort"),a.close(),a=null;var s=new Error("Aborted");s.code=1e3,t(s)}}}function JD(n,i,e,t){ZD.call(this,n,i,qK(t),e,t)}jK(JD,ZD);ez.exports=JD});var Uc=ue((WSe,nz)=>{"use strict";var $K=ot(),tz=C1().EventEmitter,Yo=function(){};function Vc(n,i){Yo(n),tz.call(this);var e=this;this.bufferPosition=0,this.xo=new i("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,r){Yo("finish",t,r),e._chunkHandler(t,r),e.xo=null;var o=t===200?"network":"permanent";Yo("close",o),e.emit("close",null,o),e._cleanup()})}$K(Vc,tz);Vc.prototype._chunkHandler=function(n,i){if(Yo("_chunkHandler",n),!(n!==200||!i))for(var e=-1;;this.bufferPosition+=e+1){var t=i.slice(this.bufferPosition);if(e=t.indexOf(`
`),e===-1)break;var r=t.slice(0,e);r&&(Yo("message",r),this.emit("message",r))}};Vc.prototype._cleanup=function(){Yo("_cleanup"),this.removeAllListeners()};Vc.prototype.abort=function(){Yo("abort"),this.xo&&(this.xo.close(),Yo("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()};nz.exports=Vc});var Eg=ue((GSe,sz)=>{"use strict";var rz=C1().EventEmitter,WK=ot(),oz=Or(),GK=gi(),jc=global.XMLHttpRequest,J1=function(){};function G2(n,i,e,t){J1(n,i);var r=this;rz.call(this),setTimeout(function(){r._start(n,i,e,t)},0)}WK(G2,rz);G2.prototype._start=function(n,i,e,t){var r=this;try{this.xhr=new jc}catch{}if(!this.xhr){J1("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}i=GK.addQuery(i,"t="+ +new Date),this.unloadRef=oz.unloadAdd(function(){J1("unload cleanup"),r._cleanup(!0)});try{this.xhr.open(n,i,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){J1("xhr timeout"),r.emit("finish",0,""),r._cleanup(!1)})}catch(a){J1("exception",a),this.emit("finish",0,""),this._cleanup(!1);return}if((!t||!t.noCredentials)&&G2.supportsCORS&&(J1("withCredentials"),this.xhr.withCredentials=!0),t&&t.headers)for(var o in t.headers)this.xhr.setRequestHeader(o,t.headers[o]);this.xhr.onreadystatechange=function(){if(r.xhr){var a=r.xhr,s,u;switch(J1("readyState",a.readyState),a.readyState){case 3:try{u=a.status,s=a.responseText}catch{}J1("status",u),u===1223&&(u=204),u===200&&s&&s.length>0&&(J1("chunk"),r.emit("chunk",u,s));break;case 4:u=a.status,J1("status",u),u===1223&&(u=204),(u===12005||u===12029)&&(u=0),J1("finish",u,a.responseText),r.emit("finish",u,a.responseText),r._cleanup(!1);break}}};try{r.xhr.send(e)}catch{r.emit("finish",0,""),r._cleanup(!1)}};G2.prototype._cleanup=function(n){if(J1("cleanup"),!!this.xhr){if(this.removeAllListeners(),oz.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),n)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};G2.prototype.close=function(){J1("close"),this._cleanup(!0)};G2.enabled=!!jc;var iz=["Active"].concat("Object").join("X");!G2.enabled&&iz in global&&(J1("overriding xmlhttprequest"),jc=function(){try{return new global[iz]("Microsoft.XMLHTTP")}catch{return null}},G2.enabled=!!new jc);var az=!1;try{az="withCredentials"in new jc}catch{}G2.supportsCORS=az;sz.exports=G2});var Hc=ue((YSe,cz)=>{"use strict";var YK=ot(),Zd=Eg();function Tg(n,i,e,t){Zd.call(this,n,i,e,t)}YK(Tg,Zd);Tg.enabled=Zd.enabled&&Zd.supportsCORS;cz.exports=Tg});var i3=ue((QSe,lz)=>{"use strict";var QK=ot(),Ig=Eg();function Dg(n,i,e){Ig.call(this,n,i,e,{noCredentials:!0})}QK(Dg,Ig);Dg.enabled=Ig.enabled;lz.exports=Dg});var r3=ue((KSe,dz)=>{"use strict";dz.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch{return!1}}}});var pz=ue((XSe,fz)=>{"use strict";var KK=ot(),uz=os(),XK=Uc(),zg=Hc(),ZK=i3(),JK=r3();function o3(n){if(!ZK.enabled&&!zg.enabled)throw new Error("Transport created when disabled");uz.call(this,n,"/xhr_streaming",XK,zg)}KK(o3,uz);o3.enabled=function(n){return n.nullOrigin||JK.isOpera()?!1:zg.enabled};o3.transportName="xhr-streaming";o3.roundTrips=2;o3.needBody=!!global.document;fz.exports=o3});var Jd=ue((ZSe,gz)=>{"use strict";var mz=C1().EventEmitter,eX=ot(),hz=Or(),tX=r3(),nX=gi(),Qo=function(){};function as(n,i,e){Qo(n,i);var t=this;mz.call(this),setTimeout(function(){t._start(n,i,e)},0)}eX(as,mz);as.prototype._start=function(n,i,e){Qo("_start");var t=this,r=new global.XDomainRequest;i=nX.addQuery(i,"t="+ +new Date),r.onerror=function(){Qo("onerror"),t._error()},r.ontimeout=function(){Qo("ontimeout"),t._error()},r.onprogress=function(){Qo("progress",r.responseText),t.emit("chunk",200,r.responseText)},r.onload=function(){Qo("load"),t.emit("finish",200,r.responseText),t._cleanup(!1)},this.xdr=r,this.unloadRef=hz.unloadAdd(function(){t._cleanup(!0)});try{this.xdr.open(n,i),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(e)}catch{this._error()}};as.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};as.prototype._cleanup=function(n){if(Qo("cleanup",n),!!this.xdr){if(this.removeAllListeners(),hz.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,n)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};as.prototype.close=function(){Qo("close"),this._cleanup(!0)};as.enabled=!!(global.XDomainRequest&&tX.hasDomain());gz.exports=as});var kg=ue((JSe,yz)=>{"use strict";var iX=ot(),vz=os(),rX=Uc(),Lg=Jd();function qc(n){if(!Lg.enabled)throw new Error("Transport created when disabled");vz.call(this,n,"/xhr_streaming",rX,Lg)}iX(qc,vz);qc.enabled=function(n){return n.cookie_needed||n.nullOrigin?!1:Lg.enabled&&n.sameScheme};qc.transportName="xdr-streaming";qc.roundTrips=2;yz.exports=qc});var Ag=ue((eMe,_z)=>{"use strict";_z.exports=global.EventSource});var Cz=ue((tMe,xz)=>{"use strict";var oX=ot(),bz=C1().EventEmitter,aX=Ag(),a3=function(){};function $c(n){a3(n),bz.call(this);var i=this,e=this.es=new aX(n);e.onmessage=function(t){a3("message",t.data),i.emit("message",decodeURI(t.data))},e.onerror=function(t){a3("error",e.readyState,t);var r=e.readyState!==2?"network":"permanent";i._cleanup(),i._close(r)}}oX($c,bz);$c.prototype.abort=function(){a3("abort"),this._cleanup(),this._close("user")};$c.prototype._cleanup=function(){a3("cleanup");var n=this.es;n&&(n.onmessage=n.onerror=null,n.close(),this.es=null)};$c.prototype._close=function(n){a3("close",n);var i=this;setTimeout(function(){i.emit("close",null,n),i.removeAllListeners()},200)};xz.exports=$c});var Ng=ue((nMe,Sz)=>{"use strict";var sX=ot(),wz=os(),cX=Cz(),lX=Hc(),dX=Ag();function s3(n){if(!s3.enabled())throw new Error("Transport created when disabled");wz.call(this,n,"/eventsource",cX,lX)}sX(s3,wz);s3.enabled=function(){return!!dX};s3.transportName="eventsource";s3.roundTrips=2;Sz.exports=s3});var Pg=ue((iMe,Mz)=>{"use strict";Mz.exports="1.6.1"});var c3=ue((rMe,Vr)=>{"use strict";var e7=Or(),uX=r3(),ss=function(){};Vr.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){Vr.exports.WPrefix in global||(global[Vr.exports.WPrefix]={})},postMessage:function(n,i){global.parent!==global?global.parent.postMessage(JSON.stringify({windowId:Vr.exports.currentWindowId,type:n,data:i||""}),"*"):ss("Cannot postMessage, no parent window.",n,i)},createIframe:function(n,i){var e=global.document.createElement("iframe"),t,r,o=function(){ss("unattach"),clearTimeout(t);try{e.onload=null}catch{}e.onerror=null},a=function(){ss("cleanup"),e&&(o(),setTimeout(function(){e&&e.parentNode.removeChild(e),e=null},0),e7.unloadDel(r))},s=function(m){ss("onerror",m),e&&(a(),i(m))},u=function(m,_){ss("post",m,_),setTimeout(function(){try{e&&e.contentWindow&&e.contentWindow.postMessage(m,_)}catch{}},0)};return e.src=n,e.style.display="none",e.style.position="absolute",e.onerror=function(){s("onerror")},e.onload=function(){ss("onload"),clearTimeout(t),t=setTimeout(function(){s("onload timeout")},2e3)},global.document.body.appendChild(e),t=setTimeout(function(){s("timeout")},15e3),r=e7.unloadAdd(a),{post:u,cleanup:a,loaded:o}},createHtmlfile:function(n,i){var e=["Active"].concat("Object").join("X"),t=new global[e]("htmlfile"),r,o,a,s=function(){clearTimeout(r),a.onerror=null},u=function(){t&&(s(),e7.unloadDel(o),a.parentNode.removeChild(a),a=t=null,CollectGarbage())},m=function(E){ss("onerror",E),t&&(u(),i(E))},_=function(E,I){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(E,I)},0)}catch{}};t.open(),t.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),t.close(),t.parentWindow[Vr.exports.WPrefix]=global[Vr.exports.WPrefix];var y=t.createElement("div");return t.body.appendChild(y),a=t.createElement("iframe"),y.appendChild(a),a.src=n,a.onerror=function(){m("onerror")},r=setTimeout(function(){m("timeout")},15e3),o=e7.unloadAdd(u),{post:_,cleanup:u,loaded:s}}};Vr.exports.iframeEnabled=!1;global.document&&(Vr.exports.iframeEnabled=(typeof global.postMessage=="function"||typeof global.postMessage=="object")&&!uX.isKonqueror())});var Rg=ue((oMe,Dz)=>{"use strict";var fX=ot(),Ez=C1().EventEmitter,pX=Pg(),Og=gi(),Tz=c3(),Iz=Or(),mX=is(),Y2=function(){};function Q2(n,i,e){if(!Q2.enabled())throw new Error("Transport created when disabled");Ez.call(this);var t=this;this.origin=Og.getOrigin(e),this.baseUrl=e,this.transUrl=i,this.transport=n,this.windowId=mX.string(8);var r=Og.addPath(e,"/iframe.html")+"#"+this.windowId;Y2(n,i,r),this.iframeObj=Tz.createIframe(r,function(o){Y2("err callback"),t.emit("close",1006,"Unable to load an iframe ("+o+")"),t.close()}),this.onmessageCallback=this._message.bind(this),Iz.attachEvent("message",this.onmessageCallback)}fX(Q2,Ez);Q2.prototype.close=function(){if(Y2("close"),this.removeAllListeners(),this.iframeObj){Iz.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};Q2.prototype._message=function(n){if(Y2("message",n.data),!Og.isOriginEqual(n.origin,this.origin)){Y2("not same origin",n.origin,this.origin);return}var i;try{i=JSON.parse(n.data)}catch{Y2("bad json",n.data);return}if(i.windowId!==this.windowId){Y2("mismatched window id",i.windowId,this.windowId);return}switch(i.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([pX,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",i.data);break;case"c":var e;try{e=JSON.parse(i.data)}catch{Y2("bad json",i.data);return}this.emit("close",e[0],e[1]),this.close();break}};Q2.prototype.postMessage=function(n,i){Y2("postMessage",n,i),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:n,data:i||""}),this.origin)};Q2.prototype.send=function(n){Y2("send",n),this.postMessage("m",n)};Q2.enabled=function(){return Tz.iframeEnabled};Q2.transportName="iframe";Q2.roundTrips=2;Dz.exports=Q2});var t7=ue((aMe,zz)=>{"use strict";zz.exports={isObject:function(n){var i=typeof n;return i==="function"||i==="object"&&!!n},extend:function(n){if(!this.isObject(n))return n;for(var i,e,t=1,r=arguments.length;t<r;t++){i=arguments[t];for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}return n}}});var i7=ue((sMe,Lz)=>{"use strict";var hX=ot(),n7=Rg(),gX=t7();Lz.exports=function(n){function i(e,t){n7.call(this,n.transportName,e,t)}return hX(i,n7),i.enabled=function(e,t){if(!global.document)return!1;var r=gX.extend({},t);return r.sameOrigin=!0,n.enabled(r)&&n7.enabled()},i.transportName="iframe-"+n.transportName,i.needBody=!0,i.roundTrips=n7.roundTrips+n.roundTrips-1,i.facadeTransport=n,i}});var Pz=ue((cMe,Nz)=>{"use strict";var vX=ot(),cs=c3(),yX=gi(),Az=C1().EventEmitter,_X=is(),Ur=function(){};function a2(n){Ur(n),Az.call(this);var i=this;cs.polluteGlobalNamespace(),this.id="a"+_X.string(6),n=yX.addQuery(n,"c="+decodeURIComponent(cs.WPrefix+"."+this.id)),Ur("using htmlfile",a2.htmlfileEnabled);var e=a2.htmlfileEnabled?cs.createHtmlfile:cs.createIframe;global[cs.WPrefix][this.id]={start:function(){Ur("start"),i.iframeObj.loaded()},message:function(t){Ur("message",t),i.emit("message",t)},stop:function(){Ur("stop"),i._cleanup(),i._close("network")}},this.iframeObj=e(n,function(){Ur("callback"),i._cleanup(),i._close("permanent")})}vX(a2,Az);a2.prototype.abort=function(){Ur("abort"),this._cleanup(),this._close("user")};a2.prototype._cleanup=function(){Ur("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[cs.WPrefix][this.id]};a2.prototype._close=function(n){Ur("_close",n),this.emit("close",null,n),this.removeAllListeners()};a2.htmlfileEnabled=!1;var kz=["Active"].concat("Object").join("X");if(kz in global)try{a2.htmlfileEnabled=!!new global[kz]("htmlfile")}catch{}a2.enabled=a2.htmlfileEnabled||cs.iframeEnabled;Nz.exports=a2});var Bg=ue((lMe,Rz)=>{"use strict";var bX=ot(),Fg=Pz(),xX=i3(),Oz=os();function Wc(n){if(!Fg.enabled)throw new Error("Transport created when disabled");Oz.call(this,n,"/htmlfile",Fg,xX)}bX(Wc,Oz);Wc.enabled=function(n){return Fg.enabled&&n.sameOrigin};Wc.transportName="htmlfile";Wc.roundTrips=2;Rz.exports=Wc});var Ug=ue((dMe,Vz)=>{"use strict";var CX=ot(),Fz=os(),wX=Uc(),Vg=Hc(),Bz=i3();function Gc(n){if(!Bz.enabled&&!Vg.enabled)throw new Error("Transport created when disabled");Fz.call(this,n,"/xhr",wX,Vg)}CX(Gc,Fz);Gc.enabled=function(n){return n.nullOrigin?!1:Bz.enabled&&n.sameOrigin?!0:Vg.enabled};Gc.transportName="xhr-polling";Gc.roundTrips=2;Vz.exports=Gc});var qz=ue((uMe,Hz)=>{"use strict";var SX=ot(),jz=os(),MX=kg(),EX=Uc(),Uz=Jd();function Yc(n){if(!Uz.enabled)throw new Error("Transport created when disabled");jz.call(this,n,"/xhr",EX,Uz)}SX(Yc,jz);Yc.enabled=MX.enabled;Yc.transportName="xdr-polling";Yc.roundTrips=2;Hz.exports=Yc});var Yz=ue((fMe,Gz)=>{"use strict";var Qc=c3(),$z=is(),TX=r3(),IX=gi(),DX=ot(),Wz=C1().EventEmitter,s2=function(){};function Ri(n){s2(n);var i=this;Wz.call(this),Qc.polluteGlobalNamespace(),this.id="a"+$z.string(6);var e=IX.addQuery(n,"c="+encodeURIComponent(Qc.WPrefix+"."+this.id));global[Qc.WPrefix][this.id]=this._callback.bind(this),this._createScript(e),this.timeoutId=setTimeout(function(){s2("timeout"),i._abort(new Error("JSONP script loaded abnormally (timeout)"))},Ri.timeout)}DX(Ri,Wz);Ri.prototype.abort=function(){if(s2("abort"),global[Qc.WPrefix][this.id]){var n=new Error("JSONP user aborted read");n.code=1e3,this._abort(n)}};Ri.timeout=35e3;Ri.scriptErrorTimeout=1e3;Ri.prototype._callback=function(n){s2("_callback",n),this._cleanup(),!this.aborting&&(n&&(s2("message",n),this.emit("message",n)),this.emit("close",null,"network"),this.removeAllListeners())};Ri.prototype._abort=function(n){s2("_abort",n),this._cleanup(),this.aborting=!0,this.emit("close",n.code,n.message),this.removeAllListeners()};Ri.prototype._cleanup=function(){if(s2("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var n=this.script;n.parentNode.removeChild(n),n.onreadystatechange=n.onerror=n.onload=n.onclick=null,this.script=null}delete global[Qc.WPrefix][this.id]};Ri.prototype._scriptError=function(){s2("_scriptError");var n=this;this.errorTimer||(this.errorTimer=setTimeout(function(){n.loadedOkay||n._abort(new Error("JSONP script loaded abnormally (onerror)"))},Ri.scriptErrorTimeout))};Ri.prototype._createScript=function(n){s2("_createScript",n);var i=this,e=this.script=global.document.createElement("script"),t;if(e.id="a"+$z.string(8),e.src=n,e.type="text/javascript",e.charset="UTF-8",e.onerror=this._scriptError.bind(this),e.onload=function(){s2("onload"),i._abort(new Error("JSONP script loaded abnormally (onload)"))},e.onreadystatechange=function(){if(s2("onreadystatechange",e.readyState),/loaded|closed/.test(e.readyState)){if(e&&e.htmlFor&&e.onclick){i.loadedOkay=!0;try{e.onclick()}catch{}}e&&i._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof e.async>"u"&&global.document.attachEvent)if(TX.isOpera())t=this.script2=global.document.createElement("script"),t.text="try{var a = document.getElementById('"+e.id+"'); if(a)a.onerror();}catch(x){};",e.async=t.async=!1;else{try{e.htmlFor=e.id,e.event="onclick"}catch{}e.async=!0}typeof e.async<"u"&&(e.async=!0);var r=global.document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild),t&&r.insertBefore(t,r.firstChild)};Gz.exports=Ri});var Xz=ue((pMe,Kz)=>{"use strict";var zX=is(),Qz=gi(),jr=function(){},vi,Kc;function LX(n){jr("createIframe",n);try{return global.document.createElement('<iframe name="'+n+'">')}catch{var i=global.document.createElement("iframe");return i.name=n,i}}function kX(){jr("createForm"),vi=global.document.createElement("form"),vi.style.display="none",vi.style.position="absolute",vi.method="POST",vi.enctype="application/x-www-form-urlencoded",vi.acceptCharset="UTF-8",Kc=global.document.createElement("textarea"),Kc.name="d",vi.appendChild(Kc),global.document.body.appendChild(vi)}Kz.exports=function(n,i,e){jr(n,i),vi||kX();var t="a"+zX.string(8);vi.target=t,vi.action=Qz.addQuery(Qz.addPath(n,"/jsonp_send"),"i="+t);var r=LX(t);r.id=t,r.style.display="none",vi.appendChild(r);try{Kc.value=i}catch{}vi.submit();var o=function(a){jr("completed",t,a),r.onerror&&(r.onreadystatechange=r.onerror=r.onload=null,setTimeout(function(){jr("cleaning up",t),r.parentNode.removeChild(r),r=null},500),Kc.value="",e(a))};return r.onerror=function(){jr("onerror",t),o()},r.onload=function(){jr("onload",t),o()},r.onreadystatechange=function(a){jr("onreadystatechange",t,r.readyState,a),r.readyState==="complete"&&o()},function(){jr("aborted",t),o(new Error("Aborted"))}}});var eL=ue((mMe,Jz)=>{"use strict";var AX=ot(),Zz=Sg(),NX=Yz(),PX=Xz();function ls(n){if(!ls.enabled())throw new Error("Transport created when disabled");Zz.call(this,n,"/jsonp",PX,NX)}AX(ls,Zz);ls.enabled=function(){return!!global.document};ls.transportName="jsonp-polling";ls.roundTrips=1;ls.needBody=!0;Jz.exports=ls});var nL=ue((hMe,tL)=>{"use strict";tL.exports=[qD(),pz(),kg(),Ng(),i7()(Ng()),Bg(),i7()(Bg()),Ug(),qz(),i7()(Ug()),eL()]});var lL=ue(()=>{"use strict";var Xc=Array.prototype,$g=Object.prototype,OX=Function.prototype,Zc=String.prototype,jg=Xc.slice,Wg=$g.toString,oL=function(n){return $g.toString.call(n)==="[object Function]"},RX=function(i){return Wg.call(i)==="[object Array]"},aL=function(i){return Wg.call(i)==="[object String]"},FX=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),qg;FX?qg=function(n,i,e,t){!t&&i in n||Object.defineProperty(n,i,{configurable:!0,enumerable:!1,writable:!0,value:e})}:qg=function(n,i,e,t){!t&&i in n||(n[i]=e)};var Jc=function(n,i,e){for(var t in i)$g.hasOwnProperty.call(i,t)&&qg(n,t,i[t],e)},sL=function(n){if(n==null)throw new TypeError("can't convert "+n+" to object");return Object(n)};function BX(n){var i=+n;return i!==i?i=0:i!==0&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i))),i}function VX(n){return n>>>0}function Hg(){}Jc(OX,{bind:function(i){var e=this;if(!oL(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var t=jg.call(arguments,1),r=function(){if(this instanceof u){var m=e.apply(this,t.concat(jg.call(arguments)));return Object(m)===m?m:this}else return e.apply(i,t.concat(jg.call(arguments)))},o=Math.max(0,e.length-t.length),a=[],s=0;s<o;s++)a.push("$"+s);var u=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(Hg.prototype=e.prototype,u.prototype=new Hg,Hg.prototype=null),u}});Jc(Array,{isArray:RX});var iL=Object("a"),cL=iL[0]!=="a"||!(0 in iL),UX=function(i){var e=!0,t=!0;return i&&(i.call("foo",function(r,o,a){typeof a!="object"&&(e=!1)}),i.call([1],function(){"use strict";t=typeof this=="string"},"x")),!!i&&e&&t};Jc(Xc,{forEach:function(i){var e=sL(this),t=cL&&aL(this)?this.split(""):e,r=arguments[1],o=-1,a=t.length>>>0;if(!oL(i))throw new TypeError;for(;++o<a;)o in t&&i.call(r,t[o],o,e)}},!UX(Xc.forEach));var jX=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Jc(Xc,{indexOf:function(i){var e=cL&&aL(this)?this.split(""):sL(this),t=e.length>>>0;if(!t)return-1;var r=0;for(arguments.length>1&&(r=BX(arguments[1])),r=r>=0?r:Math.max(0,t+r);r<t;r++)if(r in e&&e[r]===i)return r;return-1}},jX);var rL=Zc.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var n=/()??/.exec("")[1]===void 0;Zc.split=function(i,e){var t=this;if(i===void 0&&e===0)return[];if(Wg.call(i)!=="[object RegExp]")return rL.call(this,i,e);var r=[],o=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),a=0,s,u,m,_;for(i=new RegExp(i.source,o+"g"),t+="",n||(s=new RegExp("^"+i.source+"$(?!\\s)",o)),e=e===void 0?-1>>>0:VX(e);(u=i.exec(t))&&(m=u.index+u[0].length,!(m>a&&(r.push(t.slice(a,u.index)),!n&&u.length>1&&u[0].replace(s,function(){for(var y=1;y<arguments.length-2;y++)arguments[y]===void 0&&(u[y]=void 0)}),u.length>1&&u.index<t.length&&Xc.push.apply(r,u.slice(1)),_=u[0].length,a=m,r.length>=e)));)i.lastIndex===u.index&&i.lastIndex++;return a===t.length?(_||!i.test(""))&&r.push(""):r.push(t.slice(a)),r.length>e?r.slice(0,e):r}})():"0".split(void 0,0).length&&(Zc.split=function(i,e){return i===void 0&&e===0?[]:rL.call(this,i,e)});var HX=Zc.substr,qX="".substr&&"0b".substr(-1)!=="b";Jc(Zc,{substr:function(i,e){return HX.call(this,i<0&&(i=this.length+i)<0?0:i,e)}},qX)});var uL=ue((yMe,dL)=>{"use strict";var r7=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Gg,$X=function(n){var i,e={},t=[];for(i=0;i<65536;i++)t.push(String.fromCharCode(i));return n.lastIndex=0,t.join("").replace(n,function(r){return e[r]="\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,e};dL.exports={quote:function(n){var i=JSON.stringify(n);return r7.lastIndex=0,r7.test(i)?(Gg||(Gg=$X(r7)),i.replace(r7,function(e){return Gg[e]})):i}}});var pL=ue((_Me,fL)=>{"use strict";var o7=function(){};fL.exports=function(n){return{filterToEnabled:function(i,e){var t={main:[],facade:[]};return i?typeof i=="string"&&(i=[i]):i=[],n.forEach(function(r){if(r){if(r.transportName==="websocket"&&e.websocket===!1){o7("disabled from server","websocket");return}if(i.length&&i.indexOf(r.transportName)===-1){o7("not in whitelist",r.transportName);return}r.enabled(e)?(o7("enabled",r.transportName),t.main.push(r),r.facadeTransport&&t.facade.push(r.facadeTransport)):o7("disabled",r.transportName)}}),t}}}});var hL=ue((bMe,mL)=>{"use strict";var Yg={};["log","debug","warn"].forEach(function(n){var i;try{i=global.console&&global.console[n]&&global.console[n].apply}catch{}Yg[n]=i?function(){return global.console[n].apply(global.console,arguments)}:n==="log"?function(){}:Yg.log});mL.exports=Yg});var a7=ue((xMe,gL)=>{"use strict";function ds(n){this.type=n}ds.prototype.initEvent=function(n,i,e){return this.type=n,this.bubbles=i,this.cancelable=e,this.timeStamp=+new Date,this};ds.prototype.stopPropagation=function(){};ds.prototype.preventDefault=function(){};ds.CAPTURING_PHASE=1;ds.AT_TARGET=2;ds.BUBBLING_PHASE=3;gL.exports=ds});var Qg=ue((CMe,vL)=>{"use strict";vL.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}});var xL=ue((wMe,bL)=>{"use strict";var WX=ot(),yL=a7();function _L(){yL.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}WX(_L,yL);bL.exports=_L});var ML=ue((SMe,SL)=>{"use strict";var GX=ot(),CL=a7();function wL(n){CL.call(this),this.initEvent("message",!1,!1),this.data=n}GX(wL,CL);SL.exports=wL});var IL=ue((MMe,TL)=>{"use strict";var EL=C1().EventEmitter,YX=ot();function el(){var n=this;EL.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},el.timeout)}YX(el,EL);el.prototype.close=function(){clearTimeout(this.to)};el.timeout=2e3;TL.exports=el});var Xg=ue((EMe,zL)=>{"use strict";var DL=C1().EventEmitter,QX=ot(),KX=t7(),XX=function(){};function Kg(n,i){DL.call(this);var e=this,t=+new Date;this.xo=new i("GET",n),this.xo.once("finish",function(r,o){var a,s;if(r===200){if(s=+new Date-t,o)try{a=JSON.parse(o)}catch{XX("bad json",o)}KX.isObject(a)||(a={})}e.emit("finish",a,s),e.removeAllListeners()})}QX(Kg,DL);Kg.prototype.close=function(){this.removeAllListeners(),this.xo.close()};zL.exports=Kg});var Zg=ue((TMe,kL)=>{"use strict";var ZX=ot(),LL=C1().EventEmitter,JX=i3(),eZ=Xg();function s7(n){var i=this;LL.call(this),this.ir=new eZ(n,JX),this.ir.once("finish",function(e,t){i.ir=null,i.emit("message",JSON.stringify([e,t]))})}ZX(s7,LL);s7.transportName="iframe-info-receiver";s7.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()};kL.exports=s7});var OL=ue((IMe,PL)=>{"use strict";var AL=C1().EventEmitter,tZ=ot(),nZ=Or(),NL=Rg(),iZ=Zg(),rZ=function(){};function c7(n,i){var e=this;AL.call(this);var t=function(){var r=e.ifr=new NL(iZ.transportName,i,n);r.once("message",function(o){if(o){var a;try{a=JSON.parse(o)}catch{rZ("bad json",o),e.emit("finish"),e.close();return}var s=a[0],u=a[1];e.emit("finish",s,u)}e.close()}),r.once("close",function(){e.emit("finish"),e.close()})};global.document.body?t():nZ.attachEvent("load",t)}tZ(c7,AL);c7.enabled=function(){return NL.enabled()};c7.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};PL.exports=c7});var jL=ue((DMe,UL)=>{"use strict";var VL=C1().EventEmitter,oZ=ot(),aZ=gi(),RL=Jd(),FL=Hc(),sZ=i3(),cZ=IL(),BL=OL(),l7=Xg(),l3=function(){};function Hr(n,i){l3(n);var e=this;VL.call(this),setTimeout(function(){e.doXhr(n,i)},0)}oZ(Hr,VL);Hr._getReceiver=function(n,i,e){return e.sameOrigin?new l7(i,sZ):FL.enabled?new l7(i,FL):RL.enabled&&e.sameScheme?new l7(i,RL):BL.enabled()?new BL(n,i):new l7(i,cZ)};Hr.prototype.doXhr=function(n,i){var e=this,t=aZ.addPath(n,"/info");l3("doXhr",t),this.xo=Hr._getReceiver(n,t,i),this.timeoutRef=setTimeout(function(){l3("timeout"),e._cleanup(!1),e.emit("finish")},Hr.timeout),this.xo.once("finish",function(r,o){l3("finish",r,o),e._cleanup(!0),e.emit("finish",r,o)})};Hr.prototype._cleanup=function(n){l3("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!n&&this.xo&&this.xo.close(),this.xo=null};Hr.prototype.close=function(){l3("close"),this.removeAllListeners(),this._cleanup(!1)};Hr.timeout=8e3;UL.exports=Hr});var $L=ue((zMe,qL)=>{"use strict";var HL=c3();function tl(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}tl.prototype._transportClose=function(n,i){HL.postMessage("c",JSON.stringify([n,i]))};tl.prototype._transportMessage=function(n){HL.postMessage("t",n)};tl.prototype._send=function(n){this._transport.send(n)};tl.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()};qL.exports=tl});var QL=ue((LMe,YL)=>{"use strict";var WL=gi(),lZ=Or(),dZ=$L(),GL=Zg(),Jg=c3(),d7=Qg(),ev=function(){};YL.exports=function(n,i){var e={};i.forEach(function(r){r.facadeTransport&&(e[r.facadeTransport.transportName]=r.facadeTransport)}),e[GL.transportName]=GL;var t;n.bootstrap_iframe=function(){var r;Jg.currentWindowId=d7.hash.slice(1);var o=function(a){if(a.source===parent&&(typeof t>"u"&&(t=a.origin),a.origin===t)){var s;try{s=JSON.parse(a.data)}catch{ev("bad json",a.data);return}if(s.windowId===Jg.currentWindowId)switch(s.type){case"s":var u;try{u=JSON.parse(s.data)}catch{ev("bad json",s.data);break}var m=u[0],_=u[1],y=u[2],E=u[3];if(ev(m,_,y,E),m!==n.version)throw new Error('Incompatible SockJS! Main site uses: "'+m+'", the iframe: "'+n.version+'".');if(!WL.isOriginEqual(y,d7.href)||!WL.isOriginEqual(E,d7.href))throw new Error("Can't connect to different domain from within an iframe. ("+d7.href+", "+y+", "+E+")");r=new dZ(new e[_](y,E));break;case"m":r._send(s.data);break;case"c":r&&r._close(),r=null;break}}};lZ.attachEvent("message",o),Jg.postMessage("s")}}});var nk=ue((kMe,tk)=>{"use strict";lL();var uZ=yg(),fZ=ot(),KL=is(),pZ=uL(),nl=gi(),mZ=Or(),hZ=pL(),gZ=t7(),vZ=r3(),yZ=hL(),tv=a7(),ZL=bg(),u7=Qg(),_Z=xL(),XL=ML(),bZ=jL(),Dn=function(){},JL;function at(n,i,e){if(!(this instanceof at))return new at(n,i,e);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");ZL.call(this),this.readyState=at.CONNECTING,this.extensions="",this.protocol="",e=e||{},e.protocols_whitelist&&yZ.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=e.transports,this._transportOptions=e.transportOptions||{},this._timeout=e.timeout||0;var t=e.sessionId||8;if(typeof t=="function")this._generateSessionId=t;else if(typeof t=="number")this._generateSessionId=function(){return KL.string(t)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=e.server||KL.numberString(1e3);var r=new uZ(n);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+n+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if(r.protocol!=="http:"&&r.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var o=r.protocol==="https:";if(u7.protocol==="https:"&&!o&&!nl.isLoopbackAddr(r.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");i?Array.isArray(i)||(i=[i]):i=[];var a=i.sort();a.forEach(function(u,m){if(!u)throw new SyntaxError("The protocols entry '"+u+"' is invalid.");if(m<a.length-1&&u===a[m+1])throw new SyntaxError("The protocols entry '"+u+"' is duplicated.")});var s=nl.getOrigin(u7.href);this._origin=s?s.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,Dn("using url",this.url),this._urlInfo={nullOrigin:!vZ.hasDomain(),sameOrigin:nl.isOriginEqual(this.url,u7.href),sameScheme:nl.isSchemeEqual(this.url,u7.href)},this._ir=new bZ(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}fZ(at,ZL);function ek(n){return n===1e3||n>=3e3&&n<=4999}at.prototype.close=function(n,i){if(n&&!ek(n))throw new Error("InvalidAccessError: Invalid code");if(i&&i.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===at.CLOSING||this.readyState===at.CLOSED)){var e=!0;this._close(n||1e3,i||"Normal closure",e)}};at.prototype.send=function(n){if(typeof n!="string"&&(n=""+n),this.readyState===at.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===at.OPEN&&this._transport.send(pZ.quote(n))};at.version=Pg();at.CONNECTING=0;at.OPEN=1;at.CLOSING=2;at.CLOSED=3;at.prototype._receiveInfo=function(n,i){if(Dn("_receiveInfo",i),this._ir=null,!n){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(i),this._transUrl=n.base_url?n.base_url:this.url,n=gZ.extend(n,this._urlInfo),Dn("info",n);var e=JL.filterToEnabled(this._transportsWhitelist,n);this._transports=e.main,Dn(this._transports.length+" enabled transports"),this._connect()};at.prototype._connect=function(){for(var n=this._transports.shift();n;n=this._transports.shift()){if(Dn("attempt",n.transportName),n.needBody&&(!global.document.body||typeof global.document.readyState<"u"&&global.document.readyState!=="complete"&&global.document.readyState!=="interactive")){Dn("waiting for body"),this._transports.unshift(n),mZ.attachEvent("load",this._connect.bind(this));return}var i=Math.max(this._timeout,this._rto*n.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),i),Dn("using timeout",i);var e=nl.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),t=this._transportOptions[n.transportName];Dn("transport url",e);var r=new n(e,this._transUrl,t);r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=n.transportName,this._transport=r;return}this._close(2e3,"All transports failed",!1)};at.prototype._transportTimeout=function(){Dn("_transportTimeout"),this.readyState===at.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};at.prototype._transportMessage=function(n){Dn("_transportMessage",n);var i=this,e=n.slice(0,1),t=n.slice(1),r;switch(e){case"o":this._open();return;case"h":this.dispatchEvent(new tv("heartbeat")),Dn("heartbeat",this.transport);return}if(t)try{r=JSON.parse(t)}catch{Dn("bad json",t)}if(typeof r>"u"){Dn("empty payload",t);return}switch(e){case"a":Array.isArray(r)&&r.forEach(function(o){Dn("message",i.transport,o),i.dispatchEvent(new XL(o))});break;case"m":Dn("message",this.transport,r),this.dispatchEvent(new XL(r));break;case"c":Array.isArray(r)&&r.length===2&&this._close(r[0],r[1],!0);break}};at.prototype._transportClose=function(n,i){if(Dn("_transportClose",this.transport,n,i),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!ek(n)&&n!==2e3&&this.readyState===at.CONNECTING){this._connect();return}this._close(n,i)};at.prototype._open=function(){Dn("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===at.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=at.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new tv("open")),Dn("connected",this.transport)):this._close(1006,"Server lost session")};at.prototype._close=function(n,i,e){Dn("_close",this.transport,n,i,e,this.readyState);var t=!1;if(this._ir&&(t=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===at.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=at.CLOSING,setTimeout((function(){this.readyState=at.CLOSED,t&&this.dispatchEvent(new tv("error"));var r=new _Z("close");r.wasClean=e||!1,r.code=n||1e3,r.reason=i,this.dispatchEvent(r),this.onmessage=this.onclose=this.onerror=null,Dn("disconnected")}).bind(this),0)};at.prototype.countRTO=function(n){return n>100?4*n:300+n};tk.exports=function(n){return JL=hZ(n),QL()(at,n),at}});var rk=ue((AMe,ik)=>{"use strict";var xZ=nL();ik.exports=nk()(xZ);"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)});var Ik=ue((Z2,hv)=>{"use strict";(function(n,i){typeof Z2=="object"&&typeof hv<"u"?hv.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=i())})(Z2,function(){"use strict";function n(h,v,b){if(typeof h=="function"?h===v:h.has(v))return arguments.length<3?v:b;throw new TypeError("Private element is not present on this object")}function i(h,v){if(v.has(h))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(h,v){return h.get(n(h,v))}function t(h,v,b){i(h,v),v.set(h,b)}function r(h,v,b){return h.set(n(h,v),b),b}let o=100,a={},s=()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus()},u=h=>new Promise(v=>{if(!h)return v();let b=window.scrollX,z=window.scrollY;a.restoreFocusTimeout=setTimeout(()=>{s(),v()},o),window.scrollTo(b,z)}),m="swal2-",y=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((h,v)=>(h[v]=m+v,h),{}),I=["success","warning","info","question","error"].reduce((h,v)=>(h[v]=m+v,h),{}),A="SweetAlert2:",R=h=>h.charAt(0).toUpperCase()+h.slice(1),F=h=>{console.warn(`${A} ${typeof h=="object"?h.join(" "):h}`)},W=h=>{console.error(`${A} ${h}`)},ee=[],te=h=>{ee.includes(h)||(ee.push(h),F(h))},ae=(h,v=null)=>{te(`"${h}" is deprecated and will be removed in the next major release.${v?` Use "${v}" instead.`:""}`)},Se=h=>typeof h=="function"?h():h,tt=h=>h&&typeof h.toPromise=="function",nt=h=>tt(h)?h.toPromise():Promise.resolve(h),jt=h=>h&&Promise.resolve(h)===h,Nt=()=>document.body.querySelector(`.${y.container}`),M1=h=>{let v=Nt();return v?v.querySelector(h):null},zn=h=>M1(`.${h}`),$e=()=>zn(y.popup),d2=()=>zn(y.icon),pl=()=>zn(y["icon-content"]),C3=()=>zn(y.title),se=()=>zn(y["html-container"]),ge=()=>zn(y.image),_e=()=>zn(y["progress-steps"]),Ge=()=>zn(y["validation-message"]),Ct=()=>M1(`.${y.actions} .${y.confirm}`),Xn=()=>M1(`.${y.actions} .${y.cancel}`),dn=()=>M1(`.${y.actions} .${y.deny}`),u2=()=>zn(y["input-label"]),vt=()=>M1(`.${y.loader}`),Gr=()=>zn(y.actions),ml=()=>zn(y.footer),un=()=>zn(y["timer-progress-bar"]),ji=()=>zn(y.close),B1=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Yr=()=>{let h=$e();if(!h)return[];let v=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),b=Array.from(v).sort((re,Ze)=>{let wt=parseInt(re.getAttribute("tabindex")||"0"),on=parseInt(Ze.getAttribute("tabindex")||"0");return wt>on?1:wt<on?-1:0}),z=h.querySelectorAll(B1),j=Array.from(z).filter(re=>re.getAttribute("tabindex")!=="-1");return[...new Set(b.concat(j))].filter(re=>V1(re))},Jo=()=>er(document.body,y.shown)&&!er(document.body,y["toast-shown"])&&!er(document.body,y["no-backdrop"]),hl=()=>{let h=$e();return h?er(h,y.toast):!1},NN=()=>{let h=$e();return h?h.hasAttribute("data-loading"):!1},oi=(h,v)=>{if(h.textContent="",v){let z=new DOMParser().parseFromString(v,"text/html"),j=z.querySelector("head");j&&Array.from(j.childNodes).forEach(Ze=>{h.appendChild(Ze)});let re=z.querySelector("body");re&&Array.from(re.childNodes).forEach(Ze=>{Ze instanceof HTMLVideoElement||Ze instanceof HTMLAudioElement?h.appendChild(Ze.cloneNode(!0)):h.appendChild(Ze)})}},er=(h,v)=>{if(!v)return!1;let b=v.split(/\s+/);for(let z=0;z<b.length;z++)if(!h.classList.contains(b[z]))return!1;return!0},PN=(h,v)=>{Array.from(h.classList).forEach(b=>{!Object.values(y).includes(b)&&!Object.values(I).includes(b)&&!Object.values(v.showClass||{}).includes(b)&&h.classList.remove(b)})},ai=(h,v,b)=>{if(PN(h,v),!v.customClass)return;let z=v.customClass[b];if(z){if(typeof z!="string"&&!z.forEach){F(`Invalid type of customClass.${b}! Expected string or iterable object, got "${typeof z}"`);return}st(h,z)}},gl=(h,v)=>{if(!v)return null;switch(v){case"select":case"textarea":case"file":return h.querySelector(`.${y.popup} > .${y[v]}`);case"checkbox":return h.querySelector(`.${y.popup} > .${y.checkbox} input`);case"radio":return h.querySelector(`.${y.popup} > .${y.radio} input:checked`)||h.querySelector(`.${y.popup} > .${y.radio} input:first-child`);case"range":return h.querySelector(`.${y.popup} > .${y.range} input`);default:return h.querySelector(`.${y.popup} > .${y.input}`)}},ey=h=>{if(h.focus(),h.type!=="file"){let v=h.value;h.value="",h.value=v}},ty=(h,v,b)=>{!h||!v||(typeof v=="string"&&(v=v.split(/\s+/).filter(Boolean)),v.forEach(z=>{Array.isArray(h)?h.forEach(j=>{b?j.classList.add(z):j.classList.remove(z)}):b?h.classList.add(z):h.classList.remove(z)}))},st=(h,v)=>{ty(h,v,!0)},_i=(h,v)=>{ty(h,v,!1)},Qr=(h,v)=>{let b=Array.from(h.children);for(let z=0;z<b.length;z++){let j=b[z];if(j instanceof HTMLElement&&er(j,v))return j}},ea=(h,v,b)=>{b===`${parseInt(`${b}`)}`&&(b=parseInt(b)),b||parseInt(`${b}`)===0?h.style.setProperty(v,typeof b=="number"?`${b}px`:b):h.style.removeProperty(v)},Vn=(h,v="flex")=>{h&&(h.style.display=v)},a1=h=>{h&&(h.style.display="none")},W7=(h,v="block")=>{h&&new MutationObserver(()=>{w3(h,h.innerHTML,v)}).observe(h,{childList:!0,subtree:!0})},ny=(h,v,b,z)=>{let j=h.querySelector(v);j&&j.style.setProperty(b,z)},w3=(h,v,b="flex")=>{v?Vn(h,b):a1(h)},V1=h=>!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length)),ON=()=>!V1(Ct())&&!V1(dn())&&!V1(Xn()),G7=h=>h.scrollHeight>h.clientHeight,RN=(h,v)=>{let b=h;for(;b&&b!==v;){if(G7(b))return!0;b=b.parentElement}return!1},iy=h=>{let v=window.getComputedStyle(h),b=parseFloat(v.getPropertyValue("animation-duration")||"0"),z=parseFloat(v.getPropertyValue("transition-duration")||"0");return b>0||z>0},Y7=(h,v=!1)=>{let b=un();b&&V1(b)&&(v&&(b.style.transition="none",b.style.width="100%"),setTimeout(()=>{b.style.transition=`width ${h/1e3}s linear`,b.style.width="0%"},10))},FN=()=>{let h=un();if(!h)return;let v=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";let b=parseInt(window.getComputedStyle(h).width),z=v/b*100;h.style.width=`${z}%`},BN=()=>typeof window>"u"||typeof document>"u",VN=`
 <div aria-labelledby="${y.title}" aria-describedby="${y["html-container"]}" class="${y.popup}" tabindex="-1">
   <button type="button" class="${y.close}"></button>
   <ul class="${y["progress-steps"]}"></ul>
   <div class="${y.icon}"></div>
   <img class="${y.image}" />
   <h2 class="${y.title}" id="${y.title}"></h2>
   <div class="${y["html-container"]}" id="${y["html-container"]}"></div>
   <input class="${y.input}" id="${y.input}" />
   <input type="file" class="${y.file}" />
   <div class="${y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${y.select}" id="${y.select}"></select>
   <div class="${y.radio}"></div>
   <label class="${y.checkbox}">
     <input type="checkbox" id="${y.checkbox}" />
     <span class="${y.label}"></span>
   </label>
   <textarea class="${y.textarea}" id="${y.textarea}"></textarea>
   <div class="${y["validation-message"]}" id="${y["validation-message"]}"></div>
   <div class="${y.actions}">
     <div class="${y.loader}"></div>
     <button type="button" class="${y.confirm}"></button>
     <button type="button" class="${y.deny}"></button>
     <button type="button" class="${y.cancel}"></button>
   </div>
   <div class="${y.footer}"></div>
   <div class="${y["timer-progress-bar-container"]}">
     <div class="${y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),UN=()=>{let h=Nt();return h?(h.remove(),_i([document.documentElement,document.body],[y["no-backdrop"],y["toast-shown"],y["has-column"]]),!0):!1},ta=()=>{a.currentInstance.resetValidationMessage()},jN=()=>{let h=$e(),v=Qr(h,y.input),b=Qr(h,y.file),z=h.querySelector(`.${y.range} input`),j=h.querySelector(`.${y.range} output`),re=Qr(h,y.select),Ze=h.querySelector(`.${y.checkbox} input`),wt=Qr(h,y.textarea);v.oninput=ta,b.onchange=ta,re.onchange=ta,Ze.onchange=ta,wt.oninput=ta,z.oninput=()=>{ta(),j.value=z.value},z.onchange=()=>{ta(),j.value=z.value}},HN=h=>typeof h=="string"?document.querySelector(h):h,qN=h=>{let v=$e();v.setAttribute("role",h.toast?"alert":"dialog"),v.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||v.setAttribute("aria-modal","true")},$N=h=>{window.getComputedStyle(h).direction==="rtl"&&st(Nt(),y.rtl)},WN=h=>{let v=UN();if(BN()){W("SweetAlert2 requires document to initialize");return}let b=document.createElement("div");b.className=y.container,v&&st(b,y["no-transition"]),oi(b,VN),b.dataset.swal2Theme=h.theme;let z=HN(h.target);z.appendChild(b),h.topLayer&&(b.setAttribute("popover",""),b.showPopover()),qN(h),$N(z),jN()},Q7=(h,v)=>{h instanceof HTMLElement?v.appendChild(h):typeof h=="object"?GN(h,v):h&&oi(v,h)},GN=(h,v)=>{h.jquery?YN(v,h):oi(v,h.toString())},YN=(h,v)=>{if(h.textContent="",0 in v)for(let b=0;b in v;b++)h.appendChild(v[b].cloneNode(!0));else h.appendChild(v.cloneNode(!0))},QN=(h,v)=>{let b=Gr(),z=vt();!b||!z||(!v.showConfirmButton&&!v.showDenyButton&&!v.showCancelButton?a1(b):Vn(b),ai(b,v,"actions"),KN(b,z,v),oi(z,v.loaderHtml||""),ai(z,v,"loader"))};function KN(h,v,b){let z=Ct(),j=dn(),re=Xn();!z||!j||!re||(X7(z,"confirm",b),X7(j,"deny",b),X7(re,"cancel",b),XN(z,j,re,b),b.reverseButtons&&(b.toast?(h.insertBefore(re,z),h.insertBefore(j,z)):(h.insertBefore(re,v),h.insertBefore(j,v),h.insertBefore(z,v))))}function XN(h,v,b,z){if(!z.buttonsStyling){_i([h,v,b],y.styled);return}st([h,v,b],y.styled),z.confirmButtonColor&&h.style.setProperty("--swal2-confirm-button-background-color",z.confirmButtonColor),z.denyButtonColor&&v.style.setProperty("--swal2-deny-button-background-color",z.denyButtonColor),z.cancelButtonColor&&b.style.setProperty("--swal2-cancel-button-background-color",z.cancelButtonColor),K7(h),K7(v),K7(b)}function K7(h){let v=window.getComputedStyle(h);if(v.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let b=v.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");h.style.setProperty("--swal2-action-button-focus-box-shadow",v.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${b}`))}function X7(h,v,b){let z=R(v);w3(h,b[`show${z}Button`],"inline-block"),oi(h,b[`${v}ButtonText`]||""),h.setAttribute("aria-label",b[`${v}ButtonAriaLabel`]||""),h.className=y[v],ai(h,b,`${v}Button`)}let ZN=(h,v)=>{let b=ji();b&&(oi(b,v.closeButtonHtml||""),ai(b,v,"closeButton"),w3(b,v.showCloseButton),b.setAttribute("aria-label",v.closeButtonAriaLabel||""))},JN=(h,v)=>{let b=Nt();b&&(eP(b,v.backdrop),tP(b,v.position),nP(b,v.grow),ai(b,v,"container"))};function eP(h,v){typeof v=="string"?h.style.background=v:v||st([document.documentElement,document.body],y["no-backdrop"])}function tP(h,v){v&&(v in y?st(h,y[v]):(F('The "position" parameter is not valid, defaulting to "center"'),st(h,y.center)))}function nP(h,v){v&&st(h,y[`grow-${v}`])}var Pt={innerParams:new WeakMap,domCache:new WeakMap};let iP=["input","file","range","select","radio","checkbox","textarea"],rP=(h,v)=>{let b=$e();if(!b)return;let z=Pt.innerParams.get(h),j=!z||v.input!==z.input;iP.forEach(re=>{let Ze=Qr(b,y[re]);Ze&&(sP(re,v.inputAttributes),Ze.className=y[re],j&&a1(Ze))}),v.input&&(j&&oP(v),cP(v))},oP=h=>{if(!h.input)return;if(!fn[h.input]){W(`Unexpected type of input! Expected ${Object.keys(fn).join(" | ")}, got "${h.input}"`);return}let v=ry(h.input);if(!v)return;let b=fn[h.input](v,h);Vn(v),h.inputAutoFocus&&setTimeout(()=>{ey(b)})},aP=h=>{for(let v=0;v<h.attributes.length;v++){let b=h.attributes[v].name;["id","type","value","style"].includes(b)||h.removeAttribute(b)}},sP=(h,v)=>{let b=$e();if(!b)return;let z=gl(b,h);if(z){aP(z);for(let j in v)z.setAttribute(j,v[j])}},cP=h=>{if(!h.input)return;let v=ry(h.input);v&&ai(v,h,"input")},Z7=(h,v)=>{!h.placeholder&&v.inputPlaceholder&&(h.placeholder=v.inputPlaceholder)},S3=(h,v,b)=>{if(b.inputLabel){let z=document.createElement("label"),j=y["input-label"];z.setAttribute("for",h.id),z.className=j,typeof b.customClass=="object"&&st(z,b.customClass.inputLabel),z.innerText=b.inputLabel,v.insertAdjacentElement("beforebegin",z)}},ry=h=>{let v=$e();if(v)return Qr(v,y[h]||y.input)},vl=(h,v)=>{["string","number"].includes(typeof v)?h.value=`${v}`:jt(v)||F(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof v}"`)},fn={};fn.text=fn.email=fn.password=fn.number=fn.tel=fn.url=fn.search=fn.date=fn["datetime-local"]=fn.time=fn.week=fn.month=(h,v)=>(vl(h,v.inputValue),S3(h,h,v),Z7(h,v),h.type=v.input,h),fn.file=(h,v)=>(S3(h,h,v),Z7(h,v),h),fn.range=(h,v)=>{let b=h.querySelector("input"),z=h.querySelector("output");return vl(b,v.inputValue),b.type=v.input,vl(z,v.inputValue),S3(b,h,v),h},fn.select=(h,v)=>{if(h.textContent="",v.inputPlaceholder){let b=document.createElement("option");oi(b,v.inputPlaceholder),b.value="",b.disabled=!0,b.selected=!0,h.appendChild(b)}return S3(h,h,v),h},fn.radio=h=>(h.textContent="",h),fn.checkbox=(h,v)=>{let b=gl($e(),"checkbox");b.value="1",b.checked=!!v.inputValue;let z=h.querySelector("span");return oi(z,v.inputPlaceholder||v.inputLabel),b},fn.textarea=(h,v)=>{vl(h,v.inputValue),Z7(h,v),S3(h,h,v);let b=z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let z=parseInt(window.getComputedStyle($e()).width),j=()=>{if(!document.body.contains(h))return;let re=h.offsetWidth+b(h);re>z?$e().style.width=`${re}px`:ea($e(),"width",v.width)};new MutationObserver(j).observe(h,{attributes:!0,attributeFilter:["style"]})}}),h};let lP=(h,v)=>{let b=se();b&&(W7(b),ai(b,v,"htmlContainer"),v.html?(Q7(v.html,b),Vn(b,"block")):v.text?(b.textContent=v.text,Vn(b,"block")):a1(b),rP(h,v))},dP=(h,v)=>{let b=ml();b&&(W7(b),w3(b,!!v.footer,"block"),v.footer&&Q7(v.footer,b),ai(b,v,"footer"))},uP=(h,v)=>{let b=Pt.innerParams.get(h),z=d2();if(!z)return;if(b&&v.icon===b.icon){sy(z,v),oy(z,v);return}if(!v.icon&&!v.iconHtml){a1(z);return}if(v.icon&&Object.keys(I).indexOf(v.icon)===-1){W(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${v.icon}"`),a1(z);return}Vn(z),sy(z,v),oy(z,v),st(z,v.showClass&&v.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ay)},oy=(h,v)=>{for(let[b,z]of Object.entries(I))v.icon!==b&&_i(h,z);st(h,v.icon&&I[v.icon]),mP(h,v),ay(),ai(h,v,"icon")},ay=()=>{let h=$e();if(!h)return;let v=window.getComputedStyle(h).getPropertyValue("background-color"),b=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let z=0;z<b.length;z++)b[z].style.backgroundColor=v},fP=h=>`
  ${h.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${h.animation?'<div class="swal2-success-fix"></div>':""}
  ${h.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,pP=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,sy=(h,v)=>{if(!v.icon&&!v.iconHtml)return;let b=h.innerHTML,z="";v.iconHtml?z=cy(v.iconHtml):v.icon==="success"?(z=fP(v),b=b.replace(/ style=".*?"/g,"")):v.icon==="error"?z=pP:v.icon&&(z=cy({question:"?",warning:"!",info:"i"}[v.icon])),b.trim()!==z.trim()&&oi(h,z)},mP=(h,v)=>{if(v.iconColor){h.style.color=v.iconColor,h.style.borderColor=v.iconColor;for(let b of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ny(h,b,"background-color",v.iconColor);ny(h,".swal2-success-ring","border-color",v.iconColor)}},cy=h=>`<div class="${y["icon-content"]}">${h}</div>`,hP=(h,v)=>{let b=ge();if(b){if(!v.imageUrl){a1(b);return}Vn(b,""),b.setAttribute("src",v.imageUrl),b.setAttribute("alt",v.imageAlt||""),ea(b,"width",v.imageWidth),ea(b,"height",v.imageHeight),b.className=y.image,ai(b,v,"image")}},J7=!1,ly=0,dy=0,uy=0,fy=0,gP=h=>{h.addEventListener("mousedown",yl),document.body.addEventListener("mousemove",_l),h.addEventListener("mouseup",bl),h.addEventListener("touchstart",yl),document.body.addEventListener("touchmove",_l),h.addEventListener("touchend",bl)},vP=h=>{h.removeEventListener("mousedown",yl),document.body.removeEventListener("mousemove",_l),h.removeEventListener("mouseup",bl),h.removeEventListener("touchstart",yl),document.body.removeEventListener("touchmove",_l),h.removeEventListener("touchend",bl)},yl=h=>{let v=$e();if(h.target===v||d2().contains(h.target)){J7=!0;let b=py(h);ly=b.clientX,dy=b.clientY,uy=parseInt(v.style.insetInlineStart)||0,fy=parseInt(v.style.insetBlockStart)||0,st(v,"swal2-dragging")}},_l=h=>{let v=$e();if(J7){let{clientX:b,clientY:z}=py(h);v.style.insetInlineStart=`${uy+(b-ly)}px`,v.style.insetBlockStart=`${fy+(z-dy)}px`}},bl=()=>{let h=$e();J7=!1,_i(h,"swal2-dragging")},py=h=>{let v=0,b=0;return h.type.startsWith("mouse")?(v=h.clientX,b=h.clientY):h.type.startsWith("touch")&&(v=h.touches[0].clientX,b=h.touches[0].clientY),{clientX:v,clientY:b}},yP=(h,v)=>{let b=Nt(),z=$e();if(!(!b||!z)){if(v.toast){ea(b,"width",v.width),z.style.width="100%";let j=vt();j&&z.insertBefore(j,d2())}else ea(z,"width",v.width);ea(z,"padding",v.padding),v.color&&(z.style.color=v.color),v.background&&(z.style.background=v.background),a1(Ge()),_P(z,v),v.draggable&&!v.toast?(st(z,y.draggable),gP(z)):(_i(z,y.draggable),vP(z))}},_P=(h,v)=>{let b=v.showClass||{};h.className=`${y.popup} ${V1(h)?b.popup:""}`,v.toast?(st([document.documentElement,document.body],y["toast-shown"]),st(h,y.toast)):st(h,y.modal),ai(h,v,"popup"),typeof v.customClass=="string"&&st(h,v.customClass),v.icon&&st(h,y[`icon-${v.icon}`])},bP=(h,v)=>{let b=_e();if(!b)return;let{progressSteps:z,currentProgressStep:j}=v;if(!z||z.length===0||j===void 0){a1(b);return}Vn(b),b.textContent="",j>=z.length&&F("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),z.forEach((re,Ze)=>{let wt=xP(re);if(b.appendChild(wt),Ze===j&&st(wt,y["active-progress-step"]),Ze!==z.length-1){let on=CP(v);b.appendChild(on)}})},xP=h=>{let v=document.createElement("li");return st(v,y["progress-step"]),oi(v,h),v},CP=h=>{let v=document.createElement("li");return st(v,y["progress-step-line"]),h.progressStepsDistance&&ea(v,"width",h.progressStepsDistance),v},wP=(h,v)=>{let b=C3();b&&(W7(b),w3(b,!!(v.title||v.titleText),"block"),v.title&&Q7(v.title,b),v.titleText&&(b.innerText=v.titleText),ai(b,v,"title"))},my=(h,v)=>{yP(h,v),JN(h,v),bP(h,v),uP(h,v),hP(h,v),wP(h,v),ZN(h,v),lP(h,v),QN(h,v),dP(h,v);let b=$e();typeof v.didRender=="function"&&b&&v.didRender(b),a.eventEmitter.emit("didRender",b)},SP=()=>V1($e()),hy=()=>{var h;return(h=Ct())===null||h===void 0?void 0:h.click()},MP=()=>{var h;return(h=dn())===null||h===void 0?void 0:h.click()},EP=()=>{var h;return(h=Xn())===null||h===void 0?void 0:h.click()},gs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),gy=h=>{h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},TP=(h,v,b)=>{gy(h),v.toast||(h.keydownHandler=z=>DP(v,z,b),h.keydownTarget=v.keydownListenerCapture?window:$e(),h.keydownListenerCapture=v.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},eu=(h,v)=>{var b;let z=Yr();if(z.length){h=h+v,h===-2&&(h=z.length-1),h===z.length?h=0:h===-1&&(h=z.length-1),z[h].focus();return}(b=$e())===null||b===void 0||b.focus()},vy=["ArrowRight","ArrowDown"],IP=["ArrowLeft","ArrowUp"],DP=(h,v,b)=>{h&&(v.isComposing||v.keyCode===229||(h.stopKeydownPropagation&&v.stopPropagation(),v.key==="Enter"?zP(v,h):v.key==="Tab"?LP(v):[...vy,...IP].includes(v.key)?kP(v.key):v.key==="Escape"&&AP(v,h,b)))},zP=(h,v)=>{if(!Se(v.allowEnterKey))return;let b=gl($e(),v.input);if(h.target&&b&&h.target instanceof HTMLElement&&h.target.outerHTML===b.outerHTML){if(["textarea","file"].includes(v.input))return;hy(),h.preventDefault()}},LP=h=>{let v=h.target,b=Yr(),z=-1;for(let j=0;j<b.length;j++)if(v===b[j]){z=j;break}h.shiftKey?eu(z,-1):eu(z,1),h.stopPropagation(),h.preventDefault()},kP=h=>{let v=Gr(),b=Ct(),z=dn(),j=Xn();if(!v||!b||!z||!j)return;let re=[b,z,j];if(document.activeElement instanceof HTMLElement&&!re.includes(document.activeElement))return;let Ze=vy.includes(h)?"nextElementSibling":"previousElementSibling",wt=document.activeElement;if(wt){for(let on=0;on<v.children.length;on++){if(wt=wt[Ze],!wt)return;if(wt instanceof HTMLButtonElement&&V1(wt))break}wt instanceof HTMLButtonElement&&wt.focus()}},AP=(h,v,b)=>{h.preventDefault(),Se(v.allowEscapeKey)&&b(gs.esc)};var vs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let NP=()=>{let h=Nt();Array.from(document.body.children).forEach(b=>{b.contains(h)||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")||""),b.setAttribute("aria-hidden","true"))})},yy=()=>{Array.from(document.body.children).forEach(v=>{v.hasAttribute("data-previous-aria-hidden")?(v.setAttribute("aria-hidden",v.getAttribute("data-previous-aria-hidden")||""),v.removeAttribute("data-previous-aria-hidden")):v.removeAttribute("aria-hidden")})},_y=typeof window<"u"&&!!window.GestureEvent,PP=()=>{if(_y&&!er(document.body,y.iosfix)){let h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,st(document.body,y.iosfix),OP()}},OP=()=>{let h=Nt();if(!h)return;let v;h.ontouchstart=b=>{v=RP(b)},h.ontouchmove=b=>{v&&(b.preventDefault(),b.stopPropagation())}},RP=h=>{let v=h.target,b=Nt(),z=se();return!b||!z||FP(h)||BP(h)?!1:v===b||!G7(b)&&v instanceof HTMLElement&&!RN(v,z)&&v.tagName!=="INPUT"&&v.tagName!=="TEXTAREA"&&!(G7(z)&&z.contains(v))},FP=h=>h.touches&&h.touches.length&&h.touches[0].touchType==="stylus",BP=h=>h.touches&&h.touches.length>1,VP=()=>{if(er(document.body,y.iosfix)){let h=parseInt(document.body.style.top,10);_i(document.body,y.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},UP=()=>{let h=document.createElement("div");h.className=y["scrollbar-measure"],document.body.appendChild(h);let v=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),v},ys=null,jP=h=>{ys===null&&(document.body.scrollHeight>window.innerHeight||h==="scroll")&&(ys=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ys+UP()}px`)},HP=()=>{ys!==null&&(document.body.style.paddingRight=`${ys}px`,ys=null)};function by(h,v,b,z){hl()?Cy(h,z):(u(b).then(()=>Cy(h,z)),gy(a)),_y?(v.setAttribute("style","display:none !important"),v.removeAttribute("class"),v.innerHTML=""):v.remove(),Jo()&&(HP(),VP(),yy()),qP()}function qP(){_i([document.documentElement,document.body],[y.shown,y["height-auto"],y["no-backdrop"],y["toast-shown"]])}function Kr(h){h=WP(h);let v=vs.swalPromiseResolve.get(this),b=$P(this);this.isAwaitingPromise?h.isDismissed||(M3(this),v(h)):b&&v(h)}let $P=h=>{let v=$e();if(!v)return!1;let b=Pt.innerParams.get(h);if(!b||er(v,b.hideClass.popup))return!1;_i(v,b.showClass.popup),st(v,b.hideClass.popup);let z=Nt();return _i(z,b.showClass.backdrop),st(z,b.hideClass.backdrop),GP(h,v,b),!0};function xy(h){let v=vs.swalPromiseReject.get(this);M3(this),v&&v(h)}let M3=h=>{h.isAwaitingPromise&&(delete h.isAwaitingPromise,Pt.innerParams.get(h)||h._destroy())},WP=h=>typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h),GP=(h,v,b)=>{var z;let j=Nt(),re=iy(v);typeof b.willClose=="function"&&b.willClose(v),(z=a.eventEmitter)===null||z===void 0||z.emit("willClose",v),re?YP(h,v,j,b.returnFocus,b.didClose):by(h,j,b.returnFocus,b.didClose)},YP=(h,v,b,z,j)=>{a.swalCloseEventFinishedCallback=by.bind(null,h,b,z,j);let re=function(Ze){if(Ze.target===v){var wt;(wt=a.swalCloseEventFinishedCallback)===null||wt===void 0||wt.call(a),delete a.swalCloseEventFinishedCallback,v.removeEventListener("animationend",re),v.removeEventListener("transitionend",re)}};v.addEventListener("animationend",re),v.addEventListener("transitionend",re)},Cy=(h,v)=>{setTimeout(()=>{var b;typeof v=="function"&&v.bind(h.params)(),(b=a.eventEmitter)===null||b===void 0||b.emit("didClose"),h._destroy&&h._destroy()})},_s=h=>{let v=$e();if(v||new El,v=$e(),!v)return;let b=vt();hl()?a1(d2()):QP(v,h),Vn(b),v.setAttribute("data-loading","true"),v.setAttribute("aria-busy","true"),v.focus()},QP=(h,v)=>{let b=Gr(),z=vt();!b||!z||(!v&&V1(Ct())&&(v=Ct()),Vn(b),v&&(a1(v),z.setAttribute("data-button-to-replace",v.className),b.insertBefore(z,v)),st([h,b],y.loading))},KP=(h,v)=>{v.input==="select"||v.input==="radio"?tO(h,v):["text","email","number","tel","textarea"].some(b=>b===v.input)&&(tt(v.inputValue)||jt(v.inputValue))&&(_s(Ct()),nO(h,v))},XP=(h,v)=>{let b=h.getInput();if(!b)return null;switch(v.input){case"checkbox":return ZP(b);case"radio":return JP(b);case"file":return eO(b);default:return v.inputAutoTrim?b.value.trim():b.value}},ZP=h=>h.checked?1:0,JP=h=>h.checked?h.value:null,eO=h=>h.files&&h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null,tO=(h,v)=>{let b=$e();if(!b)return;let z=j=>{v.input==="select"?iO(b,xl(j),v):v.input==="radio"&&rO(b,xl(j),v)};tt(v.inputOptions)||jt(v.inputOptions)?(_s(Ct()),nt(v.inputOptions).then(j=>{h.hideLoading(),z(j)})):typeof v.inputOptions=="object"?z(v.inputOptions):W(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof v.inputOptions}`)},nO=(h,v)=>{let b=h.getInput();b&&(a1(b),nt(v.inputValue).then(z=>{b.value=v.input==="number"?`${parseFloat(z)||0}`:`${z}`,Vn(b),b.focus(),h.hideLoading()}).catch(z=>{W(`Error in inputValue promise: ${z}`),b.value="",Vn(b),b.focus(),h.hideLoading()}))};function iO(h,v,b){let z=Qr(h,y.select);if(!z)return;let j=(re,Ze,wt)=>{let on=document.createElement("option");on.value=wt,oi(on,Ze),on.selected=wy(wt,b.inputValue),re.appendChild(on)};v.forEach(re=>{let Ze=re[0],wt=re[1];if(Array.isArray(wt)){let on=document.createElement("optgroup");on.label=Ze,on.disabled=!1,z.appendChild(on),wt.forEach(xs=>j(on,xs[1],xs[0]))}else j(z,wt,Ze)}),z.focus()}function rO(h,v,b){let z=Qr(h,y.radio);if(!z)return;v.forEach(re=>{let Ze=re[0],wt=re[1],on=document.createElement("input"),xs=document.createElement("label");on.type="radio",on.name=y.radio,on.value=Ze,wy(Ze,b.inputValue)&&(on.checked=!0);let ou=document.createElement("span");oi(ou,wt),ou.className=y.label,xs.appendChild(on),xs.appendChild(ou),z.appendChild(xs)});let j=z.querySelectorAll("input");j.length&&j[0].focus()}let xl=h=>{let v=[];return h instanceof Map?h.forEach((b,z)=>{let j=b;typeof j=="object"&&(j=xl(j)),v.push([z,j])}):Object.keys(h).forEach(b=>{let z=h[b];typeof z=="object"&&(z=xl(z)),v.push([b,z])}),v},wy=(h,v)=>!!v&&v.toString()===h.toString(),oO=h=>{let v=Pt.innerParams.get(h);h.disableButtons(),v.input?Sy(h,"confirm"):nu(h,!0)},aO=h=>{let v=Pt.innerParams.get(h);h.disableButtons(),v.returnInputValueOnDeny?Sy(h,"deny"):tu(h,!1)},sO=(h,v)=>{h.disableButtons(),v(gs.cancel)},Sy=(h,v)=>{let b=Pt.innerParams.get(h);if(!b.input){W(`The "input" parameter is needed to be set when using returnInputValueOn${R(v)}`);return}let z=h.getInput(),j=XP(h,b);b.inputValidator?cO(h,j,v):z&&!z.checkValidity()?(h.enableButtons(),h.showValidationMessage(b.validationMessage||z.validationMessage)):v==="deny"?tu(h,j):nu(h,j)},cO=(h,v,b)=>{let z=Pt.innerParams.get(h);h.disableInput(),Promise.resolve().then(()=>nt(z.inputValidator(v,z.validationMessage))).then(re=>{h.enableButtons(),h.enableInput(),re?h.showValidationMessage(re):b==="deny"?tu(h,v):nu(h,v)})},tu=(h,v)=>{let b=Pt.innerParams.get(h||void 0);b.showLoaderOnDeny&&_s(dn()),b.preDeny?(h.isAwaitingPromise=!0,Promise.resolve().then(()=>nt(b.preDeny(v,b.validationMessage))).then(j=>{j===!1?(h.hideLoading(),M3(h)):h.close({isDenied:!0,value:typeof j>"u"?v:j})}).catch(j=>Ey(h||void 0,j))):h.close({isDenied:!0,value:v})},My=(h,v)=>{h.close({isConfirmed:!0,value:v})},Ey=(h,v)=>{h.rejectPromise(v)},nu=(h,v)=>{let b=Pt.innerParams.get(h||void 0);b.showLoaderOnConfirm&&_s(),b.preConfirm?(h.resetValidationMessage(),h.isAwaitingPromise=!0,Promise.resolve().then(()=>nt(b.preConfirm(v,b.validationMessage))).then(j=>{V1(Ge())||j===!1?(h.hideLoading(),M3(h)):My(h,typeof j>"u"?v:j)}).catch(j=>Ey(h||void 0,j))):My(h,v)};function Cl(){let h=Pt.innerParams.get(this);if(!h)return;let v=Pt.domCache.get(this);a1(v.loader),hl()?h.icon&&Vn(d2()):lO(v),_i([v.popup,v.actions],y.loading),v.popup.removeAttribute("aria-busy"),v.popup.removeAttribute("data-loading"),v.confirmButton.disabled=!1,v.denyButton.disabled=!1,v.cancelButton.disabled=!1}let lO=h=>{let v=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));v.length?Vn(v[0],"inline-block"):ON()&&a1(h.actions)};function Ty(){let h=Pt.innerParams.get(this),v=Pt.domCache.get(this);return v?gl(v.popup,h.input):null}function Iy(h,v,b){let z=Pt.domCache.get(h);v.forEach(j=>{z[j].disabled=b})}function Dy(h,v){let b=$e();if(!(!b||!h))if(h.type==="radio"){let z=b.querySelectorAll(`[name="${y.radio}"]`);for(let j=0;j<z.length;j++)z[j].disabled=v}else h.disabled=v}function zy(){Iy(this,["confirmButton","denyButton","cancelButton"],!1)}function Ly(){Iy(this,["confirmButton","denyButton","cancelButton"],!0)}function ky(){Dy(this.getInput(),!1)}function Ay(){Dy(this.getInput(),!0)}function Ny(h){let v=Pt.domCache.get(this),b=Pt.innerParams.get(this);oi(v.validationMessage,h),v.validationMessage.className=y["validation-message"],b.customClass&&b.customClass.validationMessage&&st(v.validationMessage,b.customClass.validationMessage),Vn(v.validationMessage);let z=this.getInput();z&&(z.setAttribute("aria-invalid","true"),z.setAttribute("aria-describedby",y["validation-message"]),ey(z),st(z,y.inputerror))}function Py(){let h=Pt.domCache.get(this);h.validationMessage&&a1(h.validationMessage);let v=this.getInput();v&&(v.removeAttribute("aria-invalid"),v.removeAttribute("aria-describedby"),_i(v,y.inputerror))}let bs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},dO=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],uO={allowEnterKey:void 0},fO=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Oy=h=>Object.prototype.hasOwnProperty.call(bs,h),Ry=h=>dO.indexOf(h)!==-1,Fy=h=>uO[h],pO=h=>{Oy(h)||F(`Unknown parameter "${h}"`)},mO=h=>{fO.includes(h)&&F(`The parameter "${h}" is incompatible with toasts`)},hO=h=>{let v=Fy(h);v&&ae(h,v)},By=h=>{h.backdrop===!1&&h.allowOutsideClick&&F('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),h.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(h.theme)&&F(`Invalid theme "${h.theme}"`);for(let v in h)pO(v),h.toast&&mO(v),hO(v)};function Vy(h){let v=Nt(),b=$e(),z=Pt.innerParams.get(this);if(!b||er(b,z.hideClass.popup)){F("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let j=gO(h),re=Object.assign({},z,j);By(re),v.dataset.swal2Theme=re.theme,my(this,re),Pt.innerParams.set(this,re),Object.defineProperties(this,{params:{value:Object.assign({},this.params,h),writable:!1,enumerable:!0}})}let gO=h=>{let v={};return Object.keys(h).forEach(b=>{Ry(b)?v[b]=h[b]:F(`Invalid parameter to update: ${b}`)}),v};function Uy(){let h=Pt.domCache.get(this),v=Pt.innerParams.get(this);if(!v){jy(this);return}h.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),typeof v.didDestroy=="function"&&v.didDestroy(),a.eventEmitter.emit("didDestroy"),vO(this)}let vO=h=>{jy(h),delete h.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},jy=h=>{h.isAwaitingPromise?(iu(Pt,h),h.isAwaitingPromise=!0):(iu(vs,h),iu(Pt,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},iu=(h,v)=>{for(let b in h)h[b].delete(v)};var yO=Object.freeze({__proto__:null,_destroy:Uy,close:Kr,closeModal:Kr,closePopup:Kr,closeToast:Kr,disableButtons:Ly,disableInput:Ay,disableLoading:Cl,enableButtons:zy,enableInput:ky,getInput:Ty,handleAwaitingPromise:M3,hideLoading:Cl,rejectPromise:xy,resetValidationMessage:Py,showValidationMessage:Ny,update:Vy});let _O=(h,v,b)=>{h.toast?bO(h,v,b):(CO(v),wO(v),SO(h,v,b))},bO=(h,v,b)=>{v.popup.onclick=()=>{h&&(xO(h)||h.timer||h.input)||b(gs.close)}},xO=h=>!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton),wl=!1,CO=h=>{h.popup.onmousedown=()=>{h.container.onmouseup=function(v){h.container.onmouseup=()=>{},v.target===h.container&&(wl=!0)}}},wO=h=>{h.container.onmousedown=v=>{v.target===h.container&&v.preventDefault(),h.popup.onmouseup=function(b){h.popup.onmouseup=()=>{},(b.target===h.popup||b.target instanceof HTMLElement&&h.popup.contains(b.target))&&(wl=!0)}}},SO=(h,v,b)=>{v.container.onclick=z=>{if(wl){wl=!1;return}z.target===v.container&&Se(h.allowOutsideClick)&&b(gs.backdrop)}},MO=h=>typeof h=="object"&&h.jquery,Hy=h=>h instanceof Element||MO(h),EO=h=>{let v={};return typeof h[0]=="object"&&!Hy(h[0])?Object.assign(v,h[0]):["title","html","icon"].forEach((b,z)=>{let j=h[z];typeof j=="string"||Hy(j)?v[b]=j:j!==void 0&&W(`Unexpected type of ${b}! Expected "string" or "Element", got ${typeof j}`)}),v};function TO(...h){return new this(...h)}function IO(h){class v extends this{_main(z,j){return super._main(z,Object.assign({},h,j))}}return v}let DO=()=>a.timeout&&a.timeout.getTimerLeft(),qy=()=>{if(a.timeout)return FN(),a.timeout.stop()},$y=()=>{if(a.timeout){let h=a.timeout.start();return Y7(h),h}},zO=()=>{let h=a.timeout;return h&&(h.running?qy():$y())},LO=h=>{if(a.timeout){let v=a.timeout.increase(h);return Y7(v,!0),v}},kO=()=>!!(a.timeout&&a.timeout.isRunning()),Wy=!1,ru={};function AO(h="data-swal-template"){ru[h]=this,Wy||(document.body.addEventListener("click",NO),Wy=!0)}let NO=h=>{for(let v=h.target;v&&v!==document;v=v.parentNode)for(let b in ru){let z=v.getAttribute(b);if(z){ru[b].fire({template:z});return}}};class PO{constructor(){this.events={}}_getHandlersByEventName(v){return typeof this.events[v]>"u"&&(this.events[v]=[]),this.events[v]}on(v,b){let z=this._getHandlersByEventName(v);z.includes(b)||z.push(b)}once(v,b){let z=(...j)=>{this.removeListener(v,z),b.apply(this,j)};this.on(v,z)}emit(v,...b){this._getHandlersByEventName(v).forEach(z=>{try{z.apply(this,b)}catch(j){console.error(j)}})}removeListener(v,b){let z=this._getHandlersByEventName(v),j=z.indexOf(b);j>-1&&z.splice(j,1)}removeAllListeners(v){this.events[v]!==void 0&&(this.events[v].length=0)}reset(){this.events={}}}a.eventEmitter=new PO;var OO=Object.freeze({__proto__:null,argsToParams:EO,bindClickHandler:AO,clickCancel:EP,clickConfirm:hy,clickDeny:MP,enableLoading:_s,fire:TO,getActions:Gr,getCancelButton:Xn,getCloseButton:ji,getConfirmButton:Ct,getContainer:Nt,getDenyButton:dn,getFocusableElements:Yr,getFooter:ml,getHtmlContainer:se,getIcon:d2,getIconContent:pl,getImage:ge,getInputLabel:u2,getLoader:vt,getPopup:$e,getProgressSteps:_e,getTimerLeft:DO,getTimerProgressBar:un,getTitle:C3,getValidationMessage:Ge,increaseTimer:LO,isDeprecatedParameter:Fy,isLoading:NN,isTimerRunning:kO,isUpdatableParameter:Ry,isValidParameter:Oy,isVisible:SP,mixin:IO,off:(h,v)=>{if(!h){a.eventEmitter.reset();return}v?a.eventEmitter.removeListener(h,v):a.eventEmitter.removeAllListeners(h)},on:(h,v)=>{a.eventEmitter.on(h,v)},once:(h,v)=>{a.eventEmitter.once(h,v)},resumeTimer:$y,showLoading:_s,stopTimer:qy,toggleTimer:zO});class RO{constructor(v,b){this.callback=v,this.remaining=b,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(v){let b=this.running;return b&&this.stop(),this.remaining+=v,b&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Gy=["swal-title","swal-html","swal-footer"],FO=h=>{let v=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!v)return{};let b=v.content;return WO(b),Object.assign(BO(b),VO(b),UO(b),jO(b),HO(b),qO(b),$O(b,Gy))},BO=h=>{let v={};return Array.from(h.querySelectorAll("swal-param")).forEach(z=>{na(z,["name","value"]);let j=z.getAttribute("name"),re=z.getAttribute("value");!j||!re||(typeof bs[j]=="boolean"?v[j]=re!=="false":typeof bs[j]=="object"?v[j]=JSON.parse(re):v[j]=re)}),v},VO=h=>{let v={};return Array.from(h.querySelectorAll("swal-function-param")).forEach(z=>{let j=z.getAttribute("name"),re=z.getAttribute("value");!j||!re||(v[j]=new Function(`return ${re}`)())}),v},UO=h=>{let v={};return Array.from(h.querySelectorAll("swal-button")).forEach(z=>{na(z,["type","color","aria-label"]);let j=z.getAttribute("type");!j||!["confirm","cancel","deny"].includes(j)||(v[`${j}ButtonText`]=z.innerHTML,v[`show${R(j)}Button`]=!0,z.hasAttribute("color")&&(v[`${j}ButtonColor`]=z.getAttribute("color")),z.hasAttribute("aria-label")&&(v[`${j}ButtonAriaLabel`]=z.getAttribute("aria-label")))}),v},jO=h=>{let v={},b=h.querySelector("swal-image");return b&&(na(b,["src","width","height","alt"]),b.hasAttribute("src")&&(v.imageUrl=b.getAttribute("src")||void 0),b.hasAttribute("width")&&(v.imageWidth=b.getAttribute("width")||void 0),b.hasAttribute("height")&&(v.imageHeight=b.getAttribute("height")||void 0),b.hasAttribute("alt")&&(v.imageAlt=b.getAttribute("alt")||void 0)),v},HO=h=>{let v={},b=h.querySelector("swal-icon");return b&&(na(b,["type","color"]),b.hasAttribute("type")&&(v.icon=b.getAttribute("type")),b.hasAttribute("color")&&(v.iconColor=b.getAttribute("color")),v.iconHtml=b.innerHTML),v},qO=h=>{let v={},b=h.querySelector("swal-input");b&&(na(b,["type","label","placeholder","value"]),v.input=b.getAttribute("type")||"text",b.hasAttribute("label")&&(v.inputLabel=b.getAttribute("label")),b.hasAttribute("placeholder")&&(v.inputPlaceholder=b.getAttribute("placeholder")),b.hasAttribute("value")&&(v.inputValue=b.getAttribute("value")));let z=Array.from(h.querySelectorAll("swal-input-option"));return z.length&&(v.inputOptions={},z.forEach(j=>{na(j,["value"]);let re=j.getAttribute("value");if(!re)return;let Ze=j.innerHTML;v.inputOptions[re]=Ze})),v},$O=(h,v)=>{let b={};for(let z in v){let j=v[z],re=h.querySelector(j);re&&(na(re,[]),b[j.replace(/^swal-/,"")]=re.innerHTML.trim())}return b},WO=h=>{let v=Gy.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(b=>{let z=b.tagName.toLowerCase();v.includes(z)||F(`Unrecognized element <${z}>`)})},na=(h,v)=>{Array.from(h.attributes).forEach(b=>{v.indexOf(b.name)===-1&&F([`Unrecognized attribute "${b.name}" on <${h.tagName.toLowerCase()}>.`,`${v.length?`Allowed attributes are: ${v.join(", ")}`:"To set the value, use HTML within the element."}`])})},Yy=10,GO=h=>{let v=Nt(),b=$e();typeof h.willOpen=="function"&&h.willOpen(b),a.eventEmitter.emit("willOpen",b);let j=window.getComputedStyle(document.body).overflowY;KO(v,b,h),setTimeout(()=>{YO(v,b)},Yy),Jo()&&(QO(v,h.scrollbarPadding,j),NP()),!hl()&&!a.previousActiveElement&&(a.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(()=>h.didOpen(b)),a.eventEmitter.emit("didOpen",b)},Sl=h=>{let v=$e();if(h.target!==v)return;let b=Nt();v.removeEventListener("animationend",Sl),v.removeEventListener("transitionend",Sl),b.style.overflowY="auto",_i(b,y["no-transition"])},YO=(h,v)=>{iy(v)?(h.style.overflowY="hidden",v.addEventListener("animationend",Sl),v.addEventListener("transitionend",Sl)):h.style.overflowY="auto"},QO=(h,v,b)=>{PP(),v&&b!=="hidden"&&jP(b),setTimeout(()=>{h.scrollTop=0})},KO=(h,v,b)=>{st(h,b.showClass.backdrop),b.animation?(v.style.setProperty("opacity","0","important"),Vn(v,"grid"),setTimeout(()=>{st(v,b.showClass.popup),v.style.removeProperty("opacity")},Yy)):Vn(v,"grid"),st([document.documentElement,document.body],y.shown),b.heightAuto&&b.backdrop&&!b.toast&&st([document.documentElement,document.body],y["height-auto"])};var Qy={email:(h,v)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(h)?Promise.resolve():Promise.resolve(v||"Invalid email address"),url:(h,v)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(v||"Invalid URL")};function XO(h){h.inputValidator||(h.input==="email"&&(h.inputValidator=Qy.email),h.input==="url"&&(h.inputValidator=Qy.url))}function ZO(h){(!h.target||typeof h.target=="string"&&!document.querySelector(h.target)||typeof h.target!="string"&&!h.target.appendChild)&&(F('Target parameter is not valid, defaulting to "body"'),h.target="body")}function JO(h){XO(h),h.showLoaderOnConfirm&&!h.preConfirm&&F(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ZO(h),typeof h.title=="string"&&(h.title=h.title.split(`
`).join("<br />")),WN(h)}let f2;var Ml=new WeakMap;class pn{constructor(...v){if(t(this,Ml,void 0),typeof window>"u")return;f2=this;let b=Object.freeze(this.constructor.argsToParams(v));this.params=b,this.isAwaitingPromise=!1,r(Ml,this,this._main(f2.params))}_main(v,b={}){if(By(Object.assign({},b,v)),a.currentInstance){let re=vs.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:Ze}=a.currentInstance;a.currentInstance._destroy(),Ze||re({isDismissed:!0}),Jo()&&yy()}a.currentInstance=f2;let z=tR(v,b);JO(z),Object.freeze(z),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);let j=nR(f2);return my(f2,z),Pt.innerParams.set(f2,z),eR(f2,j,z)}then(v){return e(Ml,this).then(v)}finally(v){return e(Ml,this).finally(v)}}let eR=(h,v,b)=>new Promise((z,j)=>{let re=Ze=>{h.close({isDismissed:!0,dismiss:Ze,isConfirmed:!1,isDenied:!1})};vs.swalPromiseResolve.set(h,z),vs.swalPromiseReject.set(h,j),v.confirmButton.onclick=()=>{oO(h)},v.denyButton.onclick=()=>{aO(h)},v.cancelButton.onclick=()=>{sO(h,re)},v.closeButton.onclick=()=>{re(gs.close)},_O(b,v,re),TP(a,b,re),KP(h,b),GO(b),iR(a,b,re),rR(v,b),setTimeout(()=>{v.container.scrollTop=0})}),tR=(h,v)=>{let b=FO(h),z=Object.assign({},bs,v,b,h);return z.showClass=Object.assign({},bs.showClass,z.showClass),z.hideClass=Object.assign({},bs.hideClass,z.hideClass),z.animation===!1&&(z.showClass={backdrop:"swal2-noanimation"},z.hideClass={}),z},nR=h=>{let v={popup:$e(),container:Nt(),actions:Gr(),confirmButton:Ct(),denyButton:dn(),cancelButton:Xn(),loader:vt(),closeButton:ji(),validationMessage:Ge(),progressSteps:_e()};return Pt.domCache.set(h,v),v},iR=(h,v,b)=>{let z=un();a1(z),v.timer&&(h.timeout=new RO(()=>{b("timer"),delete h.timeout},v.timer),v.timerProgressBar&&(Vn(z),ai(z,v,"timerProgressBar"),setTimeout(()=>{h.timeout&&h.timeout.running&&Y7(v.timer)})))},rR=(h,v)=>{if(!v.toast){if(!Se(v.allowEnterKey)){ae("allowEnterKey"),sR();return}oR(h)||aR(h,v)||eu(-1,1)}},oR=h=>{let v=Array.from(h.popup.querySelectorAll("[autofocus]"));for(let b of v)if(b instanceof HTMLElement&&V1(b))return b.focus(),!0;return!1},aR=(h,v)=>v.focusDeny&&V1(h.denyButton)?(h.denyButton.focus(),!0):v.focusCancel&&V1(h.cancelButton)?(h.cancelButton.focus(),!0):v.focusConfirm&&V1(h.confirmButton)?(h.confirmButton.focus(),!0):!1,sR=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};pn.prototype.disableButtons=Ly,pn.prototype.enableButtons=zy,pn.prototype.getInput=Ty,pn.prototype.disableInput=Ay,pn.prototype.enableInput=ky,pn.prototype.hideLoading=Cl,pn.prototype.disableLoading=Cl,pn.prototype.showValidationMessage=Ny,pn.prototype.resetValidationMessage=Py,pn.prototype.close=Kr,pn.prototype.closePopup=Kr,pn.prototype.closeModal=Kr,pn.prototype.closeToast=Kr,pn.prototype.rejectPromise=xy,pn.prototype.update=Vy,pn.prototype._destroy=Uy,Object.assign(pn,OO),Object.keys(yO).forEach(h=>{pn[h]=function(...v){return f2&&f2[h]?f2[h](...v):null}}),pn.DismissReason=gs,pn.version="11.26.3";let El=pn;return El.default=El,El});typeof Z2<"u"&&Z2.Sweetalert2&&(Z2.swal=Z2.sweetAlert=Z2.Swal=Z2.SweetAlert=Z2.Sweetalert2);typeof document<"u"&&(function(n,i){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=i);else try{e.innerHTML=i}catch{e.innerText=i}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var su;function Tl(){return su}function p2(n){let i=su;return su=n,i}var Xy=Symbol("NotFound");function Cs(n){return n===Xy||n?.name==="\u0275NotFound"}var s1=null,Il=!1,cu=1,cR=null,Zn=Symbol("SIGNAL");function Ie(n){let i=s1;return s1=n,i}function kl(){return s1}var ia={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ra(n){if(Il)throw new Error("");if(s1===null)return;s1.consumerOnSignalRead(n);let i=s1.producersTail;if(i!==void 0&&i.producer===n)return;let e,t=s1.recomputing;if(t&&(e=i!==void 0?i.nextProducer:s1.producers,e!==void 0&&e.producer===n)){s1.producersTail=e,e.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===s1&&(!t||dR(r,s1)))return;let o=Ms(s1),a={producer:n,consumer:s1,nextProducer:e,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};s1.producersTail=a,i!==void 0?i.nextProducer=a:s1.producers=a,o&&t_(n,a)}function Zy(){cu++}function Al(n){if(!(Ms(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===cu)){if(!n.producerMustRecompute(n)&&!Ss(n)){Ll(n);return}n.producerRecomputeValue(n),Ll(n)}}function lu(n){if(n.consumers===void 0)return;let i=Il;Il=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let t=e.consumer;t.dirty||lR(t)}}finally{Il=i}}function du(){return s1?.consumerAllowSignalWrites!==!1}function lR(n){n.dirty=!0,lu(n),n.consumerMarkedDirty?.(n)}function Ll(n){n.dirty=!1,n.lastCleanEpoch=cu}function oa(n){return n&&Jy(n),Ie(n)}function Jy(n){n.producersTail=void 0,n.recomputing=!0}function ws(n,i){Ie(i),n&&e_(n)}function e_(n){n.recomputing=!1;let i=n.producersTail,e=i!==void 0?i.nextProducer:n.producers;if(e!==void 0){if(Ms(n))do e=uu(e);while(e!==void 0);i!==void 0?i.nextProducer=void 0:n.producers=void 0}}function Ss(n){for(let i=n.producers;i!==void 0;i=i.nextProducer){let e=i.producer,t=i.lastReadVersion;if(t!==e.version||(Al(e),t!==e.version))return!0}return!1}function aa(n){if(Ms(n)){let i=n.producers;for(;i!==void 0;)i=uu(i)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function t_(n,i){let e=n.consumersTail,t=Ms(n);if(e!==void 0?(i.nextConsumer=e.nextConsumer,e.nextConsumer=i):(i.nextConsumer=void 0,n.consumers=i),i.prevConsumer=e,n.consumersTail=i,!t)for(let r=n.producers;r!==void 0;r=r.nextProducer)t_(r.producer,r)}function uu(n){let i=n.producer,e=n.nextProducer,t=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,t!==void 0?t.prevConsumer=r:i.consumersTail=r,r!==void 0)r.nextConsumer=t;else if(i.consumers=t,!Ms(i)){let o=i.producers;for(;o!==void 0;)o=uu(o)}return e}function Ms(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Nl(n){cR?.(n)}function dR(n,i){let e=i.producersTail;if(e!==void 0){let t=i.producers;do{if(t===n)return!0;if(t===e)break;t=t.nextProducer}while(t!==void 0)}return!1}function Pl(n,i){return Object.is(n,i)}function Ol(n,i){let e=Object.create(uR);e.computation=n,i!==void 0&&(e.equal=i);let t=()=>{if(Al(e),ra(e),e.value===E3)throw e.error;return e.value};return t[Zn]=e,Nl(e),t}var Dl=Symbol("UNSET"),zl=Symbol("COMPUTING"),E3=Symbol("ERRORED"),uR=ie(P({},ia),{value:Dl,dirty:!0,error:null,equal:Pl,kind:"computed",producerMustRecompute(n){return n.value===Dl||n.value===zl},producerRecomputeValue(n){if(n.value===zl)throw new Error("");let i=n.value;n.value=zl;let e=oa(n),t,r=!1;try{t=n.computation(),Ie(null),r=i!==Dl&&i!==E3&&t!==E3&&n.equal(i,t)}catch(o){t=E3,n.error=o}finally{ws(n,e)}if(r){n.value=i;return}n.value=t,n.version++}});function fR(){throw new Error}var n_=fR;function i_(n){n_(n)}function fu(n){n_=n}var pR=null;function pu(n,i){let e=Object.create(Rl);e.value=n,i!==void 0&&(e.equal=i);let t=()=>r_(e);return t[Zn]=e,Nl(e),[t,a=>sa(e,a),a=>mu(e,a)]}function r_(n){return ra(n),n.value}function sa(n,i){du()||i_(n),n.equal(n.value,i)||(n.value=i,mR(n))}function mu(n,i){du()||i_(n),sa(n,i(n.value))}var Rl=ie(P({},ia),{equal:Pl,value:void 0,kind:"signal"});function mR(n){n.version++,Zy(),lu(n),pR?.(n)}function Fe(n){return typeof n=="function"}function Es(n){let e=n(t=>{Error.call(t),t.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Fl=Es(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((t,r)=>`${r+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function ca(n,i){if(n){let e=n.indexOf(i);0<=e&&n.splice(e,1)}}var Ve=class n{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:t}=this;if(Fe(t))try{t()}catch(o){i=o instanceof Fl?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{o_(o)}catch(a){i=i??[],a instanceof Fl?i=[...i,...a.errors]:i.push(a)}}if(i)throw new Fl(i)}}add(i){var e;if(i&&i!==this)if(this.closed)o_(i);else{if(i instanceof n){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(i)}}_hasParent(i){let{_parentage:e}=this;return e===i||Array.isArray(e)&&e.includes(i)}_addParent(i){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(i),e):e?[e,i]:i}_removeParent(i){let{_parentage:e}=this;e===i?this._parentage=null:Array.isArray(e)&&ca(e,i)}remove(i){let{_finalizers:e}=this;e&&ca(e,i),i instanceof n&&i._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();var hu=Ve.EMPTY;function Bl(n){return n instanceof Ve||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function o_(n){Fe(n)?n():n.unsubscribe()}var Hi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ts={setTimeout(n,i,...e){let{delegate:t}=Ts;return t?.setTimeout?t.setTimeout(n,i,...e):setTimeout(n,i,...e)},clearTimeout(n){let{delegate:i}=Ts;return(i?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Vl(n){Ts.setTimeout(()=>{let{onUnhandledError:i}=Hi;if(i)i(n);else throw n})}function T3(){}var a_=gu("C",void 0,void 0);function s_(n){return gu("E",void 0,n)}function c_(n){return gu("N",n,void 0)}function gu(n,i,e){return{kind:n,value:i,error:e}}var la=null;function Is(n){if(Hi.useDeprecatedSynchronousErrorHandling){let i=!la;if(i&&(la={errorThrown:!1,error:null}),n(),i){let{errorThrown:e,error:t}=la;if(la=null,e)throw t}}else n()}function l_(n){Hi.useDeprecatedSynchronousErrorHandling&&la&&(la.errorThrown=!0,la.error=n)}var da=class extends Ve{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Bl(i)&&i.add(this)):this.destination=vR}static create(i,e,t){return new Ds(i,e,t)}next(i){this.isStopped?yu(c_(i),this):this._next(i)}error(i){this.isStopped?yu(s_(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?yu(a_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hR=Function.prototype.bind;function vu(n,i){return hR.call(n,i)}var _u=class{constructor(i){this.partialObserver=i}next(i){let{partialObserver:e}=this;if(e.next)try{e.next(i)}catch(t){Ul(t)}}error(i){let{partialObserver:e}=this;if(e.error)try{e.error(i)}catch(t){Ul(t)}else Ul(i)}complete(){let{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(e){Ul(e)}}},Ds=class extends da{constructor(i,e,t){super();let r;if(Fe(i)||!i)r={next:i??void 0,error:e??void 0,complete:t??void 0};else{let o;this&&Hi.useDeprecatedNextContext?(o=Object.create(i),o.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&vu(i.next,o),error:i.error&&vu(i.error,o),complete:i.complete&&vu(i.complete,o)}):r=i}this.destination=new _u(r)}};function Ul(n){Hi.useDeprecatedSynchronousErrorHandling?l_(n):Vl(n)}function gR(n){throw n}function yu(n,i){let{onStoppedNotification:e}=Hi;e&&Ts.setTimeout(()=>e(n,i))}var vR={closed:!0,next:T3,error:gR,complete:T3};var zs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function E1(n){return n}function bu(...n){return xu(n)}function xu(n){return n.length===0?E1:n.length===1?n[0]:function(e){return n.reduce((t,r)=>r(t),e)}}var Te=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let t=new n;return t.source=this,t.operator=e,t}subscribe(e,t,r){let o=_R(e)?e:new Ds(e,t,r);return Is(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return t=d_(t),new t((r,o)=>{let a=new Ds({next:s=>{try{e(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)}[zs](){return this}pipe(...e){return xu(e)(this)}toPromise(e){return e=d_(e),new e((t,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>t(o))})}}return n.create=i=>new n(i),n})();function d_(n){var i;return(i=n??Hi.Promise)!==null&&i!==void 0?i:Promise}function yR(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}function _R(n){return n&&n instanceof da||yR(n)&&Bl(n)}function Cu(n){return Fe(n?.lift)}function Ue(n){return i=>{if(Cu(i))return i.lift(function(e){try{return n(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(n,i,e,t,r){return new wu(n,i,e,t,r)}var wu=class extends da{constructor(i,e,t,r,o,a){super(i),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(u){i.error(u)}}:super._next,this._error=r?function(s){try{r(s)}catch(u){i.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(s){i.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((i=this.onFinalize)===null||i===void 0||i.call(this))}}};function Ls(){return Ue((n,i)=>{let e=null;n._refCount++;let t=Le(i,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),i.unsubscribe()});n.subscribe(t),t.closed||(e=n.connect())})}var ks=class extends Te{constructor(i,e){super(),this.source=i,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Cu(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){let i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Ve;let e=this.getSubject();i.add(this.source.subscribe(Le(e,void 0,()=>{this._teardown(),e.complete()},t=>{this._teardown(),e.error(t)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Ve.EMPTY)}return i}refCount(){return Ls()(this)}};var As={schedule(n){let i=requestAnimationFrame,e=cancelAnimationFrame,{delegate:t}=As;t&&(i=t.requestAnimationFrame,e=t.cancelAnimationFrame);let r=i(o=>{e=void 0,n(o)});return new Ve(()=>e?.(r))},requestAnimationFrame(...n){let{delegate:i}=As;return(i?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:i}=As;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var u_=Es(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=(()=>{class n extends Te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let t=new jl(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new u_}next(e){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(e)}})}error(e){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:t,isStopped:r,observers:o}=this;return t||r?hu:(this.currentObservers=null,o.push(e),new Ve(()=>{this.currentObservers=null,ca(o,e)}))}_checkFinalizedStatuses(e){let{hasError:t,thrownError:r,isStopped:o}=this;t?e.error(r):o&&e.complete()}asObservable(){let e=new Te;return e.source=this,e}}return n.create=(i,e)=>new jl(i,e),n})(),jl=class extends Y{constructor(i,e){super(),this.destination=i,this.source=e}next(i){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.next)===null||t===void 0||t.call(e,i)}error(i){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.error)===null||t===void 0||t.call(e,i)}complete(){var i,e;(e=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||e===void 0||e.call(i)}_subscribe(i){var e,t;return(t=(e=this.source)===null||e===void 0?void 0:e.subscribe(i))!==null&&t!==void 0?t:hu}};var Ht=class extends Y{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){let e=super._subscribe(i);return!e.closed&&i.next(this._value),e}getValue(){let{hasError:i,thrownError:e,_value:t}=this;if(i)throw e;return this._throwIfClosed(),t}next(i){super.next(this._value=i)}};var I3={now(){return(I3.delegate||Date).now()},delegate:void 0};var Ns=class extends Y{constructor(i=1/0,e=1/0,t=I3){super(),this._bufferSize=i,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,e)}next(i){let{isStopped:e,_buffer:t,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(t.push(i),!r&&t.push(o.now()+a)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(i),{_infiniteTimeWindow:t,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!i.closed;a+=t?1:2)i.next(o[a]);return this._checkFinalizedStatuses(i),e}_trimBuffer(){let{_bufferSize:i,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:r}=this,o=(r?1:2)*i;if(i<1/0&&o<t.length&&t.splice(0,t.length-o),!r){let a=e.now(),s=0;for(let u=1;u<t.length&&t[u]<=a;u+=2)s=u;s&&t.splice(0,s+1)}}};var Hl=class extends Ve{constructor(i,e){super()}schedule(i,e=0){return this}};var D3={setInterval(n,i,...e){let{delegate:t}=D3;return t?.setInterval?t.setInterval(n,i,...e):setInterval(n,i,...e)},clearInterval(n){let{delegate:i}=D3;return(i?.clearInterval||clearInterval)(n)},delegate:void 0};var Ps=class extends Hl{constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){var t;if(this.closed)return this;this.state=i;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(t=this.id)!==null&&t!==void 0?t:this.requestAsyncId(o,this.id,e),this}requestAsyncId(i,e,t=0){return D3.setInterval(i.flush.bind(i,this),t)}recycleAsyncId(i,e,t=0){if(t!=null&&this.delay===t&&this.pending===!1)return e;e!=null&&D3.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let t=this._execute(i,e);if(t)return t;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let t=!1,r;try{this.work(i)}catch(o){t=!0,r=o||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:i,scheduler:e}=this,{actions:t}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ca(t,this),i!=null&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}};var Os=class n{constructor(i,e=n.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,t){return new this.schedulerActionCtor(this,i).schedule(t,e)}};Os.now=I3.now;var Rs=class extends Os{constructor(i,e=Os.now){super(i,e),this.actions=[],this._active=!1}flush(i){let{actions:e}=this;if(this._active){e.push(i);return}let t;this._active=!0;do if(t=i.execute(i.state,i.delay))break;while(i=e.shift());if(this._active=!1,t){for(;i=e.shift();)i.unsubscribe();throw t}}};var bi=new Rs(Ps),Su=bi;var ql=class extends Ps{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,t=0){return t!==null&&t>0?super.requestAsyncId(i,e,t):(i.actions.push(this),i._scheduled||(i._scheduled=As.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,e,t=0){var r;if(t!=null?t>0:this.delay>0)return super.recycleAsyncId(i,e,t);let{actions:o}=i;e!=null&&e===i._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(As.cancelAnimationFrame(e),i._scheduled=void 0)}};var $l=class extends Rs{flush(i){this._active=!0;let e;i?e=i.id:(e=this._scheduled,this._scheduled=void 0);let{actions:t}=this,r;i=i||t.shift();do if(r=i.execute(i.state,i.delay))break;while((i=t[0])&&i.id===e&&t.shift());if(this._active=!1,r){for(;(i=t[0])&&i.id===e&&t.shift();)i.unsubscribe();throw r}}};var Wl=new $l(ql);var Ln=new Te(n=>n.complete());function Gl(n){return n&&Fe(n.schedule)}function Mu(n){return n[n.length-1]}function Yl(n){return Fe(Mu(n))?n.pop():void 0}function m2(n){return Gl(Mu(n))?n.pop():void 0}function f_(n,i){return typeof Mu(n)=="number"?n.pop():i}function m_(n,i,e,t){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(_){try{m(t.next(_))}catch(y){a(y)}}function u(_){try{m(t.throw(_))}catch(y){a(y)}}function m(_){_.done?o(_.value):r(_.value).then(s,u)}m((t=t.apply(n,i||[])).next())})}function p_(n){var i=typeof Symbol=="function"&&Symbol.iterator,e=i&&n[i],t=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function ua(n){return this instanceof ua?(this.v=n,this):new ua(n)}function h_(n,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e.apply(n,i||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(I){return function(A){return Promise.resolve(A).then(I,y)}}function s(I,A){t[I]&&(r[I]=function(R){return new Promise(function(F,W){o.push([I,R,F,W])>1||u(I,R)})},A&&(r[I]=A(r[I])))}function u(I,A){try{m(t[I](A))}catch(R){E(o[0][3],R)}}function m(I){I.value instanceof ua?Promise.resolve(I.value.v).then(_,y):E(o[0][2],I)}function _(I){u("next",I)}function y(I){u("throw",I)}function E(I,A){I(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function g_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],e;return i?i.call(n):(n=typeof p_=="function"?p_(n):n[Symbol.iterator](),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(o){e[o]=n[o]&&function(a){return new Promise(function(s,u){a=n[o](a),r(s,u,a.done,a.value)})}}function r(o,a,s,u){Promise.resolve(u).then(function(m){o({value:m,done:s})},a)}}var Ql=n=>n&&typeof n.length=="number"&&typeof n!="function";function Kl(n){return Fe(n?.then)}function Xl(n){return Fe(n[zs])}function Zl(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function Jl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var e6=bR();function t6(n){return Fe(n?.[e6])}function n6(n){return h_(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:t,done:r}=yield ua(e.read());if(r)return yield ua(void 0);yield yield ua(t)}}finally{e.releaseLock()}})}function i6(n){return Fe(n?.getReader)}function Ot(n){if(n instanceof Te)return n;if(n!=null){if(Xl(n))return xR(n);if(Ql(n))return CR(n);if(Kl(n))return wR(n);if(Zl(n))return v_(n);if(t6(n))return SR(n);if(i6(n))return MR(n)}throw Jl(n)}function xR(n){return new Te(i=>{let e=n[zs]();if(Fe(e.subscribe))return e.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CR(n){return new Te(i=>{for(let e=0;e<n.length&&!i.closed;e++)i.next(n[e]);i.complete()})}function wR(n){return new Te(i=>{n.then(e=>{i.closed||(i.next(e),i.complete())},e=>i.error(e)).then(null,Vl)})}function SR(n){return new Te(i=>{for(let e of n)if(i.next(e),i.closed)return;i.complete()})}function v_(n){return new Te(i=>{ER(n,i).catch(e=>i.error(e))})}function MR(n){return v_(n6(n))}function ER(n,i){var e,t,r,o;return m_(this,void 0,void 0,function*(){try{for(e=g_(n);t=yield e.next(),!t.done;){let a=t.value;if(i.next(a),i.closed)return}}catch(a){r={error:a}}finally{try{t&&!t.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}i.complete()})}function U1(n,i,e,t=0,r=!1){let o=i.schedule(function(){e(),r?n.add(this.schedule(null,t)):this.unsubscribe()},t);if(n.add(o),!r)return o}function r6(n,i=0){return Ue((e,t)=>{e.subscribe(Le(t,r=>U1(t,n,()=>t.next(r),i),()=>U1(t,n,()=>t.complete(),i),r=>U1(t,n,()=>t.error(r),i)))})}function o6(n,i=0){return Ue((e,t)=>{t.add(n.schedule(()=>e.subscribe(t),i))})}function y_(n,i){return Ot(n).pipe(o6(i),r6(i))}function __(n,i){return Ot(n).pipe(o6(i),r6(i))}function b_(n,i){return new Te(e=>{let t=0;return i.schedule(function(){t===n.length?e.complete():(e.next(n[t++]),e.closed||this.schedule())})})}function x_(n,i){return new Te(e=>{let t;return U1(e,i,()=>{t=n[e6](),U1(e,i,()=>{let r,o;try{({value:r,done:o}=t.next())}catch(a){e.error(a);return}o?e.complete():e.next(r)},0,!0)}),()=>Fe(t?.return)&&t.return()})}function a6(n,i){if(!n)throw new Error("Iterable cannot be null");return new Te(e=>{U1(e,i,()=>{let t=n[Symbol.asyncIterator]();U1(e,i,()=>{t.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function C_(n,i){return a6(n6(n),i)}function w_(n,i){if(n!=null){if(Xl(n))return y_(n,i);if(Ql(n))return b_(n,i);if(Kl(n))return __(n,i);if(Zl(n))return a6(n,i);if(t6(n))return x_(n,i);if(i6(n))return C_(n,i)}throw Jl(n)}function ct(n,i){return i?w_(n,i):Ot(n)}function Z(...n){let i=m2(n);return ct(n,i)}function h2(n,i){let e=Fe(n)?n:()=>n,t=r=>r.error(e());return new Te(i?r=>i.schedule(t,0,r):t)}function s6(n){return!!n&&(n instanceof Te||Fe(n.lift)&&Fe(n.subscribe))}var tr=Es(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function S_(n){return n instanceof Date&&!isNaN(n)}function ye(n,i){return Ue((e,t)=>{let r=0;e.subscribe(Le(t,o=>{t.next(n.call(i,o,r++))}))})}var{isArray:TR}=Array;function IR(n,i){return TR(i)?n(...i):n(i)}function c6(n){return ye(i=>IR(n,i))}var{isArray:DR}=Array,{getPrototypeOf:zR,prototype:LR,keys:kR}=Object;function l6(n){if(n.length===1){let i=n[0];if(DR(i))return{args:i,keys:null};if(AR(i)){let e=kR(i);return{args:e.map(t=>i[t]),keys:e}}}return{args:n,keys:null}}function AR(n){return n&&typeof n=="object"&&zR(n)===LR}function d6(n,i){return n.reduce((e,t,r)=>(e[t]=i[r],e),{})}function fa(...n){let i=m2(n),e=Yl(n),{args:t,keys:r}=l6(n);if(t.length===0)return ct([],i);let o=new Te(NR(t,i,r?a=>d6(r,a):E1));return e?o.pipe(c6(e)):o}function NR(n,i,e=E1){return t=>{M_(i,()=>{let{length:r}=n,o=new Array(r),a=r,s=r;for(let u=0;u<r;u++)M_(i,()=>{let m=ct(n[u],i),_=!1;m.subscribe(Le(t,y=>{o[u]=y,_||(_=!0,s--),s||t.next(e(o.slice()))},()=>{--a||t.complete()}))},t)},t)}}function M_(n,i,e){n?U1(e,n,i):i()}function E_(n,i,e,t,r,o,a,s){let u=[],m=0,_=0,y=!1,E=()=>{y&&!u.length&&!m&&i.complete()},I=R=>m<t?A(R):u.push(R),A=R=>{o&&i.next(R),m++;let F=!1;Ot(e(R,_++)).subscribe(Le(i,W=>{r?.(W),o?I(W):i.next(W)},()=>{F=!0},void 0,()=>{if(F)try{for(m--;u.length&&m<t;){let W=u.shift();a?U1(i,a,()=>A(W)):A(W)}E()}catch(W){i.error(W)}}))};return n.subscribe(Le(i,I,()=>{y=!0,E()})),()=>{s?.()}}function en(n,i,e=1/0){return Fe(i)?en((t,r)=>ye((o,a)=>i(t,o,r,a))(Ot(n(t,r))),e):(typeof i=="number"&&(e=i),Ue((t,r)=>E_(t,r,n,e)))}function g2(n=1/0){return en(E1,n)}function T_(){return g2(1)}function Xr(...n){return T_()(ct(n,m2(n)))}function nr(n){return new Te(i=>{Ot(n()).subscribe(i)})}function z3(...n){let i=Yl(n),{args:e,keys:t}=l6(n),r=new Te(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),u=a,m=a;for(let _=0;_<a;_++){let y=!1;Ot(e[_]).subscribe(Le(o,E=>{y||(y=!0,m--),s[_]=E},()=>u--,void 0,()=>{(!u||!y)&&(m||o.next(t?d6(t,s):s),o.complete())}))}});return i?r.pipe(c6(i)):r}function ir(n=0,i,e=Su){let t=-1;return i!=null&&(Gl(i)?e=i:t=i),new Te(r=>{let o=S_(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=t?this.schedule(void 0,t):r.complete())},o)})}function L3(n=0,i=bi){return n<0&&(n=0),ir(n,n,i)}function v2(...n){let i=m2(n),e=f_(n,1/0),t=n;return t.length?t.length===1?Ot(t[0]):g2(e)(ct(t,i)):Ln}function be(n,i){return Ue((e,t)=>{let r=0;e.subscribe(Le(t,o=>n.call(i,o,r++)&&t.next(o)))})}function I_(n){return Ue((i,e)=>{let t=!1,r=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,t){t=!1;let m=r;r=null,e.next(m)}a&&e.complete()},u=()=>{o=null,a&&e.complete()};i.subscribe(Le(e,m=>{t=!0,r=m,o||Ot(n(m)).subscribe(o=Le(e,s,u))},()=>{a=!0,(!t||!o||o.closed)&&e.complete()}))})}function u6(n,i=bi){return I_(()=>ir(n,i))}function Qe(n){return Ue((i,e)=>{let t=null,r=!1,o;t=i.subscribe(Le(e,void 0,void 0,a=>{o=Ot(n(a,Qe(n)(i))),t?(t.unsubscribe(),t=null,o.subscribe(e)):r=!0})),r&&(t.unsubscribe(),t=null,o.subscribe(e))})}function D_(n,i,e,t,r){return(o,a)=>{let s=e,u=i,m=0;o.subscribe(Le(a,_=>{let y=m++;u=s?n(u,_,y):(s=!0,_),t&&a.next(u)},r&&(()=>{s&&a.next(u),a.complete()})))}}function T1(n,i){return Fe(i)?en(n,i,1):en(n,1)}function ci(n,i=bi){return Ue((e,t)=>{let r=null,o=null,a=null,s=()=>{if(r){r.unsubscribe(),r=null;let m=o;o=null,t.next(m)}};function u(){let m=a+n,_=i.now();if(_<m){r=this.schedule(void 0,m-_),t.add(r);return}s()}e.subscribe(Le(t,m=>{o=m,a=i.now(),r||(r=i.schedule(u,n),t.add(r))},()=>{s(),t.complete()},void 0,()=>{o=r=null}))})}function Zr(n){return Ue((i,e)=>{let t=!1;i.subscribe(Le(e,r=>{t=!0,e.next(r)},()=>{t||e.next(n),e.complete()}))})}function We(n){return n<=0?()=>Ln:Ue((i,e)=>{let t=0;i.subscribe(Le(e,r=>{++t<=n&&(e.next(r),n<=t&&e.complete())}))})}function qi(n,i=E1){return n=n??PR,Ue((e,t)=>{let r,o=!0;e.subscribe(Le(t,a=>{let s=i(a);(o||!n(r,s))&&(o=!1,r=s,t.next(a))}))})}function PR(n,i){return n===i}function f6(n=OR){return Ue((i,e)=>{let t=!1;i.subscribe(Le(e,r=>{t=!0,e.next(r)},()=>t?e.complete():e.error(n())))})}function OR(){return new tr}function Jr(n){return Ue((i,e)=>{try{i.subscribe(e)}finally{e.add(n)}})}function rr(n,i){let e=arguments.length>=2;return t=>t.pipe(n?be((r,o)=>n(r,o,t)):E1,We(1),e?Zr(i):f6(()=>new tr))}function Fs(n){return n<=0?()=>Ln:Ue((i,e)=>{let t=[];i.subscribe(Le(e,r=>{t.push(r),n<t.length&&t.shift()},()=>{for(let r of t)e.next(r);e.complete()},void 0,()=>{t=null}))})}function Eu(n,i){let e=arguments.length>=2;return t=>t.pipe(n?be((r,o)=>n(r,o,t)):E1,Fs(1),e?Zr(i):f6(()=>new tr))}function Tu(n,i){return Ue(D_(n,i,arguments.length>=2,!0))}function k3(n){return be((i,e)=>n<=e)}function c1(...n){let i=m2(n);return Ue((e,t)=>{(i?Xr(n,e,i):Xr(n,e)).subscribe(t)})}function qt(n,i){return Ue((e,t)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&t.complete();e.subscribe(Le(t,u=>{r?.unsubscribe();let m=0,_=o++;Ot(n(u,_)).subscribe(r=Le(t,y=>t.next(i?i(u,y,_,m++):y),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function lt(n){return Ue((i,e)=>{Ot(n).subscribe(Le(e,()=>e.complete(),T3)),!e.closed&&i.subscribe(e)})}function $t(n,i,e){let t=Fe(n)||i||e?{next:n,error:i,complete:e}:n;return t?Ue((r,o)=>{var a;(a=t.subscribe)===null||a===void 0||a.call(t);let s=!0;r.subscribe(Le(o,u=>{var m;(m=t.next)===null||m===void 0||m.call(t,u),o.next(u)},()=>{var u;s=!1,(u=t.complete)===null||u===void 0||u.call(t),o.complete()},u=>{var m;s=!1,(m=t.error)===null||m===void 0||m.call(t,u),o.error(u)},()=>{var u,m;s&&((u=t.unsubscribe)===null||u===void 0||u.call(t)),(m=t.finalize)===null||m===void 0||m.call(t)}))}):E1}function z_(n,i){return Ue((e,t)=>{let{leading:r=!0,trailing:o=!1}=i??{},a=!1,s=null,u=null,m=!1,_=()=>{u?.unsubscribe(),u=null,o&&(I(),m&&t.complete())},y=()=>{u=null,m&&t.complete()},E=A=>u=Ot(n(A)).subscribe(Le(t,_,y)),I=()=>{if(a){a=!1;let A=s;s=null,t.next(A),!m&&E(A)}};e.subscribe(Le(t,A=>{a=!0,s=A,!(u&&!u.closed)&&(r?I():E(A))},()=>{m=!0,!(o&&a&&u&&!u.closed)&&t.complete()}))})}function Iu(n,i=bi,e){let t=ir(n,i);return z_(()=>t,e)}function L_(n){let i=Ie(null);try{return n()}finally{Ie(i)}}var k_=ie(P({},ia),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function A_(n){if(n.dirty=!1,n.version>0&&!Ss(n))return;n.version++;let i=oa(n);try{n.cleanup(),n.fn()}finally{ws(n,i)}}var g6="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(i,e){super(xi(i,e)),this.code=i}};function RR(n){return`NG0${Math.abs(n)}`}function xi(n,i){return`${RR(n)}${i?": "+i:""}`}var kn=globalThis;function yt(n){for(let i in n)if(n[i]===yt)return i;throw Error("")}function O_(n,i){for(let e in i)i.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=i[e])}function ar(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ar).join(", ")}]`;if(n==null)return""+n;let i=n.overriddenName||n.name;if(i)return`${i}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t>=0?e.slice(0,t):e}function v6(n,i){return n?i?`${n} ${i}`:n:i||""}var FR=yt({__forward_ref__:yt});function Cn(n){return n.__forward_ref__=Cn,n.toString=function(){return ar(this())},n}function Jn(n){return Bu(n)?n():n}function Bu(n){return typeof n=="function"&&n.hasOwnProperty(FR)&&n.__forward_ref__===Cn}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function R3(n){return BR(n,y6)}function Vu(n){return R3(n)!==null}function BR(n,i){return n.hasOwnProperty(i)&&n[i]||null}function VR(n){let i=n?.[y6]??null;return i||null}function zu(n){return n&&n.hasOwnProperty(m6)?n[m6]:null}var y6=yt({\u0275prov:yt}),m6=yt({\u0275inj:yt}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(i,e){this._desc=i,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Uu(n){return n&&!!n.\u0275providers}var ju=yt({\u0275cmp:yt}),Hu=yt({\u0275dir:yt}),qu=yt({\u0275pipe:yt}),$u=yt({\u0275mod:yt}),N3=yt({\u0275fac:yt}),va=yt({__NG_ELEMENT_ID__:yt}),N_=yt({__NG_ENV_ID__:yt});function sr(n){return typeof n=="string"?n:n==null?"":String(n)}function R_(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():sr(n)}var F_=yt({ngErrorCode:yt}),UR=yt({ngErrorMessage:yt}),jR=yt({ngTokenPath:yt});function Wu(n,i){return B_("",-200,i)}function _6(n,i){throw new q(-201,!1)}function B_(n,i,e){let t=new q(i,n);return t[F_]=i,t[UR]=n,e&&(t[jR]=e),t}function HR(n){return n[F_]}var Lu;function V_(){return Lu}function I1(n){let i=Lu;return Lu=n,i}function Gu(n,i,e){let t=R3(n);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(e&8)return null;if(i!==void 0)return i;_6(n,"Injector")}var qR={},pa=qR,$R="__NG_DI_FLAG__",ku=class{injector;constructor(i){this.injector=i}retrieve(i,e){let t=ma(e)||0;try{return this.injector.get(i,t&8?null:pa,t)}catch(r){if(Cs(r))return r;throw r}}};function WR(n,i=0){let e=Tl();if(e===void 0)throw new q(-203,!1);if(e===null)return Gu(n,void 0,i);{let t=GR(i),r=e.retrieve(n,t);if(Cs(r)){if(t.optional)return null;throw r}return r}}function H(n,i=0){return(V_()||WR)(Jn(n),i)}function T(n,i){return H(n,ma(i))}function ma(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function GR(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Au(n){let i=[];for(let e=0;e<n.length;e++){let t=Jn(n[e]);if(Array.isArray(t)){if(t.length===0)throw new q(900,!1);let r,o=0;for(let a=0;a<t.length;a++){let s=t[a],u=YR(s);typeof u=="number"?u===-1?r=s.token:o|=u:r=s}i.push(H(r,o))}else i.push(H(t))}return i}function YR(n){return n[$R]}function eo(n,i){let e=n.hasOwnProperty(N3);return e?n[N3]:null}function U_(n,i,e){if(n.length!==i.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],o=i[t];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function j_(n){return n.flat(Number.POSITIVE_INFINITY)}function b6(n,i){n.forEach(e=>Array.isArray(e)?b6(e,i):i(e))}function Yu(n,i,e){i>=n.length?n.push(e):n.splice(i,0,e)}function F3(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function H_(n,i){let e=[];for(let t=0;t<n;t++)e.push(i);return e}function q_(n,i,e,t){let r=n.length;if(r==i)n.push(e,t);else if(r===1)n.push(t,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>i;){let o=r-2;n[r]=n[o],r--}n[i]=e,n[i+1]=t}}function x6(n,i,e){let t=Vs(n,i);return t>=0?n[t|1]=e:(t=~t,q_(n,t,i,e)),t}function C6(n,i){let e=Vs(n,i);if(e>=0)return n[e|1]}function Vs(n,i){return QR(n,i,1)}function QR(n,i,e){let t=0,r=n.length>>e;for(;r!==t;){let o=t+(r-t>>1),a=n[o<<e];if(i===a)return o<<e;a>i?r=o:t=o+1}return~(r<<e)}var no={},D1=[],cr=new G(""),Qu=new G("",-1),Ku=new G(""),P3=class{get(i,e=pa){if(e===pa){let r=B_("",-201);throw r.name="\u0275NotFound",r}return e}};function Xu(n){return n[$u]||null}function y2(n){return n[ju]||null}function Zu(n){return n[Hu]||null}function $_(n){return n[qu]||null}function _2(n){return{\u0275providers:n}}function B3(...n){return{\u0275providers:Ju(!0,n),\u0275fromNgModule:!0}}function Ju(n,...i){let e=[],t=new Set,r,o=a=>{e.push(a)};return b6(i,a=>{let s=a;h6(s,o,[],t)&&(r||=[],r.push(s))}),r!==void 0&&W_(r,o),e}function W_(n,i){for(let e=0;e<n.length;e++){let{ngModule:t,providers:r}=n[e];ef(r,o=>{i(o,t)})}}function h6(n,i,e,t){if(n=Jn(n),!n)return!1;let r=null,o=zu(n),a=!o&&y2(n);if(!o&&!a){let u=n.ngModule;if(o=zu(u),o)r=u;else return!1}else{if(a&&!a.standalone)return!1;r=n}let s=t.has(r);if(a){if(s)return!1;if(t.add(r),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let m of u)h6(m,i,e,t)}}else if(o){if(o.imports!=null&&!s){t.add(r);let m;try{b6(o.imports,_=>{h6(_,i,e,t)&&(m||=[],m.push(_))})}finally{}m!==void 0&&W_(m,i)}if(!s){let m=eo(r)||(()=>new r);i({provide:r,useFactory:m,deps:D1},r),i({provide:Ku,useValue:r,multi:!0},r),i({provide:cr,useValue:()=>H(r),multi:!0},r)}let u=o.providers;if(u!=null&&!s){let m=n;ef(u,_=>{i(_,m)})}}else return!1;return r!==n&&n.providers!==void 0}function ef(n,i){for(let e of n)Uu(e)&&(e=e.\u0275providers),Array.isArray(e)?ef(e,i):i(e)}var KR=yt({provide:String,useValue:yt});function G_(n){return n!==null&&typeof n=="object"&&KR in n}function XR(n){return!!(n&&n.useExisting)}function ZR(n){return!!(n&&n.useFactory)}function ha(n){return typeof n=="function"}function Y_(n){return!!n.useClass}var V3=new G(""),p6={},P_={},Du;function Us(){return Du===void 0&&(Du=new P3),Du}var Lt=class{},ga=class extends Lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(i,e,t,r){super(),this.parent=e,this.source=t,this.scopes=r,Pu(i,a=>this.processProvider(a)),this.records.set(Qu,Bs(void 0,this)),r.has("environment")&&this.records.set(Lt,Bs(void 0,this));let o=this.records.get(V3);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ku,D1,{self:!0}))}retrieve(i,e){let t=ma(e)||0;try{return this.get(i,pa,t)}catch(r){if(Cs(r))return r;throw r}}destroy(){A3(this),this._destroyed=!0;let i=Ie(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(i)}}onDestroy(i){return A3(this),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){A3(this);let e=p2(this),t=I1(void 0),r;try{return i()}finally{p2(e),I1(t)}}get(i,e=pa,t){if(A3(this),i.hasOwnProperty(N_))return i[N_](this);let r=ma(t),o,a=p2(this),s=I1(void 0);try{if(!(r&4)){let m=this.records.get(i);if(m===void 0){let _=iF(i)&&R3(i);_&&this.injectableDefInScope(_)?m=Bs(Nu(i),p6):m=null,this.records.set(i,m)}if(m!=null)return this.hydrate(i,m,r)}let u=r&2?Us():this.parent;return e=r&8&&e===pa?null:e,u.get(i,e)}catch(u){let m=HR(u);throw m===-200||m===-201?new q(m,null):u}finally{I1(s),p2(a)}}resolveInjectorInitializers(){let i=Ie(null),e=p2(this),t=I1(void 0),r;try{let o=this.get(cr,D1,{self:!0});for(let a of o)a()}finally{p2(e),I1(t),Ie(i)}}toString(){let i=[],e=this.records;for(let t of e.keys())i.push(ar(t));return`R3Injector[${i.join(", ")}]`}processProvider(i){i=Jn(i);let e=ha(i)?i:Jn(i&&i.provide),t=eF(i);if(!ha(i)&&i.multi===!0){let r=this.records.get(e);r||(r=Bs(void 0,p6,!0),r.factory=()=>Au(r.multi),this.records.set(e,r)),e=i,r.multi.push(i)}this.records.set(e,t)}hydrate(i,e,t){let r=Ie(null);try{if(e.value===P_)throw Wu(ar(i));return e.value===p6&&(e.value=P_,e.value=e.factory(void 0,t)),typeof e.value=="object"&&e.value&&nF(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Ie(r)}}injectableDefInScope(i){if(!i.providedIn)return!1;let e=Jn(i.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(i){let e=this._onDestroyHooks.indexOf(i);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Nu(n){let i=R3(n),e=i!==null?i.factory:eo(n);if(e!==null)return e;if(n instanceof G)throw new q(204,!1);if(n instanceof Function)return JR(n);throw new q(204,!1)}function JR(n){if(n.length>0)throw new q(204,!1);let e=VR(n);return e!==null?()=>e.factory(n):()=>new n}function eF(n){if(G_(n))return Bs(void 0,n.useValue);{let i=tf(n);return Bs(i,p6)}}function tf(n,i,e){let t;if(ha(n)){let r=Jn(n);return eo(r)||Nu(r)}else if(G_(n))t=()=>Jn(n.useValue);else if(ZR(n))t=()=>n.useFactory(...Au(n.deps||[]));else if(XR(n))t=(r,o)=>H(Jn(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Jn(n&&(n.useClass||n.provide));if(tF(n))t=()=>new r(...Au(n.deps));else return eo(r)||Nu(r)}return t}function A3(n){if(n.destroyed)throw new q(205,!1)}function Bs(n,i,e=!1){return{factory:n,value:i,multi:e?[]:void 0}}function tF(n){return!!n.deps}function nF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function iF(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Pu(n,i){for(let e of n)Array.isArray(e)?Pu(e,i):e&&Uu(e)?Pu(e.\u0275providers,i):i(e)}function jn(n,i){let e;n instanceof ga?(A3(n),e=n):e=new ku(n);let t,r=p2(e),o=I1(void 0);try{return i()}finally{p2(r),I1(o)}}function nf(){return V_()!==void 0||Tl()!=null}var Ci=0,Ce=1,De=2,Un=3,wi=4,z1=5,js=6,Hs=7,e1=8,io=9,b2=10,Mt=11,qs=12,rf=13,ya=14,j1=15,ro=16,_a=17,x2=18,U3=19,of=20,or=21,w6=22,lr=23,di=24,ba=25,j3=26,Wt=27,af=1;var oo=7,H3=8,xa=9,l1=10;function C2(n){return Array.isArray(n)&&typeof n[af]=="object"}function Wi(n){return Array.isArray(n)&&n[af]===!0}function sf(n){return(n.flags&4)!==0}function ao(n){return n.componentOffset>-1}function $s(n){return(n.flags&1)===1}function Gi(n){return!!n.template}function Ws(n){return(n[De]&512)!==0}function Ca(n){return(n[De]&256)===256}var cf="svg",Q_="math";function Si(n){for(;Array.isArray(n);)n=n[Ci];return n}function lf(n){for(;Array.isArray(n);){if(typeof n[af]=="object")return n;n=n[Ci]}return null}function df(n,i){return Si(i[n])}function Yi(n,i){return Si(i[n.index])}function q3(n,i){return n.data[i]}function $3(n,i){return n[i]}function uf(n,i,e,t){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),i[e]=t}function Mi(n,i){let e=i[n];return C2(e)?e:e[Ci]}function K_(n){return(n[De]&4)===4}function S6(n){return(n[De]&128)===128}function X_(n){return Wi(n[Un])}function Qi(n,i){return i==null?null:n[i]}function ff(n){n[_a]=0}function pf(n){n[De]&1024||(n[De]|=1024,S6(n)&&so(n))}function Z_(n,i){for(;n>0;)i=i[ya],n--;return i}function W3(n){return!!(n[De]&9216||n[di]?.dirty)}function M6(n){n[b2].changeDetectionScheduler?.notify(8),n[De]&64&&(n[De]|=1024),W3(n)&&so(n)}function so(n){n[b2].changeDetectionScheduler?.notify(0);let i=to(n);for(;i!==null&&!(i[De]&8192||(i[De]|=8192,!S6(i)));)i=to(i)}function mf(n,i){if(Ca(n))throw new q(911,!1);n[or]===null&&(n[or]=[]),n[or].push(i)}function J_(n,i){if(n[or]===null)return;let e=n[or].indexOf(i);e!==-1&&n[or].splice(e,1)}function to(n){let i=n[Un];return Wi(i)?i[Un]:i}function hf(n){return n[Hs]??=[]}function gf(n){return n.cleanup??=[]}function eb(n,i,e,t){let r=hf(i);r.push(e),n.firstCreatePass&&gf(n).push(t,r.length-1)}var je={lFrame:ub(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ou=!1;function tb(){return je.lFrame.elementDepthCount}function nb(){je.lFrame.elementDepthCount++}function vf(){je.lFrame.elementDepthCount--}function E6(){return je.bindingsEnabled}function yf(){return je.skipHydrationRootTNode!==null}function _f(n){return je.skipHydrationRootTNode===n}function bf(){je.skipHydrationRootTNode=null}function ve(){return je.lFrame.lView}function Rt(){return je.lFrame.tView}function w(n){return je.lFrame.contextLView=n,n[e1]}function S(n){return je.lFrame.contextLView=null,n}function wn(){let n=xf();for(;n!==null&&n.type===64;)n=n.parent;return n}function xf(){return je.lFrame.currentTNode}function ib(){let n=je.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Gs(n,i){let e=je.lFrame;e.currentTNode=n,e.isParent=i}function Cf(){return je.lFrame.isParent}function wf(){je.lFrame.isParent=!1}function rb(){return je.lFrame.contextLView}function Sf(){return Ou}function Ys(n){let i=Ou;return Ou=n,i}function w2(){let n=je.lFrame,i=n.bindingRootIndex;return i===-1&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ob(){return je.lFrame.bindingIndex}function ab(n){return je.lFrame.bindingIndex=n}function dr(){return je.lFrame.bindingIndex++}function T6(n){let i=je.lFrame,e=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,e}function sb(){return je.lFrame.inI18n}function cb(n,i){let e=je.lFrame;e.bindingIndex=e.bindingRootIndex=n,I6(i)}function lb(){return je.lFrame.currentDirectiveIndex}function I6(n){je.lFrame.currentDirectiveIndex=n}function Mf(n){let i=je.lFrame.currentDirectiveIndex;return i===-1?null:n[i]}function Ef(){return je.lFrame.currentQueryIndex}function D6(n){je.lFrame.currentQueryIndex=n}function rF(n){let i=n[Ce];return i.type===2?i.declTNode:i.type===1?n[z1]:null}function Tf(n,i,e){if(e&4){let r=i,o=n;for(;r=r.parent,r===null&&!(e&1);)if(r=rF(o),r===null||(o=o[ya],r.type&10))break;if(r===null)return!1;i=r,n=o}let t=je.lFrame=db();return t.currentTNode=i,t.lView=n,!0}function z6(n){let i=db(),e=n[Ce];je.lFrame=i,i.currentTNode=e.firstChild,i.lView=n,i.tView=e,i.contextLView=n,i.bindingIndex=e.bindingStartIndex,i.inI18n=!1}function db(){let n=je.lFrame,i=n===null?null:n.child;return i===null?ub(n):i}function ub(n){let i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=i),i}function fb(){let n=je.lFrame;return je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var If=fb;function L6(){let n=fb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pb(n){return(je.lFrame.contextLView=Z_(n,je.lFrame.contextLView))[e1]}function ur(){return je.lFrame.selectedIndex}function co(n){je.lFrame.selectedIndex=n}function Qs(){let n=je.lFrame;return q3(n.tView,n.selectedIndex)}function Ke(){je.lFrame.currentNamespace=cf}function kt(){oF()}function oF(){je.lFrame.currentNamespace=null}function mb(){return je.lFrame.currentNamespace}var hb=!0;function k6(){return hb}function G3(n){hb=n}function Ru(n,i=null,e=null,t){let r=Df(n,i,e,t);return r.resolveInjectorInitializers(),r}function Df(n,i=null,e=null,t,r=new Set){let o=[e||D1,B3(n)];return t=t||(typeof n=="object"?void 0:ar(n)),new ga(o,i||Us(),t||null,r)}var fe=class n{static THROW_IF_NOT_FOUND=pa;static NULL=new P3;static create(i,e){if(Array.isArray(i))return Ru({name:""},e,i,"");{let t=i.name??"";return Ru({name:t},i.parent,i.providers,t)}}static \u0275prov=O({token:n,providedIn:"any",factory:()=>H(Qu)});static __NG_ELEMENT_ID__=-1},J=new G(""),t1=(()=>{class n{static __NG_ELEMENT_ID__=aF;static __NG_ENV_ID__=e=>e}return n})(),O3=class extends t1{_lView;constructor(i){super(),this._lView=i}get destroyed(){return Ca(this._lView)}onDestroy(i){let e=this._lView;return mf(e,i),()=>J_(e,i)}};function aF(){return new O3(ve())}var li=class{_console=console;handleError(i){this._console.error("ERROR",i)}},H1=new G("",{providedIn:"root",factory:()=>{let n=T(Lt),i;return e=>{n.destroyed&&!i?setTimeout(()=>{throw e}):(i??=n.get(li),i.handleError(e))}}}),gb={provide:cr,useValue:()=>void T(li),multi:!0};function Ks(n){return typeof n=="function"&&n[Zn]!==void 0}function _t(n,i){let[e,t,r]=pu(n,i?.equal),o=e,a=o[Zn];return o.set=t,o.update=r,o.asReadonly=A6.bind(o),o}function A6(){let n=this[Zn];if(n.readonlyFn===void 0){let i=()=>this();i[Zn]=n,n.readonlyFn=i}return n.readonlyFn}function zf(n){return Ks(n)&&typeof n.set=="function"}var Xs=(()=>{class n{view;node;constructor(e,t){this.view=e,this.node=t}static __NG_ELEMENT_ID__=sF}return n})();function sF(){return new Xs(ve(),wn())}var $i=class{},Y3=new G("",{providedIn:"root",factory:()=>!1});var Lf=new G(""),kf=new G(""),S2=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ht(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Te(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),Zs=(()=>{class n{internalPendingTasks=T(S2);scheduler=T($i);errorHandler=T(H1);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let t=this.add();e().catch(this.errorHandler).finally(t)}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})();function wa(...n){}var Q3=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new Fu})}return n})(),Fu=class{dirtyEffectCount=0;queues=new Map;add(i){this.enqueue(i),this.schedule(i)}schedule(i){i.dirty&&this.dirtyEffectCount++}remove(i){let e=i.zone,t=this.queues.get(e);t.has(i)&&(t.delete(i),i.dirty&&this.dirtyEffectCount--)}enqueue(i){let e=i.zone;this.queues.has(e)||this.queues.set(e,new Set);let t=this.queues.get(e);t.has(i)||t.add(i)}flush(){for(;this.dirtyEffectCount>0;){let i=!1;for(let[e,t]of this.queues)e===null?i||=this.flushQueue(t):i||=e.run(()=>this.flushQueue(t));i||(this.dirtyEffectCount=0)}}flushQueue(i){let e=!1;for(let t of i)t.dirty&&(this.dirtyEffectCount--,e=!0,t.run());return e}};function r4(n){return{toString:n}.toString()}function fF(n){return typeof n=="function"}var q6=class{previousValue;currentValue;firstChange;constructor(i,e,t){this.previousValue=i,this.currentValue=e,this.firstChange=t}isFirstChange(){return this.firstChange}};function Xb(n,i,e,t){i!==null?i.applyValueToInputSignal(i,t):n[e]=t}var dt=(()=>{let n=()=>Zb;return n.ngInherit=!0,n})();function Zb(n){return n.type.prototype.ngOnChanges&&(n.setInput=mF),pF}function pF(){let n=ex(this),i=n?.current;if(i){let e=n.previous;if(e===no)n.previous=i;else for(let t in i)e[t]=i[t];n.current=null,this.ngOnChanges(i)}}function mF(n,i,e,t,r){let o=this.declaredInputs[t],a=ex(n)||hF(n,{previous:no,current:null}),s=a.current||(a.current={}),u=a.previous,m=u[o];s[o]=new q6(m&&m.currentValue,e,u===no),Xb(n,i,r,e)}var Jb="__ngSimpleChanges__";function ex(n){return n[Jb]||null}function hF(n,i){return n[Jb]=i}var vb=[];var St=function(n,i=null,e){for(let t=0;t<vb.length;t++){let r=vb[t];r(n,i,e)}};function gF(n,i,e){let{ngOnChanges:t,ngOnInit:r,ngDoCheck:o}=i.type.prototype;if(t){let a=Zb(i);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function tx(n,i){for(let e=i.directiveStart,t=i.directiveEnd;e<t;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:u,ngAfterViewChecked:m,ngOnDestroy:_}=o;a&&(n.contentHooks??=[]).push(-e,a),s&&((n.contentHooks??=[]).push(e,s),(n.contentCheckHooks??=[]).push(e,s)),u&&(n.viewHooks??=[]).push(-e,u),m&&((n.viewHooks??=[]).push(e,m),(n.viewCheckHooks??=[]).push(e,m)),_!=null&&(n.destroyHooks??=[]).push(e,_)}}function B6(n,i,e){nx(n,i,3,e)}function V6(n,i,e,t){(n[De]&3)===e&&nx(n,i,e,t)}function Af(n,i){let e=n[De];(e&3)===i&&(e&=16383,e+=1,n[De]=e)}function nx(n,i,e,t){let r=t!==void 0?n[_a]&65535:0,o=t??-1,a=i.length-1,s=0;for(let u=r;u<a;u++)if(typeof i[u+1]=="number"){if(s=i[u],t!=null&&s>=t)break}else i[u]<0&&(n[_a]+=65536),(s<o||o==-1)&&(vF(n,e,i,u),n[_a]=(n[_a]&4294901760)+u+2),u++}function yb(n,i){St(4,n,i);let e=Ie(null);try{i.call(n)}finally{Ie(e),St(5,n,i)}}function vF(n,i,e,t){let r=e[t]<0,o=e[t+1],a=r?-e[t]:e[t],s=n[a];r?n[De]>>14<n[_a]>>16&&(n[De]&3)===i&&(n[De]+=16384,yb(s,o)):yb(s,o)}var e0=-1,Ma=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(i,e,t,r){this.factory=i,this.name=r,this.canSeeViewProviders=e,this.injectImpl=t}};function yF(n){return(n.flags&8)!==0}function _F(n){return(n.flags&16)!==0}function bF(n,i,e){let t=0;for(;t<e.length;){let r=e[t];if(typeof r=="number"){if(r!==0)break;t++;let o=e[t++],a=e[t++],s=e[t++];n.setAttribute(i,a,s,o)}else{let o=r,a=e[++t];xF(o)?n.setProperty(i,o,a):n.setAttribute(i,o,a),t++}}return t}function ix(n){return n===3||n===4||n===6}function xF(n){return n.charCodeAt(0)===64}function t0(n,i){if(!(i===null||i.length===0))if(n===null||n.length===0)n=i.slice();else{let e=-1;for(let t=0;t<i.length;t++){let r=i[t];typeof r=="number"?e=r:e===0||(e===-1||e===2?_b(n,e,r,null,i[++t]):_b(n,e,r,null,null))}}return n}function _b(n,i,e,t,r){let o=0,a=n.length;if(i===-1)a=-1;else for(;o<n.length;){let s=n[o++];if(typeof s=="number"){if(s===i){a=-1;break}else if(s>i){a=o-1;break}}}for(;o<n.length;){let s=n[o];if(typeof s=="number")break;if(s===e){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(n.splice(a,0,i),o=a+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r)}function rx(n){return n!==e0}function $6(n){return n&32767}function CF(n){return n>>16}function W6(n,i){let e=CF(n),t=i;for(;e>0;)t=t[ya],e--;return t}var jf=!0;function G6(n){let i=jf;return jf=n,i}var wF=256,ox=wF-1,ax=5,SF=0,M2={};function MF(n,i,e){let t;typeof e=="string"?t=e.charCodeAt(0)||0:e.hasOwnProperty(va)&&(t=e[va]),t==null&&(t=e[va]=SF++);let r=t&ox,o=1<<r;i.data[n+(r>>ax)]|=o}function Y6(n,i){let e=sx(n,i);if(e!==-1)return e;let t=i[Ce];t.firstCreatePass&&(n.injectorIndex=i.length,Nf(t.data,n),Nf(i,null),Nf(t.blueprint,null));let r=x9(n,i),o=n.injectorIndex;if(rx(r)){let a=$6(r),s=W6(r,i),u=s[Ce].data;for(let m=0;m<8;m++)i[o+m]=s[a+m]|u[a+m]}return i[o+8]=r,o}function Nf(n,i){n.push(0,0,0,0,0,0,0,0,i)}function sx(n,i){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||i[n.injectorIndex+8]===null?-1:n.injectorIndex}function x9(n,i){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,t=null,r=i;for(;r!==null;){if(t=fx(r),t===null)return e0;if(e++,r=r[ya],t.injectorIndex!==-1)return t.injectorIndex|e<<16}return e0}function Hf(n,i,e){MF(n,i,e)}function EF(n,i){if(i==="class")return n.classes;if(i==="style")return n.styles;let e=n.attrs;if(e){let t=e.length,r=0;for(;r<t;){let o=e[r];if(ix(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<t&&typeof e[r]=="string";)r++;else{if(o===i)return e[r+1];r=r+2}}}return null}function cx(n,i,e){if(e&8||n!==void 0)return n;_6(i,"NodeInjector")}function lx(n,i,e,t){if(e&8&&t===void 0&&(t=null),(e&3)===0){let r=n[io],o=I1(void 0);try{return r?r.get(i,t,e&8):Gu(i,t,e&8)}finally{I1(o)}}return cx(t,i,e)}function dx(n,i,e,t=0,r){if(n!==null){if(i[De]&2048&&!(t&2)){let a=zF(n,i,e,t,M2);if(a!==M2)return a}let o=ux(n,i,e,t,M2);if(o!==M2)return o}return lx(i,e,t,r)}function ux(n,i,e,t,r){let o=IF(e);if(typeof o=="function"){if(!Tf(i,n,t))return t&1?cx(r,e,t):lx(i,e,t,r);try{let a;if(a=o(t),a==null&&!(t&8))_6(e);else return a}finally{If()}}else if(typeof o=="number"){let a=null,s=sx(n,i),u=e0,m=t&1?i[j1][z1]:null;for((s===-1||t&4)&&(u=s===-1?x9(n,i):i[s+8],u===e0||!xb(t,!1)?s=-1:(a=i[Ce],s=$6(u),i=W6(u,i)));s!==-1;){let _=i[Ce];if(bb(o,s,_.data)){let y=TF(s,i,e,a,t,m);if(y!==M2)return y}u=i[s+8],u!==e0&&xb(t,i[Ce].data[s+8]===m)&&bb(o,s,i)?(a=_,s=$6(u),i=W6(u,i)):s=-1}}return r}function TF(n,i,e,t,r,o){let a=i[Ce],s=a.data[n+8],u=t==null?ao(s)&&jf:t!=a&&(s.type&3)!==0,m=r&1&&o===s,_=U6(s,a,e,u,m);return _!==null?J3(i,a,_,s,r):M2}function U6(n,i,e,t,r){let o=n.providerIndexes,a=i.data,s=o&1048575,u=n.directiveStart,m=n.directiveEnd,_=o>>20,y=t?s:s+_,E=r?s+_:m;for(let I=y;I<E;I++){let A=a[I];if(I<u&&e===A||I>=u&&A.type===e)return I}if(r){let I=a[u];if(I&&Gi(I)&&I.type===e)return u}return null}function J3(n,i,e,t,r){let o=n[e],a=i.data;if(o instanceof Ma){let s=o;if(s.resolving){let I=R_(a[e]);throw Wu(I)}let u=G6(s.canSeeViewProviders);s.resolving=!0;let m=a[e].type||a[e],_,y=s.injectImpl?I1(s.injectImpl):null,E=Tf(n,t,0);try{o=n[e]=s.factory(void 0,r,a,n,t),i.firstCreatePass&&e>=t.directiveStart&&gF(e,a[e],i)}finally{y!==null&&I1(y),G6(u),s.resolving=!1,If()}}return o}function IF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let i=n.hasOwnProperty(va)?n[va]:void 0;return typeof i=="number"?i>=0?i&ox:DF:i}function bb(n,i,e){let t=1<<n;return!!(e[i+(n>>ax)]&t)}function xb(n,i){return!(n&2)&&!(n&1&&i)}var Sa=class{_tNode;_lView;constructor(i,e){this._tNode=i,this._lView=e}get(i,e,t){return dx(this._tNode,this._lView,i,ma(t),e)}};function DF(){return new Sa(wn(),ve())}function hn(n){return r4(()=>{let i=n.prototype.constructor,e=i[N3]||qf(i),t=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==t;){let o=r[N3]||qf(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function qf(n){return Bu(n)?()=>{let i=qf(Jn(n));return i&&i()}:eo(n)}function zF(n,i,e,t,r){let o=n,a=i;for(;o!==null&&a!==null&&a[De]&2048&&!Ws(a);){let s=ux(o,a,e,t|2,M2);if(s!==M2)return s;let u=o.parent;if(!u){let m=a[of];if(m){let _=m.get(e,M2,t);if(_!==M2)return _}u=fx(a),a=a[ya]}o=u}return r}function fx(n){let i=n[Ce],e=i.type;return e===2?i.declTNode:e===1?n[z1]:null}function o4(n){return EF(wn(),n)}function LF(){return o0(wn(),ve())}function o0(n,i){return new Me(Yi(n,i))}var Me=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=LF}return n})();function kF(n){return n instanceof Me?n.nativeElement:n}function AF(){return this._results[Symbol.iterator]()}var fr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Y}constructor(i=!1){this._emitDistinctChangesOnly=i}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,e){return this._results.reduce(i,e)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,e){this.dirty=!1;let t=j_(i);(this._changesDetected=!U_(this._results,t,e))&&(this._results=t,this.length=t.length,this.last=t[this.length-1],this.first=t[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=AF};function px(n){return(n.flags&128)===128}var C9=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(C9||{}),mx=new Map,NF=0;function PF(){return NF++}function OF(n){mx.set(n[U3],n)}function $f(n){mx.delete(n[U3])}var Cb="__ngContext__";function n0(n,i){C2(i)?(n[Cb]=i[U3],OF(i)):n[Cb]=i}function hx(n){return vx(n[qs])}function gx(n){return vx(n[wi])}function vx(n){for(;n!==null&&!Wi(n);)n=n[wi];return n}var Wf;function w9(n){Wf=n}function S9(){if(Wf!==void 0)return Wf;if(typeof document<"u")return document;throw new q(210,!1)}var fo=new G("",{providedIn:"root",factory:()=>RF}),RF="ng",l5=new G(""),Ta=new G("",{providedIn:"platform",factory:()=>"unknown"});var po=new G(""),a0=new G("",{providedIn:"root",factory:()=>S9().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),d5={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},u5=new G("",{providedIn:"root",factory:()=>d5});var FF="h",BF="b";var yx=!1,_x=new G("",{providedIn:"root",factory:()=>yx});var f5=new G("");var VF=(n,i,e,t)=>{};function UF(n,i,e,t){VF(n,i,e,t)}function p5(n){return(n.flags&32)===32}var jF=()=>null;function bx(n,i,e=!1){return jF(n,i,e)}function xx(n,i){let e=n.contentQueries;if(e!==null){let t=Ie(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let s=n.data[a];D6(o),s.contentQueries(2,i[a],a)}}}finally{Ie(t)}}}function Gf(n,i,e){D6(0);let t=Ie(null);try{i(n,e)}finally{Ie(t)}}function M9(n,i,e){if(sf(i)){let t=Ie(null);try{let r=i.directiveStart,o=i.directiveEnd;for(let a=r;a<o;a++){let s=n.data[a];if(s.contentQueries){let u=e[a];s.contentQueries(1,u,a)}}}finally{Ie(t)}}}var pr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(pr||{}),N6;function HF(){if(N6===void 0&&(N6=null,kn.trustedTypes))try{N6=kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return N6}function m5(n){return HF()?.createHTML(n)||n}var P6;function Cx(){if(P6===void 0&&(P6=null,kn.trustedTypes))try{P6=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return P6}function wb(n){return Cx()?.createHTML(n)||n}function Sb(n){return Cx()?.createScriptURL(n)||n}var mr=class{changingThisBreaksApplicationSecurity;constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${g6})`}},Yf=class extends mr{getTypeName(){return"HTML"}},Qf=class extends mr{getTypeName(){return"Style"}},Kf=class extends mr{getTypeName(){return"Script"}},Xf=class extends mr{getTypeName(){return"URL"}},Zf=class extends mr{getTypeName(){return"ResourceURL"}};function q1(n){return n instanceof mr?n.changingThisBreaksApplicationSecurity:n}function T2(n,i){let e=wx(n);if(e!=null&&e!==i){if(e==="ResourceURL"&&i==="URL")return!0;throw new Error(`Required a safe ${i}, got a ${e} (see ${g6})`)}return e===i}function wx(n){return n instanceof mr&&n.getTypeName()||null}function E9(n){return new Yf(n)}function T9(n){return new Qf(n)}function I9(n){return new Kf(n)}function D9(n){return new Xf(n)}function z9(n){return new Zf(n)}function qF(n){let i=new e9(n);return $F()?new Jf(i):i}var Jf=class{inertDocumentHelper;constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{let e=new window.DOMParser().parseFromString(m5(i),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(i):(e.firstChild?.remove(),e)}catch{return null}}},e9=class{defaultDoc;inertDocument;constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){let e=this.inertDocument.createElement("template");return e.innerHTML=m5(i),e}};function $F(){try{return!!new window.DOMParser().parseFromString(m5(""),"text/html")}catch{return!1}}var WF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function a4(n){return n=String(n),n.match(WF)?n:"unsafe:"+n}function hr(n){let i={};for(let e of n.split(","))i[e]=!0;return i}function s4(...n){let i={};for(let e of n)for(let t in e)e.hasOwnProperty(t)&&(i[t]=!0);return i}var Sx=hr("area,br,col,hr,img,wbr"),Mx=hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ex=hr("rp,rt"),GF=s4(Ex,Mx),YF=s4(Mx,hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),QF=s4(Ex,hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mb=s4(Sx,YF,QF,GF),Tx=hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KF=hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),XF=hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ZF=s4(Tx,KF,XF),JF=hr("script,style,template"),t9=class{sanitizedSomething=!1;buf=[];sanitizeChildren(i){let e=i.firstChild,t=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild){r.push(e),e=nB(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=tB(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(i){let e=Eb(i).toLowerCase();if(!Mb.hasOwnProperty(e))return this.sanitizedSomething=!0,!JF.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let t=i.attributes;for(let r=0;r<t.length;r++){let o=t.item(r),a=o.name,s=a.toLowerCase();if(!ZF.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let u=o.value;Tx[s]&&(u=a4(u)),this.buf.push(" ",a,'="',Tb(u),'"')}return this.buf.push(">"),!0}endElement(i){let e=Eb(i).toLowerCase();Mb.hasOwnProperty(e)&&!Sx.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(i){this.buf.push(Tb(i))}};function eB(n,i){return(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function tB(n){let i=n.nextSibling;if(i&&n!==i.previousSibling)throw Ix(i);return i}function nB(n){let i=n.firstChild;if(i&&eB(n,i))throw Ix(i);return i}function Eb(n){let i=n.nodeName;return typeof i=="string"?i:"FORM"}function Ix(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var iB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rB=/([^\#-~ |!])/g;function Tb(n){return n.replace(/&/g,"&amp;").replace(iB,function(i){let e=i.charCodeAt(0),t=i.charCodeAt(1);return"&#"+((e-55296)*1024+(t-56320)+65536)+";"}).replace(rB,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var O6;function h5(n,i){let e=null;try{O6=O6||qF(n);let t=i?String(i):"";e=O6.getInertBodyElement(t);let r=5,o=t;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,t=o,o=e.innerHTML,e=O6.getInertBodyElement(t)}while(t!==o);let s=new t9().sanitizeChildren(Ib(e)||e);return m5(s)}finally{if(e){let t=Ib(e)||e;for(;t.firstChild;)t.firstChild.remove()}}}function Ib(n){return"content"in n&&oB(n)?n.content:null}function oB(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var $1=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})($1||{});function s0(n){let i=k9();return i?wb(i.sanitize($1.HTML,n)||""):T2(n,"HTML")?wb(q1(n)):h5(S9(),sr(n))}function c4(n){let i=k9();return i?i.sanitize($1.URL,n)||"":T2(n,"URL")?q1(n):a4(sr(n))}function Dx(n){let i=k9();if(i)return Sb(i.sanitize($1.RESOURCE_URL,n)||"");if(T2(n,"ResourceURL"))return Sb(q1(n));throw new q(904,!1)}function aB(n,i){return i==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||i==="href"&&(n==="base"||n==="link")?Dx:c4}function L9(n,i,e){return aB(i,e)(n)}function k9(){let n=ve();return n&&n[b2].sanitizer}var sB=/^>|^->|<!--|-->|--!>|<!-$/g,cB=/(<|>)/g,lB="\u200B$1\u200B";function dB(n){return n.replace(sB,i=>i.replace(cB,lB))}function A9(n){return n.ownerDocument.defaultView}function l4(n){return n.ownerDocument}function zx(n){return n instanceof Function?n():n}function uB(n,i,e){let t=n.length;for(;;){let r=n.indexOf(i,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=i.length;if(r+o===t||n.charCodeAt(r+o)<=32)return r}e=r+1}}var Lx="ng-template";function fB(n,i,e,t){let r=0;if(t){for(;r<i.length&&typeof i[r]=="string";r+=2)if(i[r]==="class"&&uB(i[r+1].toLowerCase(),e,0)!==-1)return!0}else if(N9(n))return!1;if(r=i.indexOf(1,r),r>-1){let o;for(;++r<i.length&&typeof(o=i[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function N9(n){return n.type===4&&n.value!==Lx}function pB(n,i,e){let t=n.type===4&&!e?Lx:n.value;return i===t}function mB(n,i,e){let t=4,r=n.attrs,o=r!==null?vB(r):0,a=!1;for(let s=0;s<i.length;s++){let u=i[s];if(typeof u=="number"){if(!a&&!Ki(t)&&!Ki(u))return!1;if(a&&Ki(u))continue;a=!1,t=u|t&1;continue}if(!a)if(t&4){if(t=2|t&1,u!==""&&!pB(n,u,e)||u===""&&i.length===1){if(Ki(t))return!1;a=!0}}else if(t&8){if(r===null||!fB(n,r,u,e)){if(Ki(t))return!1;a=!0}}else{let m=i[++s],_=hB(u,r,N9(n),e);if(_===-1){if(Ki(t))return!1;a=!0;continue}if(m!==""){let y;if(_>o?y="":y=r[_+1].toLowerCase(),t&2&&m!==y){if(Ki(t))return!1;a=!0}}}}return Ki(t)||a}function Ki(n){return(n&1)===0}function hB(n,i,e,t){if(i===null)return-1;let r=0;if(t||!e){let o=!1;for(;r<i.length;){let a=i[r];if(a===n)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=i[++r];for(;typeof s=="string";)s=i[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return yB(i,n)}function kx(n,i,e=!1){for(let t=0;t<i.length;t++)if(mB(n,i[t],e))return!0;return!1}function gB(n){let i=n.attrs;if(i!=null){let e=i.indexOf(5);if((e&1)===0)return i[e+1]}return null}function vB(n){for(let i=0;i<n.length;i++){let e=n[i];if(ix(e))return i}return n.length}function yB(n,i){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let t=n[e];if(typeof t=="number")return-1;if(t===i)return e;e++}return-1}function _B(n,i){e:for(let e=0;e<i.length;e++){let t=i[e];if(n.length===t.length){for(let r=0;r<n.length;r++)if(n[r]!==t[r])continue e;return!0}}return!1}function Db(n,i){return n?":not("+i.trim()+")":i}function bB(n){let i=n[0],e=1,t=2,r="",o=!1;for(;e<n.length;){let a=n[e];if(typeof a=="string")if(t&2){let s=n[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else t&8?r+="."+a:t&4&&(r+=" "+a);else r!==""&&!Ki(a)&&(i+=Db(o,r),r=""),t=a,o=o||!Ki(t);e++}return r!==""&&(i+=Db(o,r)),i}function xB(n){return n.map(bB).join(",")}function CB(n){let i=[],e=[],t=1,r=2;for(;t<n.length;){let o=n[t];if(typeof o=="string")r===2?o!==""&&i.push(o,n[++t]):r===8&&e.push(o);else{if(!Ki(r))break;r=o}t++}return e.length&&i.push(1,...e),i}var u1={};function wB(n,i){return n.createText(i)}function SB(n,i,e){n.setValue(i,e)}function MB(n,i){return n.createComment(dB(i))}function Ax(n,i,e){return n.createElement(i,e)}function Q6(n,i,e,t,r){n.insertBefore(i,e,t,r)}function Nx(n,i,e){n.appendChild(i,e)}function zb(n,i,e,t,r){t!==null?Q6(n,i,e,t,r):Nx(n,i,e)}function EB(n,i,e,t){n.removeChild(null,i,e,t)}function TB(n,i,e){n.setAttribute(i,"style",e)}function IB(n,i,e){e===""?n.removeAttribute(i,"class"):n.setAttribute(i,"class",e)}function Px(n,i,e){let{mergedAttrs:t,classes:r,styles:o}=e;t!==null&&bF(n,i,t),r!==null&&IB(n,i,r),o!==null&&TB(n,i,o)}function P9(n,i,e,t,r,o,a,s,u,m,_){let y=Wt+t,E=y+r,I=DB(y,E),A=typeof m=="function"?m():m;return I[Ce]={type:n,blueprint:I,template:e,queries:null,viewQuery:s,declTNode:i,data:I.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:_}}function DB(n,i){let e=[];for(let t=0;t<i;t++)e.push(t<n?null:u1);return e}function zB(n){let i=n.tView;return i===null||i.incompleteFirstPass?n.tView=P9(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function O9(n,i,e,t,r,o,a,s,u,m,_){let y=i.blueprint.slice();return y[Ci]=r,y[De]=t|4|128|8|64|1024,(m!==null||n&&n[De]&2048)&&(y[De]|=2048),ff(y),y[Un]=y[ya]=n,y[e1]=e,y[b2]=a||n&&n[b2],y[Mt]=s||n&&n[Mt],y[io]=u||n&&n[io]||null,y[z1]=o,y[U3]=PF(),y[js]=_,y[of]=m,y[j1]=i.type==2?n[j1]:y,y}function LB(n,i,e){let t=Yi(i,n),r=zB(e),o=n[b2].rendererFactory,a=R9(n,O9(n,r,null,Ox(e),t,i,null,o.createRenderer(t,e),null,null,null));return n[i.index]=a}function Ox(n){let i=16;return n.signals?i=4096:n.onPush&&(i=64),i}function Rx(n,i,e,t){if(e===0)return-1;let r=i.length;for(let o=0;o<e;o++)i.push(t),n.blueprint.push(t),n.data.push(null);return r}function R9(n,i){return n[qs]?n[rf][wi]=i:n[qs]=i,n[rf]=i,i}function d(n=1){Fx(Rt(),ve(),ur()+n,!1)}function Fx(n,i,e,t){if(!t)if((i[De]&3)===3){let o=n.preOrderCheckHooks;o!==null&&B6(i,o,e)}else{let o=n.preOrderHooks;o!==null&&V6(i,o,0,e)}co(e)}var g5=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(g5||{});function n9(n,i,e,t){let r=Ie(null);try{let[o,a,s]=n.inputs[e],u=null;(a&g5.SignalBased)!==0&&(u=i[o][Zn]),u!==null&&u.transformFn!==void 0?t=u.transformFn(t):s!==null&&(t=s.call(i,t)),n.setInput!==null?n.setInput(i,u,t,e,o):Xb(i,u,o,t)}finally{Ie(r)}}var Zi=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Zi||{}),kB;function F9(n,i){return kB(n,i)}var i0=new Set,v5=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(v5||{}),Ia=new G(""),Lb=new Set;function Ei(n){Lb.has(n)||(Lb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Bx=!1,i9=class extends Y{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(i=!1){super(),this.__isAsync=i,nf()&&(this.destroyRef=T(t1,{optional:!0})??void 0,this.pendingTasks=T(S2,{optional:!0})??void 0)}emit(i){let e=Ie(null);try{super.next(i)}finally{Ie(e)}}subscribe(i,e,t){let r=i,o=e||(()=>null),a=t;if(i&&typeof i=="object"){let u=i;r=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:r,error:o,complete:a});return i instanceof Ve&&i.add(s),s}wrapInTimeout(i){return e=>{let t=this.pendingTasks?.add();setTimeout(()=>{try{i(e)}finally{t!==void 0&&this.pendingTasks?.remove(t)}})}}},K=i9;function Vx(n){let i,e;function t(){n=wa;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),i!==void 0&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{n(),t()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),t()})),()=>t()}function kb(n){return queueMicrotask(()=>n()),()=>{n=wa}}var B9="isAngularZone",K6=B9+"_ID",AB=0,ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new K(!1);onMicrotaskEmpty=new K(!1);onStable=new K(!1);onError=new K(!1);constructor(i){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Bx}=i;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&t,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,OB(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(B9)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(i,e,t){return this._inner.run(i,e,t)}runTask(i,e,t,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,i,NB,wa,wa);try{return o.runTask(a,e,t)}finally{o.cancelTask(a)}}runGuarded(i,e,t){return this._inner.runGuarded(i,e,t)}runOutsideAngular(i){return this._outer.run(i)}},NB={};function V9(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function PB(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function i(){Vx(()=>{n.callbackScheduled=!1,r9(n),n.isCheckStableRunning=!0,V9(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{i()}):n._outer.run(()=>{i()}),r9(n)}function OB(n){let i=()=>{PB(n)},e=AB++;n._inner=n._inner.fork({name:"angular",properties:{[B9]:!0,[K6]:e,[K6+e]:!0},onInvokeTask:(t,r,o,a,s,u)=>{if(RB(u))return t.invokeTask(o,a,s,u);try{return Ab(n),t.invokeTask(o,a,s,u)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&i(),Nb(n)}},onInvoke:(t,r,o,a,s,u,m)=>{try{return Ab(n),t.invoke(o,a,s,u,m)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!FB(u)&&i(),Nb(n)}},onHasTask:(t,r,o,a)=>{t.hasTask(o,a),r===o&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,r9(n),V9(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,r,o,a)=>(t.handleError(o,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function r9(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Ab(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Nb(n){n._nesting--,V9(n)}var X6=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new K;onMicrotaskEmpty=new K;onStable=new K;onError=new K;run(i,e,t){return i.apply(e,t)}runGuarded(i,e,t){return i.apply(e,t)}runOutsideAngular(i){return i()}runTask(i,e,t,r){return i.apply(e,t)}};function RB(n){return Ux(n,"__ignore_ng_zone__")}function FB(n){return Ux(n,"__scheduler_tick__")}function Ux(n,i){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[i]===!0}var U9=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),jx=[0,1,2,3],Hx=(()=>{class n{ngZone=T(ce);scheduler=T($i);errorHandler=T(li,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){T(Ia,{optional:!0})}execute(){let e=this.sequences.size>0;e&&St(16),this.executing=!0;for(let t of jx)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[t]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[t];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&St(17)}register(e){let{view:t}=e;t!==void 0?((t[ba]??=[]).push(e),so(t),t[De]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,t){return t?t.run(v5.AFTER_NEXT_RENDER,e):e()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),Z6=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(i,e,t,r,o,a=null){this.impl=i,this.hooks=e,this.view=t,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let i=this.view?.[ba];i&&(this.view[ba]=i.filter(e=>e!==this))}};function Sn(n,i){let e=i?.injector??T(fe);return Ei("NgAfterNextRender"),VB(n,e,i,!0)}function BB(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function VB(n,i,e,t){let r=i.get(U9);r.impl??=i.get(Hx);let o=i.get(Ia,null,{optional:!0}),a=e?.manualCleanup!==!0?i.get(t1):null,s=i.get(Xs,null,{optional:!0}),u=new Z6(r.impl,BB(n),s?.view,t,a,o?.snapshot(null));return r.impl.register(u),u}var UB=new G("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function qx(n,i,e){let t=n.get(UB);if(Array.isArray(i))for(let r of i)t.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else t.queue.add(i),e?.detachedLeaveAnimationFns?.push(i);t.scheduler&&t.scheduler(n)}function jB(n,i){for(let[e,t]of i)qx(n,t.animateFns)}function Pb(n,i,e,t){let r=n?.[j3]?.enter;i!==null&&r&&r.has(e.index)&&jB(t,r)}function Js(n,i,e,t,r,o,a,s){if(r!=null){let u,m=!1;Wi(r)?u=r:C2(r)&&(m=!0,r=r[Ci]);let _=Si(r);n===0&&t!==null?(Pb(s,t,o,e),a==null?Nx(i,t,_):Q6(i,t,_,a||null,!0)):n===1&&t!==null?(Pb(s,t,o,e),Q6(i,t,_,a||null,!0)):n===2?Ob(s,o,e,y=>{EB(i,_,m,y)}):n===3&&Ob(s,o,e,()=>{i.destroyNode(_)}),u!=null&&JB(i,n,e,u,o,t,a)}}function HB(n,i){$x(n,i),i[Ci]=null,i[z1]=null}function qB(n,i,e,t,r,o){t[Ci]=r,t[z1]=i,y5(n,t,e,1,r,o)}function $x(n,i){i[b2].changeDetectionScheduler?.notify(9),y5(n,i,i[Mt],2,null,null)}function $B(n){let i=n[qs];if(!i)return Pf(n[Ce],n);for(;i;){let e=null;if(C2(i))e=i[qs];else{let t=i[l1];t&&(e=t)}if(!e){for(;i&&!i[wi]&&i!==n;)C2(i)&&Pf(i[Ce],i),i=i[Un];i===null&&(i=n),C2(i)&&Pf(i[Ce],i),e=i&&i[wi]}i=e}}function j9(n,i){let e=n[xa],t=e.indexOf(i);e.splice(t,1)}function H9(n,i){if(Ca(i))return;let e=i[Mt];e.destroyNode&&y5(n,i,e,3,null,null),$B(i)}function Pf(n,i){if(Ca(i))return;let e=Ie(null);try{i[De]&=-129,i[De]|=256,i[di]&&aa(i[di]),YB(n,i),GB(n,i),i[Ce].type===1&&i[Mt].destroy();let t=i[ro];if(t!==null&&Wi(i[Un])){t!==i[Un]&&j9(t,i);let r=i[x2];r!==null&&r.detachView(n)}$f(i)}finally{Ie(e)}}function Ob(n,i,e,t){let r=n?.[j3];if(r==null||r.leave==null||!r.leave.has(i.index))return t(!1);n&&i0.add(n),qx(e,()=>{if(r.leave&&r.leave.has(i.index)){let a=r.leave.get(i.index),s=[];if(a){for(let u=0;u<a.animateFns.length;u++){let m=a.animateFns[u],{promise:_}=m();s.push(_)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(s),WB(n,t)}else n&&i0.delete(n),t(!1)},r)}function WB(n,i){let e=n[j3]?.running;if(e){e.then(()=>{n[j3].running=void 0,i0.delete(n),i(!0)});return}i(!1)}function GB(n,i){let e=n.cleanup,t=i[Hs];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?t[s]():t[-s].unsubscribe(),a+=2}else{let s=t[e[a+1]];e[a].call(s)}t!==null&&(i[Hs]=null);let r=i[or];if(r!==null){i[or]=null;for(let a=0;a<r.length;a++){let s=r[a];s()}}let o=i[lr];if(o!==null){i[lr]=null;for(let a of o)a.destroy()}}function YB(n,i){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let t=0;t<e.length;t+=2){let r=i[e[t]];if(!(r instanceof Ma)){let o=e[t+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],u=o[a+1];St(4,s,u);try{u.call(s)}finally{St(5,s,u)}}else{St(4,r,o);try{o.call(r)}finally{St(5,r,o)}}}}}function Wx(n,i,e){return QB(n,i.parent,e)}function QB(n,i,e){let t=i;for(;t!==null&&t.type&168;)i=t,t=i.parent;if(t===null)return e[Ci];if(ao(t)){let{encapsulation:r}=n.data[t.directiveStart+t.componentOffset];if(r===pr.None||r===pr.Emulated)return null}return Yi(t,e)}function Gx(n,i,e){return XB(n,i,e)}function KB(n,i,e){return n.type&40?Yi(n,e):null}var XB=KB,Rb;function q9(n,i,e,t){let r=Wx(n,t,i),o=i[Mt],a=t.parent||i[z1],s=Gx(a,t,i);if(r!=null)if(Array.isArray(e))for(let u=0;u<e.length;u++)zb(o,r,e[u],s,!1);else zb(o,r,e,s,!1);Rb!==void 0&&Rb(o,t,i,e,r)}function K3(n,i){if(i!==null){let e=i.type;if(e&3)return Yi(i,n);if(e&4)return o9(-1,n[i.index]);if(e&8){let t=i.child;if(t!==null)return K3(n,t);{let r=n[i.index];return Wi(r)?o9(-1,r):Si(r)}}else{if(e&128)return K3(n,i.next);if(e&32)return F9(i,n)()||Si(n[i.index]);{let t=Yx(n,i);if(t!==null){if(Array.isArray(t))return t[0];let r=to(n[j1]);return K3(r,t)}else return K3(n,i.next)}}}return null}function Yx(n,i){if(i!==null){let t=n[j1][z1],r=i.projection;return t.projection[r]}return null}function o9(n,i){let e=l1+n+1;if(e<i.length){let t=i[e],r=t[Ce].firstChild;if(r!==null)return K3(t,r)}return i[oo]}function $9(n,i,e,t,r,o,a){for(;e!=null;){let s=t[io];if(e.type===128){e=e.next;continue}let u=t[e.index],m=e.type;if(a&&i===0&&(u&&n0(Si(u),t),e.flags|=2),!p5(e))if(m&8)$9(n,i,e.child,t,r,o,!1),Js(i,n,s,r,u,e,o,t);else if(m&32){let _=F9(e,t),y;for(;y=_();)Js(i,n,s,r,y,e,o,t);Js(i,n,s,r,u,e,o,t)}else m&16?Qx(n,i,t,e,r,o):Js(i,n,s,r,u,e,o,t);e=a?e.projectionNext:e.next}}function y5(n,i,e,t,r,o){$9(e,t,n.firstChild,i,r,o,!1)}function ZB(n,i,e){let t=i[Mt],r=Wx(n,e,i),o=e.parent||i[z1],a=Gx(o,e,i);Qx(t,0,i,e,r,a)}function Qx(n,i,e,t,r,o){let a=e[j1],u=a[z1].projection[t.projection];if(Array.isArray(u))for(let m=0;m<u.length;m++){let _=u[m];Js(i,n,e[io],r,_,t,o,e)}else{let m=u,_=a[Un];px(t)&&(m.flags|=128),$9(n,i,m,_,r,o,!0)}}function JB(n,i,e,t,r,o,a){let s=t[oo],u=Si(t);s!==u&&Js(i,n,e,o,s,r,a);for(let m=l1;m<t.length;m++){let _=t[m];y5(_[Ce],_,n,i,o,s)}}function eV(n,i,e,t,r){if(i)r?n.addClass(e,t):n.removeClass(e,t);else{let o=t.indexOf("-")===-1?void 0:Zi.DashCase;r==null?n.removeStyle(e,t,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Zi.Important),n.setStyle(e,t,r,o))}}function Kx(n,i,e,t,r){let o=ur(),a=t&2;try{co(-1),a&&i.length>Wt&&Fx(n,i,Wt,!1),St(a?2:0,r,e),e(t,r)}finally{co(o),St(a?3:1,r,e)}}function _5(n,i,e){aV(n,i,e),(e.flags&64)===64&&sV(n,i,e)}function d4(n,i,e=Yi){let t=i.localNames;if(t!==null){let r=i.index+1;for(let o=0;o<t.length;o+=2){let a=t[o+1],s=a===-1?e(i,n):n[a];n[r++]=s}}}function tV(n,i,e,t){let o=t.get(_x,yx)||e===pr.ShadowDom,a=n.selectRootElement(i,o);return nV(a),a}function nV(n){iV(n)}var iV=()=>null;function rV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Xx(n,i,e,t,r,o){let a=i[Ce];if(K9(n,a,i,e,t)){ao(n)&&oV(i,n.index);return}n.type&3&&(e=rV(e)),W9(n,i,e,t,r,o)}function W9(n,i,e,t,r,o){if(n.type&3){let a=Yi(n,i);t=o!=null?o(t,n.value||"",e):t,r.setProperty(a,e,t)}else n.type&12}function oV(n,i){let e=Mi(i,n);e[De]&16||(e[De]|=64)}function aV(n,i,e){let t=e.directiveStart,r=e.directiveEnd;ao(e)&&LB(i,e,n.data[t+e.componentOffset]),n.firstCreatePass||Y6(e,i);let o=e.initialInputs;for(let a=t;a<r;a++){let s=n.data[a],u=J3(i,n,a,e);if(n0(u,i),o!==null&&uV(i,a-t,u,s,e,o),Gi(s)){let m=Mi(e.index,i);m[e1]=J3(i,n,a,e)}}}function sV(n,i,e){let t=e.directiveStart,r=e.directiveEnd,o=e.index,a=lb();try{co(o);for(let s=t;s<r;s++){let u=n.data[s],m=i[s];I6(s),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&cV(u,m)}}finally{co(-1),I6(a)}}function cV(n,i){n.hostBindings!==null&&n.hostBindings(1,i)}function G9(n,i){let e=n.directiveRegistry,t=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];kx(i,o.selectors,!1)&&(t??=[],Gi(o)?t.unshift(o):t.push(o))}return t}function lV(n,i,e,t,r,o){let a=Yi(n,i);dV(i[Mt],a,o,n.value,e,t,r)}function dV(n,i,e,t,r,o,a){if(o==null)n.removeAttribute(i,r,e);else{let s=a==null?sr(o):a(o,t||"",r);n.setAttribute(i,r,s,e)}}function uV(n,i,e,t,r,o){let a=o[i];if(a!==null)for(let s=0;s<a.length;s+=2){let u=a[s],m=a[s+1];n9(t,e,u,m)}}function Y9(n,i,e,t,r){let o=Wt+e,a=i[Ce],s=r(a,i,n,t,e);i[o]=s,Gs(n,!0);let u=n.type===2;return u?(Px(i[Mt],s,n),(tb()===0||$s(n))&&n0(s,i),nb()):n0(s,i),k6()&&(!u||!p5(n))&&q9(a,i,s,n),n}function Q9(n){let i=n;return Cf()?wf():(i=i.parent,Gs(i,!1)),i}function fV(n,i,e){return(n===null||Gi(n))&&(e=lf(e[i.index])),e[Mt]}function pV(n,i){let e=n[io];if(!e)return;let t;try{t=e.get(H1,null)}catch{t=null}t?.(i)}function K9(n,i,e,t,r){let o=n.inputs?.[t],a=n.hostDirectiveInputs?.[t],s=!1;if(a)for(let u=0;u<a.length;u+=2){let m=a[u],_=a[u+1],y=i.data[m];n9(y,e[m],_,r),s=!0}if(o)for(let u of o){let m=e[u],_=i.data[u];n9(_,m,t,r),s=!0}return s}function mV(n,i){let e=Mi(i,n),t=e[Ce];hV(t,e);let r=e[Ci];r!==null&&e[js]===null&&(e[js]=bx(r,e[io])),St(18),X9(t,e,e[e1]),St(19,e[e1])}function hV(n,i){for(let e=i.length;e<n.blueprint.length;e++)i.push(n.blueprint[e])}function X9(n,i,e){z6(i);try{let t=n.viewQuery;t!==null&&Gf(1,t,e);let r=n.template;r!==null&&Kx(n,i,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),i[x2]?.finishViewCreation(n),n.staticContentQueries&&xx(n,i),n.staticViewQueries&&Gf(2,n.viewQuery,e);let o=n.components;o!==null&&gV(i,o)}catch(t){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),t}finally{i[De]&=-5,L6()}}function gV(n,i){for(let e=0;e<i.length;e++)mV(n,i[e])}function Z9(n,i,e,t){let r=Ie(null);try{let o=i.tView,s=n[De]&4096?4096:16,u=O9(n,o,e,s,null,i,null,null,t?.injector??null,t?.embeddedViewInjector??null,t?.dehydratedView??null),m=n[i.index];u[ro]=m;let _=n[x2];return _!==null&&(u[x2]=_.createEmbeddedView(o)),X9(o,u,e),u}finally{Ie(r)}}function J6(n,i){return!i||i.firstChild===null||px(n)}function e4(n,i,e,t,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=i[e.index];o!==null&&t.push(Si(o)),Wi(o)&&Zx(o,t);let a=e.type;if(a&8)e4(n,i,e.child,t);else if(a&32){let s=F9(e,i),u;for(;u=s();)t.push(u)}else if(a&16){let s=Yx(i,e);if(Array.isArray(s))t.push(...s);else{let u=to(i[j1]);e4(u[Ce],u,s,t,!0)}}e=r?e.projectionNext:e.next}return t}function Zx(n,i){for(let e=l1;e<n.length;e++){let t=n[e],r=t[Ce].firstChild;r!==null&&e4(t[Ce],t,r,i)}n[oo]!==n[Ci]&&i.push(n[oo])}function Jx(n){if(n[ba]!==null){for(let i of n[ba])i.impl.addSequence(i);n[ba].length=0}}var eC=[];function vV(n){return n[di]??yV(n)}function yV(n){let i=eC.pop()??Object.create(bV);return i.lView=n,i}function _V(n){n.lView[di]!==n&&(n.lView=null,eC.push(n))}var bV=ie(P({},ia),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{so(n.lView)},consumerOnSignalRead(){this.lView[di]=this}});function xV(n){let i=n[di]??Object.create(CV);return i.lView=n,i}var CV=ie(P({},ia),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let i=to(n.lView);for(;i&&!tC(i[Ce]);)i=to(i);i&&pf(i)},consumerOnSignalRead(){this.lView[di]=this}});function tC(n){return n.type!==2}function nC(n){if(n[lr]===null)return;let i=!0;for(;i;){let e=!1;for(let t of n[lr])t.dirty&&(e=!0,t.zone===null||Zone.current===t.zone?t.run():t.zone.run(()=>t.run()));i=e&&!!(n[De]&8192)}}var wV=100;function iC(n,i=0){let t=n[b2].rendererFactory,r=!1;r||t.begin?.();try{SV(n,i)}finally{r||t.end?.()}}function SV(n,i){let e=Sf();try{Ys(!0),a9(n,i);let t=0;for(;W3(n);){if(t===wV)throw new q(103,!1);t++,a9(n,1)}}finally{Ys(e)}}function MV(n,i,e,t){if(Ca(i))return;let r=i[De],o=!1,a=!1;z6(i);let s=!0,u=null,m=null;o||(tC(n)?(m=vV(i),u=oa(m)):kl()===null?(s=!1,m=xV(i),u=oa(m)):i[di]&&(aa(i[di]),i[di]=null));try{ff(i),ab(n.bindingStartIndex),e!==null&&Kx(n,i,e,2,t);let _=(r&3)===3;if(!o)if(_){let I=n.preOrderCheckHooks;I!==null&&B6(i,I,null)}else{let I=n.preOrderHooks;I!==null&&V6(i,I,0,null),Af(i,0)}if(a||EV(i),nC(i),rC(i,0),n.contentQueries!==null&&xx(n,i),!o)if(_){let I=n.contentCheckHooks;I!==null&&B6(i,I)}else{let I=n.contentHooks;I!==null&&V6(i,I,1),Af(i,1)}IV(n,i);let y=n.components;y!==null&&aC(i,y,0);let E=n.viewQuery;if(E!==null&&Gf(2,E,t),!o)if(_){let I=n.viewCheckHooks;I!==null&&B6(i,I)}else{let I=n.viewHooks;I!==null&&V6(i,I,2),Af(i,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),i[w6]){for(let I of i[w6])I();i[w6]=null}o||(Jx(i),i[De]&=-73)}catch(_){throw o||so(i),_}finally{m!==null&&(ws(m,u),s&&_V(m)),L6()}}function rC(n,i){for(let e=hx(n);e!==null;e=gx(e))for(let t=l1;t<e.length;t++){let r=e[t];oC(r,i)}}function EV(n){for(let i=hx(n);i!==null;i=gx(i)){if(!(i[De]&2))continue;let e=i[xa];for(let t=0;t<e.length;t++){let r=e[t];pf(r)}}}function TV(n,i,e){St(18);let t=Mi(i,n);oC(t,e),St(19,t[e1])}function oC(n,i){S6(n)&&a9(n,i)}function a9(n,i){let t=n[Ce],r=n[De],o=n[di],a=!!(i===0&&r&16);if(a||=!!(r&64&&i===0),a||=!!(r&1024),a||=!!(o?.dirty&&Ss(o)),a||=!1,o&&(o.dirty=!1),n[De]&=-9217,a)MV(t,n,t.template,n[e1]);else if(r&8192){let s=Ie(null);try{nC(n),rC(n,1);let u=t.components;u!==null&&aC(n,u,1),Jx(n)}finally{Ie(s)}}}function aC(n,i,e){for(let t=0;t<i.length;t++)TV(n,i[t],e)}function IV(n,i){let e=n.hostBindingOpCodes;if(e!==null)try{for(let t=0;t<e.length;t++){let r=e[t];if(r<0)co(~r);else{let o=r,a=e[++t],s=e[++t];cb(a,o);let u=i[o];St(24,u),s(2,u),St(25,u)}}}finally{co(-1)}}function J9(n,i){let e=Sf()?64:1088;for(n[b2].changeDetectionScheduler?.notify(i);n;){n[De]|=e;let t=to(n);if(Ws(n)&&!t)return n;n=t}return null}function sC(n,i,e,t){return[n,!0,0,i,null,t,null,e,null,null]}function DV(n,i){let e=l1+i;if(e<n.length)return n[e]}function ep(n,i,e,t=!0){let r=i[Ce];if(LV(r,i,n,e),t){let a=o9(e,n),s=i[Mt],u=s.parentNode(n[oo]);u!==null&&qB(r,n[z1],s,i,u,a)}let o=i[js];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zV(n,i){let e=e5(n,i);return e!==void 0&&H9(e[Ce],e),e}function e5(n,i){if(n.length<=l1)return;let e=l1+i,t=n[e];if(t){let r=t[ro];r!==null&&r!==n&&j9(r,t),i>0&&(n[e-1][wi]=t[wi]);let o=F3(n,l1+i);HB(t[Ce],t);let a=o[x2];a!==null&&a.detachView(o[Ce]),t[Un]=null,t[wi]=null,t[De]&=-129}return t}function LV(n,i,e,t){let r=l1+t,o=e.length;t>0&&(e[r-1][wi]=i),t<o-l1?(i[wi]=e[r],Yu(e,l1+t,i)):(e.push(i),i[wi]=null),i[Un]=e;let a=i[ro];a!==null&&e!==a&&cC(a,i);let s=i[x2];s!==null&&s.insertView(n),M6(i),i[De]|=128}function cC(n,i){let e=n[xa],t=i[Un];if(C2(t))n[De]|=2;else{let r=t[Un][j1];i[j1]!==r&&(n[De]|=2)}e===null?n[xa]=[i]:e.push(i)}var lo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let i=this._lView,e=i[Ce];return e4(e,i,e.firstChild,[])}constructor(i,e){this._lView=i,this._cdRefInjectingView=e}get context(){return this._lView[e1]}set context(i){this._lView[e1]=i}get destroyed(){return Ca(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let i=this._lView[Un];if(Wi(i)){let e=i[H3],t=e?e.indexOf(this):-1;t>-1&&(e5(i,t),F3(e,t))}this._attachedToViewContainer=!1}H9(this._lView[Ce],this._lView)}onDestroy(i){mf(this._lView,i)}markForCheck(){J9(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[De]&=-129}reattach(){M6(this._lView),this._lView[De]|=128}detectChanges(){this._lView[De]|=1024,iC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let i=Ws(this._lView),e=this._lView[ro];e!==null&&!i&&j9(e,this._lView),$x(this._lView[Ce],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=i;let e=Ws(this._lView),t=this._lView[ro];t!==null&&!e&&cC(t,this._lView),M6(this._lView)}};var d1=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=kV;constructor(e,t,r){this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let o=Z9(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new lo(o)}}return n})();function kV(){return b5(wn(),ve())}function b5(n,i){return n.type&4?new d1(i,n,o0(n,i)):null}function c0(n,i,e,t,r){let o=n.data[i];if(o===null)o=AV(n,i,e,t,r),sb()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=t,o.attrs=r;let a=ib();o.injectorIndex=a===null?-1:a.injectorIndex}return Gs(o,!0),o}function AV(n,i,e,t,r){let o=xf(),a=Cf(),s=a?o:o&&o.parent,u=n.data[i]=PV(n,s,e,i,t,r);return NV(n,u,o,a),u}function NV(n,i,e,t){n.firstChild===null&&(n.firstChild=i),e!==null&&(t?e.child==null&&i.parent!==null&&(e.child=i):e.next===null&&(e.next=i,i.prev=e))}function PV(n,i,e,t,r,o){let a=i?i.injectorIndex:-1,s=0;return yf()&&(s|=128),{type:e,index:t,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Ide=new RegExp(`^(\\d+)*(${BF}|${FF})*(.*)`);var OV=()=>null,RV=()=>null;function s9(n,i){return OV(n,i)}function FV(n,i,e){return RV(n,i,e)}var lC=class{},x5=class{},c9=class{resolveComponentFactory(i){throw new q(917,!1)}},Da=class{static NULL=new c9},mn=class{},sn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>BV()}return n})();function BV(){let n=ve(),i=wn(),e=Mi(i.index,n);return(C2(e)?e:n)[Mt]}var dC=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>null})}return n})();var j6={},l9=class{injector;parentInjector;constructor(i,e){this.injector=i,this.parentInjector=e}get(i,e,t){let r=this.injector.get(i,j6,t);return r!==j6||e===j6?r:this.parentInjector.get(i,e,t)}};function t5(n,i,e){let t=e?n.styles:null,r=e?n.classes:null,o=0;if(i!==null)for(let a=0;a<i.length;a++){let s=i[a];if(typeof s=="number")o=s;else if(o==1)r=v6(r,s);else if(o==2){let u=s,m=i[++a];t=v6(t,u+": "+m+";")}}e?n.styles=t:n.stylesWithoutHost=t,e?n.classes=r:n.classesWithoutHost=r}function D(n,i=0){let e=ve();if(e===null)return H(n,i);let t=wn();return dx(t,e,Jn(n),i)}function u4(){let n="invalid";throw new Error(n)}function uC(n,i,e,t,r){let o=t===null?null:{"":-1},a=r(n,e);if(a!==null){let s=a,u=null,m=null;for(let _ of a)if(_.resolveHostDirectives!==null){[s,u,m]=_.resolveHostDirectives(a);break}jV(n,i,e,s,o,u,m)}o!==null&&t!==null&&VV(e,t,o)}function VV(n,i,e){let t=n.localNames=[];for(let r=0;r<i.length;r+=2){let o=e[i[r+1]];if(o==null)throw new q(-301,!1);t.push(i[r],o)}}function UV(n,i,e){i.componentOffset=e,(n.components??=[]).push(i.index)}function jV(n,i,e,t,r,o,a){let s=t.length,u=!1;for(let E=0;E<s;E++){let I=t[E];!u&&Gi(I)&&(u=!0,UV(n,e,E)),Hf(Y6(e,i),n,I.type)}YV(e,n.data.length,s);for(let E=0;E<s;E++){let I=t[E];I.providersResolver&&I.providersResolver(I)}let m=!1,_=!1,y=Rx(n,i,s,null);s>0&&(e.directiveToIndex=new Map);for(let E=0;E<s;E++){let I=t[E];if(e.mergedAttrs=t0(e.mergedAttrs,I.hostAttrs),qV(n,e,i,y,I),GV(y,I,r),a!==null&&a.has(I)){let[R,F]=a.get(I);e.directiveToIndex.set(I.type,[y,R+e.directiveStart,F+e.directiveStart])}else(o===null||!o.has(I))&&e.directiveToIndex.set(I.type,y);I.contentQueries!==null&&(e.flags|=4),(I.hostBindings!==null||I.hostAttrs!==null||I.hostVars!==0)&&(e.flags|=64);let A=I.type.prototype;!m&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),m=!0),!_&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),_=!0),y++}HV(n,e,o)}function HV(n,i,e){for(let t=i.directiveStart;t<i.directiveEnd;t++){let r=n.data[t];if(e===null||!e.has(r))Fb(0,i,r,t),Fb(1,i,r,t),Vb(i,t,!1);else{let o=e.get(r);Bb(0,i,o,t),Bb(1,i,o,t),Vb(i,t,!0)}}}function Fb(n,i,e,t){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;n===0?a=i.inputs??={}:a=i.outputs??={},a[o]??=[],a[o].push(t),fC(i,o)}}function Bb(n,i,e,t){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],s;n===0?s=i.hostDirectiveInputs??={}:s=i.hostDirectiveOutputs??={},s[a]??=[],s[a].push(t,o),fC(i,a)}}function fC(n,i){i==="class"?n.flags|=8:i==="style"&&(n.flags|=16)}function Vb(n,i,e){let{attrs:t,inputs:r,hostDirectiveInputs:o}=n;if(t===null||!e&&r===null||e&&o===null||N9(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<t.length;){let u=t[s];if(u===0){s+=4;continue}else if(u===5){s+=2;continue}else if(typeof u=="number")break;if(!e&&r.hasOwnProperty(u)){let m=r[u];for(let _ of m)if(_===i){a??=[],a.push(u,t[s+1]);break}}else if(e&&o.hasOwnProperty(u)){let m=o[u];for(let _=0;_<m.length;_+=2)if(m[_]===i){a??=[],a.push(m[_+1],t[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function qV(n,i,e,t,r){n.data[t]=r;let o=r.factory||(r.factory=eo(r.type,!0)),a=new Ma(o,Gi(r),D,null);n.blueprint[t]=a,e[t]=a,$V(n,i,t,Rx(n,e,r.hostVars,u1),r)}function $V(n,i,e,t,r){let o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~i.index;WV(a)!=s&&a.push(s),a.push(e,t,o)}}function WV(n){let i=n.length;for(;i>0;){let e=n[--i];if(typeof e=="number"&&e<0)return e}return 0}function GV(n,i,e){if(e){if(i.exportAs)for(let t=0;t<i.exportAs.length;t++)e[i.exportAs[t]]=n;Gi(i)&&(e[""]=n)}}function YV(n,i,e){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+e,n.providerIndexes=i}function tp(n,i,e,t,r,o,a,s){let u=i[Ce],m=u.consts,_=Qi(m,a),y=c0(u,n,e,t,_);return o&&uC(u,i,y,Qi(m,s),r),y.mergedAttrs=t0(y.mergedAttrs,y.attrs),y.attrs!==null&&t5(y,y.attrs,!1),y.mergedAttrs!==null&&t5(y,y.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,y),y}function np(n,i){tx(n,i),sf(i)&&n.queries.elementEnd(i)}function QV(n,i,e,t,r,o){let a=i.consts,s=Qi(a,r),u=c0(i,n,e,t,s);if(u.mergedAttrs=t0(u.mergedAttrs,u.attrs),o!=null){let m=Qi(a,o);u.localNames=[];for(let _=0;_<m.length;_+=2)u.localNames.push(m[_],-1)}return u.attrs!==null&&t5(u,u.attrs,!1),u.mergedAttrs!==null&&t5(u,u.mergedAttrs,!0),i.queries!==null&&i.queries.elementStart(i,u),u}function ip(n){return C5(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function pC(n,i){if(Array.isArray(n))for(let e=0;e<n.length;e++)i(n[e]);else{let e=n[Symbol.iterator](),t;for(;!(t=e.next()).done;)i(t.value)}}function C5(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function l0(n,i,e){return n[i]=e}function mC(n,i){return n[i]}function L1(n,i,e){if(e===u1)return!1;let t=n[i];return Object.is(t,e)?!1:(n[i]=e,!0)}function t4(n,i,e,t){let r=L1(n,i,e);return L1(n,i+1,t)||r}function KV(n,i,e,t,r){let o=t4(n,i,e,t);return L1(n,i+2,r)||o}function hC(n,i,e,t,r,o){let a=t4(n,i,e,t);return t4(n,i+2,r,o)||a}function H6(n,i,e){return function t(r){let o=ao(n)?Mi(n.index,i):i;J9(o,5);let a=i[e1],s=Ub(i,a,e,r),u=t.__ngNextListenerFn__;for(;u;)s=Ub(i,a,u,r)&&s,u=u.__ngNextListenerFn__;return s}}function Ub(n,i,e,t){let r=Ie(null);try{return St(6,i,e),e(t)!==!1}catch(o){return pV(n,o),!1}finally{St(7,i,e),Ie(r)}}function gC(n,i,e,t,r,o,a,s){let u=$s(n),m=!1,_=null;if(!t&&u&&(_=ZV(i,e,o,n.index)),_!==null){let y=_.__ngLastListenerFn__||_;y.__ngNextListenerFn__=a,_.__ngLastListenerFn__=a,m=!0}else{let y=Yi(n,e),E=t?t(y):y;UF(e,E,o,s);let I=r.listen(E,o,s);if(!XV(o)){let A=t?R=>t(Si(R[n.index])):n.index;vC(A,i,e,o,s,I,!1)}}return m}function XV(n){return n.startsWith("animation")||n.startsWith("transition")}function ZV(n,i,e,t){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===t){let s=i[Hs],u=r[o+2];return s&&s.length>u?s[u]:null}typeof a=="string"&&(o+=2)}return null}function vC(n,i,e,t,r,o,a){let s=i.firstCreatePass?gf(i):null,u=hf(e),m=u.length;u.push(r,o),s&&s.push(t,n,m,(m+1)*(a?-1:1))}function jb(n,i,e,t,r,o){let a=i[e],s=i[Ce],m=s.data[e].outputs[t],y=a[m].subscribe(o);vC(n.index,s,i,r,o,y,!0)}var d9=Symbol("BINDING");var n5=class extends Da{ngModule;constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){let e=y2(i);return new uo(e,this.ngModule)}};function JV(n){return Object.keys(n).map(i=>{let[e,t,r]=n[i],o={propName:e,templateName:i,isSignal:(t&g5.SignalBased)!==0};return r&&(o.transform=r),o})}function eU(n){return Object.keys(n).map(i=>({propName:n[i],templateName:i}))}function tU(n,i,e){let t=i instanceof Lt?i:i?.injector;return t&&n.getStandaloneInjector!==null&&(t=n.getStandaloneInjector(t)||t),t?new l9(e,t):e}function nU(n){let i=n.get(mn,null);if(i===null)throw new q(407,!1);let e=n.get(dC,null),t=n.get($i,null);return{rendererFactory:i,sanitizer:e,changeDetectionScheduler:t,ngReflect:!1}}function iU(n,i){let e=yC(n);return Ax(i,e,e==="svg"?cf:e==="math"?Q_:null)}function yC(n){return(n.selectors[0][0]||"div").toLowerCase()}var uo=class extends x5{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=JV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=eU(this.componentDef.outputs),this.cachedOutputs}constructor(i,e){super(),this.componentDef=i,this.ngModule=e,this.componentType=i.type,this.selector=xB(i.selectors),this.ngContentSelectors=i.ngContentSelectors??[],this.isBoundToModule=!!e}create(i,e,t,r,o,a){St(22);let s=Ie(null);try{let u=this.componentDef,m=rU(t,u,a,o),_=tU(u,r||this.ngModule,i),y=nU(_),E=y.rendererFactory.createRenderer(null,u),I=t?tV(E,t,u.encapsulation,_):iU(u,E),A=a?.some(Hb)||o?.some(W=>typeof W!="function"&&W.bindings.some(Hb)),R=O9(null,m,null,512|Ox(u),null,null,y,E,_,null,bx(I,_,!0));R[Wt]=I,z6(R);let F=null;try{let W=tp(Wt,R,2,"#host",()=>m.directiveRegistry,!0,0);Px(E,I,W),n0(I,R),_5(m,R,W),M9(m,W,R),np(m,W),e!==void 0&&aU(W,this.ngContentSelectors,e),F=Mi(W.index,R),R[e1]=F[e1],X9(m,R,null)}catch(W){throw F!==null&&$f(F),$f(R),W}finally{St(23),L6()}return new i5(this.componentType,R,!!A)}finally{Ie(s)}}};function rU(n,i,e,t){let r=n?["ng-version","20.3.11"]:CB(i.selectors[0]),o=null,a=null,s=0;if(e)for(let _ of e)s+=_[d9].requiredVars,_.create&&(_.targetIdx=0,(o??=[]).push(_)),_.update&&(_.targetIdx=0,(a??=[]).push(_));if(t)for(let _=0;_<t.length;_++){let y=t[_];if(typeof y!="function")for(let E of y.bindings){s+=E[d9].requiredVars;let I=_+1;E.create&&(E.targetIdx=I,(o??=[]).push(E)),E.update&&(E.targetIdx=I,(a??=[]).push(E))}}let u=[i];if(t)for(let _ of t){let y=typeof _=="function"?_:_.type,E=Zu(y);u.push(E)}return P9(0,null,oU(o,a),1,s,u,null,null,null,[r],null)}function oU(n,i){return!n&&!i?null:e=>{if(e&1&&n)for(let t of n)t.create();if(e&2&&i)for(let t of i)t.update()}}function Hb(n){let i=n[d9].kind;return i==="input"||i==="twoWay"}var i5=class extends lC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(i,e,t){super(),this._rootLView=e,this._hasInputBindings=t,this._tNode=q3(e[Ce],Wt),this.location=o0(this._tNode,e),this.instance=Mi(this._tNode.index,e)[e1],this.hostView=this.changeDetectorRef=new lo(e,void 0),this.componentType=i}setInput(i,e){this._hasInputBindings;let t=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),e))return;let r=this._rootLView,o=K9(t,r[Ce],r,i,e);this.previousInputValues.set(i,e);let a=Mi(t.index,r);J9(a,1)}get injector(){return new Sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}};function aU(n,i,e){let t=n.projection=[];for(let r=0;r<i.length;r++){let o=e[r];t.push(o!=null&&o.length?Array.from(o):null)}}var An=(()=>{class n{static __NG_ELEMENT_ID__=sU}return n})();function sU(){let n=wn();return bC(n,ve())}var cU=An,_C=class extends cU{_lContainer;_hostTNode;_hostLView;constructor(i,e,t){super(),this._lContainer=i,this._hostTNode=e,this._hostLView=t}get element(){return o0(this._hostTNode,this._hostLView)}get injector(){return new Sa(this._hostTNode,this._hostLView)}get parentInjector(){let i=x9(this._hostTNode,this._hostLView);if(rx(i)){let e=W6(i,this._hostLView),t=$6(i),r=e[Ce].data[t+8];return new Sa(r,e)}else return new Sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){let e=qb(this._lContainer);return e!==null&&e[i]||null}get length(){return this._lContainer.length-l1}createEmbeddedView(i,e,t){let r,o;typeof t=="number"?r=t:t!=null&&(r=t.index,o=t.injector);let a=s9(this._lContainer,i.ssrId),s=i.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,J6(this._hostTNode,a)),s}createComponent(i,e,t,r,o,a,s){let u=i&&!fF(i),m;if(u)m=e;else{let F=e||{};m=F.index,t=F.injector,r=F.projectableNodes,o=F.environmentInjector||F.ngModuleRef,a=F.directives,s=F.bindings}let _=u?i:new uo(y2(i)),y=t||this.parentInjector;if(!o&&_.ngModule==null){let W=(u?y:this.parentInjector).get(Lt,null);W&&(o=W)}let E=y2(_.componentType??{}),I=s9(this._lContainer,E?.id??null),A=I?.firstChild??null,R=_.create(y,r,A,o,a,s);return this.insertImpl(R.hostView,m,J6(this._hostTNode,I)),R}insert(i,e){return this.insertImpl(i,e,!0)}insertImpl(i,e,t){let r=i._lView;if(X_(r)){let s=this.indexOf(i);if(s!==-1)this.detach(s);else{let u=r[Un],m=new _C(u,u[z1],u[Un]);m.detach(m.indexOf(i))}}let o=this._adjustIndex(e),a=this._lContainer;return ep(a,r,o,t),i.attachToViewContainerRef(),Yu(Of(a),o,i),i}move(i,e){return this.insert(i,e)}indexOf(i){let e=qb(this._lContainer);return e!==null?e.indexOf(i):-1}remove(i){let e=this._adjustIndex(i,-1),t=e5(this._lContainer,e);t&&(F3(Of(this._lContainer),e),H9(t[Ce],t))}detach(i){let e=this._adjustIndex(i,-1),t=e5(this._lContainer,e);return t&&F3(Of(this._lContainer),e)!=null?new lo(t):null}_adjustIndex(i,e=0){return i??this.length+e}};function qb(n){return n[H3]}function Of(n){return n[H3]||(n[H3]=[])}function bC(n,i){let e,t=i[n.index];return Wi(t)?e=t:(e=sC(t,i,null,n),i[n.index]=e,R9(i,e)),dU(e,i,n,t),new _C(e,n,i)}function lU(n,i){let e=n[Mt],t=e.createComment(""),r=Yi(i,n),o=e.parentNode(r);return Q6(e,o,t,e.nextSibling(r),!1),t}var dU=pU,uU=()=>!1;function fU(n,i,e){return uU(n,i,e)}function pU(n,i,e,t){if(n[oo])return;let r;e.type&8?r=Si(t):r=lU(i,e),n[oo]=r}var u9=class n{queryList;matches=null;constructor(i){this.queryList=i}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},f9=class n{queries;constructor(i=[]){this.queries=i}createEmbeddedView(i){let e=i.queries;if(e!==null){let t=i.contentQueries!==null?i.contentQueries[0]:e.length,r=[];for(let o=0;o<t;o++){let a=e.getByIndex(o),s=this.queries[a.indexInDeclarationView];r.push(s.clone())}return new n(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let e=0;e<this.queries.length;e++)rp(i,e).matches!==null&&this.queries[e].setDirty()}},r5=class{flags;read;predicate;constructor(i,e,t=null){this.flags=e,this.read=t,typeof i=="string"?this.predicate=xU(i):this.predicate=i}},p9=class n{queries;constructor(i=[]){this.queries=i}elementStart(i,e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(i,e)}elementEnd(i){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(i)}embeddedTView(i){let e=null;for(let t=0;t<this.length;t++){let r=e!==null?e.length:0,o=this.getByIndex(t).embeddedTView(i,r);o&&(o.indexInDeclarationView=t,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(i,e){for(let t=0;t<this.queries.length;t++)this.queries[t].template(i,e)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}},m9=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(i,e=-1){this.metadata=i,this._declarationNodeIndex=e}elementStart(i,e){this.isApplyingToNode(e)&&this.matchTNode(i,e)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,e){this.elementStart(i,e)}embeddedTView(i,e){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,e),new n(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,t=i.parent;for(;t!==null&&t.type&8&&t.index!==e;)t=t.parent;return e===(t!==null?t.index:-1)}return this._appliesToNextNode}matchTNode(i,e){let t=this.metadata.predicate;if(Array.isArray(t))for(let r=0;r<t.length;r++){let o=t[r];this.matchTNodeWithReadOption(i,e,mU(e,o)),this.matchTNodeWithReadOption(i,e,U6(e,i,o,!1,!1))}else t===d1?e.type&4&&this.matchTNodeWithReadOption(i,e,-1):this.matchTNodeWithReadOption(i,e,U6(e,i,t,!1,!1))}matchTNodeWithReadOption(i,e,t){if(t!==null){let r=this.metadata.read;if(r!==null)if(r===Me||r===An||r===d1&&e.type&4)this.addMatch(e.index,-2);else{let o=U6(e,i,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,t)}}addMatch(i,e){this.matches===null?this.matches=[i,e]:this.matches.push(i,e)}};function mU(n,i){let e=n.localNames;if(e!==null){for(let t=0;t<e.length;t+=2)if(e[t]===i)return e[t+1]}return null}function hU(n,i){return n.type&11?o0(n,i):n.type&4?b5(n,i):null}function gU(n,i,e,t){return e===-1?hU(i,n):e===-2?vU(n,i,t):J3(n,n[Ce],e,i)}function vU(n,i,e){if(e===Me)return o0(i,n);if(e===d1)return b5(i,n);if(e===An)return bC(i,n)}function xC(n,i,e,t){let r=i[x2].queries[t];if(r.matches===null){let o=n.data,a=e.matches,s=[];for(let u=0;a!==null&&u<a.length;u+=2){let m=a[u];if(m<0)s.push(null);else{let _=o[m];s.push(gU(i,_,a[u+1],e.metadata.read))}}r.matches=s}return r.matches}function h9(n,i,e,t){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let a=xC(n,i,r,e);for(let s=0;s<o.length;s+=2){let u=o[s];if(u>0)t.push(a[s/2]);else{let m=o[s+1],_=i[-u];for(let y=l1;y<_.length;y++){let E=_[y];E[ro]===E[Un]&&h9(E[Ce],E,m,t)}if(_[xa]!==null){let y=_[xa];for(let E=0;E<y.length;E++){let I=y[E];h9(I[Ce],I,m,t)}}}}}return t}function yU(n,i){return n[x2].queries[i].queryList}function CC(n,i,e){let t=new fr((e&4)===4);return eb(n,i,t,t.destroy),(i[x2]??=new f9).queries.push(new u9(t))-1}function _U(n,i,e){let t=Rt();return t.firstCreatePass&&(wC(t,new r5(n,i,e),-1),(i&2)===2&&(t.staticViewQueries=!0)),CC(t,ve(),i)}function bU(n,i,e,t){let r=Rt();if(r.firstCreatePass){let o=wn();wC(r,new r5(i,e,t),o.index),CU(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return CC(r,ve(),e)}function xU(n){return n.split(",").map(i=>i.trim())}function wC(n,i,e){n.queries===null&&(n.queries=new p9),n.queries.track(new m9(i,e))}function CU(n,i){let e=n.contentQueries||(n.contentQueries=[]),t=e.length?e[e.length-1]:-1;i!==t&&e.push(n.queries.length-1,i)}function rp(n,i){return n.queries.getByIndex(i)}function wU(n,i){let e=n[Ce],t=rp(e,i);return t.crossesNgTemplate?h9(e,n,i,[]):xC(e,n,t,i)}var E2=class{},w5=class{};var o5=class extends E2{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new n5(this);constructor(i,e,t,r=!0){super(),this.ngModuleType=i,this._parent=e;let o=Xu(i);this._bootstrapComponents=zx(o.bootstrap),this._r3Injector=Df(i,e,[{provide:E2,useValue:this},{provide:Da,useValue:this.componentFactoryResolver},...t],ar(i),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}},a5=class extends w5{moduleType;constructor(i){super(),this.moduleType=i}create(i){return new o5(this.moduleType,i,[])}};var n4=class extends E2{injector;componentFactoryResolver=new n5(this);instance=null;constructor(i){super();let e=new ga([...i.providers,{provide:E2,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],i.parent||Us(),i.debugName,new Set(["environment"]));this.injector=e,i.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}};function d0(n,i,e=null){return new n4({providers:n,parent:i,debugName:e,runEnvironmentInitializers:!0}).injector}var SU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let t=Ju(!1,e.type),r=t.length>0?d0([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:n,providedIn:"environment",factory:()=>new n(H(Lt))})}return n})();function U(n){return r4(()=>{let i=SC(n),e=ie(P({},i),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===C9.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:i.standalone?r=>r.get(SU).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||pr.Emulated,styles:n.styles||D1,_:null,schemas:n.schemas||null,tView:null,id:""});i.standalone&&Ei("NgStandalone"),MC(e);let t=n.dependencies;return e.directiveDefs=$b(t,MU),e.pipeDefs=$b(t,$_),e.id=IU(e),e})}function MU(n){return y2(n)||Zu(n)}function ke(n){return r4(()=>({type:n.type,bootstrap:n.bootstrap||D1,declarations:n.declarations||D1,imports:n.imports||D1,exports:n.exports||D1,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function EU(n,i){if(n==null)return no;let e={};for(let t in n)if(n.hasOwnProperty(t)){let r=n[t],o,a,s,u;Array.isArray(r)?(s=r[0],o=r[1],a=r[2]??o,u=r[3]||null):(o=r,a=r,s=g5.None,u=null),e[o]=[t,s,u],i[o]=a}return e}function TU(n){if(n==null)return no;let i={};for(let e in n)n.hasOwnProperty(e)&&(i[n[e]]=e);return i}function de(n){return r4(()=>{let i=SC(n);return MC(i),i})}function gr(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function SC(n){let i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputConfig:n.inputs||no,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||D1,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:EU(n.inputs,i),outputs:TU(n.outputs),debugInfo:null}}function MC(n){n.features?.forEach(i=>i(n))}function $b(n,i){return n?()=>{let e=typeof n=="function"?n():n,t=[];for(let r of e){let o=i(r);o!==null&&t.push(o)}return t}:null}function IU(n){let i=0,e=typeof n.consts=="function"?"":n.consts,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of t.join("|"))i=Math.imul(31,i)+o.charCodeAt(0)<<0;return i+=2147483648,"c"+i}function DU(n){return Object.getPrototypeOf(n.prototype).constructor}function ut(n){let i=DU(n.type),e=!0,t=[n];for(;i;){let r;if(Gi(n))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new q(903,!1);r=i.\u0275dir}if(r){if(e){t.push(r);let a=n;a.inputs=Rf(n.inputs),a.declaredInputs=Rf(n.declaredInputs),a.outputs=Rf(n.outputs);let s=r.hostBindings;s&&NU(n,s);let u=r.viewQuery,m=r.contentQueries;if(u&&kU(n,u),m&&AU(n,m),zU(n,r),O_(n.outputs,r.outputs),Gi(r)&&r.data.animation){let _=n.data;_.animation=(_.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(n),s===ut&&(e=!1)}}i=Object.getPrototypeOf(i)}LU(t)}function zU(n,i){for(let e in i.inputs){if(!i.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let t=i.inputs[e];t!==void 0&&(n.inputs[e]=t,n.declaredInputs[e]=i.declaredInputs[e])}}function LU(n){let i=0,e=null;for(let t=n.length-1;t>=0;t--){let r=n[t];r.hostVars=i+=r.hostVars,r.hostAttrs=t0(r.hostAttrs,e=t0(e,r.hostAttrs))}}function Rf(n){return n===no?{}:n===D1?[]:n}function kU(n,i){let e=n.viewQuery;e?n.viewQuery=(t,r)=>{i(t,r),e(t,r)}:n.viewQuery=i}function AU(n,i){let e=n.contentQueries;e?n.contentQueries=(t,r,o)=>{i(t,r,o),e(t,r,o)}:n.contentQueries=i}function NU(n,i){let e=n.hostBindings;e?n.hostBindings=(t,r)=>{i(t,r),e(t,r)}:n.hostBindings=i}function EC(n,i,e,t,r,o,a,s){if(e.firstCreatePass){n.mergedAttrs=t0(n.mergedAttrs,n.attrs);let _=n.tView=P9(2,n,r,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),_.queries=e.queries.embeddedTView(n))}s&&(n.flags|=s),Gs(n,!1);let u=OU(e,i,n,t);k6()&&q9(e,i,u,n),n0(u,i);let m=sC(u,i,u,n);i[t+Wt]=m,R9(i,m),fU(m,n,i)}function PU(n,i,e,t,r,o,a,s,u,m,_){let y=e+Wt,E;return i.firstCreatePass?(E=c0(i,y,4,a||null,s||null),E6()&&uC(i,n,E,Qi(i.consts,m),G9),tx(i,E)):E=i.data[y],EC(E,n,i,e,t,r,o,u),$s(E)&&_5(i,n,E),m!=null&&d4(n,E,_),E}function S5(n,i,e,t,r,o,a,s,u,m,_){let y=e+Wt,E;if(i.firstCreatePass){if(E=c0(i,y,4,a||null,s||null),m!=null){let I=Qi(i.consts,m);E.localNames=[];for(let A=0;A<I.length;A+=2)E.localNames.push(I[A],-1)}}else E=i.data[y];return EC(E,n,i,e,t,r,o,u),m!=null&&d4(n,E,_),E}function x(n,i,e,t,r,o,a,s){let u=ve(),m=Rt(),_=Qi(m.consts,o);return PU(u,m,n,i,e,t,r,_,void 0,a,s),x}function M5(n,i,e,t,r,o,a,s){let u=ve(),m=Rt(),_=Qi(m.consts,o);return S5(u,m,n,i,e,t,r,_,void 0,a,s),M5}var OU=RU;function RU(n,i,e,t){return G3(!0),i[Mt].createComment("")}var E5=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var T5=new G(""),u0=new G(""),f4=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,t,r){this._ngZone=e,this.registry=t,nf()&&(this._destroyRef=T(t1,{optional:!0})??void 0),op||(TC(r),r.addToWindow(t)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),t=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),t.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>t.updateCb&&t.updateCb(e)?(clearTimeout(t.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,r){let o=-1;t&&t>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e()},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,t,r){if(r&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,r){return[]}static \u0275fac=function(t){return new(t||n)(H(ce),H(p4),H(u0))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),p4=(()=>{class n{_applications=new Map;registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return op?.findTestabilityInTree(this,e,t)??null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function TC(n){op=n}var op;function mo(n){return!!n&&typeof n.then=="function"}function ap(n){return!!n&&typeof n.subscribe=="function"}var m4=new G("");function I5(n){return _2([{provide:m4,multi:!0,useValue:n}])}var sp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t});appInits=T(m4,{optional:!0})??[];injector=T(fe);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=jn(this.injector,r);if(mo(o))e.push(o);else if(ap(o)){let a=new Promise((s,u)=>{o.subscribe({complete:s,error:u})});e.push(a)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{t()}).catch(r=>{this.reject(r)}),e.length===0&&t(),this.initialized=!0}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h4=new G("");function IC(){fu(()=>{let n="";throw new q(600,n)})}function DC(n){return n.isBoundToModule}var FU=10;var gn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=T(H1);afterRenderManager=T(U9);zonelessEnabled=T(Y3);rootEffectScheduler=T(Q3);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Y;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=T(S2);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ye(e=>!e))}constructor(){T(Ia,{optional:!0})}whenStable(){let e;return new Promise(t=>{e=this.isStable.subscribe({next:r=>{r&&t()}})}).finally(()=>{e.unsubscribe()})}_injector=T(Lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,t){return this.bootstrapImpl(e,t)}bootstrapImpl(e,t,r=fe.NULL){return this._injector.get(ce).run(()=>{St(10);let a=e instanceof x5;if(!this._injector.get(sp).done){let A="";throw new q(405,A)}let u;a?u=e:u=this._injector.get(Da).resolveComponentFactory(e),this.componentTypes.push(u.componentType);let m=DC(u)?void 0:this._injector.get(E2),_=t||u.selector,y=u.create(r,[],_,m),E=y.location.nativeElement,I=y.injector.get(T5,null);return I?.registerApplication(E),y.onDestroy(()=>{this.detachView(y.hostView),X3(this.components,y),I?.unregisterApplication(E)}),this._loadComponent(y),St(11,y),y})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){St(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(v5.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let e=Ie(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(e),this.afterTick.next(),St(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(mn,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<FU;)St(14),this.synchronizeOnce(),St(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!t&&!W3(r))continue;let o=t&&!this.zonelessEnabled?0:1;iC(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>W3(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){let t=e;X3(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(h4,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>X3(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new q(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function X3(n,i){let e=n.indexOf(i);e>-1&&n.splice(e,1)}function Et(n,i,e,t){let r=ve(),o=dr();if(L1(r,o,i)){let a=Rt(),s=Qs();lV(s,r,n,i,e,t)}return Et}var Pde=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Je(n,i,e,t,r,o,a,s){Ei("NgControlFlow");let u=ve(),m=Rt(),_=Qi(m.consts,o);return S5(u,m,n,i,e,t,r,_,256,a,s),cp}function cp(n,i,e,t,r,o,a,s){Ei("NgControlFlow");let u=ve(),m=Rt(),_=Qi(m.consts,o);return S5(u,m,n,i,e,t,r,_,512,a,s),cp}function et(n,i){Ei("NgControlFlow");let e=ve(),t=dr(),r=e[t]!==u1?e[t]:-1,o=r!==-1?Wb(e,Wt+r):void 0,a=0;if(L1(e,t,n)){let s=Ie(null);try{if(o!==void 0&&zV(o,a),n!==-1){let u=Wt+n,m=Wb(e,u),_=BU(e[Ce],u),y=FV(m,_,e),E=Z9(e,_,i,{dehydratedView:y});ep(m,E,a,J6(_,y))}}finally{Ie(s)}}else if(o!==void 0){let s=DV(o,a);s!==void 0&&(s[e1]=i)}}function Wb(n,i){return n[i]}function BU(n,i){return q3(n,i)}function p(n,i,e){let t=ve(),r=dr();if(L1(t,r,i)){let o=Rt(),a=Qs();Xx(a,t,n,i,t[Mt],e)}return p}function g9(n,i,e,t,r){K9(i,n,e,r?"class":"style",t)}function c(n,i,e,t){let r=ve(),o=r[Ce],a=n+Wt,s=o.firstCreatePass?tp(a,r,2,i,G9,E6(),e,t):o.data[a];if(Y9(s,r,n,i,zC),$s(s)){let u=r[Ce];_5(u,r,s),M9(u,s,r)}return t!=null&&d4(r,s),c}function l(){let n=Rt(),i=wn(),e=Q9(i);return n.firstCreatePass&&np(n,e),_f(e)&&bf(),vf(),e.classesWithoutHost!=null&&yF(e)&&g9(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&_F(e)&&g9(n,e,ve(),e.stylesWithoutHost,!1),l}function M(n,i,e,t){return c(n,i,e,t),l(),M}function I2(n,i,e,t){let r=ve(),o=r[Ce],a=n+Wt,s=o.firstCreatePass?QV(a,o,2,i,e,t):o.data[a];return Y9(s,r,n,i,zC),t!=null&&d4(r,s),I2}function vr(){let n=wn(),i=Q9(n);return _f(i)&&bf(),vf(),vr}function f0(n,i,e,t){return I2(n,i,e,t),vr(),f0}var zC=(n,i,e,t,r)=>(G3(!0),Ax(i[Mt],t,mb()));function He(n,i,e){let t=ve(),r=t[Ce],o=n+Wt,a=r.firstCreatePass?tp(o,t,8,"ng-container",G9,E6(),i,e):r.data[o];if(Y9(a,t,n,"ng-container",VU),$s(a)){let s=t[Ce];_5(s,t,a),M9(s,a,t)}return e!=null&&d4(t,a),He}function qe(){let n=Rt(),i=wn(),e=Q9(i);return n.firstCreatePass&&np(n,e),qe}var VU=(n,i,e,t,r)=>(G3(!0),MB(i[Mt],""));function V(){return ve()}function ho(n,i,e){let t=ve(),r=dr();if(L1(t,r,i)){let o=Rt(),a=Qs();W9(a,t,n,i,t[Mt],e)}return ho}function D5(n,i,e){let t=ve(),r=dr();if(L1(t,r,i)){let o=Rt(),a=Qs(),s=Mf(o.data),u=fV(s,a,t);W9(a,t,n,i,u,e)}return D5}var R6=void 0;function UU(n){let i=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return i===1&&e===0?1:5}var jU=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],R6,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],R6,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",R6,"{1} 'at' {0}",R6],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",UU],Z3={};function lp(n,i,e){typeof i!="string"&&(e=i,i=n[Gt.LocaleId]),i=i.toLowerCase().replace(/_/g,"-"),Z3[i]=n,e&&(Z3[i][Gt.ExtraData]=e)}function k1(n){let i=HU(n),e=Gb(i);if(e)return e;let t=i.split("-")[0];if(e=Gb(t),e)return e;if(t==="en")return jU;throw new q(701,!1)}function Gb(n){return n in Z3||(Z3[n]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[n]),Z3[n]}var Gt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Gt||{});function HU(n){return n.toLowerCase().replace(/_/g,"-")}var g4="en-US",qU="USD";var $U=g4;function LC(n){typeof n=="string"&&($U=n.toLowerCase().replace(/_/g,"-"))}function C(n,i,e){let t=ve(),r=Rt(),o=wn();return kC(r,t,t[Mt],o,n,i,e),C}function z5(n,i,e){let t=ve(),r=Rt(),o=wn();return(o.type&3||e)&&gC(o,r,t,e,t[Mt],n,i,H6(o,t,i)),z5}function kC(n,i,e,t,r,o,a){let s=!0,u=null;if((t.type&3||a)&&(u??=H6(t,i,o),gC(t,n,i,a,e,r,o,u)&&(s=!1)),s){let m=t.outputs?.[r],_=t.hostDirectiveOutputs?.[r];if(_&&_.length)for(let y=0;y<_.length;y+=2){let E=_[y],I=_[y+1];u??=H6(t,i,o),jb(t,i,E,I,r,u)}if(m&&m.length)for(let y of m)u??=H6(t,i,o),jb(t,i,y,r,r,u)}}function g(n=1){return pb(n)}function WU(n,i){let e=null,t=gB(n);for(let r=0;r<i.length;r++){let o=i[r];if(o==="*"){e=r;continue}if(t===null?kx(n,o,!0):_B(t,o))return r}return e}function Ji(n){let i=ve()[j1][z1];if(!i.projection){let e=n?n.length:1,t=i.projection=H_(e,null),r=t.slice(),o=i.child;for(;o!==null;){if(o.type!==128){let a=n?WU(o,n):0;a!==null&&(r[a]?r[a].projectionNext=o:t[a]=o,r[a]=o)}o=o.next}}}function Ti(n,i=0,e,t,r,o){let a=ve(),s=Rt(),u=t?n+1:null;u!==null&&S5(a,s,u,t,r,o,null,e);let m=c0(s,Wt+n,16,null,e||null);m.projection===null&&(m.projection=i),wf();let y=!a[js]||yf();a[j1][z1].projection[m.projection]===null&&u!==null?GU(a,s,u):y&&!p5(m)&&ZB(s,a,m)}function GU(n,i,e){let t=Wt+e,r=i.data[t],o=n[t],a=s9(o,r.tView.ssrId),s=Z9(n,r,void 0,{dehydratedView:a});ep(o,s,0,J6(r,a))}function za(n,i,e,t){bU(n,i,e,t)}function Ft(n,i,e){_U(n,i,e)}function ft(n){let i=ve(),e=Rt(),t=Ef();D6(t+1);let r=rp(e,t);if(n.dirty&&K_(i)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=wU(i,t);n.reset(o,kF),n.notifyOnChanges()}return!0}return!1}function pt(){return yU(ve(),Ef())}function At(n){let i=rb();return $3(i,Wt+n)}function F6(n,i){return n<<17|i<<2}function Ea(n){return n>>17&32767}function YU(n){return(n&2)==2}function QU(n,i){return n&131071|i<<17}function v9(n){return n|2}function r0(n){return(n&131068)>>2}function Ff(n,i){return n&-131069|i<<2}function KU(n){return(n&1)===1}function y9(n){return n|1}function XU(n,i,e,t,r,o){let a=o?i.classBindings:i.styleBindings,s=Ea(a),u=r0(a);n[t]=e;let m=!1,_;if(Array.isArray(e)){let y=e;_=y[1],(_===null||Vs(y,_)>0)&&(m=!0)}else _=e;if(r)if(u!==0){let E=Ea(n[s+1]);n[t+1]=F6(E,s),E!==0&&(n[E+1]=Ff(n[E+1],t)),n[s+1]=QU(n[s+1],t)}else n[t+1]=F6(s,0),s!==0&&(n[s+1]=Ff(n[s+1],t)),s=t;else n[t+1]=F6(u,0),s===0?s=t:n[u+1]=Ff(n[u+1],t),u=t;m&&(n[t+1]=v9(n[t+1])),Yb(n,_,t,!0),Yb(n,_,t,!1),ZU(i,_,n,t,o),a=F6(s,u),o?i.classBindings=a:i.styleBindings=a}function ZU(n,i,e,t,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof i=="string"&&Vs(o,i)>=0&&(e[t+1]=y9(e[t+1]))}function Yb(n,i,e,t){let r=n[e+1],o=i===null,a=t?Ea(r):r0(r),s=!1;for(;a!==0&&(s===!1||o);){let u=n[a],m=n[a+1];JU(u,i)&&(s=!0,n[a+1]=t?y9(m):v9(m)),a=t?Ea(m):r0(m)}s&&(n[e+1]=t?v9(r):y9(r))}function JU(n,i){return n===null||i==null||(Array.isArray(n)?n[1]:n)===i?!0:Array.isArray(n)&&typeof i=="string"?Vs(n,i)>=0:!1}var Xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ej(n){return n.substring(Xi.key,Xi.keyEnd)}function tj(n){return nj(n),AC(n,NC(n,0,Xi.textEnd))}function AC(n,i){let e=Xi.textEnd;return e===i?-1:(i=Xi.keyEnd=ij(n,Xi.key=i,e),NC(n,i,e))}function nj(n){Xi.key=0,Xi.keyEnd=0,Xi.value=0,Xi.valueEnd=0,Xi.textEnd=n.length}function NC(n,i,e){for(;i<e&&n.charCodeAt(i)<=32;)i++;return i}function ij(n,i,e){for(;i<e&&n.charCodeAt(i)>32;)i++;return i}function D2(n,i,e){return PC(n,i,e,!1),D2}function ne(n,i){return PC(n,i,null,!0),ne}function Bt(n){oj(uj,rj,n,!0)}function rj(n,i){for(let e=tj(i);e>=0;e=AC(i,e))x6(n,ej(i),!0)}function PC(n,i,e,t){let r=ve(),o=Rt(),a=T6(2);if(o.firstUpdatePass&&RC(o,n,a,t),i!==u1&&L1(r,a,i)){let s=o.data[ur()];FC(o,s,r,r[Mt],n,r[a+1]=pj(i,e),t,a)}}function oj(n,i,e,t){let r=Rt(),o=T6(2);r.firstUpdatePass&&RC(r,null,o,t);let a=ve();if(e!==u1&&L1(a,o,e)){let s=r.data[ur()];if(BC(s,t)&&!OC(r,o)){let u=t?s.classesWithoutHost:s.stylesWithoutHost;u!==null&&(e=v6(u,e||"")),g9(r,s,a,e,t)}else fj(r,s,a,a[Mt],a[o+1],a[o+1]=dj(n,i,e),t,o)}}function OC(n,i){return i>=n.expandoStartIndex}function RC(n,i,e,t){let r=n.data;if(r[e+1]===null){let o=r[ur()],a=OC(n,e);BC(o,t)&&i===null&&!a&&(i=!1),i=aj(r,o,i,t),XU(r,o,i,e,a,t)}}function aj(n,i,e,t){let r=Mf(n),o=t?i.residualClasses:i.residualStyles;if(r===null)(t?i.classBindings:i.styleBindings)===0&&(e=Bf(null,n,i,e,t),e=i4(e,i.attrs,t),o=null);else{let a=i.directiveStylingLast;if(a===-1||n[a]!==r)if(e=Bf(r,n,i,e,t),o===null){let u=sj(n,i,t);u!==void 0&&Array.isArray(u)&&(u=Bf(null,n,i,u[1],t),u=i4(u,i.attrs,t),cj(n,i,t,u))}else o=lj(n,i,t)}return o!==void 0&&(t?i.residualClasses=o:i.residualStyles=o),e}function sj(n,i,e){let t=e?i.classBindings:i.styleBindings;if(r0(t)!==0)return n[Ea(t)]}function cj(n,i,e,t){let r=e?i.classBindings:i.styleBindings;n[Ea(r)]=t}function lj(n,i,e){let t,r=i.directiveEnd;for(let o=1+i.directiveStylingLast;o<r;o++){let a=n[o].hostAttrs;t=i4(t,a,e)}return i4(t,i.attrs,e)}function Bf(n,i,e,t,r){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=i[s],t=i4(t,o.hostAttrs,r),o!==n);)s++;return n!==null&&(e.directiveStylingLast=s),t}function i4(n,i,e){let t=e?1:2,r=-1;if(i!==null)for(let o=0;o<i.length;o++){let a=i[o];typeof a=="number"?r=a:r===t&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),x6(n,a,e?!0:i[++o]))}return n===void 0?null:n}function dj(n,i,e){if(e==null||e==="")return D1;let t=[],r=q1(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(t,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(t,o,r[o]);else typeof r=="string"&&i(t,r);return t}function uj(n,i,e){let t=String(i);t!==""&&!t.includes(" ")&&x6(n,t,e)}function fj(n,i,e,t,r,o,a,s){r===u1&&(r=D1);let u=0,m=0,_=0<r.length?r[0]:null,y=0<o.length?o[0]:null;for(;_!==null||y!==null;){let E=u<r.length?r[u+1]:void 0,I=m<o.length?o[m+1]:void 0,A=null,R;_===y?(u+=2,m+=2,E!==I&&(A=y,R=I)):y===null||_!==null&&_<y?(u+=2,A=_):(m+=2,A=y,R=I),A!==null&&FC(n,i,e,t,A,R,a,s),_=u<r.length?r[u]:null,y=m<o.length?o[m]:null}}function FC(n,i,e,t,r,o,a,s){if(!(i.type&3))return;let u=n.data,m=u[s+1],_=KU(m)?Qb(u,i,e,r,r0(m),a):void 0;if(!s5(_)){s5(o)||YU(m)&&(o=Qb(u,null,e,r,s,a));let y=df(ur(),e);eV(t,a,y,r,o)}}function Qb(n,i,e,t,r,o){let a=i===null,s;for(;r>0;){let u=n[r],m=Array.isArray(u),_=m?u[1]:u,y=_===null,E=e[r+1];E===u1&&(E=y?D1:void 0);let I=y?C6(E,t):_===t?E:void 0;if(m&&!s5(I)&&(I=C6(u,t)),s5(I)&&(s=I,a))return s;let A=n[r+1];r=a?Ea(A):r0(A)}if(i!==null){let u=o?i.residualClasses:i.residualStyles;u!=null&&(s=C6(u,t))}return s}function s5(n){return n!==void 0}function pj(n,i){return n==null||n===""||(typeof i=="string"?n=n+i:typeof n=="object"&&(n=ar(q1(n)))),n}function BC(n,i){return(n.flags&(i?8:16))!==0}function f(n,i=""){let e=ve(),t=Rt(),r=n+Wt,o=t.firstCreatePass?c0(t,r,1,i,null):t.data[r],a=mj(t,e,o,i,n);e[r]=a,k6()&&q9(t,e,a,o),Gs(o,!1)}var mj=(n,i,e,t,r)=>(G3(!0),wB(i[Mt],t));function VC(n,i,e,t=""){return L1(n,dr(),e)?i+sr(e)+t:u1}function hj(n,i,e,t,r,o=""){let a=ob(),s=t4(n,a,e,r);return T6(2),s?i+sr(e)+t+sr(r)+o:u1}function L(n){return k("",n),L}function k(n,i,e){let t=ve(),r=VC(t,n,i,e);return r!==u1&&UC(t,ur(),r),k}function Mn(n,i,e,t,r){let o=ve(),a=hj(o,n,i,e,t,r);return a!==u1&&UC(o,ur(),a),Mn}function UC(n,i,e){let t=df(i,n);SB(n[Mt],t,e)}function Pe(n,i,e){zf(i)&&(i=i());let t=ve(),r=dr();if(L1(t,r,i)){let o=Rt(),a=Qs();Xx(a,t,n,i,t[Mt],e)}return Pe}function Be(n,i){let e=zf(n);return e&&n.set(i),e}function Oe(n,i){let e=ve(),t=Rt(),r=wn();return kC(t,e,e[Mt],r,n,i),Oe}function p0(n){return L1(ve(),dr(),n)?sr(n):u1}function go(n,i,e=""){return VC(ve(),n,i,e)}function gj(n,i,e){let t=Rt();if(t.firstCreatePass){let r=Gi(n);_9(e,t.data,t.blueprint,r,!0),_9(i,t.data,t.blueprint,r,!1)}}function _9(n,i,e,t,r){if(n=Jn(n),Array.isArray(n))for(let o=0;o<n.length;o++)_9(n[o],i,e,t,r);else{let o=Rt(),a=ve(),s=wn(),u=ha(n)?n:Jn(n.provide),m=tf(n),_=s.providerIndexes&1048575,y=s.directiveStart,E=s.providerIndexes>>20;if(ha(n)||!n.multi){let I=new Ma(m,r,D,null),A=Uf(u,i,r?_:_+E,y);A===-1?(Hf(Y6(s,a),o,u),Vf(o,n,i.length),i.push(u),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(I),a.push(I)):(e[A]=I,a[A]=I)}else{let I=Uf(u,i,_+E,y),A=Uf(u,i,_,_+E),R=I>=0&&e[I],F=A>=0&&e[A];if(r&&!F||!r&&!R){Hf(Y6(s,a),o,u);let W=_j(r?yj:vj,e.length,r,t,m,n);!r&&F&&(e[A].providerFactory=W),Vf(o,n,i.length,0),i.push(u),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(W),a.push(W)}else{let W=jC(e[r?A:I],m,!r&&t);Vf(o,n,I>-1?I:A,W)}!r&&t&&F&&e[A].componentProviders++}}}function Vf(n,i,e,t){let r=ha(i),o=Y_(i);if(r||o){let u=(o?Jn(i.useClass):i).prototype.ngOnDestroy;if(u){let m=n.destroyHooks||(n.destroyHooks=[]);if(!r&&i.multi){let _=m.indexOf(e);_===-1?m.push(e,[t,u]):m[_+1].push(t,u)}else m.push(e,u)}}}function jC(n,i,e){return e&&n.componentProviders++,n.multi.push(i)-1}function Uf(n,i,e,t){for(let r=e;r<t;r++)if(i[r]===n)return r;return-1}function vj(n,i,e,t,r){return b9(this.multi,[])}function yj(n,i,e,t,r){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,u=J3(t,t[Ce],this.providerFactory.index,r);a=u.slice(0,s),b9(o,a);for(let m=s;m<u.length;m++)a.push(u[m])}else a=[],b9(o,a);return a}function b9(n,i){for(let e=0;e<n.length;e++){let t=n[e];i.push(t())}return i}function _j(n,i,e,t,r,o){let a=new Ma(n,e,D,null);return a.multi=[],a.index=i,a.componentProviders=0,jC(a,r,t&&!e),a}function tn(n,i=[]){return e=>{e.providersResolver=(t,r)=>gj(t,r?r(n):n,i)}}function v4(n,i,e){let t=w2()+n,r=ve();return r[t]===u1?l0(r,t,e?i.call(e):i()):mC(r,t)}function vn(n,i,e,t){return HC(ve(),w2(),n,i,e,t)}function Ae(n,i,e,t,r){return qC(ve(),w2(),n,i,e,t,r)}function Tt(n,i,e,t,r,o){return bj(ve(),w2(),n,i,e,t,r,o)}function dp(n,i,e,t,r,o,a){return $C(ve(),w2(),n,i,e,t,r,o,a)}function up(n,i,e,t,r,o,a,s){let u=w2()+n,m=ve(),_=hC(m,u,e,t,r,o);return L1(m,u+4,a)||_?l0(m,u+5,s?i.call(s,e,t,r,o,a):i(e,t,r,o,a)):mC(m,u+5)}function L5(n,i){let e=n[i];return e===u1?void 0:e}function HC(n,i,e,t,r,o){let a=i+e;return L1(n,a,r)?l0(n,a+1,o?t.call(o,r):t(r)):L5(n,a+1)}function qC(n,i,e,t,r,o,a){let s=i+e;return t4(n,s,r,o)?l0(n,s+2,a?t.call(a,r,o):t(r,o)):L5(n,s+2)}function bj(n,i,e,t,r,o,a,s){let u=i+e;return KV(n,u,r,o,a)?l0(n,u+3,s?t.call(s,r,o,a):t(r,o,a)):L5(n,u+3)}function $C(n,i,e,t,r,o,a,s,u){let m=i+e;return hC(n,m,r,o,a,s)?l0(n,m+4,u?t.call(u,r,o,a,s):t(r,o,a,s)):L5(n,m+4)}function N(n,i){let e=Rt(),t,r=n+Wt;e.firstCreatePass?(t=xj(i,e.pipeRegistry),e.data[r]=t,t.onDestroy&&(e.destroyHooks??=[]).push(r,t.onDestroy)):t=e.data[r];let o=t.factory||(t.factory=eo(t.type,!0)),a,s=I1(D);try{let u=G6(!1),m=o();return G6(u),uf(e,ve(),r,m),m}finally{I1(s)}}function xj(n,i){if(i)for(let e=i.length-1;e>=0;e--){let t=i[e];if(n===t.name)return t}}function W1(n,i,e){let t=n+Wt,r=ve(),o=$3(r,t);return fp(r,t)?HC(r,w2(),i,o.transform,e,o):o.transform(e)}function B(n,i,e,t){let r=n+Wt,o=ve(),a=$3(o,r);return fp(o,r)?qC(o,w2(),i,a.transform,e,t,a):a.transform(e,t)}function Ee(n,i,e,t,r,o){let a=n+Wt,s=ve(),u=$3(s,a);return fp(s,a)?$C(s,w2(),i,u.transform,e,t,r,o,u):u.transform(e,t,r,o)}function fp(n,i){return n[Ce].data[i].pure}function Yt(n,i){return b5(n,i)}var c5=class{ngModuleFactory;componentFactories;constructor(i,e){this.ngModuleFactory=i,this.componentFactories=e}},pp=(()=>{class n{compileModuleSync(e){return new a5(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let t=this.compileModuleSync(e),r=Xu(e),o=zx(r.declarations).reduce((a,s)=>{let u=y2(s);return u&&a.push(new uo(u)),a},[]);return new c5(t,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cj=(()=>{class n{zone=T(ce);changeDetectionScheduler=T($i);applicationRef=T(gn);applicationErrorHandler=T(H1);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WC({ngZoneFactory:n,ignoreChangesOutsideZone:i,scheduleInRootZone:e}){return n??=()=>new ce(ie(P({},GC()),{scheduleInRootZone:e})),[{provide:ce,useFactory:n},{provide:cr,multi:!0,useFactory:()=>{let t=T(Cj,{optional:!0});return()=>t.initialize()}},{provide:cr,multi:!0,useFactory:()=>{let t=T(wj);return()=>{t.initialize()}}},i===!0?{provide:Lf,useValue:!0}:[],{provide:kf,useValue:e??Bx},{provide:H1,useFactory:()=>{let t=T(ce),r=T(Lt),o;return a=>{t.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw a}):(o??=r.get(li),o.handleError(a))})}}}]}function GC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var wj=(()=>{class n{subscription=new Ve;initialized=!1;zone=T(ce);pendingTasks=T(S2);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var YC=(()=>{class n{applicationErrorHandler=T(H1);appRef=T(gn);taskService=T(S2);ngZone=T(ce);zonelessEnabled=T(Y3);tracing=T(Ia,{optional:!0});disableScheduling=T(Lf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(K6):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(T(kf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof X6||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let t=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,t=!0;break}case 12:{this.appRef.dirtyFlags|=16,t=!0;break}case 13:{this.appRef.dirtyFlags|=2,t=!0;break}case 11:{t=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(t))return;let r=this.useMicrotaskScheduler?kb:Vx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(K6+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(t){this.taskService.remove(e),this.applicationErrorHandler(t)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sj(){return typeof $localize<"u"&&$localize.locale||g4}var z2=new G("",{providedIn:"root",factory:()=>T(z2,{optional:!0,skipSelf:!0})||Sj()}),mp=new G("",{providedIn:"root",factory:()=>qU});var k5=class{destroyed=!1;listeners=null;errorHandler=T(li,{optional:!0});destroyRef=T(t1);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(i){if(this.destroyed)throw new q(953,!1);return(this.listeners??=[]).push(i),{unsubscribe:()=>{let e=this.listeners?.indexOf(i);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(i){if(this.destroyed){console.warn(xi(953,!1));return}if(this.listeners===null)return;let e=Ie(null);try{for(let t of this.listeners)try{t(i)}catch(r){this.errorHandler?.handleError(r)}}finally{Ie(e)}}};function Nn(n){return L_(n)}function yr(n,i){return Ol(n,i?.equal)}var hp=class{[Zn];constructor(i){this[Zn]=i}destroy(){this[Zn].destroy()}};function m0(n,i){let e=i?.injector??T(fe),t=i?.manualCleanup!==!0?e.get(t1):null,r,o=e.get(Xs,null,{optional:!0}),a=e.get($i);return o!==null?(r=Tj(o.view,a,n),t instanceof O3&&t._lView===o.view&&(t=null)):r=Ij(n,e.get(Q3),a),r.injector=e,t!==null&&(r.onDestroyFn=t.onDestroy(()=>r.destroy())),new hp(r)}var QC=ie(P({},k_),{cleanupFns:void 0,zone:null,onDestroyFn:wa,run(){let n=Ys(!1);try{A_(this)}finally{Ys(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=Ie(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Ie(n)}}}),Mj=ie(P({},QC),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){aa(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Ej=ie(P({},QC),{consumerMarkedDirty(){this.view[De]|=8192,so(this.view),this.notifier.notify(13)},destroy(){aa(this),this.onDestroyFn(),this.cleanup(),this.view[lr]?.delete(this)}});function Tj(n,i,e){let t=Object.create(Ej);return t.view=n,t.zone=typeof Zone<"u"?Zone.current:null,t.notifier=i,t.fn=KC(t,e),n[lr]??=new Set,n[lr].add(t),t.consumerMarkedDirty(t),t}function Ij(n,i,e){let t=Object.create(Mj);return t.fn=KC(t,n),t.scheduler=i,t.notifier=e,t.zone=typeof Zone<"u"?Zone.current:null,t.scheduler.add(t),t.notifier.notify(12),t}function KC(n,i){return()=>{i(e=>(n.cleanupFns??=[]).push(e))}}var O5=Symbol("InputSignalNode#UNSET"),rw=ie(P({},Rl),{transformFn:void 0,applyValueToInputSignal(n,i){sa(n,i)}});function ow(n,i){let e=Object.create(rw);e.value=n,e.transformFn=i?.transform;function t(){if(ra(e),e.value===O5){let r=null;throw new q(-950,r)}return e.value}return t[Zn]=e,t}var N5=class{attributeName;constructor(i){this.attributeName=i}__NG_ELEMENT_ID__=()=>o4(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Oj=new G("");Oj.__NG_ELEMENT_ID__=n=>{let i=wn();if(i===null)throw new q(204,!1);if(i.type&2)return i.value;if(n&8)return null;throw new q(204,!1)};function XC(n,i){return ow(n,i)}function Rj(n){return ow(O5,n)}var h0=(XC.required=Rj,XC);function aw(n,i){let e=Object.create(rw),t=new k5;e.value=n;function r(){return ra(e),ZC(e.value),e.value}return r[Zn]=e,r.asReadonly=A6.bind(r),r.set=o=>{e.equal(e.value,o)||(sa(e,o),t.emit(o))},r.update=o=>{ZC(e.value),r.set(o(e.value))},r.subscribe=t.subscribe.bind(t),r.destroyRef=t.destroyRef,r}function ZC(n){if(n===O5)throw new q(952,!1)}function JC(n,i){return aw(n,i)}function Fj(n){return aw(O5,n)}var A1=(JC.required=Fj,JC);var gp=new G(""),Bj=new G("");function y4(n){return!n.moduleRef}function Vj(n){let i=y4(n)?n.r3Injector:n.moduleRef.injector,e=i.get(ce);return e.run(()=>{y4(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let t=i.get(H1),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:t})}),y4(n)){let o=()=>i.destroy(),a=n.platformInjector.get(gp);a.add(o),i.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>n.moduleRef.destroy(),a=n.platformInjector.get(gp);a.add(o),n.moduleRef.onDestroy(()=>{X3(n.allPlatformModules,n.moduleRef),r.unsubscribe(),a.delete(o)})}return jj(t,e,()=>{let o=i.get(S2),a=o.add(),s=i.get(sp);return s.runInitializers(),s.donePromise.then(()=>{let u=i.get(z2,g4);if(LC(u||g4),!i.get(Bj,!0))return y4(n)?i.get(gn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(y4(n)){let _=i.get(gn);return n.rootComponent!==void 0&&_.bootstrap(n.rootComponent),_}else return Uj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(a))})})}var Uj;function jj(n,i,e){try{let t=e();return mo(t)?t.catch(r=>{throw i.runOutsideAngular(()=>n(r)),r}):t}catch(t){throw i.runOutsideAngular(()=>n(t)),t}}var A5=null;function Hj(n=[],i){return fe.create({name:i,providers:[{provide:V3,useValue:"platform"},{provide:gp,useValue:new Set([()=>A5=null])},...n]})}function qj(n=[]){if(A5)return A5;let i=Hj(n);return A5=i,IC(),$j(i),i}function $j(n){let i=n.get(l5,null);jn(n,()=>{i?.forEach(e=>e())})}var yn=(()=>{class n{static __NG_ELEMENT_ID__=Wj}return n})();function Wj(n){return Gj(wn(),ve(),(n&16)===16)}function Gj(n,i,e){if(ao(n)&&!e){let t=Mi(n.index,i);return new lo(t,t)}else if(n.type&175){let t=i[j1];return new lo(t,i)}return null}var vp=class{constructor(){}supports(i){return ip(i)}create(i){return new yp(i)}},Yj=(n,i)=>i,yp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(i){this._trackByFn=i||Yj}forEachItem(i){let e;for(e=this._itHead;e!==null;e=e._next)i(e)}forEachOperation(i){let e=this._itHead,t=this._removalsHead,r=0,o=null;for(;e||t;){let a=!t||e&&e.currentIndex<ew(t,r,o)?e:t,s=ew(a,r,o),u=a.currentIndex;if(a===t)r--,t=t._nextRemoved;else if(e=e._next,a.previousIndex==null)r++;else{o||(o=[]);let m=s-r,_=u-r;if(m!=_){for(let E=0;E<m;E++){let I=E<o.length?o[E]:o[E]=0,A=I+E;_<=A&&A<m&&(o[E]=I+1)}let y=a.previousIndex;o[y]=_-m}}s!==u&&i(a,s,u)}}forEachPreviousItem(i){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)i(e)}forEachMovedItem(i){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)i(e)}forEachIdentityChange(i){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)i(e)}diff(i){if(i==null&&(i=[]),!ip(i))throw new q(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._itHead,t=!1,r,o,a;if(Array.isArray(i)){this.length=i.length;for(let s=0;s<this.length;s++)o=i[s],a=this._trackByFn(s,o),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,o,a,s),t=!0):(t&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,pC(i,s=>{a=this._trackByFn(r,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,r),t=!0):(t&&(e=this._verifyReinsertion(e,s,a,r)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=i,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;i!==null;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;i!==null;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,e,t,r){let o;return i===null?o=this._itTail:(o=i._prev,this._remove(i)),i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null),i!==null?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._reinsertAfter(i,o,r)):(i=this._linkedRecords===null?null:this._linkedRecords.get(t,r),i!==null?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._moveAfter(i,o,r)):i=this._addAfter(new _p(e,t),o,r)),i}_verifyReinsertion(i,e,t,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null);return o!==null?i=this._reinsertAfter(o,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;i!==null;){let e=i._next;this._addToRemovals(this._unlink(i)),i=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,e,t){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(i);let r=i._prevRemoved,o=i._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(i,e,t),this._addToMoves(i,t),i}_moveAfter(i,e,t){return this._unlink(i),this._insertAfter(i,e,t),this._addToMoves(i,t),i}_addAfter(i,e,t){return this._insertAfter(i,e,t),this._additionsTail===null?this._additionsTail=this._additionsHead=i:this._additionsTail=this._additionsTail._nextAdded=i,i}_insertAfter(i,e,t){let r=e===null?this._itHead:e._next;return i._next=r,i._prev=e,r===null?this._itTail=i:r._prev=i,e===null?this._itHead=i:e._next=i,this._linkedRecords===null&&(this._linkedRecords=new P5),this._linkedRecords.put(i),i.currentIndex=t,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){this._linkedRecords!==null&&this._linkedRecords.remove(i);let e=i._prev,t=i._next;return e===null?this._itHead=t:e._next=t,t===null?this._itTail=e:t._prev=e,i}_addToMoves(i,e){return i.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=i:this._movesTail=this._movesTail._nextMoved=i),i}_addToRemovals(i){return this._unlinkedRecords===null&&(this._unlinkedRecords=new P5),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,e){return i.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=i:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=i,i}},_p=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(i,e){this.item=i,this.trackById=e}},bp=class{_head=null;_tail=null;add(i){this._head===null?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,e){let t;for(t=this._head;t!==null;t=t._nextDup)if((e===null||e<=t.currentIndex)&&Object.is(t.trackById,i))return t;return null}remove(i){let e=i._prevDup,t=i._nextDup;return e===null?this._head=t:e._nextDup=t,t===null?this._tail=e:t._prevDup=e,this._head===null}},P5=class{map=new Map;put(i){let e=i.trackById,t=this.map.get(e);t||(t=new bp,this.map.set(e,t)),t.add(i)}get(i,e){let t=i,r=this.map.get(t);return r?r.get(i,e):null}remove(i){let e=i.trackById;return this.map.get(e).remove(i)&&this.map.delete(e),i}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ew(n,i,e){let t=n.previousIndex;if(t===null)return t;let r=0;return e&&t<e.length&&(r=e[t]),t+i+r}var xp=class{constructor(){}supports(i){return i instanceof Map||C5(i)}create(){return new Cp}},Cp=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(i){let e;for(e=this._mapHead;e!==null;e=e._next)i(e)}forEachPreviousItem(i){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)i(e)}forEachChangedItem(i){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)i(e)}diff(i){if(!i)i=new Map;else if(!(i instanceof Map||C5(i)))throw new q(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(i,(t,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,t);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;t!==null;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,e){if(i){let t=i._prev;return e._next=i,e._prev=t,i._prev=e,t&&(t._next=e),i===this._mapHead&&(this._mapHead=e),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(i,e){if(this._records.has(i)){let r=this._records.get(i);this._maybeAddToChanges(r,e);let o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}let t=new wp(i);return this._records.set(i,t),t.currentValue=e,this._addToAdditions(t),t}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;i!==null;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;i!=null;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,e){Object.is(e,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=e,this._addToChanges(i))}_addToAdditions(i){this._additionsHead===null?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){this._changesHead===null?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,e){i instanceof Map?i.forEach(e):Object.keys(i).forEach(t=>e(i[t],t))}},wp=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(i){this.key=i}};function tw(){return new R5([new vp])}var R5=(()=>{class n{factories;static \u0275prov=O({token:n,providedIn:"root",factory:tw});constructor(e){this.factories=e}static create(e,t){if(t!=null){let r=t.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let t=T(n,{optional:!0,skipSelf:!0});return n.create(e,t||tw())}}}find(e){let t=this.factories.find(r=>r.supports(e));if(t!=null)return t;throw new q(901,!1)}}return n})();function nw(){return new Mp([new xp])}var Mp=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:nw});factories;constructor(e){this.factories=e}static create(e,t){if(t){let r=t.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let t=T(n,{optional:!0,skipSelf:!0});return n.create(e,t||nw())}}}find(e){let t=this.factories.find(r=>r.supports(e));if(t)return t;throw new q(901,!1)}}return n})();var sw=(()=>{class n{constructor(e){}static \u0275fac=function(t){return new(t||n)(H(gn))};static \u0275mod=ke({type:n});static \u0275inj=ze({})}return n})();function cw(n){let{rootComponent:i,appProviders:e,platformProviders:t,platformRef:r}=n;St(8);try{let o=r?.injector??qj(t),a=[WC({}),{provide:$i,useExisting:YC},gb,...e||[]],s=new n4({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return Vj({r3Injector:s.injector,platformInjector:o,rootComponent:i})}catch(o){return Promise.reject(o)}finally{St(9)}}function an(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function _4(n,i=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):i}function F5(n,i){let e=y2(n),t=i.elementInjector||Us();return new uo(e).create(t,i.projectableNodes,i.hostElement,i.environmentInjector,i.directives,i.bindings)}function lw(n){let i=y2(n);if(!i)return null;let e=new uo(i);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}var fw=null;function ui(){return fw}function Ep(n){fw??=n}var b4=class{},x4=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:()=>T(pw),providedIn:"platform"})}return n})(),Tp=new G(""),pw=(()=>{class n extends x4{_location;_history;_doc=T(J);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ui().getBaseHref(this._doc)}onPopState(e){let t=ui().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){let t=ui().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,t,r){this._history.pushState(e,t,r)}replaceState(e,t,r){this._history.replaceState(e,t,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function B5(n,i){return n?i?n.endsWith("/")?i.startsWith("/")?n+i.slice(1):n+i:i.startsWith("/")?n+i:`${n}/${i}`:n:i}function dw(n){let i=n.search(/#|\?|$/);return n[i-1]==="/"?n.slice(0,i-1)+n.slice(i):n}function e2(n){return n&&n[0]!=="?"?`?${n}`:n}var t2=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:()=>T(U5),providedIn:"root"})}return n})(),V5=new G(""),U5=(()=>{class n extends t2{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,t){super(),this._platformLocation=e,this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??T(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return B5(this._baseHref,e)}path(e=!1){let t=this._platformLocation.pathname+e2(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${t}${r}`:t}pushState(e,t,r,o){let a=this.prepareExternalUrl(r+e2(o));this._platformLocation.pushState(e,t,a)}replaceState(e,t,r,o){let a=this.prepareExternalUrl(r+e2(o));this._platformLocation.replaceState(e,t,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(t){return new(t||n)(H(x4),H(V5,8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L2=(()=>{class n{_subject=new Y;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let t=this._locationStrategy.getBaseHref();this._basePath=Xj(dw(uw(t))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+e2(t))}normalize(e){return n.stripTrailingSlash(Kj(this._basePath,uw(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,t="",r=null){this._locationStrategy.pushState(r,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+e2(t)),r)}replaceState(e,t="",r=null){this._locationStrategy.replaceState(r,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+e2(t)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}),()=>{let t=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(t,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(r=>r(e,t))}subscribe(e,t,r){return this._subject.subscribe({next:e,error:t??void 0,complete:r??void 0})}static normalizeQueryParams=e2;static joinWithSlash=B5;static stripTrailingSlash=dw;static \u0275fac=function(t){return new(t||n)(H(t2))};static \u0275prov=O({token:n,factory:()=>Qj(),providedIn:"root"})}return n})();function Qj(){return new L2(H(t2))}function Kj(n,i){if(!n||!i.startsWith(n))return i;let e=i.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:i}function uw(n){return n.replace(/\/index.html$/,"")}function Xj(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Np=(()=>{class n extends t2{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,t){super(),this._platformLocation=e,t!=null&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash??"#";return t.length>0?t.substring(1):t}prepareExternalUrl(e){let t=B5(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,r,o){let a=this.prepareExternalUrl(r+e2(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,t,a)}replaceState(e,t,r,o){let a=this.prepareExternalUrl(r+e2(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,t,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(t){return new(t||n)(H(x4),H(V5,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),bw={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},E4=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(E4||{});var f1=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(f1||{}),It=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(It||{}),G1=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(G1||{}),_n={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xw(n){return k1(n)[Gt.LocaleId]}function Cw(n,i,e){let t=k1(n),r=[t[Gt.DayPeriodsFormat],t[Gt.DayPeriodsStandalone]],o=Ii(r,i);return Ii(o,e)}function ww(n,i,e){let t=k1(n),r=[t[Gt.DaysFormat],t[Gt.DaysStandalone]],o=Ii(r,i);return Ii(o,e)}function Sw(n,i,e){let t=k1(n),r=[t[Gt.MonthsFormat],t[Gt.MonthsStandalone]],o=Ii(r,i);return Ii(o,e)}function Mw(n,i){let t=k1(n)[Gt.Eras];return Ii(t,i)}function C4(n,i){let e=k1(n);return Ii(e[Gt.DateFormat],i)}function w4(n,i){let e=k1(n);return Ii(e[Gt.TimeFormat],i)}function S4(n,i){let t=k1(n)[Gt.DateTimeFormat];return Ii(t,i)}function fi(n,i){let e=k1(n),t=e[Gt.NumberSymbols][i];if(typeof t>"u"){if(i===_n.CurrencyDecimal)return e[Gt.NumberSymbols][_n.Decimal];if(i===_n.CurrencyGroup)return e[Gt.NumberSymbols][_n.Group]}return t}function X5(n,i){return k1(n)[Gt.NumberFormats][i]}function Zj(n){return k1(n)[Gt.Currencies]}function Ew(n){if(!n[Gt.ExtraData])throw new q(2303,!1)}function Tw(n){let i=k1(n);return Ew(i),(i[Gt.ExtraData][2]||[]).map(t=>typeof t=="string"?Ip(t):[Ip(t[0]),Ip(t[1])])}function Iw(n,i,e){let t=k1(n);Ew(t);let r=[t[Gt.ExtraData][0],t[Gt.ExtraData][1]],o=Ii(r,i)||[];return Ii(o,e)||[]}function Ii(n,i){for(let e=i;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new q(2304,!1)}function Ip(n){let[i,e]=n.split(":");return{hours:+i,minutes:+e}}function Dw(n,i,e="en"){let t=Zj(e)[n]||bw[n]||[],r=t[1];return i==="narrow"&&typeof r=="string"?r:t[0]||n}var Jj=2;function zw(n){let i,e=bw[n];return e&&(i=e[2]),typeof i=="number"?i:Jj}var eH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,j5={},tH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Lw(n,i,e,t){let r=dH(n);i=_r(e,i)||i;let a=[],s;for(;i;)if(s=tH.exec(i),s){a=a.concat(s.slice(1));let _=a.pop();if(!_)break;i=_}else{a.push(i);break}let u=r.getTimezoneOffset();t&&(u=Aw(t,u),r=lH(r,t));let m="";return a.forEach(_=>{let y=sH(_);m+=y?y(r,e,u):_==="''"?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function G5(n,i,e){let t=new Date(0);return t.setFullYear(n,i,e),t.setHours(0,0,0),t}function _r(n,i){let e=xw(n);if(j5[e]??={},j5[e][i])return j5[e][i];let t="";switch(i){case"shortDate":t=C4(n,G1.Short);break;case"mediumDate":t=C4(n,G1.Medium);break;case"longDate":t=C4(n,G1.Long);break;case"fullDate":t=C4(n,G1.Full);break;case"shortTime":t=w4(n,G1.Short);break;case"mediumTime":t=w4(n,G1.Medium);break;case"longTime":t=w4(n,G1.Long);break;case"fullTime":t=w4(n,G1.Full);break;case"short":let r=_r(n,"shortTime"),o=_r(n,"shortDate");t=H5(S4(n,G1.Short),[r,o]);break;case"medium":let a=_r(n,"mediumTime"),s=_r(n,"mediumDate");t=H5(S4(n,G1.Medium),[a,s]);break;case"long":let u=_r(n,"longTime"),m=_r(n,"longDate");t=H5(S4(n,G1.Long),[u,m]);break;case"full":let _=_r(n,"fullTime"),y=_r(n,"fullDate");t=H5(S4(n,G1.Full),[_,y]);break}return t&&(j5[e][i]=t),t}function H5(n,i){return i&&(n=n.replace(/\{([^}]+)}/g,function(e,t){return i!=null&&t in i?i[t]:e})),n}function n2(n,i,e="-",t,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=e));let a=String(n);for(;a.length<i;)a="0"+a;return t&&(a=a.slice(a.length-i)),o+a}function nH(n,i){return n2(n,3).substring(0,i)}function En(n,i,e=0,t=!1,r=!1){return function(o,a){let s=iH(n,o);if((e>0||s>-e)&&(s+=e),n===3)s===0&&e===-12&&(s=12);else if(n===6)return nH(s,i);let u=fi(a,_n.MinusSign);return n2(s,i,u,t,r)}}function iH(n,i){switch(n){case 0:return i.getFullYear();case 1:return i.getMonth();case 2:return i.getDate();case 3:return i.getHours();case 4:return i.getMinutes();case 5:return i.getSeconds();case 6:return i.getMilliseconds();case 7:return i.getDay();default:throw new q(2301,!1)}}function Vt(n,i,e=f1.Format,t=!1){return function(r,o){return rH(r,o,n,i,e,t)}}function rH(n,i,e,t,r,o){switch(e){case 2:return Sw(i,r,t)[n.getMonth()];case 1:return ww(i,r,t)[n.getDay()];case 0:let a=n.getHours(),s=n.getMinutes();if(o){let m=Tw(i),_=Iw(i,r,t),y=m.findIndex(E=>{if(Array.isArray(E)){let[I,A]=E,R=a>=I.hours&&s>=I.minutes,F=a<A.hours||a===A.hours&&s<A.minutes;if(I.hours<A.hours){if(R&&F)return!0}else if(R||F)return!0}else if(E.hours===a&&E.minutes===s)return!0;return!1});if(y!==-1)return _[y]}return Cw(i,r,t)[a<12?0:1];case 3:return Mw(i,t)[n.getFullYear()<=0?0:1];default:let u=e;throw new q(2302,!1)}}function q5(n){return function(i,e,t){let r=-1*t,o=fi(e,_n.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+n2(a,2,o)+n2(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+n2(a,1,o);case 2:return"GMT"+(r>=0?"+":"")+n2(a,2,o)+":"+n2(Math.abs(r%60),2,o);case 3:return t===0?"Z":(r>=0?"+":"")+n2(a,2,o)+":"+n2(Math.abs(r%60),2,o);default:throw new q(2310,!1)}}}var oH=0,W5=4;function aH(n){let i=G5(n,oH,1).getDay();return G5(n,0,1+(i<=W5?W5:W5+7)-i)}function kw(n){let i=n.getDay(),e=i===0?-3:W5-i;return G5(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Dp(n,i=!1){return function(e,t){let r;if(i){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{let o=kw(e),a=aH(o.getFullYear()),s=o.getTime()-a.getTime();r=1+Math.round(s/6048e5)}return n2(r,n,fi(t,_n.MinusSign))}}function $5(n,i=!1){return function(e,t){let o=kw(e).getFullYear();return n2(o,n,fi(t,_n.MinusSign),i)}}var zp={};function sH(n){if(zp[n])return zp[n];let i;switch(n){case"G":case"GG":case"GGG":i=Vt(3,It.Abbreviated);break;case"GGGG":i=Vt(3,It.Wide);break;case"GGGGG":i=Vt(3,It.Narrow);break;case"y":i=En(0,1,0,!1,!0);break;case"yy":i=En(0,2,0,!0,!0);break;case"yyy":i=En(0,3,0,!1,!0);break;case"yyyy":i=En(0,4,0,!1,!0);break;case"Y":i=$5(1);break;case"YY":i=$5(2,!0);break;case"YYY":i=$5(3);break;case"YYYY":i=$5(4);break;case"M":case"L":i=En(1,1,1);break;case"MM":case"LL":i=En(1,2,1);break;case"MMM":i=Vt(2,It.Abbreviated);break;case"MMMM":i=Vt(2,It.Wide);break;case"MMMMM":i=Vt(2,It.Narrow);break;case"LLL":i=Vt(2,It.Abbreviated,f1.Standalone);break;case"LLLL":i=Vt(2,It.Wide,f1.Standalone);break;case"LLLLL":i=Vt(2,It.Narrow,f1.Standalone);break;case"w":i=Dp(1);break;case"ww":i=Dp(2);break;case"W":i=Dp(1,!0);break;case"d":i=En(2,1);break;case"dd":i=En(2,2);break;case"c":case"cc":i=En(7,1);break;case"ccc":i=Vt(1,It.Abbreviated,f1.Standalone);break;case"cccc":i=Vt(1,It.Wide,f1.Standalone);break;case"ccccc":i=Vt(1,It.Narrow,f1.Standalone);break;case"cccccc":i=Vt(1,It.Short,f1.Standalone);break;case"E":case"EE":case"EEE":i=Vt(1,It.Abbreviated);break;case"EEEE":i=Vt(1,It.Wide);break;case"EEEEE":i=Vt(1,It.Narrow);break;case"EEEEEE":i=Vt(1,It.Short);break;case"a":case"aa":case"aaa":i=Vt(0,It.Abbreviated);break;case"aaaa":i=Vt(0,It.Wide);break;case"aaaaa":i=Vt(0,It.Narrow);break;case"b":case"bb":case"bbb":i=Vt(0,It.Abbreviated,f1.Standalone,!0);break;case"bbbb":i=Vt(0,It.Wide,f1.Standalone,!0);break;case"bbbbb":i=Vt(0,It.Narrow,f1.Standalone,!0);break;case"B":case"BB":case"BBB":i=Vt(0,It.Abbreviated,f1.Format,!0);break;case"BBBB":i=Vt(0,It.Wide,f1.Format,!0);break;case"BBBBB":i=Vt(0,It.Narrow,f1.Format,!0);break;case"h":i=En(3,1,-12);break;case"hh":i=En(3,2,-12);break;case"H":i=En(3,1);break;case"HH":i=En(3,2);break;case"m":i=En(4,1);break;case"mm":i=En(4,2);break;case"s":i=En(5,1);break;case"ss":i=En(5,2);break;case"S":i=En(6,1);break;case"SS":i=En(6,2);break;case"SSS":i=En(6,3);break;case"Z":case"ZZ":case"ZZZ":i=q5(0);break;case"ZZZZZ":i=q5(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=q5(1);break;case"OOOO":case"ZZZZ":case"zzzz":i=q5(2);break;default:return null}return zp[n]=i,i}function Aw(n,i){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?i:e}function cH(n,i){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+i),n}function lH(n,i,e){let r=n.getTimezoneOffset(),o=Aw(i,r);return cH(n,-1*(o-r))}function dH(n){if(mw(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,a=1]=n.split("-").map(s=>+s);return G5(r,o-1,a)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let t;if(t=n.match(eH))return uH(t)}let i=new Date(n);if(!mw(i))throw new q(2311,!1);return i}function uH(n){let i=new Date(0),e=0,t=0,r=n[8]?i.setUTCFullYear:i.setFullYear,o=n[8]?i.setUTCHours:i.setHours;n[9]&&(e=Number(n[9]+n[10]),t=Number(n[9]+n[11])),r.call(i,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-e,s=Number(n[5]||0)-t,u=Number(n[6]||0),m=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(i,a,s,u,m),i}function mw(n){return n instanceof Date&&!isNaN(n.valueOf())}var fH=/^(\d+)?\.((\d+)(-(\d+))?)?$/,hw=22,Y5=".",M4="0",pH=";",mH=",",Lp="#",gw="\xA4",hH="%";function Pp(n,i,e,t,r,o,a=!1){let s="",u=!1;if(!isFinite(n))s=fi(e,_n.Infinity);else{let m=vH(n);a&&(m=gH(m));let _=i.minInt,y=i.minFrac,E=i.maxFrac;if(o){let ee=o.match(fH);if(ee===null)throw new q(2306,!1);let te=ee[1],ae=ee[3],Se=ee[5];te!=null&&(_=kp(te)),ae!=null&&(y=kp(ae)),Se!=null?E=kp(Se):ae!=null&&y>E&&(E=y)}yH(m,y,E);let I=m.digits,A=m.integerLen,R=m.exponent,F=[];for(u=I.every(ee=>!ee);A<_;A++)I.unshift(0);for(;A<0;A++)I.unshift(0);A>0?F=I.splice(A,I.length):(F=I,I=[0]);let W=[];for(I.length>=i.lgSize&&W.unshift(I.splice(-i.lgSize,I.length).join(""));I.length>i.gSize;)W.unshift(I.splice(-i.gSize,I.length).join(""));I.length&&W.unshift(I.join("")),s=W.join(fi(e,t)),F.length&&(s+=fi(e,r)+F.join("")),R&&(s+=fi(e,_n.Exponential)+"+"+R)}return n<0&&!u?s=i.negPre+s+i.negSuf:s=i.posPre+s+i.posSuf,s}function Nw(n,i,e,t,r){let o=X5(i,E4.Currency),a=Op(o,fi(i,_n.MinusSign));return a.minFrac=zw(t),a.maxFrac=a.minFrac,Pp(n,a,i,_n.CurrencyGroup,_n.CurrencyDecimal,r).replace(gw,e).replace(gw,"").trim()}function Pw(n,i,e){let t=X5(i,E4.Percent),r=Op(t,fi(i,_n.MinusSign));return Pp(n,r,i,_n.Group,_n.Decimal,e,!0).replace(new RegExp(hH,"g"),fi(i,_n.PercentSign))}function Ow(n,i,e){let t=X5(i,E4.Decimal),r=Op(t,fi(i,_n.MinusSign));return Pp(n,r,i,_n.Group,_n.Decimal,e)}function Op(n,i="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},t=n.split(pH),r=t[0],o=t[1],a=r.indexOf(Y5)!==-1?r.split(Y5):[r.substring(0,r.lastIndexOf(M4)+1),r.substring(r.lastIndexOf(M4)+1)],s=a[0],u=a[1]||"";e.posPre=s.substring(0,s.indexOf(Lp));for(let _=0;_<u.length;_++){let y=u.charAt(_);y===M4?e.minFrac=e.maxFrac=_+1:y===Lp?e.maxFrac=_+1:e.posSuf+=y}let m=s.split(mH);if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,o){let _=r.length-e.posPre.length-e.posSuf.length,y=o.indexOf(Lp);e.negPre=o.substring(0,y).replace(/'/g,""),e.negSuf=o.slice(y+_).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}function gH(n){if(n.digits[0]===0)return n;let i=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(i===0?n.digits.push(0,0):i===1&&n.digits.push(0),n.integerLen+=2),n}function vH(n){let i=Math.abs(n)+"",e=0,t,r,o,a,s;for((r=i.indexOf(Y5))>-1&&(i=i.replace(Y5,"")),(o=i.search(/e/i))>0?(r<0&&(r=o),r+=+i.slice(o+1),i=i.substring(0,o)):r<0&&(r=i.length),o=0;i.charAt(o)===M4;o++);if(o===(s=i.length))t=[0],r=1;else{for(s--;i.charAt(s)===M4;)s--;for(r-=o,t=[],a=0;o<=s;o++,a++)t[a]=Number(i.charAt(o))}return r>hw&&(t=t.splice(0,hw-1),e=r-1,r=1),{digits:t,exponent:e,integerLen:r}}function yH(n,i,e){if(i>e)throw new q(2307,!1);let t=n.digits,r=t.length-n.integerLen,o=Math.min(Math.max(i,r),e),a=o+n.integerLen,s=t[a];if(a>0){t.splice(Math.max(n.integerLen,a));for(let y=a;y<t.length;y++)t[y]=0}else{r=Math.max(0,r),n.integerLen=1,t.length=Math.max(1,a=o+1),t[0]=0;for(let y=1;y<a;y++)t[y]=0}if(s>=5)if(a-1<0){for(let y=0;y>a;y--)t.unshift(0),n.integerLen++;t.unshift(1),n.integerLen++}else t[a-1]++;for(;r<Math.max(0,o);r++)t.push(0);let u=o!==0,m=i+n.integerLen,_=t.reduceRight(function(y,E,I,A){return E=E+y,A[I]=E<10?E:E-10,u&&(A[I]===0&&I>=m?A.pop():u=!1),E>=10?1:0},0);_&&(t.unshift(_),n.integerLen++)}function kp(n){let i=parseInt(n);if(isNaN(i))throw new q(2305,!1);return i}var Ap=/\s+/,vw=[],le=(()=>{class n{_ngEl;_renderer;initialClasses=vw;rawClass;stateMap=new Map;constructor(e,t){this._ngEl=e,this._renderer=t}set klass(e){this.initialClasses=e!=null?e.trim().split(Ap):vw}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Ap):e}ngDoCheck(){for(let t of this.initialClasses)this._updateState(t,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(e!=null)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==t&&(r.changed=!0,r.enabled=t),r.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],r=e[1];r.changed?(this._toggleClass(t,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),r.touched=!1}}_toggleClass(e,t){e=e.trim(),e.length>0&&e.split(Ap).forEach(r=>{t?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(t){return new(t||n)(D(Me),D(sn))};static \u0275dir=de({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Q5=class{$implicit;ngForOf;index;count;constructor(i,e,t,r){this.$implicit=i,this.ngForOf=e,this.index=t,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},oe=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,t,r){this._viewContainer=e,this._template=t,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let t=this._viewContainer;e.forEachOperation((r,o,a)=>{if(r.previousIndex==null)t.createEmbeddedView(this._template,new Q5(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)t.remove(o===null?void 0:o);else if(o!==null){let s=t.get(o);t.move(s,a),yw(s,r)}});for(let r=0,o=t.length;r<o;r++){let s=t.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=t.get(r.currentIndex);yw(o,r)})}static ngTemplateContextGuard(e,t){return!0}static \u0275fac=function(t){return new(t||n)(D(An),D(d1),D(R5))};static \u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function yw(n,i){n.context.$implicit=i.item}var Q=(()=>{class n{_viewContainer;_context=new K5;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,t){this._viewContainer=e,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_w(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_w(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,t){return!0}static \u0275fac=function(t){return new(t||n)(D(An),D(d1))};static \u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),K5=class{$implicit=null;ngIf=null};function _w(n,i){if(n&&!n.createEmbeddedView)throw new q(2020,!1)}var T4=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,t,r){this._ngEl=e,this._differs=t,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){let[r,o]=e.split("."),a=r.indexOf("-")===-1?void 0:Zi.DashCase;t!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${t}${o}`:t,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(t=>this._setStyle(t.key,null)),e.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}static \u0275fac=function(t){return new(t||n)(D(Me),D(Mp),D(sn))};static \u0275dir=de({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function I4(n,i){return new q(2100,!1)}var D4=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw I4(n,e);return e.toUpperCase()}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=gr({name:"uppercase",type:n,pure:!0})}return n})(),_H="mediumDate",Rw=new G(""),Fw=new G(""),Rp=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,t,r){this.locale=e,this.defaultTimezone=t,this.defaultOptions=r}transform(e,t,r,o){if(e==null||e===""||e!==e)return null;try{let a=t??this.defaultOptions?.dateFormat??_H,s=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Lw(e,a,o||this.locale,s)}catch(a){throw I4(n,a.message)}}static \u0275fac=function(t){return new(t||n)(D(z2,16),D(Rw,24),D(Fw,24))};static \u0275pipe=gr({name:"date",type:n,pure:!0})}return n})();var mt=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,t,r){if(!Fp(e))return null;r||=this._locale;try{let o=Bp(e);return Ow(o,r,t)}catch(o){throw I4(n,o.message)}}static \u0275fac=function(t){return new(t||n)(D(z2,16))};static \u0275pipe=gr({name:"number",type:n,pure:!0})}return n})(),Qt=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,t,r){if(!Fp(e))return null;r||=this._locale;try{let o=Bp(e);return Pw(o,r,t)}catch(o){throw I4(n,o.message)}}static \u0275fac=function(t){return new(t||n)(D(z2,16))};static \u0275pipe=gr({name:"percent",type:n,pure:!0})}return n})(),bn=(()=>{class n{_locale;_defaultCurrencyCode;constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(e,t=this._defaultCurrencyCode,r="symbol",o,a){if(!Fp(e))return null;a||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let s=t||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?s=Dw(s,r==="symbol"?"wide":"narrow",a):s=r);try{let u=Bp(e);return Nw(u,a,s,t,o)}catch(u){throw I4(n,u.message)}}static \u0275fac=function(t){return new(t||n)(D(z2,16),D(mp,16))};static \u0275pipe=gr({name:"currency",type:n,pure:!0})}return n})();function Fp(n){return!(n==null||n===""||n!==n)}function Bp(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new q(2309,!1);return n}var he=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({})}return n})();function z4(n,i){i=encodeURIComponent(i);for(let e of n.split(";")){let t=e.indexOf("="),[r,o]=t==-1?[e,""]:[e.slice(0,t),e.slice(t+1)];if(r.trim()===i)return decodeURIComponent(o)}return null}var La=class{};function Vw(n,i,e){return lp(n,i,e)}var Up="browser";function Uw(n){return n===Up}var jw=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new Vp(T(J),window)})}return n})(),Vp=class{document;window;offset=()=>[0,0];constructor(i,e){this.document=i,this.window=e}setOffset(i){Array.isArray(i)?this.offset=()=>i:this.offset=i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i,e){this.window.scrollTo(ie(P({},e),{left:i[0],top:i[1]}))}scrollToAnchor(i,e){let t=bH(this.document,i);t&&(this.scrollToElement(t,e),t.focus())}setHistoryScrollRestoration(i){try{this.window.history.scrollRestoration=i}catch{console.warn(xi(2400,!1))}}scrollToElement(i,e){let t=i.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(ie(P({},e),{left:r-a[0],top:o-a[1]}))}};function bH(n,i){let e=n.getElementById(i)||n.getElementsByName(i)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let t=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=t.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(i)||o.querySelector(`[name="${i}"]`);if(a)return a}r=t.nextNode()}}return null}var Hw=n=>n.src,xH=new G("",{providedIn:"root",factory:()=>Hw});var Bw=/^((\s*\d+w\s*(,|$)){1,})$/;var CH=[1,2],wH=640;var SH=1920,MH=1080;var p1=(()=>{class n{imageLoader=T(xH);config=EH(T(u5));renderer=T(sn);imgElement=T(Me).nativeElement;injector=T(fe);destroyRef=T(t1);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){Ei("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let e=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&Bw.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(e){if(e.ngSrc&&!e.ngSrc.isFirstChange()){let t=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(e){let t=e;return this.loaderParams&&(t.loaderParams=this.loaderParams),this.imageLoader(t)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let e={src:this.ngSrc};this._renderedSrc=this.callImageLoader(e)}return this._renderedSrc}getRewrittenSrcset(){let e=Bw.test(this.ngSrcset);return this.ngSrcset.split(",").filter(r=>r!=="").map(r=>{r=r.trim();let o=e?parseFloat(r):parseFloat(r)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${r}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:e}=this.config,t=e;return this.sizes?.trim()==="100vw"&&(t=e.filter(o=>o>=wH)),t.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(e=!1){e&&(this._renderedSrc=null);let t=this.getRewrittenSrc();this.setHostAttribute("src",t);let r;return this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),r}getFixedSrcset(){return CH.map(t=>`${this.callImageLoader({src:this.ngSrc,width:this.width*t})} ${t}x`).join(", ")}shouldGenerateAutomaticSrcset(){let e=!1;return this.sizes||(e=this.width>SH||this.height>MH),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Hw&&!e}generatePlaceholder(e){let{placeholderResolution:t}=this.config;return e===!0?`url(${this.callImageLoader({src:this.ngSrc,width:t,isPlaceholder:!0})})`:typeof e=="string"?`url(${e})`:null}shouldBlurPlaceholder(e){return!e||!e.hasOwnProperty("blur")?!0:!!e.blur}removePlaceholderOnLoad(e){let t=()=>{let a=this.injector.get(yn);r(),o(),this.placeholder=!1,a.markForCheck()},r=this.renderer.listen(e,"load",t),o=this.renderer.listen(e,"error",t);this.destroyRef.onDestroy(()=>{r(),o()}),TH(e,t)}setHostAttribute(e,t){this.renderer.setAttribute(this.imgElement,e,t)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(t,r){t&2&&D2("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0":null)("background-size",r.placeholder?"cover":null)("background-position",r.placeholder?"50% 50%":null)("background-repeat",r.placeholder?"no-repeat":null)("background-image",r.placeholder?r.generatePlaceholder(r.placeholder):null)("filter",r.placeholder&&r.shouldBlurPlaceholder(r.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",IH],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",_4],height:[2,"height","height",_4],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",an],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",an],fill:[2,"fill","fill",an],placeholder:[2,"placeholder","placeholder",DH],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[dt]})}return n})();function EH(n){let i={};return n.breakpoints&&(i.breakpoints=n.breakpoints.sort((e,t)=>e-t)),Object.assign({},d5,n,i)}function TH(n,i){n.complete&&n.naturalWidth&&i()}function IH(n){return typeof n=="string"?n:q1(n)}function DH(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:an(n)}var L4=class{_doc;constructor(i){this._doc=i}manager},Z5=(()=>{class n extends L4{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,r,o){return e.addEventListener(t,r,o),()=>this.removeEventListener(e,t,r,o)}removeEventListener(e,t,r,o){return e.removeEventListener(t,r,o)}static \u0275fac=function(t){return new(t||n)(H(J))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),e8=new G(""),Wp=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,t){this._zone=t,e.forEach(a=>{a.manager=this});let r=e.filter(a=>!(a instanceof Z5));this._plugins=r.slice().reverse();let o=e.find(a=>a instanceof Z5);o&&this._plugins.push(o)}addEventListener(e,t,r,o){return this._findPluginFor(t).addEventListener(e,t,r,o)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(o=>o.supports(e)),!t)throw new q(5101,!1);return this._eventNameToPlugin.set(e,t),t}static \u0275fac=function(t){return new(t||n)(H(e8),H(ce))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),jp="ng-app-id";function qw(n){for(let i of n)i.remove()}function $w(n,i){let e=i.createElement("style");return e.textContent=n,e}function zH(n,i,e,t){let r=n.head?.querySelectorAll(`style[${jp}="${i}"],link[${jp}="${i}"]`);if(r)for(let o of r)o.removeAttribute(jp),o instanceof HTMLLinkElement?t.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function qp(n,i){let e=i.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Gp=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,t,r,o={}){this.doc=e,this.appId=t,this.nonce=r,zH(e,t,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,t){for(let r of e)this.addUsage(r,this.inline,$w);t?.forEach(r=>this.addUsage(r,this.external,qp))}removeStyles(e,t){for(let r of e)this.removeUsage(r,this.inline);t?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,t,r){let o=t.get(e);o?o.usage++:t.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,t){let r=t.get(e);r&&(r.usage--,r.usage<=0&&(qw(r.elements),t.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])qw(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[t,{elements:r}]of this.inline)r.push(this.addElement(e,$w(t,this.doc)));for(let[t,{elements:r}]of this.external)r.push(this.addElement(e,qp(t,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,t){return this.nonce&&t.setAttribute("nonce",this.nonce),e.appendChild(t)}static \u0275fac=function(t){return new(t||n)(H(J),H(fo),H(a0,8),H(Ta))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Hp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yp=/%COMP%/g;var Gw="%COMP%",LH=`_nghost-${Gw}`,kH=`_ngcontent-${Gw}`,AH=!0,NH=new G("",{providedIn:"root",factory:()=>AH});function PH(n){return kH.replace(Yp,n)}function OH(n){return LH.replace(Yp,n)}function Yw(n,i){return i.map(e=>e.replace(Yp,n))}var N4=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,t,r,o,a,s,u=null,m=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=u,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new k4(e,a,s,this.platformIsServer,this.tracingService)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,t);return r instanceof J5?r.applyToHost(e):r instanceof A4&&r.applyStyles(),r}getOrCreateRenderer(e,t){let r=this.rendererByCompId,o=r.get(t.id);if(!o){let a=this.doc,s=this.ngZone,u=this.eventManager,m=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,y=this.platformIsServer,E=this.tracingService;switch(t.encapsulation){case pr.Emulated:o=new J5(u,m,t,this.appId,_,a,s,y,E);break;case pr.ShadowDom:return new $p(u,m,e,t,a,s,this.nonce,y,E);default:o=new A4(u,m,t,_,a,s,y,E);break}r.set(t.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(t){return new(t||n)(H(Wp),H(Gp),H(fo),H(NH),H(J),H(ce),H(a0),H(Ia,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),k4=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,e,t,r,o){this.eventManager=i,this.doc=e,this.ngZone=t,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(i,e){return e?this.doc.createElementNS(Hp[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(Ww(i)?i.content:i).appendChild(e)}insertBefore(i,e,t){i&&(Ww(i)?i.content:i).insertBefore(e,t)}removeChild(i,e){e.remove()}selectRootElement(i,e){let t=typeof i=="string"?this.doc.querySelector(i):i;if(!t)throw new q(-5104,!1);return e||(t.textContent=""),t}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,t,r){if(r){e=r+":"+e;let o=Hp[r];o?i.setAttributeNS(o,e,t):i.setAttribute(e,t)}else i.setAttribute(e,t)}removeAttribute(i,e,t){if(t){let r=Hp[t];r?i.removeAttributeNS(r,e):i.removeAttribute(`${t}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,t,r){r&(Zi.DashCase|Zi.Important)?i.style.setProperty(e,t,r&Zi.Important?"important":""):i.style[e]=t}removeStyle(i,e,t){t&Zi.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,t){i!=null&&(i[e]=t)}setValue(i,e){i.nodeValue=e}listen(i,e,t,r){if(typeof i=="string"&&(i=ui().getGlobalEventTarget(this.doc,i),!i))throw new q(5102,!1);let o=this.decoratePreventDefault(t);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(i,e,o)),this.eventManager.addEventListener(i,e,o,r)}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;i(e)===!1&&e.preventDefault()}}};function Ww(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $p=class extends k4{sharedStylesHost;hostEl;shadowRoot;constructor(i,e,t,r,o,a,s,u,m){super(i,o,a,u,m),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let _=r.styles;_=Yw(r.id,_);for(let E of _){let I=document.createElement("style");s&&I.setAttribute("nonce",s),I.textContent=E,this.shadowRoot.appendChild(I)}let y=r.getExternalStyles?.();if(y)for(let E of y){let I=qp(E,o);s&&I.setAttribute("nonce",s),this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,t){return super.insertBefore(this.nodeOrShadowRoot(i),e,t)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},A4=class extends k4{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,e,t,r,o,a,s,u,m){super(i,o,a,s,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let _=t.styles;this.styles=m?Yw(m,_):_,this.styleUrls=t.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&i0.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},J5=class extends A4{contentAttr;hostAttr;constructor(i,e,t,r,o,a,s,u,m){let _=r+"-"+t.id;super(i,e,t,o,a,s,u,m,_),this.contentAttr=PH(_),this.hostAttr=OH(_)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let t=super.createElement(i,e);return super.setAttribute(t,this.contentAttr,""),t}};var t8=class n extends b4{supportsDOMEvents=!0;static makeCurrent(){Ep(new n)}onAndCancel(i,e,t,r){return i.addEventListener(e,t,r),()=>{i.removeEventListener(e,t,r)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=RH();return e==null?null:FH(e)}resetBaseElement(){P4=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return z4(document.cookie,i)}},P4=null;function RH(){return P4=P4||document.head.querySelector("base"),P4?P4.getAttribute("href"):null}function FH(n){return new URL(n,document.baseURI).pathname}var n8=class{addToWindow(i){kn.getAngularTestability=(t,r=!0)=>{let o=i.findTestabilityInTree(t,r);if(o==null)throw new q(5103,!1);return o},kn.getAllAngularTestabilities=()=>i.getAllTestabilities(),kn.getAllAngularRootElements=()=>i.getAllRootElements();let e=t=>{let r=kn.getAllAngularTestabilities(),o=r.length,a=function(){o--,o==0&&t()};r.forEach(s=>{s.whenStable(a)})};kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(e)}findTestabilityInTree(i,e,t){if(e==null)return null;let r=i.getTestability(e);return r??(t?ui().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},BH=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Qw=["alt","control","meta","shift"],VH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Kw=(()=>{class n extends L4{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,t,r,o){let a=n.parseEventName(t),s=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ui().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let t=e.toLowerCase().split("."),r=t.shift();if(t.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(t.pop()),a="",s=t.indexOf("code");if(s>-1&&(t.splice(s,1),a="code."),Qw.forEach(m=>{let _=t.indexOf(m);_>-1&&(t.splice(_,1),a+=m+".")}),a+=o,t.length!=0||o.length===0)return null;let u={};return u.domEventName=r,u.fullKey=a,u}static matchEventFullKeyCode(e,t){let r=VH[e.key]||e.key,o="";return t.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Qw.forEach(a=>{if(a!==r){let s=UH[a];s(e)&&(o+=a+".")}}),o+=r,o===t)}static eventCallback(e,t,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>t(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(t){return new(t||n)(H(J))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function Qp(n,i,e){let t=P({rootComponent:n,platformRef:e?.platformRef},jH(i));return cw(t)}function jH(n){return{appProviders:[...Xw,...n?.providers??[]],platformProviders:WH}}function HH(){t8.makeCurrent()}function qH(){return new li}function $H(){return w9(document),document}var WH=[{provide:Ta,useValue:Up},{provide:l5,useValue:HH,multi:!0},{provide:J,useFactory:$H}];var GH=[{provide:u0,useClass:n8},{provide:T5,useClass:f4,deps:[ce,p4,u0]},{provide:f4,useClass:f4,deps:[ce,p4,u0]}],Xw=[{provide:V3,useValue:"root"},{provide:li,useFactory:qH},{provide:e8,useClass:Z5,multi:!0,deps:[J]},{provide:e8,useClass:Kw,multi:!0,deps:[J]},N4,Gp,Wp,{provide:mn,useExisting:N4},{provide:La,useClass:BH},[]],Kp=(()=>{class n{constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({providers:[...Xw,...GH],imports:[he,sw]})}return n})();var y0=class{},O4=class{},vo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(e=>{let t=e.indexOf(":");if(t>0){let r=e.slice(0,t),o=e.slice(t+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,t)=>{this.addHeaderEntry(t,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,t])=>{this.setHeaderEntries(e,t)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){let e=i.name.toLowerCase();switch(i.op){case"a":case"s":let t=i.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(i.name,e);let r=(i.op==="a"?this.headers.get(e):void 0)||[];r.push(...t),this.headers.set(e,r);break;case"d":let o=i.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(i,e){let t=i.toLowerCase();this.maybeSetNormalizedName(i,t),this.headers.has(t)?this.headers.get(t).push(e):this.headers.set(t,[e])}setHeaderEntries(i,e){let t=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=i.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}};var r8=class{encodeKey(i){return Zw(i)}encodeValue(i){return Zw(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function YH(n,i){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,o)),i.decodeValue(r.slice(o+1))],u=e.get(a)||[];u.push(s),e.set(a,u)}),e}var QH=/%(\d[a-f0-9])/gi,KH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zw(n){return encodeURIComponent(n).replace(QH,(i,e)=>KH[e]??i)}function i8(n){return`${n}`}var br=class n{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new r8,i.fromString){if(i.fromObject)throw new q(2805,!1);this.map=YH(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{let t=i.fromObject[e],r=Array.isArray(t)?t.map(i8):[i8(t)];this.map.set(e,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){let e=[];return Object.keys(i).forEach(t=>{let r=i[t];Array.isArray(r)?r.forEach(o=>{e.push({param:t,value:o,op:"a"})}):e.push({param:t,value:r,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let e=this.encoder.encodeKey(i);return this.map.get(i).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let e=(i.op==="a"?this.map.get(i.param):void 0)||[];e.push(i8(i.value)),this.map.set(i.param,e);break;case"d":if(i.value!==void 0){let t=this.map.get(i.param)||[],r=t.indexOf(i8(i.value));r!==-1&&t.splice(r,1),t.length>0?this.map.set(i.param,t):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var o8=class{map=new Map;set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function XH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Jw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eS(n){return typeof Blob<"u"&&n instanceof Blob}function tS(n){return typeof FormData<"u"&&n instanceof FormData}function ZH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var nS="Content-Type",iS="Accept",oS="X-Request-URL",aS="text/plain",sS="application/json",JH=`${sS}, ${aS}, */*`,g0=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(i,e,t,r){this.url=e,this.method=i.toUpperCase();let o;if(XH(this.method)||r?(this.body=t!==void 0?t:null,o=r):o=t,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new q(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new vo,this.context??=new o8,!this.params)this.params=new br,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),u=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+u+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Jw(this.body)||eS(this.body)||tS(this.body)||ZH(this.body)?this.body:this.body instanceof br?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tS(this.body)?null:eS(this.body)?this.body.type||null:Jw(this.body)?null:typeof this.body=="string"?aS:this.body instanceof br?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sS:null}clone(i={}){let e=i.method||this.method,t=i.url||this.url,r=i.responseType||this.responseType,o=i.keepalive??this.keepalive,a=i.priority||this.priority,s=i.cache||this.cache,u=i.mode||this.mode,m=i.redirect||this.redirect,_=i.credentials||this.credentials,y=i.referrer||this.referrer,E=i.integrity||this.integrity,I=i.transferCache??this.transferCache,A=i.timeout??this.timeout,R=i.body!==void 0?i.body:this.body,F=i.withCredentials??this.withCredentials,W=i.reportProgress??this.reportProgress,ee=i.headers||this.headers,te=i.params||this.params,ae=i.context??this.context;return i.setHeaders!==void 0&&(ee=Object.keys(i.setHeaders).reduce((Se,tt)=>Se.set(tt,i.setHeaders[tt]),ee)),i.setParams&&(te=Object.keys(i.setParams).reduce((Se,tt)=>Se.set(tt,i.setParams[tt]),te)),new n(e,t,R,{params:te,headers:ee,context:ae,reportProgress:W,responseType:r,withCredentials:F,transferCache:I,keepalive:o,cache:s,priority:a,timeout:A,mode:u,redirect:m,credentials:_,referrer:y,integrity:E})}},ka=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(ka||{}),_0=class{headers;status;statusText;url;ok;type;redirected;constructor(i,e=200,t="OK"){this.headers=i.headers||new vo,this.status=i.status!==void 0?i.status:e,this.statusText=i.statusText||t,this.url=i.url||null,this.redirected=i.redirected,this.ok=this.status>=200&&this.status<300}},a8=class n extends _0{constructor(i={}){super(i)}type=ka.ResponseHeader;clone(i={}){return new n({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},R4=class n extends _0{body;constructor(i={}){super(i),this.body=i.body!==void 0?i.body:null}type=ka.Response;clone(i={}){return new n({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0,redirected:i.redirected??this.redirected})}},v0=class extends _0{name="HttpErrorResponse";message;error;ok=!1;constructor(i){super(i,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},eq=200,tq=204;function Xp(n,i){return{body:i,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var yo=(()=>{class n{handler;constructor(e){this.handler=e}request(e,t,r={}){let o;if(e instanceof g0)o=e;else{let u;r.headers instanceof vo?u=r.headers:u=new vo(r.headers);let m;r.params&&(r.params instanceof br?m=r.params:m=new br({fromObject:r.params})),o=new g0(e,t,r.body!==void 0?r.body:null,{headers:u,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let a=Z(o).pipe(T1(u=>this.handler.handle(u)));if(e instanceof g0||r.observe==="events")return a;let s=a.pipe(be(u=>u instanceof R4));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(ye(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new q(2806,!1);return u.body}));case"blob":return s.pipe(ye(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new q(2807,!1);return u.body}));case"text":return s.pipe(ye(u=>{if(u.body!==null&&typeof u.body!="string")throw new q(2808,!1);return u.body}));case"json":default:return s.pipe(ye(u=>u.body))}case"response":return s;default:throw new q(2809,!1)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:new br().append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,r={}){return this.request("PATCH",e,Xp(r,t))}post(e,t,r={}){return this.request("POST",e,Xp(r,t))}put(e,t,r={}){return this.request("PUT",e,Xp(r,t))}static \u0275fac=function(t){return new(t||n)(H(y0))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var nq=new G("");function cS(n,i){return i(n)}function iq(n,i){return(e,t)=>i.intercept(e,{handle:r=>n(r,t)})}function rq(n,i,e){return(t,r)=>jn(e,()=>i(t,o=>n(o,r)))}var c8=new G(""),Jp=new G(""),lS=new G(""),em=new G("",{providedIn:"root",factory:()=>!0});function oq(){let n=null;return(i,e)=>{n===null&&(n=(T(c8,{optional:!0})??[]).reduceRight(iq,cS));let t=T(Zs);if(T(em)){let o=t.add();return n(i,e).pipe(Jr(o))}else return n(i,e)}}var s8=(()=>{class n extends y0{backend;injector;chain=null;pendingTasks=T(Zs);contributeToStability=T(em);constructor(e,t){super(),this.backend=e,this.injector=t}handle(e){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(Jp),...this.injector.get(lS,[])]));this.chain=t.reduceRight((r,o)=>rq(r,o,this.injector),cS)}if(this.contributeToStability){let t=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Jr(t))}else return this.chain(e,t=>this.backend.handle(t))}static \u0275fac=function(t){return new(t||n)(H(O4),H(Lt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var aq=/^\)\]\}',?\n/,sq=RegExp(`^${oS}:`,"m");function cq(n){return"responseURL"in n&&n.responseURL?n.responseURL:sq.test(n.getAllResponseHeaders())?n.getResponseHeader(oS):null}var Zp=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new q(-2800,!1);let t=this.xhrFactory;return Z(null).pipe(qt(()=>new Te(o=>{let a=t.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((F,W)=>a.setRequestHeader(F,W.join(","))),e.headers.has(iS)||a.setRequestHeader(iS,JH),!e.headers.has(nS)){let F=e.detectContentTypeHeader();F!==null&&a.setRequestHeader(nS,F)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let F=e.responseType.toLowerCase();a.responseType=F!=="json"?F:"text"}let s=e.serializeBody(),u=null,m=()=>{if(u!==null)return u;let F=a.statusText||"OK",W=new vo(a.getAllResponseHeaders()),ee=cq(a)||e.url;return u=new a8({headers:W,status:a.status,statusText:F,url:ee}),u},_=()=>{let{headers:F,status:W,statusText:ee,url:te}=m(),ae=null;W!==tq&&(ae=typeof a.response>"u"?a.responseText:a.response),W===0&&(W=ae?eq:0);let Se=W>=200&&W<300;if(e.responseType==="json"&&typeof ae=="string"){let tt=ae;ae=ae.replace(aq,"");try{ae=ae!==""?JSON.parse(ae):null}catch(nt){ae=tt,Se&&(Se=!1,ae={error:nt,text:ae})}}Se?(o.next(new R4({body:ae,headers:F,status:W,statusText:ee,url:te||void 0})),o.complete()):o.error(new v0({error:ae,headers:F,status:W,statusText:ee,url:te||void 0}))},y=F=>{let{url:W}=m(),ee=new v0({error:F,status:a.status||0,statusText:a.statusText||"Unknown Error",url:W||void 0});o.error(ee)},E=y;e.timeout&&(E=F=>{let{url:W}=m(),ee=new v0({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:W||void 0});o.error(ee)});let I=!1,A=F=>{I||(o.next(m()),I=!0);let W={type:ka.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(W.total=F.total),e.responseType==="text"&&a.responseText&&(W.partialText=a.responseText),o.next(W)},R=F=>{let W={type:ka.UploadProgress,loaded:F.loaded};F.lengthComputable&&(W.total=F.total),o.next(W)};return a.addEventListener("load",_),a.addEventListener("error",y),a.addEventListener("timeout",E),a.addEventListener("abort",y),e.reportProgress&&(a.addEventListener("progress",A),s!==null&&a.upload&&a.upload.addEventListener("progress",R)),a.send(s),o.next({type:ka.Sent}),()=>{a.removeEventListener("error",y),a.removeEventListener("abort",y),a.removeEventListener("load",_),a.removeEventListener("timeout",E),e.reportProgress&&(a.removeEventListener("progress",A),s!==null&&a.upload&&a.upload.removeEventListener("progress",R)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(t){return new(t||n)(H(La))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),dS=new G(""),lq="XSRF-TOKEN",dq=new G("",{providedIn:"root",factory:()=>lq}),uq="X-XSRF-TOKEN",fq=new G("",{providedIn:"root",factory:()=>uq}),F4=class{},pq=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,t){this.doc=e,this.cookieName=t}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=z4(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(t){return new(t||n)(H(J),H(dq))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function mq(n,i){let e=n.url.toLowerCase();if(!T(dS)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return i(n);let t=T(F4).getToken(),r=T(fq);return t!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,t)})),i(n)}var tm=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(tm||{});function hq(n,i){return{\u0275kind:n,\u0275providers:i}}function uS(...n){let i=[yo,Zp,s8,{provide:y0,useExisting:s8},{provide:O4,useFactory:()=>T(nq,{optional:!0})??T(Zp)},{provide:Jp,useValue:mq,multi:!0},{provide:dS,useValue:!0},{provide:F4,useClass:pq}];for(let e of n)i.push(...e.\u0275providers);return _2(i)}var rS=new G("");function fS(){return hq(tm.LegacyInterceptors,[{provide:rS,useFactory:oq},{provide:Jp,useExisting:rS,multi:!0}])}var nm=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({providers:[uS(fS())]})}return n})();var l8=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(t){return new(t||n)(H(J))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var B4=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:function(t){let r=null;return t?r=new(t||n):r=H(gq),r},providedIn:"root"})}return n})(),gq=(()=>{class n extends B4{_doc;constructor(e){super(),this._doc=e}sanitize(e,t){if(t==null)return null;switch(e){case $1.NONE:return t;case $1.HTML:return T2(t,"HTML")?q1(t):h5(this._doc,String(t)).toString();case $1.STYLE:return T2(t,"Style")?q1(t):t;case $1.SCRIPT:if(T2(t,"Script"))return q1(t);throw new q(5200,!1);case $1.URL:return T2(t,"URL")?q1(t):a4(String(t));case $1.RESOURCE_URL:if(T2(t,"ResourceURL"))return q1(t);throw new q(5201,!1);default:throw new q(5202,!1)}}bypassSecurityTrustHtml(e){return E9(e)}bypassSecurityTrustStyle(e){return T9(e)}bypassSecurityTrustScript(e){return I9(e)}bypassSecurityTrustUrl(e){return D9(e)}bypassSecurityTrustResourceUrl(e){return z9(e)}static \u0275fac=function(t){return new(t||n)(H(J))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Re="primary",Z4=Symbol("RouteTitle"),lm=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Pa(n){return new lm(n)}function bS(n,i,e){let t=e.path.split("/");if(t.length>n.length||e.pathMatch==="full"&&(i.hasChildren()||t.length<n.length))return null;let r={};for(let o=0;o<t.length;o++){let a=t[o],s=n[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,t.length),posParams:r}}function vq(n,i){if(n.length!==i.length)return!1;for(let e=0;e<n.length;++e)if(!k2(n[e],i[e]))return!1;return!0}function k2(n,i){let e=n?dm(n):void 0,t=i?dm(i):void 0;if(!e||!t||e.length!=t.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!xS(n[r],i[r]))return!1;return!0}function dm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xS(n,i){if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;let e=[...n].sort(),t=[...i].sort();return e.every((r,o)=>t[o]===r)}else return n===i}function CS(n){return n.length>0?n[n.length-1]:null}function xr(n){return s6(n)?n:mo(n)?ct(Promise.resolve(n)):Z(n)}var yq={exact:SS,subset:MS},wS={exact:_q,subset:bq,ignored:()=>!0};function pS(n,i,e){return yq[e.paths](n.root,i.root,e.matrixParams)&&wS[e.queryParams](n.queryParams,i.queryParams)&&!(e.fragment==="exact"&&n.fragment!==i.fragment)}function _q(n,i){return k2(n,i)}function SS(n,i,e){if(!Aa(n.segments,i.segments)||!f8(n.segments,i.segments,e)||n.numberOfChildren!==i.numberOfChildren)return!1;for(let t in i.children)if(!n.children[t]||!SS(n.children[t],i.children[t],e))return!1;return!0}function bq(n,i){return Object.keys(i).length<=Object.keys(n).length&&Object.keys(i).every(e=>xS(n[e],i[e]))}function MS(n,i,e){return ES(n,i,i.segments,e)}function ES(n,i,e,t){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!Aa(r,e)||i.hasChildren()||!f8(r,e,t))}else if(n.segments.length===e.length){if(!Aa(n.segments,e)||!f8(n.segments,e,t))return!1;for(let r in i.children)if(!n.children[r]||!MS(n.children[r],i.children[r],t))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Aa(n.segments,r)||!f8(n.segments,r,t)||!n.children[Re]?!1:ES(n.children[Re],i,o,t)}}function f8(n,i,e){return i.every((t,r)=>wS[e](n[r].parameters,t.parameters))}var N2=class{root;queryParams;fragment;_queryParamMap;constructor(i=new ht([],{}),e={},t=null){this.root=i,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Pa(this.queryParams),this._queryParamMap}toString(){return wq.serialize(this)}},ht=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return p8(this)}},_o=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=Pa(this.parameters),this._parameterMap}toString(){return IS(this)}};function xq(n,i){return Aa(n,i)&&n.every((e,t)=>k2(e.parameters,i[t].parameters))}function Aa(n,i){return n.length!==i.length?!1:n.every((e,t)=>e.path===i[t].path)}function Cq(n,i){let e=[];return Object.entries(n.children).forEach(([t,r])=>{t===Re&&(e=e.concat(i(r,t)))}),Object.entries(n.children).forEach(([t,r])=>{t!==Re&&(e=e.concat(i(r,t)))}),e}var Oa=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:()=>new bo,providedIn:"root"})}return n})(),bo=class{parse(i){let e=new fm(i);return new N2(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${V4(i.root,!0)}`,t=Eq(i.queryParams),r=typeof i.fragment=="string"?`#${Sq(i.fragment)}`:"";return`${e}${t}${r}`}},wq=new bo;function p8(n){return n.segments.map(i=>IS(i)).join("/")}function V4(n,i){if(!n.hasChildren())return p8(n);if(i){let e=n.children[Re]?V4(n.children[Re],!1):"",t=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Re&&t.push(`${r}:${V4(o,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=Cq(n,(t,r)=>r===Re?[V4(n.children[Re],!1)]:[`${r}:${V4(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[Re]!=null?`${p8(n)}/${e[0]}`:`${p8(n)}/(${e.join("//")})`}}function TS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function d8(n){return TS(n).replace(/%3B/gi,";")}function Sq(n){return encodeURI(n)}function um(n){return TS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function m8(n){return decodeURIComponent(n)}function mS(n){return m8(n.replace(/\+/g,"%20"))}function IS(n){return`${um(n.path)}${Mq(n.parameters)}`}function Mq(n){return Object.entries(n).map(([i,e])=>`;${um(i)}=${um(e)}`).join("")}function Eq(n){let i=Object.entries(n).map(([e,t])=>Array.isArray(t)?t.map(r=>`${d8(e)}=${d8(r)}`).join("&"):`${d8(e)}=${d8(t)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var Tq=/^[^\/()?;#]+/;function om(n){let i=n.match(Tq);return i?i[0]:""}var Iq=/^[^\/()?;=#]+/;function Dq(n){let i=n.match(Iq);return i?i[0]:""}var zq=/^[^=?&#]+/;function Lq(n){let i=n.match(zq);return i?i[0]:""}var kq=/^[^&#]+/;function Aq(n){let i=n.match(kq);return i?i[0]:""}var fm=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(t[Re]=new ht(i,e)),t}parseSegment(){let i=om(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(i),new _o(m8(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=Dq(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let r=om(this.remaining);r&&(t=r,this.capture(t))}i[m8(e)]=m8(t)}parseQueryParam(i){let e=Lq(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let a=Aq(this.remaining);a&&(t=a,this.capture(t))}let r=mS(e),o=mS(t);if(i.hasOwnProperty(r)){let a=i[r];Array.isArray(a)||(a=[a],i[r]=a),a.push(o)}else i[r]=o}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=om(this.remaining),r=this.remaining[t.length];if(r!=="/"&&r!==")"&&r!==";")throw new q(4010,!1);let o;t.indexOf(":")>-1?(o=t.slice(0,t.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=Re);let a=this.parseChildren();e[o??Re]=Object.keys(a).length===1&&a[Re]?a[Re]:new ht([],a),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new q(4011,!1)}};function DS(n){return n.segments.length>0?new ht([],{[Re]:n}):n}function zS(n){let i={};for(let[t,r]of Object.entries(n.children)){let o=zS(r);if(t===Re&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))i[a]=s;else(o.segments.length>0||o.hasChildren())&&(i[t]=o)}let e=new ht(n.segments,i);return Nq(e)}function Nq(n){if(n.numberOfChildren===1&&n.children[Re]){let i=n.children[Re];return new ht(n.segments.concat(i.segments),i.children)}return n}function xo(n){return n instanceof N2}function LS(n,i,e=null,t=null){let r=kS(n);return AS(r,i,e,t)}function kS(n){let i;function e(o){let a={};for(let u of o.children){let m=e(u);a[u.outlet]=m}let s=new ht(o.url,a);return o===n&&(i=s),s}let t=e(n.root),r=DS(t);return i??r}function AS(n,i,e,t){let r=n;for(;r.parent;)r=r.parent;if(i.length===0)return am(r,r,r,e,t);let o=Pq(i);if(o.toRoot())return am(r,r,new ht([],{}),e,t);let a=Oq(o,r,n),s=a.processChildren?j4(a.segmentGroup,a.index,o.commands):PS(a.segmentGroup,a.index,o.commands);return am(r,a.segmentGroup,s,e,t)}function h8(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function q4(n){return typeof n=="object"&&n!=null&&n.outlets}function am(n,i,e,t,r){let o={};t&&Object.entries(t).forEach(([u,m])=>{o[u]=Array.isArray(m)?m.map(_=>`${_}`):`${m}`});let a;n===i?a=e:a=NS(n,i,e);let s=DS(zS(a));return new N2(s,o,r)}function NS(n,i,e){let t={};return Object.entries(n.children).forEach(([r,o])=>{o===i?t[r]=e:t[r]=NS(o,i,e)}),new ht(n.segments,t)}var g8=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,t){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=t,i&&t.length>0&&h8(t[0]))throw new q(4003,!1);let r=t.find(q4);if(r&&r!==CS(t))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Pq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new g8(!0,0,n);let i=0,e=!1,t=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([u,m])=>{s[u]=typeof m=="string"?m.split("/"):m}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,u)=>{u==0&&s==="."||(u==0&&s===""?e=!0:s===".."?i++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new g8(e,i,t)}var C0=class{segmentGroup;processChildren;index;constructor(i,e,t){this.segmentGroup=i,this.processChildren=e,this.index=t}};function Oq(n,i,e){if(n.isAbsolute)return new C0(i,!0,0);if(!e)return new C0(i,!1,NaN);if(e.parent===null)return new C0(e,!0,0);let t=h8(n.commands[0])?0:1,r=e.segments.length-1+t;return Rq(e,r,n.numberOfDoubleDots)}function Rq(n,i,e){let t=n,r=i,o=e;for(;o>r;){if(o-=r,t=t.parent,!t)throw new q(4005,!1);r=t.segments.length}return new C0(t,!1,r-o)}function Fq(n){return q4(n[0])?n[0].outlets:{[Re]:n}}function PS(n,i,e){if(n??=new ht([],{}),n.segments.length===0&&n.hasChildren())return j4(n,i,e);let t=Bq(n,i,e),r=e.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let o=new ht(n.segments.slice(0,t.pathIndex),{});return o.children[Re]=new ht(n.segments.slice(t.pathIndex),n.children),j4(o,0,r)}else return t.match&&r.length===0?new ht(n.segments,{}):t.match&&!n.hasChildren()?pm(n,i,e):t.match?j4(n,0,r):pm(n,i,e)}function j4(n,i,e){if(e.length===0)return new ht(n.segments,{});{let t=Fq(e),r={};if(Object.keys(t).some(o=>o!==Re)&&n.children[Re]&&n.numberOfChildren===1&&n.children[Re].segments.length===0){let o=j4(n.children[Re],i,e);return new ht(n.segments,o.children)}return Object.entries(t).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=PS(n.children[o],i,a))}),Object.entries(n.children).forEach(([o,a])=>{t[o]===void 0&&(r[o]=a)}),new ht(n.segments,r)}}function Bq(n,i,e){let t=0,r=i,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(t>=e.length)return o;let a=n.segments[r],s=e[t];if(q4(s))break;let u=`${s}`,m=t<e.length-1?e[t+1]:null;if(r>0&&u===void 0)break;if(u&&m&&typeof m=="object"&&m.outlets===void 0){if(!gS(u,m,a))return o;t+=2}else{if(!gS(u,{},a))return o;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}function pm(n,i,e){let t=n.segments.slice(0,i),r=0;for(;r<e.length;){let o=e[r];if(q4(o)){let u=Vq(o.outlets);return new ht(t,u)}if(r===0&&h8(e[0])){let u=n.segments[i];t.push(new _o(u.path,hS(e[0]))),r++;continue}let a=q4(o)?o.outlets[Re]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&h8(s)?(t.push(new _o(a,hS(s))),r+=2):(t.push(new _o(a,{})),r++)}return new ht(t,{})}function Vq(n){let i={};return Object.entries(n).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(i[e]=pm(new ht([],{}),0,t))}),i}function hS(n){let i={};return Object.entries(n).forEach(([e,t])=>i[e]=`${t}`),i}function gS(n,i,e){return n==e.path&&k2(i,e.parameters)}var w0="imperative",Pn=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Pn||{}),mi=class{id;url;constructor(i,e){this.id=i,this.url=e}},Co=class extends mi{type=Pn.NavigationStart;navigationTrigger;restoredState;constructor(i,e,t="imperative",r=null){super(i,e),this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},P1=class extends mi{urlAfterRedirects;type=Pn.NavigationEnd;constructor(i,e,t){super(i,e),this.urlAfterRedirects=t}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},N1=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(N1||{}),M0=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(M0||{}),A2=class extends mi{reason;code;type=Pn.NavigationCancel;constructor(i,e,t,r){super(i,e),this.reason=t,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},P2=class extends mi{reason;code;type=Pn.NavigationSkipped;constructor(i,e,t,r){super(i,e),this.reason=t,this.code=r}},E0=class extends mi{error;target;type=Pn.NavigationError;constructor(i,e,t,r){super(i,e),this.error=t,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$4=class extends mi{urlAfterRedirects;state;type=Pn.RoutesRecognized;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v8=class extends mi{urlAfterRedirects;state;type=Pn.GuardsCheckStart;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},y8=class extends mi{urlAfterRedirects;state;shouldActivate;type=Pn.GuardsCheckEnd;constructor(i,e,t,r,o){super(i,e),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_8=class extends mi{urlAfterRedirects;state;type=Pn.ResolveStart;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b8=class extends mi{urlAfterRedirects;state;type=Pn.ResolveEnd;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},x8=class{route;type=Pn.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},C8=class{route;type=Pn.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},w8=class{snapshot;type=Pn.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S8=class{snapshot;type=Pn.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},M8=class{snapshot;type=Pn.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},E8=class{snapshot;type=Pn.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},T0=class{routerEvent;position;anchor;type=Pn.Scroll;constructor(i,e,t){this.routerEvent=i,this.position=e,this.anchor=t}toString(){let i=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${i}')`}},W4=class{},I0=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function Uq(n){return!(n instanceof W4)&&!(n instanceof I0)}function jq(n,i){return n.providers&&!n._injector&&(n._injector=d0(n.providers,i,`Route: ${n.path}`)),n._injector??i}function i2(n){return n.outlet||Re}function Hq(n,i){let e=n.filter(t=>i2(t)===i);return e.push(...n.filter(t=>i2(t)!==i)),e}function L0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let i=n.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var T8=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return L0(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new Ra(this.rootInjector)}},Ra=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,t){let r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new T8(this.rootInjector),this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(t){return new(t||n)(H(Lt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I8=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=mm(i,this._root);return e?e.children.map(t=>t.value):[]}firstChild(i){let e=mm(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=hm(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return hm(i,this._root).map(e=>e.value)}};function mm(n,i){if(n===i.value)return i;for(let e of i.children){let t=mm(n,e);if(t)return t}return null}function hm(n,i){if(n===i.value)return[i];for(let e of i.children){let t=hm(n,e);if(t.length)return t.unshift(i),t}return[]}var pi=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function x0(n){let i={};return n&&n.children.forEach(e=>i[e.value.outlet]=e),i}var G4=class extends I8{snapshot;constructor(i,e){super(i),this.snapshot=e,wm(this,i)}toString(){return this.snapshot.toString()}};function OS(n){let i=qq(n),e=new Ht([new _o("",{})]),t=new Ht({}),r=new Ht({}),o=new Ht({}),a=new Ht(""),s=new m1(e,t,o,a,r,Re,n,i.root);return s.snapshot=i.root,new G4(new pi(s,[]),i)}function qq(n){let i={},e={},t={},o=new Na([],i,t,"",e,Re,n,null,{});return new Y4("",new pi(o,[]))}var m1=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,t,r,o,a,s,u){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ye(m=>m[Z4]))??Z(void 0),this.url=i,this.params=e,this.queryParams=t,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ye(i=>Pa(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ye(i=>Pa(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function D8(n,i,e="emptyOnly"){let t,{routeConfig:r}=n;return i!==null&&(e==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?t={params:P(P({},i.params),n.params),data:P(P({},i.data),n.data),resolve:P(P(P(P({},n.data),i.data),r?.data),n._resolvedData)}:t={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},r&&FS(r)&&(t.resolve[Z4]=r.title),t}var Na=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Z4]}constructor(i,e,t,r,o,a,s,u,m){this.url=i,this.params=e,this.queryParams=t,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pa(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},Y4=class extends I8{url;constructor(i,e){super(e),this.url=i,wm(this,e)}toString(){return RS(this._root)}};function wm(n,i){i.value._routerState=n,i.children.forEach(e=>wm(n,e))}function RS(n){let i=n.children.length>0?` { ${n.children.map(RS).join(", ")} } `:"";return`${n.value}${i}`}function sm(n){if(n.snapshot){let i=n.snapshot,e=n._futureSnapshot;n.snapshot=e,k2(i.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),k2(i.params,e.params)||n.paramsSubject.next(e.params),vq(i.url,e.url)||n.urlSubject.next(e.url),k2(i.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function gm(n,i){let e=k2(n.params,i.params)&&xq(n.url,i.url),t=!n.parent!=!i.parent;return e&&!t&&(!n.parent||gm(n.parent,i.parent))}function FS(n){return typeof n.title=="string"||n.title===null}var BS=new G(""),J4=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Re;activateEvents=new K;deactivateEvents=new K;attachEvents=new K;detachEvents=new K;routerOutletData=h0();parentContexts=T(Ra);location=T(An);changeDetector=T(yn);inputBinder=T(ec,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:r}=e.name;if(t)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,u=new vm(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:u,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[dt]})}return n})(),vm=class{route;childContexts;parent;outletData;constructor(i,e,t,r){this.route=i,this.childContexts=e,this.parent=t,this.outletData=r}get(i,e){return i===m1?this.route:i===Ra?this.childContexts:i===BS?this.outletData:this.parent.get(i,e)}},ec=new G(""),Sm=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:t}=e,r=fa([t.queryParams,t.params,t.data]).pipe(qt(([o,a,s],u)=>(s=P(P(P({},o),a),s),u===0?Z(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==t||t.component===null){this.unsubscribeFromRouteData(e);return}let a=lw(t.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Mm=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(t,r){t&1&&M(0,"router-outlet")},dependencies:[J4],encapsulation:2})}return n})();function Em(n){let i=n.children&&n.children.map(Em),e=i?ie(P({},n),{children:i}):P({},n);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==Re&&(e.component=Mm),e}function $q(n,i,e){let t=Q4(n,i._root,e?e._root:void 0);return new G4(t,i)}function Q4(n,i,e){if(e&&n.shouldReuseRoute(i.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=i.value;let r=Wq(n,i,e);return new pi(t,r)}else{if(n.shouldAttach(i.value)){let o=n.retrieve(i.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=i.value,a.children=i.children.map(s=>Q4(n,s)),a}}let t=Gq(i.value),r=i.children.map(o=>Q4(n,o));return new pi(t,r)}}function Wq(n,i,e){return i.children.map(t=>{for(let r of e.children)if(n.shouldReuseRoute(t.value,r.value.snapshot))return Q4(n,t,r);return Q4(n,t)})}function Gq(n){return new m1(new Ht(n.url),new Ht(n.params),new Ht(n.queryParams),new Ht(n.fragment),new Ht(n.data),n.outlet,n.component,n)}var D0=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},VS="ngNavigationCancelingError";function z8(n,i){let{redirectTo:e,navigationBehaviorOptions:t}=xo(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=US(!1,N1.Redirect);return r.url=e,r.navigationBehaviorOptions=t,r}function US(n,i){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[VS]=!0,e.cancellationCode=i,e}function Yq(n){return jS(n)&&xo(n.url)}function jS(n){return!!n&&n[VS]}var Qq=(n,i,e,t)=>ye(r=>(new ym(i,r.targetRouterState,r.currentRouterState,e,t).activate(n),r)),ym=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,t,r,o){this.routeReuseStrategy=i,this.futureState=e,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=o}activate(i){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,i),sm(this.futureState.root),this.activateChildRoutes(e,t,i)}deactivateChildRoutes(i,e,t){let r=x0(e);i.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],t),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,t)})}deactivateRoutes(i,e,t){let r=i.value,o=e?e.value:null;if(r===o)if(r.component){let a=t.getContext(r.outlet);a&&this.deactivateChildRoutes(i,e,a.children)}else this.deactivateChildRoutes(i,e,t);else o&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let t=e.getContext(i.value.outlet),r=t&&i.value.component?t.children:e,o=x0(i);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(t&&t.outlet){let a=t.outlet.detach(),s=t.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:s})}}deactivateRouteAndOutlet(i,e){let t=e.getContext(i.value.outlet),r=t&&i.value.component?t.children:e,o=x0(i);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(i,e,t){let r=x0(e);i.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],t),this.forwardEvent(new E8(o.value.snapshot))}),i.children.length&&this.forwardEvent(new S8(i.value.snapshot))}activateRoutes(i,e,t){let r=i.value,o=e?e.value:null;if(sm(r),r===o)if(r.component){let a=t.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,a.children)}else this.activateChildRoutes(i,e,t);else if(r.component){let a=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),sm(s.route.value),this.activateChildRoutes(i,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(i,null,a.children)}else this.activateChildRoutes(i,null,t)}},L8=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},S0=class{component;route;constructor(i,e){this.component=i,this.route=e}};function Kq(n,i,e){let t=n._root,r=i?i._root:null;return U4(t,r,e,[t.value])}function Xq(n){let i=n.routeConfig?n.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:n,guards:i}}function k0(n,i){let e=Symbol(),t=i.get(n,e);return t===e?typeof n=="function"&&!Vu(n)?n:i.get(n):t}function U4(n,i,e,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=x0(i);return n.children.forEach(a=>{Zq(a,o[a.value.outlet],e,t.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>H4(s,e.getContext(a),r)),r}function Zq(n,i,e,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=i?i.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let u=Jq(a,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new L8(t)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?U4(n,i,s?s.children:null,t,r):U4(n,i,e,t,r),u&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new S0(s.outlet.component,a))}else a&&H4(i,s,r),r.canActivateChecks.push(new L8(t)),o.component?U4(n,null,s?s.children:null,t,r):U4(n,null,e,t,r);return r}function Jq(n,i,e){if(typeof e=="function")return e(n,i);switch(e){case"pathParamsChange":return!Aa(n.url,i.url);case"pathParamsOrQueryParamsChange":return!Aa(n.url,i.url)||!k2(n.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gm(n,i)||!k2(n.queryParams,i.queryParams);case"paramsChange":default:return!gm(n,i)}}function H4(n,i,e){let t=x0(n),r=n.value;Object.entries(t).forEach(([o,a])=>{r.component?i?H4(a,i.children.getContext(o),e):H4(a,null,e):H4(a,i,e)}),r.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new S0(i.outlet.component,r)):e.canDeactivateChecks.push(new S0(null,r)):e.canDeactivateChecks.push(new S0(null,r))}function tc(n){return typeof n=="function"}function e$(n){return typeof n=="boolean"}function t$(n){return n&&tc(n.canLoad)}function n$(n){return n&&tc(n.canActivate)}function i$(n){return n&&tc(n.canActivateChild)}function r$(n){return n&&tc(n.canDeactivate)}function o$(n){return n&&tc(n.canMatch)}function HS(n){return n instanceof tr||n?.name==="EmptyError"}var u8=Symbol("INITIAL_VALUE");function z0(){return qt(n=>fa(n.map(i=>i.pipe(We(1),c1(u8)))).pipe(ye(i=>{for(let e of i)if(e!==!0){if(e===u8)return u8;if(e===!1||a$(e))return e}return!0}),be(i=>i!==u8),We(1)))}function a$(n){return xo(n)||n instanceof D0}function s$(n,i){return en(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?Z(ie(P({},e),{guardsResult:!0})):c$(a,t,r,n).pipe(en(s=>s&&e$(s)?l$(t,o,n,i):Z(s)),ye(s=>ie(P({},e),{guardsResult:s})))})}function c$(n,i,e,t){return ct(n).pipe(en(r=>m$(r.component,r.route,e,i,t)),rr(r=>r!==!0,!0))}function l$(n,i,e,t){return ct(i).pipe(T1(r=>Xr(u$(r.route.parent,t),d$(r.route,t),p$(n,r.path,e),f$(n,r.route,e))),rr(r=>r!==!0,!0))}function d$(n,i){return n!==null&&i&&i(new M8(n)),Z(!0)}function u$(n,i){return n!==null&&i&&i(new w8(n)),Z(!0)}function f$(n,i,e){let t=i.routeConfig?i.routeConfig.canActivate:null;if(!t||t.length===0)return Z(!0);let r=t.map(o=>nr(()=>{let a=L0(i)??e,s=k0(o,a),u=n$(s)?s.canActivate(i,n):jn(a,()=>s(i,n));return xr(u).pipe(rr())}));return Z(r).pipe(z0())}function p$(n,i,e){let t=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(a=>Xq(a)).filter(a=>a!==null).map(a=>nr(()=>{let s=a.guards.map(u=>{let m=L0(a.node)??e,_=k0(u,m),y=i$(_)?_.canActivateChild(t,n):jn(m,()=>_(t,n));return xr(y).pipe(rr())});return Z(s).pipe(z0())}));return Z(o).pipe(z0())}function m$(n,i,e,t,r){let o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let a=o.map(s=>{let u=L0(i)??r,m=k0(s,u),_=r$(m)?m.canDeactivate(n,i,e,t):jn(u,()=>m(n,i,e,t));return xr(_).pipe(rr())});return Z(a).pipe(z0())}function h$(n,i,e,t){let r=i.canLoad;if(r===void 0||r.length===0)return Z(!0);let o=r.map(a=>{let s=k0(a,n),u=t$(s)?s.canLoad(i,e):jn(n,()=>s(i,e));return xr(u)});return Z(o).pipe(z0(),qS(t))}function qS(n){return bu($t(i=>{if(typeof i!="boolean")throw z8(n,i)}),ye(i=>i===!0))}function g$(n,i,e,t){let r=i.canMatch;if(!r||r.length===0)return Z(!0);let o=r.map(a=>{let s=k0(a,n),u=o$(s)?s.canMatch(i,e):jn(n,()=>s(i,e));return xr(u)});return Z(o).pipe(z0(),qS(t))}var K4=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},X4=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function b0(n){return h2(new K4(n))}function v$(n){return h2(new q(4e3,!1))}function y$(n){return h2(US(!1,N1.GuardRejected))}var _m=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let t=[],r=e.root;for(;;){if(t=t.concat(r.segments),r.numberOfChildren===0)return Z(t);if(r.numberOfChildren>1||!r.children[Re])return v$(`${i.redirectTo}`);r=r.children[Re]}}applyRedirectCommands(i,e,t,r,o){return _$(e,r,o).pipe(ye(a=>{if(a instanceof N2)throw new X4(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),i,t);if(a[0]==="/")throw new X4(s);return s}))}applyRedirectCreateUrlTree(i,e,t,r){let o=this.createSegmentGroup(i,e.root,t,r);return new N2(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let t={};return Object.entries(i).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);t[r]=e[s]}else t[r]=o}),t}createSegmentGroup(i,e,t,r){let o=this.createSegments(i,e.segments,t,r),a={};return Object.entries(e.children).forEach(([s,u])=>{a[s]=this.createSegmentGroup(i,u,t,r)}),new ht(o,a)}createSegments(i,e,t,r){return e.map(o=>o.path[0]===":"?this.findPosParam(i,o,r):this.findOrReturn(o,t))}findPosParam(i,e,t){let r=t[e.path.substring(1)];if(!r)throw new q(4001,!1);return r}findOrReturn(i,e){let t=0;for(let r of e){if(r.path===i.path)return e.splice(t),r;t++}return i}};function _$(n,i,e){if(typeof n=="string")return Z(n);let t=n,{queryParams:r,fragment:o,routeConfig:a,url:s,outlet:u,params:m,data:_,title:y}=i;return xr(jn(e,()=>t({params:m,data:_,queryParams:r,fragment:o,routeConfig:a,url:s,outlet:u,title:y})))}var bm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b$(n,i,e,t,r){let o=$S(n,i,e);return o.matched?(t=jq(i,t),g$(t,i,e,r).pipe(ye(a=>a===!0?o:P({},bm)))):Z(o)}function $S(n,i,e){if(i.path==="**")return x$(e);if(i.path==="")return i.pathMatch==="full"&&(n.hasChildren()||e.length>0)?P({},bm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(i.matcher||bS)(e,n,i);if(!r)return P({},bm);let o={};Object.entries(r.posParams??{}).forEach(([s,u])=>{o[s]=u.path});let a=r.consumed.length>0?P(P({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function x$(n){return{matched:!0,parameters:n.length>0?CS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vS(n,i,e,t){return e.length>0&&S$(n,e,t)?{segmentGroup:new ht(i,w$(t,new ht(e,n.children))),slicedSegments:[]}:e.length===0&&M$(n,e,t)?{segmentGroup:new ht(n.segments,C$(n,e,t,n.children)),slicedSegments:e}:{segmentGroup:new ht(n.segments,n.children),slicedSegments:e}}function C$(n,i,e,t){let r={};for(let o of e)if(A8(n,i,o)&&!t[i2(o)]){let a=new ht([],{});r[i2(o)]=a}return P(P({},t),r)}function w$(n,i){let e={};e[Re]=i;for(let t of n)if(t.path===""&&i2(t)!==Re){let r=new ht([],{});e[i2(t)]=r}return e}function S$(n,i,e){return e.some(t=>A8(n,i,t)&&i2(t)!==Re)}function M$(n,i,e){return e.some(t=>A8(n,i,t))}function A8(n,i,e){return(n.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function E$(n,i,e){return i.length===0&&!n.children[e]}var xm=class{};function T$(n,i,e,t,r,o,a="emptyOnly"){return new Cm(n,i,e,t,r,a,o).recognize()}var I$=31,Cm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,t,r,o,a,s){this.injector=i,this.configLoader=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new _m(this.urlSerializer,this.urlTree)}noMatchError(i){return new q(4002,`'${i.segmentGroup}'`)}recognize(){let i=vS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(ye(({children:e,rootSnapshot:t})=>{let r=new pi(t,e),o=new Y4("",r),a=LS(t,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(i){let e=new Na([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Re,e).pipe(ye(t=>({children:t,rootSnapshot:e})),Qe(t=>{if(t instanceof X4)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof K4?this.noMatchError(t):t}))}processSegmentGroup(i,e,t,r,o){return t.segments.length===0&&t.hasChildren()?this.processChildren(i,e,t,o):this.processSegment(i,e,t,t.segments,r,!0,o).pipe(ye(a=>a instanceof pi?[a]:[]))}processChildren(i,e,t,r){let o=[];for(let a of Object.keys(t.children))a==="primary"?o.unshift(a):o.push(a);return ct(o).pipe(T1(a=>{let s=t.children[a],u=Hq(e,a);return this.processSegmentGroup(i,u,s,a,r)}),Tu((a,s)=>(a.push(...s),a)),Zr(null),Eu(),en(a=>{if(a===null)return b0(t);let s=WS(a);return D$(s),Z(s)}))}processSegment(i,e,t,r,o,a,s){return ct(e).pipe(T1(u=>this.processSegmentAgainstRoute(u._injector??i,e,u,t,r,o,a,s).pipe(Qe(m=>{if(m instanceof K4)return Z(null);throw m}))),rr(u=>!!u),Qe(u=>{if(HS(u))return E$(t,r,o)?Z(new xm):b0(t);throw u}))}processSegmentAgainstRoute(i,e,t,r,o,a,s,u){return i2(t)!==a&&(a===Re||!A8(r,o,t))?b0(r):t.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,t,o,a,u):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(i,r,e,t,o,a,u):b0(r)}expandSegmentAgainstRouteUsingRedirect(i,e,t,r,o,a,s){let{matched:u,parameters:m,consumedSegments:_,positionalParamSegments:y,remainingSegments:E}=$S(e,r,o);if(!u)return b0(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>I$&&(this.allowRedirects=!1));let I=new Na(o,m,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,yS(r),i2(r),r.component??r._loadedComponent??null,r,_S(r)),A=D8(I,s,this.paramsInheritanceStrategy);return I.params=Object.freeze(A.params),I.data=Object.freeze(A.data),this.applyRedirects.applyRedirectCommands(_,r.redirectTo,y,I,i).pipe(qt(F=>this.applyRedirects.lineralizeSegments(r,F)),en(F=>this.processSegment(i,t,e,F.concat(E),a,!1,s)))}matchSegmentAgainstRoute(i,e,t,r,o,a){let s=b$(e,t,r,i,this.urlSerializer);return t.path==="**"&&(e.children={}),s.pipe(qt(u=>u.matched?(i=t._injector??i,this.getChildConfig(i,t,r).pipe(qt(({routes:m})=>{let _=t._loadedInjector??i,{parameters:y,consumedSegments:E,remainingSegments:I}=u,A=new Na(E,y,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,yS(t),i2(t),t.component??t._loadedComponent??null,t,_S(t)),R=D8(A,a,this.paramsInheritanceStrategy);A.params=Object.freeze(R.params),A.data=Object.freeze(R.data);let{segmentGroup:F,slicedSegments:W}=vS(e,E,I,m);if(W.length===0&&F.hasChildren())return this.processChildren(_,m,F,A).pipe(ye(te=>new pi(A,te)));if(m.length===0&&W.length===0)return Z(new pi(A,[]));let ee=i2(t)===o;return this.processSegment(_,m,F,W,ee?Re:o,!0,A).pipe(ye(te=>new pi(A,te instanceof pi?[te]:[])))}))):b0(e)))}getChildConfig(i,e,t){return e.children?Z({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?Z({routes:e._loadedRoutes,injector:e._loadedInjector}):h$(i,e,t,this.urlSerializer).pipe(en(r=>r?this.configLoader.loadChildren(i,e).pipe($t(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):y$(e))):Z({routes:[],injector:i})}};function D$(n){n.sort((i,e)=>i.value.outlet===Re?-1:e.value.outlet===Re?1:i.value.outlet.localeCompare(e.value.outlet))}function z$(n){let i=n.value.routeConfig;return i&&i.path===""}function WS(n){let i=[],e=new Set;for(let t of n){if(!z$(t)){i.push(t);continue}let r=i.find(o=>t.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...t.children),e.add(r)):i.push(t)}for(let t of e){let r=WS(t.children);i.push(new pi(t.value,r))}return i.filter(t=>!e.has(t))}function yS(n){return n.data||{}}function _S(n){return n.resolve||{}}function L$(n,i,e,t,r,o){return en(a=>T$(n,i,e,t,a.extractedUrl,r,o).pipe(ye(({state:s,tree:u})=>ie(P({},a),{targetSnapshot:s,urlAfterRedirects:u}))))}function k$(n,i){return en(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return Z(e);let o=new Set(r.map(u=>u.route)),a=new Set;for(let u of o)if(!a.has(u))for(let m of GS(u))a.add(m);let s=0;return ct(a).pipe(T1(u=>o.has(u)?A$(u,t,n,i):(u.data=D8(u,u.parent,n).resolve,Z(void 0))),$t(()=>s++),Fs(1),en(u=>s===a.size?Z(e):Ln))})}function GS(n){let i=n.children.map(e=>GS(e)).flat();return[n,...i]}function A$(n,i,e,t){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!FS(r)&&(o[Z4]=r.title),nr(()=>(n.data=D8(n,n.parent,e).resolve,N$(o,n,i,t).pipe(ye(a=>(n._resolvedData=a,n.data=P(P({},n.data),a),null)))))}function N$(n,i,e,t){let r=dm(n);if(r.length===0)return Z({});let o={};return ct(r).pipe(en(a=>P$(n[a],i,e,t).pipe(rr(),$t(s=>{if(s instanceof D0)throw z8(new bo,s);o[a]=s}))),Fs(1),ye(()=>o),Qe(a=>HS(a)?Ln:h2(a)))}function P$(n,i,e,t){let r=L0(i)??t,o=k0(n,r),a=o.resolve?o.resolve(i,e):jn(r,()=>o(i,e));return xr(a)}function cm(n){return qt(i=>{let e=n(i);return e?ct(e).pipe(ye(()=>i)):Z(i)})}var Tm=(()=>{class n{buildTitle(e){let t,r=e.root;for(;r!==void 0;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(o=>o.outlet===Re);return t}getResolvedTitleForRoute(e){return e.data[Z4]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:()=>T(YS),providedIn:"root"})}return n})(),YS=(()=>{class n extends Tm{title;constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static \u0275fac=function(t){return new(t||n)(H(l8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wo=new G("",{providedIn:"root",factory:()=>({})}),Fa=new G(""),N8=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=T(pp);loadComponent(e,t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=xr(jn(e,()=>t.loadComponent())).pipe(ye(KS),qt(XS),$t(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Jr(()=>{this.componentLoaders.delete(t)})),o=new ks(r,()=>new Y).pipe(Ls());return this.componentLoaders.set(t,o),o}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return Z({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let o=QS(t,this.compiler,e,this.onLoadEndListener).pipe(Jr(()=>{this.childrenLoaders.delete(t)})),a=new ks(o,()=>new Y).pipe(Ls());return this.childrenLoaders.set(t,a),a}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QS(n,i,e,t){return xr(jn(e,()=>n.loadChildren())).pipe(ye(KS),qt(XS),en(r=>r instanceof w5||Array.isArray(r)?Z(r):ct(i.compileModuleAsync(r))),ye(r=>{t&&t(n);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(Fa,[],{optional:!0,self:!0}).flat()),{routes:a.map(Em),injector:o}}))}function O$(n){return n&&typeof n=="object"&&"default"in n}function KS(n){return O$(n)?n.default:n}function XS(n){return Z(n)}var P8=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:()=>T(R$),providedIn:"root"})}return n})(),R$=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Im=new G(""),Dm=new G("");function ZS(n,i,e){let t=n.get(Dm),r=n.get(J);if(!r.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o,a=new Promise(m=>{o=m}),s=r.startViewTransition(()=>(o(),F$(n)));s.ready.catch(m=>{});let{onViewTransitionCreated:u}=t;return u&&jn(n,()=>u({transition:s,from:i,to:e})),a}function F$(n){return new Promise(i=>{Sn({read:()=>setTimeout(i)},{injector:n})})}var zm=new G(""),O8=(()=>{class n{currentNavigation=_t(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Y;transitionAbortWithErrorSubject=new Y;configLoader=T(N8);environmentInjector=T(Lt);destroyRef=T(t1);urlSerializer=T(Oa);rootContexts=T(Ra);location=T(L2);inputBindingEnabled=T(ec,{optional:!0})!==null;titleStrategy=T(Tm);options=T(wo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=T(P8);createViewTransition=T(Im,{optional:!0});navigationErrorHandler=T(zm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new x8(r)),t=r=>this.events.next(new C8(r));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;Nn(()=>{this.transitions?.next(ie(P({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:t}))})}setupNavigations(e){return this.transitions=new Ht(null),this.transitions.pipe(be(t=>t!==null),qt(t=>{let r=!1;return Z(t).pipe(qt(o=>{if(this.navigationId>t.id)return this.cancelNavigationTransition(t,"",N1.SupersededByNewNavigation),Ln;this.currentTransition=t,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ie(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new P2(o.id,this.urlSerializer.serialize(o.rawUrl),"",M0.IgnoredSameUrlNavigation)),o.resolve(!1),Ln;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Z(o).pipe(qt(u=>(this.events.next(new Co(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ln:Promise.resolve(u))),L$(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),$t(u=>{t.targetSnapshot=u.targetSnapshot,t.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(_=>(_.finalUrl=u.urlAfterRedirects,_));let m=new $4(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:m,source:_,restoredState:y,extras:E}=o,I=new Co(u,this.urlSerializer.serialize(m),_,y);this.events.next(I);let A=OS(this.rootComponentType).snapshot;return this.currentTransition=t=ie(P({},o),{targetSnapshot:A,urlAfterRedirects:m,extras:ie(P({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=m,R)),Z(t)}else return this.events.next(new P2(o.id,this.urlSerializer.serialize(o.extractedUrl),"",M0.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ln}),$t(o=>{let a=new v8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ye(o=>(this.currentTransition=t=ie(P({},o),{guards:Kq(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),t)),s$(this.environmentInjector,o=>this.events.next(o)),$t(o=>{if(t.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw z8(this.urlSerializer,o.guardsResult);let a=new y8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),be(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",N1.GuardRejected),!1)),cm(o=>{if(o.guards.canActivateChecks.length!==0)return Z(o).pipe($t(a=>{let s=new _8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),qt(a=>{let s=!1;return Z(a).pipe(k$(this.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",N1.NoDataFromResolver)}}))}),$t(a=>{let s=new b8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),cm(o=>{let a=s=>{let u=[];if(s.routeConfig?.loadComponent){let m=L0(s)??this.environmentInjector;u.push(this.configLoader.loadComponent(m,s.routeConfig).pipe($t(_=>{s.component=_}),ye(()=>{})))}for(let m of s.children)u.push(...a(m));return u};return fa(a(o.targetSnapshot.root)).pipe(Zr(null),We(1))}),cm(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:o,targetSnapshot:a}=t,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?ct(s).pipe(ye(()=>t)):Z(t)}),ye(o=>{let a=$q(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=t=ie(P({},o),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),t}),$t(()=>{this.events.next(new W4)}),Qq(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),We(1),lt(new Te(o=>{let a=t.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(be(()=>!r&&!t.targetRouterState),$t(()=>{this.cancelNavigationTransition(t,t.abortController.signal.reason+"",N1.Aborted)}))),$t({next:o=>{r=!0,this.lastSuccessfulNavigation=Nn(this.currentNavigation),this.events.next(new P1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),lt(this.transitionAbortWithErrorSubject.pipe($t(o=>{throw o}))),Jr(()=>{r||this.cancelNavigationTransition(t,"",N1.SupersededByNewNavigation),this.currentTransition?.id===t.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Qe(o=>{if(this.destroyed)return t.resolve(!1),Ln;if(r=!0,jS(o))this.events.next(new A2(t.id,this.urlSerializer.serialize(t.extractedUrl),o.message,o.cancellationCode)),Yq(o)?this.events.next(new I0(o.url,o.navigationBehaviorOptions)):t.resolve(!1);else{let a=new E0(t.id,this.urlSerializer.serialize(t.extractedUrl),o,t.targetSnapshot??void 0);try{let s=jn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof D0){let{message:u,cancellationCode:m}=z8(this.urlSerializer,s);this.events.next(new A2(t.id,this.urlSerializer.serialize(t.extractedUrl),u,m)),this.events.next(new I0(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(s){this.options.resolveNavigationPromiseOnError?t.resolve(!1):t.reject(s)}}return Ln}))}))}cancelNavigationTransition(e,t,r){let o=new A2(e.id,this.urlSerializer.serialize(e.extractedUrl),t,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=Nn(this.currentNavigation),r=t?.targetBrowserUrl??t?.extractedUrl;return e.toString()!==r?.toString()&&!t?.extras.skipLocationChange}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B$(n){return n!==w0}var JS=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:()=>T(V$),providedIn:"root"})}return n})(),k8=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},V$=(()=>{class n extends k8{static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eM=(()=>{class n{urlSerializer=T(Oa);options=T(wo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=T(L2);urlHandlingStrategy=T(P8);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new N2;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:t,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,t):t,a=r??o;return a instanceof N2?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:t,initialUrl:r}){t&&e?(this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(t,r),this.routerState=e):this.rawUrlTree=r}routerState=OS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:()=>T(U$),providedIn:"root"})}return n})(),U$=(()=>{class n extends eM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&setTimeout(()=>{e(t.url,t.state,"popstate")})})}handleRouterEvent(e,t){e instanceof Co?this.updateStateMemento():e instanceof P2?this.commitTransition(t):e instanceof $4?this.urlUpdateStrategy==="eager"&&(t.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(t),t)):e instanceof W4?(this.commitTransition(t),this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(t),t)):e instanceof A2&&e.code!==N1.SupersededByNewNavigation&&e.code!==N1.Redirect?this.restoreHistory(t):e instanceof E0?this.restoreHistory(t,!0):e instanceof P1&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:t,id:r}){let{replaceUrl:o,state:a}=t;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,u=P(P({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",u)}else{let s=P(P({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R8(n,i){n.events.pipe(be(e=>e instanceof P1||e instanceof A2||e instanceof E0||e instanceof P2),ye(e=>e instanceof P1||e instanceof P2?0:(e instanceof A2?e.code===N1.Redirect||e.code===N1.SupersededByNewNavigation:!1)?2:1),be(e=>e!==2),We(1)).subscribe(()=>{i()})}var j$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=T(E5);stateManager=T(eM);options=T(wo,{optional:!0})||{};pendingTasks=T(S2);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=T(O8);urlSerializer=T(Oa);location=T(L2);urlHandlingStrategy=T(P8);injector=T(Lt);_events=new Y;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=T(JS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=T(Fa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!T(ec,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let r=this.navigationTransitions.currentTransition,o=Nn(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(t,o),t instanceof A2&&t.code!==N1.Redirect&&t.code!==N1.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof P1)this.navigated=!0;else if(t instanceof I0){let a=t.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(t.url,r.currentRawUrl),u=P({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||B$(r.source)},a);this.scheduleNavigation(s,w0,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Uq(t)&&this._events.next(t)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),w0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t,r)=>{this.navigateToSyncWithBrowser(e,r,t)})}navigateToSyncWithBrowser(e,t,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let u=P({},r);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let s=this.parseUrl(e);this.scheduleNavigation(s,t,a,o).catch(u=>{this.disposed||this.injector.get(H1)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Nn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Em),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:u}=t,m=u?this.currentUrlTree.fragment:a,_=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":_=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=o||null}_!==null&&(_=this.removeEmptyProps(_));let y;try{let E=r?r.snapshot:this.routerState.snapshot.root;y=kS(E)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),y=this.currentUrlTree.root}return AS(y,e,_,m??null)}navigateByUrl(e,t={skipLocationChange:!1}){let r=xo(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,w0,null,t)}navigate(e,t={skipLocationChange:!1}){return q$(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(xi(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,t){let r;if(t===!0?r=P({},j$):t===!1?r=P({},H$):r=t,xo(e))return pS(this.currentUrlTree,e,r);let o=this.parseUrl(e);return pS(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((t,[r,o])=>(o!=null&&(t[r]=o),t),{})}scheduleNavigation(e,t,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,u,m;a?(s=a.resolve,u=a.reject,m=a.promise):m=new Promise((y,E)=>{s=y,u=E});let _=this.pendingTasks.add();return R8(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:u,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q$(n){for(let i=0;i<n.length;i++)if(n[i]==null)throw new q(4008,!1)}var Y1=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_t(null);get href(){return Nn(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Y;applicationErrorHandler=T(H1);options=T(wo,{optional:!0});constructor(e,t,r,o,a,s){this.router=e,this.route=t,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(T(new N5("href"),{optional:!0}));let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,t=r=>r==="merge"||r==="preserve";e||=t(this.queryParamsHandling),e||=!this.queryParamsHandling&&!t(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof P1&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xo(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,t,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||t||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,u)?.catch(m=>{this.applicationErrorHandler(m)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,t){let r=this.renderer,o=this.el.nativeElement;t!==null?r.setAttribute(o,e,t):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:xo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(t){return new(t||n)(D(gt),D(m1),o4("tabindex"),D(sn),D(Me),D(t2))};static \u0275dir=de({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(t,r){t&1&&C("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),t&2&&Et("href",r.reactiveHref(),L9)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",an],skipLocationChange:[2,"skipLocationChange","skipLocationChange",an],replaceUrl:[2,"replaceUrl","replaceUrl",an],routerLink:"routerLink"},features:[dt]})}return n})(),km=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new K;constructor(e,t,r,o,a){this.router=e,this.element=t,this.renderer=r,this.cdr=o,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof P1&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(g2()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=ct(e).pipe(g2()).subscribe(t=>{this._isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(e){let t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let t=$$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,t):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(t){return new(t||n)(D(gt),D(Me),D(sn),D(yn),D(Y1,8))};static \u0275dir=de({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(t&1&&za(o,Y1,5),t&2){let a;ft(a=pt())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[dt]})}return n})();function $$(n){return!!n.paths}var nc=class{};var tM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,t,r,o){this.router=e,this.injector=t,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(be(e=>e instanceof P1),T1(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){let r=[];for(let o of t){o.providers&&!o._injector&&(o._injector=d0(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return ct(r).pipe(g2())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{let r;t.loadChildren&&t.canLoad===void 0?r=this.loader.loadChildren(e,t):r=Z(null);let o=r.pipe(en(a=>a===null?Z(void 0):(t._loadedRoutes=a.routes,t._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(t.loadComponent&&!t._loadedComponent){let a=this.loader.loadComponent(e,t);return ct([o,a]).pipe(g2())}else return o})}static \u0275fac=function(t){return new(t||n)(H(gt),H(Lt),H(nc),H(N8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nM=new G(""),W$=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=w0;restoredId=0;store={};constructor(e,t,r,o,a={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof P1?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof P2&&e.code===M0.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof T0))return;let t={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],t):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,t):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,t){this.zone.runOutsideAngular(()=>si(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new T0(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,t))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(t){u4()};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function Am(n,...i){return _2([{provide:Fa,multi:!0,useValue:n},[],{provide:m1,useFactory:iM,deps:[gt]},{provide:h4,multi:!0,useFactory:rM},i.map(e=>e.\u0275providers)])}function iM(n){return n.routerState.root}function ic(n,i){return{\u0275kind:n,\u0275providers:i}}function rM(){let n=T(fe);return i=>{let e=n.get(gn);if(i!==e.components[0])return;let t=n.get(gt),r=n.get(oM);n.get(Nm)===1&&t.initialNavigation(),n.get(cM,null,{optional:!0})?.setUpPreloading(),n.get(nM,null,{optional:!0})?.init(),t.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var oM=new G("",{factory:()=>new Y}),Nm=new G("",{providedIn:"root",factory:()=>1});function aM(){let n=[{provide:f5,useValue:!0},{provide:Nm,useValue:0},I5(()=>{let i=T(fe);return i.get(Tp,Promise.resolve()).then(()=>new Promise(t=>{let r=i.get(gt),o=i.get(oM);R8(r,()=>{t(!0)}),i.get(O8).afterPreactivation=()=>(t(!0),o.closed?Z(void 0):o),r.initialNavigation()}))})];return ic(2,n)}function sM(){let n=[I5(()=>{T(gt).setUpLocationChangeListener()}),{provide:Nm,useValue:2}];return ic(3,n)}var cM=new G("");function lM(n){return ic(0,[{provide:cM,useExisting:tM},{provide:nc,useExisting:n}])}function dM(){return ic(8,[Sm,{provide:ec,useExisting:Sm}])}function uM(n){Ei("NgRouterViewTransitions");let i=[{provide:Im,useValue:ZS},{provide:Dm,useValue:P({skipNextTransition:!!n?.skipInitialTransition},n)}];return ic(9,i)}var fM=[L2,{provide:Oa,useClass:bo},gt,Ra,{provide:m1,useFactory:iM,deps:[gt]},N8,[]],Ba=(()=>{class n{constructor(){}static forRoot(e,t){return{ngModule:n,providers:[fM,[],{provide:Fa,multi:!0,useValue:e},[],t?.errorHandler?{provide:zm,useValue:t.errorHandler}:[],{provide:wo,useValue:t||{}},t?.useHash?Y$():Q$(),G$(),t?.preloadingStrategy?lM(t.preloadingStrategy).\u0275providers:[],t?.initialNavigation?K$(t):[],t?.bindToComponentInputs?dM().\u0275providers:[],t?.enableViewTransitions?uM().\u0275providers:[],X$()]}}static forChild(e){return{ngModule:n,providers:[{provide:Fa,multi:!0,useValue:e}]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({})}return n})();function G$(){return{provide:nM,useFactory:()=>{let n=T(jw),i=T(ce),e=T(wo),t=T(O8),r=T(Oa);return e.scrollOffset&&n.setOffset(e.scrollOffset),new W$(r,t,n,i,e)}}}function Y$(){return{provide:t2,useClass:Np}}function Q$(){return{provide:t2,useClass:U5}}function K$(n){return[n.initialNavigation==="disabled"?sM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?aM().\u0275providers:[]]}var Lm=new G("");function X$(){return[{provide:Lm,useFactory:rM},{provide:h4,multi:!0,useExisting:Lm}]}var cn="assets/images/default-avatar.png",pM="assets/images/default-multi-user.png";function F8(n,i){return`https://www.tradingview.com/chart/?symbol=${n}%3A${i}`}function mM(n){return`https://www.screener.in/company/${n}`}function hM(n,i){return`https://finance.yahoo.com/quote/${n}.${i}`}function rc(n){return`https://coin.zerodha.com/mf/fund/${n}`}var SM=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,t){this._renderer=e,this._elementRef=t}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(t){return new(t||n)(D(sn),D(Me))};static \u0275dir=de({type:n})}return n})(),O0=(()=>{class n extends SM{static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,features:[ut]})}return n})(),Cr=new G(""),Z$={provide:Cr,useExisting:Cn(()=>wr),multi:!0},wr=(()=>{class n extends O0{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){t&1&&C("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[tn([Z$]),ut]})}return n})(),J$={provide:Cr,useExisting:Cn(()=>it),multi:!0};function eW(){let n=ui()?ui().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var tW=new G(""),it=(()=>{class n extends SM{_compositionMode;_composing=!1;constructor(e,t,r){super(e,t),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!eW())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(t){return new(t||n)(D(sn),D(Me),D(tW,8))};static \u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){t&1&&C("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[tn([J$]),ut]})}return n})();function Bm(n){return n==null||Vm(n)===0}function Vm(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Mo=new G(""),K8=new G(""),nW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pe=class{static min(i){return MM(i)}static max(i){return EM(i)}static required(i){return TM(i)}static requiredTrue(i){return iW(i)}static email(i){return rW(i)}static minLength(i){return oW(i)}static maxLength(i){return IM(i)}static pattern(i){return aW(i)}static nullValidator(i){return V8()}static compose(i){return NM(i)}static composeAsync(i){return OM(i)}};function MM(n){return i=>{if(i.value==null||n==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e<n?{min:{min:n,actual:i.value}}:null}}function EM(n){return i=>{if(i.value==null||n==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e>n?{max:{max:n,actual:i.value}}:null}}function TM(n){return Bm(n.value)?{required:!0}:null}function iW(n){return n.value===!0?null:{required:!0}}function rW(n){return Bm(n.value)||nW.test(n.value)?null:{email:!0}}function oW(n){return i=>{let e=i.value?.length??Vm(i.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function IM(n){return i=>{let e=i.value?.length??Vm(i.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function aW(n){if(!n)return V8;let i,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=n.toString(),i=n),t=>{if(Bm(t.value))return null;let r=t.value;return i.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function V8(n){return null}function DM(n){return n!=null}function zM(n){return mo(n)?ct(n):n}function LM(n){let i={};return n.forEach(e=>{i=e!=null?P(P({},i),e):i}),Object.keys(i).length===0?null:i}function kM(n,i){return i.map(e=>e(n))}function sW(n){return!n.validate}function AM(n){return n.map(i=>sW(i)?i:e=>i.validate(e))}function NM(n){if(!n)return null;let i=n.filter(DM);return i.length==0?null:function(e){return LM(kM(e,i))}}function PM(n){return n!=null?NM(AM(n)):null}function OM(n){if(!n)return null;let i=n.filter(DM);return i.length==0?null:function(e){let t=kM(e,i).map(zM);return z3(t).pipe(ye(LM))}}function RM(n){return n!=null?OM(AM(n)):null}function gM(n,i){return n===null?[i]:Array.isArray(n)?[...n,i]:[n,i]}function FM(n){return n._rawValidators}function BM(n){return n._rawAsyncValidators}function Pm(n){return n?Array.isArray(n)?n:[n]:[]}function U8(n,i){return Array.isArray(n)?n.includes(i):n===i}function vM(n,i){let e=Pm(i);return Pm(n).forEach(r=>{U8(e,r)||e.push(r)}),e}function yM(n,i){return Pm(i).filter(e=>!U8(n,e))}var j8=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=PM(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=RM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},Ua=class extends j8{name;get formDirective(){return null}get path(){return null}},R2=class extends j8{_parent=null;name=null;valueAccessor=null},H8=class{_cd;constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qve=ie(P({},cW),{"[class.ng-submitted]":"isSubmitted"}),rt=(()=>{class n extends H8{constructor(e){super(e)}static \u0275fac=function(t){return new(t||n)(D(R2,2))};static \u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){t&2&&ne("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ut]})}return n})(),h1=(()=>{class n extends H8{constructor(e){super(e)}static \u0275fac=function(t){return new(t||n)(D(Ua,10))};static \u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){t&2&&ne("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ut]})}return n})();var oc="VALID",B8="INVALID",A0="PENDING",ac="DISABLED",So=class{},q8=class extends So{value;source;constructor(i,e){super(),this.value=i,this.source=e}},sc=class extends So{pristine;source;constructor(i,e){super(),this.pristine=i,this.source=e}},cc=class extends So{touched;source;constructor(i,e){super(),this.touched=i,this.source=e}},N0=class extends So{status;source;constructor(i,e){super(),this.status=i,this.source=e}},Om=class extends So{source;constructor(i){super(),this.source=i}},lc=class extends So{source;constructor(i){super(),this.source=i}};function Um(n){return(X8(n)?n.validators:n)||null}function lW(n){return Array.isArray(n)?PM(n):n||null}function jm(n,i){return(X8(i)?i.asyncValidators:n)||null}function dW(n){return Array.isArray(n)?RM(n):n||null}function X8(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function VM(n,i,e){let t=n.controls;if(!(i?Object.keys(t):t).length)throw new q(1e3,"");if(!t[e])throw new q(1001,"")}function UM(n,i,e){n._forEachChild((t,r)=>{if(e[r]===void 0)throw new q(1002,"")})}var P0=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(i,e){this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return Nn(this.statusReactive)}set status(i){Nn(()=>this.statusReactive.set(i))}_status=yr(()=>this.statusReactive());statusReactive=_t(void 0);get valid(){return this.status===oc}get invalid(){return this.status===B8}get pending(){return this.status==A0}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}errors;get pristine(){return Nn(this.pristineReactive)}set pristine(i){Nn(()=>this.pristineReactive.set(i))}_pristine=yr(()=>this.pristineReactive());pristineReactive=_t(!0);get dirty(){return!this.pristine}get touched(){return Nn(this.touchedReactive)}set touched(i){Nn(()=>this.touchedReactive.set(i))}_touched=yr(()=>this.touchedReactive());touchedReactive=_t(!1);get untouched(){return!this.touched}_events=new Y;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(vM(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(vM(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(yM(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(yM(i,this._rawAsyncValidators))}hasValidator(i){return U8(this._rawValidators,i)}hasAsyncValidator(i){return U8(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let t=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(ie(P({},i),{sourceControl:t})),e&&i.emitEvent!==!1&&this._events.next(new cc(!0,t))}markAllAsDirty(i={}){this.markAsDirty({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(i))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:t})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,t),e&&i.emitEvent!==!1&&this._events.next(new cc(!1,t))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let t=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(ie(P({},i),{sourceControl:t})),e&&i.emitEvent!==!1&&this._events.next(new sc(!1,t))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,t),e&&i.emitEvent!==!1&&this._events.next(new sc(!0,t))}markAsPending(i={}){this.status=A0;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new N0(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(ie(P({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=ac,this.errors=null,this._forEachChild(r=>{r.disable(ie(P({},i),{onlySelf:!0}))}),this._updateValue();let t=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new q8(this.value,t)),this._events.next(new N0(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(P({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=oc,this._forEachChild(t=>{t.enable(ie(P({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(ie(P({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oc||this.status===A0)&&this._runAsyncValidator(t,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new q8(this.value,e)),this._events.next(new N0(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(ie(P({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=A0,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:i!==!1};let t=zM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((t,r)=>t&&t._find(r),this)}getError(i,e){let t=e?this.get(e):this;return t&&t.errors?t.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,t){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||t)&&this._events.next(new N0(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,t)}_initObservables(){this.valueChanges=new K,this.statusChanges=new K}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?B8:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(A0)?A0:this._anyControlsHaveStatus(B8)?B8:oc}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),r&&this._events.next(new sc(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new cc(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_onDisabledChange=[];_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){X8(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=lW(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=dW(this._rawAsyncValidators)}},$8=class extends P0{constructor(i,e,t){super(Um(e),jm(t,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,t={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){UM(this,!0,i),Object.keys(i).forEach(t=>{VM(this,!0,t),this.controls[t].setValue(i[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(t=>{let r=this.controls[t];r&&r.patchValue(i[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((t,r)=>{t.reset(i?i[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new lc(this))}getRawValue(){return this._reduceChildren({},(i,e,t)=>(i[t]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,t)=>t._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let t=this.controls[e];t&&i(t,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,t]of Object.entries(this.controls))if(this.contains(e)&&i(t))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(i,e){let t=i;return this._forEachChild((r,o)=>{t=e(t,r,o)}),t}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var Rm=class extends $8{};var R0=new G("",{providedIn:"root",factory:()=>dc}),dc="always";function jM(n,i){return[...i.path,n]}function W8(n,i,e=dc){Hm(n,i),i.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(n.disabled),fW(n,i),mW(n,i),pW(n,i),uW(n,i)}function G8(n,i,e=!0){let t=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(t),i.valueAccessor.registerOnTouched(t)),Q8(n,i),n&&(i._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Y8(n,i){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function uW(n,i){if(i.valueAccessor.setDisabledState){let e=t=>{i.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(e),i._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Hm(n,i){let e=FM(n);i.validator!==null?n.setValidators(gM(e,i.validator)):typeof e=="function"&&n.setValidators([e]);let t=BM(n);i.asyncValidator!==null?n.setAsyncValidators(gM(t,i.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let r=()=>n.updateValueAndValidity();Y8(i._rawValidators,r),Y8(i._rawAsyncValidators,r)}function Q8(n,i){let e=!1;if(n!==null){if(i.validator!==null){let r=FM(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==i.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(i.asyncValidator!==null){let r=BM(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==i.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let t=()=>{};return Y8(i._rawValidators,t),Y8(i._rawAsyncValidators,t),e}function fW(n,i){i.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&HM(n,i)})}function pW(n,i){i.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&HM(n,i),n.updateOn!=="submit"&&n.markAsTouched()})}function HM(n,i){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mW(n,i){let e=(t,r)=>{i.valueAccessor.writeValue(t),r&&i.viewToModelUpdate(t)};n.registerOnChange(e),i._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function hW(n,i){n==null,Hm(n,i)}function gW(n,i){return Q8(n,i)}function qm(n,i){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function vW(n){return Object.getPrototypeOf(n.constructor)===O0}function yW(n,i){n._syncPendingControls(),i.forEach(e=>{let t=e.control;t.updateOn==="submit"&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function $m(n,i){if(!i)return null;Array.isArray(i);let e,t,r;return i.forEach(o=>{o.constructor===it?e=o:vW(o)?t=o:r=o}),r||t||e||null}function _W(n,i){let e=n.indexOf(i);e>-1&&n.splice(e,1)}function _M(n,i){let e=n.indexOf(i);e>-1&&n.splice(e,1)}function bM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Va=class extends P0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(i=null,e,t){super(Um(e),jm(t,e)),this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),X8(e)&&(e.nonNullable||e.initialValueIsDefault)&&(bM(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new lc(this))}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){_M(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){_M(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){bM(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var bW=n=>n instanceof Va;var xW={provide:R2,useExisting:Cn(()=>On)},xM=Promise.resolve(),On=(()=>{class n extends R2{_changeDetectorRef;callSetDisabledState;control=new Va;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new K;constructor(e,t,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=$m(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),qm(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){W8(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){xM.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let t=e.isDisabled.currentValue,r=t!==0&&an(t);xM.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?jM(e,this._parent):[e]}static \u0275fac=function(t){return new(t||n)(D(Ua,9),D(Mo,10),D(K8,10),D(Cr,10),D(yn,8),D(R0,8))};static \u0275dir=de({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[tn([xW]),ut,dt]})}return n})();var g1=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),CW={provide:Cr,useExisting:Cn(()=>ja),multi:!0},ja=(()=>{class n extends O0{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(t==""?null:parseFloat(t))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){t&1&&C("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[tn([CW]),ut]})}return n})(),wW={provide:Cr,useExisting:Cn(()=>uc),multi:!0};var SW=(()=>{class n{_accessors=[];add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e){this._accessors.splice(t,1);return}}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return e[0].control?e[0]._parent===t._control._parent&&e[1].name===t.name:!1}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uc=(()=>{class n extends O0{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=T(R0,{optional:!0})??dc;constructor(e,t,r,o){super(e,t),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(R2),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(t){return new(t||n)(D(sn),D(Me),D(SW),D(fe))};static \u0275dir=de({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){t&1&&C("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[tn([wW]),ut]})}return n})();var Wm=new G(""),MW={provide:R2,useExisting:Cn(()=>Gm)},Gm=(()=>{class n extends R2{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new K;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,t,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=$m(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let t=e.form.previousValue;t&&G8(t,this,!1),W8(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}qm(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&G8(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(t){return new(t||n)(D(Mo,10),D(K8,10),D(Cr,10),D(Wm,8),D(R0,8))};static \u0275dir=de({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[tn([MW]),ut,dt]})}return n})(),EW={provide:Ua,useExisting:Cn(()=>n1)},n1=(()=>{class n extends Ua{callSetDisabledState;get submitted(){return Nn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=yr(()=>this._submittedReactive());_submittedReactive=_t(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new K;constructor(e,t,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Q8(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return W8(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){G8(e.control||null,e,!1),_W(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),yW(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Om(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,t={}){this.form.reset(e,t),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let t=e.control,r=this.form.get(e.path);t!==r&&(G8(t||null,e),bW(r)&&(W8(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);hW(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&gW(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hm(this.form,this),this._oldForm&&Q8(this._oldForm,this)}static \u0275fac=function(t){return new(t||n)(D(Mo,10),D(K8,10),D(R0,8))};static \u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){t&1&&C("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[tn([EW]),ut,dt]})}return n})();var TW={provide:R2,useExisting:Cn(()=>i1)},i1=(()=>{class n extends R2{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new K;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,t,r,o,a){super(),this._ngModelWarningConfig=a,this._parent=e,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=$m(this,o)}ngOnChanges(e){this._added||this._setUpControl(),qm(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return jM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(t){return new(t||n)(D(Ua,13),D(Mo,10),D(K8,10),D(Cr,10),D(Wm,8))};static \u0275dir=de({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[tn([TW]),ut,dt]})}return n})();var IW={provide:Cr,useExisting:Cn(()=>Q1),multi:!0};function qM(n,i){return n==null?`${i}`:(i&&typeof i=="object"&&(i="Object"),`${n}: ${i}`.slice(0,50))}function DW(n){return n.split(":")[0]}var Q1=(()=>{class n extends O0{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=T(gn).injector;destroyRef=T(t1);cdr=T(yn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Sn({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let t=this._getOptionId(e),r=qM(t,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){let t=DW(e);return this._optionMap.has(t)?this._optionMap.get(t):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){t&1&&C("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tn([IW]),ut]})}return n})(),Di=(()=>{class n{_element;_renderer;_select;id;constructor(e,t,r){this._element=e,this._renderer=t,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(qM(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(t){return new(t||n)(D(Me),D(sn),D(Q1,9))};static \u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),zW={provide:Cr,useExisting:Cn(()=>$M),multi:!0};function CM(n,i){return n==null?`${i}`:(typeof i=="string"&&(i=`'${i}'`),i&&typeof i=="object"&&(i="Object"),`${n}: ${i}`.slice(0,50))}function LW(n){return n.split(":")[0]}var $M=(()=>{class n extends O0{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let t;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));t=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else t=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{let r=[],o=t.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let u=a[s],m=this._getOptionValue(u.value);r.push(m)}}else{let a=t.options;for(let s=0;s<a.length;s++){let u=a[s];if(u.selected){let m=this._getOptionValue(u.value);r.push(m)}}}this.value=r,e(r)}}_registerOption(e){let t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){let t=LW(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){t&1&&C("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tn([zW]),ut]})}return n})(),zi=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,t,r){this._element=e,this._renderer=t,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(CM(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(CM(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(t){return new(t||n)(D(Me),D(sn),D($M,9))};static \u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function kW(n){return typeof n=="number"?n:parseInt(n,10)}function WM(n){return typeof n=="number"?n:parseFloat(n)}var Z8=(()=>{class n{_validator=V8;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):V8,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,features:[dt]})}return n})(),AW={provide:Mo,useExisting:Cn(()=>Ym),multi:!0},Ym=(()=>{class n extends Z8{max;inputName="max";normalizeInput=e=>WM(e);createValidator=e=>EM(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){t&2&&Et("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[tn([AW]),ut]})}return n})(),NW={provide:Mo,useExisting:Cn(()=>Ha),multi:!0},Ha=(()=>{class n extends Z8{min;inputName="min";normalizeInput=e=>WM(e);createValidator=e=>MM(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){t&2&&Et("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[tn([NW]),ut]})}return n})(),PW={provide:Mo,useExisting:Cn(()=>O1),multi:!0};var O1=(()=>{class n extends Z8{required;inputName="required";normalizeInput=an;createValidator=e=>TM;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){t&2&&Et("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[tn([PW]),ut]})}return n})();var OW={provide:Mo,useExisting:Cn(()=>qa),multi:!0},qa=(()=>{class n extends Z8{maxlength;inputName="maxlength";normalizeInput=e=>kW(e);createValidator=e=>IM(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275dir=de({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){t&2&&Et("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[tn([OW]),ut]})}return n})();var GM=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({})}return n})(),Fm=class extends P0{constructor(i,e,t){super(Um(e),jm(t,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(i){return this.controls[this._adjustIndex(i)]}push(i,e={}){Array.isArray(i)?i.forEach(t=>{this.controls.push(t),this._registerControl(t)}):(this.controls.push(i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,t={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(i,e={}){let t=this._adjustIndex(i);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,t={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){UM(this,!1,i),i.forEach((t,r)=>{VM(this,!1,r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(i.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((t,r)=>{t.reset(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new lc(this))}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((e,t)=>t._syncPendingControls()?!0:e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((e,t)=>{i(e,t)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(let i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}};function wM(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var v1=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,t=null){let r=this._reduceControls(e),o={};return wM(t)?o=t:t!==null&&(o.validators=t.validator,o.asyncValidators=t.asyncValidator),new $8(r,o)}record(e,t=null){let r=this._reduceControls(e);return new Rm(r,t)}control(e,t,r){let o={};return this.useNonNullable?(wM(t)?o=t:(o.validators=t,o.asyncValidators=r),new Va(e,ie(P({},o),{nonNullable:!0}))):new Va(e,t,r)}array(e,t,r){let o=e.map(a=>this._createControl(a));return new Fm(o,t,r)}_reduceControls(e){let t={};return Object.keys(e).forEach(r=>{t[r]=this._createControl(e[r])}),t}_createControl(e){if(e instanceof Va)return e;if(e instanceof P0)return e;if(Array.isArray(e)){let t=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(t,r,o)}else return this.control(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:R0,useValue:e.callSetDisabledState??dc}]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({imports:[GM]})}return n})(),ln=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Wm,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:R0,useValue:e.callSetDisabledState??dc}]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({imports:[GM]})}return n})();var Eo=(()=>{let i=class i{constructor(){this.config={};let t=window.location.hostname;this.environment=t==="localhost"?"dev":"prod"}loadConfig(){this.config={dev:{baseUrl:"http://localhost:8090/rest",wsUrl:"http://localhost:8090/ws"},prod:{baseUrl:"/rest",wsUrl:"/ws"}}}getConfig(){return this.config[this.environment]}getEnvironment(){return this.environment}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Ye=(()=>{let i=class i{constructor(t,r){this.http=t,this.appProperties=r,this.baseUrl="",this.baseUrl=this.appProperties.getConfig().baseUrl}formatErrors(t){return h2(()=>t)}get(t,r={}){return this.http.get(`${this.baseUrl}${t}`,r).pipe(Qe(this.formatErrors))}post(t,r={},o={}){return console.log(`API POST: ${this.baseUrl}${t}`,r),this.http.post(`${this.baseUrl}${t}`,r,o).pipe(Qe(this.formatErrors))}put(t,r={},o={}){return this.http.put(`${this.baseUrl}${t}`,r,o).pipe(Qe(this.formatErrors))}delete(t,r={}){return this.http.delete(`${this.baseUrl}${t}`,r).pipe(Qe(this.formatErrors))}patch(t,r={},o={}){return this.http.patch(`${this.baseUrl}${t}`,r,o).pipe(Qe(this.formatErrors))}};i.\u0275fac=function(r){return new(r||i)(H(yo),H(Eo))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Hn=(()=>{let i=class i{constructor(t){this.api=t}onboardTradingAccount(t){return this.api.post("/v1/accounts",t)}updateTradingAccount(t,r){return this.api.put(`/v1/accounts/${t}`,r)}deleteTradingAccount(t){return this.api.delete(`/v1/accounts/${t}`)}unmapTradingAccount(t){return this.api.patch(`/v1/accounts/${t}/unmap`)}mapTradingAccount(t){return this.api.patch(`/v1/accounts/${t}/map`)}getTradingAccount(t){return this.api.get(`/v1/accounts/${t}`)}getTradingAccounts(){return this.api.get("/v1/accounts/profiles")}renewTokensForAll(){return this.api.post("/v1/accounts/renew-request-tokens")}getTotp(t){return this.api.get(`/v1/accounts/${t}/totp`)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Dt=(()=>{let i=class i{constructor(){this.key="userDataState"}getState(){let t=localStorage.getItem(this.key);return JSON.parse(t||"{}")}setState(t){let r=this.getState(),o=P(P({},r),t);localStorage.setItem(this.key,JSON.stringify(o))}clearState(){localStorage.removeItem(this.key)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function RW(n,i){if(n&1&&(c(0,"div",1),M(1,"img",10),l()),n&2){let e=i.$implicit,t=g(2);d(),p("ngSrc",t.getAvatarUrl(e)||t.fallbackAvatarUrl)("alt",t.getUserName(e))("title",t.getUserName(e))}}function FW(n,i){if(n&1&&(c(0,"div",1),M(1,"img",11),l()),n&2){let e=g(2);d(),p("ngSrc",e.multiUserAvatarUrl)}}function BW(n,i){if(n&1&&(c(0,"span",12),f(1),l()),n&2){let e=g(2);d(),k(" ",e.selectedUserIds.length," ")}}function VW(n,i){n&1&&(c(0,"span",24),f(1,"\u2713"),l())}function UW(n,i){n&1&&(c(0,"div",25),f(1," No users found "),l())}function jW(n,i){n&1&&(c(0,"div",34),f(1," Token Invalid "),l())}function HW(n,i){n&1&&(c(0,"span",35),f(1,"\u2713"),l())}function qW(n,i){if(n&1){let e=V();c(0,"div",26)(1,"button",27),C("click",function(){let r=w(e).$implicit,o=g(3);return S(o.toggleUserSelection(r.userId))}),M(2,"img",28),c(3,"div",29)(4,"div",30),f(5),l(),c(6,"div",31),f(7),l(),x(8,jW,2,0,"div",32),l(),x(9,HW,2,0,"span",33),l()()}if(n&2){let e=i.$implicit,t=g(3);d(),ne("bg-blue-50",t.selectedUserIds.includes(e.userId))("text-blue-600",t.selectedUserIds.includes(e.userId))("opacity-50",e.tokenStatus!=="Valid")("cursor-not-allowed",e.tokenStatus!=="Valid"),d(),p("ngSrc",(e.profile==null?null:e.profile.avatarURL)||t.fallbackAvatarUrl)("alt",e.name),d(3),L((e.profile==null?null:e.profile.userName)||e.name),d(2),L(e.userId),d(),p("ngIf",e.tokenStatus!=="Valid"),d(),p("ngIf",t.selectedUserIds.includes(e.userId))}}function $W(n,i){if(n&1){let e=V();c(0,"div",13)(1,"div",14)(2,"input",15),Oe("ngModelChange",function(r){w(e);let o=g(2);return Be(o.searchTerm,r)||(o.searchTerm=r),S(r)}),C("input",function(){w(e);let r=g(2);return S(r.onSearchChange())}),l()(),c(3,"div",16)(4,"button",17),C("click",function(){w(e);let r=g(2);return S(r.onAllUserClick())}),M(5,"img",18),c(6,"span",19),f(7,"All Accounts"),l(),x(8,VW,2,0,"span",20),l()(),c(9,"div",21),x(10,UW,2,0,"div",22)(11,qW,10,14,"div",23),l()()}if(n&2){let e=g(2);d(2),Pe("ngModel",e.searchTerm),d(2),ne("bg-blue-50",e.selectedUserIds.length===0)("text-blue-600",e.selectedUserIds.length===0),d(),p("ngSrc",e.multiUserAvatarUrl),d(3),p("ngIf",e.selectedUserIds.length===0),d(2),p("ngIf",e.getFilteredUsers().length===0),d(),p("ngForOf",e.getFilteredUsers())}}function WW(n,i){if(n&1){let e=V();c(0,"div",36),C("click",function(){w(e);let r=g(2);return S(r.closeDropdown())}),l()}}function GW(n,i){if(n&1){let e=V();c(0,"div",1)(1,"button",2),C("click",function(){w(e);let r=g();return S(r.toggleDropdown())}),c(2,"div",3),x(3,RW,2,3,"div",4)(4,FW,2,1,"div",0),l(),c(5,"span"),f(6),l(),x(7,BW,2,1,"span",5),Ke(),c(8,"svg",6),M(9,"path",7),l()(),x(10,$W,12,9,"div",8)(11,WW,1,0,"div",9),l()}if(n&2){let e=g();d(),ne("border-blue-500",e.selectedUserIds.length>0)("border-gray-300",e.selectedUserIds.length===0)("bg-blue-50",e.selectedUserIds.length>0)("ring-2",e.selectedUserIds.length>0)("ring-blue-200",e.selectedUserIds.length>0),d(2),p("ngForOf",e.getDisplayUserIds()),d(),p("ngIf",e.selectedUserIds.length===0),d(),ne("text-blue-600",e.selectedUserIds.length>0)("font-medium",e.selectedUserIds.length>0)("text-gray-700",e.selectedUserIds.length===0),d(),k(" ",e.getSelectionText()," "),d(),p("ngIf",e.selectedUserIds.length>0),d(),ne("text-blue-600",e.selectedUserIds.length>0)("text-gray-400",e.selectedUserIds.length===0)("rotate-180",e.isDropdownOpen),d(2),p("ngIf",e.isDropdownOpen),d(),p("ngIf",e.isDropdownOpen)}}var qn=(()=>{let i=class i{constructor(t,r){this.userService=t,this.userDataStateService=r,this.users=[],this.filteredUsers=[],this.selectedUserIds=[],this.selectAllUsers=new K,this.selectUsers=new K,this.totalUsers=new K,this.isDropdownOpen=!1,this.searchTerm="",this.maxDisplayAvatars=3,this.fallbackAvatarUrl=cn,this.multiUserAvatarUrl=pM}ngOnInit(){this.fetchTradingAccounts()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&t.users&&(this.users=t.users,this.filteredUsers=[...this.users],this.totalUsers.emit(this.users))}setCachedData(){this.userDataStateService.setState({users:this.users})}fetchTradingAccounts(){this.getCachedData(),this.userService.getTradingAccounts().subscribe({next:t=>{this.users=t.data.filter(r=>r.active),this.filteredUsers=[...this.users],this.totalUsers.emit(t.data),this.setCachedData()}})}onAllUserClick(){this.selectedUserIds=[],this.selectAllUsers.emit(),this.closeDropdown()}toggleUserSelection(t){this.getUserByUserId(t)?.tokenStatus==="Valid"&&(this.selectedUserIds.includes(t)?this.selectedUserIds=this.selectedUserIds.filter(r=>r!==t):this.selectedUserIds.push(t),this.selectUsers.emit(this.selectedUserIds))}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&(this.searchTerm="",this.filteredUsers=[...this.users])}closeDropdown(){this.isDropdownOpen=!1,this.searchTerm=""}onSearchChange(){let t=this.searchTerm.toLowerCase().trim();t?this.filteredUsers=this.users.filter(r=>r.name.toLowerCase().includes(t)||r.userId.toLowerCase().includes(t)):this.filteredUsers=[...this.users]}clearSelection(){this.selectedUserIds=[],this.selectUsers.emit(this.selectedUserIds)}getFilteredUsers(){return this.filteredUsers}getDisplayUserIds(){return this.selectedUserIds.slice(0,this.maxDisplayAvatars)}getSelectionText(){return this.selectedUserIds.length===0?"All Accounts":this.selectedUserIds.length===1?this.getUserByUserId(this.selectedUserIds[0])?.name||this.selectedUserIds[0]:"Users Selected"}getAvatarUrl(t){return this.getUserByUserId(t)?.profile?.avatarURL||null}getUserName(t){return this.getUserByUserId(t)?.name||t}getUserByUserId(t){return this.users.find(r=>r.userId===t)}};i.\u0275fac=function(r){return new(r||i)(D(Hn),D(Dt))},i.\u0275cmp=U({type:i,selectors:[["app-user-filter"]],inputs:{selectedUserIds:"selectedUserIds"},outputs:{selectAllUsers:"selectAllUsers",selectUsers:"selectUsers",totalUsers:"totalUsers"},decls:1,vars:1,consts:[["class","relative",4,"ngIf"],[1,"relative"],[1,"flex","items-center","gap-2","px-3","py-2","border","rounded-md","bg-white","hover:bg-gray-50","focus:outline-none","text-sm","transition-all",3,"click"],[1,"flex","-space-x-2"],["class","relative",4,"ngFor","ngForOf"],["class","flex items-center justify-center w-5 h-5 bg-blue-600 text-white text-xs font-semibold rounded-full",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-96 overflow-hidden",4,"ngIf"],["class","fixed inset-0 z-40",3,"click",4,"ngIf"],["width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc","alt","title"],["alt","All Accounts","width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc"],[1,"flex","items-center","justify-center","w-5","h-5","bg-blue-600","text-white","text-xs","font-semibold","rounded-full"],[1,"absolute","right-0","mt-2","w-80","bg-white","border","border-gray-200","rounded-md","shadow-lg","z-50","max-h-96","overflow-hidden"],[1,"p-3","border-b","border-gray-200"],["type","text","placeholder","Search users...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-100","focus:border-blue-100","text-sm",3,"ngModelChange","input","ngModel"],[1,"p-2","border-b","border-gray-200","space-y-1"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-2",3,"click"],["alt","All Accounts","width","24","height","24",1,"w-6","h-6","rounded-full","object-cover",3,"ngSrc"],[1,"font-medium"],["class","ml-auto text-blue-600",4,"ngIf"],[1,"max-h-60","overflow-y-auto"],["class","p-4 text-center text-gray-500 text-sm",4,"ngIf"],["class","p-2",4,"ngFor","ngForOf"],[1,"ml-auto","text-blue-600"],[1,"p-4","text-center","text-gray-500","text-sm"],[1,"p-2"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-3",3,"click"],["width","32","height","32",1,"w-8","h-8","rounded-full","object-cover","flex-shrink-0",3,"ngSrc","alt"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-700","truncate"],[1,"text-xs","text-gray-500","truncate"],["class","text-xs text-red-500",4,"ngIf"],["class","text-blue-600 flex-shrink-0",4,"ngIf"],[1,"text-xs","text-red-500"],[1,"text-blue-600","flex-shrink-0"],[1,"fixed","inset-0","z-40",3,"click"]],template:function(r,o){r&1&&x(0,GW,12,28,"div",0),r&2&&p("ngIf",o.users.length>1)},dependencies:[he,oe,Q,p1,bt,it,rt,On],styles:[".selected-user-filter[_ngcontent-%COMP%]{color:#007bff}"]});let n=i;return n})();function YW(n,i,e){return(i=KW(i))in n?Object.defineProperty(n,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[i]=e,n}function YM(n,i){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);i&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,t)}return e}function X(n){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?YM(Object(e),!0).forEach(function(t){YW(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):YM(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function QW(n,i){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var t=e.call(n,i||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}function KW(n){var i=QW(n,"string");return typeof i=="symbol"?i:i+""}var QM=()=>{},yh={},xE={},CE=null,wE={mark:QM,measure:QM};try{typeof window<"u"&&(yh=window),typeof document<"u"&&(xE=document),typeof MutationObserver<"u"&&(CE=MutationObserver),typeof performance<"u"&&(wE=performance)}catch{}var{userAgent:KM=""}=yh.navigator||{},Io=yh,Xt=xE,XM=CE,J8=wE,rye=!!Io.document,Tr=!!Xt.documentElement&&!!Xt.head&&typeof Xt.addEventListener=="function"&&typeof Xt.createElement=="function",SE=~KM.indexOf("MSIE")||~KM.indexOf("Trident/"),XW=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ZW=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ME={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},JW={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},EE=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],_1="classic",od="duotone",eG="sharp",tG="sharp-duotone",TE=[_1,od,eG,tG],nG={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},iG={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},rG=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),oG={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},aG=["fak","fa-kit","fakd","fa-kit-duotone"],ZM={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},sG=["kit"],cG={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},lG=["fak","fakd"],dG={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},JM={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ed={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},uG=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],fG=["fak","fa-kit","fakd","fa-kit-duotone"],pG={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},mG={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},hG={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},th={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},gG=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],nh=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...uG,...gG],vG=["solid","regular","light","thin","duotone","brands"],IE=[1,2,3,4,5,6,7,8,9,10],yG=IE.concat([11,12,13,14,15,16,17,18,19,20]),_G=[...Object.keys(hG),...vG,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ed.GROUP,ed.SWAP_OPACITY,ed.PRIMARY,ed.SECONDARY].concat(IE.map(n=>"".concat(n,"x"))).concat(yG.map(n=>"w-".concat(n))),bG={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Mr="___FONT_AWESOME___",ih=16,DE="fa",zE="svg-inline--fa",Wa="data-fa-i2svg",rh="data-fa-pseudo-element",xG="data-fa-pseudo-element-pending",_h="data-prefix",bh="data-icon",eE="fontawesome-i2svg",CG="async",wG=["HTML","HEAD","STYLE","SCRIPT"],LE=(()=>{try{return!0}catch{return!1}})();function vc(n){return new Proxy(n,{get(i,e){return e in i?i[e]:i[_1]}})}var kE=X({},ME);kE[_1]=X(X(X(X({},{"fa-duotone":"duotone"}),ME[_1]),ZM.kit),ZM["kit-duotone"]);var SG=vc(kE),oh=X({},oG);oh[_1]=X(X(X(X({},{duotone:"fad"}),oh[_1]),JM.kit),JM["kit-duotone"]);var tE=vc(oh),ah=X({},th);ah[_1]=X(X({},ah[_1]),dG.kit);var xh=vc(ah),sh=X({},mG);sh[_1]=X(X({},sh[_1]),cG.kit);var oye=vc(sh),MG=XW,AE="fa-layers-text",EG=ZW,TG=X({},nG),aye=vc(TG),IG=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Km=JW,DG=[...sG,..._G],pc=Io.FontAwesomeConfig||{};function zG(n){var i=Xt.querySelector("script["+n+"]");if(i)return i.getAttribute(n)}function LG(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Xt&&typeof Xt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(i=>{let[e,t]=i,r=LG(zG(e));r!=null&&(pc[t]=r)});var NE={styleDefault:"solid",familyDefault:_1,cssPrefix:DE,replacementClass:zE,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};pc.familyPrefix&&(pc.cssPrefix=pc.familyPrefix);var V0=X(X({},NE),pc);V0.autoReplaceSvg||(V0.observeMutations=!1);var me={};Object.keys(NE).forEach(n=>{Object.defineProperty(me,n,{enumerable:!0,set:function(i){V0[n]=i,mc.forEach(e=>e(me))},get:function(){return V0[n]}})});Object.defineProperty(me,"familyPrefix",{enumerable:!0,set:function(n){V0.cssPrefix=n,mc.forEach(i=>i(me))},get:function(){return V0.cssPrefix}});Io.FontAwesomeConfig=me;var mc=[];function kG(n){return mc.push(n),()=>{mc.splice(mc.indexOf(n),1)}}var To=ih,F2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function AG(n){if(!n||!Tr)return;let i=Xt.createElement("style");i.setAttribute("type","text/css"),i.innerHTML=n;let e=Xt.head.childNodes,t=null;for(let r=e.length-1;r>-1;r--){let o=e[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(t=o)}return Xt.head.insertBefore(i,t),n}var NG="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function hc(){let n=12,i="";for(;n-- >0;)i+=NG[Math.random()*62|0];return i}function U0(n){let i=[];for(let e=(n||[]).length>>>0;e--;)i[e]=n[e];return i}function Ch(n){return n.classList?U0(n.classList):(n.getAttribute("class")||"").split(" ").filter(i=>i)}function PE(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function PG(n){return Object.keys(n||{}).reduce((i,e)=>i+"".concat(e,'="').concat(PE(n[e]),'" '),"").trim()}function ad(n){return Object.keys(n||{}).reduce((i,e)=>i+"".concat(e,": ").concat(n[e].trim(),";"),"")}function wh(n){return n.size!==F2.size||n.x!==F2.x||n.y!==F2.y||n.rotate!==F2.rotate||n.flipX||n.flipY}function OG(n){let{transform:i,containerWidth:e,iconWidth:t}=n,r={transform:"translate(".concat(e/2," 256)")},o="translate(".concat(i.x*32,", ").concat(i.y*32,") "),a="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),s="rotate(".concat(i.rotate," 0 0)"),u={transform:"".concat(o," ").concat(a," ").concat(s)},m={transform:"translate(".concat(t/2*-1," -256)")};return{outer:r,inner:u,path:m}}function RG(n){let{transform:i,width:e=ih,height:t=ih,startCentered:r=!1}=n,o="";return r&&SE?o+="translate(".concat(i.x/To-e/2,"em, ").concat(i.y/To-t/2,"em) "):r?o+="translate(calc(-50% + ".concat(i.x/To,"em), calc(-50% + ").concat(i.y/To,"em)) "):o+="translate(".concat(i.x/To,"em, ").concat(i.y/To,"em) "),o+="scale(".concat(i.size/To*(i.flipX?-1:1),", ").concat(i.size/To*(i.flipY?-1:1),") "),o+="rotate(".concat(i.rotate,"deg) "),o}var FG=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function OE(){let n=DE,i=zE,e=me.cssPrefix,t=me.replacementClass,r=FG;if(e!==n||t!==i){let o=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),s=new RegExp("\\.".concat(i),"g");r=r.replace(o,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(s,".".concat(t))}return r}var nE=!1;function Xm(){me.autoAddCss&&!nE&&(AG(OE()),nE=!0)}var BG={mixout(){return{dom:{css:OE,insertCss:Xm}}},hooks(){return{beforeDOMElementCreation(){Xm()},beforeI2svg(){Xm()}}}},Er=Io||{};Er[Mr]||(Er[Mr]={});Er[Mr].styles||(Er[Mr].styles={});Er[Mr].hooks||(Er[Mr].hooks={});Er[Mr].shims||(Er[Mr].shims=[]);var B2=Er[Mr],RE=[],FE=function(){Xt.removeEventListener("DOMContentLoaded",FE),id=1,RE.map(n=>n())},id=!1;Tr&&(id=(Xt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Xt.readyState),id||Xt.addEventListener("DOMContentLoaded",FE));function VG(n){Tr&&(id?setTimeout(n,0):RE.push(n))}function yc(n){let{tag:i,attributes:e={},children:t=[]}=n;return typeof n=="string"?PE(n):"<".concat(i," ").concat(PG(e),">").concat(t.map(yc).join(""),"</").concat(i,">")}function iE(n,i,e){if(n&&n[i]&&n[i][e])return{prefix:i,iconName:e,icon:n[i][e]}}var UG=function(i,e){return function(t,r,o,a){return i.call(e,t,r,o,a)}},Zm=function(i,e,t,r){var o=Object.keys(i),a=o.length,s=r!==void 0?UG(e,r):e,u,m,_;for(t===void 0?(u=1,_=i[o[0]]):(u=0,_=t);u<a;u++)m=o[u],_=s(_,i[m],m,i);return _};function jG(n){let i=[],e=0,t=n.length;for(;e<t;){let r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<t){let o=n.charCodeAt(e++);(o&64512)==56320?i.push(((r&1023)<<10)+(o&1023)+65536):(i.push(r),e--)}else i.push(r)}return i}function ch(n){let i=jG(n);return i.length===1?i[0].toString(16):null}function HG(n,i){let e=n.length,t=n.charCodeAt(i),r;return t>=55296&&t<=56319&&e>i+1&&(r=n.charCodeAt(i+1),r>=56320&&r<=57343)?(t-55296)*1024+r-56320+65536:t}function rE(n){return Object.keys(n).reduce((i,e)=>{let t=n[e];return!!t.icon?i[t.iconName]=t.icon:i[e]=t,i},{})}function lh(n,i){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:t=!1}=e,r=rE(i);typeof B2.hooks.addPack=="function"&&!t?B2.hooks.addPack(n,rE(i)):B2.styles[n]=X(X({},B2.styles[n]||{}),r),n==="fas"&&lh("fa",i)}var{styles:gc,shims:qG}=B2,BE=Object.keys(xh),$G=BE.reduce((n,i)=>(n[i]=Object.keys(xh[i]),n),{}),Sh=null,VE={},UE={},jE={},HE={},qE={};function WG(n){return~DG.indexOf(n)}function GG(n,i){let e=i.split("-"),t=e[0],r=e.slice(1).join("-");return t===n&&r!==""&&!WG(r)?r:null}var $E=()=>{let n=t=>Zm(gc,(r,o,a)=>(r[a]=Zm(o,t,{}),r),{});VE=n((t,r,o)=>(r[3]&&(t[r[3]]=o),r[2]&&r[2].filter(s=>typeof s=="number").forEach(s=>{t[s.toString(16)]=o}),t)),UE=n((t,r,o)=>(t[o]=o,r[2]&&r[2].filter(s=>typeof s=="string").forEach(s=>{t[s]=o}),t)),qE=n((t,r,o)=>{let a=r[2];return t[o]=o,a.forEach(s=>{t[s]=o}),t});let i="far"in gc||me.autoFetchSvg,e=Zm(qG,(t,r)=>{let o=r[0],a=r[1],s=r[2];return a==="far"&&!i&&(a="fas"),typeof o=="string"&&(t.names[o]={prefix:a,iconName:s}),typeof o=="number"&&(t.unicodes[o.toString(16)]={prefix:a,iconName:s}),t},{names:{},unicodes:{}});jE=e.names,HE=e.unicodes,Sh=sd(me.styleDefault,{family:me.familyDefault})};kG(n=>{Sh=sd(n.styleDefault,{family:me.familyDefault})});$E();function Mh(n,i){return(VE[n]||{})[i]}function YG(n,i){return(UE[n]||{})[i]}function $a(n,i){return(qE[n]||{})[i]}function WE(n){return jE[n]||{prefix:null,iconName:null}}function QG(n){let i=HE[n],e=Mh("fas",n);return i||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Do(){return Sh}var GE=()=>({prefix:null,iconName:null,rest:[]});function KG(n){let i=_1,e=BE.reduce((t,r)=>(t[r]="".concat(me.cssPrefix,"-").concat(r),t),{});return TE.forEach(t=>{(n.includes(e[t])||n.some(r=>$G[t].includes(r)))&&(i=t)}),i}function sd(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:e=_1}=i,t=SG[e][n];if(e===od&&!n)return"fad";let r=tE[e][n]||tE[e][t],o=n in B2.styles?n:null;return r||o||null}function XG(n){let i=[],e=null;return n.forEach(t=>{let r=GG(me.cssPrefix,t);r?e=r:t&&i.push(t)}),{iconName:e,rest:i}}function oE(n){return n.sort().filter((i,e,t)=>t.indexOf(i)===e)}function cd(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:e=!1}=i,t=null,r=nh.concat(fG),o=oE(n.filter(y=>r.includes(y))),a=oE(n.filter(y=>!nh.includes(y))),s=o.filter(y=>(t=y,!EE.includes(y))),[u=null]=s,m=KG(o),_=X(X({},XG(a)),{},{prefix:sd(u,{family:m})});return X(X(X({},_),tY({values:n,family:m,styles:gc,config:me,canonical:_,givenPrefix:t})),ZG(e,t,_))}function ZG(n,i,e){let{prefix:t,iconName:r}=e;if(n||!t||!r)return{prefix:t,iconName:r};let o=i==="fa"?WE(r):{},a=$a(t,r);return r=o.iconName||a||r,t=o.prefix||t,t==="far"&&!gc.far&&gc.fas&&!me.autoFetchSvg&&(t="fas"),{prefix:t,iconName:r}}var JG=TE.filter(n=>n!==_1||n!==od),eY=Object.keys(th).filter(n=>n!==_1).map(n=>Object.keys(th[n])).flat();function tY(n){let{values:i,family:e,canonical:t,givenPrefix:r="",styles:o={},config:a={}}=n,s=e===od,u=i.includes("fa-duotone")||i.includes("fad"),m=a.familyDefault==="duotone",_=t.prefix==="fad"||t.prefix==="fa-duotone";if(!s&&(u||m||_)&&(t.prefix="fad"),(i.includes("fa-brands")||i.includes("fab"))&&(t.prefix="fab"),!t.prefix&&JG.includes(e)&&(Object.keys(o).find(E=>eY.includes(E))||a.autoFetchSvg)){let E=rG.get(e).defaultShortPrefixId;t.prefix=E,t.iconName=$a(t.prefix,t.iconName)||t.iconName}return(t.prefix==="fa"||r==="fa")&&(t.prefix=Do()||"fas"),t}var dh=class{constructor(){this.definitions={}}add(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];let r=e.reduce(this._pullDefinitions,{});Object.keys(r).forEach(o=>{this.definitions[o]=X(X({},this.definitions[o]||{}),r[o]),lh(o,r[o]);let a=xh[_1][o];a&&lh(a,r[o]),$E()})}reset(){this.definitions={}}_pullDefinitions(i,e){let t=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(t).map(r=>{let{prefix:o,iconName:a,icon:s}=t[r],u=s[2];i[o]||(i[o]={}),u.length>0&&u.forEach(m=>{typeof m=="string"&&(i[o][m]=s)}),i[o][a]=s}),i}},aE=[],F0={},B0={},nY=Object.keys(B0);function iY(n,i){let{mixoutsTo:e}=i;return aE=n,F0={},Object.keys(B0).forEach(t=>{nY.indexOf(t)===-1&&delete B0[t]}),aE.forEach(t=>{let r=t.mixout?t.mixout():{};if(Object.keys(r).forEach(o=>{typeof r[o]=="function"&&(e[o]=r[o]),typeof r[o]=="object"&&Object.keys(r[o]).forEach(a=>{e[o]||(e[o]={}),e[o][a]=r[o][a]})}),t.hooks){let o=t.hooks();Object.keys(o).forEach(a=>{F0[a]||(F0[a]=[]),F0[a].push(o[a])})}t.provides&&t.provides(B0)}),e}function uh(n,i){for(var e=arguments.length,t=new Array(e>2?e-2:0),r=2;r<e;r++)t[r-2]=arguments[r];return(F0[n]||[]).forEach(a=>{i=a.apply(null,[i,...t])}),i}function Ga(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),t=1;t<i;t++)e[t-1]=arguments[t];(F0[n]||[]).forEach(o=>{o.apply(null,e)})}function zo(){let n=arguments[0],i=Array.prototype.slice.call(arguments,1);return B0[n]?B0[n].apply(null,i):void 0}function fh(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:i}=n,e=n.prefix||Do();if(i)return i=$a(e,i)||i,iE(YE.definitions,e,i)||iE(B2.styles,e,i)}var YE=new dh,rY=()=>{me.autoReplaceSvg=!1,me.observeMutations=!1,Ga("noAuto")},oY={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Tr?(Ga("beforeI2svg",n),zo("pseudoElements2svg",n),zo("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:i}=n;me.autoReplaceSvg===!1&&(me.autoReplaceSvg=!0),me.observeMutations=!0,VG(()=>{sY({autoReplaceSvgRoot:i}),Ga("watch",n)})}},aY={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:$a(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let i=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=sd(n[0]);return{prefix:e,iconName:$a(e,i)||i}}if(typeof n=="string"&&(n.indexOf("".concat(me.cssPrefix,"-"))>-1||n.match(MG))){let i=cd(n.split(" "),{skipLookups:!0});return{prefix:i.prefix||Do(),iconName:$a(i.prefix,i.iconName)||i.iconName}}if(typeof n=="string"){let i=Do();return{prefix:i,iconName:$a(i,n)||n}}}},hi={noAuto:rY,config:me,dom:oY,parse:aY,library:YE,findIconDefinition:fh,toHtml:yc},sY=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:i=Xt}=n;(Object.keys(B2.styles).length>0||me.autoFetchSvg)&&Tr&&me.autoReplaceSvg&&hi.dom.i2svg({node:i})};function ld(n,i){return Object.defineProperty(n,"abstract",{get:i}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>yc(e))}}),Object.defineProperty(n,"node",{get:function(){if(!Tr)return;let e=Xt.createElement("div");return e.innerHTML=n.html,e.children}}),n}function cY(n){let{children:i,main:e,mask:t,attributes:r,styles:o,transform:a}=n;if(wh(a)&&e.found&&!t.found){let{width:s,height:u}=e,m={x:s/u/2,y:.5};r.style=ad(X(X({},o),{},{"transform-origin":"".concat(m.x+a.x/16,"em ").concat(m.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:i}]}function lY(n){let{prefix:i,iconName:e,children:t,attributes:r,symbol:o}=n,a=o===!0?"".concat(i,"-").concat(me.cssPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:X(X({},r),{},{id:a}),children:t}]}]}function Eh(n){let{icons:{main:i,mask:e},prefix:t,iconName:r,transform:o,symbol:a,title:s,maskId:u,titleId:m,extra:_,watchable:y=!1}=n,{width:E,height:I}=e.found?e:i,A=lG.includes(t),R=[me.replacementClass,r?"".concat(me.cssPrefix,"-").concat(r):""].filter(Se=>_.classes.indexOf(Se)===-1).filter(Se=>Se!==""||!!Se).concat(_.classes).join(" "),F={children:[],attributes:X(X({},_.attributes),{},{"data-prefix":t,"data-icon":r,class:R,role:_.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(I)})},W=A&&!~_.classes.indexOf("fa-fw")?{width:"".concat(E/I*16*.0625,"em")}:{};y&&(F.attributes[Wa]=""),s&&(F.children.push({tag:"title",attributes:{id:F.attributes["aria-labelledby"]||"title-".concat(m||hc())},children:[s]}),delete F.attributes.title);let ee=X(X({},F),{},{prefix:t,iconName:r,main:i,mask:e,maskId:u,transform:o,symbol:a,styles:X(X({},W),_.styles)}),{children:te,attributes:ae}=e.found&&i.found?zo("generateAbstractMask",ee)||{children:[],attributes:{}}:zo("generateAbstractIcon",ee)||{children:[],attributes:{}};return ee.children=te,ee.attributes=ae,a?lY(ee):cY(ee)}function sE(n){let{content:i,width:e,height:t,transform:r,title:o,extra:a,watchable:s=!1}=n,u=X(X(X({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});s&&(u[Wa]="");let m=X({},a.styles);wh(r)&&(m.transform=RG({transform:r,startCentered:!0,width:e,height:t}),m["-webkit-transform"]=m.transform);let _=ad(m);_.length>0&&(u.style=_);let y=[];return y.push({tag:"span",attributes:u,children:[i]}),o&&y.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),y}function dY(n){let{content:i,title:e,extra:t}=n,r=X(X(X({},t.attributes),e?{title:e}:{}),{},{class:t.classes.join(" ")}),o=ad(t.styles);o.length>0&&(r.style=o);let a=[];return a.push({tag:"span",attributes:r,children:[i]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}var{styles:Jm}=B2;function ph(n){let i=n[0],e=n[1],[t]=n.slice(4),r=null;return Array.isArray(t)?r={tag:"g",attributes:{class:"".concat(me.cssPrefix,"-").concat(Km.GROUP)},children:[{tag:"path",attributes:{class:"".concat(me.cssPrefix,"-").concat(Km.SECONDARY),fill:"currentColor",d:t[0]}},{tag:"path",attributes:{class:"".concat(me.cssPrefix,"-").concat(Km.PRIMARY),fill:"currentColor",d:t[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:t}},{found:!0,width:i,height:e,icon:r}}var uY={found:!1,width:512,height:512};function fY(n,i){!LE&&!me.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(i,'" is missing.'))}function mh(n,i){let e=i;return i==="fa"&&me.styleDefault!==null&&(i=Do()),new Promise((t,r)=>{if(e==="fa"){let o=WE(n)||{};n=o.iconName||n,i=o.prefix||i}if(n&&i&&Jm[i]&&Jm[i][n]){let o=Jm[i][n];return t(ph(o))}fY(n,i),t(X(X({},uY),{},{icon:me.showMissingIcons&&n?zo("missingIconAbstract")||{}:{}}))})}var cE=()=>{},hh=me.measurePerformance&&J8&&J8.mark&&J8.measure?J8:{mark:cE,measure:cE},fc='FA "6.7.2"',pY=n=>(hh.mark("".concat(fc," ").concat(n," begins")),()=>QE(n)),QE=n=>{hh.mark("".concat(fc," ").concat(n," ends")),hh.measure("".concat(fc," ").concat(n),"".concat(fc," ").concat(n," begins"),"".concat(fc," ").concat(n," ends"))},Th={begin:pY,end:QE},td=()=>{};function lE(n){return typeof(n.getAttribute?n.getAttribute(Wa):null)=="string"}function mY(n){let i=n.getAttribute?n.getAttribute(_h):null,e=n.getAttribute?n.getAttribute(bh):null;return i&&e}function hY(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(me.replacementClass)}function gY(){return me.autoReplaceSvg===!0?nd.replace:nd[me.autoReplaceSvg]||nd.replace}function vY(n){return Xt.createElementNS("http://www.w3.org/2000/svg",n)}function yY(n){return Xt.createElement(n)}function KE(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:e=n.tag==="svg"?vY:yY}=i;if(typeof n=="string")return Xt.createTextNode(n);let t=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){t.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){t.appendChild(KE(o,{ceFn:e}))}),t}function _Y(n){let i=" ".concat(n.outerHTML," ");return i="".concat(i,"Font Awesome fontawesome.com "),i}var nd={replace:function(n){let i=n[0];if(i.parentNode)if(n[1].forEach(e=>{i.parentNode.insertBefore(KE(e),i)}),i.getAttribute(Wa)===null&&me.keepOriginalSource){let e=Xt.createComment(_Y(i));i.parentNode.replaceChild(e,i)}else i.remove()},nest:function(n){let i=n[0],e=n[1];if(~Ch(i).indexOf(me.replacementClass))return nd.replace(n);let t=new RegExp("".concat(me.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){let o=e[0].attributes.class.split(" ").reduce((a,s)=>(s===me.replacementClass||s.match(t)?a.toSvg.push(s):a.toNode.push(s),a),{toNode:[],toSvg:[]});e[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?i.removeAttribute("class"):i.setAttribute("class",o.toNode.join(" "))}let r=e.map(o=>yc(o)).join(`
`);i.setAttribute(Wa,""),i.innerHTML=r}};function dE(n){n()}function XE(n,i){let e=typeof i=="function"?i:td;if(n.length===0)e();else{let t=dE;me.mutateApproach===CG&&(t=Io.requestAnimationFrame||dE),t(()=>{let r=gY(),o=Th.begin("mutate");n.map(r),o(),e()})}}var Ih=!1;function ZE(){Ih=!0}function gh(){Ih=!1}var rd=null;function uE(n){if(!XM||!me.observeMutations)return;let{treeCallback:i=td,nodeCallback:e=td,pseudoElementsCallback:t=td,observeMutationsRoot:r=Xt}=n;rd=new XM(o=>{if(Ih)return;let a=Do();U0(o).forEach(s=>{if(s.type==="childList"&&s.addedNodes.length>0&&!lE(s.addedNodes[0])&&(me.searchPseudoElements&&t(s.target),i(s.target)),s.type==="attributes"&&s.target.parentNode&&me.searchPseudoElements&&t(s.target.parentNode),s.type==="attributes"&&lE(s.target)&&~IG.indexOf(s.attributeName))if(s.attributeName==="class"&&mY(s.target)){let{prefix:u,iconName:m}=cd(Ch(s.target));s.target.setAttribute(_h,u||a),m&&s.target.setAttribute(bh,m)}else hY(s.target)&&e(s.target)})}),Tr&&rd.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function bY(){rd&&rd.disconnect()}function xY(n){let i=n.getAttribute("style"),e=[];return i&&(e=i.split(";").reduce((t,r)=>{let o=r.split(":"),a=o[0],s=o.slice(1);return a&&s.length>0&&(t[a]=s.join(":").trim()),t},{})),e}function CY(n){let i=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),t=n.innerText!==void 0?n.innerText.trim():"",r=cd(Ch(n));return r.prefix||(r.prefix=Do()),i&&e&&(r.prefix=i,r.iconName=e),r.iconName&&r.prefix||(r.prefix&&t.length>0&&(r.iconName=YG(r.prefix,n.innerText)||Mh(r.prefix,ch(n.innerText))),!r.iconName&&me.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function wY(n){let i=U0(n.attributes).reduce((r,o)=>(r.name!=="class"&&r.name!=="style"&&(r[o.name]=o.value),r),{}),e=n.getAttribute("title"),t=n.getAttribute("data-fa-title-id");return me.autoA11y&&(e?i["aria-labelledby"]="".concat(me.replacementClass,"-title-").concat(t||hc()):(i["aria-hidden"]="true",i.focusable="false")),i}function SY(){return{iconName:null,title:null,titleId:null,prefix:null,transform:F2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function fE(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:e,prefix:t,rest:r}=CY(n),o=wY(n),a=uh("parseNodeAttributes",{},n),s=i.styleParser?xY(n):[];return X({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:t,transform:F2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:s,attributes:o}},a)}var{styles:MY}=B2;function JE(n){let i=me.autoReplaceSvg==="nest"?fE(n,{styleParser:!1}):fE(n);return~i.extra.classes.indexOf(AE)?zo("generateLayersText",n,i):zo("generateSvgReplacementMutation",n,i)}function EY(){return[...aG,...nh]}function pE(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Tr)return Promise.resolve();let e=Xt.documentElement.classList,t=_=>e.add("".concat(eE,"-").concat(_)),r=_=>e.remove("".concat(eE,"-").concat(_)),o=me.autoFetchSvg?EY():EE.concat(Object.keys(MY));o.includes("fa")||o.push("fa");let a=[".".concat(AE,":not([").concat(Wa,"])")].concat(o.map(_=>".".concat(_,":not([").concat(Wa,"])"))).join(", ");if(a.length===0)return Promise.resolve();let s=[];try{s=U0(n.querySelectorAll(a))}catch{}if(s.length>0)t("pending"),r("complete");else return Promise.resolve();let u=Th.begin("onTree"),m=s.reduce((_,y)=>{try{let E=JE(y);E&&_.push(E)}catch(E){LE||E.name==="MissingIcon"&&console.error(E)}return _},[]);return new Promise((_,y)=>{Promise.all(m).then(E=>{XE(E,()=>{t("active"),t("complete"),r("pending"),typeof i=="function"&&i(),u(),_()})}).catch(E=>{u(),y(E)})})}function TY(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;JE(n).then(e=>{e&&XE([e],i)})}function IY(n){return function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=(i||{}).icon?i:fh(i||{}),{mask:r}=e;return r&&(r=(r||{}).icon?r:fh(r||{})),n(t,X(X({},e),{},{mask:r}))}}var DY=function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=F2,symbol:t=!1,mask:r=null,maskId:o=null,title:a=null,titleId:s=null,classes:u=[],attributes:m={},styles:_={}}=i;if(!n)return;let{prefix:y,iconName:E,icon:I}=n;return ld(X({type:"icon"},n),()=>(Ga("beforeDOMElementCreation",{iconDefinition:n,params:i}),me.autoA11y&&(a?m["aria-labelledby"]="".concat(me.replacementClass,"-title-").concat(s||hc()):(m["aria-hidden"]="true",m.focusable="false")),Eh({icons:{main:ph(I),mask:r?ph(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:y,iconName:E,transform:X(X({},F2),e),symbol:t,title:a,maskId:o,titleId:s,extra:{attributes:m,styles:_,classes:u}})))},zY={mixout(){return{icon:IY(DY)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=pE,n.nodeCallback=TY,n}}},provides(n){n.i2svg=function(i){let{node:e=Xt,callback:t=()=>{}}=i;return pE(e,t)},n.generateSvgReplacementMutation=function(i,e){let{iconName:t,title:r,titleId:o,prefix:a,transform:s,symbol:u,mask:m,maskId:_,extra:y}=e;return new Promise((E,I)=>{Promise.all([mh(t,a),m.iconName?mh(m.iconName,m.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(A=>{let[R,F]=A;E([i,Eh({icons:{main:R,mask:F},prefix:a,iconName:t,transform:s,symbol:u,maskId:_,title:r,titleId:o,extra:y,watchable:!0})])}).catch(I)})},n.generateAbstractIcon=function(i){let{children:e,attributes:t,main:r,transform:o,styles:a}=i,s=ad(a);s.length>0&&(t.style=s);let u;return wh(o)&&(u=zo("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),e.push(u||r.icon),{children:e,attributes:t}}}},LY={mixout(){return{layer(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:e=[]}=i;return ld({type:"layer"},()=>{Ga("beforeDOMElementCreation",{assembler:n,params:i});let t=[];return n(r=>{Array.isArray(r)?r.map(o=>{t=t.concat(o.abstract)}):t=t.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(me.cssPrefix,"-layers"),...e].join(" ")},children:t}]})}}}},kY={mixout(){return{counter(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:e=null,classes:t=[],attributes:r={},styles:o={}}=i;return ld({type:"counter",content:n},()=>(Ga("beforeDOMElementCreation",{content:n,params:i}),dY({content:n.toString(),title:e,extra:{attributes:r,styles:o,classes:["".concat(me.cssPrefix,"-layers-counter"),...t]}})))}}}},AY={mixout(){return{text(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=F2,title:t=null,classes:r=[],attributes:o={},styles:a={}}=i;return ld({type:"text",content:n},()=>(Ga("beforeDOMElementCreation",{content:n,params:i}),sE({content:n,transform:X(X({},F2),e),title:t,extra:{attributes:o,styles:a,classes:["".concat(me.cssPrefix,"-layers-text"),...r]}})))}}},provides(n){n.generateLayersText=function(i,e){let{title:t,transform:r,extra:o}=e,a=null,s=null;if(SE){let u=parseInt(getComputedStyle(i).fontSize,10),m=i.getBoundingClientRect();a=m.width/u,s=m.height/u}return me.autoA11y&&!t&&(o.attributes["aria-hidden"]="true"),Promise.resolve([i,sE({content:i.innerHTML,width:a,height:s,transform:r,title:t,extra:o,watchable:!0})])}}},NY=new RegExp('"',"ug"),mE=[1105920,1112319],hE=X(X(X(X({},{FontAwesome:{normal:"fas",400:"fas"}}),iG),bG),pG),vh=Object.keys(hE).reduce((n,i)=>(n[i.toLowerCase()]=hE[i],n),{}),PY=Object.keys(vh).reduce((n,i)=>{let e=vh[i];return n[i]=e[900]||[...Object.entries(e)][0][1],n},{});function OY(n){let i=n.replace(NY,""),e=HG(i,0),t=e>=mE[0]&&e<=mE[1],r=i.length===2?i[0]===i[1]:!1;return{value:ch(r?i[0]:i),isSecondary:t||r}}function RY(n,i){let e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),t=parseInt(i),r=isNaN(t)?"normal":t;return(vh[e]||{})[r]||PY[e]}function gE(n,i){let e="".concat(xG).concat(i.replace(":","-"));return new Promise((t,r)=>{if(n.getAttribute(e)!==null)return t();let a=U0(n.children).filter(E=>E.getAttribute(rh)===i)[0],s=Io.getComputedStyle(n,i),u=s.getPropertyValue("font-family"),m=u.match(EG),_=s.getPropertyValue("font-weight"),y=s.getPropertyValue("content");if(a&&!m)return n.removeChild(a),t();if(m&&y!=="none"&&y!==""){let E=s.getPropertyValue("content"),I=RY(u,_),{value:A,isSecondary:R}=OY(E),F=m[0].startsWith("FontAwesome"),W=Mh(I,A),ee=W;if(F){let te=QG(A);te.iconName&&te.prefix&&(W=te.iconName,I=te.prefix)}if(W&&!R&&(!a||a.getAttribute(_h)!==I||a.getAttribute(bh)!==ee)){n.setAttribute(e,ee),a&&n.removeChild(a);let te=SY(),{extra:ae}=te;ae.attributes[rh]=i,mh(W,I).then(Se=>{let tt=Eh(X(X({},te),{},{icons:{main:Se,mask:GE()},prefix:I,iconName:ee,extra:ae,watchable:!0})),nt=Xt.createElementNS("http://www.w3.org/2000/svg","svg");i==="::before"?n.insertBefore(nt,n.firstChild):n.appendChild(nt),nt.outerHTML=tt.map(jt=>yc(jt)).join(`
`),n.removeAttribute(e),t()}).catch(r)}else t()}else t()})}function FY(n){return Promise.all([gE(n,"::before"),gE(n,"::after")])}function BY(n){return n.parentNode!==document.head&&!~wG.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(rh)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function vE(n){if(Tr)return new Promise((i,e)=>{let t=U0(n.querySelectorAll("*")).filter(BY).map(FY),r=Th.begin("searchPseudoElements");ZE(),Promise.all(t).then(()=>{r(),gh(),i()}).catch(()=>{r(),gh(),e()})})}var VY={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=vE,n}}},provides(n){n.pseudoElements2svg=function(i){let{node:e=Xt}=i;me.searchPseudoElements&&vE(e)}}},yE=!1,UY={mixout(){return{dom:{unwatch(){ZE(),yE=!0}}}},hooks(){return{bootstrap(){uE(uh("mutationObserverCallbacks",{}))},noAuto(){bY()},watch(n){let{observeMutationsRoot:i}=n;yE?gh():uE(uh("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},_E=n=>{let i={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,t)=>{let r=t.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return e.flipX=!0,e;if(o&&a==="v")return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(o){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a;break}return e},i)},jY={mixout(){return{parse:{transform:n=>_E(n)}}},hooks(){return{parseNodeAttributes(n,i){let e=i.getAttribute("data-fa-transform");return e&&(n.transform=_E(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(i){let{main:e,transform:t,containerWidth:r,iconWidth:o}=i,a={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(t.x*32,", ").concat(t.y*32,") "),u="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),m="rotate(".concat(t.rotate," 0 0)"),_={transform:"".concat(s," ").concat(u," ").concat(m)},y={transform:"translate(".concat(o/2*-1," -256)")},E={outer:a,inner:_,path:y};return{tag:"g",attributes:X({},E.outer),children:[{tag:"g",attributes:X({},E.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:X(X({},e.icon.attributes),E.path)}]}]}}}},eh={x:0,y:0,width:"100%",height:"100%"};function bE(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||i)&&(n.attributes.fill="black"),n}function HY(n){return n.tag==="g"?n.children:[n]}var qY={hooks(){return{parseNodeAttributes(n,i){let e=i.getAttribute("data-fa-mask"),t=e?cd(e.split(" ").map(r=>r.trim())):GE();return t.prefix||(t.prefix=Do()),n.mask=t,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(i){let{children:e,attributes:t,main:r,mask:o,maskId:a,transform:s}=i,{width:u,icon:m}=r,{width:_,icon:y}=o,E=OG({transform:s,containerWidth:_,iconWidth:u}),I={tag:"rect",attributes:X(X({},eh),{},{fill:"white"})},A=m.children?{children:m.children.map(bE)}:{},R={tag:"g",attributes:X({},E.inner),children:[bE(X({tag:m.tag,attributes:X(X({},m.attributes),E.path)},A))]},F={tag:"g",attributes:X({},E.outer),children:[R]},W="mask-".concat(a||hc()),ee="clip-".concat(a||hc()),te={tag:"mask",attributes:X(X({},eh),{},{id:W,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[I,F]},ae={tag:"defs",children:[{tag:"clipPath",attributes:{id:ee},children:HY(y)},te]};return e.push(ae,{tag:"rect",attributes:X({fill:"currentColor","clip-path":"url(#".concat(ee,")"),mask:"url(#".concat(W,")")},eh)}),{children:e,attributes:t}}}},$Y={provides(n){let i=!1;Io.matchMedia&&(i=Io.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let e=[],t={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:X(X({},t),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let o=X(X({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:X(X({},t),{},{cx:"256",cy:"364",r:"28"}),children:[]};return i||a.children.push({tag:"animate",attributes:X(X({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:X(X({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:X(X({},t),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:i?[]:[{tag:"animate",attributes:X(X({},o),{},{values:"1;0;0;0;0;1;"})}]}),i||e.push({tag:"path",attributes:X(X({},t),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:X(X({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},WY={hooks(){return{parseNodeAttributes(n,i){let e=i.getAttribute("data-fa-symbol"),t=e===null?!1:e===""?!0:e;return n.symbol=t,n}}}},GY=[BG,zY,LY,kY,AY,VY,UY,jY,qY,$Y,WY];iY(GY,{mixoutsTo:hi});var sye=hi.noAuto,eT=hi.config,cye=hi.library,tT=hi.dom,nT=hi.parse,lye=hi.findIconDefinition,dye=hi.toHtml,iT=hi.icon,uye=hi.layer,YY=hi.text,QY=hi.counter;var KY=["*"],XY=(()=>{class n{defaultPrefix="fas";fallbackIcon=null;fixedWidth;set autoAddCss(e){eT.autoAddCss=e,this._autoAddCss=e}get autoAddCss(){return this._autoAddCss}_autoAddCss=!0;static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZY=(()=>{class n{definitions={};addIcons(...e){for(let t of e){t.prefix in this.definitions||(this.definitions[t.prefix]={}),this.definitions[t.prefix][t.iconName]=t;for(let r of t.icon[2])typeof r=="string"&&(this.definitions[t.prefix][r]=t)}}addIconPacks(...e){for(let t of e){let r=Object.keys(t).map(o=>t[o]);this.addIcons(...r)}}getIconDefinition(e,t){return e in this.definitions&&t in this.definitions[e]?this.definitions[e][t]:null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JY=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},eQ=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},oT=n=>n!=null&&(n===90||n===180||n===270||n==="90"||n==="180"||n==="270"),tQ=n=>{let i=oT(n.rotate),e={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:i,"fa-rotate-by":n.rotate!=null&&!i,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t!=null)},Dh=new WeakSet,rT="fa-auto-css";function nQ(n,i){if(!i.autoAddCss||Dh.has(n))return;if(n.getElementById(rT)!=null){i.autoAddCss=!1,Dh.add(n);return}let e=n.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id",rT),e.innerHTML=tT.css();let t=n.head.childNodes,r=null;for(let o=t.length-1;o>-1;o--){let a=t[o],s=a.nodeName.toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=a)}n.head.insertBefore(e,r),i.autoAddCss=!1,Dh.add(n)}var iQ=n=>n.prefix!==void 0&&n.iconName!==void 0,rQ=(n,i)=>iQ(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:i,iconName:n},oQ=(()=>{class n{stackItemSize=h0("1x");size=h0();_effect=m0(()=>{if(this.size())throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')});static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:[1,"stackItemSize"],size:[1,"size"]}})}return n})(),aQ=(()=>{class n{size=h0();classes=yr(()=>{let e=this.size(),t=e?{[`fa-${e}`]:!0}:{};return ie(P({},t),{"fa-stack":!0})});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["fa-stack"]],hostVars:2,hostBindings:function(t,r){t&2&&Bt(r.classes())},inputs:{size:[1,"size"]},ngContentSelectors:KY,decls:1,vars:0,template:function(t,r){t&1&&(Ji(),Ti(0))},encapsulation:2,changeDetection:0})}return n})(),we=(()=>{class n{icon=A1.required();title=A1();animation=A1();mask=A1();flip=A1();size=A1();pull=A1();border=A1();inverse=A1();symbol=A1();rotate=A1();fixedWidth=A1();transform=A1();a11yRole=A1();renderedIconHTML=yr(()=>{let e=this.icon();if(e==null&&this.config.fallbackIcon==null)return eQ(),"";let t=this.findIconDefinition(e??this.config.fallbackIcon);if(!t)return"";let r=this.buildParams();nQ(this.document,this.config);let o=iT(t,r);return this.sanitizer.bypassSecurityTrustHtml(o.html.join(`
`))});document=T(J);sanitizer=T(B4);config=T(XY);iconLibrary=T(ZY);stackItem=T(oQ,{optional:!0});stack=T(aQ,{optional:!0});constructor(){this.stack!=null&&this.stackItem==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}findIconDefinition(e){let t=rQ(e,this.config.defaultPrefix);if("icon"in t)return t;let r=this.iconLibrary.getIconDefinition(t.prefix,t.iconName);return r??(JY(t),null)}buildParams(){let e=this.fixedWidth(),t={flip:this.flip(),animation:this.animation(),border:this.border(),inverse:this.inverse(),size:this.size(),pull:this.pull(),rotate:this.rotate(),fixedWidth:typeof e=="boolean"?e:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize():void 0},r=this.transform(),o=typeof r=="string"?nT.transform(r):r,a=this.mask(),s=a!=null?this.findIconDefinition(a):null,u={},m=this.a11yRole();m!=null&&(u.role=m);let _={};return t.rotate!=null&&!oT(t.rotate)&&(_["--fa-rotate-angle"]=`${t.rotate}`),{title:this.title(),transform:o,classes:tQ(t),mask:s??void 0,symbol:this.symbol(),attributes:u,styles:_}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){t&2&&(ho("innerHTML",r.renderedIconHTML(),s0),Et("title",r.title()))},inputs:{icon:[1,"icon"],title:[1,"title"],animation:[1,"animation"],mask:[1,"mask"],flip:[1,"flip"],size:[1,"size"],pull:[1,"pull"],border:[1,"border"],inverse:[1,"inverse"],symbol:[1,"symbol"],rotate:[1,"rotate"],fixedWidth:[1,"fixedWidth"],transform:[1,"transform"],a11yRole:[1,"a11yRole"]},outputs:{icon:"iconChange",title:"titleChange",animation:"animationChange",mask:"maskChange",flip:"flipChange",size:"sizeChange",pull:"pullChange",border:"borderChange",inverse:"inverseChange",symbol:"symbolChange",rotate:"rotateChange",fixedWidth:"fixedWidthChange",transform:"transformChange",a11yRole:"a11yRoleChange"},decls:0,vars:0,template:function(t,r){},encapsulation:2,changeDetection:0})}return n})();var aT=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({})}return n})();var dd={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]};var sT={prefix:"fas",iconName:"arrow-trend-up",icon:[576,512,[],"e098","M384 160c-17.7 0-32-14.3-32-32s14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-82.7-169.4 169.4c-12.5 12.5-32.8 12.5-45.3 0L192 269.3 54.6 406.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160c12.5-12.5 32.8-12.5 45.3 0L320 306.7 466.7 160 384 160z"]};var j0={prefix:"fas",iconName:"wallet",icon:[512,512,[],"f555","M64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64L72 128c-13.3 0-24-10.7-24-24S58.7 80 72 80l384 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L64 32zM416 256a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]};var cT={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M224 248a120 120 0 1 1 0-240 120 120 0 1 1 0 240zm-30.5 56l61 0c9.7 0 17.5 7.8 17.5 17.5 0 4.2-1.5 8.2-4.2 11.4l-27.4 32 31 115.1 .6 0 34.6-138.5c2.2-8.7 11.1-14 19.5-10.8 61.9 23.6 105.9 83.6 105.9 153.8 0 15.1-12.3 27.4-27.4 27.4L43.4 512c-15.1 0-27.4-12.3-27.4-27.4 0-70.2 44-130.2 105.9-153.8 8.4-3.2 17.3 2.1 19.5 10.8l34.6 138.5 .6 0 31-115.1-27.4-32c-2.7-3.2-4.2-7.2-4.2-11.4 0-9.7 7.8-17.5 17.5-17.5z"]};var sQ={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Lo=sQ;var lT={prefix:"fas",iconName:"s",icon:[320,512,[115],"53","M0 157.5C0 88.2 56.2 32 125.5 32L272 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L125.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61L210.1 230C272.9 237.9 320 291.2 320 354.5 320 423.8 263.8 480 194.5 480L48 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-31-23.1-57.2-53.9-61L109.9 282C47.1 274.1 0 220.8 0 157.5z"]};var V2={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]};var ko={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]};var dT={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M32 32C14.3 32 0 46.3 0 64l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-64 64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 32zM64 352c0-17.7-14.3-32-32-32S0 334.3 0 352l0 96c0 17.7 14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0 0-64zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0 0 64c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-96 0zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32l0-96z"]};var uT={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]};var cQ={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},fT=cQ;var ud={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M345 273c9.4-9.4 9.4-24.6 0-33.9L201 95c-6.9-6.9-17.2-8.9-26.2-5.2S160 102.3 160 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L345 273zm7 143c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0z"]};var lQ={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},pT=lQ;var H0={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]};var _c={prefix:"fas",iconName:"cart-plus",icon:[640,512,[],"f217","M0 8C0-5.3 10.7-16 24-16l45.3 0c27.1 0 50.3 19.4 55.1 46l.4 2 412.7 0c20 0 35.1 18.2 31.4 37.9L537.8 235.8c-5.7 30.3-32.1 52.2-62.9 52.2l-303.6 0 5.1 28.3c2.1 11.4 12 19.7 23.6 19.7L456 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-255.9 0c-34.8 0-64.6-24.9-70.8-59.1L77.2 38.6c-.7-3.8-4-6.6-7.9-6.6L24 32C10.7 32 0 21.3 0 8zM160 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm224 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM336 78.4c-13.3 0-24 10.7-24 24l0 33.6-33.6 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l33.6 0 0 33.6c0 13.3 10.7 24 24 24s24-10.7 24-24l0-33.6 33.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-33.6 0 0-33.6c0-13.3-10.7-24-24-24z"]};var mT={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M128 320L24.5 320c-24.9 0-40.2-27.1-27.4-48.5L50 183.3C58.7 168.8 74.3 160 91.2 160l95 0c76.1-128.9 189.6-135.4 265.5-124.3 12.8 1.9 22.8 11.9 24.6 24.6 11.1 75.9 4.6 189.4-124.3 265.5l0 95c0 16.9-8.8 32.5-23.3 41.2l-88.2 52.9c-21.3 12.8-48.5-2.6-48.5-27.4L192 384c0-35.3-28.7-64-64-64l-.1 0zM400 160a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]};var hT={prefix:"fas",iconName:"b",icon:[320,512,[98],"42","M32 32C14.3 32 0 46.3 0 64L0 448c0 17.7 14.3 32 32 32l160 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM160 224l-96 0 0-128 96 0c35.3 0 64 28.7 64 64s-28.7 64-64 64zM64 288l128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0 0-128z"]};var fd={prefix:"fas",iconName:"money-bill-trend-up",icon:[512,512,[],"e529","M480 8c0-13.3-10.7-24-24-24L354.2-16c-13.3 0-24 10.7-24 24s10.7 24 24 24l43.9 0-111.3 111.3-95.1-81.5c-9-7.7-22.2-7.7-31.2 0l-112 96c-10.1 8.6-11.2 23.8-2.6 33.8s23.8 11.2 33.8 2.6l96.4-82.6 96.4 82.6c9.5 8.2 23.7 7.6 32.6-1.3l127-127 0 43.9c0 13.3 10.7 24 24 24s24-10.7 24-24L480 8zM48 256c-26.5 0-48 21.5-48 48L0 464c0 26.5 21.5 48 48 48l416 0c26.5 0 48-21.5 48-48l0-160c0-26.5-21.5-48-48-48L48 256zm47.3 56c-3.4 20.1-19.2 36-39.4 39.4-4.4 .7-8-2.9-8-7.3l0-32c0-4.4 3.6-8 8-8l32 0c4.4 0 8.1 3.6 7.3 8zm0 144.1c.7 4.4-2.9 8-7.3 8l-32 0c-4.4 0-8-3.6-8-8l0-32c0-4.4 3.6-8.1 8-7.3 20.1 3.4 36 19.2 39.4 39.4zM456 416.7c4.4-.7 8 2.9 8 7.3l0 32c0 4.4-3.6 8-8 8l-32 0c-4.4 0-8.1-3.6-7.3-8 3.4-20.1 19.2-36 39.4-39.4zM416.7 312c-.7-4.4 2.9-8 7.3-8l32 0c4.4 0 8 3.6 8 8l0 32c0 4.4-3.6 8.1-8 7.3-20.1-3.4-36-19.2-39.4-39.4zM192 384a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z"]};var gT={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM167 167c9.4-9.4 24.6-9.4 33.9 0l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9z"]};var vT={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M311.4 32l8.6 0c35.3 0 64 28.7 64 64l0 352c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l8.6 0C83.6 12.9 104.3 0 128 0L256 0c23.7 0 44.4 12.9 55.4 32zM248 112c13.3 0 24-10.7 24-24s-10.7-24-24-24L136 64c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0zM128 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm32 0c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zm0 128c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zM96 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]};var yT={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]};var pd={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]};var _T={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M0 256a256 256 0 1 1 512 0 256 256 0 1 1 -512 0z"]};var bT={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]};var xT={prefix:"fas",iconName:"link",icon:[576,512,[128279,"chain"],"f0c1","M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"]};var md={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]};var CT={prefix:"fas",iconName:"building",icon:[384,512,[127970,61687],"f1ad","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM176 352l32 0c17.7 0 32 14.3 32 32l0 80-96 0 0-80c0-17.7 14.3-32 32-32zM96 112c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM240 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM96 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm144-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]};var wT={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]};var bc={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},ST=bc,MT={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-277.5c0-17-6.7-33.3-18.7-45.3L258.7 18.7C246.7 6.7 230.5 0 213.5 0L64 0zM325.5 176L232 176c-13.3 0-24-10.7-24-24L208 58.5 325.5 176z"]};var hd={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]};var ET={prefix:"fas",iconName:"play",icon:[448,512,[9654],"f04b","M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z"]};var TT={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]};var IT={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 80l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 112l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]};var dQ={prefix:"fas",iconName:"house",icon:[512,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM240 320l32 0c26.5 0 48 21.5 48 48l0 96-128 0 0-96c0-26.5 21.5-48 48-48z"]},DT=dQ;var X1={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]};var zT={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 224zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384z"]};var gd={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]};var zh={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},LT=zh;var kT={prefix:"fas",iconName:"chart-simple",icon:[512,512,[],"e473","M192 80c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-352zM0 272c0-26.5 21.5-48 48-48l32 0c26.5 0 48 21.5 48 48l0 160c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48L0 272zM432 96l32 0c26.5 0 48 21.5 48 48l0 288c0 26.5-21.5 48-48 48l-32 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48z"]};var vd={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]};var AT={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]};var NT={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};var yd={prefix:"fas",iconName:"chart-pie",icon:[576,512,["pie-chart"],"f200","M512.4 240l-176 0c-17.7 0-32-14.3-32-32l0-176c0-17.7 14.4-32.2 31.9-29.9 107 14.2 191.8 99 206 206 2.3 17.5-12.2 31.9-29.9 31.9zM222.6 37.2c18.1-3.8 33.8 11 33.8 29.5l0 197.3c0 5.6 2 11 5.5 15.3L394 438.7c11.7 14.1 9.2 35.4-6.9 44.1-34.1 18.6-73.2 29.2-114.7 29.2-132.5 0-240-107.5-240-240 0-115.5 81.5-211.9 190.2-234.8zM477.8 288l64 0c18.5 0 33.3 15.7 29.5 33.8-10.2 48.4-35 91.4-69.6 124.2-12.3 11.7-31.6 9.2-42.4-3.9L374.9 340.4c-17.3-20.9-2.4-52.4 24.6-52.4l78.2 0z"]};var PT={prefix:"fas",iconName:"file-invoice-dollar",icon:[384,512,[],"f571","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM64 88c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64C74.7 64 64 74.7 64 88zm0 96c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zm112 76l0 4c-28.8 .3-52 23.7-52 52.5 0 25.7 18.5 47.6 43.9 51.8l41.7 7c6 1 10.4 6.2 10.4 12.3 0 6.9-5.6 12.5-12.5 12.5L152 400c-11 0-20 9-20 20s9 20 20 20l24 0 0 4c0 11 9 20 20 20s20-9 20-20l0-4.7c25-4.1 44-25.7 44-51.8 0-25.7-18.5-47.6-43.9-51.8l-41.7-7c-6-1-10.4-6.2-10.4-12.3 0-6.9 5.6-12.5 12.5-12.5l47.5 0c11 0 20-9 20-20s-9-20-20-20l-8 0 0-4c0-11-9-20-20-20s-20 9-20 20z"]};var OT={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]};var q0={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]};var Ir={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},RT=Ir,FT={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]};var uQ={prefix:"fas",iconName:"link-slash",icon:[576,512,["chain-broken","chain-slash","unlink"],"f127","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-122-122c4.2-3.4 8.3-7.1 12.1-10.9l71.1-71.1c29.3-29.3 45.8-69.1 45.8-110.6 0-86.4-70-156.5-156.5-156.5-37.3 0-73.1 13.3-101.3 37.2 20.3 10.1 38.7 23.5 54.5 39.5 14.1-8.3 30.2-12.7 46.8-12.7 51.1 0 92.5 41.4 92.5 92.5 0 24.5-9.7 48-27.1 65.4l-71.1 71.1c-3.9 3.9-8.1 7.4-12.6 10.5l-47.5-47.5c16.5-.9 29.7-14.4 30.2-31.1 0-1.3 0-2.6 0-3.9 0-86.3-69.9-156.9-156.5-156.9-19.2 0-37.9 3.5-55.5 10.2L41-24.9zM225.9 160c.6 0 1.1 0 1.7 0 15.1 0 29.5 3.7 42.1 10.2 1.8 1.2 3.6 2.3 5.5 3.1 26.8 16.3 44.8 45.9 44.8 79.6 0 .4 0 .8 0 1.2L225.9 160zM346.2 416L192 261.8c1.2 84.6 69.6 152.9 154.1 154.1zM139.7 209.5l-45.3-45.3-48.6 48.6c-29.3 29.3-45.8 69.1-45.8 110.6 0 86.4 70 156.5 156.5 156.5 37.2 0 73.1-13.3 101.3-37.2-20.3-10.1-38.8-23.5-54.6-39.5-14 8.2-30.1 12.6-46.7 12.6-51.1 0-92.5-41.4-92.5-92.5 0-24.5 9.7-48 27.1-65.4l48.6-48.6z"]};var BT=uQ;var Ao={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]};var VT={prefix:"fas",iconName:"tag",icon:[512,512,[127991],"f02b","M32.5 96l0 149.5c0 17 6.7 33.3 18.7 45.3l192 192c25 25 65.5 25 90.5 0L483.2 333.3c25-25 25-65.5 0-90.5l-192-192C279.2 38.7 263 32 246 32L96.5 32c-35.3 0-64 28.7-64 64zm112 16a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]};var UT={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M169.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L192 205.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]};var jT={prefix:"fas",iconName:"pause",icon:[384,512,[9208],"f04c","M48 32C21.5 32 0 53.5 0 80L0 432c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48L48 32zm224 0c-26.5 0-48 21.5-48 48l0 352c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48l-64 0z"]};var HT={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M128 96l0-16c0-44.2 86-80 192-80S512 35.8 512 80l0 16c0 30.6-41.3 57.2-102 70.7-2.4-2.8-4.9-5.5-7.4-8-15.5-15.3-35.5-26.9-56.4-35.5-41.9-17.5-96.5-27.1-154.2-27.1-21.9 0-43.3 1.4-63.8 4.1-.2-1.3-.2-2.7-.2-4.1zM432 353l0-46.2c15.1-3.9 29.3-8.5 42.2-13.9 13.2-5.5 26.1-12.2 37.8-20.3l0 15.4c0 26.8-31.5 50.5-80 65zm0-96l0-33c0-4.5-.4-8.8-1-13 15.5-3.9 30-8.6 43.2-14.2s26.1-12.2 37.8-20.3l0 15.4c0 26.8-31.5 50.5-80 65zM0 240l0-16c0-44.2 86-80 192-80s192 35.8 192 80l0 16c0 44.2-86 80-192 80S0 284.2 0 240zm384 96c0 44.2-86 80-192 80S0 380.2 0 336l0-15.4c11.6 8.1 24.5 14.7 37.8 20.3 41.9 17.5 96.5 27.1 154.2 27.1s112.3-9.7 154.2-27.1c13.2-5.5 26.1-12.2 37.8-20.3l0 15.4zm0 80.6l0 15.4c0 44.2-86 80-192 80S0 476.2 0 432l0-15.4c11.6 8.1 24.5 14.7 37.8 20.3 41.9 17.5 96.5 27.1 154.2 27.1s112.3-9.7 154.2-27.1c13.2-5.5 26.1-12.2 37.8-20.3z"]};var _d={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};var $0={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M133.8 36.3c10.9 7.6 13.5 22.6 5.9 33.4l-56 80c-4.1 5.8-10.5 9.5-17.6 10.1S52 158 47 153L7 113C-2.3 103.6-2.3 88.4 7 79S31.6 69.7 41 79l19.8 19.8 39.6-56.6c7.6-10.9 22.6-13.5 33.4-5.9zm0 160c10.9 7.6 13.5 22.6 5.9 33.4l-56 80c-4.1 5.8-10.5 9.5-17.6 10.1S52 318 47 313L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l19.8 19.8 39.6-56.6c7.6-10.9 22.6-13.5 33.4-5.9zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM64 376a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]};var qT={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z"]},Li=qT,$T=qT;var xc={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},WT=xc;var GT={prefix:"fas",iconName:"arrow-trend-down",icon:[576,512,[],"e097","M384 352c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0c17.7 0 32-14.3 32-32l0-160c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 82.7-169.4-169.4c-12.5-12.5-32.8-12.5-45.3 0L192 242.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0L320 205.3 466.7 352 384 352z"]};var fQ=["searchInput"];function pQ(n,i){if(n&1){let e=V();c(0,"div",4),C("click",function(){w(e);let r=g();return S(r.expand())}),M(1,"fa-icon",5),l()}if(n&2){let e=g();d(),p("icon",e.faSearch)}}function mQ(n,i){if(n&1){let e=V();c(0,"button",11),C("click",function(){w(e);let r=g(2);return S(r.clearSearch())}),Ke(),c(1,"svg",12),M(2,"path",13),l()()}}function hQ(n,i){if(n&1){let e=V();c(0,"div",6)(1,"div",7),M(2,"fa-icon",8),l(),c(3,"input",9,0),C("input",function(r){w(e);let o=g();return S(o.onInputChange(r))})("blur",function(){w(e);let r=g();return S(r.onBlur())})("keydown.escape",function(){w(e);let r=g();return S(r.collapse())}),l(),x(5,mQ,3,0,"button",10),l()}if(n&2){let e=g();d(2),p("icon",e.faSearch),d(),p("value",e.searchTerm)("placeholder",e.placeholder),d(2),p("ngIf",e.searchTerm)}}var ki=(()=>{let i=class i{constructor(){this.placeholder="Search...",this.inputChange=new K,this.searchTerm="",this.isExpanded=!1,this.faSearch=Lo}expand(){this.isExpanded=!0,setTimeout(()=>{this.searchInput&&this.searchInput.nativeElement.focus()},100)}collapse(){this.searchTerm||(this.isExpanded=!1)}onBlur(){this.searchTerm||setTimeout(()=>{this.isExpanded=!1},150)}clearSearch(){this.searchTerm="",this.inputChange.emit(""),this.collapse()}onInputChange(t){let r=t.target.value;this.searchTerm=r,this.inputChange.emit(r)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-search-input"]],viewQuery:function(r,o){if(r&1&&Ft(fQ,5),r&2){let a;ft(a=pt())&&(o.searchInput=a.first)}},inputs:{placeholder:"placeholder",searchTerm:"searchTerm"},outputs:{inputChange:"inputChange"},decls:3,vars:2,consts:[["searchInput",""],[1,"relative","flex","items-center"],["class","flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-100 transition-all duration-200",3,"click",4,"ngIf"],["class","flex items-center w-full max-w-md bg-white border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-blue-100 focus-within:border-blue-100 transition-all duration-200",4,"ngIf"],[1,"flex","items-center","justify-center","w-10","h-10","bg-white","border","border-gray-300","rounded-md","cursor-pointer","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-100","transition-all","duration-200",3,"click"],[1,"text-gray-500","text-sm",3,"icon"],[1,"flex","items-center","w-full","max-w-md","bg-white","border","border-gray-300","rounded-md","focus-within:ring-2","focus-within:ring-blue-100","focus-within:border-blue-100","transition-all","duration-200"],[1,"pl-3"],[1,"text-gray-400","text-sm",3,"icon"],["type","text",1,"flex-1","py-2","px-3","bg-transparent","border-0","focus:outline-none","text-sm",3,"input","blur","keydown.escape","value","placeholder"],["class","pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",3,"click",4,"ngIf"],[1,"pr-3","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(r,o){r&1&&(c(0,"div",1),x(1,pQ,2,1,"div",2)(2,hQ,6,4,"div",3),l()),r&2&&(d(),p("ngIf",!o.isExpanded),d(),p("ngIf",o.isExpanded))},dependencies:[bt,we,he,Q],encapsulation:2});let n=i;return n})();function gQ(n,i){if(n&1&&(c(0,"span",1),f(1),N(2,"uppercase"),l()),n&2){let e=g();d(),k(" ",W1(2,1,e.text),`
`)}}var xt=(()=>{let i=class i{constructor(){this.text="",this.color="gray",this.styles={blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700",green:"bg-green-100 text-green-700",orange:"bg-orange-100 text-orange-700",purple:"bg-purple-100 text-purple-700",gray:"bg-gray-100 text-gray-700"}}get classes(){return`inline-flex items-center text-[10px] rounded-md px-2 ${this.styles[this.color]}`}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-small-chip"]],hostVars:2,hostBindings:function(r,o){r&2&&Bt(o.classes)},inputs:{text:"text",color:"color"},decls:1,vars:1,consts:[["class","flex items-center justify-center w-full h-full",4,"ngIf"],[1,"flex","items-center","justify-center","w-full","h-full"]],template:function(r,o){r&1&&x(0,gQ,3,3,"span",0),r&2&&p("ngIf",o.text)},dependencies:[Q,D4],encapsulation:2});let n=i;return n})();var nn=(()=>{let i=class i{constructor(t){this.applicationProperties=t}transform(t,r="time"){if(!t)return"";typeof t=="string"&&/^\d{2}:\d{2}:\d{2}$/.test(t)&&(t=`1970-01-01T${t}Z`);let o=new Date(t);if(this.applicationProperties.getEnvironment()==="prod"&&r!=="time-no-mod"&&r!=="datetime-ordinal-no-mod"){let m=o.getTime()-5.5*60*60*1e3;o=new Date(m)}let a="Asia/Kolkata";if(r==="date")return o.toLocaleDateString("en-IN",{timeZone:a,day:"2-digit",month:"2-digit",year:"numeric"});if(r==="datetime")return o.toLocaleString("en-IN",{timeZone:a,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});if(r==="time-no-mod")return o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});if(r==="date-ordinal"){let u=o.getDate(),m=o.toLocaleString("en-IN",{timeZone:a,month:"short"}),_=o.getFullYear();return`${s(u)} ${m} ${_}`}else if(r==="datetime-ordinal"||r==="datetime-ordinal-no-mod"){let u=o.getDate(),m=s(u),_=o.toLocaleString("en-IN",{timeZone:a,month:"short"}),y=o.getFullYear(),E=o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});return`${m} ${_} ${y}, ${E}`}else return o.toLocaleTimeString("en-IN",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});function s(u){if(u>3&&u<21)return`${u}th`;switch(u%10){case 1:return`${u}st`;case 2:return`${u}nd`;case 3:return`${u}rd`;default:return`${u}th`}}}};i.\u0275fac=function(r){return new(r||i)(D(Eo,16))},i.\u0275pipe=gr({name:"istDate",type:i,pure:!0});let n=i;return n})();var Cc=class{_attachedHost;attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},No=class extends Cc{component;viewContainerRef;injector;projectableNodes;constructor(i,e,t,r){super(),this.component=i,this.viewContainerRef=e,this.injector=t,this.projectableNodes=r}},Po=class extends Cc{templateRef;viewContainerRef;context;injector;constructor(i,e,t,r){super(),this.templateRef=i,this.viewContainerRef=e,this.context=t,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}},Lh=class extends Cc{element;constructor(i){super(),this.element=i instanceof Me?i.nativeElement:i}},W0=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof No)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof Po)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof Lh)return this._attachedPortal=i,this.attachDomPortal(i)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},wc=class extends W0{outletElement;_appRef;_defaultInjector;constructor(i,e,t){super(),this.outletElement=i,this._appRef=e,this._defaultInjector=t}attachComponentPortal(i){let e;if(i.viewContainerRef){let t=i.injector||i.viewContainerRef.injector,r=t.get(E2,null,{optional:!0})||void 0;e=i.viewContainerRef.createComponent(i.component,{index:i.viewContainerRef.length,injector:t,ngModuleRef:r,projectableNodes:i.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let t=this._appRef,r=i.injector||this._defaultInjector||fe.NULL,o=r.get(Lt,t.injector);e=F5(i.component,{elementInjector:r,environmentInjector:o,projectableNodes:i.projectableNodes||void 0}),t.attachView(e.hostView),this.setDisposeFn(()=>{t.viewCount>0&&t.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=i,e}attachTemplatePortal(i){let e=i.viewContainerRef,t=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return t.rootNodes.forEach(r=>this.outletElement.appendChild(r)),t.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(t);r!==-1&&e.remove(r)}),this._attachedPortal=i,t}attachDomPortal=i=>{let e=i.element;e.parentNode;let t=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(t,e),this.outletElement.appendChild(e),this._attachedPortal=i,super.setDisposeFn(()=>{t.parentNode&&t.parentNode.replaceChild(e,t)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var Sc=(()=>{class n extends W0{_moduleRef=T(E2,{optional:!0});_document=T(J);_viewContainerRef=T(An);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new K;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let t=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=t.createComponent(e.component,{index:t.length,injector:e.injector||t.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(r,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ut]})}return n})();var bd=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({})}return n})();function Dr(n){return n.buttons===0||n.detail===0}function zr(n){let i=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!i&&i.identifier===-1&&(i.radiusX==null||i.radiusX===1)&&(i.radiusY==null||i.radiusY===1)}var kh;function YT(){if(kh==null){let n=typeof document<"u"?document.head:null;kh=!!(n&&(n.createShadowRoot||n.attachShadow))}return kh}function Ya(n){if(YT()){let i=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function Mc(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let i=n.shadowRoot.activeElement;if(i===n)break;n=i}return n}function r1(n){return n.composedPath?n.composedPath()[0]:n.target}var Ah;try{Ah=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ah=!1}var rn=(()=>{class n{_platformId=T(Ta);isBrowser=this._platformId?Uw(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Ah)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ec;function QT(){if(Ec==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ec=!0}))}finally{Ec=Ec||!1}return Ec}function Oo(n){return QT()?n:!!n.capture}function U2(n,i=0){return KT(n)?Number(n):arguments.length===2?i:0}function KT(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Fn(n){return n instanceof Me?n.nativeElement:n}var XT=new G("cdk-input-modality-detector-options"),ZT={ignoreKeys:[18,17,224,91,16]},JT=650,Nh={passive:!0,capture:!0},eI=(()=>{class n{_platform=T(rn);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ht(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(t=>t===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=r1(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<JT||(this._modality.next(Dr(e)?"keyboard":"mouse"),this._mostRecentTarget=r1(e))};_onTouchstart=e=>{if(zr(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=r1(e)};constructor(){let e=T(ce),t=T(J),r=T(XT,{optional:!0});if(this._options=P(P({},ZT),r),this.modalityDetected=this._modality.pipe(k3(1)),this.modalityChanged=this.modalityDetected.pipe(qi()),this._platform.isBrowser){let o=T(mn).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(t,"keydown",this._onKeydown,Nh),o.listen(t,"mousedown",this._onMousedown,Nh),o.listen(t,"touchstart",this._onTouchstart,Nh)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tc=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Tc||{}),tI=new G("cdk-focus-monitor-default-options"),xd=Oo({passive:!0,capture:!0}),Ro=(()=>{class n{_ngZone=T(ce);_platform=T(rn);_inputModalityDetector=T(eI);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=T(J);_stopInputModalityDetector=new Y;constructor(){let e=T(tI,{optional:!0});this._detectionMode=e?.detectionMode||Tc.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let t=r1(e);for(let r=t;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,t=!1){let r=Fn(e);if(!this._platform.isBrowser||r.nodeType!==1)return Z();let o=Ya(r)||this._document,a=this._elementInfo.get(r);if(a)return t&&(a.checkChildren=!0),a.subject;let s={checkChildren:t,subject:new Y,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let t=Fn(e),r=this._elementInfo.get(t);r&&(r.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(r))}focusVia(e,t,r){let o=Fn(e),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,u])=>this._originChanged(s,t,u)):(this._setOrigin(t),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Tc.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,t){e.classList.toggle("cdk-focused",!!t),e.classList.toggle("cdk-touch-focused",t==="touch"),e.classList.toggle("cdk-keyboard-focused",t==="keyboard"),e.classList.toggle("cdk-mouse-focused",t==="mouse"),e.classList.toggle("cdk-program-focused",t==="program")}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&t,this._detectionMode===Tc.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?JT:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,t){let r=this._elementInfo.get(t),o=r1(e);!r||!r.checkChildren&&t!==o||this._originChanged(t,this._getFocusOrigin(o),r)}_onBlur(e,t){let r=this._elementInfo.get(t);!r||r.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(r,null))}_emitOrigin(e,t){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let t=e.rootNode,r=this._rootNodeFocusListenerCount.get(t)||0;r||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,xd),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,xd)}),this._rootNodeFocusListenerCount.set(t,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(lt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){let r=this._rootNodeFocusListenerCount.get(t);r>1?this._rootNodeFocusListenerCount.set(t,r-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xd),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xd),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,r){this._setClasses(e,t),this._emitOrigin(r,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){let t=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&t.push([o,r])}),t}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:t,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!t||t===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(t))return!0}return!1}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cd=new WeakMap,Z1=(()=>{class n{_appRef;_injector=T(fe);_environmentInjector=T(Lt);load(e){let t=this._appRef=this._appRef||this._injector.get(gn),r=Cd.get(t);r||(r={loaders:new Set,refs:[]},Cd.set(t,r),t.onDestroy(()=>{Cd.get(t)?.refs.forEach(o=>o.destroy()),Cd.delete(t)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(F5(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wd=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(t,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function G0(n){return Array.isArray(n)?n:[n]}var nI=new Set,Qa,Sd=(()=>{class n{_platform=T(rn);_nonce=T(a0,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yQ}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&vQ(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vQ(n,i){if(!nI.has(n))try{Qa||(Qa=document.createElement("style"),i&&Qa.setAttribute("nonce",i),Qa.setAttribute("type","text/css"),document.head.appendChild(Qa)),Qa.sheet&&(Qa.sheet.insertRule(`@media ${n} {body{ }}`,0),nI.add(n))}catch(e){console.error(e)}}function yQ(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Ph=(()=>{class n{_mediaMatcher=T(Sd);_zone=T(ce);_queries=new Map;_destroySubject=new Y;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return iI(G0(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=iI(G0(e)).map(a=>this._registerQuery(a).observable),o=fa(r);return o=Xr(o.pipe(We(1)),o.pipe(k3(1),ci(0))),o.pipe(ye(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:m})=>{s.matches=s.matches||u,s.breakpoints[m]=u}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let t=this._mediaMatcher.matchMedia(e),o={observable:new Te(a=>{let s=u=>this._zone.run(()=>a.next(u));return t.addListener(s),()=>{t.removeListener(s)}}).pipe(c1(t),ye(({matches:a})=>({query:e,matches:a})),lt(this._destroySubject)),mql:t};return this._queries.set(e,o),o}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iI(n){return n.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}var Fh=(()=>{class n{_platform=T(rn);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return bQ(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let t=_Q(IQ(e));if(t&&(rI(t)===-1||!this.isVisible(t)))return!1;let r=e.nodeName.toLowerCase(),o=rI(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!EQ(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,t){return TQ(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _Q(n){try{return n.frameElement}catch{return null}}function bQ(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function xQ(n){let i=n.nodeName.toLowerCase();return i==="input"||i==="select"||i==="button"||i==="textarea"}function CQ(n){return SQ(n)&&n.type=="hidden"}function wQ(n){return MQ(n)&&n.hasAttribute("href")}function SQ(n){return n.nodeName.toLowerCase()=="input"}function MQ(n){return n.nodeName.toLowerCase()=="a"}function sI(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let i=n.getAttribute("tabindex");return!!(i&&!isNaN(parseInt(i,10)))}function rI(n){if(!sI(n))return null;let i=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}function EQ(n){let i=n.nodeName.toLowerCase(),e=i==="input"&&n.type;return e==="text"||e==="password"||i==="select"||i==="textarea"}function TQ(n){return CQ(n)?!1:xQ(n)||wQ(n)||n.hasAttribute("contenteditable")||sI(n)}function IQ(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Rh=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_enabled=!0;constructor(i,e,t,r,o=!1,a){this._element=i,this._checker=e,this._ngZone=t,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return i=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let t=this._getFirstTabbableElement(e);return t?.focus(i),!!t}return e.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){let e=this._getRegionBoundary("start");return e&&e.focus(i),!!e}focusLastTabbableElement(i){let e=this._getRegionBoundary("end");return e&&e.focus(i),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let t=0;t<e.length;t++){let r=e[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[t]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let t=e.length-1;t>=0;t--){let r=e[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[t]):null;if(r)return r}return null}_createAnchor(){let i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._injector?Sn(i,{injector:this._injector}):setTimeout(i)}},Bh=(()=>{class n{_checker=T(Fh);_ngZone=T(ce);_document=T(J);_injector=T(fe);constructor(){T(Z1).load(wd)}create(e,t=!1){return new Rh(e,this._checker,this._ngZone,this._document,t,this._injector)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fo=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Fo||{}),oI="cdk-high-contrast-black-on-white",aI="cdk-high-contrast-white-on-black",Oh="cdk-high-contrast-active",Vh=(()=>{class n{_platform=T(rn);_hasCheckedHighContrastMode;_document=T(J);_breakpointSubscription;constructor(){this._breakpointSubscription=T(Ph).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Fo.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let t=this._document.defaultView||window,r=t&&t.getComputedStyle?t.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Fo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Fo.BLACK_ON_WHITE}return Fo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Oh,oI,aI),this._hasCheckedHighContrastMode=!0;let t=this.getHighContrastMode();t===Fo.BLACK_ON_WHITE?e.add(Oh,oI):t===Fo.WHITE_ON_BLACK&&e.add(Oh,aI)}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j2(n,...i){return i.length?i.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Uh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function xn(n){return n==null?"":typeof n=="string"?n:`${n}px`}var DQ=new G("cdk-dir-doc",{providedIn:"root",factory:zQ});function zQ(){return T(J)}var LQ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function cI(n){let i=n?.toLowerCase()||"";return i==="auto"&&typeof navigator<"u"&&navigator?.language?LQ.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var Ai=(()=>{class n{get value(){return this.valueSignal()}valueSignal=_t("ltr");change=new K;constructor(){let e=T(DQ,{optional:!0});if(e){let t=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(cI(t||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ka;function lI(){if(Ka==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ka=!1,Ka;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Ka=!0;else{let n=Element.prototype.scrollTo;n?Ka=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Ka=!1}}return Ka}var Bo=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({})}return n})();var kQ=20,Vo=(()=>{class n{_ngZone=T(ce);_platform=T(rn);_renderer=T(mn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Y;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=kQ){return this._platform.isBrowser?new Te(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(u6(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Z()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let r=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(be(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&t.push(o)}),t}_scrollableContainsElement(e,t){let r=Fn(t),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var AQ=20,Lr=(()=>{class n{_platform=T(rn);_listeners;_viewportSize;_change=new Y;_document=T(J);constructor(){let e=T(ce),t=T(mn).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[t.listen("window","resize",r),t.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+t,height:r,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||t.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||t.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=AQ){return e>0?this._change.pipe(u6(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xa=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({})}return n})(),jh=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({imports:[Bo,Xa,Bo,Xa]})}return n})();var Hh={},kr=(()=>{class n{_appId=T(fo);getId(e){return this._appId!=="ng"&&(e+=this._appId),Hh.hasOwnProperty(e)||(Hh[e]=0),`${e}${Hh[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dI=lI();function Q0(n){return new Md(n.get(Lr),n.get(J))}var Md=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(i,e){this._viewportRuler=i,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=xn(-this._previousScrollPosition.left),i.style.top=xn(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,e=this._document.body,t=i.style,r=e.style,o=t.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),dI&&(t.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dI&&(t.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}};function vI(n,i){return new Ed(n.get(Vo),n.get(ce),n.get(Lr),i)}var Ed=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(i,e,t,r){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=t,this._config=r}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(be(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Ic=class{enable(){}disable(){}attach(){}};function qh(n,i){return i.some(e=>{let t=n.bottom<e.top,r=n.top>e.bottom,o=n.right<e.left,a=n.left>e.right;return t||r||o||a})}function uI(n,i){return i.some(e=>{let t=n.top<e.top,r=n.bottom>e.bottom,o=n.left<e.left,a=n.right>e.right;return t||r||o||a})}function Ar(n,i){return new Td(n.get(Vo),n.get(Lr),n.get(ce),i)}var Td=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(i,e,t,r){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=t,this._config=r}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:r}=this._viewportRuler.getViewportSize();qh(e,[{width:t,height:r,bottom:r,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},yI=(()=>{class n{_injector=T(fe);constructor(){}noop=()=>new Ic;close=e=>vI(this._injector,e);block=()=>Q0(this._injector);reposition=e=>Ar(this._injector,e);static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uo=class{positionStrategy;scrollStrategy=new Ic;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(i){if(i){let e=Object.keys(i);for(let t of e)i[t]!==void 0&&(this[t]=i[t])}}};var Id=class{connectionPair;scrollableViewProperties;constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}};var _I=(()=>{class n{_attachedOverlays=[];_document=T(J);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bI=(()=>{class n extends _I{_ngZone=T(ce);_renderer=T(mn).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let t=this._attachedOverlays;for(let r=t.length-1;r>-1;r--)if(t[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>t[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xI=(()=>{class n extends _I{_platform=T(rn);_ngZone=T(ce);_renderer=T(mn).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let t=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(t,"pointerdown",this._pointerDownListener,r),o.listen(t,"click",this._clickListener,r),o.listen(t,"auxclick",this._clickListener,r),o.listen(t,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=r1(e)};_clickListener=e=>{let t=r1(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(fI(s.overlayElement,t)||fI(s.overlayElement,r))break;let u=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(e)):u.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fI(n,i){let e=typeof ShadowRoot<"u"&&ShadowRoot,t=i;for(;t;){if(t===n)return!0;t=e&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var CI=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(t,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),Ld=(()=>{class n{_platform=T(rn);_containerElement;_document=T(J);_styleLoader=T(Z1);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Uh()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let t=this._document.createElement("div");t.classList.add(e),Uh()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}_loadStyles(){this._styleLoader.load(CI)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$h=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(i,e,t,r){this._renderer=e,this._ngZone=t,this.element=i.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let i=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(i,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),i.style.pointerEvents="none",i.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Y0=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Y;_attachments=new Y;_detachments=new Y;_positionStrategy;_scrollStrategy;_locationChanges=Ve.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new Y;_outsidePointerEvents=new Y;_afterNextRenderRef;constructor(i,e,t,r,o,a,s,u,m,_=!1,y,E){this._portalOutlet=i,this._host=e,this._pane=t,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._outsideClickDispatcher=m,this._animationsDisabled=_,this._injector=y,this._renderer=E,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Sn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,i&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=P(P({},this._config),i),this._updateElementSize()}setDirection(i){this._config=ie(P({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=xn(this._config.width),i.height=xn(this._config.height),i.minWidth=xn(this._config.minWidth),i.minHeight=xn(this._config.minHeight),i.maxWidth=xn(this._config.maxWidth),i.maxHeight=xn(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new $h(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(i))}):this._backdropRef.element.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(i,e,t){let r=G0(e||[]).filter(o=>!!o);r.length&&(t?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenEmpty(){let i=!1;try{this._detachContentAfterRenderRef=Sn(()=>{i=!0,this._detachContent()},{injector:this._injector})}catch(e){if(i)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let i=this._scrollStrategy;i?.disable(),i?.detach?.()}},pI="cdk-overlay-connected-position-bounding-box",NQ=/([A-Za-z%]+)$/;function K0(n,i){return new Dd(i,n.get(Lr),n.get(J),n.get(rn),n.get(Ld))}var Dd=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Y;_resizeSubscription=Ve.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(i,e,t,r,o){this._viewportRuler=e,this._document=t,this._platform=r,this._overlayContainer=o,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(pI),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,e=this._overlayRect,t=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let u=this._getOriginPoint(i,r,s),m=this._getOverlayPoint(u,e,s),_=this._getOverlayFit(m,e,t,s);if(_.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,u);return}if(this._canFitWithFlexibleDimensions(_,m,t)){o.push({position:s,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,s)});continue}(!a||a.overlayFit.visibleArea<_.visibleArea)&&(a={overlayFit:_,overlayPoint:m,originPoint:u,position:s,overlayRect:e})}if(o.length){let s=null,u=-1;for(let m of o){let _=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);_>u&&(u=_,s=m)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Za(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,t){let r;if(t.originX=="center")r=i.left+i.width/2;else{let a=this._isRtl()?i.right:i.left,s=this._isRtl()?i.left:i.right;r=t.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return t.originY=="center"?o=i.top+i.height/2:o=t.originY=="top"?i.top:i.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(i,e,t){let r;t.overlayX=="center"?r=-e.width/2:t.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return t.overlayY=="center"?o=-e.height/2:o=t.overlayY=="top"?0:-e.height,{x:i.x+r,y:i.y+o}}_getOverlayFit(i,e,t,r){let o=hI(e),{x:a,y:s}=i,u=this._getOffset(r,"x"),m=this._getOffset(r,"y");u&&(a+=u),m&&(s+=m);let _=0-a,y=a+o.width-t.width,E=0-s,I=s+o.height-t.height,A=this._subtractOverflows(o.width,_,y),R=this._subtractOverflows(o.height,E,I),F=A*R;return{visibleArea:F,isCompletelyWithinViewport:o.width*o.height===F,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:A==o.width}}_canFitWithFlexibleDimensions(i,e,t){if(this._hasFlexibleDimensions){let r=t.bottom-e.y,o=t.right-e.x,a=mI(this._overlayRef.getConfig().minHeight),s=mI(this._overlayRef.getConfig().minWidth),u=i.fitsInViewportVertically||a!=null&&a<=r,m=i.fitsInViewportHorizontally||s!=null&&s<=o;return u&&m}return!1}_pushOverlayOnScreen(i,e,t){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let r=hI(e),o=this._viewportRect,a=Math.max(i.x+r.width-o.width,0),s=Math.max(i.y+r.height-o.height,0),u=Math.max(o.top-t.top-i.y,0),m=Math.max(o.left-t.left-i.x,0),_=0,y=0;return r.width<=o.width?_=m||-a:_=i.x<this._viewportMargin?o.left-t.left-i.x:0,r.height<=o.height?y=u||-s:y=i.y<this._viewportMargin?o.top-t.top-i.y:0,this._previousPushAmount={x:_,y},{x:i.x+_,y:i.y+y}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!PQ(this._lastScrollVisibility,t)){let r=new Id(i,t);this._positionChanges.next(r)}this._lastScrollVisibility=t}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,r=i.overlayY;i.overlayX==="center"?t="center":this._isRtl()?t=i.overlayX==="start"?"right":"left":t=i.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${t} ${r}`}_calculateBoundingBoxRect(i,e){let t=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=i.y,o=t.height-a+this._viewportMargin;else if(e.overlayY==="bottom")s=t.height-i.y+this._viewportMargin*2,o=t.height-s+this._viewportMargin;else{let I=Math.min(t.bottom-i.y+t.top,i.y),A=this._lastBoundingBoxSize.height;o=I*2,a=i.y-I,o>A&&!this._isInitialRender&&!this._growAfterOpen&&(a=i.y-A/2)}let u=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,m=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,_,y,E;if(m)E=t.width-i.x+this._viewportMargin*2,_=i.x-this._viewportMargin;else if(u)y=i.x,_=t.right-i.x;else{let I=Math.min(t.right-i.x+t.left,i.x),A=this._lastBoundingBoxSize.width;_=I*2,y=i.x-I,_>A&&!this._isInitialRender&&!this._growAfterOpen&&(y=i.x-A/2)}return{top:a,left:y,bottom:s,right:E,width:_,height:o}}_setBoundingBoxStyles(i,e){let t=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=xn(t.height),r.top=xn(t.top),r.bottom=xn(t.bottom),r.width=xn(t.width),r.left=xn(t.left),r.right=xn(t.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=xn(o)),a&&(r.maxWidth=xn(a))}this._lastBoundingBoxSize=t,Za(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Za(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Za(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){let t={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let _=this._viewportRuler.getViewportScrollPosition();Za(t,this._getExactOverlayY(e,i,_)),Za(t,this._getExactOverlayX(e,i,_))}else t.position="static";let s="",u=this._getOffset(e,"x"),m=this._getOffset(e,"y");u&&(s+=`translateX(${u}px) `),m&&(s+=`translateY(${m}px)`),t.transform=s.trim(),a.maxHeight&&(r?t.maxHeight=xn(a.maxHeight):o&&(t.maxHeight="")),a.maxWidth&&(r?t.maxWidth=xn(a.maxWidth):o&&(t.maxWidth="")),Za(this._pane.style,t)}_getExactOverlayY(i,e,t){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,i);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,t)),i.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=xn(o.y);return r}_getExactOverlayX(i,e,t){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,t));let a;if(this._isRtl()?a=i.overlayX==="end"?"left":"right":a=i.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=xn(o.x);return r}_getScrollVisibility(){let i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),t=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uI(i,t),isOriginOutsideView:qh(i,t),isOverlayClipped:uI(e,t),isOverlayOutsideView:qh(e,t)}}_subtractOverflows(i,...e){return e.reduce((t,r)=>t-Math.max(r,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+i-this._viewportMargin,bottom:t.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return e==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&G0(i).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof Me)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let e=i.width||0,t=i.height||0;return{top:i.y,bottom:i.y+t,left:i.x,right:i.x+e,height:t,width:e}}};function Za(n,i){for(let e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n}function mI(n){if(typeof n!="number"&&n!=null){let[i,e]=n.split(NQ);return!e||e==="px"?parseFloat(i):null}return n||null}function hI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function PQ(n,i){return n===i?!0:n.isOriginClipped===i.isOriginClipped&&n.isOriginOutsideView===i.isOriginOutsideView&&n.isOverlayClipped===i.isOverlayClipped&&n.isOverlayOutsideView===i.isOverlayOutsideView}var gI="cdk-global-overlay-wrapper";function X0(n){return new zd}var zd=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(i){let e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(gI),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=t,u=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),m=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),_=this._xPosition,y=this._xOffset,E=this._overlayRef.getConfig().direction==="rtl",I="",A="",R="";u?R="flex-start":_==="center"?(R="center",E?A=y:I=y):E?_==="left"||_==="end"?(R="flex-end",I=y):(_==="right"||_==="start")&&(R="flex-start",A=y):_==="left"||_==="start"?(R="flex-start",I=y):(_==="right"||_==="end")&&(R="flex-end",A=y),i.position=this._cssPosition,i.marginLeft=u?"0":I,i.marginTop=m?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=u?"0":A,e.justifyContent=R,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,t=e.style;e.classList.remove(gI),t.justifyContent=t.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},wI=(()=>{class n{_injector=T(fe);constructor(){}global(){return X0()}flexibleConnectedTo(e){return K0(this._injector,e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jo(n,i){n.get(Z1).load(CI);let e=n.get(Ld),t=n.get(J),r=n.get(kr),o=n.get(gn),a=n.get(Ai),s=t.createElement("div"),u=t.createElement("div");u.id=r.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),s.appendChild(u),e.getContainerElement().appendChild(s);let m=new wc(u,o,n),_=new Uo(i),y=n.get(sn,null,{optional:!0})||n.get(mn).createRenderer(null,null);return _.direction=_.direction||a.value,new Y0(m,s,u,_,n.get(ce),n.get(bI),t,n.get(L2),n.get(xI),i?.disableAnimations??n.get(po,null,{optional:!0})==="NoopAnimations",n.get(Lt),y)}var b1=(()=>{class n{scrollStrategies=T(yI);_positionBuilder=T(wI);_injector=T(fe);constructor(){}create(e){return jo(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var OQ=new G("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=T(fe);return()=>Ar(n)}});function RQ(n){let i=T(fe);return()=>Ar(i)}var FQ={provide:OQ,useFactory:RQ},Dc=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({providers:[b1,FQ],imports:[Bo,bd,jh,jh]})}return n})();function VQ(n,i){}var Ho=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var Gh=(()=>{class n extends W0{_elementRef=T(Me);_focusTrapFactory=T(Bh);_config;_interactivityChecker=T(Fh);_ngZone=T(ce);_focusMonitor=T(Ro);_renderer=T(sn);_changeDetectorRef=T(yn);_injector=T(fe);_platform=T(rn);_document=T(J);_portalOutlet;_focusTrapped=new Y;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=T(Ho,{optional:!0})||new Ho,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}attachDomPortal=e=>{this._portalOutlet.hasAttached();let t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(t)}_focusByCssSelector(e,t){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,t)}_trapFocus(e){this._isDestroyed||Sn(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let r=Mc(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,t=Mc();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Mc()))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(t&1&&Ft(Sc,7),t&2){let o;ft(o=pt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){t&2&&Et("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[ut],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){t&1&&x(0,VQ,0,0,"ng-template",0)},dependencies:[Sc],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),zc=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Y;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(i,e){this.overlayRef=i,this.config=e,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!j2(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(i,e){if(this._canClose(i)){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(i),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}_canClose(i){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(i,e,this.componentInstance))}},UQ=new G("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=T(fe);return()=>Q0(n)}}),jQ=new G("DialogData"),HQ=new G("DefaultDialogConfig");function qQ(n){let i=_t(n),e=new K;return{valueSignal:i,get value(){return i()},change:e,ngOnDestroy(){e.complete()}}}var SI=(()=>{class n{_injector=T(fe);_defaultOptions=T(HQ,{optional:!0});_parentDialog=T(n,{optional:!0,skipSelf:!0});_overlayContainer=T(Ld);_idGenerator=T(kr);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Y;_afterOpenedAtThisLevel=new Y;_ariaHiddenElements=new Map;_scrollStrategy=T(UQ);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=nr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(c1(void 0)));constructor(){}open(e,t){let r=this._defaultOptions||new Ho;t=P(P({},r),t),t.id=t.id||this._idGenerator.getId("cdk-dialog-"),t.id&&this.getDialogById(t.id);let o=this._getOverlayConfig(t),a=jo(this._injector,o),s=new zc(a,t),u=this._attachContainer(a,s,t);if(s.containerInstance=u,!this.openDialogs.length){let m=this._overlayContainer.getContainerElement();u._focusTrapped?u._focusTrapped.pipe(We(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(m)}):this._hideNonDialogContentFromAssistiveTechnology(m)}return this._attachDialogContent(e,s,u,t),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){Wh(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Wh(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Wh(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new Uo({positionStrategy:e.positionStrategy||X0().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:Ho,useValue:r},{provide:zc,useValue:t},{provide:Y0,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=Gh;let u=new No(s,r.viewContainerRef,fe.create({parent:o||this._injector,providers:a}));return e.attach(u).instance}_attachDialogContent(e,t,r,o){if(e instanceof d1){let a=this._createInjector(o,t,r,void 0),s={$implicit:o.data,dialogRef:t};o.templateContext&&(s=P(P({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Po(e,null,s,a))}else{let a=this._createInjector(o,t,r,this._injector),s=r.attachComponentPortal(new No(e,o.viewContainerRef,a));t.componentRef=s,t.componentInstance=s.instance}}_createInjector(e,t,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:jQ,useValue:e.data},{provide:zc,useValue:t}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(t,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(Ai,null,{optional:!0}))&&s.push({provide:Ai,useValue:qQ(e.direction)}),fe.create({parent:a||o,providers:s})}_removeOpenDialog(e,t){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let t=e.parentElement.children;for(let r=t.length-1;r>-1;r--){let o=t[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wh(n,i){let e=n.length;for(;e--;)i(n[e])}function Yh(n){return n!=null&&`${n}`!="false"}var $Q=new G("MATERIAL_ANIMATIONS");var MI=null;function WQ(){return T($Q,{optional:!0})?.animationsDisabled||T(po,{optional:!0})==="NoopAnimations"?"di-disabled":(MI??=T(Sd).matchMedia("(prefers-reduced-motion)").matches,MI?"reduced-motion":"enabled")}function r2(){return WQ()!=="enabled"}var GQ=200,kd=class{_letterKeyStream=new Y;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Y;selectedItem=this._selectedItem;constructor(i,e){let t=typeof e?.debounceInterval=="number"?e.debounceInterval:GQ;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(i),this._setupKeyHandler(t)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){let e=i.keyCode;i.key&&i.key.length===1?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe($t(e=>this._pressedLetters.push(e)),ci(i),be(()=>this._pressedLetters.length>0),ye(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let t=1;t<this._items.length+1;t++){let r=(this._selectedItemIndex+t)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};var Ad=class{_items;_activeItemIndex=_t(-1);_activeItem=_t(null);_wrap=!1;_typeaheadSubscription=Ve.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=i=>i.disabled;constructor(i,e){this._items=i,i instanceof fr?this._itemChangesSubscription=i.changes.subscribe(t=>this._itemsChanged(t.toArray())):Ks(i)&&(this._effectRef=m0(()=>this._itemsChanged(i()),{injector:e}))}tabOut=new Y;change=new Y;skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new kd(e,{debounceInterval:typeof i=="number"?i:void 0,skipPredicate:t=>this._skipPredicateFn(t)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(t=>{this.setActiveItem(t)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,e=10){return this._pageUpAndDown={enabled:i,delta:e},this}setActiveItem(i){let e=this._activeItem();this.updateActiveItem(i),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(i){let e=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!i[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||j2(i,"shiftKey"))&&this._typeahead?.handleKey(i);return}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){let e=this._getItemsArray(),t=typeof i=="number"?i:e.indexOf(i),r=e[t];this._activeItem.set(r??null),this._activeItemIndex.set(t),this._typeahead?.setCurrentSelectedItemIndex(t)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){let e=this._getItemsArray();for(let t=1;t<=e.length;t++){let r=(this._activeItemIndex()+i*t+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex()+i,i)}_setActiveItemByIndex(i,e){let t=this._getItemsArray();if(t[i]){for(;this._skipPredicateFn(t[i]);)if(i+=e,!t[i])return;this.setActiveItem(i)}}_getItemsArray(){return Ks(this._items)?this._items():this._items instanceof fr?this._items.toArray():this._items}_itemsChanged(i){this._typeahead?.setItems(i);let e=this._activeItem();if(e){let t=i.indexOf(e);t>-1&&t!==this._activeItemIndex()&&(this._activeItemIndex.set(t),this._typeahead?.setCurrentSelectedItemIndex(t))}}};var Lc=class extends Ad{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}};var DI=" ";function YQ(n,i,e){let t=Pd(n,i);e=e.trim(),!t.some(r=>r.trim()===e)&&(t.push(e),n.setAttribute(i,t.join(DI)))}function QQ(n,i,e){let t=Pd(n,i);e=e.trim();let r=t.filter(o=>o!==e);r.length?n.setAttribute(i,r.join(DI)):n.removeAttribute(i)}function Pd(n,i){return n.getAttribute(i)?.match(/\S+/g)??[]}var zI="cdk-describedby-message",Nd="cdk-describedby-host",Zh=0,LI=(()=>{class n{_platform=T(rn);_document=T(J);_messageRegistry=new Map;_messagesContainer=null;_id=`${Zh++}`;constructor(){T(Z1).load(wd),this._id=T(fo)+"-"+Zh++}describe(e,t,r){if(!this._canBeDescribed(e,t))return;let o=Xh(t,r);typeof t!="string"?(II(t,this._id),this._messageRegistry.set(o,{messageElement:t,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(t,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,t,r){if(!t||!this._isElementNode(e))return;let o=Xh(t,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof t=="string"){let a=this._messageRegistry.get(o);a&&a.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${Nd}="${this._id}"]`);for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(Nd);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,t){let r=this._document.createElement("div");II(r,this._id),r.textContent=e,t&&r.setAttribute("role",t),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Xh(e,t),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",t=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<t.length;o++)t[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let t=Pd(e,"aria-describedby").filter(r=>r.indexOf(zI)!=0);e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){let r=this._messageRegistry.get(t);YQ(e,"aria-describedby",r.messageElement.id),e.setAttribute(Nd,this._id),r.referenceCount++}_removeMessageReference(e,t){let r=this._messageRegistry.get(t);r.referenceCount--,QQ(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Nd)}_isElementDescribedByMessage(e,t){let r=Pd(e,"aria-describedby"),o=this._messageRegistry.get(t),a=o&&o.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&typeof t=="object")return!0;let r=t==null?"":`${t}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xh(n,i){return typeof n=="string"?`${i||""}/${n}`:n}function II(n,i){n.id||(n.id=`${zI}-${i}-${Zh++}`)}var Ni=(()=>{class n{constructor(){T(Vh)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({imports:[Bo,Bo]})}return n})();function KQ(n,i){}var Ac=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},Jh="mdc-dialog--open",kI="mdc-dialog--opening",AI="mdc-dialog--closing",XQ=150,ZQ=75,OI=(()=>{class n extends Gh{_animationStateChanged=new K;_animationsEnabled=!r2();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?PI(this._config.enterAnimationDuration)??XQ:0;_exitAnimationDuration=this._animationsEnabled?PI(this._config.exitAnimationDuration)??ZQ:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(NI,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(kI,Jh)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Jh),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Jh),this._animationsEnabled?(this._hostElement.style.setProperty(NI,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(AI)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(kI,AI)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static \u0275fac=(()=>{let e;return function(r){return(e||(e=hn(n)))(r||n)}})();static \u0275cmp=U({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,r){t&2&&(ho("id",r._config.id),Et("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ne("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[ut],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){t&1&&(c(0,"div",0)(1,"div",1),x(2,KQ,0,0,"ng-template",2),l()())},dependencies:[Sc],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),NI="--mat-dialog-transition-duration";function PI(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?U2(n.substring(0,n.length-2)):n.endsWith("s")?U2(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var kc=(function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n})(kc||{}),Tn=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Y;_beforeClosed=new Y;_result;_closeFallbackTimeout;_state=kc.OPEN;_closeInteractionType;constructor(i,e,t){this._ref=i,this._config=e,this._containerInstance=t,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(be(r=>r.state==="opened"),We(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(be(r=>r.state==="closed"),We(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),v2(this.backdropClick(),this.keydownEvents().pipe(be(r=>r.keyCode===27&&!this.disableClose&&!j2(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),RI(this,r.type==="keydown"?"keyboard":"mouse"))})}close(i){let e=this._config.closePredicate;e&&!e(i,this._config,this.componentInstance)||(this._result=i,this._containerInstance._animationStateChanged.pipe(be(t=>t.state==="closing"),We(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=kc.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=kc.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function RI(n,i,e){return n._closeInteractionType=i,n.close(e)}var x1=new G("MatMdcDialogData"),FI=new G("mat-mdc-dialog-default-options"),BI=new G("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=T(fe);return()=>Q0(n)}}),Zt=(()=>{class n{_defaultOptions=T(FI,{optional:!0});_scrollStrategy=T(BI);_parentDialog=T(n,{optional:!0,skipSelf:!0});_idGenerator=T(kr);_injector=T(fe);_dialog=T(SI);_animationsDisabled=r2();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Y;_afterOpenedAtThisLevel=new Y;dialogConfigClass=Ac;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=nr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(c1(void 0)));constructor(){this._dialogRefConstructor=Tn,this._dialogContainerType=OI,this._dialogDataToken=x1}open(e,t){let r;t=P(P({},this._defaultOptions||new Ac),t),t.id=t.id||this._idGenerator.getId("mat-mdc-dialog-"),t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,ie(P({},t),{positionStrategy:X0(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||t.enterAnimationDuration?.toLocaleString()==="0"||t.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:Ho,useValue:t}]},templateContext:()=>({dialogRef:r}),providers:(a,s,u)=>(r=new this._dialogRefConstructor(a,t,u),r.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ng(n){let i=n.cloneNode(!0),e=i.querySelectorAll("[id]"),t=n.nodeName.toLowerCase();i.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return t==="canvas"?jI(n,i):(t==="input"||t==="select"||t==="textarea")&&UI(n,i),VI("canvas",n,i,jI),VI("input, textarea, select",n,i,UI),i}function VI(n,i,e,t){let r=i.querySelectorAll(n);if(r.length){let o=e.querySelectorAll(n);for(let a=0;a<r.length;a++)t(r[a],o[a])}}var JQ=0;function UI(n,i){i.type!=="file"&&(i.value=n.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${JQ++}`)}function jI(n,i){let e=i.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function lg(n){let i=n.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function ig(n,i,e){let{top:t,bottom:r,left:o,right:a}=n;return e>=t&&e<=r&&i>=o&&i<=a}function eK(n,i){let e=i.left<n.left,t=i.left+i.width>n.right,r=i.top<n.top,o=i.top+i.height>n.bottom;return e||t||r||o}function Oc(n,i,e){n.top+=i,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function HI(n,i,e,t){let{top:r,right:o,bottom:a,left:s,width:u,height:m}=n,_=u*i,y=m*i;return t>r-y&&t<a+y&&e>s-_&&e<o+_}var Od=class{_document;positions=new Map;constructor(i){this._document=i}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:lg(e)})})}handleScroll(i){let e=r1(i),t=this.positions.get(e);if(!t)return null;let r=t.scrollPosition,o,a;if(e===this._document){let m=this.getViewportScrollPosition();o=m.top,a=m.left}else o=e.scrollTop,a=e.scrollLeft;let s=r.top-o,u=r.left-a;return this.positions.forEach((m,_)=>{m.clientRect&&e!==_&&e.contains(_)&&Oc(m.clientRect,s,u)}),r.top=o,r.left=a,{top:s,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function eD(n,i){let e=n.rootNodes;if(e.length===1&&e[0].nodeType===i.ELEMENT_NODE)return e[0];let t=i.createElement("div");return e.forEach(r=>t.appendChild(r)),t}function dg(n,i,e){for(let t in i)if(i.hasOwnProperty(t)){let r=i[t];r?n.setProperty(t,r,e?.has(t)?"important":""):n.removeProperty(t)}return n}function J0(n,i){let e=i?"":"none";dg(n.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function qI(n,i,e){dg(n.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function Rd(n,i){return i&&i!="none"?n+" "+i:n}function $I(n,i){n.style.width=`${i.width}px`,n.style.height=`${i.height}px`,n.style.transform=Rc(i.left,i.top)}function Rc(n,i){return`translate3d(${Math.round(n)}px, ${Math.round(i)}px, 0)`}function WI(n){let i=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*i}function tK(n){let i=getComputedStyle(n),e=eg(i,"transition-property"),t=e.find(s=>s==="transform"||s==="all");if(!t)return 0;let r=e.indexOf(t),o=eg(i,"transition-duration"),a=eg(i,"transition-delay");return WI(o[r])+WI(a[r])}function eg(n,i){return n.getPropertyValue(i).split(",").map(t=>t.trim())}var nK=new Set(["position"]),rg=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(i,e,t,r,o,a,s,u,m,_){this._document=i,this._rootElement=e,this._direction=t,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=u,this._zIndex=m,this._renderer=_}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),GI(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return tK(this._preview)}addEventListener(i,e){return this._renderer.listen(this._preview,i,e)}_createPreview(){let i=this._previewTemplate,e=this._previewClass,t=i?i.template:null,r;if(t&&i){let o=i.matchSize?this._initialDomRect:null,a=i.viewContainer.createEmbeddedView(t,i.context);a.detectChanges(),r=eD(a,this._document),this._previewEmbeddedView=a,i.matchSize?$I(r,o):r.style.transform=Rc(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=ng(this._rootElement),$I(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return dg(r.style,{"pointer-events":"none",margin:GI(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},nK),J0(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function GI(n){return"showPopover"in n}var iK={passive:!0},YI={passive:!1},rK={passive:!1,capture:!0},oK=800,QI="cdk-drag-placeholder",KI=new Set(["position"]),og=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=_t(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Y;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Ve.EMPTY;_pointerUpSubscription=Ve.EMPTY;_scrollSubscription=Ve.EMPTY;_resizeSubscription=Ve.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(e=>J0(e,i)))}_disabled=!1;beforeStarted=new Y;started=new Y;released=new Y;ended=new Y;entered=new Y;exited=new Y;dropped=new Y;moved=this._moveEvents;data;constrainPosition;constructor(i,e,t,r,o,a,s){this._config=e,this._document=t,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new Od(t),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(t=>Fn(t)),this._handles.forEach(t=>J0(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){let e=Fn(i);if(e!==this._rootElement){this._removeRootElementListeners();let t=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"mousedown",this._pointerDown,YI),t.listen(e,"touchstart",this._pointerDown,iK),t.listen(e,"dragstart",this._nativeDragStart,YI)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?Fn(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&eK(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let i=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),t=0,r=0;e.left<i.left?t=i.left-e.left:e.right>i.right&&(t=i.right-e.right),e.top<i.top?r=i.top-e.top:e.bottom>i.bottom&&(r=i.bottom-e.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+t,u=a+r;this._rootElement.style.transform=Rc(s,u),this._activeTransform={x:s,y:u},this._passiveTransform={x:s,y:u}}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),J0(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),J0(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){let i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){let i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=i=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(i);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,i)}else this.disabled||this._initializeDragSequence(this._rootElement,i)};_pointerMove=i=>{let e=this._getPointerPositionOnPage(i);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(i),u=this._dropContainer;if(!s){this._endDragSequence(i);return}(!u||!u.isDragging()&&!u.isReceiving())&&(i.cancelable&&i.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(i)))}return}i.cancelable&&i.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=t.x-r.x+this._passiveTransform.x,o.y=t.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:i,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=i=>{this._endDragSequence(i)};_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Nc(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",aK,rK)}),t){let r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=new rg(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),qI(r,!1,KI),this._document.body.appendChild(o.replaceChild(a,r)),this.started.next({source:this,event:i}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),r=Nc(e),o=!r&&e.button!==0,a=this._rootElement,s=r1(e),u=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+oK>Date.now(),m=r?zr(e):Dr(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),t||o||u||m)return;if(this._handles.length){let E=a.style;this._rootElementTapHighlight=E.webkitTapHighlightColor||"",E.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(E=>this._updateOnScroll(E)),this._boundaryElement&&(this._boundaryRect=lg(this._boundaryElement));let _=this._previewTemplate;this._pickupPositionInElement=_&&_.template&&!_.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,e);let y=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:y.x,y:y.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){qI(this._rootElement,!0,KI),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),r=this._getPointerPositionOnPage(i),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:i}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:i}),e.drop(this,t,this._initialIndex,this._initialContainer,a,o,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:t,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,i,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,r),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,e):this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let r=s=>{(!s||this._preview&&r1(s)===this._preview.element&&s.propertyName==="transform")&&(a(),t(),clearTimeout(o))},o=setTimeout(r,e*1.5),a=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let i=this._placeholderTemplate,e=i?i.template:null,t;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),t=eD(this._placeholderRef,this._document)):t=ng(this._rootElement),t.style.pointerEvents="none",t.classList.add(QI),t}_getPointerPositionInElement(i,e,t){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():i,a=Nc(t)?t.targetTouches[0]:t,s=this._getViewportScrollPosition(),u=a.pageX-o.left-s.left,m=a.pageY-o.top-s.top;return{x:o.left-i.left+u,y:o.top-i.top+m}}_getPointerPositionOnPage(i){let e=this._getViewportScrollPosition(),t=Nc(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,r=t.pageX-e.left,o=t.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=o,s.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(i){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:r}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:u,height:m}=this._getPreviewRect(),_=s.top+a,y=s.bottom-(m-a),E=s.left+o,I=s.right-(u-o);t=XI(t,E,I),r=XI(r,_,y)}return{x:t,y:r}}_updatePointerDirectionDelta(i){let{x:e,y:t}=i,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(t-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=t>o.y?1:-1,o.y=t),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,J0(this._rootElement,i))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(i=>i()),this._rootElementCleanups=void 0}_applyRootElementTransform(i,e){let t=1/this.scale,r=Rc(i*t,e*t),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Rd(r,this._initialTransform)}_applyPreviewTransform(i,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,r=Rc(i,e);this._preview.setTransform(Rd(r,t))}_getDragDistance(i){let e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(i===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||t.width===0&&t.height===0)return;let o=r.left-t.left,a=t.right-r.right,s=r.top-t.top,u=t.bottom-r.bottom;r.width>t.width?(o>0&&(i+=o),a>0&&(i-=a)):i=0,r.height>t.height?(s>0&&(e+=s),u>0&&(e-=u)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){let e=this.dragStartDelay;return typeof e=="number"?e:Nc(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){let e=this._parentPositions.handleScroll(i);if(e){let t=r1(i);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&Oc(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Ya(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){let t=this._previewContainer||"global";if(t==="parent")return i;if(t==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Fn(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=i=>{if(this._handles.length){let e=this._getTargetHandle(i);e&&!this._disabledHandles.has(e)&&!this.disabled&&i.preventDefault()}else this.disabled||i.preventDefault()};_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}_conditionallyInsertAnchor(i,e,t){if(i===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let r=this._anchor??=ng(this._placeholder);r.classList.remove(QI),r.classList.add("cdk-drag-anchor"),r.style.transform="",t?t.before(r):Fn(e.element).appendChild(r)}}};function XI(n,i,e){return Math.max(i,Math.min(e,n))}function Nc(n){return n.type[0]==="t"}function aK(n){n.preventDefault()}function tD(n,i,e){let t=ZI(i,n.length-1),r=ZI(e,n.length-1);if(t===r)return;let o=n[t],a=r<t?-1:1;for(let s=t;s!==r;s+=a)n[s]=n[s+a];n[r]=o}function ZI(n,i){return Math.max(0,Math.min(i,n))}var Fd=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(i){this._dragDropRegistry=i}_previousSwap={drag:null,delta:0,overlaps:!1};start(i){this.withItems(i)}sort(i,e,t,r){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(i,e,t,r);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",u=o.findIndex(F=>F.drag===i),m=o[a],_=o[u].clientRect,y=m.clientRect,E=u>a?1:-1,I=this._getItemOffsetPx(_,y,E),A=this._getSiblingOffsetPx(u,o,E),R=o.slice();return tD(o,u,a),o.forEach((F,W)=>{if(R[W]===F)return;let ee=F.drag===i,te=ee?I:A,ae=ee?i.getPlaceholderElement():F.drag.getRootElement();F.offset+=te;let Se=Math.round(F.offset*(1/F.drag.scale));s?(ae.style.transform=Rd(`translate3d(${Se}px, 0, 0)`,F.initialTransform),Oc(F.clientRect,0,te)):(ae.style.transform=Rd(`translate3d(0, ${Se}px, 0)`,F.initialTransform),Oc(F.clientRect,te,0))}),this._previousSwap.overlaps=ig(y,e,t),this._previousSwap.drag=m.drag,this._previousSwap.delta=s?r.x:r.y,{previousIndex:u,currentIndex:a}}enter(i,e,t,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(i,e,t):r,a=this._activeDraggables,s=a.indexOf(i),u=i.getPlaceholderElement(),m=a[o];if(m===i&&(m=a[o+1]),!m&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(m=a[0]),s>-1&&a.splice(s,1),m&&!this._dragDropRegistry.isDragging(m)){let _=m.getRootElement();_.parentElement.insertBefore(u,_),a.splice(o,0,i)}else this._element.appendChild(u),a.push(i);u.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables?.forEach(i=>{let e=i.getRootElement();if(e){let t=this._itemPositions.find(r=>r.drag===i)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return this._getVisualItemPositions().findIndex(e=>e.drag===i)}getItemAtIndex(i){return this._getVisualItemPositions()[i]?.drag||null}updateOnScroll(i,e){this._itemPositions.forEach(({clientRect:t})=>{Oc(t,i,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(i){this._element=i}_cacheItemPositions(){let i=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:lg(t)}}).sort((e,t)=>i?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(i,e,t){let r=this.orientation==="horizontal",o=r?e.left-i.left:e.top-i.top;return t===-1&&(o+=r?e.width-i.width:e.height-i.height),o}_getSiblingOffsetPx(i,e,t){let r=this.orientation==="horizontal",o=e[i].clientRect,a=e[i+t*-1],s=o[r?"width":"height"]*t;if(a){let u=r?"left":"top",m=r?"right":"bottom";t===-1?s-=a.clientRect[u]-o[m]:s+=o[u]-a.clientRect[m]}return s}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,r=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let a=t[t.length-1].clientRect;return r?i>=a.right:e>=a.bottom}else{let a=t[0].clientRect;return r?i<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(i,e,t,r){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:u})=>{if(s===i)return!1;if(r){let m=o?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&m===this._previousSwap.delta)return!1}return o?e>=Math.floor(u.left)&&e<Math.floor(u.right):t>=Math.floor(u.top)&&t<Math.floor(u.bottom)});return a===-1||!this._sortPredicate(a,i)?-1:a}},ag=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(i,e){this._document=i,this._dragDropRegistry=e}start(i){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let r=e[t];this._relatedNodes.push([r,r.nextSibling])}this.withItems(i)}sort(i,e,t,r){let o=this._getItemIndexFromPointerPosition(i,e,t),a=this._previousSwap;if(o===-1||this._activeItems[o]===i)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===r.x&&a.deltaY===r.y)return null;let u=this.getItemIndex(i),m=i.getPlaceholderElement(),_=s.getRootElement();o>u?_.after(m):_.before(m),tD(this._activeItems,u,o);let y=this._getRootNode().elementFromPoint(e,t);return a.deltaX=r.x,a.deltaY=r.y,a.drag=s,a.overlaps=_===y||_.contains(y),{previousIndex:u,currentIndex:o}}enter(i,e,t,r){let o=this._activeItems.indexOf(i);o>-1&&this._activeItems.splice(o,1);let a=r==null||r<0?this._getItemIndexFromPointerPosition(i,e,t):r;a===-1&&(a=this._getClosestItemIndexToPointer(i,e,t));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,i),s.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()))}withItems(i){this._activeItems=i.slice()}withSortPredicate(i){this._sortPredicate=i}reset(){let i=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[r,o]=this._relatedNodes[t];r.parentNode===i&&r.nextSibling!==o&&(o===null?i.appendChild(r):o.parentNode===i&&i.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(i){return this._activeItems.indexOf(i)}getItemAtIndex(i){return this._activeItems[i]||null}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0)}_getItemIndexFromPointerPosition(i,e,t){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),o=r?this._activeItems.findIndex(a=>{let s=a.getRootElement();return r===s||s.contains(r)}):-1;return o===-1||!this._sortPredicate(o,i)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Ya(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(i,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==i){let{x:u,y:m}=s.getRootElement().getBoundingClientRect(),_=Math.hypot(e-u,t-m);_<r&&(r=_,o=a)}}return o}},JI=.05,nD=.05,Pi=(function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n})(Pi||{}),R1=(function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n})(R1||{}),sg=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Y;entered=new Y;exited=new Y;dropped=new Y;sorted=new Y;receivingStarted=new Y;receivingStopped=new Y;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Ve.EMPTY;_verticalScrollDirection=Pi.NONE;_horizontalScrollDirection=R1.NONE;_scrollNode;_stopScrollTimers=new Y;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(i,e,t,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let a=this.element=Fn(i);this._document=t,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new Od(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,t,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(i)),this._sortStrategy.enter(i,e,t,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,t,r,o,a,s,u={}){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:t,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:s,event:u})}withItems(i){let e=this._draggables;return this._draggables=i,i.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>i.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._direction=i,this._sortStrategy instanceof Fd&&(this._sortStrategy.direction=i),this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){if(i==="mixed")this._sortStrategy=new ag(this._document,this._dragDropRegistry);else{let e=new Fd(this._dragDropRegistry);e.direction=this._direction,e.orientation=i,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(i){let e=this._container;return this._scrollableElements=i.indexOf(e)===-1?[e,...i]:i.slice(),this}withElementContainer(i){if(i===this._container)return this;let e=Fn(this.element),t=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(i);return t>-1&&this._scrollableElements.splice(t,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}getItemAtIndex(i){return this._isDragging?this._sortStrategy.getItemAtIndex(i):this._draggables[i]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,t,r){if(this.sortingDisabled||!this._domRect||!HI(this._domRect,JI,e,t))return;let o=this._sortStrategy.sort(i,e,t,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let t,r=Pi.NONE,o=R1.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||t||HI(a.clientRect,JI,i,e)&&([r,o]=sK(s,a.clientRect,this._direction,i,e),(r||o)&&(t=s))}),!r&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),u={width:a,height:s,top:0,right:a,bottom:s,left:0};r=iD(u,e),o=rD(u,i),t=window}t&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=t,(r||o)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),L3(0,Wl).pipe(lt(this._stopScrollTimers)).subscribe(()=>{let i=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Pi.UP?i.scrollBy(0,-e):this._verticalScrollDirection===Pi.DOWN&&i.scrollBy(0,e),this._horizontalScrollDirection===R1.LEFT?i.scrollBy(-e,0):this._horizontalScrollDirection===R1.RIGHT&&i.scrollBy(e,0)})};_isOverContainer(i,e){return this._domRect!=null&&ig(this._domRect,i,e)}_getSiblingContainerFromPosition(i,e,t){return this._siblings.find(r=>r._canReceive(i,e,t))}_canReceive(i,e,t){if(!this._domRect||!ig(this._domRect,e,t)||!this.enterPredicate(i,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,t);return r?r===this._container||this._container.contains(r):!1}_startReceiving(i,e){let t=this._activeSiblings;!t.has(i)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(t.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:e}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(i);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let i=Ya(this._container);this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let i=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}};function iD(n,i){let{top:e,bottom:t,height:r}=n,o=r*nD;return i>=e-o&&i<=e+o?Pi.UP:i>=t-o&&i<=t+o?Pi.DOWN:Pi.NONE}function rD(n,i){let{left:e,right:t,width:r}=n,o=r*nD;return i>=e-o&&i<=e+o?R1.LEFT:i>=t-o&&i<=t+o?R1.RIGHT:R1.NONE}function sK(n,i,e,t,r){let o=iD(i,r),a=rD(i,t),s=Pi.NONE,u=R1.NONE;if(o){let m=n.scrollTop;o===Pi.UP?m>0&&(s=Pi.UP):n.scrollHeight-m>n.clientHeight&&(s=Pi.DOWN)}if(a){let m=n.scrollLeft;e==="rtl"?a===R1.RIGHT?m<0&&(u=R1.RIGHT):n.scrollWidth+m>n.clientWidth&&(u=R1.LEFT):a===R1.LEFT?m>0&&(u=R1.LEFT):n.scrollWidth-m>n.clientWidth&&(u=R1.RIGHT)}return[s,u]}var Pc={capture:!0},tg={passive:!1,capture:!0},cK=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),ug=(()=>{class n{_ngZone=T(ce);_document=T(J);_styleLoader=T(Z1);_renderer=T(mn).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new Y;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=_t([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new Y;pointerUp=new Y;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,tg)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(cK),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=t.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),Pc],["selectstart",this._preventDefaultWhileDragging,tg]];r?a.push(["touchend",o,Pc],["touchcancel",o,Pc]):a.push(["mouseup",o,Pc]),r||a.push(["mousemove",s=>this.pointerMove.next(s),tg]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,u,m])=>this._renderer.listen(this._document,s,u,m))})}}stopDragging(e){this._activeDragInstances.update(t=>{let r=t.indexOf(e);return r>-1?(t.splice(r,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this._scroll];return e&&e!==this._document&&t.push(new Te(r=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(e,"scroll",a=>{this._activeDragInstances().length&&r.next(a)},Pc);return()=>{o()}}))),v2(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lK={dragStartThreshold:5,pointerDirectionChangeThreshold:5},oD=(()=>{class n{_document=T(J);_ngZone=T(ce);_viewportRuler=T(Lr);_dragDropRegistry=T(ug);_renderer=T(mn).createRenderer(null,null);constructor(){}createDrag(e,t=lK){return new og(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new sg(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cg=new G("CDK_DRAG_PARENT");var aD=new G("CdkDragHandle"),Wn=(()=>{class n{element=T(Me);_parentDrag=T(cg,{optional:!0,skipSelf:!0});_dragDropRegistry=T(ug);_stateChanges=new Y;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let t=this._dragDropRegistry.getDragDirectiveForNode(e);if(t){this._parentDrag=t,t._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",an]},features:[tn([{provide:aD,useExisting:n}])]})}return n})(),dK=new G("CDK_DRAG_CONFIG"),uK=new G("CdkDropList"),Gn=(()=>{class n{element=T(Me);dropContainer=T(uK,{optional:!0,skipSelf:!0});_ngZone=T(ce);_viewContainerRef=T(An);_dir=T(Ai,{optional:!0});_changeDetectorRef=T(yn);_selfHandle=T(aD,{optional:!0,self:!0});_parentDrag=T(cg,{optional:!0,skipSelf:!0});_dragDropRegistry=T(ug);_destroyed=new Y;_handles=new Ht([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new K;released=new K;ended=new K;entered=new K;exited=new K;dropped=new K;moved=new Te(e=>{let t=this._dragRef.moved.pipe(ye(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=T(fe);constructor(){let e=this.dropContainer,t=T(dK,{optional:!0}),r=T(oD);this._dragRef=r.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(lt(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Sn(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,r=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),r=t.indexOf(e);r>-1&&(t.splice(r,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Fn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:U2(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(We(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let r=this._dragDropRegistry.getDragDirectiveForNode(t);if(r){e.withParent(r._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:r,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:u,rootElementSelector:m,previewContainer:_}=e;this.disabled=u??!1,this.dragStartDelay=r||0,this.lockAxis=t||null,o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),m&&(this.rootElementSelector=m),_&&(this.previewContainer=_)}_setupHandlesListener(){this._handles.pipe($t(e=>{let t=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),qt(e=>v2(...e.map(t=>t._stateChanges.pipe(c1(t))))),lt(this._destroyed)).subscribe(e=>{let t=this._dragRef,r=e.element.nativeElement;e.disabled?t.disableHandle(r):t.enableHandle(r)})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){t&2&&ne("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",an],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",_4]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[tn([{provide:cg,useExisting:n}]),dt]})}return n})();var qo=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({providers:[oD],imports:[Xa]})}return n})();var sD={prefix:"fab",iconName:"yahoo",icon:[512,512,[],"f19e","M223.8 141.1l-56.7 143.2-56-143.2-96.1 0 105.8 249.1-38.6 89.8 94.2 0 140.9-338.9-93.6 0zM329.2 276.9a58.2 58.2 0 1 0 0 116.4 58.2 58.2 0 1 0 0-116.4zM394.7 32l-93 223.5 104.8 0 92.6-223.5-104.4 0z"]};var fK=["tooltip"],dD=20;var uD=new G("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=T(fe);return()=>Ar(n,{scrollThrottle:dD})}});function fD(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var pD=new G("mat-tooltip-default-options",{providedIn:"root",factory:fD});var cD="tooltip-panel",lD=Oo({passive:!0}),pK=8,mK=8,hK=24,gK=200,Xe=(()=>{class n{_elementRef=T(Me);_ngZone=T(ce);_platform=T(rn);_ariaDescriber=T(LI);_focusMonitor=T(Ro);_dir=T(Ai);_injector=T(fe);_viewContainerRef=T(An);_animationsDisabled=r2();_defaultOptions=T(pD,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=mD;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Yh(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=Yh(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=U2(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=U2(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new Y;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=pK}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(lt(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,r])=>{e.removeEventListener(t,r,lD)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(t);this._detach(),this._portal=this._portal||new No(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(lt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof Me)return this._overlayRef;this._detach()}let t=this._injector.get(Vo).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${cD}`,o=K0(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return o.positionChanges.pipe(lt(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=jo(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(uD)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(lt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(lt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(lt(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!j2(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(lt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();t.withPositions([this._addOffset(P(P({},r.main),o.main)),this._addOffset(P(P({},r.fallback),o.fallback))])}_addOffset(e){let t=mK,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=r?-t:t:e.originX==="end"&&(e.offsetX=r?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,r;t=="above"||t=="below"?r={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?r={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,r;t=="above"?r={overlayX:"center",overlayY:"bottom"}:t=="below"?r={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Sn(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:r,originY:o}=e,a;if(t==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=t==="bottom"&&o==="top"?"above":"below",a!==this._currentPosition){let s=this._overlayRef;if(s){let u=`${this._cssClassPrefix}-${cD}-`;s.removePanelClass(u+this._currentPosition),s.addPanelClass(u+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],r=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let r=t.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,r])=>{this._elementRef.nativeElement.addEventListener(t,r,lD)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._injector.get(J).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;t!==r&&!r.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,r=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!t.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||Sn({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,r){t&2&&ne("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),mD=(()=>{class n{_changeDetectorRef=T(yn);_elementRef=T(Me);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=r2();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Y;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>hK&&e.width>=gK}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(t.classList.remove(e?o:r),t.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(t);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(t&1&&Ft(fK,7),t&2){let o;ft(o=pt())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,r){t&1&&C("mouseleave",function(a){return r._handleMouseLeave(a)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,r){if(t&1){let o=V();c(0,"div",1,0),C("animationend",function(s){return w(o),S(r._handleAnimationEnd(s))}),c(2,"div",2),f(3),l()()}t&2&&(ne("mdc-tooltip--multiline",r._isMultiline),p("ngClass",r.tooltipClass),d(3),L(r.message))},dependencies:[le],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();function vK(n,i){if(n&1&&(c(0,"span",4),f(1),l()),n&2){let e=g();d(),k(" ",e.label," ")}}var $o=(()=>{let i=class i{constructor(){this.title="",this.color="gray",this.action="view",this.noIconBackground=!1,this.handleAction=new K,this.bgStyles={blue:"bg-blue-500 text-white hover:bg-blue-600 shadow-sm",red:"bg-red-500 text-white hover:bg-red-600 shadow-sm",green:"bg-green-500 text-white hover:bg-green-600 shadow-sm",orange:"bg-orange-500 text-white hover:bg-orange-600 shadow-sm",gray:"bg-gray-500 text-white hover:bg-gray-700 shadow-sm"},this.textStyles={blue:"text-blue-500 hover:text-blue-600",red:"text-red-500  hover:text-red-600",green:"text-green-500 hover:text-green-600",orange:"text-orange-500 hover:text-orange-600",gray:"text-gray-600 hover:text-gray-700"},this.view=V2,this.add=RT,this.addUser=pd,this.modify=pT,this.cancel=gd,this.exit=bc,this.delete=ko,this.refresh=$T,this.chart=kT,this.copy=FT,this.buy=hT,this.sell=lT,this.pause=jT,this.activate=ET,this.info=xc,this.unlink=BT,this.link=xT,this.login=ud,this.list=vd,this.collapseLeft=uT,this.enlargeRight=yT,this.collapseUp=UT,this.enlargeDown=NT,this.expand=dT,this.addToCart=_c,this.execute=mT,this.yahooFinance=sD,this.basket=_c}ngOnInit(){}buttonStyle(){return this.noIconBackground?this.textStyles[this.color]:this.bgStyles[this.color]}buttonColor(){return this.noIconBackground?this.textStyles[this.color]:"text-white"}handleClick(t,r){this.handleAction.emit({action:t,row:r})}get icon(){switch(this.action){case"view":return this.view;case"add":return this.add;case"addUser":return this.addUser;case"modify":return this.modify;case"cancel":return this.cancel;case"exit":return this.exit;case"delete":return this.delete;case"refresh":return this.refresh;case"chart":return this.chart;case"copy":return this.copy;case"buy":return this.buy;case"sell":return this.sell;case"pause":return this.pause;case"activate":return this.activate;case"unlink":return this.unlink;case"link":return this.link;case"login":return this.login;case"list":return this.list;case"collapseLeft":return this.collapseLeft;case"enlargeRight":return this.enlargeRight;case"collapseUp":return this.collapseUp;case"enlargeDown":return this.enlargeDown;case"expand":return this.expand;case"addToCart":return this.addToCart;case"execute":return this.execute;case"yahooFinance":return this.yahooFinance;case"basket":return this.basket;case"info":default:return this.info}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-action-button"]],inputs:{title:"title",label:"label",color:"color",action:"action",row:"row",noIconBackground:"noIconBackground"},outputs:{handleAction:"handleAction"},decls:4,vars:5,consts:[[1,"flex","items-center","gap-2"],[1,"px-2","py-1","rounded-md","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-all","flex","items-center","ml-2",3,"click","ngClass","matTooltip"],[3,"icon","ngClass"],["class","ml-3 text-sm font-medium",4,"ngIf"],[1,"ml-3","text-sm","font-medium"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"button",1),C("click",function(){return o.handleClick(o.action,o.row)}),M(2,"fa-icon",2),x(3,vK,2,1,"span",3),l()()),r&2&&(d(),p("ngClass",o.buttonStyle())("matTooltip",o.title),d(),p("icon",o.icon)("ngClass",o.buttonColor()),d(),p("ngIf",o.label))},dependencies:[le,we,Q,Xe],encapsulation:2});let n=i;return n})();var Ne=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(Ne||{}),Oi="*";function ts(n,i){return{type:Ne.Trigger,name:n,definitions:i,options:{}}}function q2(n,i=null){return{type:Ne.Animate,styles:i,timings:n}}function hD(n,i=null){return{type:Ne.Sequence,steps:n,options:i}}function o1(n){return{type:Ne.Style,styles:n,offset:null}}function Wo(n,i,e){return{type:Ne.State,name:n,styles:i,options:e}}function Nr(n,i,e=null){return{type:Ne.Transition,expr:n,animation:i,options:e}}function Bd(n,i,e=null){return{type:Ne.Query,selector:n,animation:i,options:e}}function Vd(n,i){return{type:Ne.Stagger,timings:n,animation:i}}var H2=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(i=0,e=0){this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},es=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(i){this.players=i;let e=0,t=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++t==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){let e=i*this.totalTime;this.players.forEach(t=>{let r=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(r)})}getPosition(){let i=this.players.reduce((e,t)=>e===null||t.totalTime>e.totalTime?t:e,null);return i!=null?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},e3="!";var In=ts("expandCollapse",[Wo("collapsed",o1({height:"0px",opacity:0,padding:"0"})),Wo("expanded",o1({height:"*",opacity:1})),Nr("collapsed <=> expanded",q2("300ms ease"))]),gD=ts("listAnimation",[Nr("* => *",[Bd(":enter",[o1({opacity:0,transform:"translateY(-10px)"}),Vd(50,[q2("200ms ease-out",o1({opacity:1,transform:"translateY(0)"}))])],{optional:!0}),Bd(":leave",[Vd(50,[q2("150ms ease-out",o1({opacity:0,transform:"translateY(10px)"}))])],{optional:!0})])]),vD=ts("fadeInUp",[Nr(":enter",[o1({opacity:0,transform:"translateY(20px)"}),q2("400ms ease-out",o1({opacity:1,transform:"translateY(0)"}))]),Nr(":leave",[q2("300ms ease-in",o1({opacity:0,transform:"translateY(-20px)"}))])]);function yD(n,i){n.terminate=function(){let e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;let t=new Date,r=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=a=>{let s=new Date().getTime()-t.getTime();i(`Discarded socket (#${r})  closed after ${s}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),o?.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}var ns={LF:`
`,NULL:"\0"};var Fc=class n{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(i){let{command:e,headers:t,body:r,binaryBody:o,escapeHeaderValues:a,skipContentLengthHeader:s}=i;this.command=e,this.headers=Object.assign({},t||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=s||!1}static fromRawFrame(i,e){let t={},r=o=>o.replace(/^\s+|\s+$/g,"");for(let o of i.headers.reverse()){let a=o.indexOf(":"),s=r(o[0]),u=r(o[1]);e&&i.command!=="CONNECT"&&i.command!=="CONNECTED"&&(u=n.hdrValueUnEscape(u)),t[s]=u}return new n({command:i.command,headers:t,binaryBody:i.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){let i=this.serializeCmdAndHeaders();return this.isBinaryBody?n.toUnit8Array(i,this._binaryBody).buffer:i+this._body+ns.NULL}serializeCmdAndHeaders(){let i=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(let e of Object.keys(this.headers||{})){let t=this.headers[e];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?i.push(`${e}:${n.hdrValueEscape(`${t}`)}`):i.push(`${e}:${t}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&i.push(`content-length:${this.bodyLength()}`),i.join(ns.LF)+ns.LF+ns.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){let i=this.binaryBody;return i?i.length:0}static sizeOfUTF8(i){return i?new TextEncoder().encode(i).length:0}static toUnit8Array(i,e){let t=new TextEncoder().encode(i),r=new Uint8Array([0]),o=new Uint8Array(t.length+e.length+r.length);return o.set(t),o.set(e,t.length),o.set(r,t.length+e.length),o}static marshall(i){return new n(i).serialize()}static hdrValueEscape(i){return i.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(i){return i.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}};var Ud=class{constructor(i,e){this.onFrame=i,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(i,e=!1){let t;if(typeof i=="string"?t=this._encoder.encode(i):t=new Uint8Array(i),e&&t[t.length-1]!==0){let r=new Uint8Array(t.length+1);r.set(t,0),r[t.length]=0,t=r}for(let r=0;r<t.length;r++){let o=t[r];this._onByte(o)}}_collectFrame(i){if(i!==0&&i!==13){if(i===10){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(i)}}_collectCommand(i){if(i!==13){if(i===10){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(i)}}_collectHeaders(i){if(i!==13){if(i===10){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(i)}}_reinjectByte(i){this._onByte(i)}_collectHeaderKey(i){if(i===58){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(i)}_collectHeaderValue(i){if(i!==13){if(i===10){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(i)}}_setupCollectBody(){let i=this._results.headers.filter(e=>e[0]==="content-length")[0];i?(this._bodyBytesRemaining=parseInt(i[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(i){if(i===0){this._retrievedBody();return}this._consumeByte(i)}_collectBodyFixedSize(i){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(i)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(i){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",i)}this._initState()}_consumeByte(i){this._token.push(i)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let i=new Uint8Array(this._token);return this._token=[],i}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var Pr=(function(n){return n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED",n})(Pr||{}),o2=(function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE",n})(o2||{}),jd=(function(n){return n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL",n})(jd||{}),t3=(function(n){return n.Interval="interval",n.Worker="worker",n})(t3||{});var Hd=class{constructor(i,e=t3.Interval,t){this._interval=i,this._strategy=e,this._debug=t,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(i){this.stop(),this.shouldUseWorker()?this.runWorker(i):this.runInterval(i)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===t3.Worker}runWorker(i){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=e=>i(e.data))}runInterval(i){if(this._debug("Using runInterval for outgoing pings"),!this._timer){let e=Date.now();this._timer=setInterval(()=>{i(Date.now()-e)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}};var Bn=class{constructor(i){this.versions=i}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(i=>`v${i.replace(".","")}.stomp`)}};Bn.V1_0="1.0";Bn.V1_1="1.1";Bn.V1_2="1.2";Bn.default=new Bn([Bn.V1_2,Bn.V1_1,Bn.V1_0]);var qd=class{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(i,e,t){this._client=i,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===Bn.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{let o=r.headers.subscription,a=this._subscriptions[o]||this.onUnhandledMessage,s=r,u=this,m=this._connectedVersion===Bn.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(_={})=>u.ack(m,o,_),s.nack=(_={})=>u.nack(m,o,_),a(s)},RECEIPT:r=>{let o=this._receiptWatchers[r.headers["receipt-id"]];o?(o(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=t.debug,this.stompVersions=t.stompVersions,this.connectHeaders=t.connectHeaders,this.disconnectHeaders=t.disconnectHeaders,this.heartbeatIncoming=t.heartbeatIncoming,this.heartbeatToleranceMultiplier=t.heartbeatGracePeriods,this.heartbeatOutgoing=t.heartbeatOutgoing,this.splitLargeFrames=t.splitLargeFrames,this.maxWebSocketChunkSize=t.maxWebSocketChunkSize,this.forceBinaryWSFrames=t.forceBinaryWSFrames,this.logRawCommunication=t.logRawCommunication,this.appendMissingNULLonIncoming=t.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=t.discardWebsocketOnCommFailure,this.onConnect=t.onConnect,this.onDisconnect=t.onDisconnect,this.onStompError=t.onStompError,this.onWebSocketClose=t.onWebSocketClose,this.onWebSocketError=t.onWebSocketError,this.onUnhandledMessage=t.onUnhandledMessage,this.onUnhandledReceipt=t.onUnhandledReceipt,this.onUnhandledFrame=t.onUnhandledFrame,this.onHeartbeatReceived=t.onHeartbeatReceived,this.onHeartbeatLost=t.onHeartbeatLost}start(){let i=new Ud(e=>{let t=Fc.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${t}`),(this._serverFrameHandlers[t.command]||this.onUnhandledFrame)(t)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let t=e.data instanceof ArrayBuffer?new TextDecoder().decode(e.data):e.data;this.debug(`<<< ${t}`)}i.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{let e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(i){if(i.version!==Bn.V1_1&&i.version!==Bn.V1_2||!i["heart-beat"])return;let[e,t]=i["heart-beat"].split(",").map(r=>parseInt(r,10));if(this.heartbeatOutgoing!==0&&t!==0){let r=Math.max(this.heartbeatOutgoing,t);this.debug(`send PING every ${r}ms`),this._pinger=new Hd(r,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Pr.OPEN&&(this._webSocket.send(ns.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&e!==0){let r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{let o=Date.now()-this._lastServerActivityTS;o>r*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${o}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Pr.CONNECTING||this._webSocket.readyState===Pr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&yD(this._webSocket,i=>this.debug(i)),this._webSocket.terminate()}_transmit(i){let{command:e,headers:t,body:r,binaryBody:o,skipContentLengthHeader:a}=i,s=new Fc({command:e,headers:t,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a}),u=s.serialize();if(this.logRawCommunication?this.debug(`>>> ${u}`):this.debug(`>>> ${s}`),this.forceBinaryWSFrames&&typeof u=="string"&&(u=new TextEncoder().encode(u)),typeof u!="string"||!this.splitLargeFrames)this._webSocket.send(u);else{let m=u;for(;m.length>0;){let _=m.substring(0,this.maxWebSocketChunkSize);m=m.substring(this.maxWebSocketChunkSize),this._webSocket.send(_),this.debug(`chunk sent = ${_.length}, remaining = ${m.length}`)}}}dispose(){if(this.connected)try{let i=Object.assign({},this.disconnectHeaders);i.receipt||(i.receipt=`close-${this._counter++}`),this.watchForReceipt(i.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:i})}catch(i){this.debug(`Ignoring error during disconnect ${i}`)}else(this._webSocket.readyState===Pr.CONNECTING||this._webSocket.readyState===Pr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(i){let{destination:e,headers:t,body:r,binaryBody:o,skipContentLengthHeader:a}=i,s=Object.assign({destination:e},t);this._transmit({command:"SEND",headers:s,body:r,binaryBody:o,skipContentLengthHeader:a})}watchForReceipt(i,e){this._receiptWatchers[i]=e}subscribe(i,e,t={}){t=Object.assign({},t),t.id||(t.id=`sub-${this._counter++}`),t.destination=i,this._subscriptions[t.id]=e,this._transmit({command:"SUBSCRIBE",headers:t});let r=this;return{id:t.id,unsubscribe(o){return r.unsubscribe(t.id,o)}}}unsubscribe(i,e={}){e=Object.assign({},e),delete this._subscriptions[i],e.id=i,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(i){let e=i||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:e}});let t=this;return{id:e,commit(){t.commit(e)},abort(){t.abort(e)}}}commit(i){this._transmit({command:"COMMIT",headers:{transaction:i}})}abort(i){this._transmit({command:"ABORT",headers:{transaction:i}})}ack(i,e,t={}){t=Object.assign({},t),this._connectedVersion===Bn.V1_2?t.id=i:t["message-id"]=i,t.subscription=e,this._transmit({command:"ACK",headers:t})}nack(i,e,t={}){return t=Object.assign({},t),this._connectedVersion===Bn.V1_2?t.id=i:t["message-id"]=i,t.subscription=e,this._transmit({command:"NACK",headers:t})}};var $d=class{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(i){this._disconnectHeaders=i,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===o2.ACTIVE}_changeState(i){this.state=i,this.onChangeState(i)}constructor(i={}){this.stompVersions=Bn.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=jd.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=t3.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=o2.INACTIVE;let e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onHeartbeatReceived=e,this.onHeartbeatLost=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(i)}configure(i){Object.assign(this,i),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){let i=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(o2.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===o2.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{i()})):i()}_connect(){return si(this,null,function*(){if(yield this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let i=this._createWebSocket();this._stompHandler=new qd(this,i,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:e=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(e)},onDisconnect:e=>{this.onDisconnect(e)},onStompError:e=>{this.onStompError(e)},onWebSocketClose:e=>{this._stompHandler=void 0,this.state===o2.DEACTIVATING&&this._changeState(o2.INACTIVE),this.onWebSocketClose(e),this.active&&this._schedule_reconnect()},onWebSocketError:e=>{this.onWebSocketError(e)},onUnhandledMessage:e=>{this.onUnhandledMessage(e)},onUnhandledReceipt:e=>{this.onUnhandledReceipt(e)},onUnhandledFrame:e=>{this.onUnhandledFrame(e)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()})}_createWebSocket(){let i;if(this.webSocketFactory)i=this.webSocketFactory();else if(this.brokerURL)i=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return i.binaryType="arraybuffer",i}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===jd.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}deactivate(){return si(this,arguments,function*(i={}){let e=i.force||!1,t=this.active,r;if(this.state===o2.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(o2.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Pr.CLOSED){let o=this._stompHandler.onWebSocketClose;r=new Promise((a,s)=>{this._stompHandler.onWebSocketClose=u=>{o(u),a()}})}else return this._changeState(o2.INACTIVE),Promise.resolve();return e?this._stompHandler?.discardWebsocket():t&&this._disposeStompHandler(),r})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(i){this._checkConnection(),this._stompHandler.publish(i)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(i,e){this._checkConnection(),this._stompHandler.watchForReceipt(i,e)}subscribe(i,e,t={}){return this._checkConnection(),this._stompHandler.subscribe(i,e,t)}unsubscribe(i,e={}){this._checkConnection(),this._stompHandler.unsubscribe(i,e)}begin(i){return this._checkConnection(),this._stompHandler.begin(i)}commit(i){this._checkConnection(),this._stompHandler.commit(i)}abort(i){this._checkConnection(),this._stompHandler.abort(i)}ack(i,e,t={}){this._checkConnection(),this._stompHandler.ack(i,e,t)}nack(i,e,t={}){this._checkConnection(),this._stompHandler.nack(i,e,t)}};var ok=Ky(rk());var Yn=(()=>{let i=class i{constructor(t){this.api=t,this.authStatus=new Ht(!!localStorage.getItem("trade-manage-app-token")),this.authStatus$=this.authStatus.asObservable(),this.loggingOut=!1}login(t){return this.api.post("/auth/login",t).pipe($t(r=>{localStorage.setItem("trade-manage-app-token",r.token)}))}sendSignupOtp(t){return this.api.post("/auth/signup/send-otp",t)}sendLoginOtp(t){return this.api.post("/auth/login/send-otp",t)}signup(t){return this.api.post("/auth/signup",t)}logout(){this.loggingOut=!0,localStorage.removeItem("trade-manage-app-token"),this.setAuthenticated(!1)}getToken(){return localStorage.getItem("trade-manage-app-token")}setAuthenticated(t){this.authStatus.next(t)}isAuthenticated(){return this.authStatus.getValue()}isLoggingOut(){return this.loggingOut}resetLoggingOutFlag(){this.loggingOut=!1}isAdmin(){let t=this.getToken();if(!t)return null;try{return JSON.parse(atob(t.split(".")[1])).isAdmin||null}catch{return null}}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Qn=(()=>{let i=class i{constructor(t,r){this.authUserService=t,this.appProperties=r,this.connected$=new Ht(!1),this.tick$=new Y,this.order$=new Y,this.tokenRefCount=new Map,this.client=new $d({webSocketFactory:()=>{let o=t.getToken();if(o){let a=this.appProperties.getConfig().wsUrl;return new ok.default(`${a}?token=${o}`)}else throw new Error("Cannot establish WebSocket connection: Token is missing")},reconnectDelay:5e3,onConnect:()=>{this.connected$.next(!0),this.client.subscribe("/user/queue/ticks",o=>{let a=JSON.parse(o.body);this.tick$.next(JSON.parse(o.body))}),this.client.subscribe("/user/queue/orders",o=>{this.order$.next(JSON.parse(o.body))})},onWebSocketClose:()=>this.connected$.next(!1),debug:o=>console.debug(o)}),this.client.activate()}connectionState(){return this.connected$.asObservable()}ticks(){return this.tick$.asObservable()}orderUpdates(){return this.order$.asObservable()}subscribe(t){for(let r of t){let o=this.tokenRefCount.get(r)||0;this.tokenRefCount.set(r,o+1)}if(t.length<1){console.log("No new instrument tokens for subscription.");return}this.client.connected?this.client.publish({destination:"/app/subscribe",body:JSON.stringify({instrumentTokens:t})}):console.warn("WebSocket client is not connected. Cannot subscribe.")}unsubscribe(t){let r=[];for(let o of t){let a=this.tokenRefCount.get(o);a!==void 0&&(a<=1?(this.tokenRefCount.delete(o),r.push(o)):this.tokenRefCount.set(o,a-1))}return r.length<1?(console.log("No unique instrument tokens for un-subscribe."),Z(void 0)):this.client.connected?(this.client.publish({destination:"/app/unsubscribe",body:JSON.stringify({instrumentTokens:r})}),ir(100).pipe(ye(()=>{}))):(console.warn("WebSocket client is not connected. Cannot unsubscribe."),Z(void 0))}disconnect(){this.client.deactivate()}ngOnDestroy(){this.disconnect()}};i.\u0275fac=function(r){return new(r||i)(H(Yn),H(Eo))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var ak=(()=>{let i=class i{constructor(t,r){this.api=t,this.http=r}getInstrumentByToken(t){return this.api.get(`/v1/instruments?instrumentToken=${t}`)}getInstrumentBySymbol(t,r){return this.api.get(`/v1/instruments?tradingSymbol=${t}&exchange=${r}`)}};i.\u0275fac=function(r){return new(r||i)(H(Ye),H(yo))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var sk=["toast-component",""];function wZ(n,i){if(n&1){let e=V();c(0,"button",5),C("click",function(){w(e);let r=g();return S(r.remove())}),c(1,"span",6),f(2,"\xD7"),l()()}}function SZ(n,i){if(n&1&&(He(0),f(1),qe()),n&2){let e=g(2);d(),k("[",e.duplicatesCount+1,"]")}}function MZ(n,i){if(n&1&&(c(0,"div"),f(1),x(2,SZ,2,1,"ng-container",4),l()),n&2){let e=g();Bt(e.options.titleClass),Et("aria-label",e.title),d(),k(" ",e.title," "),d(),p("ngIf",e.duplicatesCount)}}function EZ(n,i){if(n&1&&M(0,"div",7),n&2){let e=g();Bt(e.options.messageClass),p("innerHTML",e.message,s0)}}function TZ(n,i){if(n&1&&(c(0,"div",8),f(1),l()),n&2){let e=g();Bt(e.options.messageClass),Et("aria-label",e.message),d(),k(" ",e.message," ")}}function IZ(n,i){if(n&1&&(c(0,"div"),M(1,"div",9),l()),n&2){let e=g();d(),D2("width",e.width()+"%")}}function DZ(n,i){if(n&1){let e=V();c(0,"button",5),C("click",function(){w(e);let r=g();return S(r.remove())}),c(1,"span",6),f(2,"\xD7"),l()()}}function zZ(n,i){if(n&1&&(He(0),f(1),qe()),n&2){let e=g(2);d(),k("[",e.duplicatesCount+1,"]")}}function LZ(n,i){if(n&1&&(c(0,"div"),f(1),x(2,zZ,2,1,"ng-container",4),l()),n&2){let e=g();Bt(e.options.titleClass),Et("aria-label",e.title),d(),k(" ",e.title," "),d(),p("ngIf",e.duplicatesCount)}}function kZ(n,i){if(n&1&&M(0,"div",7),n&2){let e=g();Bt(e.options.messageClass),p("innerHTML",e.message,s0)}}function AZ(n,i){if(n&1&&(c(0,"div",8),f(1),l()),n&2){let e=g();Bt(e.options.messageClass),Et("aria-label",e.message),d(),k(" ",e.message," ")}}function NZ(n,i){if(n&1&&(c(0,"div"),M(1,"div",9),l()),n&2){let e=g();d(),D2("width",e.width()+"%")}}var nv=class{_attachedHost;component;viewContainerRef;injector;constructor(i,e){this.component=i,this.injector=e}attach(i,e){return this._attachedHost=i,i.attach(this,e)}detach(){let i=this._attachedHost;if(i)return this._attachedHost=void 0,i.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},iv=class{_attachedPortal;_disposeFn;attach(i,e){return this._attachedPortal=i,this.attachComponentPortal(i,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(i){this._disposeFn=i}},rv=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Y;_activate=new Y;_manualClose=new Y;_resetTimeout=new Y;_countDuplicate=new Y;constructor(i){this._overlayRef=i}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(i,e){i&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},d3=class{toastId;config;message;title;toastType;toastRef;_onTap=new Y;_onAction=new Y;constructor(i,e,t,r,o,a){this.toastId=i,this.config=e,this.message=t,this.title=r,this.toastType=o,this.toastRef=a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(i){this._onAction.next(i)}onAction(){return this._onAction.asObservable()}},ck={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},lk=new G("ToastConfig"),ov=class extends iv{_hostDomElement;_componentFactoryResolver;_appRef;constructor(i,e,t){super(),this._hostDomElement=i,this._componentFactoryResolver=e,this._appRef=t}attachComponentPortal(i,e){let t=this._componentFactoryResolver.resolveComponentFactory(i.component),r;return r=t.create(i.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(i){return i.hostView.rootNodes[0]}},PZ=(()=>{class n{_document=T(J);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),av=class{_portalHost;constructor(i){this._portalHost=i}attach(i,e=!0){return this._portalHost.attach(i,e)}detach(){return this._portalHost.detach()}},OZ=(()=>{class n{_overlayContainer=T(PZ);_componentFactoryResolver=T(Da);_appRef=T(gn);_document=T(J);_paneElements=new Map;create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),t?t.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new ov(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new av(this._createPortalHost(e))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xe=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,t,r,o,a){this.overlay=t,this._injector=r,this.sanitizer=o,this.ngZone=a,this.toastrConfig=P(P({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=P(P({},e.default.iconClasses),e.config.iconClasses))}show(e,t,r={},o=""){return this._preBuildNotification(o,e,t,this.applyConfig(r))}success(e,t,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,t,this.applyConfig(r))}error(e,t,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,t,this.applyConfig(r))}info(e,t,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,t,this.applyConfig(r))}warning(e,t,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,t,this.applyConfig(r))}clear(e){for(let t of this.toasts)if(e!==void 0){if(t.toastId===e){t.toastRef.manualClose();return}}else t.toastRef.manualClose()}remove(e){let t=this._findToast(e);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",t="",r,o){let{includeTitleDuplicates:a}=this.toastrConfig;for(let s of this.toasts){let u=a&&s.title===e;if((!a||u)&&s.message===t)return s.toastRef.onDuplicate(r,o),s}return null}applyConfig(e={}){return P(P({},this.toastrConfig),e)}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,r,o)):this._buildNotification(e,t,r,o)}_buildNotification(e,t,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let a=this.findDuplicate(r,t,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||t)&&this.toastrConfig.preventDuplicates&&a!==null)return a;this.previousToastMessage=t;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let u=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let m=t;t&&o.enableHtml&&(m=this.sanitizer.sanitize($1.HTML,t));let _=new rv(u),y=new d3(this.index,o,m,r,e,_),E=[{provide:d3,useValue:y}],I=fe.create({providers:E,parent:this._injector}),A=new nv(o.toastComponent,I),R=u.attach(A,o.newestOnTop);_.componentInstance=R.instance;let F={toastId:this.index,title:r||"",message:t||"",toastRef:_,onShown:_.afterActivate(),onHidden:_.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:R};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{F.toastRef.activate()})),this.toasts.push(F),F}static \u0275fac=function(t){return new(t||n)(H(lk),H(OZ),H(fe),H(B4),H(ce))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RZ=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=_t(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,r){this.toastrService=e,this.toastPackage=t,this.ngZone=r,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=_t({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>ie(P({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>ie(P({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>ie(P({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(t){return new(t||n)(D(xe),D(d3),D(ce))};static \u0275cmp=U({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){t&1&&C("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),t&2&&(D5("@flyInOut",r._state),Bt(r.toastClasses),D2("display",r.displayStyle))},attrs:sk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){t&1&&x(0,wZ,3,0,"button",0)(1,MZ,3,5,"div",1)(2,EZ,1,3,"div",2)(3,TZ,2,4,"div",3)(4,IZ,2,2,"div",4),t&2&&(p("ngIf",r.options.closeButton),d(),p("ngIf",r.title),d(),p("ngIf",r.message&&r.options.enableHtml),d(),p("ngIf",r.message&&!r.options.enableHtml),d(),p("ngIf",r.options.progressBar))},dependencies:[Q],encapsulation:2,data:{animation:[ts("flyInOut",[Wo("inactive",o1({opacity:0})),Wo("active",o1({opacity:1})),Wo("removed",o1({opacity:0})),Nr("inactive => active",q2("{{ easeTime }}ms {{ easing }}")),Nr("active => removed",q2("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),FZ=ie(P({},ck),{toastComponent:RZ}),dk=(n={})=>_2([{provide:lk,useValue:{default:FZ,config:n}}]);var BZ=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=_t(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=_t("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,r){this.toastrService=e,this.toastPackage=t,this.appRef=r,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(t){return new(t||n)(D(xe),D(d3),D(gn))};static \u0275cmp=U({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){t&1&&C("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),t&2&&(Bt(r.toastClasses),D2("display",r.displayStyle))},attrs:sk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){t&1&&x(0,DZ,3,0,"button",0)(1,LZ,3,5,"div",1)(2,kZ,1,3,"div",2)(3,AZ,2,4,"div",3)(4,NZ,2,2,"div",4),t&2&&(p("ngIf",r.options.closeButton),d(),p("ngIf",r.title),d(),p("ngIf",r.message&&r.options.enableHtml),d(),p("ngIf",r.message&&!r.options.enableHtml),d(),p("ngIf",r.options.progressBar))},dependencies:[Q],encapsulation:2,changeDetection:0})}return n})(),QMe=ie(P({},ck),{toastComponent:BZ});var sv=(n,i)=>({"bg-green-500":n,"bg-red-500":i}),VZ=(n,i)=>({left:n,width:i}),uk=n=>({left:n,top:"50%",transform:"translate(-50%, -50%)"}),UZ=n=>({"bg-blue-100 font-semibold":n}),jZ=n=>({"bg-red-100 font-semibold":n});function HZ(n,i){if(n&1){let e=V();c(0,"tr")(1,"td",32),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.openOrderDialog(o.marketDepth.buy[r].price,"BUY"))}),f(2),N(3,"number"),l(),c(4,"td"),f(5),l(),c(6,"td",33),f(7),N(8,"number"),l(),c(9,"td",34),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.openOrderDialog(o.marketDepth.sell[r].price,"SELL"))}),f(10),N(11,"number"),l(),c(12,"td",28),f(13),l(),c(14,"td",35),f(15),N(16,"number"),l()()}if(n&2){let e=i.$implicit,t=g(2);d(2),k(" ",B(3,8,t.marketDepth.buy[e].price,"1.2-2")," "),d(3),L(t.marketDepth.buy[e].orders),d(),p("ngClass",vn(18,UZ,t.marketDepth.buy[e].quantity===t.maxBidQty)),d(),k(" ",W1(8,11,t.marketDepth.buy[e].quantity)," "),d(3),k(" ",B(11,13,t.marketDepth.sell[e].price,"1.2-2")," "),d(3),L(t.marketDepth.sell[e].orders),d(),p("ngClass",vn(20,jZ,t.marketDepth.sell[e].quantity===t.maxOfferQty)),d(),k(" ",W1(16,16,t.marketDepth.sell[e].quantity)," ")}}function qZ(n,i){if(n&1&&(c(0,"table",23)(1,"thead",24)(2,"tr")(3,"th",25),f(4,"Bid"),l(),c(5,"th",26),f(6,"Orders"),l(),c(7,"th",26),f(8,"Qty"),l(),c(9,"th",27),f(10,"Offer"),l(),c(11,"th",28),f(12,"Orders"),l(),c(13,"th",28),f(14,"Qty"),l()()(),c(15,"tbody"),x(16,HZ,17,22,"tr",29),c(17,"tr")(18,"td",30),f(19,"Total"),l(),M(20,"td"),c(21,"td"),f(22),N(23,"number"),l(),c(24,"td",31),f(25,"Total"),l(),M(26,"td"),c(27,"td",28),f(28),N(29,"number"),l()()()()),n&2){let e=g();d(16),p("ngForOf",e.depthLevels),d(6),L(W1(23,3,e.tick.totalBuyQuantity)),d(6),L(W1(29,5,e.tick.totalSellQuantity))}}function $Z(n,i){if(n&1){let e=V();c(0,"app-action-button",36),C("handleAction",function(){w(e);let r=g();return S(r.isSummaryCollapsed=!r.isSummaryCollapsed)}),l()}if(n&2){let e=g();p("title",e.isSummaryCollapsed?"Expand":"Collapse")("action",e.isSummaryCollapsed?"enlargeDown":"collapseUp")("color","gray")("noIconBackground",!0)}}function WZ(n,i){if(n&1&&(c(0,"div",15)(1,"span"),f(2,"Lot Size"),l(),c(3,"span"),f(4),l()()),n&2){let e=g(2);d(4),L(e.instrument.lotSize)}}function GZ(n,i){if(n&1&&(c(0,"div",15)(1,"span"),f(2,"OI"),l(),c(3,"span"),f(4),N(5,"number"),l()()),n&2){let e=g(2);d(4),L(W1(5,1,e.tick.oi))}}function YZ(n,i){if(n&1&&(c(0,"div",15)(1,"span"),f(2,"Expiry"),l(),c(3,"span"),f(4),N(5,"istDate"),l()()),n&2){let e=g(2);d(4),L(B(5,1,e.instrument.expiry,"date-ordinal"))}}function QZ(n,i){if(n&1&&(c(0,"div",37)(1,"div",15)(2,"span"),f(3,"Volume"),l(),c(4,"span"),f(5),N(6,"number"),l()(),c(7,"div",15)(8,"span"),f(9,"Avg. Price"),l(),c(10,"span"),f(11),N(12,"number"),l()(),c(13,"div",15)(14,"span"),f(15,"LTQ"),l(),c(16,"span"),f(17),l()(),c(18,"div",15)(19,"span"),f(20,"LTT"),l(),c(21,"span"),f(22),N(23,"istDate"),l()(),x(24,WZ,5,1,"div",38)(25,GZ,6,3,"div",38)(26,YZ,6,4,"div",38),l()),n&2){let e=g();d(5),L(W1(6,7,e.tick.volumeTradedToday)),d(6),L(B(12,9,e.tick.averageTradePrice,"1.2-2")),d(6),L(e.tick.lastTradedQuantity),d(5),L(B(23,12,e.tick.lastTradedTime,"time-no-mod")),d(2),p("ngIf",e.instrument.lotSize>1),d(),p("ngIf",e.tick.oi),d(),p("ngIf",e.instrument.expiry)}}var fk=(()=>{let i=class i{constructor(t,r,o,a,s,u,m){this.ws=t,this.dialogRef=r,this.dialog=o,this.data=a,this.overlay=s,this.instrumentsService=u,this.toastrService=m,this.title="Instrument Name",this.instrumentToken=0,this.instrument={},this.marketDepth={buy:[{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0}],sell:[{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0},{quantity:0,price:0,orders:0}]},this.depthLevels=[],this.maxBidQty=0,this.maxOfferQty=0,this.tick={},this.faArrowTrendUp=sT,this.isSummaryCollapsed=!0,this.instrumentToken=Number(a.instrumentToken),this.title=a.title}ngOnInit(){let t=Math.min(this.marketDepth.buy.length,this.marketDepth.sell.length);this.depthLevels=Array.from({length:t},(r,o)=>o),this.subscribeToWebSocket(),this.fetchInstrument()}fetchInstrument(t){this.instrumentsService.getInstrumentByToken(this.instrumentToken).subscribe({next:r=>{this.instrument=r.data},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching instrument. Verify that the backend service is operational.","Error")},complete:()=>{t&&t()}})}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}ngOnDestroy(){this.ws.unsubscribe([this.instrumentToken]),this.sub?.unsubscribe(),this.instrumentToken=0}subscribeToWebSocket(){this.instrumentToken>0?(this.ws.connectionState().pipe(be(t=>t),We(1)).subscribe(()=>{this.ws.subscribe([this.instrumentToken])}),this.sub=this.ws.ticks().subscribe(t=>{this.updateMarketDepth(t)})):console.log("No instrument tokens available for web socket subscription.")}updateMarketDepth(t){t.forEach(r=>{if(this.instrumentToken===r.instrumentToken)if(this.tick=r,r.tradable){this.marketDepth=r.marketDepth;let o=Math.min(this.marketDepth.buy.length,this.marketDepth.sell.length);this.depthLevels=Array.from({length:o},(a,s)=>s),this.maxBidQty=Math.max(...this.marketDepth.buy.map(a=>a.quantity)),this.maxOfferQty=Math.max(...this.marketDepth.sell.map(a=>a.quantity))}else this.isSummaryCollapsed=!1})}onClose(){this.dialogRef.close()}openOrderDialog(t,r){let o={exchange:this.instrument.exchange,tradingSymbol:this.instrument.tradingSymbol,instrumentToken:this.instrument.instrumentToken,lastPrice:t,displayName:this.instrument.displayName,segment:this.instrument.segment||this.instrument.order.exchange},a={isCopy:!0,isBuyMode:r,originalPrice:t,originalTriggerPrice:0}}getPercent(t){let r=this.tick.highPrice-this.tick.lowPrice;return`${(t-this.tick.lowPrice)/r*100}%`}getMinPercent(t,r){let o=Math.min(t,r);return this.getPercent(o)}getWidthBetween(t,r){let o=this.tick.highPrice-this.tick.lowPrice;return`${Math.abs(t-r)/o*100}%`}};i.\u0275fac=function(r){return new(r||i)(D(Qn),D(Tn),D(Zt),D(x1),D(b1),D(ak),D(xe))},i.\u0275cmp=U({type:i,selectors:[["app-market-depth"]],decls:55,vars:57,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[400px]","max-w-full","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","gap-2","p-4","border-b","cursor-move"],[1,"font-medium"],[1,"text-xs","text-gray-500","font-normal","ml-1"],[1,"font-medium","text-right","sm:text-left",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"p-4","space-y-4","text-sm"],[1,"overflow-hidden","transition-all","duration-300"],[1,"overflow-x-auto"],["class","w-full",4,"ngIf"],[1,"flex","items-center","justify-between",3,"ngClass"],[1,"font-medium","hover:underline",3,"click"],[3,"title","action","color","noIconBackground","handleAction",4,"ngIf"],[1,"space-y-4"],[1,"grid","grid-cols-2","sm:grid-cols-2","gap-2"],[1,"flex","justify-between"],[1,"relative","h-1","mt-3","mb-6","bg-gray-200"],[1,"absolute","top-0","h-1","rounded-md",3,"ngClass","ngStyle"],[1,"absolute","w-2","h-2","square-full",3,"ngClass","ngStyle","matTooltip"],[1,"absolute","w-2","h-2","rounded-full",3,"ngClass","ngStyle","matTooltip"],["class","grid grid-cols-2 gap-2 border-t pt-2",4,"ngIf"],["cdkDragHandle","",1,"flex","justify-end","border-t","px-4","py-3","cursor-move"],[1,"px-4","py-2","border","rounded","hover:bg-gray-100",3,"click"],[1,"w-full"],[1,"border-b","font-medium"],[1,"text-blue-600","text-left"],[1,"text-left"],[1,"text-right","text-red-600"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-blue-600"],[1,"text-red-600","text-right"],[1,"text-blue-600","hover:underline","cursor-pointer",3,"click"],[3,"ngClass"],[1,"text-red-600","text-right","hover:underline","cursor-pointer",3,"click"],[1,"text-right",3,"ngClass"],[3,"handleAction","title","action","color","noIconBackground"],[1,"grid","grid-cols-2","gap-2","border-t","pt-2"],["class","flex justify-between",4,"ngIf"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),f(3),c(4,"span",3),f(5),l()(),c(6,"span",4),f(7),N(8,"number"),c(9,"span",5),f(10),N(11,"percent"),l()()(),c(12,"div",6)(13,"div",7)(14,"div",8),x(15,qZ,30,7,"table",9),l()(),c(16,"div",10)(17,"button",11),C("click",function(){return o.isSummaryCollapsed=!o.isSummaryCollapsed}),f(18,"Summary"),l(),x(19,$Z,1,4,"app-action-button",12),l(),c(20,"div",7)(21,"div",13)(22,"div",14)(23,"div",15)(24,"span"),f(25,"Open"),l(),c(26,"span"),f(27),N(28,"number"),l()(),c(29,"div",15)(30,"span"),f(31,"Prev. Close"),l(),c(32,"span"),f(33),N(34,"number"),l()(),c(35,"div",15)(36,"span"),f(37,"Low"),l(),c(38,"span"),f(39),N(40,"number"),l()(),c(41,"div",15)(42,"span"),f(43,"High"),l(),c(44,"span"),f(45),N(46,"number"),l()()(),c(47,"div",16),M(48,"div",17)(49,"div",18)(50,"div",19),l(),x(51,QZ,27,15,"div",20),l()()(),c(52,"div",21)(53,"button",22),C("click",function(){return o.onClose()}),f(54,"Close"),l()()()),r&2&&(d(3),k("",o.title," "),d(2),L(o.instrument.exchange),d(),p("ngClass",o.color(o.tick.change)),d(),k(" ",B(8,23,o.tick.lastTradedPrice,"1.2-2")," "),d(3),k(" ",B(11,26,o.tick.change/100,"1.2-2")," "),d(3),p("@expandCollapse",o.tick.tradable?"expanded":"collapsed"),d(2),p("ngIf",o.tick.tradable),d(),p("ngClass",o.tick.tradable?"border-t pt-2":"pt-0"),d(3),p("ngIf",o.tick.tradable),d(),p("@expandCollapse",o.isSummaryCollapsed?"collapsed":"expanded"),d(7),L(B(28,29,o.tick.openPrice,"1.2-2")),d(6),L(B(34,32,o.tick.closePrice,"1.2-2")),d(6),L(B(40,35,o.tick.lowPrice,"1.2-2")),d(6),L(B(46,38,o.tick.highPrice,"1.2-2")),d(3),p("ngClass",Ae(41,sv,o.tick.lastTradedPrice>=o.tick.closePrice,o.tick.lastTradedPrice<o.tick.closePrice))("ngStyle",Ae(44,VZ,o.getMinPercent(o.tick.openPrice,o.tick.lastTradedPrice),o.getWidthBetween(o.tick.openPrice,o.tick.lastTradedPrice))),d(),p("ngClass",Ae(47,sv,o.tick.openPrice>=o.tick.closePrice,o.tick.openPrice<o.tick.closePrice))("ngStyle",vn(50,uk,o.getPercent(o.tick.openPrice)))("matTooltip","Open"),d(),p("ngClass",Ae(52,sv,o.tick.lastTradedPrice>=o.tick.closePrice,o.tick.lastTradedPrice<o.tick.closePrice))("ngStyle",vn(55,uk,o.getPercent(o.tick.lastTradedPrice)))("matTooltip","Last Price"),d(),p("ngIf",o.tick.tradable))},dependencies:[le,oe,Gn,Wn,Q,$o,T4,Xe,mt,nn,Qt],encapsulation:2,data:{animation:[In]}});let n=i;return n})();function KZ(n,i){if(n&1){let e=V();c(0,"app-action-button",2),C("handleAction",function(){w(e);let r=g();return S(r.handleAction())}),l()}n&2&&p("matTooltip","Market Depth")("action","list")("color","gray")}function XZ(n,i){if(n&1){let e=V();c(0,"fa-icon",3),C("click",function(){w(e);let r=g();return S(r.handleAction())}),l()}if(n&2){let e=g();p("matTooltip","Market Depth")("icon",e.faList)("ngClass",e.getTextStyle())}}var Fi=(()=>{let i=class i{constructor(t,r){this.dialog=t,this.overlay=r,this.title="",this.instrumentToken=0,this.iconBackground=!1,this.iconColor="gray",this.textStyles={blue:"text-blue-500 hover:text-blue-600",red:"text-red-500  hover:text-red-600",green:"text-green-500 hover:text-green-600",orange:"text-orange-500 hover:text-orange-600",gray:"text-gray-500 hover:text-gray-600",white:"text-white"},this.faList=vd}getTextStyle(){return this.textStyles[this.iconColor]}handleAction(){this.openMarketDepthDialog()}openMarketDepthDialog(){let t=this.dialog.open(fk,{disableClose:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{title:this.title,instrumentToken:this.instrumentToken}})}};i.\u0275fac=function(r){return new(r||i)(D(Zt),D(b1))},i.\u0275cmp=U({type:i,selectors:[["app-market-depth-invoker"]],inputs:{title:"title",instrumentToken:"instrumentToken",iconBackground:"iconBackground",iconColor:"iconColor"},decls:2,vars:1,consts:[[3,"matTooltip","action","color"],[1,"cursor-pointer","ml-2",3,"matTooltip","icon","ngClass"],[3,"handleAction","matTooltip","action","color"],[1,"cursor-pointer","ml-2",3,"click","matTooltip","icon","ngClass"]],template:function(r,o){r&1&&Je(0,KZ,1,3,"app-action-button",0)(1,XZ,1,3,"fa-icon",1),r&2&&et(o.iconBackground?0:1)},dependencies:[we,$o,le,Xe],encapsulation:2});let n=i;return n})();var pk=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(t,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var Bi=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(Bi||{}),cv=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Bi.HIDDEN;constructor(i,e,t,r=!1){this._renderer=i,this.element=e,this.config=t,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},mk=Oo({passive:!0,capture:!0}),lv=class{_events=new Map;addHandler(i,e,t,r){let o=this._events.get(e);if(o){let a=o.get(t);a?a.add(r):o.set(t,new Set([r]))}else this._events.set(e,new Map([[t,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,mk)})}removeHandler(i,e,t){let r=this._events.get(i);if(!r)return;let o=r.get(e);o&&(o.delete(t),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,mk)))}_delegateEventHandler=i=>{let e=r1(i);e&&this._events.get(i.type)?.forEach((t,r)=>{(r===e||r.contains(e))&&t.forEach(o=>o.handleEvent(i))})}},hk={enterDuration:225,exitDuration:150},ZZ=800,gk=Oo({passive:!0,capture:!0}),vk=["mousedown","touchstart"],yk=["mouseup","mouseleave","touchend","touchcancel"],JZ=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(t,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),dv=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new lv;constructor(i,e,t,r,o){this._target=i,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Fn(t)),o&&o.get(Z1).load(JZ)}fadeInRipple(i,e,t={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=P(P({},hk),t.animation);t.centered&&(i=r.left+r.width/2,e=r.top+r.height/2);let a=t.radius||eJ(i,e,r),s=i-r.left,u=e-r.top,m=o.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=`${s-a}px`,_.style.top=`${u-a}px`,_.style.height=`${a*2}px`,_.style.width=`${a*2}px`,t.color!=null&&(_.style.backgroundColor=t.color),_.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(_);let y=window.getComputedStyle(_),E=y.transitionProperty,I=y.transitionDuration,A=E==="none"||I==="0s"||I==="0s, 0s"||r.width===0&&r.height===0,R=new cv(this,_,t,A);_.style.transform="scale3d(1, 1, 1)",R.state=Bi.FADING_IN,t.persistent||(this._mostRecentTransientRipple=R);let F=null;return!A&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let W=()=>{F&&(F.fallbackTimer=null),clearTimeout(te),this._finishRippleTransition(R)},ee=()=>this._destroyRipple(R),te=setTimeout(ee,m+100);_.addEventListener("transitionend",W),_.addEventListener("transitioncancel",ee),F={onTransitionEnd:W,onTransitionCancel:ee,fallbackTimer:te}}),this._activeRipples.set(R,F),(A||!m)&&this._finishRippleTransition(R),R}fadeOutRipple(i){if(i.state===Bi.FADING_OUT||i.state===Bi.HIDDEN)return;let e=i.element,t=P(P({},hk),i.config.animation);e.style.transitionDuration=`${t.exitDuration}ms`,e.style.opacity="0",i.state=Bi.FADING_OUT,(i._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){let e=Fn(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,vk.forEach(t=>{n._eventManager.addHandler(this._ngZone,t,e,this)}))}handleEvent(i){i.type==="mousedown"?this._onMousedown(i):i.type==="touchstart"?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{yk.forEach(e=>{this._triggerElement.addEventListener(e,this,gk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===Bi.FADING_IN?this._startFadeOutTransition(i):i.state===Bi.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){let e=i===this._mostRecentTransientRipple,{persistent:t}=i.config;i.state=Bi.VISIBLE,!t&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){let e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=Bi.HIDDEN,e!==null&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),i.element.remove()}_onMousedown(i){let e=Dr(i),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ZZ;!this._target.rippleDisabled&&!e&&!t&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!zr(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=i.changedTouches;if(e)for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{let e=i.state===Bi.VISIBLE||i.config.terminateOnPointerUp&&i.state===Bi.FADING_IN;!i.config.persistent&&e&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let i=this._triggerElement;i&&(vk.forEach(e=>n._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&(yk.forEach(e=>i.removeEventListener(e,this,gk)),this._pointerUpEventsRegistered=!1))}};function eJ(n,i,e){let t=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(t*t+r*r)}var tJ=new G("mat-ripple-global-options"),_k=(()=>{class n{_elementRef=T(Me);_animationsDisabled=r2();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=T(ce),t=T(rn),r=T(tJ,{optional:!0}),o=T(fe);this._globalOptions=r||{},this._rippleRenderer=new dv(this,e,this._elementRef,t,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:P(P(P({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,t,P(P({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,P(P({},this.rippleConfig),e))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){t&2&&ne("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var f7=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({imports:[Ni,Ni]})}return n})();var rJ=["mat-menu-item",""],oJ=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],aJ=["mat-icon, [matMenuItemIcon]","*"];function sJ(n,i){n&1&&(Ke(),c(0,"svg",2),M(1,"polygon",3),l())}var cJ=["*"];function lJ(n,i){if(n&1){let e=V();I2(0,"div",0),z5("click",function(){w(e);let r=g();return S(r.closed.emit("click"))})("animationstart",function(r){w(e);let o=g();return S(o._onAnimationStart(r.animationName))})("animationend",function(r){w(e);let o=g();return S(o._onAnimationDone(r.animationName))})("animationcancel",function(r){w(e);let o=g();return S(o._onAnimationDone(r.animationName))}),I2(1,"div",1),Ti(2),vr()()}if(n&2){let e=g();Bt(e._classList),ne("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating()),ho("id",e.panelId),Et("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var pv=new G("MAT_MENU_PANEL"),fv=(()=>{class n{_elementRef=T(Me);_document=T(J);_focusMonitor=T(Ro);_parentMenu=T(pv,{optional:!0});_changeDetectorRef=T(yn);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Y;_focused=new Y;_highlighted=!1;_triggersSubmenu=!1;constructor(){T(Z1).load(pk),this._parentMenu?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<t.length;r++)t[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(t,r){t&1&&C("click",function(a){return r._checkDisabled(a)})("mouseenter",function(){return r._handleMouseEnter()}),t&2&&(Et("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),ne("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",an],disableRipple:[2,"disableRipple","disableRipple",an]},exportAs:["matMenuItem"],attrs:rJ,ngContentSelectors:aJ,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){t&1&&(Ji(oJ),Ti(0),c(1,"span",0),Ti(2,1),l(),M(3,"div",1),Je(4,sJ,2,0,":svg:svg",2)),t&2&&(d(3),p("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),d(),et(r._triggersSubmenu?4:-1))},dependencies:[_k],encapsulation:2,changeDetection:0})}return n})();var dJ=new G("MatMenuContent");var uJ=new G("mat-menu-default-options",{providedIn:"root",factory:fJ});function fJ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var uv="_mat-menu-enter",p7="_mat-menu-exit",f3=(()=>{class n{_elementRef=T(Me);_changeDetectorRef=T(yn);_injector=T(fe);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=r2();_allItems;_directDescendantItems=new fr;_classList={};_panelAnimationState="void";_animationDone=new Y;_isAnimating=_t(!1);parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let t=this._previousPanelClass,r=P({},this._classList);t&&t.length&&t.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new K;close=this.closed;panelId=T(kr).getId("mat-menu-panel-");constructor(){let e=T(uJ);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Lc(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(c1(this._directDescendantItems),qt(e=>v2(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let r=e.toArray(),o=Math.max(0,Math.min(r.length-1,t.activeItemIndex||0));r[o]&&!r[o].disabled?t.setActiveItem(o):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(c1(this._directDescendantItems),qt(t=>v2(...t.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,r=this._keyManager;switch(t){case 27:j2(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Sn(()=>{let t=this._resolvePanel();if(!t||!t.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=ie(P({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let t=e===p7;(t||e===uv)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating.set(!1))}_onAnimationStart(e){(e===uv||e===p7)&&this._isAnimating.set(!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let t=this._resolvePanel();t&&(t.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(p7),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?uv:p7)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(c1(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["mat-menu"]],contentQueries:function(t,r,o){if(t&1&&(za(o,dJ,5),za(o,fv,5),za(o,fv,4)),t&2){let a;ft(a=pt())&&(r.lazyContent=a.first),ft(a=pt())&&(r._allItems=a),ft(a=pt())&&(r.items=a)}},viewQuery:function(t,r){if(t&1&&Ft(d1,5),t&2){let o;ft(o=pt())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(t,r){t&2&&Et("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",an],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:an(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[tn([{provide:pv,useExisting:n}])],ngContentSelectors:cJ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(t,r){t&1&&(Ji(),M5(0,lJ,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return n})(),bk=new G("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=T(fe);return()=>Ar(n)}});function pJ(n){let i=T(fe);return()=>Ar(i)}var mJ={provide:bk,deps:[],useFactory:pJ};var u3=new WeakMap,hJ=(()=>{class n{_canHaveBackdrop;_element=T(Me);_viewContainerRef=T(An);_menuItemInstance=T(fv,{optional:!0,self:!0});_dir=T(Ai,{optional:!0});_focusMonitor=T(Ro);_ngZone=T(ce);_injector=T(fe);_scrollStrategy=T(bk);_changeDetectorRef=T(yn);_animationsDisabled=r2();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Ve.EMPTY;_menuCloseSubscription=Ve.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(e){e!==this._menuInternal&&(this._menuInternal=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal;constructor(e){this._canHaveBackdrop=e;let t=T(pv,{optional:!0});this._parentMaterialMenu=t instanceof f3?t:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&u3.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(e){let t=this._menu;if(this._menuOpen||!t)return;this._pendingRemoval?.unsubscribe();let r=u3.get(t);u3.set(t,this),r&&r!==this&&r._closeMenu();let o=this._createOverlay(t),a=o.getConfig(),s=a.positionStrategy;this._setPosition(t,s),this._canHaveBackdrop?a.hasBackdrop=t.hasBackdrop==null?!this._triggersSubmenu():t.hasBackdrop:a.hasBackdrop=!1,o.hasAttached()||(o.attach(this._getPortal(t)),t.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),t.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,e&&t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),t instanceof f3&&(t._setIsOpen(!0),t._directDescendantItems.changes.pipe(lt(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}_destroyMenu(e){let t=this._overlayRef,r=this._menu;!t||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof f3&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(We(1)).subscribe(()=>{t.detach(),u3.has(r)||r.lazyContent?.detach()}),r._setIsOpen(!1)):(t.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&u3.delete(r),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=jo(this._injector,t),this._overlayRef.keydownEvents().subscribe(r=>{this._menu instanceof f3&&this._menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(e){return new Uo({positionStrategy:K0(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",a=r.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(o,a)})})}_setPosition(e,t){let[r,o]=e.xPosition==="before"?["end","start"]:["start","end"],[a,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[u,m]=[a,s],[_,y]=[r,o],E=0;if(this._triggersSubmenu()){if(y=r=e.xPosition==="before"?"start":"end",o=_=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let I=this._parentMaterialMenu.items.first;this._parentInnerPadding=I?I._getHostElement().offsetTop:0}E=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(u=a==="top"?"bottom":"top",m=s==="top"?"bottom":"top");t.withPositions([{originX:r,originY:u,overlayX:_,overlayY:a,offsetY:E},{originX:o,originY:u,overlayX:y,overlayY:a,offsetY:E},{originX:r,originY:m,overlayX:_,overlayY:s,offsetY:-E},{originX:o,originY:m,overlayX:y,overlayY:s,offsetY:-E}])}_menuClosingActions(){let e=this._getOutsideClickStream(this._overlayRef),t=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Z(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(be(a=>this._menuOpen&&a!==this._menuItemInstance)):Z();return v2(e,r,o,t)}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Po(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return u3.get(e)===this}static \u0275fac=function(t){u4()};static \u0275dir=de({type:n})}return n})(),xk=(()=>{class n extends hJ{_cleanupTouchstart;_hoverSubscription=Ve.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){this._menu=e}menuData;restoreFocus=!0;menuOpened=new K;onMenuOpen=this.menuOpened;menuClosed=new K;onMenuClose=this.menuClosed;constructor(){super(!0);let e=T(sn);this._cleanupTouchstart=e.listen(this._element.nativeElement,"touchstart",t=>{zr(t)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(e){return e.backdropClick()}_handleMousedown(e){Dr(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&this._parentMaterialMenu?._panelAnimationState!=="void"&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,r){t&1&&C("click",function(a){return r._handleClick(a)})("mousedown",function(a){return r._handleMousedown(a)})("keydown",function(a){return r._handleKeydown(a)}),t&2&&Et("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu==null?null:r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[ut]})}return n})();var Ck=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({providers:[mJ],imports:[f7,Ni,Dc,Xa,Ni]})}return n})(),wk={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},nTe=wk.fadeInItems,iTe=wk.transformMenu;var Sk=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({imports:[Ni,f7,Ni]})}return n})();var Mk=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({imports:[Ni,Ni]})}return n})();function vJ(n,i){n&1&&M(0,"div",9)}function yJ(n,i){if(n&1){let e=V();He(0),c(1,"div",6)(2,"app-action-button",7),C("handleAction",function(r){w(e);let o=g();return S(o.handleClick(r))}),l()(),x(3,vJ,1,0,"div",8),qe()}if(n&2){let e=i.$implicit,t=i.index,r=g();d(2),p("noIconBackground",!0)("label",e.label)("action",e.action)("color",e.color)("row",r.row),d(),p("ngIf",t<r.actions.length-1)}}var w1=(()=>{let i=class i{constructor(){this.handleAction=new K,this.actions=[],this.faRefresh=Li,this.faEllipsisV=fT}handleClick(t){this.handleAction.emit(t)}ngOnInit(){}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-action-menu"]],inputs:{actions:"actions",row:"row"},outputs:{handleAction:"handleAction"},decls:6,vars:3,consts:[["menu","matMenu"],[1,"flex","w-full","px-0","text-sm"],[1,"ml-auto","!p-0","!m-0","leading-none","flex","items-center","justify-center","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","rounded-md","transition","duration-150","ease-in-out",3,"matMenuTriggerFor"],[1,"ml-4","mr-2","text-gray-600",3,"icon"],[1,"!min-w-[8rem]","rounded-md","shadow-sm"],[4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition","rounded-md","text-sm"],[3,"handleAction","noIconBackground","label","action","color","row"],["class","border-t border-gray-200 mx-2 my-1",4,"ngIf"],[1,"border-t","border-gray-200","mx-2","my-1"]],template:function(r,o){if(r&1&&(c(0,"div",1)(1,"button",2),M(2,"fa-icon",3),l()(),c(3,"mat-menu",4,0),x(5,yJ,4,6,"ng-container",5),l()),r&2){let a=At(4);d(),p("matMenuTriggerFor",a),d(),p("icon",o.faEllipsisV),d(3),p("ngForOf",o.actions)}},dependencies:[Ck,f3,xk,Sk,Mk,oe,$o,Q,we],encapsulation:2});let n=i;return n})();var ei=(()=>{let i=class i{constructor(){this.fallbackAvatarUrl=""}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-user-info-header"]],inputs:{userId:"userId",userName:"userName",fullName:"fullName",avatarUrl:"avatarUrl",fallbackAvatarUrl:"fallbackAvatarUrl"},decls:11,vars:5,consts:[[1,"flex","items-center","justify-between","w-full","py-2","px-1"],[1,"flex","items-center","gap-3"],[1,"relative"],["width","30","height","30",1,"object-cover","ring-2","ring-gray-200","shadow-sm",3,"ngSrc","alt"],[1,"flex","flex-row","items-center","gap-2"],[1,"text-gray-700","font-semibold","text-sm","leading-tight","block","md:hidden"],[1,"text-gray-700","font-semibold","text-sm","leading-tight","hidden","md:block"],[1,"text-gray-500","text-sm"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),M(3,"img",3),l(),c(4,"div",4)(5,"span",5),f(6),l(),c(7,"span",6),f(8),l(),c(9,"span",7),f(10),l()()()()),r&2&&(d(3),p("ngSrc",o.avatarUrl||o.fallbackAvatarUrl)("alt","User avatar for "+o.userName),d(3),L(o.userName),d(2),L(o.fullName||o.userName),d(2),L(o.userId))},dependencies:[he,p1],encapsulation:2});let n=i;return n})();function _J(n,i){n&1&&(c(0,"div",1)(1,"p",2),f(2,"No orders to display"),l()())}function bJ(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("instrument"))}}function xJ(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("product"))}}function CJ(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("quantity"))}}function wJ(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("price"))}}function SJ(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("change"))}}function MJ(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("status"))}}function EJ(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("timestamp"))}}function TJ(n,i){if(n&1){let e=V();c(0,"input",41),C("change",function(){w(e);let r=g().$implicit,o=g(3);return S(o.toggleOrderSelection(r))}),l()}if(n&2){let e=g().$implicit,t=g(3);p("checked",t.isOrderSelected(e))}}function IJ(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),l()),n&2){let e=g().$implicit;d(),k(" ",B(2,1,e.order.averagePrice,"1.2-2")," ")}}function DJ(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),l()),n&2){let e=g().$implicit;d(),k(" ",B(2,1,e.order.price,"1.2-2")," ")}}function zJ(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),N(3,"number"),l()),n&2){let e=g().$implicit;d(),Mn(" ",B(2,2,e.order.price,"1.2-2"),"/",B(3,5,e.order.triggerPrice,"1.2-2")," ")}}function LJ(n,i){if(n&1&&M(0,"fa-icon",42),n&2){let e=g(4);p("icon",e.faClock)}}function kJ(n,i){if(n&1){let e=V();He(0),c(1,"tr",21)(2,"td",22),x(3,TJ,1,1,"input",23),l(),c(4,"td",24)(5,"div",25),M(6,"app-small-chip",26),c(7,"span",27),f(8),l(),M(9,"app-market-depth-invoker",28)(10,"app-small-chip",26),c(11,"div",29),M(12,"fa-icon",30),l()()(),c(13,"td",31),M(14,"app-small-chip",32)(15,"app-small-chip",26),l(),c(16,"td",33)(17,"span",34),f(18),l()(),c(19,"td",33),x(20,IJ,3,4,"span",20)(21,DJ,3,4,"span",20)(22,zJ,4,8,"span",20),l(),c(23,"td",33)(24,"span",35),f(25),N(26,"number"),c(27,"span",36),f(28),N(29,"percent"),l()()(),c(30,"td",31)(31,"div",25),x(32,LJ,1,1,"fa-icon",37),M(33,"app-small-chip",38),l()(),c(34,"td",33)(35,"span",39),f(36),N(37,"istDate"),l()(),c(38,"td",33)(39,"app-action-menu",40),C("handleAction",function(r){w(e);let o=g(3);return S(o.handleAction(r))}),l()()(),qe()}if(n&2){let e=i.$implicit,t=g(3);d(3),p("ngIf",t.isOrderPending(e.order.status)),d(3),p("text",e.order.transactionType)("color",t.getTransactionTypeChipColor(e.order.transactionType)),d(),p("title",e.displayName),d(),k(" ",e.displayName," "),d(),p("title",e.displayName)("instrumentToken",e.instrumentToken),d(),p("text",e.order.exchange)("color","gray"),d(2),p("icon",t.faTag)("matTooltip",e.order.tag?e.order.tag:"kite-web-order"),d(2),p("text",e.order.product)("color",e.order.product==="MIS"?"orange":"purple"),d(),p("text",e.order.orderType)("color","gray"),d(3),Mn(" ",e.order.filledQuantity,"/",e.order.quantity," "),d(2),p("ngIf",e.order.orderType==="MARKET"),d(),p("ngIf",e.order.orderType!=="MARKET"&&e.order.orderType!=="SL"),d(),p("ngIf",e.order.orderType==="SL"),d(2),p("ngClass",t.color(e.change)),d(),k(" ",B(26,34,e.lastPrice,"1.2-2")," "),d(2),ne("bg-green-50",e.change>0)("bg-red-50",e.change<0),d(),k(" ",B(29,37,e.change/100,"1.2-2")," "),d(4),p("ngIf",e.order.status==="AMO REQ RECEIVED"||e.order.status==="MODIFY AMO REQ RECEIVED"),d(),p("matTooltip",e.order.statusMessage?e.order.statusMessage:"")("text",e.order.status)("color",t.getStatusChipColor(e.order.status)),d(3),k(" ",W1(37,40,t.getOrderTimeStamp(e.order.orderTimestamp))," "),d(3),p("row",e)("actions",t.getActionButtons(e))}}function AJ(n,i){n&1&&(c(0,"tr")(1,"td",43),M(2,"div",44),l()())}function NJ(n,i){if(n&1&&(He(0),c(1,"tr",17)(2,"td",18),M(3,"app-user-info-header",19),l()(),x(4,kJ,40,42,"ng-container",15)(5,AJ,3,0,"tr",20),qe()),n&2){let e=i.$implicit,t=i.last,r=g(2);d(3),p("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),d(),p("ngForOf",e.orders)("ngForTrackBy",r.trackBySequenceNumber),d(),p("ngIf",!t)}}function PJ(n,i){if(n&1){let e=V();c(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"input",7),C("change",function(){w(e);let r=g();return S(r.toggleSelectAll())}),l()(),c(6,"th",8)(7,"button",9),C("click",function(){w(e);let r=g();return S(r.setSort("instrument"))}),f(8," INSTRUMENT "),x(9,bJ,2,1,"span",10),l()(),c(10,"th",11)(11,"button",9),C("click",function(){w(e);let r=g();return S(r.setSort("product"))}),f(12," PRODUCT "),x(13,xJ,2,1,"span",10),l()(),c(14,"th",11)(15,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("quantity"))}),f(16," QTY "),x(17,CJ,2,1,"span",10),l()(),c(18,"th",11)(19,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("price"))}),f(20," PRICE "),x(21,wJ,2,1,"span",10),l()(),c(22,"th",11)(23,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("change"))}),f(24," LTP "),x(25,SJ,2,1,"span",10),l()(),c(26,"th",8)(27,"button",9),C("click",function(){w(e);let r=g();return S(r.setSort("status"))}),f(28," STATUS "),x(29,MJ,2,1,"span",10),l()(),c(30,"th",11)(31,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("timestamp"))}),f(32," TIME "),x(33,EJ,2,1,"span",10),l()(),c(34,"th",13),f(35,"ACTIONS"),l()()(),c(36,"tbody",14),x(37,NJ,6,8,"ng-container",15),l()()()}if(n&2){let e=g();d(5),p("checked",e.isAllSelected)("indeterminate",e.isSomeSelected),d(4),p("ngIf",e.getSortIndicator("instrument")),d(4),p("ngIf",e.getSortIndicator("product")),d(4),p("ngIf",e.getSortIndicator("quantity")),d(4),p("ngIf",e.getSortIndicator("price")),d(4),p("ngIf",e.getSortIndicator("change")),d(4),p("ngIf",e.getSortIndicator("status")),d(4),p("ngIf",e.getSortIndicator("timestamp")),d(4),p("ngForOf",e.sortedGroupedOrders)("ngForTrackBy",e.trackByUser)}}var mv=(()=>{let i=class i{constructor(){this.groupedOrders=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new K,this.selectedOrdersChange=new K,this.sortColumn="timestamp",this.sortDirection="desc",this.selectedOrders=new Set,this.sortAccessors={instrument:t=>(t.displayName??"").toString().toLowerCase(),quantity:t=>t.order?.quantity??0,price:t=>t.order?.orderType==="MARKET"?t.order?.averagePrice??0:t.order?.orderType==="SL"?t.order?.triggerPrice??0:t.order?.price??0,change:t=>t.change??0,product:t=>t.order?.product??0,status:t=>(t.order?.status??"").toString().toLowerCase(),timestamp:t=>t.order?.orderTimestamp??0},this.pendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.faClock=H0,this.faTag=VT}get sortedGroupedOrders(){return!this.sortColumn||!this.sortDirection?this.groupedOrders:this.groupedOrders.map(t=>ie(P({},t),{orders:[...t.orders??[]].sort((r,o)=>this.compareOrders(r,o))}))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection=this.getDefaultDirection(t)}getDefaultDirection(t){return["timestamp","change"].includes(t)?"desc":"asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareOrders(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}getActionButtons(t){let r=this.actions;return this.isOrderPending(t.order.status)||(r=r.filter(o=>o.action!=="modify"&&o.action!=="cancel")),r}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}getStatusChipColor(t){return this.pendingStatus.indexOf(t)>-1?"blue":t==="COMPLETE"?"green":t==="FAILED"||t==="REJECTED"?"red":"gray"}getOrderTimeStamp(t){return Number(t)}getTransactionTypeChipColor(t){switch(t){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}trackBySequenceNumber(t,r){return r.sequenceNumber}trackByUser(t,r){return r.userId}isOrderPending(t){return this.pendingStatus.indexOf(t)>-1}handleAction(t){this.handleClickAction.emit(t)}get allPendingOrders(){return this.groupedOrders.flatMap(t=>t.orders.filter(r=>this.isOrderPending(r.order.status)))}get isAllSelected(){let t=this.allPendingOrders;return t.length>0&&t.every(r=>this.selectedOrders.has(r))}get isSomeSelected(){return this.allPendingOrders.some(r=>this.selectedOrders.has(r))&&!this.isAllSelected}toggleSelectAll(){this.isAllSelected?this.allPendingOrders.forEach(t=>this.selectedOrders.delete(t)):this.allPendingOrders.forEach(t=>this.selectedOrders.add(t)),this.emitSelectedOrders()}toggleOrderSelection(t){this.selectedOrders.has(t)?this.selectedOrders.delete(t):this.selectedOrders.add(t),this.emitSelectedOrders()}isOrderSelected(t){return this.selectedOrders.has(t)}emitSelectedOrders(){this.selectedOrdersChange.emit(Array.from(this.selectedOrders))}clearSelection(){this.selectedOrders.clear(),this.emitSelectedOrders()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-orders-table"]],inputs:{groupedOrders:"groupedOrders",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction",selectedOrdersChange:"selectedOrdersChange"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center","w-12"],["type","checkbox","title","Select/Unselect all pending orders",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked","indeterminate"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","9",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],["type","checkbox","class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer","title","Select order for bulk cancel",3,"checked","change",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"truncate","max-w-xs",3,"title"],[3,"title","instrumentToken"],[1,"flex","items-center","gap-1.5","bg-blue-50","rounded-md","px-2","py-0.5","text-blue-700"],[1,"text-blue-500","text-xs",3,"icon","matTooltip"],[1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],[1,"mr-1",3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[1,"text-gray-700"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],["class","text-orange-400",3,"icon",4,"ngIf"],[3,"matTooltip","text","color"],[1,"text-gray-700","text-sm"],[3,"handleAction","row","actions"],["type","checkbox","title","Select order for bulk cancel",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked"],[1,"text-orange-400",3,"icon"],["colspan","9",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,_J,3,0,"div",1)(2,PJ,38,11,"div"),l()),r&2&&(d(),et(!o.groupedOrders||o.groupedOrders.length===0?1:2))},dependencies:[le,oe,xt,Q,we,Fi,w1,Xe,ei,bt,mt,Qt,nn],encapsulation:2});let n=i;return n})();var K2=(()=>{let i=class i{constructor(t){this.api=t}getOrders(){return this.api.get("/v1/orders")}placeOrder(t,r){return this.api.post(`/v1/orders?variety=${r}`,t)}modifyOrder(t,r,o,a){return this.api.put(`/v1/orders/${t}/${r}?variety=${a}`,o)}cancelOrder(t,r,o){return this.api.delete(`/v1/orders/${t}/${r}?variety=${o}`)}fetchCharges(){return this.api.get("/v1/orders/charges")}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var X2=(()=>{let i=class i{constructor(t){this.api=t}getFunds(){return this.api.get("/v1/funds")}calculateMargin(t){return this.api.post("/v1/funds/margins/orders",t)}calculateCombinedMargin(t){return this.api.post("/v1/funds/margins/basket",t)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Ut=(()=>{let i=class i{constructor(){this.key="userViewState"}getState(){let t=localStorage.getItem(this.key);if(t)return JSON.parse(t);let r=this.getDefaultState();return localStorage.setItem(this.key,JSON.stringify(r)),r}getDefaultState(){return{holdings:{selectedUsersIds:[],selectedHoldingType:"All",searchQuery:"",filterSelection:[]},positions:{selectedUsersIds:[],searchQuery:"",filterSelection:[]},orders:{selectedUsersIds:[],selectedOrderType:"Open",searchQuery:"",filterSelection:[]},funds:{selectedUsersIds:[]},watchlist:{activeWatchlist:0,isCollapsed:!1},mfSips:{selectedSectionType:"SIPs",selectedUsersIds:[],searchQuery:"",mfSearchQuery:"",filterSelection:[],mfOrderFilterSelection:[]},ordersHistory:{},charges:{selectedUsersIds:[]},userManagementDashboard:{},straddles:{selectedSectionType:"Straddles",selectedUsersIds:[],searchQuery:""},historicalData:{},ipos:{selectedIpoType:"IPO",searchQuery:"",searchIpoApplicationsQuery:"",selectedUsersIds:[],filterSelection:[],applicationsFilterSelection:[]},userPreferences:{},home:{selectedUsersIds:[]},profile:{selectedTab:"Profile"},administration:{selectedTab:"Scheduled Tasks"}}}setState(t){let r=this.getState(),o=P(P({},r),t);localStorage.setItem(this.key,JSON.stringify(o))}clearState(){localStorage.removeItem(this.key)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var OJ=n=>({"justify-end":n});function RJ(n,i){if(n&1&&(c(0,"div",32),M(1,"div",33),l()),n&2){let e=g();p("ngClass",vn(2,OJ,e.positionData.isBuyMode)),d(),p("ngClass",e.positionData.isBuyMode?"bg-blue-500":"bg-orange-500")}}function FJ(n,i){n&1&&(c(0,"span",22),f(1,"*"),l())}function BJ(n,i){n&1&&(c(0,"span",22),f(1,"*"),l())}function VJ(n,i){if(n&1&&(c(0,"option",47),f(1),l()),n&2){let e=i.$implicit;p("value",e.userId),d(),Mn(" ",e.name," - ",e.userId," ")}}function UJ(n,i){if(n&1&&(c(0,"span",48),f(1),N(2,"currency"),l()),n&2){let e=g().$implicit;d(),k("+",Ee(2,1,e.charges,"INR","symbol","1.0-0"))}}function jJ(n,i){if(n&1){let e=V();c(0,"button",49),C("click",function(){w(e);let r=g().index,o=g();return S(o.removeAccount(r))}),M(1,"fa-icon",50),l()}if(n&2){let e=g(2);p("matTooltip","Remove"),d(),p("icon",e.faTrash)}}function HJ(n,i){if(n&1){let e=V();c(0,"div",34)(1,"div",35)(2,"label",36),f(3,"Trading Account "),c(4,"span",22),f(5,"*"),l()(),c(6,"select",37),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.tradingAccountId,r)||(o.tradingAccountId=r),S(r)}),C("ngModelChange",function(){let r=w(e).$implicit,o=g();return o.getHistoricalQuantity(r,o.instrument.segment),S(o.computeRequiredMargin(r))}),c(7,"option",38),f(8,"Select Account"),l(),x(9,VJ,2,3,"option",39),l()(),c(10,"div",40)(11,"div",41)(12,"label",36),f(13,"Quantity "),c(14,"span",22),f(15,"*"),l()(),c(16,"input",42),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.quantity,r)||(o.quantity=r),S(r)}),C("ngModelChange",function(){let r=w(e).$implicit,o=g();return S(o.computeRequiredMargin(r))}),l()(),c(17,"div",43)(18,"label",11),f(19," Req. "),c(20,"span",44),f(21),N(22,"currency"),l(),x(23,UJ,3,6,"span",45),l(),c(24,"label",11),f(25," Avail. "),c(26,"span",44),f(27),N(28,"currency"),l()()()(),x(29,jJ,2,2,"button",46),l()}if(n&2){let e=i.$implicit,t=g();d(6),p("disabled",t.sourceData.orderId!=null&&!t.sourceData.isCopy||t.sourceData.isExitPosition),Pe("ngModel",e.tradingAccountId),d(3),p("ngForOf",t.users),d(7),Pe("ngModel",e.quantity),d(5),L(Ee(22,8,e.requiredMargin,"INR","symbol","1.0-0")),d(2),p("ngIf",e.charges>0),d(4),L(Ee(28,13,e.availableMargin,"INR","symbol","1.0-0")),d(2),p("ngIf",t.orders.length>1)}}function qJ(n,i){if(n&1){let e=V();c(0,"button",51),C("click",function(){w(e);let r=g();return S(r.addAccount())}),M(1,"fa-icon",52),f(2," Add Position "),l()}if(n&2){let e=g();d(),p("icon",e.faPlus)}}var Ko=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_){this.dialogRef=t,this.userService=r,this.toastr=o,this.ws=a,this.ordersService=s,this.fundsService=u,this.userViewStateService=m,this.data=_,this.instrumentTokens=[],this.dialogInstanceId=`dialog_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,this.orders=[{tradingAccountId:"",quantity:0,requiredMargin:0,charges:0,availableMargin:0}],this.positionData={isBuyMode:!1,marketOrder:!1,slOrder:!1,price:0,triggerPrice:0,productType:"NON-MIS"},this.funds=[],this.users=[],this.instrument={},this.sourceData={},this.variety=null,this.requestType="place",this.lotSize=1,this.lastEnteredPrice=0,this.lastEnteredTriggeredPrice=0,this.faChartPie=yd,this.faPlus=Ir,this.faTrash=ko,this.sourceData=_.sourceData,this.instrument=_.instrument,this.initializePositionData()}ngOnInit(){this.fetchUsers(),this.fetchFunds(),this.subscribeToWebSocket()}toggleMode(){this.positionData.isBuyMode=!this.positionData.isBuyMode,this.computeAllRequiredMargins()}addAccount(){if(this.orders.length>=5){this.toastr.error("You can only add up to 5 positions in one request","Error");return}this.orders.push({tradingAccountId:"",quantity:0})}removeAccount(t){this.orders.splice(t,1)}subscribeToWebSocket(){this.instrumentTokens.push(this.instrument.instrumentToken),this.instrumentTokens.length>0?(this.ws.connectionState().pipe(be(t=>t),We(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(t=>{this.updatePositionFormOnUpdate(t)})):console.log("No instrument tokens available for web socket subscription.")}updatePositionFormOnUpdate(t){t.forEach(r=>{(this.instrument.instrumentToken===r.instrumentToken?[this.instrument]:[]).forEach(a=>{a&&a.lastPrice!==r.lastTradedPrice&&(a.change=r.change,a.lastPrice=r.lastTradedPrice,this.lotSize=r.lotSize)})})}getDefaultVariety(){let t=new Date,r=new Date;r.setHours(9,0,0,0);let o=new Date;o.setHours(15,30,0,0);let a=t.getDay()===0||t.getDay()===6;return t<r||t>o||a?"amo":"regular"}onSubmit(){let t=[],r=this.getDefaultVariety();this.orders.forEach(o=>{let a={quantity:o.quantity,orderType:this.orderType,tradingsymbol:this.instrument.tradingSymbol,product:this.productType,exchange:this.instrument.exchange,transactionType:this.buySell,validity:"DAY",price:this.positionData.price,triggerPrice:this.positionData.triggerPrice,tag:"famvest-single-order"};this.saveUserViewState(o,this.instrument.segment),t.push({tradingAccountId:o.tradingAccountId,orderParams:a})}),this.validateOrders(t)&&(this.requestType==="modify"?this.ordersService.modifyOrder(t[0].tradingAccountId,this.sourceData.orderId,t[0],r).pipe(Qe(o=>Z({error:!0,id:this.orders[0].tradingAccountId,message:o?.error?.message||"Unknown error"}))).subscribe({next:o=>{"error"in o&&o.error?(console.error("\u274C Order modification failed:",o),this.toastr.error(`Order modification for ${o.id} failed: ${o.message}`,"Error")):this.toastr.success(`Order modification successfully. Order ID:${o.data.orderId}`,"Success"),this.dialogRef.close(o)},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}}):ct(t).pipe(T1(o=>this.ordersService.placeOrder(o,r).pipe(Qe(a=>Z({error:!0,id:o.tradingAccountId,message:a?.error?.message||"Unknown error"}))))).subscribe({next:o=>{"error"in o&&o.error?(console.error("\u274C Order placement failed:",o),this.toastr.error(`Order placement for ${o.id} failed: ${o.message}`,"Error")):this.toastr.success(`Order placed successfully. Order ID:${o.data.orderId}`,"Success"),this.dialogRef.close(o)},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}}))}validateOrders(t){if(t.length===0)return this.toastr.error("Please add at least one trading account position","Error"),!1;for(let r of t)if(!r.tradingAccountId||r.orderParams.quantity<=0)return this.toastr.error("All positions must have a valid trading account and quantity","Error"),!1;return!0}onCancel(){this.dialogRef.close()}initializePositionData(){switch(this.sourceData.orderType){case"SL":this.positionData.marketOrder=!1,this.positionData.slOrder=!0;break;case"SL-M":this.positionData.marketOrder=!0,this.positionData.slOrder=!0;break;case"LIMIT":this.positionData.marketOrder=!1,this.positionData.slOrder=!1;break;case"MARKET":this.positionData.marketOrder=!0,this.positionData.slOrder=!1;break}this.sourceData.product&&(this.positionData.productType=this.sourceData.product==="MIS"?"MIS":"NON-MIS"),this.sourceData.variety&&(this.variety=this.sourceData.variety),this.positionData.isBuyMode=this.sourceData.isBuyMode,this.requestType=this.sourceData.orderId?"modify":"place",this.sourceData.isCopy&&(this.requestType="place"),this.sourceData.originalPrice?this.positionData.price=this.sourceData.originalPrice:this.positionData.price=this.instrument.lastPrice,this.lastEnteredPrice=this.positionData.price,this.sourceData.originalTriggerPrice>0?(this.positionData.triggerPrice=this.sourceData.originalTriggerPrice,this.lastEnteredTriggeredPrice=this.positionData.triggerPrice):this.lastEnteredTriggeredPrice=this.instrument.lastPrice,(this.sourceData.orderId||this.sourceData.isExitPosition||this.sourceData.isCopy)&&(this.orders[0].tradingAccountId=this.instrument.tradingAccountId,this.orders[0].quantity=this.instrument.quantity,this.computeRequiredMargin(this.orders[0]))}get orderType(){return this.positionData.slOrder?this.positionData.marketOrder?"SL-M":"SL":this.positionData.marketOrder?"MARKET":"LIMIT"}get productType(){return this.positionData.productType==="MIS"?"MIS":this.instrument.exchange==="NFO"||this.instrument.exchange==="BFO"?"NRML":"CNC"}get buySell(){return this.positionData.isBuyMode?"BUY":"SELL"}get priceInputIcon(){return this.positionData.marketOrder?"\u270E":"\xD7"}get triggerPriceInputIcon(){return this.positionData.slOrder?"\xD7":"\u270E"}onPriceInputIconClick(){this.positionData.marketOrder?(this.positionData.price=this.lastEnteredPrice,this.positionData.marketOrder=!1):(this.lastEnteredPrice=this.positionData.price,this.positionData.price=0,this.positionData.marketOrder=!0)}onTriggerPriceInputIconClick(){this.positionData.slOrder?(this.lastEnteredTriggeredPrice=this.positionData.triggerPrice,this.positionData.triggerPrice=0,this.positionData.slOrder=!1):(this.positionData.triggerPrice=this.lastEnteredTriggeredPrice,this.positionData.slOrder=!0)}getPriceInputTitle(){return this.positionData.slOrder?this.positionData.marketOrder?"Convert to SL order":"Convert to SL-M order":this.positionData.marketOrder?"Convert to LIMIT order":"Convert to MARKET order"}getTriggerPriceInputTitle(){return this.positionData.slOrder?this.positionData.marketOrder?"Convert to MARKET order":"Convert to LIMIT order":this.positionData.marketOrder?"Convert to SL-M order":"Convert to SL order"}fetchUsers(){console.log("fetching user profiles"),this.userService.getTradingAccounts().subscribe({next:t=>{this.users=t.data.filter(r=>r.active)},error:t=>{this.toastr.error(t.error.message,"Error"),console.error(t)}})}fetchFunds(){this.fundsService.getFunds().subscribe({next:t=>{this.funds=t.data},error:t=>{t.error.message?this.toastr.error(t.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error")},complete:()=>{(this.sourceData.orderId||this.sourceData.isCopy)&&this.orders.length>0&&(this.orders[0].availableMargin=this.funds.find(t=>t.userId===this.orders[0].tradingAccountId)?.margin?.net||0)}})}getHistoricalQuantity(t,r){let o=this.userViewStateService.getState();if(o.ordersHistory){let a=o.ordersHistory[`${t.tradingAccountId}_${r}`];t.quantity===0&&a&&a.quantity&&(t.quantity=a.quantity)}}saveUserViewState(t,r){let o=this.userViewStateService.getState();o.ordersHistory||(o.ordersHistory={});let a=`${t.tradingAccountId}_${r}`;o.ordersHistory[a]={quantity:t.quantity},this.userViewStateService.setState({ordersHistory:o.ordersHistory})}computeAllRequiredMargins(){this.orders.forEach(t=>{this.computeRequiredMargin(t)})}computeRequiredMargin(t){if(t.availableMargin=this.funds.find(r=>r.userId===t.tradingAccountId)?.margin?.net||0,t.quantity>0&&t.tradingAccountId){let r={tradingSymbol:this.instrument.tradingSymbol,exchange:this.instrument.exchange,transactionType:this.buySell,variety:this.variety,product:this.productType,orderType:this.orderType,quantity:t.quantity,price:this.positionData.price||0,triggerPrice:this.positionData.triggerPrice||0},o={tradingAccountId:t.tradingAccountId,marginCalculationParams:r};this.fundsService.calculateMargin(o).subscribe({next:a=>{t.requiredMargin=a.data[0].total,t.charges=a.data[0].charges.total},error:a=>{this.toastr.error(a.error.message,"Error"),console.error(a)}})}else t.requiredMargin=0,t.charges=0}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)(D(Tn),D(Hn),D(xe),D(Qn),D(K2),D(X2),D(Ut),D(x1))},i.\u0275cmp=U({type:i,selectors:[["app-add-manage-order-dialog"]],decls:62,vars:49,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700",3,"ngClass"],["cdkDragHandle","",1,"flex","items-start","sm:items-center","justify-between","p-2","flex-col","sm:flex-row","gap-2","sm:gap-0","cursor-move",3,"ngClass"],[1,"font-medium"],[1,"text-sm","text-gray-100","ml-1"],[3,"title","instrumentToken","iconColor"],[1,"text-sm","rounded-md","px-1","py-[1px]","text-white"],[1,"focus:outline-none","self-end","sm:self-auto",3,"click"],["class","w-16 h-6 bg-white rounded-md flex items-center px-1",3,"ngClass",4,"ngIf"],[1,"bg-white","p-4","space-y-3","max-h-[70vh]","overflow-y-auto"],[1,"flex","flex-col","sm:flex-row","items-stretch","sm:items-center","gap-4"],[1,"flex-1"],[1,"text-sm","text-gray-600"],["class","text-red-500",4,"ngIf"],[1,"relative"],["type","text","placeholder","Enter price",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","button",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-2xl",3,"click","matTooltip","ngClass"],["type","text","placeholder","Enter trigger price",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"flex","items-center","gap-6"],[1,"inline-flex","items-center","gap-1"],["type","radio","value","MIS",1,"form-radio","text-blue-500",3,"ngModelChange","disabled","name","ngModel"],[1,"text-sm","text-gray-700"],["type","radio","value","NON-MIS",1,"form-radio","text-purple-500",3,"ngModelChange","disabled","name","ngModel"],[1,"text-red-500"],[1,"space-y-3","mt-2"],["class","flex flex-col sm:flex-row flex-wrap items-start sm:items-end gap-4 p-2 border rounded-md",4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","justify-between","mt-4","gap-2"],["class","text-sm text-blue-600 hover:underline focus:outline-none",3,"click",4,"ngIf"],[1,"flex","flex-wrap","gap-2","text-sm"],[3,"text","color"],["cdkDragHandle","",1,"bg-white","p-4","border-t","flex","flex-col","sm:flex-row","justify-between","gap-2","cursor-move"],[1,"flex-1","py-2","px-4","rounded-md",3,"click","ngClass"],["type","button",1,"flex-1","py-2","px-4","border","rounded-md","hover:bg-gray-100",3,"click"],[1,"w-16","h-6","bg-white","rounded-md","flex","items-center","px-1",3,"ngClass"],[1,"w-3","h-3","rounded-md",3,"ngClass"],[1,"flex","flex-col","sm:flex-row","flex-wrap","items-start","sm:items-end","gap-4","p-2","border","rounded-md"],[1,"flex","flex-col","flex-grow","min-w-[150px]","w-full","sm:w-auto"],[1,"text-sm","text-gray-600","mb-1"],[1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","gap-4","items-start","sm:items-end","w-full","sm:w-auto"],[1,"flex","flex-col","w-full","sm:w-24"],["type","text","placeholder","Quantity","maxlength","5",1,"form-control",3,"ngModelChange","ngModel"],[1,"flex","flex-col","min-w-[130px]"],[1,"text-blue-600"],["class","ml-2 text-blue-600",4,"ngIf"],["class","p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",3,"matTooltip","click",4,"ngIf"],[3,"value"],[1,"ml-2","text-blue-600"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors",3,"click","matTooltip"],[1,"text-sm",3,"icon"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none",3,"click"],[3,"icon"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),f(4),c(5,"span",3),f(6),l(),M(7,"app-market-depth-invoker",4),l(),c(8,"span",2),f(9),N(10,"number"),c(11,"span",5),f(12),N(13,"percent"),l()()(),c(14,"button",6),C("click",function(){return o.toggleMode()}),x(15,RJ,2,4,"div",7),l()(),c(16,"div",8)(17,"div",9)(18,"div",10)(19,"label",11),f(20),x(21,FJ,2,0,"span",12),l(),c(22,"div",13)(23,"input",14),Oe("ngModelChange",function(s){return Be(o.positionData.price,s)||(o.positionData.price=s),s}),C("ngModelChange",function(){return o.computeAllRequiredMargins()}),l(),c(24,"button",15),C("click",function(){return o.onPriceInputIconClick()}),f(25),l()()(),c(26,"div",10)(27,"label",11),f(28," Trigger Price "),x(29,BJ,2,0,"span",12),l(),c(30,"div",13)(31,"input",16),Oe("ngModelChange",function(s){return Be(o.positionData.triggerPrice,s)||(o.positionData.triggerPrice=s),s}),l(),c(32,"button",15),C("click",function(){return o.onTriggerPriceInputIconClick()}),f(33),l()()()(),c(34,"div",17)(35,"label",18)(36,"input",19),Oe("ngModelChange",function(s){return Be(o.positionData.productType,s)||(o.positionData.productType=s),s}),l(),c(37,"span",20),f(38,"Intraday"),l()(),c(39,"label",18)(40,"input",21),Oe("ngModelChange",function(s){return Be(o.positionData.productType,s)||(o.positionData.productType=s),s}),l(),c(41,"span",20),f(42,"Overnight"),l()()(),c(43,"div")(44,"label",11),f(45,"Positions "),c(46,"span",22),f(47,"*"),l()(),c(48,"div",23),x(49,HJ,30,18,"div",24),l(),c(50,"div",25),x(51,qJ,3,1,"button",26),c(52,"div",27),M(53,"app-small-chip",28)(54,"app-small-chip",28)(55,"app-small-chip",28)(56,"app-small-chip",28),l()()()(),c(57,"div",29)(58,"button",30),C("click",function(){return o.onSubmit()}),f(59),l(),c(60,"button",31),C("click",function(){return o.onCancel()}),f(61,"Cancel"),l()()()),r&2&&(p("ngClass",o.positionData.isBuyMode?"bg-blue-500":"bg-orange-500"),d(),p("ngClass",o.positionData.isBuyMode?"bg-blue-500 text-white":"bg-orange-500 text-white"),d(3),k("",o.instrument.displayName," "),d(2),k("",o.instrument.segment," "),d(),p("title",o.instrument.displayName)("instrumentToken",o.instrument.instrumentToken)("iconColor","white"),d(2),k("",B(10,43,o.instrument.lastPrice,"1.2-2")," "),d(3),k(" ",B(13,46,o.instrument.change/100,"1.2-2")," "),d(3),p("ngIf",o.requestType!=="modify"&&!o.positionData.isExitPosition),d(5),k(" ",o.positionData.marketOrder?"Market Price":"Price"," "),d(),p("ngIf",!o.positionData.marketOrder),d(2),Pe("ngModel",o.positionData.price),p("disabled",o.positionData.marketOrder),d(),p("matTooltip",p0(o.getPriceInputTitle()))("ngClass",o.positionData.isBuyMode?"text-blue-500 hover:text-blue-700":"text-orange-500 hover:text-orange-700"),d(),k(" ",o.priceInputIcon," "),d(4),p("ngIf",o.positionData.slOrder),d(2),Pe("ngModel",o.positionData.triggerPrice),p("disabled",!o.positionData.slOrder),d(),p("matTooltip",p0(o.getTriggerPriceInputTitle()))("ngClass",o.positionData.isBuyMode?"text-blue-500 hover:text-blue-700":"text-orange-500 hover:text-orange-700"),d(),k(" ",o.triggerPriceInputIcon," "),d(3),p("disabled",o.sourceData.isExitPosition)("name","productType_"+o.dialogInstanceId),Pe("ngModel",o.positionData.productType),d(4),p("disabled",o.sourceData.isExitPosition)("name","productType_"+o.dialogInstanceId),Pe("ngModel",o.positionData.productType),d(9),p("ngForOf",o.orders),d(2),p("ngIf",(o.sourceData.orderId==null||o.sourceData.isCopy)&&!o.sourceData.isExitPosition),d(2),p("text",o.buySell)("color",o.buySell==="BUY"?"blue":"red"),d(),p("text",o.orderType)("color","gray"),d(),p("text",o.productType)("color",o.productType==="MIS"?"orange":"purple"),d(),p("text",o.instrument.segment)("color","gray"),d(2),p("ngClass",o.positionData.isBuyMode?"bg-blue-500 text-white hover:bg-blue-600":"bg-orange-500 text-white hover:bg-orange-600"),d(),L(o.positionData.isBuyMode?"Buy":"Sell"))},dependencies:[bt,Di,zi,it,Q1,uc,rt,qa,On,he,le,oe,Q,qo,Gn,Wn,xt,Fi,we,Xe,mt,Qt,bn],styles:[".margin-bottom-0[_ngcontent-%COMP%]{margin-bottom:2px!important}.margin-top-0[_ngcontent-%COMP%]{margin-top:2px!important}"]});let n=i;return n})();var $J=(n,i)=>({"bg-blue-100 text-blue-700 border-blue-400":n,"bg-white text-gray-600 hover:bg-gray-100":i});function WJ(n,i){if(n&1){let e=V();c(0,"button",11),C("click",function(){w(e);let r=g();return S(r.togglePopover())}),M(1,"fa-icon",12),l()}if(n&2){let e=g();p("ngClass",e.getFilterSortButtonColor()),d(),p("icon",e.faSliders)("ngClass",e.getFilterSortIconColor())}}function GJ(n,i){if(n&1){let e=V();c(0,"button",13),C("click",function(){w(e);let r=g();return S(r.toggleChartView())}),M(1,"fa-icon",14),c(2,"span",4),f(3,"Analyse"),l()()}if(n&2){let e=g();d(),p("icon",e.faChartPie)}}function YJ(n,i){if(n&1){let e=V();c(0,"button",15),C("click",function(){w(e);let r=g();return S(r.showCharges())}),M(1,"fa-icon",14),c(2,"span",4),f(3,"Charges"),l()()}if(n&2){let e=g();d(),p("icon",e.faFileInvoiceDollar)}}function QJ(n,i){if(n&1){let e=V();c(0,"button",16),C("click",function(){w(e);let r=g();return S(r.showSummary())}),M(1,"fa-icon",14),c(2,"span",4),f(3,"Summary"),l()()}if(n&2){let e=g();d(),p("icon",e.faClipboardList)}}function KJ(n,i){if(n&1){let e=V();c(0,"button",17),C("click",function(){w(e);let r=g();return S(r.exitSelected())}),M(1,"fa-icon",14),c(2,"span",4),f(3),l()()}if(n&2){let e=g();p("matTooltip",e.exitButtonLabel),d(),p("icon",e.faRightFromBracket),d(2),L(e.exitButtonLabel)}}function XJ(n,i){if(n&1){let e=V();c(0,"button",17),C("click",function(){w(e);let r=g();return S(r.exitSelected())}),M(1,"fa-icon",14),c(2,"span",4),f(3),l()()}if(n&2){let e=g();p("matTooltip",e.cancelButtonLabel),d(),p("icon",e.faXmark),d(2),L(e.cancelButtonLabel)}}function ZJ(n,i){if(n&1){let e=V();c(0,"button",18),C("click",function(){w(e);let r=g();return S(r.showLogs())}),M(1,"fa-icon",14),c(2,"span",4),f(3,"Log Viewer"),l()()}if(n&2){let e=g();d(),p("icon",e.faFile)}}function JJ(n,i){if(n&1){let e=V();c(0,"button",28),C("click",function(){let r=w(e).$implicit,o=g().$implicit,a=g(2);return S(a.onFilterChange(o,r))}),f(1),l()}if(n&2){let e=i.$implicit,t=g().$implicit,r=g(2);p("ngClass",r.isFilterOptionSelected(t,e)?"bg-blue-100 text-blue-700 border-blue-400":"bg-white text-gray-600 hover:bg-gray-100"),d(),k(" ",e," ")}}function eee(n,i){if(n&1&&(c(0,"div",26),x(1,JJ,2,2,"button",27),l()),n&2){let e=i.$implicit;d(),p("ngForOf",e.values)}}function tee(n,i){n&1&&M(0,"div",29)}function nee(n,i){if(n&1&&M(0,"fa-icon",14),n&2){let e=g(4);p("icon",e.sortSelection.direction==="asc"?e.faArrowUp:e.faArrowDown)}}function iee(n,i){if(n&1){let e=V();c(0,"button",33),C("click",function(){let r=w(e).$implicit,o=g(3);return S(o.toggleSort(r))}),c(1,"span"),f(2),l(),x(3,nee,1,1,"fa-icon",34),l()}if(n&2){let e=i.$implicit,t=g(3);p("ngClass",Ae(3,$J,t.sortSelection.key===e.key,t.sortSelection.key!==e.key)),d(2),L(e.label),d(),p("ngIf",t.sortSelection.key===e.key)}}function ree(n,i){if(n&1){let e=V();c(0,"div",30)(1,"div",20)(2,"label",21),f(3,"Sort By"),l(),c(4,"button",22),C("click",function(){w(e);let r=g(2);return S(r.clearSort())}),f(5," Clear Sort "),l()(),c(6,"div",31),x(7,iee,4,6,"button",32),l()()}if(n&2){let e=g(2);d(7),p("ngForOf",e.sortOptions)}}function oee(n,i){if(n&1){let e=V();c(0,"div",19)(1,"div")(2,"div",20)(3,"label",21),f(4,"Filter By"),l(),c(5,"button",22),C("click",function(){w(e);let r=g();return S(r.clearFilters())}),f(6," Clear Filters "),l()(),x(7,eee,2,1,"div",23)(8,tee,1,0,"div",24)(9,ree,8,1,"div",25),l()()}if(n&2){let e=g();d(7),p("ngForOf",e.filterOptions),d(),p("ngIf",e.sortOptions.length>0),d(),p("ngIf",e.sortOptions.length>0)}}var Vi=(()=>{let i=class i{constructor(t){this.eRef=t,this.showFilterSort=!1,this.sortOptions=[],this.sortSelection={key:"",direction:"asc"},this.filterOptions=[],this.filterSelection=[],this.showChartButton=!1,this.showChargesButton=!1,this.showSummaryButton=!1,this.showLogsButton=!1,this.showExitButton=!1,this.showCancelButton=!1,this.exitButtonLabel="Exit Selected",this.cancelButtonLabel="Cancel Selected",this.isLoadingData=!1,this.filtersChanged=new K,this.sortChanged=new K,this.handleRefresh=new K,this.toggleChart=new K,this.charges=new K,this.summary=new K,this.exit=new K,this.logs=new K,this.isRefreshing=!1,this.faSliders=zT,this.faRefresh=Li,this.faSpinner=X1,this.faArrowUp=hd,this.faArrowDown=_d,this.faChartPie=yd,this.faFileInvoiceDollar=PT,this.faClipboardList=vT,this.faFile=MT,this.faRightFromBracket=bc,this.faXmark=gd}ngOnInit(){this.initFilterOptions()}ngOnChanges(t){t.isLoadingData&&(this.isRefreshing=t.isLoadingData.currentValue)}initFilterOptions(){this.filterSelection=this.filterOptions.map(t=>{let r=this.filterSelection?.find(o=>o.key===t.key);return{key:t.key,selected:r?r.selected:[]}})}onFilterChange(t,r){let o=this.filterSelection.find(s=>s.key===t.key),a=o.selected.indexOf(r);a>-1?o.selected.splice(a,1):o.selected.push(r),this.emitFilterChange()}isFilterOptionSelected(t,r){let o=!1,a=this.filterSelection.find(s=>s.key===t.key);return a&&(o=a.selected.indexOf(r)>-1),o}toggleSort(t){this.sortSelection.key===t.key?this.sortSelection.direction=this.sortSelection.direction==="asc"?"desc":"asc":this.sortSelection={key:t.key,direction:"asc"},this.sortChanged.emit(this.sortSelection)}clearFilters(){this.filterSelection=this.filterOptions.map(t=>({key:t.key,selected:[]})),this.emitFilterChange()}clearSort(){this.sortSelection={key:"",direction:"asc"},this.emitSortChange()}emitFilterChange(){this.filtersChanged.emit(this.filterSelection)}emitSortChange(){this.sortChanged.emit(this.sortSelection)}togglePopover(){this.showFilterSort=!this.showFilterSort}toggleChartView(){this.toggleChart.emit()}showCharges(){this.charges.emit()}exitSelected(){this.exit.emit()}showSummary(){this.summary.emit()}showLogs(){this.logs.emit()}refresh(){this.isRefreshing=!0,this.handleRefresh.emit(()=>{this.isRefreshing=!1})}getFilterSortIconColor(){return this.isAnyFilterSelected()||this.sortSelection?.key?"text-white":"text-gray-600"}getFilterSortButtonColor(){return this.isAnyFilterSelected()||this.sortSelection?.key?"bg-amber-500 hover:bg-amber-600 text-white":"bg-white text-gray-700"}isAnyFilterSelected(){let t=!1;for(let r of this.filterSelection)if(r.selected.length>0){t=!0;break}return t}handleClickOutside(t){this.eRef.nativeElement.contains(t.target)||(this.showFilterSort=!1)}};i.\u0275fac=function(r){return new(r||i)(D(Me))},i.\u0275cmp=U({type:i,selectors:[["app-tool-bar"]],hostBindings:function(r,o){r&1&&C("click",function(s){return o.handleClickOutside(s)},l4)},inputs:{sortOptions:"sortOptions",sortSelection:"sortSelection",filterOptions:"filterOptions",filterSelection:"filterSelection",showChartButton:"showChartButton",showChargesButton:"showChargesButton",showSummaryButton:"showSummaryButton",showLogsButton:"showLogsButton",showExitButton:"showExitButton",showCancelButton:"showCancelButton",exitButtonLabel:"exitButtonLabel",cancelButtonLabel:"cancelButtonLabel",isLoadingData:"isLoadingData"},outputs:{filtersChanged:"filtersChanged",sortChanged:"sortChanged",handleRefresh:"handleRefresh",toggleChart:"toggleChart",charges:"charges",summary:"summary",exit:"exit",logs:"logs"},features:[dt],decls:13,vars:14,consts:[[1,"relative","text-gray-600","flex","items-center","gap-3","text-sm"],["class","px-3 py-2 border rounded-md shadow-sm  ","aria-label","Filter & Sort","matTooltip","Filter & Sort",3,"ngClass","click",4,"ngIf"],[1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center",3,"click","disabled","matTooltip"],[1,"mr-1",3,"icon"],[1,"hidden","sm:inline"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Analyse",3,"click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Charges",3,"click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Summary",3,"click",4,"ngIf"],["class","text-red-600 hover:underline focus:outline-none flex items-center gap-1",3,"matTooltip","click",4,"ngIf"],["class","text-blue-600 hover:underline focus:outline-none flex items-center gap-1","matTooltip","Log Viewer",3,"click",4,"ngIf"],["class","absolute left-0 top-12 z-50 p-4 bg-white border rounded-md shadow-sm min-w-96 max-w-max",4,"ngIf"],["aria-label","Filter & Sort","matTooltip","Filter & Sort",1,"px-3","py-2","border","rounded-md","shadow-sm",3,"click","ngClass"],[3,"icon","ngClass"],["matTooltip","Analyse",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[3,"icon"],["matTooltip","Charges",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],["matTooltip","Summary",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[1,"text-red-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click","matTooltip"],["matTooltip","Log Viewer",1,"text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1",3,"click"],[1,"absolute","left-0","top-12","z-50","p-4","bg-white","border","rounded-md","shadow-sm","min-w-96","max-w-max"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-semibold","text-gray-600"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none",3,"click"],["class","flex gap-2 flex-wrap mb-4",4,"ngFor","ngForOf"],["class","border-t border-gray-200 my-4",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"flex","gap-2","flex-wrap","mb-4"],["class","px-3 py-1 border rounded-md text-sm transition",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-3","py-1","border","rounded-md","text-sm","transition",3,"click","ngClass"],[1,"border-t","border-gray-200","my-4"],[1,"mt-4"],[1,"flex","gap-2","flex-wrap"],["class","px-3 py-1 border rounded-md text-sm transition flex items-center space-x-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-3","py-1","border","rounded-md","text-sm","transition","flex","items-center","space-x-1",3,"click","ngClass"],[3,"icon",4,"ngIf"]],template:function(r,o){r&1&&(c(0,"div",0),x(1,WJ,2,3,"button",1),c(2,"button",2),C("click",function(){return o.refresh()}),M(3,"fa-icon",3),c(4,"span",4),f(5),l()(),x(6,GJ,4,1,"button",5)(7,YJ,4,1,"button",6)(8,QJ,4,1,"button",7)(9,KJ,4,3,"button",8)(10,XJ,4,3,"button",8)(11,ZJ,4,1,"button",9)(12,oee,10,3,"div",10),l()),r&2&&(d(),p("ngIf",o.filterOptions.length>0||o.sortOptions.length>0),d(),p("disabled",o.isRefreshing)("matTooltip",o.isRefreshing?"Loading":"Refresh"),d(),ne("fa-spin",o.isRefreshing),p("icon",o.isRefreshing?o.faSpinner:o.faRefresh),d(2),L(o.isRefreshing?"Loading":"Refresh"),d(),p("ngIf",o.showChartButton),d(),p("ngIf",o.showChargesButton),d(),p("ngIf",o.showSummaryButton),d(),p("ngIf",o.showExitButton),d(),p("ngIf",o.showCancelButton),d(),p("ngIf",o.showLogsButton),d(),p("ngIf",o.showFilterSort))},dependencies:[le,oe,we,Q,Xe],encapsulation:2,data:{animation:[In]}});let n=i;return n})();var aee=["*"],see=n=>({"w-full mt-3 flex justify-center":n}),cee=(n,i,e,t,r)=>({"bg-blue-50 border-blue-200 text-blue-800":n,"bg-yellow-50  border-yellow-200 text-yellow-800":i,"bg-red-50  border-red-200 text-red-800":e,"bg-green-50 border-green-200 text-green-800":t,"justify-center items-center":r}),lee=(n,i,e,t)=>({"text-blue-500":n,"text-yellow-500":i,"text-red-500":e,"text-green-500":t}),dee=n=>({"text-center":n});function uee(n,i){if(n&1){let e=V();c(0,"button",5),C("click",function(){w(e);let r=g(2);return S(r.closeNote())}),f(1," \u2715 "),l()}}function fee(n,i){if(n&1&&(c(0,"div",1)(1,"div",2),M(2,"fa-icon",3),c(3,"div",1),Ti(4),l(),x(5,uee,2,0,"button",4),l()()),n&2){let e=g();p("ngClass",vn(6,see,e.atCenter)),d(),p("ngClass",up(8,cee,e.type==="info",e.type==="warning",e.type==="error",e.type==="success",e.atCenter)),d(),p("icon",e.icon)("ngClass",dp(14,lee,e.type==="info",e.type==="warning",e.type==="error",e.type==="success")),d(),p("ngClass",vn(19,dee,e.atCenter)),d(2),p("ngIf",e.dismissible)}}var Kn=(()=>{let i=class i{constructor(){this.type="info",this.dismissible=!1,this.atCenter=!1,this.dismissed=!1,this.faCircleInformation=xc,this.faWarning=q0,this.faSuccess=zh,this.faError=gT}get icon(){switch(this.type){case"warning":return this.faWarning;case"error":return this.faError;case"success":return this.faSuccess;case"info":default:return this.faCircleInformation}}closeNote(){this.dismissed=!0}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-note"]],inputs:{type:"type",dismissible:"dismissible",atCenter:"atCenter"},ngContentSelectors:aee,decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"w-auto","w-full","flex","gap-2","p-2","rounded-md","box-border","border","overflow-hidden","text-sm",3,"ngClass"],[1,"h-5","w-5",3,"icon","ngClass"],["class","text-sm ml-2 text-gray-400 hover:text-gray-600","aria-label","Close",3,"click",4,"ngIf"],["aria-label","Close",1,"text-sm","ml-2","text-gray-400","hover:text-gray-600",3,"click"]],template:function(r,o){r&1&&(Ji(),x(0,fee,6,21,"div",0)),r&2&&p("ngIf",!o.dismissed)},dependencies:[Q,le,we],encapsulation:2});let n=i;return n})();function pee(n,i){if(n&1&&(c(0,"tr",21)(1,"td",22),M(2,"app-small-chip",23),f(3),c(4,"span",24),f(5),l()(),c(6,"td",25),f(7),l(),c(8,"td",25),f(9),N(10,"number"),l(),c(11,"td",25),f(12),N(13,"number"),l()()),n&2){let e=i.$implicit,t=g(2);d(2),p("text",e.contractNote.transactionType)("color",t.getTransactionTypeChipColor(e.contractNote.transactionType)),d(),k(" ",e.displayName," "),d(2),L(e.contractNote.exchange),d(2),L(e.contractNote.quantity),d(2),L(B(10,7,e.contractNote.price,"1.2-2")),d(3),L(B(13,10,e.contractNote.charges==null?null:e.contractNote.charges.total,"1.2-2"))}}function mee(n,i){if(n&1&&(c(0,"div",5)(1,"div",6)(2,"table",7)(3,"tbody")(4,"tr")(5,"td",8),f(6,"Brokerage"),l(),c(7,"td",9),f(8),N(9,"number"),l()(),c(10,"tr")(11,"td",8),f(12,"STT"),l(),c(13,"td",9),f(14),N(15,"number"),l()(),c(16,"tr")(17,"td",8),f(18,"Stamp Duty"),l(),c(19,"td",9),f(20),N(21,"number"),l()(),c(22,"tr")(23,"td",8),f(24,"Exchange Turnover"),l(),c(25,"td",9),f(26),N(27,"number"),l()(),c(28,"tr")(29,"td",8),f(30,"SEBI Turnover"),l(),c(31,"td",9),f(32),N(33,"number"),l()(),c(34,"tr")(35,"td",8),f(36,"GST"),l(),c(37,"td",9),f(38),N(39,"number"),l()(),c(40,"tr",10)(41,"td",11),f(42,"Total"),l(),c(43,"td",9),f(44),N(45,"number"),l()()()()(),c(46,"div",12)(47,"div",13)(48,"table",14)(49,"thead",15)(50,"tr",16)(51,"th",17),f(52,"INSTRUMENT"),l(),c(53,"th",17),f(54,"QTY"),l(),c(55,"th",17),f(56,"AVG PRICE"),l(),c(57,"th",17),f(58,"CHARGES"),l()()(),c(59,"tbody",18),x(60,pee,14,13,"tr",19),l()()(),c(61,"div",20),f(62," *The data is an approximation based on the current orderbook and may change in the actual contract note after settlement. "),l()()()),n&2){let e=g();d(8),L(B(9,8,e.totalCharges.brokerage,"1.2-2")),d(6),L(B(15,11,e.totalCharges.stt,"1.2-2")),d(6),L(B(21,14,e.totalCharges.stampDuty,"1.2-2")),d(6),L(B(27,17,e.totalCharges.exchangeTurnover,"1.2-2")),d(6),L(B(33,20,e.totalCharges.sebiTurnover,"1.2-4")),d(6),L(B(39,23,e.totalCharges.gst,"1.2-2")),d(6),L(B(45,26,e.totalCharges.total,"1.2-2")),d(16),p("ngForOf",e.orders)}}function hee(n,i){n&1&&(c(0,"div",26)(1,"app-note",27),f(2," You don't have any completed orders to show charges. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}var p3=(()=>{let i=class i{constructor(){this.orders=[],this.totalCharges={brokerage:0,stt:0,stampDuty:0,exchangeTurnover:0,sebiTurnover:0,gst:0,total:0}}ngOnInit(){}showChargesDetails(t){this.resetTotalCharges(),this.orders=[],t.forEach(r=>{(r.contractNoteDtos||[]).forEach(o=>{this.orders.push(o),this.totalCharges.brokerage+=o.contractNote.charges?.brokerage||0,this.totalCharges.stt+=o.contractNote.charges?.transactionTax||0,this.totalCharges.stampDuty+=o.contractNote.charges?.stampDuty||0,this.totalCharges.exchangeTurnover+=o.contractNote.charges?.exchangeTurnoverCharge||0,this.totalCharges.sebiTurnover+=o.contractNote.charges?.SEBITurnoverCharge||0,this.totalCharges.gst+=o.contractNote.charges?.gst?.total||0,this.totalCharges.total+=o.contractNote.charges?.total||0})})}resetTotalCharges(){this.totalCharges={brokerage:0,stt:0,stampDuty:0,exchangeTurnover:0,sebiTurnover:0,gst:0,total:0}}getTransactionTypeChipColor(t){switch(t){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-charges-summary"]],decls:6,vars:2,consts:[["noCharges",""],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"overflow-hidden","transition-all","duration-300"],["class","flex flex-col lg:flex-row gap-6",4,"ngIf","ngIfElse"],[1,"flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-1/3","w-full"],[1,"w-full","text-sm"],[1,"py-1","text-gray-600"],[1,"text-right"],[1,"font-semibold","border-t","border-gray-200"],[1,"py-2"],[1,"lg:w-2/3","w-full","text-gray-700","border","border-gray-200","rounded-md"],[1,"max-h-64","overflow-y-auto"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"border-b","border-gray-200"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],[1,"bg-white"],["class","hover:bg-blue-50 border-b border-gray-200 text-gray-700 ",4,"ngFor","ngForOf"],[1,"mt-2","ml-2","mb-2","text-xs","text-gray-500"],[1,"hover:bg-blue-50","border-b","border-gray-200","text-gray-700"],[1,"px-4","py-2","flex","items-center","gap-2"],[3,"text","color"],[1,"text-xs","text-gray-400"],[1,"px-4","py-2"],[1,"flex","justify-center","w-full","min-h-[200px]","items-center"],[3,"type","dismissible","atCenter"]],template:function(r,o){if(r&1&&(c(0,"div",1)(1,"div",2)(2,"div",3),x(3,mee,63,29,"div",4)(4,hee,3,3,"ng-template",null,0,Yt),l()()()),r&2){let a=At(5);d(3),p("ngIf",o.orders.length>0)("ngIfElse",a)}},dependencies:[oe,Q,xt,Kn,mt],encapsulation:2,data:{animation:[In]}});let n=i;return n})();function gee(n,i){if(n&1&&(c(0,"tr",10)(1,"th",11),f(2),l(),c(3,"td",12),f(4),l()()),n&2){let e=i.$implicit,t=g();d(2),k(" ",t.toLabel(e)," "),d(2),k(" ",t.formatValue(e,t.flattenedData[e])," ")}}var Ek=(()=>{let i=class i{constructor(t,r,o){this.utilsService=t,this.dialogRef=r,this.data=o,this.title="Information",this.flattenedData={},o.title&&(this.title=o.title)}ngOnInit(){this.flattenedData=this.flattenObject(this.data.sourceData)}getKeys(t){return Object.keys(t)}toLabel(t){let r=["URL","ID","API","HTTP","HTML","SIP","MF"];return t.split(".").map(o=>{let a=o.replace(/[_-]/g," ");return a=a.replace(/([a-z])([A-Z])/g,"$1 $2"),a.split(" ").map(s=>{let u=s.toUpperCase();return r.includes(u)?u:s.charAt(0).toUpperCase()+s.slice(1)}).join(" ")}).join(" - ")}formatValue(t,r){if(typeof r=="boolean")return r?"Yes":"No";if(typeof r=="number")return t.toLowerCase().includes("date")||r>1e12&&r<1e14?this.utilsService.formatCustomDate(new Date(r)):r.toLocaleString();if(typeof r=="string"&&t.toLowerCase().includes("date")){let o=new Date(r);if(!isNaN(o.getTime()))return this.utilsService.formatCustomDate(o)}return r}flattenObject(t,r="",o={},a=1){if(a>3)return o;for(let s of Object.keys(t)){let u=r?`${r}.${s}`:s,m=t[s];m&&typeof m=="object"&&!Array.isArray(m)?this.flattenObject(m,u,o,a+1):o[u]=m}return o}onClose(){this.dialogRef.close()}};i.\u0275fac=function(r){return new(r||i)(D(zt),D(Tn),D(x1))},i.\u0275cmp=U({type:i,selectors:[["app-detail-info-dialog"]],decls:12,vars:2,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"w-full","max-w-xl","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-4","py-3","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-2","space-y-4"],[1,"overflow-auto","max-h-[60vh]"],[1,"table-fixed","w-full","rounded-md","divide-y","divide-gray-200"],[1,"divide-y","divide-gray-100","text-sm","text-gray-700"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["cdkDragHandle","",1,"flex","justify-end","px-4","py-3","border-t","cursor-move"],[1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-100","text-sm",3,"click"],[1,"hover:bg-gray-50"],["scope","row",1,"px-4","py-2","text-left","font-medium","text-gray-600","align-top","break-words","w-1/3"],[1,"px-4","py-2","text-left","break-words","w-2/3"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),f(3),l()(),c(4,"div",3)(5,"div",4)(6,"table",5)(7,"tbody",6),x(8,gee,5,2,"tr",7),l()()()(),c(9,"div",8)(10,"button",9),C("click",function(){return o.onClose()}),f(11," Close "),l()()()),r&2&&(d(3),L(o.title),d(5),p("ngForOf",o.getKeys(o.flattenedData)))},dependencies:[oe,ln,qo,Gn,Wn],encapsulation:2});let n=i;return n})();var Tk=(()=>{let i=class i{constructor(t){this.api=t}getHistoricalTimelineValues(t){return this.api.get(`/v1/history/timelines/${t}`)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var zt=(()=>{let i=class i{constructor(t,r,o){this.dialog=t,this.historicalTimelineValuesService=r,this.toastrService=o}getAvatarUrl(t,r){return t.find(a=>a.userId===r)?.profile?.avatarURL||cn}getUserName(t,r){return t.find(a=>a.userId===r)?.name||"Unknown User"}getUserFullName(t,r){return t.find(a=>a.userId===r)?.profile?.userName||"Unknown User"}sort(t,r,o){let a=r==="desc"?-1:1;return o=[...o].sort((s,u)=>{let m=this.getNestedValue(s,t),_=this.getNestedValue(u,t);return typeof m=="number"&&typeof _=="number"?(m-_)*a:Date.parse(m)&&Date.parse(_)?(new Date(m).getTime()-new Date(_).getTime())*a:typeof m=="string"&&typeof _=="string"?m.localeCompare(_)*a:0}),o}filter(t,r){return t.forEach(o=>{o.selected.length>0&&!o.key.startsWith("custom.")&&(r=r.filter(a=>{let s=this.getNestedValue(a,o.key);return o.selected.includes(s.toUpperCase())}))}),r}getNestedValue(t,r){return r.split(".").reduce((o,a)=>o?.[a],t)}getElapsedYMDString(t){let r=new Date(t),o=new Date;if(isNaN(r.getTime()))return"";let a=o.getFullYear()-r.getFullYear(),s=o.getMonth()-r.getMonth(),u=o.getDate()-r.getDate();if(u<0){s--;let y=new Date(o.getFullYear(),o.getMonth(),0);u+=y.getDate()}s<0&&(a--,s+=12);let m=a>0?`${a}y`:"",_=s>0?`${s}M`:"";return m+_||"0d"}showInfo(t,r){this.dialog.open(Ek,{disableClose:!1,autoFocus:!1,hasBackdrop:!0,closeOnNavigation:!0,data:{sourceData:t,title:r}})}formatCustomDate(t){let r=t.getDate(),o=t.toLocaleString("en-US",{month:"short"}),a=t.getFullYear();return`${r}${(u=>{let m=["th","st","nd","rd"],_=u%100;return m[(_-20)%10]||m[_]||"th"})(r)} ${o} ${a}`}convertUtcTimeToLocal(t){if(!t)return"";let[r,o,a]=t.split(":").map(Number),s=new Date;return s.setUTCHours(r,o,a,0),s.toLocaleTimeString("en-GB",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}fetchHistoricalTimelineValues(t){return this.historicalTimelineValuesService.getHistoricalTimelineValues(t)}populateHoldingsTimelineChartData(t,r=[]){let o=t.map(y=>new Date(y.date).toISOString().split("T")[0]),a=[],s=[],u=[];for(let y of t){let E=y.historicalHoldingsTimelines??[],I=r.length===0?E:E.filter(W=>r.includes(W.userId)),A=I.reduce((W,ee)=>W+(ee.investedAmount??0),0),R=I.reduce((W,ee)=>W+(ee.currentValue??0),0),F=I.reduce((W,ee)=>W+(ee.netPnl??0),0);a.push(A),s.push(R),u.push(F)}let m=[{name:"Invested Amount",data:a,smooth:!0},{name:"Current Value",data:s,smooth:!0},{name:"Total P&L",data:u,smooth:!0}],_=m.map(y=>y.name);return{dateLabels:o,legendLabels:_,series:m}}populateSipsTimelineChartData(t,r=[]){let o=t.map(_=>new Date(_.date).toISOString().split("T")[0]),a=[],s=[];for(let _ of t){let y=_.historicalMfSipsTimelines??[],E=r.length===0?y:y.filter(R=>r.includes(R.userId)),I=E.reduce((R,F)=>R+(F.sipAmount??0),0),A=E.reduce((R,F)=>R+(F.activeSips??0),0);a.push(I),s.push(A)}let u=[{name:"Total SIP Amount",data:a,smooth:!0},{name:"Number of SIPs",data:s,smooth:!0}],m=u.map(_=>_.name);return{dateLabels:o,legendLabels:m,series:u}}populatePositionsTimelineChartData(t,r=[]){let o=t.map(_=>new Date(_.date).toISOString().split("T")[0]),a=[],s=[];for(let _ of t){let y=_.historicalPositionsTimelines??[],E=r.length===0?y:y.filter(R=>r.includes(R.userId)),I=E.reduce((R,F)=>R+(F.totalEodPnl??0),0);a.push(I);let A=E.reduce((R,F)=>R+(F.openDerivativePositions??0),0);s.push(A)}let u=[{name:"Daily EOD PnL",data:a,type:"bar"}],m=u.map(_=>_.name);return{dateLabels:o,legendLabels:m,series:u}}};i.\u0275fac=function(r){return new(r||i)(H(Zt),H(Tk),H(xe))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var ol=Ky(Ik());var ni=(()=>{let i=class i{success(t){ol.default.fire("Success",t,"success")}error(t){ol.default.fire("Error",t,"error")}info(t,r,o){ol.default.fire({title:t,text:r,icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#10B981"}).then(a=>{a.isConfirmed&&o()})}confirm(t,r,o){ol.default.fire({title:t,text:r,icon:"warning",confirmButtonColor:"#10B981",cancelButtonColor:"#6b7280",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(a=>{a.isConfirmed&&o()})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var yee=(n,i)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":i});function _ee(n,i){n&1&&M(0,"span",19)}function bee(n,i){if(n&1){let e=V();c(0,"div",16),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.setActiveSubTab(r))}),f(1),c(2,"span",17),f(3),l(),x(4,_ee,1,0,"span",18),l()}if(n&2){let e=i.$implicit,t=g(2);ne("active-tab",e===t.activeSubTab)("text-gray-700",e!==t.activeSubTab),d(),k(" ",e," "),d(),p("ngClass",Ae(8,yee,e===t.activeSubTab,e!==t.activeSubTab)),d(),k(" ",t.tabCounts[e]," "),d(),p("ngIf",e===t.activeSubTab)}}function xee(n,i){if(n&1){let e=V();c(0,"div",20)(1,"app-orders-table",21),C("handleClickAction",function(r){w(e);let o=g(2);return S(o.handleAction(r))})("selectedOrdersChange",function(r){w(e);let o=g(2);return S(o.onSelectedOrdersChange(r))}),l()()}if(n&2){let e=g(2);d(),p("groupedOrders",e.stockFnoGroupedOrders)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function Cee(n,i){n&1&&(c(0,"div",20)(1,"app-note",22),f(2," You don't have any orders in this section. Check your filters or search criteria and request token status for the trading accounts. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function wee(n,i){if(n&1){let e=V();c(0,"div")(1,"div",3)(2,"div",4),x(3,bee,5,11,"div",5),l(),c(4,"div",6)(5,"a",7),M(6,"fa-icon",8),f(7," MF Orders "),l()()(),c(8,"div",9)(9,"div",6)(10,"app-tool-bar",10),C("filtersChanged",function(r){w(e);let o=g();return S(o.applyFilters(r))})("handleRefresh",function(r){w(e);let o=g();return S(o.handleRefresh(r))})("charges",function(){w(e);let r=g();return S(r.viewCharges())})("exit",function(){w(e);let r=g();return S(r.cancelSelectedOrders())}),l()(),M(11,"div",11),c(12,"div",6)(13,"app-user-filter",12),C("selectAllUsers",function(){w(e);let r=g();return S(r.onAllUserSelection())})("selectUsers",function(r){w(e);let o=g();return S(o.onUserSelection(r))})("totalUsers",function(r){w(e);let o=g();return S(o.captureUsers(r))}),l()(),c(14,"div",6)(15,"app-search-input",13),C("inputChange",function(r){w(e);let o=g();return S(o.onStocksFnoSearch(r))}),l()()(),c(16,"div",14),M(17,"app-charges-summary"),l(),x(18,xee,2,3,"div",15)(19,Cee,3,3,"ng-template",null,0,Yt),l()}if(n&2){let e=At(20),t=g();d(3),p("ngForOf",t.subTabs),d(3),p("icon",t.faListCheck),d(4),p("filterOptions",t.filterOptions)("filterSelection",t.filterSelection)("showChargesButton",!0)("isLoadingData",t.isLoadingData)("showCancelButton",t.selectedOrders.length>0)("cancelButtonLabel","Cancel Selected ("+t.selectedOrders.length+")"),d(3),p("selectedUserIds",t.selectedUserIds),d(2),p("placeholder","Search orders by User ID or Instrument")("searchTerm",t.searchQuery),d(),p("@expandCollapse",t.showCharges?"expanded":"collapsed"),d(2),p("ngIf",t.stockFnoGroupedOrders.length>0)("ngIfElse",e)}}var Dk=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_,y,E){this.ordersService=t,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.dialog=u,this.utilsService=m,this.overlay=_,this.alertService=y,this.document=E,this.subTabs=["Open","All"],this.activeSubTab="Open",this.tabCounts={All:0,Open:0},this.instrumentTokens=[],this.users=[],this.stocksFnoOrders=[],this.stockFnoGroupedOrders=[],this.charges=[],this.filterCharges=[],this.showCharges=!1,this.errorMessage="",this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=cn,this.selectedOrders=[],this.isLoadingData=!1,this.filterOptions=[{key:"custom.status",values:["OPEN","COMPLETED","CANCELLED","REJECTED"]},{key:"order.orderType",values:["LIMIT","MARKET","SL","SL-M"]},{key:"order.transactionType",values:["BUY","SELL"]}],this.stocksFnoPendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.actions=[{action:"copy",color:"blue",label:"Copy Order"},{action:"modify",color:"blue",label:"Modify Order"},{action:"cancel",color:"red",label:"Cancel Order"},{action:"info",color:"gray",label:"Order Details"}],this.filterSelection=[],this.faListCheck=$0}ngOnInit(){let t=this.userViewStateService.getState();this.activeSubTab=t.orders.selectedOrderType,this.selectedUserIds=t.orders.selectedUsersIds,this.searchQuery=t.orders.searchQuery,t.orders.filterSelection?.length>0&&(this.filterSelection=t.orders.filterSelection),this.getCachedData(),this.fetchStocksFnoOrders(),this.fetchCharges()}getAvatarUrl(t){return this.utilsService.getAvatarUrl(this.users,t)}getUserName(t){return this.utilsService.getUserName(this.users,t)}getUserFullName(t){return this.utilsService.getUserFullName(this.users,t)}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&(t.users&&(this.users=t.users),t.stocksFnoOrders&&(this.stocksFnoOrders=t.stocksFnoOrders,this.renderOrders()))}setCachedData(){this.userDataStateService.setState({stocksFnoOrders:this.stocksFnoOrders})}renderOrders(){this.updateCounts(),this.updateFilteredAndGroupedStockFnoOrders()}fetchStocksFnoOrders(t){this.isLoadingData=!0,this.ordersService.getOrders().subscribe({next:r=>{this.stocksFnoOrders=r.data,this.renderOrders(),this.instrumentTokens=this.stocksFnoOrders.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData(),this.orderTableComponent&&this.orderTableComponent.clearSelection()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching stocks and fno orders. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,t&&t()}})}fetchCharges(t){this.ordersService.fetchCharges().subscribe({next:r=>{this.charges=r.data,this.filterChargesBySelectedUsers()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching charges. Verify that the backend service is operational.","Error")},complete:()=>{t&&t()}})}updateCounts(){let t=this.stocksFnoOrders.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)>-1).length;this.tabCounts.Open=t;let r=this.stocksFnoOrders.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)<0).length;this.tabCounts.Executed=r,this.tabCounts.All=t+r}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(be(t=>t),We(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(t=>{this.updateOrdersOnUpdate(t)})):console.log("No instrument tokens available for web socket subscription.")}onUserSelection(t){this.selectedUserIds=t,this.updateFilteredAndGroupedOrders(),this.filterChargesBySelectedUsers(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedOrders(),this.filterChargesBySelectedUsers(),this.saveUserViewState()}onStocksFnoSearch(t){this.searchQuery=t.toLowerCase(),this.updateFilteredAndGroupedStockFnoOrders(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({orders:{selectedUsersIds:this.selectedUserIds,selectedOrderType:this.activeSubTab,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}updateOrdersOnUpdate(t){t.forEach(r=>{this.stocksFnoOrders.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{(a.lastPrice!==r.lastTradedPrice||a.change!==r.change)&&(a.change=r.change,a.lastPrice=r.lastTradedPrice)})})}setActiveSubTab(t){this.activeSubTab=t,this.updateFilteredAndGroupedOrders(),this.saveUserViewState()}captureUsers(t){this.users=t}updateFilteredAndGroupedOrders(){this.updateFilteredAndGroupedStockFnoOrders()}updateFilteredAndGroupedStockFnoOrders(){let t=this.stocksFnoOrders;this.activeSubTab!=="All"&&(this.activeSubTab==="Open"?t=t.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)>-1):t=t.filter(o=>this.stocksFnoPendingStatus.indexOf(o.order.status)<0)),this.selectedUserIds.length>0&&(t=t.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(t=t.filter(o=>o.displayName.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(t=this.utilsService.filter(this.filterSelection,t),t=this.filterCustomStatus(t));let r={};t.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.stockFnoGroupedOrders=Object.entries(r).map(([o,a])=>({userId:o,orders:a,daysPnL:0,totalPnL:0,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}filterCustomStatus(t){let r=this.filterSelection.find(o=>o.key==="custom.status"&&o.selected.length>0);if(r){let o={OPEN:this.stocksFnoPendingStatus,COMPLETED:["COMPLETE"],REJECTED:["REJECTED"],CANCELLED:["CANCELLED"]},a=r.selected.flatMap(s=>o[s]||[]);t=t.filter(s=>a.includes(s.order.status))}return t}handleAction(t){t.action==="modify"?this.openModifyOrCopyOrderDialog(t.row,!1):t.action==="cancel"?this.cancelOrder(t.row):t.action==="copy"?this.openModifyOrCopyOrderDialog(t.row,!0):t.action==="info"&&this.utilsService.showInfo(t.row,`Order Details - ${t.row.displayName}`)}cancelOrder(t){this.ordersService.cancelOrder(t.order.accountId,t.order.orderId,t.order.orderVariety).pipe(Qe(r=>Z({error:!0,id:t.order.accountId,message:r?.error?.message||"Unknown error"}))).subscribe({next:r=>{"error"in r&&r.error?(console.error("\u274C Order cancel failed:",r),this.toastrService.error(`Account ID: ${t.order.accountId}. Order cancellation for ${r.id} failed: ${r.message}`,"Error")):(this.toastrService.success(`Account ID: ${t.order.accountId}. Order cancelled successfully. Order ID:${r.data.orderId}`,"Success"),this.fetchStocksFnoOrders())},error:r=>{console.error("Fatal error:",r),this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All orders processed")}})}onSelectedOrdersChange(t){this.selectedOrders=t}cancelSelectedOrders(){if(this.selectedOrders.length===0){this.toastrService.warning("No orders selected","Warning");return}let t=this.selectedOrders.length;this.alertService.confirm(`Cancel ${t} Order${t>1?"s":""}?`,`Are you sure you want to cancel ${t} selected order${t>1?"s":""}? This action cannot be undone.`,()=>{this.processBulkCancel()})}processBulkCancel(){let t=this.selectedOrders.length,r=0,o=0,a=0;this.selectedOrders.forEach(s=>{this.ordersService.cancelOrder(s.order.accountId,s.order.orderId,s.order.orderVariety).pipe(Qe(u=>Z({error:!0,id:s.order.accountId,message:u?.error?.message||"Unknown error"}))).subscribe({next:u=>{r++,"error"in u&&u.error?(a++,console.error("\u274C Order cancel failed:",u)):o++,r===t&&(o>0&&this.toastrService.success(`Successfully cancelled ${o} order${o>1?"s":""}${a>0?`, ${a} failed`:""}`,"Bulk Cancel Complete"),a>0&&o===0&&this.toastrService.error(`All ${a} order cancellations failed`,"Error"),this.fetchStocksFnoOrders(),this.selectedOrders=[])},error:u=>{r++,a++,console.error("Fatal error:",u),r===t&&(this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error"),this.fetchStocksFnoOrders(),this.selectedOrders=[],this.orderTableComponent&&this.orderTableComponent.clearSelection())}})})}openModifyOrCopyOrderDialog(t,r){let o={exchange:t.order.exchange,tradingSymbol:t.order.tradingSymbol,instrumentToken:t.instrumentToken,lastPrice:t.order.price,product:t.order.product,quantity:t.order.quantity,displayName:t.displayName,segment:t.order.segment||t.order.exchange,tradingAccountId:t.order.accountId},a={isCopy:r,isBuyMode:t.order.transactionType==="BUY",orderId:t.order.orderId,variety:t.order.orderVariety,orderType:t.order.orderType,originalPrice:t.order.price,originalTriggerPrice:t.order.triggerPrice,product:t.order.product};this.dialog.open(Ko,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:P({},o)}}).afterClosed().subscribe(u=>{u&&this.fetchStocksFnoOrders()})}applyFilters(t){this.filterSelection=t,this.updateFilteredAndGroupedStockFnoOrders(),this.saveUserViewState()}handleRefresh(t){this.fetchStocksFnoOrders(t)}filterChargesBySelectedUsers(){this.selectedUserIds.length!==0?this.filterCharges=this.charges.filter(t=>this.selectedUserIds.includes(t.userId)):this.filterCharges=this.charges,this.chargesSummaryComponent&&this.chargesSummaryComponent.showChargesDetails(this.filterCharges)}toggleCharges(){this.showCharges=!this.showCharges}viewCharges(){this.toggleCharges()}ngAfterViewInit(){}};i.\u0275fac=function(r){return new(r||i)(D(K2),D(Qn),D(Ut),D(Dt),D(xe),D(Zt),D(zt),D(b1),D(ni),D(J))},i.\u0275cmp=U({type:i,selectors:[["app-orders"]],viewQuery:function(r,o){if(r&1&&(Ft(mv,5),Ft(p3,5)),r&2){let a;ft(a=pt())&&(o.orderTableComponent=a.first),ft(a=pt())&&(o.chargesSummaryComponent=a.first)}},decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"flex-shrink-0"],["routerLink","/mf",1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","text-gray-700","hover:bg-gray-100","hover:text-blue-500","relative","flex","items-center","gap-2"],[1,"text-sm",3,"icon"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[3,"filtersChanged","handleRefresh","charges","exit","filterOptions","filterSelection","showChargesButton","isLoadingData","showCancelButton","cancelButtonLabel"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],["class","page-content",4,"ngIf","ngIfElse"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"page-content"],[3,"handleClickAction","selectedOrdersChange","groupedOrders","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(c(0,"div",1),x(1,wee,21,14,"div",2),l()),r&2&&(d(),p("ngIf",!o.errorMessage))},dependencies:[qn,ki,he,le,oe,Q,mv,Y1,Vi,Kn,we,p3],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 138px);min-height:calc(100vh - var(--header-height, 80px) - 138px)}"],data:{animation:[In]}});let n=i;return n})();var m7=(n,i,e)=>({"text-green-600":n,"text-red-600":i,"text-gray-700":e}),zk=(n,i)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":i});function See(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Total Investment"),l(),c(3,"span",4),f(4),N(5,"currency"),l()()),n&2){let e=g();d(4),k(" ",Ee(5,1,e.totalInvestment,"INR","symbol","1.2-2")," ")}}function Mee(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Current Value"),l(),c(3,"span",4),f(4),N(5,"currency"),l()()),n&2){let e=g();d(4),k(" ",Ee(5,1,e.currentValue,"INR","symbol","1.2-2")," ")}}function Eee(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Day's P&L"),l(),c(3,"span",5),f(4),N(5,"currency"),l()()),n&2){let e=g();d(3),p("ngClass",Tt(7,m7,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),d(),k(" ",Ee(5,2,e.daysPnL,"INR","symbol","1.2-2")," ")}}function Tee(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Day's P&L"),l(),c(3,"div",6)(4,"span",7),f(5),N(6,"currency"),l(),c(7,"span",8),f(8),N(9,"percent"),l()()()),n&2){let e=g();d(4),p("ngClass",Tt(12,m7,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),d(),k(" ",Ee(6,4,e.daysPnL,"INR","symbol","1.2-2")," "),d(2),p("ngClass",Ae(16,zk,e.daysPnLPercentage>0,e.daysPnLPercentage<0)),d(),k(" ",B(9,9,e.daysPnLPercentage,"1.2-2")," ")}}function Iee(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Total P&L"),l(),c(3,"span",5),f(4),N(5,"currency"),l()()),n&2){let e=g();d(3),p("ngClass",Tt(7,m7,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),d(),k(" ",Ee(5,2,e.totalPnL,"INR","symbol","1.2-2")," ")}}function Dee(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Total P&L"),l(),c(3,"div",6)(4,"span",7),f(5),N(6,"currency"),l(),c(7,"span",8),f(8),N(9,"percent"),l()()()),n&2){let e=g();d(4),p("ngClass",Tt(12,m7,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),d(),k(" ",Ee(6,4,e.totalPnL,"INR","symbol","1.2-2")," "),d(2),p("ngClass",Ae(16,zk,e.totalPnLPercentage>0,e.totalPnLPercentage<0)),d(),k(" ",B(9,9,e.totalPnLPercentage,"1.2-2")," ")}}var Lk=(()=>{let i=class i{constructor(t){this.utilsService=t}};i.\u0275fac=function(r){return new(r||i)(D(zt))},i.\u0275cmp=U({type:i,selectors:[["app-holdings-summary"]],inputs:{totalInvestment:"totalInvestment",currentValue:"currentValue",daysPnL:"daysPnL",daysPnLPercentage:"daysPnLPercentage",totalPnL:"totalPnL",totalPnLPercentage:"totalPnLPercentage"},decls:7,vars:6,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"],[1,"text-base","font-medium","mt-1",3,"ngClass"],[1,"flex","items-center","justify-center","gap-1","mt-1"],[1,"text-base","font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"]],template:function(r,o){r&1&&(c(0,"div",0),x(1,See,6,6,"div",1)(2,Mee,6,6,"div",1)(3,Eee,6,11,"div",1)(4,Tee,10,19,"div",1)(5,Iee,6,11,"div",1)(6,Dee,10,19,"div",1),l()),r&2&&(d(),p("ngIf",o.totalInvestment!==void 0),d(),p("ngIf",o.currentValue!==void 0),d(),p("ngIf",o.daysPnL!==void 0&&o.daysPnLPercentage===void 0),d(),p("ngIf",o.daysPnL!==void 0&&o.daysPnLPercentage!==void 0),d(),p("ngIf",o.totalPnL!==void 0&&o.totalPnLPercentage===void 0),d(),p("ngIf",o.totalPnL!==void 0&&o.totalPnLPercentage!==void 0))},dependencies:[he,le,Q,Qt,bn],encapsulation:2});let n=i;return n})();var gv=class{constructor(){this.subject=new Ns(1),this.subscriptions=new Ve}doFilter(i){this.subject.next(i)}dispose(){this.subscriptions.unsubscribe()}notEmpty(i,e){this.subscriptions.add(this.subject.subscribe(t=>{if(t[i]){let r=t[i].currentValue;r!=null&&e(r)}}))}has(i,e){this.subscriptions.add(this.subject.subscribe(t=>{if(t[i]){let r=t[i].currentValue;e(r)}}))}notFirst(i,e){this.subscriptions.add(this.subject.subscribe(t=>{if(t[i]&&!t[i].isFirstChange()){let r=t[i].currentValue;e(r)}}))}notFirstAndEmpty(i,e){this.subscriptions.add(this.subject.subscribe(t=>{if(t[i]&&!t[i].isFirstChange()){let r=t[i].currentValue;r!=null&&e(r)}}))}},kk=new G("NGX_ECHARTS_CONFIG"),h7=(()=>{let i=class i{constructor(t,r,o){this.el=r,this.ngZone=o,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new K,this.optionsError=new K,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new Ns(1),this.resize$=new Y,this.changeFilter=new gv,this.resizeObFired=!1,this.echarts=t.echarts,this.theme=t.theme||null}ngOnChanges(t){this.changeFilter.doFilter(t)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(Iu(100,bi,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(t=>{for(let r of t)r.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",t=>this.onOptionsChange(t)),this.changeFilter.notFirstAndEmpty("merge",t=>this.setOption(t)),this.changeFilter.has("loading",t=>this.toggleLoading(!!t)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart?t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(r=>t?r.showLoading(this.loadingType,this.loadingOpts):r.hideLoading())}setOption(t,r){if(this.chart)try{this.chart.setOption(t,r)}catch(o){console.error(o),this.optionsError.emit(o)}}refreshChart(){return si(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let t=this.el.nativeElement;if(window&&window.getComputedStyle){let r=window.getComputedStyle(t,null).getPropertyValue("height");(!r||r==="0px")&&(!t.style.height||t.style.height==="0px")&&(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:o})=>o(t,this.theme,this.initOpts)))}initChart(){return si(this,null,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(t){return si(this,null,function*(){t&&(this.chart?this.setOption(this.options,!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options,!0)))})}createLazyEvent(t){return this.chartInit.pipe(qt(r=>new Te(o=>(r.on(t,a=>this.ngZone.run(()=>o.next(a))),()=>{this.chart&&(this.chart.isDisposed()||r.off(t))}))))}};i.\u0275fac=function(r){return new(r||i)(D(kk),D(Me),D(ce))},i.\u0275dir=de({type:i,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[dt]});let n=i;return n})(),zee=n=>({provide:kk,useValue:n}),m3=(()=>{let i=class i{static forRoot(t){return{ngModule:i,providers:[zee(t)]}}static forChild(){return{ngModule:i}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=ke({type:i}),i.\u0275inj=ze({});let n=i;return n})();var Lee=["chartContainer"],h3=(()=>{let i=class i{constructor(){this.title="",this.xAxisLabels=[],this.series=[],this.legendLabels=[],this.chartHeight="280",this.showDataZoom=!0,this.initOpts={renderer:"canvas",width:"auto",height:"auto"},this.chartOptions={},this.resizeListener=()=>this.updateChartSize(),this.isMobile=!1}ngOnInit(){this.checkMobile(),this.buildChartOptions()}ngOnChanges(){this.buildChartOptions()}ngAfterViewInit(){this.updateChartSize(),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}checkMobile(){this.isMobile=window.innerWidth<768}updateChartSize(){if(this.checkMobile(),this.chartContainer){let t=this.chartContainer.nativeElement.parentElement.offsetWidth,r=this.isMobile?Math.min(300,window.innerHeight*.4):parseInt(this.chartHeight);this.initOpts={renderer:"canvas",width:t+"px",height:r+"px"},this.buildChartOptions()}}buildChartOptions(){this.chartOptions={title:{text:this.title,textStyle:{fontSize:this.isMobile?12:14},left:this.isMobile?"center":"left"},tooltip:{trigger:"axis",confine:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#ccc",borderWidth:1,textStyle:{fontSize:this.isMobile?11:12},formatter:t=>{let r=t[0].axisValue,o=t.map(a=>{let s=a.value,u=this.formatValue(a.seriesName,s);return`${a.marker} ${a.seriesName}: ${u}`}).join("<br/>");return`<strong>${r}</strong><br/>${o}`}},legend:{data:this.legendLabels,orient:"horizontal",top:this.isMobile?25:5,left:"center",textStyle:{fontSize:this.isMobile?10:12},itemWidth:this.isMobile?15:25,itemHeight:this.isMobile?8:14},grid:{left:this.isMobile?"5%":"3%",right:this.isMobile?"5%":"4%",bottom:this.isMobile?"12%":"10%",top:this.isMobile?"25%":"20%",containLabel:!0},toolbox:{show:!this.isMobile,top:0,right:50,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:this.showDataZoom?[{type:"slider",start:0,end:100,height:this.isMobile?20:30,textStyle:{fontSize:this.isMobile?10:12}},{type:"inside",start:0,end:100}]:[],xAxis:{type:"category",boundaryGap:!1,data:this.xAxisLabels,axisLabel:{fontSize:this.isMobile?9:11,rotate:this.isMobile?45:0,interval:"auto",hideOverlap:!0,showMaxLabel:!0,showMinLabel:!0}},yAxis:{type:"value",axisLabel:{fontSize:this.isMobile?9:11,formatter:t=>this.isMobile&&Math.abs(t)>=1e3?(t/1e3).toFixed(0)+"k":t.toLocaleString()}},series:this.series.map(t=>P({type:"line",smooth:t.smooth??!0,lineStyle:{width:this.isMobile?1.5:2},symbol:this.isMobile?"none":"circle",symbolSize:this.isMobile?3:4},t))}}formatValue(t,r){if(r==null||isNaN(r))return"0.00";let o={minimumFractionDigits:this.isMobile?0:2,maximumFractionDigits:2};return t.includes("%")?`${r.toFixed(this.isMobile?1:2)}%`:t.toLowerCase().includes("pnl")?`${r>=0?"+":""}\u20B9${r.toLocaleString(void 0,o)}`:`\u20B9${r.toLocaleString(void 0,o)}`}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-timeline-chart"]],viewQuery:function(r,o){if(r&1&&Ft(Lee,5),r&2){let a;ft(a=pt())&&(o.chartContainer=a.first)}},inputs:{title:"title",xAxisLabels:"xAxisLabels",series:"series",legendLabels:"legendLabels",chartHeight:"chartHeight",showDataZoom:"showDataZoom"},features:[dt],decls:5,vars:2,consts:[["chartContainer",""],[1,"w-full","min-h-[12rem]","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"relative","w-full","min-h-[200px]","md:min-h-[200px]","overflow-hidden","touch-pan-x","touch-pan-y"],[1,"w-full","h-full",3,"options","initOpts"]],template:function(r,o){r&1&&(c(0,"div",1)(1,"div",2)(2,"div",3,0),M(4,"echarts",4),l()()()),r&2&&(d(4),p("options",o.chartOptions)("initOpts",o.initOpts))},dependencies:[he,m3,h7],encapsulation:2});let n=i;return n})();function kee(n,i){n&1&&(c(0,"div",1)(1,"p",2),f(2,"No holdings to display"),l()())}function Aee(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("instrument"))}}function Nee(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("quantity"))}}function Pee(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("averagePrice"))}}function Oee(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("dayChangePercentage"))}}function Ree(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("investedAmount"))}}function Fee(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("currentValue"))}}function Bee(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("dayPnl"))}}function Vee(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("netChangePercentage"))}}function Uee(n,i){if(n&1&&M(0,"fa-icon",28),n&2){let e=g().$implicit,t=g(3);p("matTooltip","Review Pledge. Pledge Qty: "+e.collateralQuantity)("icon",t.faTriangleExclamation)}}function jee(n,i){if(n&1&&(c(0,"div",29),M(1,"app-market-depth-invoker",35),l()),n&2){let e=g().$implicit;d(),p("title",e.instrument)("instrumentToken",e.instrumentToken)}}function Hee(n,i){if(n&1&&(f(0),N(1,"number")),n&2){let e=g().$implicit;k(" ",B(1,1,e.quantity,"1.0-0")," ")}}function qee(n,i){if(n&1&&(f(0),N(1,"number")),n&2){let e=g().$implicit;k(" ",B(1,1,e.quantity,"1.2-2")," ")}}function $ee(n,i){if(n&1){let e=V();He(0),c(1,"tr",24)(2,"td",25)(3,"div",26)(4,"span",27),f(5),l(),Je(6,Uee,1,2,"fa-icon",28),Je(7,jee,2,2,"div",29),l()(),c(8,"td",30),Je(9,Hee,2,4)(10,qee,2,4),l(),c(11,"td",30),f(12),N(13,"number"),l(),c(14,"td",30)(15,"span",31),f(16),N(17,"number"),c(18,"span",32),f(19),N(20,"percent"),l()()(),c(21,"td",30),f(22),N(23,"number"),l(),c(24,"td",30),f(25),N(26,"number"),l(),c(27,"td",30)(28,"span",31),f(29),N(30,"number"),c(31,"span",32),f(32),N(33,"percent"),l()()(),c(34,"td",30)(35,"span",31),f(36),N(37,"number"),c(38,"span",32),f(39),N(40,"percent"),l()()(),c(41,"td",33)(42,"app-action-menu",34),C("handleAction",function(r){w(e);let o=g(3);return S(o.handleAction(r))}),l()()(),qe()}if(n&2){let e=i.$implicit,t=g(3);d(4),p("matTooltip",e.instrument),d(),k(" ",e.instrument," "),d(),et(t.isScopeToPledge(e)?6:-1),d(),et(e.type==="Stocks"?7:-1),d(2),et(e.type==="Stocks"?9:10),d(3),k(" ",B(13,31,e.averagePrice,"1.2-2")," "),d(3),p("ngClass",t.color(e.dayChangePercentage)),d(),k(" ",B(17,34,e.lastPrice,"1.2-2")," "),d(2),ne("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),d(),k(" ",B(20,37,e.dayChangePercentage/100,"1.2-2")," "),d(3),k(" \u20B9",B(23,40,e.investedAmount,"1.2-2")," "),d(3),k(" \u20B9",B(26,43,e.currentValue,"1.2-2")," "),d(3),p("ngClass",t.color(e.dayChangePercentage)),d(),k(" ",B(30,46,e.dayPnl,"1.2-2")," "),d(2),ne("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),d(),k(" ",B(33,49,e.dayChangePercentage/100,"1.2-2")," "),d(3),p("ngClass",t.color(e.netChangePercentage)),d(),k(" ",B(37,52,e.netPnl,"1.2-2")," "),d(2),ne("bg-green-50",e.netChangePercentage>0)("bg-red-50",e.netChangePercentage<0),d(),k(" ",B(40,55,e.netChangePercentage/100,"1.2-2")," "),d(3),p("row",e)("actions",t.getActionButtons(e))}}function Wee(n,i){n&1&&(c(0,"tr")(1,"td",36),M(2,"div",37),l()())}function Gee(n,i){if(n&1&&(He(0),c(1,"tr",15)(2,"td",16),M(3,"app-user-info-header",17),l(),c(4,"td",18),f(5),N(6,"number"),l(),c(7,"td",18),f(8),N(9,"number"),l(),c(10,"td",19)(11,"span",20),f(12),N(13,"number"),l(),c(14,"span",21),f(15),N(16,"percent"),l()(),c(17,"td",19)(18,"span",20),f(19),N(20,"number"),l(),c(21,"span",21),f(22),N(23,"percent"),l()(),M(24,"td",22),l(),x(25,$ee,43,58,"ng-container",13)(26,Wee,3,0,"tr",23),qe()),n&2){let e=i.$implicit,t=i.last,r=g(2);d(3),p("userId",e.userId)("fullName",e.fullName||e.userName)("userName",e.userName||e.userId)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),d(2),k(" \u20B9",B(6,26,e.totalInvestment,"1.2-2")," "),d(3),k(" \u20B9",B(9,29,e.currentValue,"1.2-2")," "),d(3),p("ngClass",r.color(e.daysPnL)),d(),k(" \u20B9",B(13,32,e.daysPnL,"1.2-2")," "),d(2),ne("bg-green-50",e.daysPnL>0)("bg-red-50",e.daysPnL<0),p("ngClass",r.color(e.daysPnL)),d(),k(" ",B(16,35,e.daysPnLPercentage,"1.2-2")," "),d(3),p("ngClass",r.color(e.totalPnL)),d(),k(" \u20B9",B(20,38,e.totalPnL,"1.2-2")," "),d(2),ne("bg-green-50",e.totalPnL>0)("bg-red-50",e.totalPnL<0),p("ngClass",r.color(e.totalPnL)),d(),k(" ",B(23,41,e.totalPnLPercentage,"1.2-2")," "),d(3),p("ngForOf",e.holdings)("ngForTrackBy",r.trackBySequenceNumber),d(),p("ngIf",!t)}}function Yee(n,i){if(n&1){let e=V();c(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("instrument"))}),f(6," INSTRUMENT "),x(7,Aee,2,1,"span",8),l()(),c(8,"th",9)(9,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("quantity"))}),f(10," QTY "),x(11,Nee,2,1,"span",8),l()(),c(12,"th",9)(13,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("averagePrice"))}),f(14," AVG "),x(15,Pee,2,1,"span",8),l()(),c(16,"th",9)(17,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("dayChangePercentage"))}),f(18," LTP "),x(19,Oee,2,1,"span",8),l()(),c(20,"th",9)(21,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("investedAmount"))}),f(22," INVESTED "),x(23,Ree,2,1,"span",8),l()(),c(24,"th",9)(25,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("currentValue"))}),f(26," CURRENT "),x(27,Fee,2,1,"span",8),l()(),c(28,"th",9)(29,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("dayPnl"))}),f(30," DAY P&L "),x(31,Bee,2,1,"span",8),l()(),c(32,"th",9)(33,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("netChangePercentage"))}),f(34," NET P&L "),x(35,Vee,2,1,"span",8),l()(),c(36,"th",11),f(37,"ACTIONS"),l()()(),c(38,"tbody",12),x(39,Gee,27,44,"ng-container",13),l()()()}if(n&2){let e=g();d(7),p("ngIf",e.getSortIndicator("instrument")),d(4),p("ngIf",e.getSortIndicator("quantity")),d(4),p("ngIf",e.getSortIndicator("averagePrice")),d(4),p("ngIf",e.getSortIndicator("dayChangePercentage")),d(4),p("ngIf",e.getSortIndicator("investedAmount")),d(4),p("ngIf",e.getSortIndicator("currentValue")),d(4),p("ngIf",e.getSortIndicator("dayPnl")),d(4),p("ngIf",e.getSortIndicator("netChangePercentage")),d(4),p("ngForOf",e.sortedGroupedHoldings)("ngForTrackBy",e.trackByUser)}}var Nk=(()=>{let i=class i{constructor(){this.groupedHoldings=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new K,this.expandedInstrument=null,this.faTriangleExclamation=q0,this.sortColumn="dayChangePercentage",this.sortDirection="desc",this.sortAccessors={instrument:t=>(t.instrument??"").toString().toLowerCase(),quantity:t=>t.quantity??0,averagePrice:t=>t.averagePrice??0,dayChangePercentage:t=>t.dayChangePercentage??0,investedAmount:t=>t.investedAmount??0,currentValue:t=>t.currentValue??0,dayPnl:t=>t.dayPnl??0,netChangePercentage:t=>t.netChangePercentage??0}}getActionButtons(t){let r=this.actions;return t.type!=="Stocks"&&(r=r.filter(o=>o.action!=="screenerIn"&&o.action!=="yahooFinance"&&o.action!=="viewChart"&&o.action!=="exit")),t.type!=="Mutual Funds"&&(r=r.filter(o=>o.action!=="coinReport")),r}handleAction(t){this.handleClickAction.emit(t)}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}toggleInstrument(t){}trackByUser(t,r){return r.userId}trackBySequenceNumber(t,r){return r.sequenceNumber}isScopeToPledge(t){return(t.quantity-t.collateralQuantity)*t.lastPrice>2e4}get sortedGroupedHoldings(){return!this.sortColumn||!this.sortDirection?this.groupedHoldings:this.groupedHoldings.map(t=>ie(P({},t),{holdings:[...t.holdings??[]].sort((r,o)=>this.compareHoldings(r,o))}))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection=this.getDefaultDirection(t)}getDefaultDirection(t){return["dayChangePercentage","netChangePercentage"].includes(t)?"desc":"asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareHoldings(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u=0;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-holdings-table"]],inputs:{groupedHoldings:"groupedHoldings",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","4",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","fullName","userName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","text-right","font-medium","whitespace-nowrap"],[1,"px-2","md:px-4","text-right","whitespace-nowrap"],[1,"font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"],[1,"px-2","md:px-4","text-center","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left",3,"matTooltip"],[1,"text-orange-600","flex-shrink-0","text-sm",3,"matTooltip","icon"],[1,"flex","items-center","justify-center","gap-2"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],[3,"title","instrumentToken"],["colspan","9",1,"py-1"],[1,"border-b","border-dashed","border-gray-200"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,kee,3,0,"div",1)(2,Yee,40,10,"div"),l()),r&2&&(d(),et(!o.groupedHoldings||o.groupedHoldings.length===0?1:2))},dependencies:[he,le,oe,Q,Fi,Xe,we,w1,ei,mt,Qt],encapsulation:2});let n=i;return n})();var g7=(()=>{let i=class i{constructor(t){this.api=t}getHoldings(){return this.api.get("/v1/holdings")}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Qee=(n,i)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":i});function Kee(n,i){n&1&&M(0,"span",20)}function Xee(n,i){if(n&1){let e=V();c(0,"div",17),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.setActiveTab(r))}),f(1),c(2,"span",18),f(3),l(),x(4,Kee,1,0,"span",19),l()}if(n&2){let e=i.$implicit,t=g(2);ne("active-tab",e===t.activeTab)("text-gray-700",e!==t.activeTab),d(),k(" ",e," "),d(),p("ngClass",Ae(8,Qee,e===t.activeTab,e!==t.activeTab)),d(),k(" ",t.tabCounts[e]," "),d(),p("ngIf",e===t.activeTab)}}function Zee(n,i){if(n&1&&(c(0,"div",9)(1,"a",21),M(2,"fa-icon",22),f(3," SIPs "),l()()),n&2){let e=g(2);d(2),p("icon",e.faMoneyBillTrendUp)}}function Jee(n,i){if(n&1){let e=V();c(0,"div",23)(1,"app-holdings-table",24),C("handleClickAction",function(r){w(e);let o=g(2);return S(o.handleAction(r))}),l()()}if(n&2){let e=g(2);d(),p("groupedHoldings",e.groupedHoldings)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function ete(n,i){n&1&&(c(0,"div",23)(1,"app-note",25),f(2," You don't have any holdings in this section. Check your filters or search criteria and request token status for the trading accounts. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function tte(n,i){if(n&1){let e=V();c(0,"div")(1,"div",3)(2,"div",4),x(3,Xee,5,11,"div",5),l(),x(4,Zee,4,1,"div",6),l(),M(5,"app-holdings-summary",7),c(6,"div",8)(7,"div",9)(8,"app-tool-bar",10),C("filtersChanged",function(r){w(e);let o=g();return S(o.applyFilters(r))})("handleRefresh",function(r){w(e);let o=g();return S(o.handleRefresh(r))})("toggleChart",function(){w(e);let r=g();return S(r.toggleChart())}),l()(),M(9,"div",11),c(10,"div",9)(11,"app-user-filter",12),C("selectAllUsers",function(){w(e);let r=g();return S(r.onAllUserSelection())})("selectUsers",function(r){w(e);let o=g();return S(o.onUserSelection(r))})("totalUsers",function(r){w(e);let o=g();return S(o.captureUsers(r))}),l()(),c(12,"div",9)(13,"app-search-input",13),C("inputChange",function(r){w(e);let o=g();return S(o.onSearch(r))}),l()()(),c(14,"div",14),M(15,"app-timeline-chart",15),l(),x(16,Jee,2,3,"div",16)(17,ete,3,3,"ng-template",null,0,Yt),l()}if(n&2){let e=At(18),t=g();d(3),p("ngForOf",t.tabs),d(),p("ngIf",t.activeTab==="Mutual Funds"),d(),p("totalInvestment",t.totalInvestment)("currentValue",t.currentValue)("daysPnL",t.daysPnL)("daysPnLPercentage",t.daysPnLPercentage)("totalPnL",t.totalPnL)("totalPnLPercentage",t.totalPnLPercentage),d(3),p("isLoadingData",t.isLoadingData)("filterOptions",t.filterOptions)("filterSelection",t.filterSelection)("showChartButton",!0),d(3),p("selectedUserIds",t.selectedUserIds),d(2),p("placeholder","Search holdings by User ID or Instrument")("searchTerm",t.searchQuery),d(),p("@expandCollapse",t.showChart?"expanded":"collapsed"),d(),p("title","Portfolio Performance")("xAxisLabels",t.dateLabels)("legendLabels",t.legendLabels)("series",t.series)("showDataZoom",!0),d(),p("ngIf",t.groupedHoldings.length>0)("ngIfElse",e)}}var Ok=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_,y){this.holdingService=t,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.utilsService=u,this.dialog=m,this.overlay=_,this.document=y,this.instrumentTokens=[],this.users=[],this.tabs=["All","Stocks","Mutual Funds"],this.tabCounts={All:0,Stocks:0,"Mutual Funds":0},this.activeTab="All",this.holdings=[],this.filteredHoldings=[],this.groupedHoldings=[],this.historicalTimelineValues=[],this.errorMessage="",this.totalInvestment=0,this.currentValue=0,this.daysPnL=0,this.daysPnLPercentage=0,this.totalPnL=0,this.totalPnLPercentage=0,this.selectedUserIds=[],this.searchQuery="",this.filterOptions=[{key:"type",values:["STOCKS","MUTUAL FUNDS"]}],this.actions=[{action:"exit",color:"red",label:"Exit"},{action:"chart",color:"gray",label:"View Chart"},{action:"screenerIn",color:"gray",label:"Screener.in"},{action:"yahooFinance",color:"gray",label:"Yahoo Finance"},{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"Holding Details"}],this.isLoadingData=!1,this.filterSelection=[],this.fallbackAvatarUrl=cn,this.faMoneyBillTrendUp=fd,this.faTriangleExclamation=q0,this.showChart=!1,this.dateLabels=[],this.legendLabels=[],this.series=[]}ngOnInit(){this.cellTemplates={};let t=this.userViewStateService.getState();this.activeTab=t.holdings.selectedHoldingType,this.selectedUserIds=t.holdings.selectedUsersIds,this.searchQuery=t.holdings.searchQuery,t.holdings.filterSelection?.length>0&&(this.filterSelection=t.holdings.filterSelection),this.getCachedData(),this.fetchHoldings(),this.fetchHistoricalTimelineValues()}handleAction(t){if(t.action==="exit")this.openAddOrExitOrderDialog(t.row,"exit");else if(t.action==="chart")window.open(F8(t.row.exchange,t.row.instrument),"_blank","noopener,noreferrer");else if(t.action==="screenerIn")window.open(mM(t.row.instrument),"_blank","noopener,noreferrer");else if(t.action==="yahooFinance"){let r=t.row.exchange==="NSE"?"NS":t.row.exchange==="BSE"?"BO":"NS";window.open(hM(t.row.instrument,r),"_blank","noopener,noreferrer")}else t.action==="coinReport"?window.open(rc(t.row.tradingSymbol),"_blank","noopener,noreferrer"):t.action==="info"&&this.utilsService.showInfo(t.row,`Holding Details - ${t.row.instrument}`)}getAvatarUrl(t){return this.utilsService.getAvatarUrl(this.users,t)}getUserName(t){return this.utilsService.getUserName(this.users,t)}getUserFullName(t){return this.utilsService.getUserFullName(this.users,t)}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}ngAfterViewInit(){}fetchHistoricalTimelineValues(t){this.utilsService.fetchHistoricalTimelineValues("holdings").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{t&&t()}})}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&(t.users&&(this.users=t.users),t.holdings&&(this.holdings=t.holdings,this.renderHoldings()))}setCachedData(){this.userDataStateService.setState({holdings:this.holdings})}renderHoldings(){this.updateCounts(),this.updateFilteredAndGroupedHoldings()}fetchHoldings(t){this.isLoadingData=!0,this.holdingService.getHoldings().subscribe({next:r=>{this.holdings=r.data,this.renderHoldings(),this.instrumentTokens=this.holdings.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,t&&t()}})}updateCounts(){let t=0;this.tabs.forEach(r=>{let o=this.holdings.filter(a=>a.type===r).length;t+=o,this.tabCounts[r]=o}),this.tabCounts.All=t}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(be(t=>t),We(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(t=>{this.updateHoldingsOnUpdate(t)})):console.log("No instrument tokens available for web socket subscription.")}updateHoldingsOnUpdate(t){t.forEach(r=>{this.holdings.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a&&a.lastPrice!==r.lastTradedPrice&&(a.lastPrice=r.lastTradedPrice,a.currentValue=a.quantity*r.lastTradedPrice,a.netPnl=a.currentValue-a.investedAmount,a.netChangePercentage=a.netPnl/a.investedAmount*100,a.dayChangePercentage=(r.lastTradedPrice-r.closePrice)/r.closePrice*100,a.dayPnl=a.dayChangePercentage*(a.quantity*r.closePrice)/100)})}),this.calculateSummary(),this.updateGroupSummaries()}calculateGroupSummary(t){let r=t.reduce((_,y)=>_+(y.investedAmount||0),0),o=t.reduce((_,y)=>_+(y.currentValue||0),0),a=t.reduce((_,y)=>_+(y.dayPnl||0),0),s=t.reduce((_,y)=>_+(y.netPnl||0),0),u=a/r||0,m=s/r||0;return{totalInvestment:r,currentValue:o,daysPnL:a,totalPnL:s,daysPnLPercentage:u,totalPnLPercentage:m}}updateGroupSummaries(){this.groupedHoldings.forEach(t=>{let r=this.calculateGroupSummary(t.holdings);Object.assign(t,r)})}onUserSelection(t){this.selectedUserIds=t,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState(),this.populateTimelineChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedHoldings(),this.saveUserViewState(),this.populateTimelineChartData()}captureUsers(t){this.users=t}onSearch(t){this.searchQuery=t.toLowerCase(),this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({holdings:{selectedUsersIds:this.selectedUserIds,selectedHoldingType:this.activeTab,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}calculateSummary(){let t=0,r=0,o=0,a=0;this.filteredHoldings.forEach(s=>{t+=s.investedAmount||0,r+=s.currentValue||0,o+=s.dayPnl||0,a+=s.netPnl||0}),this.totalInvestment=t,this.currentValue=r,this.daysPnL=o,this.daysPnLPercentage=o/t||0,this.totalPnL=a,this.totalPnLPercentage=a/t||0}setActiveTab(t){this.activeTab=t,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}hideChildSummary(t){return this.selectedUserIds.length===1||this.users.length===1||this.holdings.filter(r=>r.userId===t.userId).length===1}updateFilteredAndGroupedHoldings(){let t=this.holdings;this.activeTab!=="All"&&(t=t.filter(o=>o.type===this.activeTab)),this.selectedUserIds.length>0&&(t=t.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(t=t.filter(o=>o.instrument.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(t=this.utilsService.filter(this.filterSelection,t)),this.filteredHoldings=t;let r={};this.filteredHoldings.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedHoldings=Object.entries(r).map(([o,a])=>P({userId:o,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o),holdings:a},this.calculateGroupSummary(a))),this.calculateSummary()}applyFilters(t){this.filterSelection=t,this.updateFilteredAndGroupedHoldings(),this.saveUserViewState()}handleRefresh(t){this.fetchHoldings(t)}toggleChart(){this.showChart=!this.showChart}populateTimelineChartData(){let t=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.dateLabels=t.dateLabels,this.legendLabels=t.legendLabels,this.series=t.series}openAddOrExitOrderDialog(t,r){let o={exchange:t.exchange,tradingSymbol:t.tradingSymbol,instrumentToken:t.instrumentToken,lastPrice:t.lastPrice,quantity:t.quantity,displayName:t.instrument,segment:t.exchange,tradingAccountId:t.userId},a={isBuyMode:!1,isCopy:!1,isExitPosition:!1,product:"CNC"};r==="exit"&&(a.isBuyMode=!1,a.isExitPosition=!0),this.dialog.open(Ko,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:P({},o)}}).afterClosed().subscribe(u=>{u&&this.fetchHoldings()})}};i.\u0275fac=function(r){return new(r||i)(D(g7),D(Qn),D(Ut),D(Dt),D(xe),D(zt),D(Zt),D(b1),D(J))},i.\u0275cmp=U({type:i,selectors:[["app-holdings"]],decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","flex-shrink-0",4,"ngIf"],[3,"totalInvestment","currentValue","daysPnL","daysPnLPercentage","totalPnL","totalPnLPercentage"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","toggleChart","isLoadingData","filterOptions","filterSelection","showChartButton"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],["routerLink","/mf",1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","text-gray-700","hover:bg-gray-100","hover:text-blue-500","relative","flex","items-center","gap-2"],[1,"text-sm",3,"icon"],[1,"page-content"],[3,"handleClickAction","groupedHoldings","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(c(0,"div",1),x(1,tte,19,23,"div",2),l()),r&2&&(d(),p("ngIf",!o.errorMessage))},dependencies:[he,le,oe,Q,bt,ki,qn,Lk,Y1,Vi,h3,Kn,we,Nk],encapsulation:2,data:{animation:[In]}});let n=i;return n})();var nte=n=>({opacity:n});function ite(n,i){n&1&&(c(0,"div",1)(1,"p",2),f(2,"No positions to display"),l()())}function rte(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("instrument"))}}function ote(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("quantity"))}}function ate(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("averagePrice"))}}function ste(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("change"))}}function cte(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("value"))}}function lte(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("dayPnl"))}}function dte(n,i){if(n&1&&(c(0,"span",16),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("netPnl"))}}function ute(n,i){if(n&1){let e=V();c(0,"input",38),C("change",function(){w(e);let r=g().$implicit,o=g(3);return S(o.togglePositionSelection(r))}),l()}if(n&2){let e=g().$implicit,t=g(3);p("checked",t.isPositionSelected(e))}}function fte(n,i){if(n&1){let e=V();He(0),c(1,"tr",26)(2,"td",27),x(3,ute,1,1,"input",28),l(),c(4,"td",29)(5,"div",30),M(6,"app-small-chip",31),c(7,"span",32),f(8),l(),M(9,"app-market-depth-invoker",33)(10,"app-small-chip",31)(11,"app-small-chip",31),l()(),c(12,"td",34)(13,"span",35),f(14),N(15,"number"),l()(),c(16,"td",34),f(17),N(18,"number"),l(),c(19,"td",34)(20,"span",35),f(21),N(22,"number"),c(23,"span",36),f(24),N(25,"percent"),l()()(),c(26,"td",34),f(27),N(28,"currency"),l(),c(29,"td",34)(30,"span",35),f(31),N(32,"currency"),l()(),c(33,"td",34)(34,"span",35),f(35),N(36,"currency"),l()(),c(37,"td",34)(38,"app-action-menu",37),C("handleAction",function(r){w(e);let o=g(3);return S(o.handleAction(r))}),l()()(),qe()}if(n&2){let e=i.$implicit,t=g(3);d(),p("ngStyle",vn(56,nte,e.position.netQuantity===0?.5:1)),d(2),p("ngIf",e.position.netQuantity!==0),d(3),p("text",t.getTransactionType(e.position.netQuantity))("color",t.getTransactionTypeChipColor(e.position.netQuantity)),d(),p("title",e.displayName),d(),k(" ",e.displayName," "),d(),p("title",e.displayName)("instrumentToken",e.position.instrumentToken),d(),p("text",e.position.product)("color",e.position.product==="MIS"?"orange":"purple"),d(),p("text",e.position.exchange)("color","gray"),d(2),p("ngClass",t.quantityColor(e.position.netQuantity)),d(),k(" ",B(15,29,e.position.netQuantity,"1.0-2")," "),d(3),k(" ",B(18,32,e.position.averagePrice,"1.2-2")," "),d(3),p("ngClass",t.color(e.position.change)),d(),k(" ",B(22,35,e.position.lastPrice,"1.2-2")," "),d(2),ne("bg-green-50",e.position.change>0)("bg-red-50",e.position.change<0),d(),k(" ",B(25,38,e.position.change/100,"1.2-2")," "),d(3),k(" ",Ee(28,41,e.position.value,"INR","symbol","1.2-2")," "),d(3),p("ngClass",t.color(e.dayPnl)),d(),k(" ",Ee(32,46,e.dayPnl,"INR","symbol","1.2-2")," "),d(3),p("ngClass",t.color(e.position.pnl)),d(),k(" ",Ee(36,51,e.position.pnl,"INR","symbol","1.2-2")," "),d(3),p("row",e)("actions",t.getActionButtons(e))}}function pte(n,i){n&1&&(c(0,"tr")(1,"td",39),M(2,"div",40),l()())}function mte(n,i){if(n&1&&(He(0),c(1,"tr",17)(2,"td",18)(3,"div",19),M(4,"app-user-info-header",20),c(5,"span",21),f(6),N(7,"currency"),l(),c(8,"span",21),f(9),N(10,"currency"),l()()(),c(11,"td",22)(12,"span",23),f(13),N(14,"number"),l()(),c(15,"td",22)(16,"span",23),f(17),N(18,"number"),l()(),M(19,"td",24),l(),x(20,fte,39,58,"ng-container",15)(21,pte,3,0,"tr",25),qe()),n&2){let e=i.$implicit,t=i.last,r=g(2);d(4),p("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),d(),p("ngClass",e.availableFunds<0?"text-red-600":"text-blue-600"),d(),k(" Utilized: ",Ee(7,16,e.utilizedFunds,"INR","symbol","1.0-0")," "),d(2),p("ngClass",e.availableFunds<0?"text-red-600":"text-green-600"),d(),k(" Available: ",Ee(10,21,e.availableFunds,"INR","symbol","1.0-0")," "),d(3),p("ngClass",r.color(e.daysPnL)),d(),k(" \u20B9",B(14,26,e.daysPnL,"1.2-2")," "),d(3),p("ngClass",r.color(e.totalPnL)),d(),k(" \u20B9",B(18,29,e.totalPnL,"1.2-2")," "),d(3),p("ngForOf",e.positions)("ngForTrackBy",r.trackBySequenceNumber),d(),p("ngIf",!t)}}function hte(n,i){if(n&1){let e=V();c(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"input",7),C("change",function(){w(e);let r=g();return S(r.toggleSelectAll())}),l()(),c(6,"th",8)(7,"button",9),C("click",function(){w(e);let r=g();return S(r.setSort("instrument"))}),f(8," INSTRUMENT "),x(9,rte,2,1,"span",10),l()(),c(10,"th",11)(11,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("quantity"))}),f(12," QTY "),x(13,ote,2,1,"span",10),l()(),c(14,"th",11)(15,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("averagePrice"))}),f(16," AVG "),x(17,ate,2,1,"span",10),l()(),c(18,"th",11)(19,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("change"))}),f(20," LTP "),x(21,ste,2,1,"span",10),l()(),c(22,"th",11)(23,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("value"))}),f(24," VALUE "),x(25,cte,2,1,"span",10),l()(),c(26,"th",11)(27,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("dayPnl"))}),f(28," DAY P&L "),x(29,lte,2,1,"span",10),l()(),c(30,"th",11)(31,"button",12),C("click",function(){w(e);let r=g();return S(r.setSort("netPnl"))}),f(32," NET P&L "),x(33,dte,2,1,"span",10),l()(),c(34,"th",13),f(35,"ACTIONS"),l()()(),c(36,"tbody",14),x(37,mte,22,32,"ng-container",15),l()()()}if(n&2){let e=g();d(5),p("checked",e.isAllSelected)("indeterminate",e.isSomeSelected),d(4),p("ngIf",e.getSortIndicator("instrument")),d(4),p("ngIf",e.getSortIndicator("quantity")),d(4),p("ngIf",e.getSortIndicator("averagePrice")),d(4),p("ngIf",e.getSortIndicator("change")),d(4),p("ngIf",e.getSortIndicator("value")),d(4),p("ngIf",e.getSortIndicator("dayPnl")),d(4),p("ngIf",e.getSortIndicator("netPnl")),d(4),p("ngForOf",e.sortedGroupedPositions)("ngForTrackBy",e.trackByUser)}}var vv=(()=>{let i=class i{constructor(){this.groupedPositions=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new K,this.selectedPositionsChange=new K,this.sortColumn="netPnl",this.sortDirection="desc",this.selectedPositions=new Set,this.sortAccessors={instrument:t=>(t.displayName??"").toString().toLowerCase(),quantity:t=>t.position?.netQuantity??0,averagePrice:t=>t.position?.averagePrice??0,change:t=>t.position?.change??0,value:t=>t.position?.value??0,dayPnl:t=>t.dayPnl??0,netPnl:t=>t.position?.pnl??0}}get sortedGroupedPositions(){return!this.sortColumn||!this.sortDirection?this.groupedPositions:this.groupedPositions.map(t=>ie(P({},t),{positions:[...t.positions??[]].sort((r,o)=>this.comparePositions(r,o))}))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection=this.getDefaultDirection(t)}getDefaultDirection(t){return["dayPnl","netPnl","change"].includes(t)?"desc":"asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}comparePositions(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u=0;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}getActionButtons(t){let r=this.actions;return t.position.netQuantity===0&&(r=r.filter(o=>o.action!=="exit")),r}handleAction(t){this.handleClickAction.emit(t)}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}quantityColor(t){return t>0?"text-blue-600":t<0?"text-red-600":""}trackByUser(t,r){return r.userId}trackBySequenceNumber(t,r){return r.sequenceNumber}getTransactionType(t){return t>0?"BUY":t<0?"SELL":"EXITED"}getTransactionTypeChipColor(t){return t>0?"blue":t<0?"red":"gray"}get allExitablePositions(){return this.groupedPositions.flatMap(t=>t.positions.filter(r=>r.position.netQuantity!==0))}get isAllSelected(){let t=this.allExitablePositions;return t.length>0&&t.every(r=>this.selectedPositions.has(r))}get isSomeSelected(){return this.allExitablePositions.some(r=>this.selectedPositions.has(r))&&!this.isAllSelected}toggleSelectAll(){this.isAllSelected?this.allExitablePositions.forEach(t=>this.selectedPositions.delete(t)):this.allExitablePositions.forEach(t=>this.selectedPositions.add(t)),this.emitSelectedPositions()}togglePositionSelection(t){this.selectedPositions.has(t)?this.selectedPositions.delete(t):this.selectedPositions.add(t),this.emitSelectedPositions()}isPositionSelected(t){return this.selectedPositions.has(t)}emitSelectedPositions(){this.selectedPositionsChange.emit(Array.from(this.selectedPositions))}clearSelection(){this.selectedPositions.clear(),this.emitSelectedPositions()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-positions-table"]],inputs:{groupedPositions:"groupedPositions",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction",selectedPositionsChange:"selectedPositionsChange"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center","w-12"],["type","checkbox","title","Select/Unselect all exitable positions",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked","indeterminate"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[1,"flex","items-center","gap-2","flex-wrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"inline-flex","items-center","rounded-md","px-2","py-0.5","text-sm","whitespace-nowrap",3,"ngClass"],[1,"px-2","md:px-4","text-right","whitespace-nowrap"],[1,"font-medium",3,"ngClass"],[1,"px-2","md:px-4","text-center","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngStyle"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],["type","checkbox","class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer","title","Select position for bulk exit",3,"checked","change",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"truncate","max-w-xs",3,"title"],[3,"title","instrumentToken"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[3,"handleAction","row","actions"],["type","checkbox","title","Select position for bulk exit",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","focus:ring-2","cursor-pointer",3,"change","checked"],["colspan","11",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,ite,3,0,"div",1)(2,hte,38,11,"div"),l()),r&2&&(d(),et(!o.groupedPositions||o.groupedPositions.length===0?1:2))},dependencies:[he,le,oe,Q,T4,Fi,w1,ei,xt,bt,mt,Qt,bn],encapsulation:2});let n=i;return n})();var Rk=(n,i,e)=>({"text-green-600":n,"text-red-600":i,"text-gray-700":e});function gte(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Maximum Profit"),l(),c(3,"span",4),f(4),N(5,"currency"),l()()),n&2){let e=g();d(4),k(" ",Ee(5,1,e.maxProfit,"INR","symbol","1.2-2")," ")}}function vte(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Day's P&L"),l(),c(3,"span",5),f(4),N(5,"currency"),l()()),n&2){let e=g();d(3),p("ngClass",Tt(7,Rk,e.daysPnL>0,e.daysPnL<0,e.daysPnL===0)),d(),k(" ",Ee(5,2,e.daysPnL,"INR","symbol","1.2-2")," ")}}function yte(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Total P&L"),l(),c(3,"span",5),f(4),N(5,"currency"),l()()),n&2){let e=g();d(3),p("ngClass",Tt(7,Rk,e.totalPnL>0,e.totalPnL<0,e.totalPnL===0)),d(),k(" ",Ee(5,2,e.totalPnL,"INR","symbol","1.2-2")," ")}}function _te(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Profit Left"),l(),c(3,"span",6),f(4),N(5,"currency"),l()()),n&2){let e=g();d(4),k(" ",Ee(5,1,e.profitLeft,"INR","symbol","1.2-2")," ")}}var Fk=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-position-summary"]],inputs:{maxProfit:"maxProfit",profitLeft:"profitLeft",daysPnL:"daysPnL",totalPnL:"totalPnL"},decls:5,vars:4,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"],[1,"text-base","font-medium","mt-1",3,"ngClass"],[1,"text-base","font-medium","text-gray-600","mt-1"]],template:function(r,o){r&1&&(c(0,"div",0),x(1,gte,6,6,"div",1)(2,vte,6,11,"div",1)(3,yte,6,11,"div",1)(4,_te,6,6,"div",1),l()),r&2&&(d(),p("ngIf",o.maxProfit!==void 0),d(),p("ngIf",o.daysPnL!==void 0),d(),p("ngIf",o.totalPnL!==void 0),d(),p("ngIf",o.profitLeft!==void 0))},dependencies:[he,le,Q,bn],encapsulation:2});let n=i;return n})();var bte=["chartContainer"],Bk=(()=>{let i=class i{constructor(){this.title="",this.xAxisLabels=[],this.series=[],this.legendLabels=[],this.chartHeight="280",this.showDataZoom=!0,this.initOpts={renderer:"canvas",width:"auto",height:"auto"},this.chartOptions={},this.resizeListener=()=>this.updateChartSize(),this.isMobile=!1}ngOnInit(){this.checkMobile(),this.buildChartOptions()}ngOnChanges(){this.buildChartOptions()}ngAfterViewInit(){this.updateChartSize(),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}checkMobile(){this.isMobile=window.innerWidth<768}updateChartSize(){if(this.checkMobile(),this.chartContainer){let t=this.chartContainer.nativeElement.parentElement.offsetWidth,r=this.isMobile?Math.min(300,window.innerHeight*.4):parseInt(this.chartHeight);this.initOpts={renderer:"canvas",width:t+"px",height:r+"px"},this.buildChartOptions()}}buildChartOptions(){this.chartOptions={title:{text:this.title,textStyle:{fontSize:this.isMobile?12:14},left:this.isMobile?"center":"left"},tooltip:{trigger:"axis",confine:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#ccc",borderWidth:1,textStyle:{fontSize:this.isMobile?11:12},formatter:t=>{let r=t[0].axisValue,o=t.map(a=>{let s=a.value,u=this.formatValue(a.seriesName,s);return`${a.marker} ${a.seriesName}: ${u}`}).join("<br/>");return`<strong>${r}</strong><br/>${o}`}},legend:{data:this.legendLabels,orient:"horizontal",top:this.isMobile?25:5,left:"center",textStyle:{fontSize:this.isMobile?10:12},itemWidth:this.isMobile?15:25,itemHeight:this.isMobile?8:14},grid:{left:this.isMobile?"5%":"3%",right:this.isMobile?"5%":"4%",bottom:this.isMobile?"12%":"10%",top:this.isMobile?"25%":"20%",containLabel:!0},toolbox:{show:!this.isMobile,top:0,right:50,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:this.showDataZoom?[{type:"slider",start:0,end:100,height:this.isMobile?20:30,textStyle:{fontSize:this.isMobile?10:12}},{type:"inside",start:0,end:100}]:[],xAxis:{type:"category",boundaryGap:!0,data:this.xAxisLabels,axisLabel:{fontSize:this.isMobile?9:11,rotate:this.isMobile?45:0,interval:"auto",hideOverlap:!0,showMaxLabel:!0,showMinLabel:!0}},yAxis:{type:"value",axisLabel:{fontSize:this.isMobile?9:11,formatter:t=>this.isMobile&&Math.abs(t)>=1e3?(t/1e3).toFixed(0)+"k":t.toLocaleString()}},series:this.series.map(t=>P({type:"bar"},t))}}formatValue(t,r){if(r==null||isNaN(r))return"0.00";let o={minimumFractionDigits:this.isMobile?0:2,maximumFractionDigits:2};return t.includes("%")?`${r.toFixed(this.isMobile?1:2)}%`:t.toLowerCase().includes("pnl")?`${r>=0?"+":""}\u20B9${r.toLocaleString(void 0,o)}`:`\u20B9${r.toLocaleString(void 0,o)}`}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-bar-chart"]],viewQuery:function(r,o){if(r&1&&Ft(bte,5),r&2){let a;ft(a=pt())&&(o.chartContainer=a.first)}},inputs:{title:"title",xAxisLabels:"xAxisLabels",series:"series",legendLabels:"legendLabels",chartHeight:"chartHeight",showDataZoom:"showDataZoom"},features:[dt],decls:5,vars:2,consts:[["chartContainer",""],[1,"w-full","min-h-[12rem]","bg-white","border","border-gray-200","rounded-md","shadow-sm","flex","justify-center","mb-2"],[1,"w-full","bg-white","p-2","md:p-4","rounded-md"],[1,"relative","w-full","min-h-[200px]","md:min-h-[200px]","overflow-hidden","touch-pan-x","touch-pan-y"],[1,"w-full","h-full",3,"options","initOpts"]],template:function(r,o){r&1&&(c(0,"div",1)(1,"div",2)(2,"div",3,0),M(4,"echarts",4),l()()()),r&2&&(d(4),p("options",o.chartOptions)("initOpts",o.initOpts))},dependencies:[he,m3,h7],styles:["[_nghost-%COMP%]{display:block;width:100%}.echarts[_ngcontent-%COMP%]{width:100%;height:100%}"]});let n=i;return n})();var v7=(()=>{let i=class i{constructor(t){this.api=t}getPositions(){return this.api.get("/v1/positions")}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function xte(n,i){if(n&1){let e=V();c(0,"div",13)(1,"app-positions-table",14),C("handleClickAction",function(r){w(e);let o=g(2);return S(o.handleAction(r))})("selectedPositionsChange",function(r){w(e);let o=g(2);return S(o.onSelectedPositionsChange(r))}),l()()}if(n&2){let e=g(2);d(),p("groupedPositions",e.groupedPositionsWithUserInfo)("actions",e.actions)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function Cte(n,i){n&1&&(c(0,"div",13)(1,"app-note",15),f(2," You don't have any active positions at the moment. Check your filters or search criteria and request token status for the trading accounts. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function wte(n,i){if(n&1){let e=V();c(0,"div"),M(1,"app-position-summary",3),c(2,"div",4)(3,"div",5)(4,"app-tool-bar",6),C("filtersChanged",function(r){w(e);let o=g();return S(o.applyFilters(r))})("handleRefresh",function(r){w(e);let o=g();return S(o.handleRefresh(r))})("toggleChart",function(){w(e);let r=g();return S(r.toggleChart())})("charges",function(){w(e);let r=g();return S(r.viewCharges())})("exit",function(){w(e);let r=g();return S(r.exitSelectedPositions())}),l()(),M(5,"div",7),c(6,"div",5)(7,"app-user-filter",8),C("selectAllUsers",function(){w(e);let r=g();return S(r.onAllUserSelection())})("selectUsers",function(r){w(e);let o=g();return S(o.onUserSelection(r))})("totalUsers",function(r){w(e);let o=g();return S(o.captureUsers(r))}),l()(),c(8,"div",5)(9,"app-search-input",9),C("inputChange",function(r){w(e);let o=g();return S(o.onSearch(r))}),l()()(),c(10,"div",10),M(11,"app-bar-chart",11),l(),c(12,"div",10),M(13,"app-charges-summary"),l(),x(14,xte,2,3,"div",12)(15,Cte,3,3,"ng-template",null,0,Yt),l()}if(n&2){let e=At(16),t=g();d(),p("maxProfit",t.maxProfit)("totalPnL",t.totalPnL)("daysPnL",t.totalDayPnL)("profitLeft",t.profitLeft),d(3),p("isLoadingData",t.isLoadingData)("filterOptions",t.filterOptions)("filterSelection",t.filterSelection)("showChartButton",!0)("showChargesButton",!0)("showExitButton",t.selectedPositions.length>0)("exitButtonLabel","Exit Selected ("+t.selectedPositions.length+")"),d(3),p("selectedUserIds",t.selectedUserIds),d(2),p("placeholder","Search positions by User ID or Instrument")("searchTerm",t.searchQuery),d(),p("@expandCollapse",t.showChart?"expanded":"collapsed"),d(),p("title",t.barChartTitle)("xAxisLabels",t.barChartXAxisLabels)("series",t.barChartSeries)("legendLabels",t.barChartLegendLabels)("chartHeight","280")("showDataZoom",!0),d(),p("@expandCollapse",t.showCharges?"expanded":"collapsed"),d(2),p("ngIf",t.groupedPositions.length>0)("ngIfElse",e)}}var Uk=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_,y,E,I,A){this.positionsService=t,this.ws=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.dialog=u,this.fundsService=m,this.ordersService=_,this.utilsService=y,this.overlay=E,this.alertService=I,this.document=A,this.users=[],this.instrumentTokens=[],this.funds=[],this.charges=[],this.filterCharges=[],this.positions=[],this.filteredPositions=[],this.groupedPositions=[],this.selectedPositions=[],this.errorMessage="",this.maxProfit=0,this.profitLeft=0,this.totalPnL=0,this.totalDayPnL=0,this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=cn,this.filterSelection=[],this.historicalTimelineValues=[],this.filterOptions=[{key:"position.product",values:["NRML","CNC","MIS"]},{key:"position.exchange",values:["NFO","BFO","NSE","BSE"]},{key:"custom.type",values:["BUY","SELL","EXITED"]}],this.barChartXAxisLabels=[],this.barChartSeries=[],this.barChartLegendLabels=["Daily EOD PnL"],this.barChartTitle="Daily EOD PnL",this.isLoadingData=!1,this.actions=[{action:"copy",color:"blue",label:"Copy Position"},{action:"exit",color:"red",label:"Exit Position"},{action:"info",color:"gray",label:"Position Details"}],this.showChart=!1,this.showCharges=!1,this.legendLabels=[],this.series=[],this.positionsForExit=[]}ngOnInit(){let t=this.userViewStateService.getState();this.selectedUserIds=t.positions.selectedUsersIds,this.searchQuery=t.positions.searchQuery,t.positions.filterSelection?.length>0&&(this.filterSelection=t.positions.filterSelection),this.getCachedData(),this.fetchPositions(),this.fetchFunds(),this.fetchCharges(),this.fetchHistoricalTimelineValues()}calculateGroupSummary(t){t=t.filter(u=>u.position.product==="NRML");let r=t.reduce((u,m)=>u+(m.dayPnl||0),0),o=t.reduce((u,m)=>u+(m.position.pnl||0),0),a=t.reduce((u,m)=>u+((m.position.sellValue||0)-(m.position.buyValue||0)),0),s=a-o;return{daysPnL:r,totalPnL:o,maxProfit:a,profitLeft:s}}getAvatarUrl(t){return this.utilsService.getAvatarUrl(this.users,t)}getUserName(t){return this.utilsService.getUserName(this.users,t)}getUserFullName(t){return this.utilsService.getUserFullName(this.users,t)}getUtilizedFunds(t){return this.funds.find(r=>r.userId===t)?.margin?.utilised?.debits||0}getAvailableFunds(t){return this.funds.find(r=>r.userId===t)?.margin?.net||0}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&(t.users&&(this.users=t.users),t.positions&&(this.positions=t.positions,this.renderPositions()),t.funds&&(this.funds=t.funds))}setCachedData(){this.userDataStateService.setState({positions:this.positions,funds:this.funds})}renderPositions(){this.updateFilteredAndGroupedPositions()}fetchPositions(t){this.isLoadingData=!0,this.positionsService.getPositions().subscribe({next:r=>{this.positions=r.data,this.renderPositions(),this.instrumentTokens=this.positions.filter(o=>o.instrumentToken).map(o=>o.instrumentToken),this.subscribeToWebSocket(),this.setCachedData(),this.positionTableComponent&&this.positionTableComponent.clearSelection()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching positions. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,t&&t()}})}fetchFunds(t){this.fundsService.getFunds().subscribe({next:r=>{this.funds=r.data,this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error")},complete:()=>{t&&t()}})}fetchCharges(t){this.ordersService.fetchCharges().subscribe({next:r=>{this.charges=r.data,this.filterChargesBySelectedUsers()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching charges. Verify that the backend service is operational.","Error")},complete:()=>{t&&t()}})}fetchHistoricalTimelineValues(){this.utilsService.fetchHistoricalTimelineValues("positions").subscribe({next:t=>{this.historicalTimelineValues=t.data||[],this.prepareBarChartData()},error:t=>{this.toastrService.error("Failed to fetch historical positions timeline data","Error"),this.historicalTimelineValues=[],this.prepareBarChartData()}})}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(be(t=>t),We(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(t=>{this.updatePositionsOnUpdate(t)})):console.log("No instrument tokens available for web socket subscription.")}onUserSelection(t){this.selectedUserIds=t,this.updateFilteredAndGroupedPositions(),this.filterChargesBySelectedUsers(),this.saveUserViewState(),this.prepareBarChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedPositions(),this.filterChargesBySelectedUsers(),this.saveUserViewState(),this.prepareBarChartData()}captureUsers(t){this.users=t}onSearch(t){this.searchQuery=t.toLowerCase(),this.updateFilteredAndGroupedPositions(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({positions:{selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery,filterSelection:this.filterSelection}})}filterChargesBySelectedUsers(){this.selectedUserIds.length!==0?this.filterCharges=this.charges.filter(t=>this.selectedUserIds.includes(t.userId)):this.filterCharges=this.charges,this.chargesSummaryComponent&&this.chargesSummaryComponent.showChargesDetails(this.filterCharges)}updateFilteredAndGroupedPositions(){let t=this.positions;this.selectedUserIds.length>0&&(t=t.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(t=t.filter(o=>o.displayName.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(t=this.utilsService.filter(this.filterSelection,t),t=this.filterCustomType(t)),this.filteredPositions=t;let r={};this.filteredPositions.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o),o.position.change=0,o.position.value=o.position.value<0?-1*o.position.value:o.position.value}),this.groupedPositions=Object.entries(r).map(([o,a])=>P({userId:o,positions:a},this.calculateGroupSummary(a))),this.calculateSummary()}filterCustomType(t){let r=this.filterSelection.find(o=>o.key==="custom.type"&&o.selected.length>0);return r&&(t=t.filter(o=>{let a=o.position.netQuantity;return r.selected.some(u=>u==="BUY"?a>0:u==="SELL"?a<0:u==="EXITED"?a===0:!1)})),t}calculateSummary(){let t=0,r=0,o=0,a=0;this.filteredPositions.filter(u=>u.position.product==="NRML").forEach(u=>{o+=u.position.sellValue-u.position.buyValue,t+=u.position.pnl||0,r+=u.dayPnl||0,a=o-t}),this.totalPnL=t,this.totalDayPnL=r,this.maxProfit=o,this.profitLeft=a}prepareBarChartData(){let t=this.utilsService.populatePositionsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.barChartXAxisLabels=t.dateLabels,this.barChartSeries=t.series,this.barChartLegendLabels=t.legendLabels}updatePositionsOnUpdate(t){t.forEach(r=>{this.positions.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a.position.change=r.change;let s=r.change,u=r.closePrice;if(a.position.daySellQuantity*-1===a.position.netQuantity?(u=a.position.sellPrice,s=(r.lastTradedPrice-u)/u*100):a.position.dayBuyQuantity===a.position.netQuantity&&(u=a.position.buyPrice,s=(r.lastTradedPrice-u)/u*100),a.dayPnl=s*(a.position.netQuantity*u)/100,a&&a.position.lastPrice!==r.lastTradedPrice){if(a.position.lastPrice=r.lastTradedPrice,a.position.netQuantity<0){let m=(a.position.sellPrice-a.position.buyPrice)*a.position.buyQuantity,_=(a.position.sellPrice-r.lastTradedPrice)*a.position.netQuantity*-1;a.position.pnl=m+_}else if(a.position.netQuantity>0){let m=(a.position.sellPrice-a.position.buyPrice)*a.position.sellQuantity,_=(r.lastTradedPrice-a.position.buyPrice)*a.position.netQuantity;a.position.pnl=m+_}}})}),this.updateGroupSummaries(),this.calculateSummary()}updateGroupSummaries(){this.groupedPositions.forEach(t=>{let r=this.calculateGroupSummary(t.positions);Object.assign(t,r)})}get groupedPositionsWithUserInfo(){return this.groupedPositions.map(t=>ie(P({},t),{userName:this.getUserName(t.userId),fullName:this.getUserFullName(t.userId),utilizedFunds:this.getUtilizedFunds(t.userId),availableFunds:this.getAvailableFunds(t.userId),avatarUrl:this.getAvatarUrl(t.userId)}))}handleAction(t){t.action==="exit"?this.openAddOrExitOrderDialog(t.row,t.action):t.action==="copy"?this.openAddOrExitOrderDialog(t.row,t.action):t.action==="info"&&this.utilsService.showInfo(t.row,`Position Details - ${t.row.displayName}`)}openAddOrExitOrderDialog(t,r){let o={exchange:t.position.exchange,tradingSymbol:t.position.tradingSymbol,instrumentToken:t.instrumentToken,lastPrice:t.position.lastPrice,product:t.position.product,quantity:t.position.netQuantity<0?-1*t.position.netQuantity:t.position.netQuantity,displayName:t.displayName,segment:t.position.segment||t.position.exchange,tradingAccountId:t.userId},a={isBuyMode:!1,isCopy:!1,isExitPosition:!1,product:t.position.product};r==="copy"?(a.isBuyMode=t.position.netQuantity>0,a.isCopy=!0):r==="exit"&&(a.isBuyMode=t.position.netQuantity<0,a.isExitPosition=!0),this.dialog.open(Ko,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:a,instrument:P({},o)}}).afterClosed().subscribe(u=>{})}applyFilters(t){this.filterSelection=t,this.updateFilteredAndGroupedPositions(),this.saveUserViewState()}handleRefresh(t){this.fetchPositions(t),this.fetchFunds(t),this.fetchCharges(t),this.fetchHistoricalTimelineValues()}toggleChart(){this.showChart=!this.showChart}toggleCharges(){this.showCharges=!this.showCharges}viewCharges(){this.toggleCharges()}storeSelectedPositions(t){this.positionsForExit=t}onSelectedPositionsChange(t){this.selectedPositions=t}exitSelectedPositions(){if(this.selectedPositions.length===0){this.toastrService.warning("No positions selected","Warning");return}let t=this.selectedPositions.length;this.alertService.confirm(`Exit ${t} Position${t>1?"s":""}?`,`Are you sure you want to exit ${t} selected position${t>1?"s":""} at market price? This action cannot be undone.`,()=>{this.processBulkExit()})}processBulkExit(){let t=this.selectedPositions.length,r=0,o=0,a=0,s=[];this.selectedPositions.forEach(u=>{this.exitPosition(u).pipe(Qe(m=>Z({error:!0,id:u.userId,displayName:u.displayName,message:m?.error?.message||"Unknown error"}))).subscribe({next:m=>{r++,s.push({positionDetails:u,result:m,error:"error"in m&&m.error}),"error"in m&&m.error?(a++,console.error(`\u274C Position exit failed for ${u.displayName}:`,m),this.toastrService.error(`Position exit failed for ${u.displayName}: ${m.message}`,"Position Exit Error")):(o++,console.log(`\u2705 Position exit successful for ${u.displayName}. Order ID: ${m.data.orderId}`),this.toastrService.success(`Position ${u.displayName} exited successfully. Order ID: ${m.data.orderId}`,"Position Exit Success")),r===t&&this.showBulkExitSummary(s,o,a)},error:m=>{r++,a++,console.error(`Fatal error for position ${u.displayName}:`,m),s.push({positionDetails:u,result:{error:!0,id:u.userId,displayName:u.displayName,message:"Stream error - Something went wrong in the processing pipeline"},error:!0}),this.toastrService.error(`Fatal error while exiting ${u.displayName}`,"Fatal Error"),r===t&&this.showBulkExitSummary(s,o,a)}})})}showBulkExitSummary(t,r,o){this.fetchPositions(),this.selectedPositions=[],this.positionTableComponent&&this.positionTableComponent.clearSelection();let a=r+o,s=`Bulk Exit Summary:
`;if(s+=`\u2705 Succeeded: ${r}
`,s+=`\u274C Failed: ${o}
`,s+=`Total: ${a}`,r>0&&o>0){let u=t.filter(m=>m.error).map(m=>`\u2022 ${m.positionDetails.displayName}: ${m.result.message}`).join(`
`);this.alertService.info("Bulk Exit Completed",`${s}

Failed Positions:
${u}`,()=>{console.log("Bulk exit summary acknowledged")})}else if(o>0){let u=t.map(m=>`\u2022 ${m.positionDetails.displayName}: ${m.result.message}`).join(`
`);this.alertService.info("Bulk Exit Failed",`${s}

Failed Positions:
${u}`,()=>{console.log("Bulk exit summary acknowledged")})}else{let u=t.map(m=>`\u2022 ${m.positionDetails.displayName} - Order ID: ${m.result.data.orderId}`).join(`
`);this.alertService.info("Bulk Exit Successful",`${s}

Exited Positions:
${u}`,()=>{console.log("Bulk exit summary acknowledged")})}}exitPosition(t){let r=t.position.netQuantity>0?"SELL":"BUY",a={quantity:Math.abs(t.position.netQuantity),orderType:"MARKET",tradingsymbol:t.position.tradingSymbol,product:t.position.product,exchange:t.position.exchange,transactionType:r,validity:"DAY",price:0,triggerPrice:0,tag:"famvest-bulk-exit"},s={tradingAccountId:t.userId,orderParams:a};return this.ordersService.placeOrder(s,"regular")}};i.\u0275fac=function(r){return new(r||i)(D(v7),D(Qn),D(Ut),D(Dt),D(xe),D(Zt),D(X2),D(K2),D(zt),D(b1),D(ni),D(J))},i.\u0275cmp=U({type:i,selectors:[["app-positions"]],viewQuery:function(r,o){if(r&1&&(Ft(p3,5),Ft(vv,5)),r&2){let a;ft(a=pt())&&(o.chargesSummaryComponent=a.first),ft(a=pt())&&(o.positionTableComponent=a.first)}},decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[3,"maxProfit","totalPnL","daysPnL","profitLeft"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","toggleChart","charges","exit","isLoadingData","filterOptions","filterSelection","showChartButton","showChargesButton","showExitButton","exitButtonLabel"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","series","legendLabels","chartHeight","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","selectedPositionsChange","groupedPositions","actions","fallbackAvatarUrl"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(c(0,"div",1),x(1,wte,17,24,"div",2),l()),r&2&&(d(),p("ngIf",!o.errorMessage))},dependencies:[ki,he,Q,qn,vv,Fk,Vi,Kn,Bk,p3],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 150px);min-height:calc(100vh - var(--header-height, 80px) - 150px)}"],data:{animation:[In]}});let n=i;return n})();function Ste(n,i){if(n&1&&(c(0,"div")(1,"div",4)(2,"div",5)(3,"h2",6),M(4,"fa-icon",7),f(5,"Available Margin"),l()(),c(6,"p",8),f(7),N(8,"currency"),l(),c(9,"span",9),f(10,"(Cash + Collateral)"),l()(),c(11,"div",10)(12,"div",11)(13,"p",12),M(14,"fa-icon",13),f(15,"Available Cash"),l(),c(16,"p",14),f(17),N(18,"currency"),l()(),c(19,"div",11)(20,"p",12),M(21,"fa-icon",15),f(22,"Used Margin"),l(),c(23,"p",14),f(24),N(25,"currency"),l()()(),c(26,"div",16)(27,"h3",17),f(28,"Breakdown"),l(),c(29,"div",18)(30,"div",19)(31,"span"),f(32,"Opening Balance"),l(),c(33,"span"),f(34),N(35,"currency"),l()(),c(36,"div",19)(37,"span"),f(38,"Payin"),l(),c(39,"span"),f(40),N(41,"currency"),l()(),c(42,"div",19)(43,"span"),f(44,"SPAN"),l(),c(45,"span"),f(46),N(47,"currency"),l()(),c(48,"div",19)(49,"span"),f(50,"Delivery Margin"),l(),c(51,"span"),f(52),N(53,"currency"),l()(),c(54,"div",19)(55,"span"),f(56,"Exposure"),l(),c(57,"span"),f(58),N(59,"currency"),l()(),c(60,"div",19)(61,"span"),f(62,"Option Premium"),l(),c(63,"span"),f(64),N(65,"currency"),l()(),c(66,"div",20)(67,"span",21),f(68,"Total Collateral Margin"),l(),c(69,"span",14),f(70),N(71,"currency"),l()()()()()),n&2){let e=g();d(4),p("icon",e.faWallet),d(3),L(Ee(8,13,e.consolidatedFunds.net,"INR","symbol","1.2-2")),d(7),p("icon",e.faDollarSign),d(3),L(Ee(18,18,e.consolidatedFunds.availableCash,"INR","symbol","1.2-2")),d(4),p("icon",e.faMoneyBillTrendUp),d(3),L(Ee(25,23,e.consolidatedFunds.usedMargin,"INR","symbol","1.2-2")),d(10),L(Ee(35,28,e.consolidatedFunds.openingBalance,"INR","symbol","1.2-2")),d(6),L(Ee(41,33,e.consolidatedFunds.payin,"INR","symbol","1.2-2")),d(6),L(Ee(47,38,e.consolidatedFunds.span,"INR","symbol","1.2-2")),d(6),L(Ee(53,43,e.consolidatedFunds.holdingSales,"INR","symbol","1.2-2")),d(6),L(Ee(59,48,e.consolidatedFunds.exposure,"INR","symbol","1.2-2")),d(6),L(Ee(65,53,e.consolidatedFunds.optionPremium,"INR","symbol","1.2-2")),d(6),L(Ee(71,58,e.consolidatedFunds.totalCollateral,"INR","symbol","1.2-2"))}}var jk=(()=>{let i=class i{constructor(t,r,o,a,s){this.fundsService=t,this.userViewStateService=r,this.userDataStateService=o,this.toastrService=a,this.document=s,this.funds=[],this.consolidatedFunds={},this.errorMessage="",this.users=[],this.selectedUserIds=[],this.faDollarSign=dd,this.faMoneyBillTrendUp=fd,this.faWallet=j0}ngOnInit(){let t=this.userViewStateService.getState();this.selectedUserIds=t.funds.selectedUsersIds,this.getCachedData(),this.fetchFunds()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&t.funds&&(this.funds=t.funds,this.getConsolidateFunds())}setCachedData(){this.userDataStateService.setState({funds:this.funds})}fetchFunds(){this.fundsService.getFunds().subscribe({next:t=>{this.funds=t.data,this.getConsolidateFunds(),this.setCachedData()},error:t=>{t.error.message?this.toastrService.error(t.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching funds. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${t.error.status}, Error Message: ${t.error.message}`}})}resetConsolidatedFunds(){this.consolidatedFunds={net:0,availableCash:0,usedMargin:0,span:0,exposure:0,optionPremium:0,payin:0,holdingSales:0,openingBalance:0,totalCollateral:0}}getConsolidateFunds(){this.resetConsolidatedFunds();let t=this.funds;this.selectedUserIds.length>0&&(t=t.filter(r=>this.selectedUserIds.includes(r.userId))),t.forEach(r=>{this.consolidatedFunds.net+=Number(r.margin.net),this.consolidatedFunds.availableCash+=Number(r.margin.available.liveBalance),this.consolidatedFunds.usedMargin+=Number(r.margin.utilised.debits),this.consolidatedFunds.span+=Number(r.margin.utilised.span),this.consolidatedFunds.exposure+=Number(r.margin.utilised.exposure),this.consolidatedFunds.optionPremium+=Number(r.margin.utilised.optionPremium),this.consolidatedFunds.payin+=Number(r.margin.available.intradayPayin),this.consolidatedFunds.holdingSales+=Number(r.margin.utilised.holdingSales),this.consolidatedFunds.totalCollateral+=Number(r.margin.available.collateral)})}captureUsers(t){this.users=t}onUserSelection(t){this.selectedUserIds=t,this.getConsolidateFunds(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.getConsolidateFunds(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({funds:{selectedUsersIds:this.selectedUserIds}})}};i.\u0275fac=function(r){return new(r||i)(D(X2),D(Ut),D(Dt),D(xe),D(J))},i.\u0275cmp=U({type:i,selectors:[["app-funds"]],decls:4,vars:2,consts:[[1,"page-container"],[1,"flex","justify-end","items-center","mb-4"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[4,"ngIf"],[1,"bg-white","border","rounded-md","p-6","mb-6","flex","flex-col","items-center"],[1,"flex","flex-row","items-center"],[1,"text-xl","font-semibold","text-gray-600","m-0"],[1,"text-blue-500","mr-2",3,"icon"],[1,"text-2xl","font-medium","text-gray-600"],[1,"text-base","text-gray-400"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"bg-white","border","rounded-md","p-4","flex","flex-col","items-center"],[1,"text-gray-600","text-base"],[1,"text-green-600","mr-2","text-base",3,"icon"],[1,"text-base","font-medium","text-gray-600"],[1,"text-red-600","mr-2","text-base",3,"icon"],[1,"bg-white","border","rounded-md","p-6"],[1,"text-base","text-gray-600","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-gray-700"],[1,"flex","justify-between"],[1,"flex","justify-between","col-span-2","border-t","pt-4","mt-2"],[1,"text-base","text-gray-600"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"app-user-filter",2),C("selectAllUsers",function(){return o.onAllUserSelection()})("selectUsers",function(s){return o.onUserSelection(s)})("totalUsers",function(s){return o.captureUsers(s)}),l()(),x(3,Ste,72,63,"div",3),l()),r&2&&(d(2),p("selectedUserIds",o.selectedUserIds),d(),p("ngIf",!o.errorMessage))},dependencies:[he,Q,we,qn,bn],encapsulation:2});let n=i;return n})();var F1=(()=>{let i=class i{constructor(t,r){this.authUserService=t,this.router=r}canActivate(t,r){if(this.authUserService.isAuthenticated())return r.url==="/login"?(this.router.navigate(["/home"]),!1):!0;if(r.url!=="/login")this.router.navigate(["/login"]);else return!0;return!1}};i.\u0275fac=function(r){return new(r||i)(H(Yn),H(gt))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function Mte(n,i){if(n&1&&(c(0,"div",66),f(1),l()),n&2){let e=g();d(),k(" ",e.infoMessage," ")}}function Ete(n,i){n&1&&(c(0,"p",69),f(1,"Email is required"),l())}function Tte(n,i){n&1&&(c(0,"p",69),f(1,"Please enter a valid email address"),l())}function Ite(n,i){if(n&1&&(c(0,"div",67),x(1,Ete,2,0,"p",68)(2,Tte,2,0,"p",68),l()),n&2){let e,t,r=g();d(),p("ngIf",(e=r.loginForm.get("email"))==null||e.errors==null?null:e.errors.required),d(),p("ngIf",(t=r.loginForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function Dte(n,i){if(n&1&&M(0,"fa-icon",72),n&2){let e=g(2);p("icon",e.faSpinner)}}function zte(n,i){if(n&1){let e=V();c(0,"button",70),C("click",function(){w(e);let r=g();return S(r.sendOtp())}),x(1,Dte,1,1,"fa-icon",71),f(2),l()}if(n&2){let e=g();p("disabled",e.isSendingOtp),d(),p("ngIf",e.isSendingOtp),d(),k(" ",e.isSendingOtp?"Sending...":"Send OTP"," ")}}function Lte(n,i){n&1&&(c(0,"div",73)(1,"div",11),Ke(),c(2,"svg",74),M(3,"path",75),l(),kt(),c(4,"span",76),f(5,"OTP sent successfully!"),l()()())}function kte(n,i){n&1&&(c(0,"p",69),f(1,"Password is required"),l())}function Ate(n,i){if(n&1&&(c(0,"div",67),x(1,kte,2,0,"p",68),l()),n&2){let e,t=g(2);d(),p("ngIf",(e=t.loginForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function Nte(n,i){if(n&1){let e=V();c(0,"div")(1,"label",77),f(2," Password "),c(3,"span",38),f(4,"*"),l()(),c(5,"div",39),M(6,"input",78),c(7,"button",79),C("click",function(){w(e);let r=g();return S(r.showPassword=!r.showPassword)}),M(8,"fa-icon",80),l()(),x(9,Ate,2,1,"div",44),l()}if(n&2){let e,t=g();d(6),p("type",t.showPassword?"text":"password"),d(2),p("icon",t.showPassword?t.faEyeSlash:t.faEye),d(),p("ngIf",((e=t.loginForm.get("password"))==null?null:e.touched)&&((e=t.loginForm.get("password"))==null?null:e.invalid))}}function Pte(n,i){n&1&&(c(0,"p",69),f(1,"OTP is required"),l())}function Ote(n,i){if(n&1&&(c(0,"div",67),x(1,Pte,2,0,"p",68),l()),n&2){let e,t=g(2);d(),p("ngIf",(e=t.loginForm.get("otp"))==null||e.errors==null?null:e.errors.required)}}function Rte(n,i){if(n&1&&(c(0,"div")(1,"label",81),f(2," Enter 6-digit OTP "),c(3,"span",38),f(4,"*"),l()(),M(5,"input",82),x(6,Ote,2,1,"div",44),l()),n&2){let e,t=g();d(6),p("ngIf",((e=t.loginForm.get("otp"))==null?null:e.touched)&&((e=t.loginForm.get("otp"))==null?null:e.invalid))}}var Hk=(()=>{let i=class i{constructor(t,r,o,a,s){this.authUserService=t,this.toastrService=r,this.router=o,this.fb=a,this.route=s,this.loginUsingOtp=!0,this.otpSent=!1,this.isSendingOtp=!1,this.infoMessage=null,this.faSpinner=X1,this.showPassword=!1,this.faEye=V2,this.faEyeSlash=Ao,this.loginForm=this.fb.group({email:["",[pe.required,pe.email]],password:[""],otp:[""]}),this.route.queryParams.subscribe(u=>{u.reason==="session-expired"?this.infoMessage="Your session has expired. Please log in again.":u.reason==="logged-out"?this.infoMessage="You have been logged out. Please log in again.":u.reason==="username-changed"?this.infoMessage="Your username has been changed. Please log in with your new username.":u.reason==="password-changed"?this.infoMessage="Your password has been changed successfully. Please log in with your new password.":this.infoMessage=null})}login(){this.authUserService.resetLoggingOutFlag();let t=this.loginForm.get("email")?.value,r=this.loginForm.get("password")?.value,o=this.loginForm.get("otp")?.value;if(!t||this.loginForm.get("email")?.invalid){this.loginForm.get("email")?.markAsTouched();return}if(!r&&!this.loginUsingOtp){this.loginForm.get("password")?.markAsTouched();return}if(!o&&this.loginUsingOtp){this.loginForm.get("otp")?.markAsTouched();return}this.authUserService.login({email:t,password:r,otp:o}).subscribe({next:a=>{this.authUserService.setAuthenticated(!0),this.router.navigate(["/home"])},error:a=>{a.error.message?this.toastrService.error(a.error.message,"Error"):this.toastrService.error("An unexpected error occurred while login. Verify that the backend service is operational.","Error")}})}sendOtp(){this.isSendingOtp=!0;let t=this.loginForm.get("email")?.value;if(!t||this.loginForm.get("email")?.invalid){this.loginForm.get("email")?.markAsTouched(),this.isSendingOtp=!1;return}this.authUserService.sendLoginOtp({email:t}).subscribe({next:r=>{this.isSendingOtp=!1,this.otpSent=!0,this.toastrService.success("An OTP has been sent to your email address. Please check your inbox and spam folder.","Success")},error:r=>{this.isSendingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while sending OTP. Verify that the backend service is operational.","Error")}})}toLowerCase(t){let r=t.target;r.value=r.value.toLowerCase(),this.loginForm.get("email")?.setValue(r.value,{emitEvent:!1})}};i.\u0275fac=function(r){return new(r||i)(D(Yn),D(xe),D(gt),D(v1),D(m1))},i.\u0275cmp=U({type:i,selectors:[["app-login"]],decls:137,vars:11,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","via-white","to-indigo-50"],[1,"flex","flex-col","lg:flex-row","min-h-screen"],[1,"lg:w-1/2","bg-gradient-to-br","from-blue-600","via-blue-700","to-indigo-800","text-white","flex","flex-col","justify-center","p-8","lg:p-16"],[1,"max-w-md","mx-auto","lg:mx-0"],[1,"flex","items-center","mb-6"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","height","48","width","48",1,"w-12","h-10","rounded-lg","mr-3","shadow-lg","mb-4"],[1,"text-3xl","font-bold"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6","leading-tight"],[1,"text-blue-200"],[1,"text-xl","text-blue-100","mb-8","leading-relaxed"],[1,"space-y-4"],[1,"flex","items-center"],[1,"w-8","h-8","bg-blue-500","rounded-full","flex","items-center","justify-center","mr-4"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-blue-100"],[1,"grid","grid-cols-2","gap-6","mt-12","pt-8","border-t","border-blue-500"],[1,"text-center"],[1,"text-3xl","font-bold","text-blue-200"],[1,"text-sm","text-blue-300"],[1,"mt-5","border","p-2","rounded-md","text-sm","text-blue-100"],[1,"text-lg","font-bold","text-blue-200","mb-4","flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","mr-1","text-green-500"],["fill-rule","evenodd","d","M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"space-y-3"],[1,"font-medium","text-blue-100"],[1,"font-semibold"],[1,"lg:w-1/2","flex","items-center","justify-center","p-8","lg:p-16"],[1,"w-full","max-w-md"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-gray-100","p-1","rounded-lg","mb-6"],[1,"grid","grid-cols-2","gap-1"],["type","button",1,"py-2","px-4","rounded-md","text-sm","font-medium","transition-all",3,"click"],["class","mb-4 p-3 bg-yellow-50 border border-yellow-300 text-yellow-800 rounded-lg text-center",4,"ngIf"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],[1,"relative"],["formControlName","email","type","text","id","email","required","","placeholder","Enter your email address",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all",3,"input"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["class","mt-2",4,"ngIf"],["type","button","class","mt-3 w-full px-4 py-2 bg-blue-100 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 transition-all flex items-center justify-center gap-2",3,"disabled","click",4,"ngIf"],["class","mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","justify-between","text-sm"],["href","#",1,"text-blue-600","hover:text-blue-500","transition-colors"],[1,"text-gray-500"],["type","submit",1,"w-full","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","py-3","px-4","rounded-lg","font-medium","hover:from-blue-700","hover:to-blue-800","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-8","mb-6"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-4","bg-white","text-gray-500"],["routerLink","/signup",1,"mb-2","w-full","bg-white","border-2","border-blue-600","text-blue-600","py-3","px-4","rounded-lg","font-medium","hover:bg-blue-50","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-5","text-xs","text-gray-500"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"flex","items-center","justify-center","space-x-6","text-xs","text-gray-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-green-500"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-blue-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-purple-500"],["fill-rule","evenodd","d","M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z","clip-rule","evenodd"],[1,"mb-4","p-3","bg-yellow-50","border","border-yellow-300","text-yellow-800","rounded-lg","text-center"],[1,"mt-2"],["class","text-red-500 text-sm",4,"ngIf"],[1,"text-red-500","text-sm"],["type","button",1,"mt-3","w-full","px-4","py-2","bg-blue-100","border","border-blue-300","text-blue-700","rounded-lg","hover:bg-blue-200","disabled:opacity-50","transition-all","flex","items-center","justify-center","gap-2",3,"click","disabled"],["class","fa-spin",3,"icon",4,"ngIf"],[1,"fa-spin",3,"icon"],[1,"mt-2","p-3","bg-green-50","border","border-green-200","rounded-lg"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-green-400","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","text-green-700","font-medium"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","password","id","password","required","","placeholder","Enter your password","autocomplete","current-password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","pr-12",3,"type"],["type","button","tabindex","-1",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[1,"h-5","w-5",3,"icon"],["for","otp",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","otp","type","text","id","otp","required","","placeholder","000000","maxlength","6","autocomplete","one-time-code",1,"w-full","px-4","py-3","tracking-widest","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"]],template:function(r,o){if(r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),M(5,"img",5),c(6,"h1",6),f(7,"FamVest"),l()(),c(8,"h2",7),f(9," Your Family's"),M(10,"br"),c(11,"span",8),f(12,"Financial Future"),l()(),c(13,"p",9),f(14," Track, analyze, and manage your family's investments in one secure place. Make informed decisions with powerful analytics and reporting tools. "),l(),c(15,"div",10)(16,"div",11)(17,"div",12),Ke(),c(18,"svg",13),M(19,"path",14),l()(),kt(),c(20,"span",15),f(21,"Centralized Portfolio Tracking"),l()(),c(22,"div",11)(23,"div",12),Ke(),c(24,"svg",13),M(25,"path",14),l()(),kt(),c(26,"span",15),f(27,"Performance Analytics & Reports"),l()(),c(28,"div",11)(29,"div",12),Ke(),c(30,"svg",13),M(31,"path",14),l()(),kt(),c(32,"span",15),f(33,"Secure Family Access"),l()()(),c(34,"div",16)(35,"div",17)(36,"div",18),f(37,"30+"),l(),c(38,"div",19),f(39,"Active Users"),l()(),c(40,"div",17)(41,"div",18),f(42,"\u20B93Cr+"),l(),c(43,"div",19),f(44,"Assets Managed"),l()()()(),c(45,"div",20)(46,"h3",21),Ke(),c(47,"svg",22),M(48,"path",23),l(),f(49," How Your Data is Secured "),l(),kt(),c(50,"div",24)(51,"p")(52,"span",25),f(53,"\u{1F510} End-to-End Encryption:"),l(),f(54," All sensitive information such as passwords, API keys, and TOTP secrets are encrypted using "),c(55,"span",26),f(56,"AES-256"),l(),f(57," before being stored. Communication between your browser and servers uses "),c(58,"span",26),f(59,"TLS 1.3 (HTTPS)"),l(),f(60," to ensure data-in-transit security. "),l(),c(61,"p")(62,"span",25),f(63,"\u{1F9F1} Isolated Data Storage:"),l(),f(64," Each user's financial data is securely isolated at the database layer using unique identifiers. Application-level access control ensures your family\u2019s data is never mixed with others. "),l(),c(65,"p")(66,"span",25),f(67,"\u{1F9E0} Secure Secrets Management:"),l(),f(68," API keys, trading credentials, and authentication tokens are encrypted using a "),c(69,"span",26),f(70,"dedicated key management system (KMS)"),l(),f(71," and never stored in plain text. "),l()()()(),c(72,"div",27)(73,"div",28)(74,"div",29)(75,"h2",30),f(76,"Welcome Back!"),l(),c(77,"p",31),f(78,"Sign in to access your portfolio"),l()(),c(79,"div",32)(80,"div",33)(81,"button",34),C("click",function(){return o.loginUsingOtp=!0}),f(82," OTP Login "),l(),c(83,"button",34),C("click",function(){return o.loginUsingOtp=!1}),f(84," Password Login "),l()()(),x(85,Mte,2,1,"div",35),c(86,"form",36),C("ngSubmit",function(){return o.login()}),c(87,"div")(88,"label",37),f(89," Email Address "),c(90,"span",38),f(91,"*"),l()(),c(92,"div",39)(93,"input",40),C("input",function(s){return o.toLowerCase(s)}),l(),c(94,"div",41),Ke(),c(95,"svg",42),M(96,"path",43),l()()(),x(97,Ite,3,2,"div",44)(98,zte,3,3,"button",45)(99,Lte,6,0,"div",46),l(),x(100,Nte,10,3,"div",47)(101,Rte,7,1,"div",47),kt(),c(102,"div",48)(103,"a",49),f(104," Forgot Password? "),l(),c(105,"span",50),f(106,"Need help?"),l()(),c(107,"button",51),f(108," Sign In to FamVest "),l()(),c(109,"div",52)(110,"div",39)(111,"div",53),M(112,"div",54),l(),c(113,"div",55)(114,"span",56),f(115,"New to FamVest?"),l()()()(),c(116,"div",17)(117,"button",57),f(118," Create Your Family Account "),l(),c(119,"p",58),f(120," Start managing your family's investments today."),M(121,"br"),f(122," Free to get started \u2022 No credit card required "),l()(),c(123,"div",59)(124,"div",60)(125,"div",11),Ke(),c(126,"svg",61),M(127,"path",62),l(),f(128," SSL Secured "),l(),kt(),c(129,"div",11),Ke(),c(130,"svg",63),M(131,"path",23),l(),f(132," Encrypted Storage "),l(),kt(),c(133,"div",11),Ke(),c(134,"svg",64),M(135,"path",65),l(),f(136," Data Isolation "),l()()()()()()()),r&2){let a,s;d(81),Bt(o.loginUsingOtp?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),d(2),Bt(o.loginUsingOtp?"text-gray-600 hover:text-gray-800":"bg-white text-blue-600 shadow-sm"),d(2),p("ngIf",o.infoMessage),d(),p("formGroup",o.loginForm),d(11),p("ngIf",((a=o.loginForm.get("email"))==null?null:a.touched)&&((a=o.loginForm.get("email"))==null?null:a.invalid)),d(),p("ngIf",o.loginUsingOtp&&((s=o.loginForm.get("email"))==null?null:s.valid)),d(),p("ngIf",o.otpSent&&o.loginUsingOtp),d(),p("ngIf",!o.loginUsingOtp),d(),p("ngIf",o.loginUsingOtp)}},dependencies:[bt,g1,it,rt,h1,O1,qa,he,Q,p1,ln,n1,i1,Y1,we],encapsulation:2});let n=i;return n})();var g3=(()=>{let i=class i{constructor(t,r){this.api=t,this.http=r}getWatchlist(){return this.api.get("/v1/watchlist")}searchInstruments(t){return this.api.get(`/v1/watchlist/instruments?search=${t}`)}saveWatchListInstrument(t,r){return this.api.post(`/v1/watchlist/${t}/watchlistInstruments`,r)}deleteWatchListInstrument(t,r){return this.api.delete(`/v1/watchlist/${t}/watchlistInstruments/${r}`)}updateWatchlistName(t,r){return this.api.patch(`/v1/watchlist/${t}`,{name:r})}reorderWatchlistInstruments(t,r){return this.api.post(`/v1/watchlist/${t}/reorder`,r)}};i.\u0275fac=function(r){return new(r||i)(H(Ye),H(yo))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var y7=(()=>{let i=class i{constructor(){this.addToBasketSubject=new Y,this.addToBasket$=this.addToBasketSubject.asObservable()}emitAddToBasket(t){this.addToBasketSubject.next(t)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Fte=(n,i,e)=>({"cursor-pointer":n,"cursor-not-allowed text-gray-400":i,"underline decoration-dotted decoration-2":e}),Bte=(n,i)=>({"bg-blue-100 text-blue-700 font-medium":n,"text-gray-600 hover:bg-gray-100":i});function Vte(n,i){if(n&1){let e=V();c(0,"app-action-button",20),C("handleAction",function(){w(e);let r=g();return S(r.toggleCollapse())}),l()}n&2&&p("noIconBackground",!0)("title","Show Watchlist")("action","enlargeRight")("color","gray")}function Ute(n,i){n&1&&(c(0,"span",23),f(1,"(edit)"),l())}function jte(n,i){if(n&1){let e=V();He(0),c(1,"label",21),C("click",function(){w(e);let r=g();return S(r.onWatchlistNameClick())})("mouseenter",function(){w(e);let r=g();return S(r.onWatchlistNameMouseEnter())})("mouseleave",function(){w(e);let r=g();return S(r.onWatchlistNameMouseLeave())}),f(2),l(),x(3,Ute,2,0,"span",22),qe()}if(n&2){let e=g();d(),p("ngClass",Tt(4,Fte,!e.isCurrentWatchlistReserved,e.isCurrentWatchlistReserved,e.isNameHovered&&!e.isCurrentWatchlistReserved))("matTooltip",e.isCurrentWatchlistReserved?"This name cannot be edited":"Click to edit"),d(),k(" ",e.getWatchListName()," "),d(),p("ngIf",e.isNameHovered&&!e.isCurrentWatchlistReserved)}}function Hte(n,i){if(n&1){let e=V();c(0,"input",24),Oe("ngModelChange",function(r){w(e);let o=g();return Be(o.editWatchlistName,r)||(o.editWatchlistName=r),S(r)}),C("blur",function(){w(e);let r=g();return S(r.onWatchlistNameBlur())})("keydown",function(r){w(e);let o=g();return S(o.onWatchlistNameInputKeydown(r))}),l()}if(n&2){let e=g();Pe("ngModel",e.editWatchlistName)}}function qte(n,i){if(n&1){let e=V();c(0,"app-action-button",25),C("handleAction",function(){w(e);let r=g();return S(r.expand())}),l()}n&2&&p("noIconBackground",!0)("title","Expand Watchlist")("action","expand")("color","gray")}function $te(n,i){if(n&1){let e=V();c(0,"app-action-button",25),C("handleAction",function(){w(e);let r=g();return S(r.toggleCollapse())}),l()}n&2&&p("noIconBackground",!0)("title","Hide Watchlist")("action","collapseLeft")("color","gray")}function Wte(n,i){if(n&1){let e=V();c(0,"div",26),C("click",function(){let r=w(e).index,o=g();return S(o.switchList(r))}),f(1),l()}if(n&2){let e=i.$implicit,t=i.index,r=g();p("matTooltip",e.name)("ngClass",Ae(3,Bte,t===r.currentListIndex,t!==r.currentListIndex)),d(),k(" ",t+1," ")}}function Gte(n,i){if(n&1){let e=V();c(0,"div",29),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.addToWatchlist(r))}),c(1,"div",30)(2,"div",31),f(3),l(),c(4,"div",32),f(5),l()()()}if(n&2){let e=i.$implicit;d(3),L(e.displayName),d(2),L(e.segment)}}function Yte(n,i){if(n&1&&(c(0,"div",27),x(1,Gte,6,2,"div",28),l()),n&2){let e=g();d(),p("ngForOf",e.fetchedInstruments)}}function Qte(n,i){if(n&1){let e=V();c(0,"button",42),C("click",function(){w(e);let r=g(2).$implicit,o=g();return S(o.handleAction({action:"buy",row:r}))}),f(1,"B"),l(),c(2,"button",43),C("click",function(){w(e);let r=g(2).$implicit,o=g();return S(o.handleAction({action:"sell",row:r}))}),f(3,"S"),l(),c(4,"app-action-button",41),C("handleAction",function(){w(e);let r=g(2).$implicit,o=g();return S(o.addToBasketOrder(r))}),l()}if(n&2){let e=g(2).$implicit;p("matTooltip","Buy"),d(2),p("matTooltip","Sell"),d(2),p("title","Add to Basket")("action","basket")("color","gray")("row",e)}}function Kte(n,i){if(n&1){let e=V();c(0,"div",39),Je(1,Qte,5,6),M(2,"app-market-depth-invoker",40),c(3,"app-action-button",41),C("handleAction",function(r){w(e);let o=g(2);return S(o.handleAction(r))}),l(),c(4,"app-action-button",41),C("handleAction",function(r){w(e);let o=g(2);return S(o.handleAction(r))}),l()()}if(n&2){let e=g().$implicit;d(),et(e.tradable?1:-1),d(),p("title",e.displayName)("instrumentToken",e.instrumentToken)("iconBackground",!0),d(),p("title","Chart")("action","chart")("color","gray")("row",e),d(),p("title","Delete")("action","delete")("color","red")("row",e)}}function Xte(n,i){if(n&1){let e=V();c(0,"div",33),C("mouseenter",function(){let r=w(e).index,o=g();return S(o.hoveredIndex=r)})("mouseleave",function(){w(e);let r=g();return S(r.hoveredIndex=null)})("dragstart",function(r){let o=w(e).index,a=g();return S(a.onDragStart(r,o))})("dragover",function(r){let o=w(e).index,a=g();return S(a.onDragOver(r,o))})("drop",function(r){let o=w(e).index,a=g();return S(a.onDrop(r,o))})("dragend",function(){w(e);let r=g();return S(r.onDragEnd())}),c(1,"div")(2,"div",31),f(3),l(),c(4,"div",34),f(5),l()(),c(6,"div",35)(7,"div",36),f(8),N(9,"number"),l(),c(10,"span",37),f(11),N(12,"number"),c(13,"span",38),f(14),N(15,"percent"),l()()(),Je(16,Kte,5,12,"div",39),l()}if(n&2){let e=i.$implicit,t=i.index,r=g();d(3),L(e.displayName),d(2),L(e.segment),d(2),p("ngClass",r.color(e.change)),d(),L(B(9,12,e.lastPrice,"1.2-2")),d(2),p("ngClass",r.color(e.change)),d(),k(" ",B(12,15,e.changeAbs,"1.2-2")," "),d(2),ne("bg-green-50",e.change>0)("bg-red-50",e.change<0),d(),k(" ",B(15,18,e.change/100,"1.2-2")," "),d(2),et(r.hoveredIndex===t?16:-1)}}var _7=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_,y,E,I,A,R){this.watchlistService=t,this.ws=r,this.toastr=o,this.userViewStateService=a,this.userDataStateService=s,this.dialog=u,this.tradingAccountService=m,this.alertService=_,this.router=y,this.route=E,this.overlay=I,this.document=A,this.basketCommunicationService=R,this.isInsideRouterOutlet=!1,this.searchTermChanged=new Y,this.searchTerm="",this.watchlist=[],this.instrumentTokens=[],this.errorMessage="",this.currentListIndex=0,this.hoveredIndex=null,this.chartSymbol=null,this.fetchedInstruments=[],this.isEditingName=!1,this.editWatchlistName="",this.isNameHovered=!1,this.dragStartIndex=null,this.dragOverIndex=null,this.reservedNames=["Holdings","Positions","Nifty Current Week Expiry","Nifty Next Week Expiry","Sensex Current Week Expiry","Sensex Next Week Expiry"],this.collapseChanged=new K,this.isWatchlistCollapsed=!0,this.faSearch=Lo,this.isMobileView=!1}ngOnInit(){this.isMobileView=globalThis.window?.innerWidth<=768||!1,this.route.data.subscribe(r=>{this.isInsideRouterOutlet=r.standaloneWatchlist||!1});let t=this.userViewStateService.getState();this.isWatchlistCollapsed=t.watchlist.isCollapsed||!1,this.collapseChanged.emit(this.isWatchlistCollapsed),this.currentListIndex=t.watchlist.activeWatchlist,this.searchTermChanged.pipe(ci(300),qi()).subscribe(r=>{this.searchInstruments(r)}),this.getCachedData(),this.fetchWatchlist(),this.informUserToOnboardTradingAccount()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&t.watchlist&&(this.watchlist=t.watchlist)}setCachedData(){this.userDataStateService.setState({watchlist:this.watchlist})}get currentList(){let t=[];return this.watchlist.length>0&&(t=this.watchlist[this.currentListIndex].watchlistInstruments),t}get isCurrentWatchlistReserved(){let t=this.getWatchListName();return this.reservedNames.includes(t)}openPlaceOrderDialog(t,r){let o={isBuyMode:t==="BUY"};this.dialog.open(Ko,{disableClose:!0,autoFocus:!0,hasBackdrop:!1,closeOnNavigation:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),data:{sourceData:o,instrument:P({},r)}})}switchList(t){this.ws.unsubscribe(this.instrumentTokens).subscribe({next:()=>{this.currentListIndex=t,this.subscribeToWebSocket(),this.chartSymbol=null,this.saveUserViewState()}})}trackById(t,r){return r.id}addToWatchlist(t){let r=this.watchlist[this.currentListIndex];if(this.searchTerm="",r.watchlistInstruments.find(a=>a.tradingSymbol===t.tradingSymbol&&a.exchange===t.exchange))this.toastr.warning("Instrument already exists in watchlist","Warning");else{let a={watchlistId:r.id,displayName:t.displayName,tradingSymbol:t.tradingSymbol,instrumentToken:t.instrumentToken,segment:t.segment,exchange:t.exchange};this.fetchedInstruments=[],this.saveWatchlistInstrument(r,a)}}deleteFromWatchlist(t){let r=this.watchlist[this.currentListIndex],o=r.watchlistInstruments.find(a=>a.tradingSymbol===t.tradingSymbol&&a.exchange===t.exchange);o?(r.watchlistInstruments=r.watchlistInstruments.filter(a=>!(a.tradingSymbol===t.tradingSymbol&&a.exchange===t.exchange)),this.deleteWatchlistInstrument(this.watchlist[this.currentListIndex],o.id)):this.toastr.warning("Instrument does not exists in watchlist","Warning")}fetchWatchlist(){this.watchlistService.getWatchlist().subscribe({next:t=>{this.watchlist=t.data,this.subscribeToWebSocket(),this.setCachedData()},error:t=>{t.error.message?this.toastr.error(t.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching watchlist. Verify that the backend service is operational.","Error"),console.error("Error while fetching watchlist:",t)}})}subscribeToWebSocket(){let t=this.watchlist[this.currentListIndex].watchlistInstruments;this.instrumentTokens=t.map(o=>o.instrumentToken);let r=50;this.instrumentTokens.length>0?(this.ws.connectionState().pipe(be(o=>o),We(1)).subscribe(()=>{for(let o=0;o<this.instrumentTokens.length;o+=r){let a=this.instrumentTokens.slice(o,o+r);this.ws.subscribe(a)}}),this.sub=this.ws.ticks().subscribe(o=>{this.updateWatchlistOnUpdate(o)})):console.log("No instrument tokens available for web socket subscription.")}unsubscribeToWebSocket(){if(this.instrumentTokens.length>0)for(let r=0;r<this.instrumentTokens.length;r+=50){let o=this.instrumentTokens.slice(r,r+50);this.ws.unsubscribe(o)}}handleAction(t){if(t.action==="delete")this.deleteFromWatchlist(t.row);else if(t.action==="chart"){let r=t.row.exchange,o=t.row.tradingSymbol;o=o==="NIFTY 50"?"NIFTY":o,globalThis.window?.open(F8(r,o),"_blank","noopener,noreferrer")}else t.action==="buy"?this.openPlaceOrderDialog("BUY",t.row):t.action==="sell"&&this.openPlaceOrderDialog("SELL",t.row)}addToBasketOrder(t){this.basketCommunicationService.emitAddToBasket(t)}updateWatchlistOnUpdate(t){t.forEach(r=>{this.watchlist[this.currentListIndex].watchlistInstruments.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s&&s.lastPrice!==r.lastTradedPrice&&(s.change=r.change,s.changeAbs=r.change*r.closePrice/100,s.lastPrice=r.lastTradedPrice,s.tradable=r.tradable)})})}saveWatchlistInstrument(t,r){console.log("saving watchlist for user"),this.watchlistService.saveWatchListInstrument(t.id,r).subscribe({next:o=>{this.watchlist=o.data,this.subscribeToWebSocket()},error:o=>{console.error("Error while saving watchlist:",o),this.toastr.error(o.error.message,"Error")}})}deleteWatchlistInstrument(t,r){console.log("deleting watchlist instrument for user"),this.watchlistService.deleteWatchListInstrument(t.id,r).subscribe({next:o=>{this.watchlist=o.data,this.subscribeToWebSocket()},error:o=>{console.error("Error while saving watchlist:",o),this.toastr.error(o.error.message,"Error")}})}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}onWatchlistNameMouseEnter(){this.isNameHovered=!0}onWatchlistNameMouseLeave(){this.isNameHovered=!1}onWatchlistNameClick(){if(this.isCurrentWatchlistReserved){this.toastr.warning("This watchlist name cannot be edited.","Warning");return}this.isEditingName=!0,this.editWatchlistName=this.getWatchListName(),setTimeout(()=>{let t=this.document.getElementById("edit-watchlist-name-input");t&&t.focus()})}onWatchlistNameBlur(){this.isEditingName=!1;let t=this.editWatchlistName.trim();t&&t!==this.getWatchListName()&&this.saveWatchlistName(t)}onWatchlistNameInputKeydown(t){t.key==="Enter"&&t.target.blur()}saveWatchlistName(t){let r=this.watchlist[this.currentListIndex];this.watchlistService.updateWatchlistName(r.id,t).subscribe({next:o=>{r.name=t,this.toastr.success("Watchlist name updated successfully","Success")},error:o=>{console.error("Error while saving watchlist name:",o),this.toastr.error(o.error.message,"Error")}})}onDragStart(t,r){this.dragStartIndex=r,t.dataTransfer?.setData("text/plain",r.toString()),t.dataTransfer.effectAllowed="move"}onDragOver(t,r){t.preventDefault(),this.dragOverIndex=r}onDrop(t,r){t.preventDefault();let o=this.dragStartIndex;if(o===null||o===r){this.dragStartIndex=null,this.dragOverIndex=null;return}let a=this.watchlist[this.currentListIndex].watchlistInstruments,[s]=a.splice(o,1);a.splice(r,0,s),this.dragStartIndex=null,this.dragOverIndex=null,this.persistWatchlistOrder()}onDragEnd(){this.dragStartIndex=null,this.dragOverIndex=null}persistWatchlistOrder(){let t=this.watchlist[this.currentListIndex],r=t.watchlistInstruments.map(o=>o.id);this.watchlistService.reorderWatchlistInstruments(t.id,r).subscribe({next:o=>{console.log("Watchlist order saved successfully")},error:o=>{console.error("Error while saving watchlist order:",o),this.toastr.error(o.error.message,"Error")}})}informUserToOnboardTradingAccount(){this.tradingAccountService.getTradingAccounts().subscribe({next:t=>{t.data.length===0&&this.alertService.info("Hi there!","You haven't onboarded any trading account yet. Click OK to go to the Manage Accounts screen and onboard your trading accounts.",()=>{this.router.navigate(["/profile"])})},error:t=>{t.error.message?this.toastr.error(t.error.message,"Error"):this.toastr.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error")}})}onSearchTermChange(t){let o=t.target?.value||"";this.searchTermChanged.next(o)}getWatchListName(){return this.watchlist.length>0?this.watchlist[this.currentListIndex].name:""}getWatchListCount(){return this.watchlist[this.currentListIndex]?.watchlistInstruments?this.watchlist[this.currentListIndex].watchlistInstruments.length:0}searchInstruments(t){this.watchlistService.searchInstruments(t.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastr.error(r.error.message,"Error")}})}saveUserViewState(){this.userViewStateService.setState({watchlist:{activeWatchlist:this.currentListIndex,isCollapsed:this.isWatchlistCollapsed}})}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}toggleCollapse(){this.isWatchlistCollapsed=!this.isWatchlistCollapsed,this.collapseChanged.emit(this.isWatchlistCollapsed),this.saveUserViewState()}get canCollapse(){return!this.isInsideRouterOutlet}expand(){this.router.navigate(["/watchlist"])}onResize(t){this.isMobileView=globalThis.window?.innerWidth<=768||!1}ngAfterViewInit(){}};i.\u0275fac=function(r){return new(r||i)(D(g3),D(Qn),D(xe),D(Ut),D(Dt),D(Zt),D(Hn),D(ni),D(gt),D(m1),D(b1),D(J),D(y7))},i.\u0275cmp=U({type:i,selectors:[["app-watchlist"]],hostBindings:function(r,o){r&1&&C("resize",function(s){return o.onResize(s)},A9)},outputs:{collapseChanged:"collapseChanged"},decls:25,vars:14,consts:[["editNameInput",""],["class","fixed top-16 mt-3 left-2 z-50",3,"noIconBackground","title","action","color","handleAction",4,"ngIf"],[1,"relative","overflow-hidden","transition-all","duration-300",3,"ngClass"],[1,"page-container"],[1,"bg-white","border","rounded-md","shadow-sm","flex","flex-col","min-h-[80vh]"],[1,"p-4","border-b","border-gray-200","space-y-2"],[1,"flex","flex-wrap","items-center","justify-between","gap-2"],[1,"flex","items-center","flex-wrap","gap-2"],[4,"ngIf","ngIfElse"],[1,"font-semibold","px-2","py-1","rounded","bg-blue-50","text-blue-500"],[1,"flex","items-center","gap-2"],["class","hover:scale-105 transition",3,"noIconBackground","title","action","color","handleAction",4,"ngIf"],[1,"watchlist-tabs-container"],["class","watchlist-tab cursor-pointer px-3 py-1.5 rounded-md transition text-center",3,"matTooltip","ngClass","click",4,"ngFor","ngForOf"],[1,"relative","mt-2"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400",3,"icon"],["type","text","placeholder","Search and add eg: infy, nifty fut, etc",1,"pl-10","pr-3","py-2","w-full","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["class","mt-2 bg-white border border-gray-300 rounded-md shadow-sm max-h-60 overflow-auto",4,"ngIf"],[1,"page-content","flex-1","divide-y","divide-gray-100"],["class","flex justify-between items-center px-4 py-2 hover:bg-gray-50 relative cursor-pointer","draggable","true",3,"mouseenter","mouseleave","dragstart","dragover","drop","dragend",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fixed","top-16","mt-3","left-2","z-50",3,"handleAction","noIconBackground","title","action","color"],[1,"text-gray-700","transition",3,"click","mouseenter","mouseleave","ngClass","matTooltip"],["class","text-xs text-blue-400",4,"ngIf"],[1,"text-xs","text-blue-400"],["id","edit-watchlist-name-input","type","text",1,"border-b","border-blue-400","outline-none","px-1","py-0.5","text-gray-700",3,"ngModelChange","blur","keydown","ngModel"],[1,"hover:scale-105","transition",3,"handleAction","noIconBackground","title","action","color"],[1,"watchlist-tab","cursor-pointer","px-3","py-1.5","rounded-md","transition","text-center",3,"click","matTooltip","ngClass"],[1,"mt-2","bg-white","border","border-gray-300","rounded-md","shadow-sm","max-h-60","overflow-auto"],["class","px-3 py-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-gray-700"],[1,"text-xs","text-gray-400"],["draggable","true",1,"flex","justify-between","items-center","px-4","py-2","hover:bg-gray-50","relative","cursor-pointer",3,"mouseenter","mouseleave","dragstart","dragover","drop","dragend"],[1,"text-sm","text-gray-400","uppercase"],[1,"text-right"],[1,"text-gray-700",3,"ngClass"],[1,"ml-1","text-sm","text-gray-700",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","flex","gap-1","z-10"],[1,"text-base",3,"title","instrumentToken","iconBackground"],[1,"text-base",3,"handleAction","title","action","color","row"],[1,"mr-2","w-8","h-8","bg-blue-500","text-white","rounded-md","flex","items-center","justify-center","hover:bg-blue-600","transition",3,"click","matTooltip"],[1,"w-8","h-8","bg-orange-500","text-white","rounded-md","flex","items-center","justify-center","hover:bg-orange-600","transition",3,"click","matTooltip"]],template:function(r,o){if(r&1){let a=V();x(0,Vte,1,4,"app-action-button",1),c(1,"div")(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),x(9,jte,4,8,"ng-container",8)(10,Hte,1,1,"ng-template",null,0,Yt),c(12,"span",9),f(13),l()(),c(14,"div",10),x(15,qte,1,4,"app-action-button",11)(16,$te,1,4,"app-action-button",11),l()(),c(17,"div",12),x(18,Wte,2,6,"div",13),l(),c(19,"div",14),M(20,"fa-icon",15),c(21,"input",16),Oe("ngModelChange",function(u){return w(a),Be(o.searchTerm,u)||(o.searchTerm=u),S(u)}),C("input",function(u){return w(a),S(o.onSearchTermChange(u))}),l()(),x(22,Yte,2,1,"div",17),l(),c(23,"div",18),x(24,Xte,17,21,"div",19),l()()()()()()}if(r&2){let a=At(11);p("ngIf",o.canCollapse&&o.isWatchlistCollapsed&&!o.isMobileView),d(2),p("@expandCollapse",o.canCollapse&&o.isWatchlistCollapsed?"collapsed":"expanded")("ngClass",(o.canCollapse,"text-sm")),d(7),p("ngIf",!o.isEditingName)("ngIfElse",a),d(4),k(" ",o.getWatchListCount()," "),d(2),p("ngIf",o.canCollapse),d(),p("ngIf",o.canCollapse),d(2),p("ngForOf",o.watchlist),d(2),p("icon",o.faSearch),d(),Pe("ngModel",o.searchTerm),d(),p("ngIf",o.fetchedInstruments.length>0&&o.searchTerm.length>0),d(2),p("ngForOf",o.currentList)("ngForTrackBy",o.trackById)}},dependencies:[oe,bt,it,rt,On,Q,$o,le,we,Fi,Xe,mt,Qt],styles:['.page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 175px);min-height:calc(100vh - var(--header-height, 80px) - 175px)}.watchlist[_ngcontent-%COMP%]{position:relative}.watchlist[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:4px;height:2px;width:0%;background-color:#007bff;transition:width .3s ease-in-out}.watchlist[_ngcontent-%COMP%]:hover:after, .watchlist.active-tab[_ngcontent-%COMP%]:after{width:100%}.watchlist.active-tab[_ngcontent-%COMP%]{background-color:#eef6ff;color:#007bff}.watchlist-tabs-container[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin-top:.5rem;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.watchlist-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.watchlist-tabs-container[_ngcontent-%COMP%]{scrollbar-color:#cbd5e1 transparent;scrollbar-width:thin}.watchlist-tab[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;white-space:nowrap;box-sizing:border-box}'],data:{animation:[In,gD]}});let n=i;return n})();function Zte(n,i){n&1&&(c(0,"div",1)(1,"p",2),f(2,"No SIPs to display"),l()())}function Jte(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("fund"))}}function ene(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("instalmentAmount"))}}function tne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("dayChangePercentage"))}}function nne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("lastInstalment"))}}function ine(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("nextInstalment"))}}function rne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("status"))}}function one(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("created"))}}function ane(n,i){if(n&1&&(He(0),c(1,"span",19),M(2,"fa-icon",35),f(3),N(4,"istDate"),l(),qe()),n&2){let e=g().$implicit,t=g(3);d(2),p("icon",t.faCheckCircle),d(),k(" ",B(4,2,e.mfSip.lastInstalment,"date-ordinal"))}}function sne(n,i){if(n&1&&(He(0),c(1,"span",19),f(2),N(3,"istDate"),l(),qe()),n&2){let e=g().$implicit;d(2),L(B(3,1,e.mfSip.lastInstalment,"date-ordinal"))}}function cne(n,i){if(n&1&&(He(0),c(1,"span",19),M(2,"fa-icon",36),f(3),N(4,"istDate"),l(),qe()),n&2){let e=g().$implicit,t=g(3);d(2),p("icon",t.faClock),d(),k(" ",B(4,2,e.mfSip.nextInstalment,"date-ordinal"))}}function lne(n,i){if(n&1&&(He(0),c(1,"span",19),f(2),N(3,"istDate"),l(),qe()),n&2){let e=g().$implicit;d(2),L(B(3,1,e.mfSip.nextInstalment,"date-ordinal"))}}function dne(n,i){if(n&1){let e=V();He(0),c(1,"tr",22)(2,"td",23)(3,"div",24)(4,"span",25),f(5),l(),M(6,"app-small-chip",26),l()(),c(7,"td",27)(8,"span",19),f(9),N(10,"currency"),l()(),c(11,"td",27)(12,"span",28),f(13),N(14,"number"),c(15,"span",29),f(16),N(17,"percent"),l()()(),c(18,"td",27)(19,"div",30),x(20,ane,5,5,"ng-container",21)(21,sne,4,4,"ng-container",21),l()(),c(22,"td",27)(23,"div",30),x(24,cne,5,5,"ng-container",21)(25,lne,4,4,"ng-container",21),l()(),c(26,"td",27),M(27,"app-small-chip",26),l(),c(28,"td",27)(29,"div",31)(30,"span",32),f(31),N(32,"istDate"),M(33,"app-small-chip",26),l()()(),c(34,"td",33)(35,"app-action-menu",34),C("handleAction",function(r){w(e);let o=g(3);return S(o.handleAction(r))}),l()()(),qe()}if(n&2){let e=i.$implicit,t=g(3);d(4),p("matTooltip",e.mfSip.fund),d(),k(" ",e.mfSip.fund," "),d(),p("text",e.mfSip.frequency)("color","gray"),d(3),L(Ee(10,23,e.mfSip.instalmentAmount,"INR","symbol","1.0-0")),d(3),p("ngClass",t.color(e.dayChangePercentage)),d(),k(" ",B(14,28,e.lastPrice,"1.2-2")," "),d(2),ne("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),d(),k(" ",B(17,31,e.dayChangePercentage/100,"1.2-2")," "),d(4),p("ngIf",t.isSipCompletedInThisMonth(e.mfSip.lastInstalment)),d(),p("ngIf",!t.isSipCompletedInThisMonth(e.mfSip.lastInstalment)),d(3),p("ngIf",t.isUpcomingSipInThisMonth(e.mfSip.nextInstalment)),d(),p("ngIf",!t.isUpcomingSipInThisMonth(e.mfSip.nextInstalment)&&!t.isSipCompletedInThisMonth(e.mfSip.lastInstalment)),d(2),p("text",e.mfSip.status)("color",t.getStatusChipColor(e.mfSip.status)),d(4),k(" ",B(32,34,t.getOrderTimeStamp(e.mfSip.created),"date")," "),d(2),p("text",t.getSipCreatedSince(e.mfSip.created))("color","purple"),d(2),p("row",e)("actions",t.getActionButtons(e))}}function une(n,i){n&1&&(c(0,"tr")(1,"td",37),M(2,"div",38),l()())}function fne(n,i){if(n&1&&(He(0),c(1,"tr",15)(2,"td",16),M(3,"app-user-info-header",17),l(),c(4,"td",18)(5,"span",19),f(6),N(7,"currency"),l()(),M(8,"td",20),l(),x(9,dne,36,37,"ng-container",13)(10,une,3,0,"tr",21),qe()),n&2){let e=i.$implicit,t=i.last,r=g(2);d(3),p("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),d(3),L(Ee(7,9,e.totalSipAmount,"INR","symbol","1.0-0")),d(3),p("ngForOf",e.sips)("ngForTrackBy",r.trackBySequenceNumber),d(),p("ngIf",!t)}}function pne(n,i){if(n&1){let e=V();c(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("fund"))}),f(6," FUND "),x(7,Jte,2,1,"span",8),l()(),c(8,"th",9)(9,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("instalmentAmount"))}),f(10," AMOUNT "),x(11,ene,2,1,"span",8),l()(),c(12,"th",9)(13,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("dayChangePercentage"))}),f(14," NAV "),x(15,tne,2,1,"span",8),l()(),c(16,"th",9)(17,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("lastInstalment"))}),f(18," LAST INSTALMENT "),x(19,nne,2,1,"span",8),l()(),c(20,"th",9)(21,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("nextInstalment"))}),f(22," NEXT INSTALMENT "),x(23,ine,2,1,"span",8),l()(),c(24,"th",9)(25,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("status"))}),f(26," STATUS "),x(27,rne,2,1,"span",8),l()(),c(28,"th",9)(29,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("created"))}),f(30," CREATED "),x(31,one,2,1,"span",8),l()(),c(32,"th",11),f(33,"ACTIONS"),l()()(),c(34,"tbody",12),x(35,fne,11,14,"ng-container",13),l()()()}if(n&2){let e=g();d(7),p("ngIf",e.getSortIndicator("fund")),d(4),p("ngIf",e.getSortIndicator("instalmentAmount")),d(4),p("ngIf",e.getSortIndicator("dayChangePercentage")),d(4),p("ngIf",e.getSortIndicator("lastInstalment")),d(4),p("ngIf",e.getSortIndicator("nextInstalment")),d(4),p("ngIf",e.getSortIndicator("status")),d(4),p("ngIf",e.getSortIndicator("created")),d(4),p("ngForOf",e.sortedGroupedSips)("ngForTrackBy",e.trackByUser)}}var $k=(()=>{let i=class i{constructor(t){this.utilsService=t,this.groupedSips=[],this.actions=[],this.fallbackAvatarUrl="",this.handleClickAction=new K,this.sortColumn="nextInstalment",this.sortDirection="asc",this.sortAccessors={fund:r=>(r.mfSip?.fund??"").toString().toLowerCase(),instalmentAmount:r=>r.mfSip?.instalmentAmount??0,dayChangePercentage:r=>r.dayChangePercentage??0,lastInstalment:r=>new Date(r.mfSip?.lastInstalment??0).getTime(),nextInstalment:r=>new Date(r.mfSip?.nextInstalment??0).getTime(),status:r=>(r.mfSip?.status??"").toString().toLowerCase(),created:r=>r.mfSip?.created??0},this.faCheckCircle=LT,this.faClock=H0}get sortedGroupedSips(){return!this.sortColumn||!this.sortDirection?this.groupedSips:this.groupedSips.map(t=>ie(P({},t),{sips:[...t.sips??[]].sort((r,o)=>this.compareSips(r,o))}))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection=this.getDefaultDirection(t)}getDefaultDirection(t){return["nextInstalment","created","lastInstalment","instalmentAmount","lastInstalment"].includes(t)?"desc":"asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareSips(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}getStatusChipColor(t){return t==="ACTIVE"?"green":t==="PAUSED"||t==="CANCELLED"?"orange":"gray"}getOrderTimeStamp(t){return Number(t)}trackByUser(t,r){return r.userId}trackBySequenceNumber(t,r){return r.sequenceNumber}isUpcomingSipInThisMonth(t){let r=new Date,o=new Date(t);return r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&o>r}isSipCompletedInThisMonth(t){let r=new Date,o=new Date(t);return r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&o<r}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}getSipCreatedSince(t){return this.utilsService.getElapsedYMDString(t)}getActionButtons(t){let r=this.actions;return t.mfSip.status==="ACTIVE"?r=r.filter(o=>o.action!=="activate"):t.mfSip.status==="PAUSED"&&(r=r.filter(o=>o.action!=="pause")),r}handleAction(t){this.handleClickAction.emit(t)}};i.\u0275fac=function(r){return new(r||i)(D(zt))},i.\u0275cmp=U({type:i,selectors:[["app-mf-sip-table"]],inputs:{groupedSips:"groupedSips",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","1",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","py-2","text-right","font-medium","whitespace-nowrap"],[1,""],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left","uppercase",3,"matTooltip"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"flex","flex-col","gap-1"],[1,"flex","flex-col","items-end","gap-1"],[1,"text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],["matTooltip","Completed for this month",1,"text-green-500",3,"icon"],["matTooltip","Pending for this month",1,"text-orange-500",3,"icon"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,Zte,3,0,"div",1)(2,pne,36,9,"div"),l()),r&2&&(d(),et(!o.groupedSips||o.groupedSips.length===0?1:2))},dependencies:[oe,xt,Q,le,we,w1,Xe,ei,nn,bn,mt,Qt],encapsulation:2});let n=i;return n})();function mne(n,i){if(n&1&&(c(0,"div",3)(1,"span",4),f(2,"Total SIP Amount"),l(),c(3,"span",5),f(4),N(5,"currency"),l()()),n&2){let e=g();d(4),k(" ",Ee(5,1,e.totalSipAmount,"INR","symbol","1.0-0")," ")}}function hne(n,i){if(n&1&&(c(0,"div",3)(1,"span",4),f(2,"Till Date"),l(),c(3,"span",5),f(4),N(5,"currency"),l()()),n&2){let e=g();d(4),k(" ",Ee(5,1,e.contributionThisMonth,"INR","symbol","1.0-0")," ")}}function gne(n,i){if(n&1&&(c(0,"div",3)(1,"span",4),f(2,"Upcoming SIPs"),l(),c(3,"span",5),f(4),N(5,"number"),l()()),n&2){let e=g();d(4),k(" ",B(5,1,e.upcomingSips,"1.0-0")," ")}}function vne(n,i){if(n&1&&(c(0,"div",3)(1,"span",4),f(2,"Active SIPs"),l(),c(3,"span",6),f(4),N(5,"number"),l()()),n&2){let e=g();d(4),k(" ",B(5,1,e.activeSips,"1.0-0")," ")}}function yne(n,i){if(n&1&&(c(0,"div",7)(1,"span",4),f(2,"Paused SIPs"),l(),c(3,"span",8),f(4),N(5,"number"),l()()),n&2){let e=g();d(4),k(" ",B(5,1,e.pausedSips,"1.0-0")," ")}}var Wk=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-sip-summary"]],inputs:{totalSipAmount:"totalSipAmount",contributionThisMonth:"contributionThisMonth",upcomingSips:"upcomingSips",activeSips:"activeSips",pausedSips:"pausedSips"},decls:6,vars:5,consts:[[1,"grid","grid-cols-2","sm:grid-cols-5","md:grid-cols-5","lg:grid-cols-5","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],["class","hidden sm:flex bg-white p-2 border rounded-md shadow-sm flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-600","mt-1"],[1,"text-base","font-medium","text-green-600","mt-1"],[1,"hidden","sm:flex","bg-white","p-2","border","rounded-md","shadow-sm","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-base","font-medium","text-orange-600","mt-1"]],template:function(r,o){r&1&&(c(0,"div",0),x(1,mne,6,6,"div",1)(2,hne,6,6,"div",1)(3,gne,6,4,"div",1)(4,vne,6,4,"div",1)(5,yne,6,4,"div",2),l()),r&2&&(d(),p("ngIf",o.totalSipAmount!==void 0),d(),p("ngIf",o.contributionThisMonth!==void 0),d(),p("ngIf",o.upcomingSips!==void 0),d(),p("ngIf",o.activeSips!==void 0),d(),p("ngIf",o.pausedSips!==void 0))},dependencies:[Q,bn,mt],encapsulation:2});let n=i;return n})();function _ne(n,i){n&1&&(c(0,"div",1)(1,"p",2),f(2,"No orders to display"),l()())}function bne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("fund"))}}function xne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("amount"))}}function Cne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("quantity"))}}function wne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("price"))}}function Sne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("nav"))}}function Mne(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("status"))}}function Ene(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("timestamp"))}}function Tne(n,i){if(n&1){let e=V();He(0),c(1,"tr",22)(2,"td",23)(3,"div",24),M(4,"app-small-chip",25),c(5,"span",26),f(6),l(),M(7,"app-small-chip",25),l()(),c(8,"td",27)(9,"span"),f(10),N(11,"currency"),l()(),c(12,"td",27)(13,"span"),f(14),N(15,"number"),l()(),c(16,"td",27)(17,"span"),f(18),N(19,"number"),l()(),c(20,"td",27)(21,"span",28),f(22),N(23,"number"),c(24,"span",29),f(25),N(26,"percent"),l()()(),c(27,"td",27)(28,"div",24),M(29,"app-small-chip",30),l()(),c(30,"td",27),f(31),N(32,"istDate"),l(),c(33,"td",27)(34,"app-action-menu",31),C("handleAction",function(r){w(e);let o=g(4);return S(o.handleAction(r))}),l()()(),qe()}if(n&2){let e=i.$implicit,t=g(4);d(4),p("text",e.mfOrder.transactionType)("color",t.getTransactionTypeChipColor(e.mfOrder.transactionType)),d(),p("matTooltip",e.mfOrder.fund),d(),k(" ",e.mfOrder.fund," "),d(),p("text",t.getVariety(e.mfOrder.variety))("color","purple"),d(3),L(Ee(11,22,e.mfOrder.amount,"INR","symbol","1.0-0")),d(4),L(B(15,27,e.mfOrder.quantity,"1.2-2")),d(4),L(B(19,30,e.mfOrder.averagePrice,"1.2-2")),d(3),p("ngClass",t.color(e.dayChangePercentage)),d(),k(" ",B(23,33,e.lastPrice,"1.2-2")," "),d(2),ne("bg-green-50",e.dayChangePercentage>0)("bg-red-50",e.dayChangePercentage<0),d(),k(" ",B(26,36,e.dayChangePercentage/100,"1.2-2")," "),d(4),p("matTooltip",e.mfOrder.statusMessage)("text",e.mfOrder.status)("color",t.getStatusChipColor(e.mfOrder.status)),d(2),k(" ",B(32,39,t.getOrderTimeStamp(e.mfOrder.orderTimestamp),"datetime-ordinal")," "),d(3),p("row",e)("actions",t.getActionButtons(e))}}function Ine(n,i){n&1&&(c(0,"tr")(1,"td",32),M(2,"div",33),l()())}function Dne(n,i){if(n&1&&(He(0),c(1,"tr",16)(2,"td",17),M(3,"app-user-info-header",18),l(),c(4,"td",19)(5,"span",20),f(6),N(7,"currency"),l()(),M(8,"td",21),l(),x(9,Tne,35,42,"ng-container",15)(10,Ine,3,0,"tr",13),qe()),n&2){let e=i.$implicit,t=i.last,r=g(3);d(3),p("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),d(3),L(Ee(7,9,e.totalBuyAmount-e.totalSellAmount,"INR","symbol","1.0-0")),d(3),p("ngForOf",e.orders)("ngForTrackBy",r.trackBySequenceNumber),d(),p("ngIf",!t)}}function zne(n,i){if(n&1&&(He(0),x(1,Dne,11,14,"ng-container",15),qe()),n&2){let e=g(2);d(),p("ngForOf",e.sortedGroupedRows)("ngForTrackBy",e.trackByUser)}}function Lne(n,i){if(n&1){let e=V();c(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("fund"))}),f(6," FUND "),x(7,bne,2,1,"span",8),l()(),c(8,"th",9)(9,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("amount"))}),f(10," AMOUNT "),x(11,xne,2,1,"span",8),l()(),c(12,"th",9)(13,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("quantity"))}),f(14," QTY "),x(15,Cne,2,1,"span",8),l()(),c(16,"th",9)(17,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("price"))}),f(18," AVG PRICE "),x(19,wne,2,1,"span",8),l()(),c(20,"th",9)(21,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("nav"))}),f(22," NAV "),x(23,Sne,2,1,"span",8),l()(),c(24,"th",9)(25,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("status"))}),f(26," STATUS "),x(27,Mne,2,1,"span",8),l()(),c(28,"th",9)(29,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("timestamp"))}),f(30," TIME "),x(31,Ene,2,1,"span",8),l()(),c(32,"th",11),f(33,"ACTIONS"),l()()(),c(34,"tbody",12),x(35,zne,2,2,"ng-container",13),l()()()}if(n&2){let e=g();d(7),p("ngIf",e.getSortIndicator("fund")),d(4),p("ngIf",e.getSortIndicator("amount")),d(4),p("ngIf",e.getSortIndicator("quantity")),d(4),p("ngIf",e.getSortIndicator("price")),d(4),p("ngIf",e.getSortIndicator("nav")),d(4),p("ngIf",e.getSortIndicator("status")),d(4),p("ngIf",e.getSortIndicator("timestamp")),d(4),p("ngIf",e.groupedRows&&e.groupedRows.length>0)}}var Gk=(()=>{let i=class i{constructor(){this.groupedRows=[],this.handleClickAction=new K,this.actions=[],this.fallbackAvatarUrl="",this.mfPendingStatus=["PROCESSING","OPEN"],this.sortColumn="timestamp",this.sortDirection="desc",this.sortAccessors={fund:t=>(t.mfOrder?.fund??"").toString().toLowerCase(),amount:t=>t.mfOrder?.amount??0,quantity:t=>t.mfOrder?.quantity??0,price:t=>t.mfOrder?.averagePrice??0,nav:t=>t.lastPrice??0,status:t=>(t.mfOrder?.status??"").toString().toLowerCase(),timestamp:t=>t.mfOrder?.orderTimestamp??0},this.faClock=H0}get sortedGroupedRows(){return!this.sortColumn||!this.sortDirection?this.groupedRows:this.groupedRows.map(t=>ie(P({},t),{orders:[...t.orders??[]].sort((r,o)=>this.compareOrders(r,o))}))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection=this.getDefaultDirection(t)}getDefaultDirection(t){return["timestamp","nav","amount"].includes(t)?"desc":"asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareOrders(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}getActionButtons(t){return this.actions}getStatusChipColor(t){return this.mfPendingStatus.indexOf(t)>-1?"blue":t==="COMPLETE"?"green":t==="FAILED"||t==="REJECTED"?"red":"gray"}getOrderTimeStamp(t){return Number(t)}getTransactionTypeChipColor(t){switch(t){case"BUY":return"blue";case"SELL":return"red";default:return"gray"}}trackBySequenceNumber(t,r){return r.sequenceNumber}trackByUser(t,r){return r.userId}handleAction(t){this.handleClickAction.emit(t)}getVariety(t){return t==="regular"?"ONE TIME":t}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-mf-order-table"]],inputs:{groupedRows:"groupedRows",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngIf"],[1,"text-[10px]"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-b","border-gray-200","text-gray-700","text-sm"],["colspan","1",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[1,"px-2","md:px-4","py-2","text-right","font-medium","whitespace-nowrap"],[1,""],["colspan","6",1,"px-2","md:px-4","whitespace-nowrap"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[3,"text","color"],[1,"hover:text-blue-600","truncate","max-w-xs","bg-none","border-none","p-0","m-0","text-left","uppercase",3,"matTooltip"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]"],[1,"cursor-pointer",3,"matTooltip","text","color"],[3,"handleAction","row","actions"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-300"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,_ne,3,0,"div",1)(2,Lne,36,8,"div"),l()),r&2&&(d(),et(!o.groupedRows||o.groupedRows.length===0?1:2))},dependencies:[le,oe,xt,Q,w1,Xe,ei,mt,Qt,nn,bn],encapsulation:2});let n=i;return n})();function kne(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Total Buy Orders"),l(),c(3,"span",4),f(4),N(5,"number"),l()()),n&2){let e=g();d(4),k(" ",B(5,1,e.totalBuyOrders,"1.0-0")," ")}}function Ane(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Total Buy Amount"),l(),c(3,"span",4),f(4),N(5,"currency"),l()()),n&2){let e=g();d(4),k(" ",Ee(5,1,e.totalBuyAmount,"INR","symbol","1.0-0")," ")}}function Nne(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Total Sell Orders"),l(),c(3,"span",4),f(4),N(5,"number"),l()()),n&2){let e=g();d(4),k(" ",B(5,1,e.totalSellOrders,"1.0-0")," ")}}function Pne(n,i){if(n&1&&(c(0,"div",2)(1,"span",3),f(2,"Total Sell Amount"),l(),c(3,"span",4),f(4),N(5,"currency"),l()()),n&2){let e=g();d(4),k(" ",Ee(5,1,e.totalSellAmount,"INR","symbol","1.0-0")," ")}}var Yk=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-mf-order-summary"]],inputs:{totalBuyOrders:"totalBuyOrders",totalBuyAmount:"totalBuyAmount",totalSellOrders:"totalSellOrders",totalSellAmount:"totalSellAmount"},decls:5,vars:4,consts:[[1,"grid","grid-cols-2","sm:grid-cols-4","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","gap-2","sm:gap-4","mb-2","w-full"],["class","bg-white p-2 border rounded-md shadow-sm flex flex-col items-center justify-center text-center min-h-16",4,"ngIf"],[1,"bg-white","p-2","border","rounded-md","shadow-sm","flex","flex-col","items-center","justify-center","text-center","min-h-16"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-base","font-medium","text-gray-700","mt-1"]],template:function(r,o){r&1&&(c(0,"div",0),x(1,kne,6,4,"div",1)(2,Ane,6,6,"div",1)(3,Nne,6,4,"div",1)(4,Pne,6,6,"div",1),l()),r&2&&(d(),p("ngIf",o.totalBuyOrders!==void 0),d(),p("ngIf",o.totalBuyAmount!==void 0),d(),p("ngIf",o.totalSellOrders!==void 0),d(),p("ngIf",o.totalSellAmount!==void 0))},dependencies:[he,Q,mt,bn],encapsulation:2});let n=i;return n})();var b7=(()=>{let i=class i{constructor(t){this.api=t}getHoldings(){return this.api.get("/v1/mf/holdings")}getOrders(){return this.api.get("/v1/mf/orders")}getSips(){return this.api.get("/v1/mf/sips")}updateSip(t,r,o){return this.api.put(`/v1/mf/sips/${t}/${r}`,o)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var One=(n,i)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":i});function Rne(n,i){n&1&&M(0,"span",10)}function Fne(n,i){if(n&1){let e=V();c(0,"div",7),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.setActiveParentTab(r))}),f(1),c(2,"span",8),f(3),l(),x(4,Rne,1,0,"span",9),l()}if(n&2){let e=i.$implicit,t=g(2);ne("active-tab",e===t.activeParentTab)("text-gray-700",e!==t.activeParentTab),d(),k(" ",e," "),d(),p("ngClass",Ae(8,One,e===t.activeParentTab,e!==t.activeParentTab)),d(),k(" ",t.parentTabCounts[e]," "),d(),p("ngIf",e===t.activeParentTab)}}function Bne(n,i){if(n&1){let e=V();c(0,"div",22)(1,"app-mf-sip-table",23),C("handleClickAction",function(r){w(e);let o=g(3);return S(o.handleAction(r))}),l()()}if(n&2){let e=g(3);d(),p("groupedSips",e.groupedSips)("fallbackAvatarUrl",e.fallbackAvatarUrl)("actions",e.actions)}}function Vne(n,i){n&1&&(c(0,"div",22)(1,"app-note",24),f(2," You don\u2019t have any mutual fund sips at the moment. Check your filters or search criteria and request token status for the trading accounts. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function Une(n,i){if(n&1){let e=V();c(0,"div"),M(1,"app-sip-summary",11),c(2,"div",12)(3,"div",13)(4,"app-tool-bar",14),C("filtersChanged",function(r){w(e);let o=g(2);return S(o.applyMfSipFilters(r))})("toggleChart",function(){w(e);let r=g(2);return S(r.toggleChart())})("handleRefresh",function(r){w(e);let o=g(2);return S(o.handleRefreshForSips(r))}),l()(),c(5,"div",13),M(6,"fa-icon",15),l(),M(7,"div",16),c(8,"div",13)(9,"app-user-filter",17),C("selectAllUsers",function(){w(e);let r=g(2);return S(r.onAllUserSelection())})("selectUsers",function(r){w(e);let o=g(2);return S(o.onUserSelection(r))})("totalUsers",function(r){w(e);let o=g(2);return S(o.captureUsers(r))}),l()(),c(10,"div",13)(11,"app-search-input",18),C("inputChange",function(r){w(e);let o=g(2);return S(o.onSearch(r))}),l()()(),c(12,"div",19),M(13,"app-timeline-chart",20),l(),x(14,Bne,2,3,"div",21)(15,Vne,3,3,"ng-template",null,0,Yt),l()}if(n&2){let e=At(16),t=g(2);d(),p("totalSipAmount",t.totalSipAmount)("contributionThisMonth",t.contributionThisMonth)("upcomingSips",t.upcomingSips)("activeSips",t.activeSips)("pausedSips",t.pausedSips),d(3),p("isLoadingData",t.isLoadingData)("filterOptions",t.filterOptions)("filterSelection",t.filterSelection)("showChartButton",!0),d(2),p("icon",t.faInfoCircle),d(3),p("selectedUserIds",t.selectedUserIds),d(2),p("placeholder","Search SIPs by User ID or fund")("searchTerm",t.searchQuery),d(),p("@expandCollapse",t.showChart?"expanded":"collapsed"),d(),p("title","MF SIP Timeline")("xAxisLabels",t.dateLabels)("legendLabels",t.legendLabels)("series",t.series)("showDataZoom",!0),d(),p("ngIf",t.groupedSips.length>0)("ngIfElse",e)}}function jne(n,i){if(n&1){let e=V();c(0,"div",22)(1,"app-mf-order-table",27),C("handleClickAction",function(r){w(e);let o=g(3);return S(o.handleMfOrderAction(r))}),l()()}if(n&2){let e=g(3);d(),p("groupedRows",e.mfGroupedOrders)("actions",e.mfOrderActions)}}function Hne(n,i){n&1&&(c(0,"div",22)(1,"app-note",24),f(2," You don\u2019t have any mutual fund orders in this section. Check your filters or search criteria and request token status for the trading accounts. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function qne(n,i){if(n&1){let e=V();c(0,"div"),M(1,"app-mf-order-summary",25),c(2,"div",12)(3,"div",13)(4,"app-tool-bar",26),C("filtersChanged",function(r){w(e);let o=g(2);return S(o.applyMfOrderFilters(r))})("handleRefresh",function(r){w(e);let o=g(2);return S(o.handleRefreshForMfOrders(r))}),l()(),c(5,"div",13),M(6,"fa-icon",15),l(),M(7,"div",16),c(8,"div",13)(9,"app-user-filter",17),C("selectAllUsers",function(){w(e);let r=g(2);return S(r.onAllUserSelection())})("selectUsers",function(r){w(e);let o=g(2);return S(o.onUserSelection(r))})("totalUsers",function(r){w(e);let o=g(2);return S(o.captureUsers(r))}),l()(),c(10,"div",13)(11,"app-search-input",18),C("inputChange",function(r){w(e);let o=g(2);return S(o.onMutualFundsSearch(r))}),l()()(),x(12,jne,2,2,"div",21)(13,Hne,3,3,"ng-template",null,1,Yt),l()}if(n&2){let e=At(14),t=g(2);d(),p("totalBuyOrders",t.totalBuyOrders)("totalBuyAmount",t.totalBuyAmount)("totalSellOrders",t.totalSellOrders)("totalSellAmount",t.totalSellAmount),d(3),p("filterOptions",t.mfOrderFilterOptions)("filterSelection",t.mfOrderFilterSelection),d(2),p("icon",t.faInfoCircle),d(3),p("selectedUserIds",t.selectedUserIds),d(2),p("placeholder","Search mf orders by User ID or fund")("searchTerm",t.mfSearchQuery),d(),p("ngIf",t.mfGroupedOrders.length>0)("ngIfElse",e)}}function $ne(n,i){if(n&1&&(c(0,"div")(1,"div",4)(2,"div",5),x(3,Fne,5,11,"div",6),l()(),x(4,Une,17,21,"div",3)(5,qne,15,12,"div",3),l()),n&2){let e=g();d(3),p("ngForOf",e.parentTabs),d(),p("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[0]),d(),p("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[1])}}var Kk=(()=>{let i=class i{constructor(t,r,o,a,s,u,m){this.mfService=t,this.userViewStateService=r,this.userDataStateService=o,this.toastrService=a,this.utilsService=s,this.dialog=u,this.document=m,this.faInfoCircle=WT,this.users=[],this.sips=[],this.mfOrders=[],this.filteredSips=[],this.filteredMfOrders=[],this.groupedSips=[],this.mfGroupedOrders=[],this.historicalTimelineValues=[],this.errorMessage="",this.parentTabs=["SIPs","Orders"],this.activeParentTab="SIPs",this.parentTabCounts={SIPs:0,Orders:0},this.totalSipAmount=0,this.contributionThisMonth=0,this.upcomingSips=0,this.activeSips=0,this.pausedSips=0,this.selectedUserIds=[],this.searchQuery="",this.mfSearchQuery="",this.totalBuyOrders=0,this.totalBuyAmount=0,this.totalSellOrders=0,this.totalSellAmount=0,this.filterOptions=[{key:"mfSip.status",values:["ACTIVE","PAUSED"]}],this.mfOrderFilterOptions=[{key:"custom.dayRange",values:["This Week","This Month","Last Month"]},{key:"mfOrder.status",values:["PROCESSING","COMPLETE","REJECTED"]},{key:"mfOrder.variety",values:["SIP","REGULAR"]},{key:"mfOrder.purchaseType",values:["ADDITIONAL","FRESH"]},{key:"mfOrder.transactionType",values:["BUY","SELL"]}],this.isLoadingData=!1,this.showChart=!1,this.dateLabels=[],this.legendLabels=[],this.series=[],this.actions=[{action:"activate",color:"blue",label:"Activate SIP"},{action:"pause",color:"orange",label:"Pause SIP"},{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"SIP Details"}],this.filterSelection=[],this.mfPendingStatus=["PROCESSING","OPEN"],this.mfOrderFilterSelection=[],this.fallbackAvatarUrl=cn,this.mfOrderActions=[{action:"coinReport",color:"gray",label:"Coin Fund Report"},{action:"info",color:"gray",label:"MF Order Details"}]}ngOnInit(){let t=this.userViewStateService.getState();t&&Object.keys(t).length>0&&(this.activeParentTab=t.mfSips.selectedSectionType,this.selectedUserIds=t.mfSips.selectedUsersIds,this.searchQuery=t.mfSips.searchQuery,this.mfSearchQuery=t.mfSips.mfSearchQuery,t.mfSips.filterSelection?.length>0&&(this.filterSelection=t.mfSips.filterSelection),t.mfSips.mfOrderFilterSelection?.length>0&&(this.mfOrderFilterSelection=t.mfSips.mfOrderFilterSelection)),this.getCachedData(),this.fetchSips(),this.fetchMutualFundOrders(),this.fetchHistoricalTimelineValues()}getAvatarUrl(t){return this.utilsService.getAvatarUrl(this.users,t)}getUserName(t){return this.utilsService.getUserName(this.users,t)}getUserFullName(t){return this.utilsService.getUserFullName(this.users,t)}setActiveParentTab(t){this.activeParentTab=t,this.saveUserViewState()}onMutualFundsSearch(t){this.mfSearchQuery=t.toLowerCase(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&(t.users&&(this.users=t.users),t.sips&&(this.sips=t.sips,this.renderSips()),t.mfOrders&&(this.mfOrders=t.mfOrders,this.renderMfOrders()))}setCachedData(){this.userDataStateService.setState({sips:this.sips,mfOrders:this.mfOrders})}renderSips(){this.updateSipCount(),this.updateFilteredAndGroupedSips()}fetchSips(t){this.isLoadingData=!0,this.mfService.getSips().subscribe({next:r=>{this.sips=r.data,this.renderSips(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching sips. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,t&&t()}})}updateSipCount(){this.parentTabCounts.SIPs=this.sips.length}renderMfOrders(){this.updateMfOrderCount(),this.updateFilteredAndGroupedMutualFundOrders()}fetchMutualFundOrders(t){this.isLoadingData=!0,this.mfService.getOrders().subscribe({next:r=>{this.mfOrders=r.data,this.renderMfOrders(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching mutual fund orders. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{this.isLoadingData=!1,t&&t()}})}fetchHistoricalTimelineValues(t){this.utilsService.fetchHistoricalTimelineValues("sips").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{t&&t()}})}toggleChart(){this.showChart=!this.showChart}populateTimelineChartData(){let t=this.utilsService.populateSipsTimelineChartData(this.historicalTimelineValues,this.selectedUserIds);this.dateLabels=t.dateLabels,this.legendLabels=t.legendLabels,this.series=t.series}updateMfOrderCount(){let t=this.mfOrders.filter(o=>this.mfPendingStatus.indexOf(o.mfOrder.status)>-1).length,r=this.mfOrders.filter(o=>this.mfPendingStatus.indexOf(o.mfOrder.status)<0).length;this.parentTabCounts.Orders=t+r}calculateGroupSummary(t){let r=0,o=0,a=0,s=0,u=0,m=new Date,_=m.getMonth(),y=m.getFullYear();for(let E of t){let I=E?.mfSip;if(!I)continue;if(I.status==="PAUSED"){u+=1;continue}let A=I.instalmentAmount||0;r+=A;let R=new Date(I.lastInstalment);R.getMonth()===_&&R.getFullYear()===y&&R<m?o+=A:a+=1,I.status==="ACTIVE"&&(s+=1)}return{totalSipAmount:r,contributionThisMonth:o,upcomingSips:a,activeSips:s,pausedSips:u}}onUserSelection(t){this.selectedUserIds=t,this.updateFilteredAndGroupedSips(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState(),this.populateTimelineChartData()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedSips(),this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState(),this.populateTimelineChartData()}captureUsers(t){this.users=t}onSearch(t){this.searchQuery=t.toLowerCase(),this.updateFilteredAndGroupedSips(),this.saveUserViewState()}saveUserViewState(){this.userViewStateService.setState({mfSips:{selectedSectionType:this.activeParentTab,selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery,mfSearchQuery:this.mfSearchQuery,filterSelection:this.filterSelection,mfOrderFilterSelection:this.mfOrderFilterSelection}})}handleAction(t){t.action==="activate"||t.action==="pause"?this.updateSip(t.action,t.row):t.action==="info"?this.utilsService.showInfo(t.row,t.row.mfSip.fund):t.action==="coinReport"&&window.open(rc(t.row.mfSip.tradingsymbol),"_blank","noopener,noreferrer")}updateSip(t,r){let o={frequency:r.mfSip.frequency,day:r.mfSip.day,instalments:r.mfSip.instalments,amount:r.mfSip.amount,status:t==="activate"?"ACTIVE":"PAUSED",sipId:r.mfSip.sipId};this.mfService.updateSip(r.userId,r.mfSip.sipId,o).pipe(Qe(a=>Z({error:!0,id:r.mfSip.sipId,message:a?.error?.message||"Unknown error"}))).subscribe({next:a=>{"error"in a&&a.error?(console.error("\u274C SIP update failed:",a),this.toastrService.error(`Account ID: ${r.userId}. SIP update for ${a.id} failed: ${a.message}`,"Error")):(this.toastrService.success(`Account ID: ${r.userId}. SIP updated successfully. SIP ID: ${r.mfSip.sipId}`,"Success"),this.sips=a.data,this.updateFilteredAndGroupedSips())},error:a=>{console.error("Fatal error:",a),this.toastrService.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All updates processed")}})}calculateSummary(){let t=this.calculateGroupSummary(this.filteredSips);this.totalSipAmount=t.totalSipAmount,this.contributionThisMonth=t.contributionThisMonth,this.upcomingSips=t.upcomingSips,this.activeSips=t.activeSips,this.pausedSips=t.pausedSips}calculateMfOrderSummary(){let t=this.calculateMfOrderGroupSummary(this.filteredMfOrders);this.totalBuyOrders=t.totalBuyOrders,this.totalBuyAmount=t.totalBuyAmount,this.totalSellOrders=t.totalSellOrders,this.totalSellAmount=t.totalSellAmount}calculateMfOrderGroupSummary(t){let r=0,o=0,a=0,s=0;for(let u of t){let m=u?.mfOrder;m&&(m.status==="COMPLETE"||m.status==="OPEN"||m.status==="PROCESSING")&&(m.transactionType==="BUY"?(r+=1,o+=m.amount):m.transactionType==="SELL"&&(a+=1,s+=m.amount))}return{totalBuyOrders:r,totalBuyAmount:o,totalSellOrders:a,totalSellAmount:s}}updateFilteredAndGroupedSips(){let t=this.sips;this.selectedUserIds.length>0&&(t=t.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(t=t.filter(o=>o.mfSip.fund.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(t=this.utilsService.filter(this.filterSelection,t)),this.filteredSips=t;let r={};this.filteredSips.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedSips=Object.entries(r).map(([o,a])=>P({userId:o,sips:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)},this.calculateGroupSummary(a))),this.calculateSummary()}applyMfSipFilters(t){this.filterSelection=t,this.updateFilteredAndGroupedSips(),this.saveUserViewState()}updateFilteredAndGroupedMutualFundOrders(){let t=this.mfOrders;this.selectedUserIds.length>0&&(t=t.filter(o=>this.selectedUserIds.includes(o.userId))),this.mfSearchQuery&&(t=t.filter(o=>o.mfOrder.fund.toLowerCase().includes(this.mfSearchQuery)||o.userId.toLowerCase().includes(this.mfSearchQuery))),this.mfOrderFilterSelection.length>0&&(t=this.utilsService.filter(this.mfOrderFilterSelection,t),t=this.filterCustomDayRange(t)),this.filteredMfOrders=t;let r={};t.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.mfGroupedOrders=Object.entries(r).map(([o,a])=>P({userId:o,orders:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)},this.calculateMfOrderGroupSummary(a))),this.calculateMfOrderSummary()}filterCustomDayRange(t){let r=this.mfOrderFilterSelection.find(o=>o.key==="custom.dayRange"&&o.selected.length>0);if(r){let o=new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate()),s=new Date(a);s.setDate(s.getDate()-s.getDay()+1);let u=new Date(o.getFullYear(),o.getMonth(),1),m=new Date(o.getFullYear(),o.getMonth()-1,1),_=new Date(o.getFullYear(),o.getMonth(),0);t=t.filter(y=>{let E=new Date(y.mfOrder.orderTimestamp);return r.selected.some(I=>I==="This Week"?E>=s&&E<=o:I==="This Month"?E>=u&&E<=o:I==="Last Month"?E>=m&&E<=_:!0)})}return t}applyMfOrderFilters(t){this.mfOrderFilterSelection=t,this.updateFilteredAndGroupedMutualFundOrders(),this.saveUserViewState()}handleRefreshForSips(t){this.fetchSips(t)}handleRefreshForMfOrders(t){this.fetchMutualFundOrders(t)}ngAfterViewInit(){}handleMfOrderAction(t){t.action==="info"?this.utilsService.showInfo(t.row,t.row.mfOrder.fund):t.action==="coinReport"&&window.open(rc(t.row.mfOrder.tradingsymbol),"_blank","noopener,noreferrer")}};i.\u0275fac=function(r){return new(r||i)(D(b7),D(Ut),D(Dt),D(xe),D(zt),D(Zt),D(J))},i.\u0275cmp=U({type:i,selectors:[["app-mf-sips"]],decls:2,vars:1,consts:[["noData",""],["noMfOrderData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[3,"totalSipAmount","contributionThisMonth","upcomingSips","activeSips","pausedSips"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","toggleChart","handleRefresh","isLoadingData","filterOptions","filterSelection","showChartButton"],["matTooltip","The Mutual Fund order screen displays orders placed within the last 2 months. Verify filters or search criteria if expected orders are not visible.","matTooltipPosition","right",1,"text-blue-500","cursor-help",3,"icon"],[1,"flex-1"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","groupedSips","fallbackAvatarUrl","actions"],[3,"type","dismissible","atCenter"],[3,"totalBuyOrders","totalBuyAmount","totalSellOrders","totalSellAmount"],[3,"filtersChanged","handleRefresh","filterOptions","filterSelection"],[3,"handleClickAction","groupedRows","actions"]],template:function(r,o){r&1&&(c(0,"div",2),x(1,$ne,6,3,"div",3),l()),r&2&&(d(),p("ngIf",!o.errorMessage))},dependencies:[oe,Q,ki,qn,$k,Wk,Gk,Vi,le,Kn,Yk,h3,we,Xe],encapsulation:2,data:{animation:[In]}});let n=i;return n})();function Wne(n,i){n&1&&(c(0,"p",79),f(1,"Full name is required"),l())}function Gne(n,i){if(n&1&&(c(0,"div",77),x(1,Wne,2,0,"p",78),l()),n&2){let e,t=g(2);d(),p("ngIf",(e=t.signUpForm.get("fullName"))==null||e.errors==null?null:e.errors.required)}}function Yne(n,i){n&1&&(c(0,"p",79),f(1,"Email is required"),l())}function Qne(n,i){n&1&&(c(0,"p",79),f(1,"Please enter a valid email address"),l())}function Kne(n,i){if(n&1&&(c(0,"div",77),x(1,Yne,2,0,"p",78)(2,Qne,2,0,"p",78),l()),n&2){let e,t,r=g(2);d(),p("ngIf",(e=r.signUpForm.get("email"))==null||e.errors==null?null:e.errors.required),d(),p("ngIf",(t=r.signUpForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function Xne(n,i){n&1&&(c(0,"p",79),f(1,"Password is required"),l())}function Zne(n,i){if(n&1&&(c(0,"div",77),x(1,Xne,2,0,"p",78),l()),n&2){let e,t=g(2);d(),p("ngIf",(e=t.signUpForm.get("password"))==null||e.errors==null?null:e.errors.required)}}function Jne(n,i){if(n&1&&M(0,"fa-icon",80),n&2){let e=g(2);p("icon",e.faSpinner)}}function e1e(n,i){if(n&1){let e=V();c(0,"form",57),C("ngSubmit",function(){w(e);let r=g();return S(r.sendOtp())}),c(1,"div")(2,"label",58),f(3," Full Name "),c(4,"span",59),f(5,"*"),l()(),c(6,"div",41),M(7,"input",60),c(8,"div",61),Ke(),c(9,"svg",62),M(10,"path",63),l()()(),x(11,Gne,2,1,"div",64),l(),kt(),c(12,"div")(13,"label",65),f(14," Email Address "),c(15,"span",59),f(16,"*"),l()(),c(17,"div",41)(18,"input",66),C("input",function(r){w(e);let o=g();return S(o.toLowerCase(r))}),l(),c(19,"div",61),Ke(),c(20,"svg",62),M(21,"path",67),l()()(),x(22,Kne,3,2,"div",64),l(),kt(),c(23,"div")(24,"label",68),f(25," Password "),c(26,"span",59),f(27,"*"),l()(),c(28,"div",41),M(29,"input",69),c(30,"button",70),C("click",function(){w(e);let r=g();return S(r.showPassword=!r.showPassword)}),M(31,"fa-icon",71),l()(),x(32,Zne,2,1,"div",64),l(),c(33,"div",72)(34,"p"),f(35,"Password must be between 8 and 20 characters."),l()(),c(36,"div",73),f(37," By creating an account, you agree to our "),c(38,"a",74),f(39,"Terms of Service"),l(),f(40," and "),c(41,"a",74),f(42,"Privacy Policy"),l(),f(43,". "),l(),c(44,"button",75),x(45,Jne,1,1,"fa-icon",76),f(46),l()()}if(n&2){let e,t,r,o=g();p("formGroup",o.signUpForm),d(11),p("ngIf",((e=o.signUpForm.get("fullName"))==null?null:e.touched)&&((e=o.signUpForm.get("fullName"))==null?null:e.invalid)),d(11),p("ngIf",((t=o.signUpForm.get("email"))==null?null:t.touched)&&((t=o.signUpForm.get("email"))==null?null:t.invalid)),d(7),p("type",o.showPassword?"text":"password"),d(2),p("icon",o.showPassword?o.faEyeSlash:o.faEye),d(),p("ngIf",((r=o.signUpForm.get("password"))==null?null:r.touched)&&((r=o.signUpForm.get("password"))==null?null:r.invalid)),d(12),p("disabled",o.signUpForm.invalid||o.isSendingOtp),d(),p("ngIf",o.isSendingOtp),d(),k(" ",o.isSendingOtp?"Creating Account...":"Create Account & Send OTP"," ")}}function t1e(n,i){n&1&&(c(0,"p",79),f(1,"OTP is required"),l())}function n1e(n,i){if(n&1&&(c(0,"div",77),x(1,t1e,2,0,"p",78),l()),n&2){let e,t=g(2);d(),p("ngIf",(e=t.otpForm.get("otp"))==null||e.errors==null?null:e.errors.required)}}function i1e(n,i){if(n&1&&M(0,"fa-icon",80),n&2){let e=g(2);p("icon",e.faSpinner)}}function r1e(n,i){if(n&1){let e=V();c(0,"form",81),C("ngSubmit",function(){w(e);let r=g();return S(r.verifyOtp())}),c(1,"div",82)(2,"div",83),Ke(),c(3,"svg",84),M(4,"path",67),l()(),kt(),c(5,"p",85),f(6," Verification code sent to: "),l(),c(7,"p",86),f(8),l()(),c(9,"div")(10,"label",87),f(11," Enter 6-digit OTP "),c(12,"span",59),f(13,"*"),l()(),M(14,"input",88),x(15,n1e,2,1,"div",64),l(),c(16,"div",89)(17,"p"),f(18,"Didn't receive the code?"),l(),c(19,"div",90)(20,"button",91),C("click",function(){w(e);let r=g();return S(r.otpSent=!1)}),f(21," Change Email "),l()()(),c(22,"button",75),x(23,i1e,1,1,"fa-icon",76),f(24),l()()}if(n&2){let e,t=g();p("formGroup",t.otpForm),d(8),L(t.signUpForm.value.email),d(7),p("ngIf",((e=t.otpForm.get("otp"))==null?null:e.touched)&&((e=t.otpForm.get("otp"))==null?null:e.invalid)),d(7),p("disabled",t.otpForm.invalid||t.isVerifyingOtp),d(),p("ngIf",t.isVerifyingOtp),d(),k(" ",t.isVerifyingOtp?"Verifying...":"Verify & Complete Registration"," ")}}var Xk=(()=>{let i=class i{constructor(t,r,o,a){this.fb=t,this.authUserService=r,this.toastrService=o,this.router=a,this.otpSent=!1,this.isSendingOtp=!1,this.isVerifyingOtp=!1,this.faSpinner=X1,this.showPassword=!1,this.faEye=V2,this.faEyeSlash=Ao,localStorage.removeItem("trade-manage-app-token"),this.authUserService.resetLoggingOutFlag(),this.signUpForm=this.fb.group({fullName:["",pe.required],password:["",pe.required],email:["",[pe.required,pe.email]]}),this.otpForm=this.fb.group({otp:["",pe.required]})}sendOtp(){if(console.log("sendOtp() called"),this.isSendingOtp=!0,this.signUpForm.invalid){this.signUpForm.markAllAsTouched(),this.isSendingOtp=!1,console.log("Form is invalid, stopping submission");return}let t=this.signUpForm.value;console.log("Signup request:",t),console.log("Calling authUserService.sendSignupOtp()..."),this.authUserService.sendSignupOtp(t).subscribe({next:r=>{console.log("OTP sent successfully:",r),this.isSendingOtp=!1,this.toastrService.success("An OTP has been sent to your email address. Please check your inbox and spam folder.","Success"),this.otpSent=!0},error:r=>{console.error("Error sending OTP:",r),this.isSendingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while sending OTP. Verify that the backend service is operational.","Error")}})}verifyOtp(){if(this.isVerifyingOtp=!0,this.otpForm.invalid){this.otpForm.markAllAsTouched(),this.isVerifyingOtp=!1;return}let t=ie(P({},this.signUpForm.value),{otp:this.otpForm.value.otp});this.authUserService.signup(t).subscribe({next:r=>{this.isVerifyingOtp=!1,this.router.navigate(["/login"]),this.toastrService.success("Account created! You can now log in.","Success")},error:r=>{this.isVerifyingOtp=!1,r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while registering user. Verify that the backend service is operational.","Error")}})}toLowerCase(t){let r=t.target;r.value=r.value.toLowerCase(),this.signUpForm.get("email")?.setValue(r.value,{emitEvent:!1})}};i.\u0275fac=function(r){return new(r||i)(D(v1),D(Yn),D(xe),D(gt))},i.\u0275cmp=U({type:i,selectors:[["app-signup"]],decls:107,vars:13,consts:[[1,"min-h-screen","bg-gradient-to-br","from-green-50","via-white","to-emerald-50"],[1,"flex","flex-col","lg:flex-row","min-h-screen"],[1,"lg:w-1/2","bg-gradient-to-br","from-emerald-600","via-green-700","to-teal-800","text-white","flex","flex-col","justify-center","p-8","lg:p-16"],[1,"max-w-md","mx-auto","lg:mx-0"],[1,"flex","items-center","mb-6"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","height","48","width","48",1,"w-12","h-10","rounded-lg","mr-3","shadow-lg","mb-4"],[1,"text-3xl","font-bold"],[1,"text-4xl","lg:text-5xl","font-bold","mb-6","leading-tight"],[1,"text-green-200"],[1,"text-xl","text-green-100","mb-8","leading-relaxed"],[1,"space-y-4"],[1,"flex","items-center"],[1,"w-8","h-8","bg-green-500","rounded-full","flex","items-center","justify-center","mr-4"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["fill-rule","evenodd","d","M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],[1,"text-green-100"],["fill-rule","evenodd","d","M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z","clip-rule","evenodd"],["fill-rule","evenodd","d","M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"mt-12","p-6","bg-green-500/20","rounded-lg","border","border-green-400/30"],[1,"flex","items-start","space-x-4"],[1,"w-12","h-12","bg-green-400","rounded-full","flex","items-center","justify-center","text-green-800","font-bold","text-lg"],[1,"text-green-100","italic","mb-2"],[1,"text-green-200","text-sm"],[1,"grid","grid-cols-2","gap-6","mt-8","pt-8","border-t","border-green-500"],[1,"text-center"],[1,"text-3xl","font-bold","text-green-200"],[1,"text-sm","text-green-300"],[1,"lg:w-1/2","flex","items-center","justify-center","p-8","lg:p-16"],[1,"w-full","max-w-md"],[1,"mb-8"],[1,"flex","items-center","justify-center","space-x-4"],[1,"w-8","h-8","bg-green-600","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"ml-2","text-sm","font-medium"],[1,"w-8","border-t-2"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","space-y-4",3,"formGroup","ngSubmit",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mt-8","mb-6"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-4","bg-white","text-gray-500"],["routerLink","/login",1,"w-full","bg-white","border-2","border-green-600","text-green-600","py-3","px-4","rounded-lg","font-medium","hover:bg-green-50","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]"],[1,"mt-6","text-center"],[1,"text-xs","text-gray-500"],["href","mailto:support@famvest.com",1,"text-green-600","hover:text-green-500","underline"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"flex","items-center","justify-center","space-x-6","text-xs","text-gray-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-green-500"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-blue-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","text-purple-500"],["fill-rule","evenodd","d","M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z","clip-rule","evenodd"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","fullName",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["formControlName","fullName","type","text","id","fullName","name","fullName","placeholder","Enter your full name","required","","autocomplete","name",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["class","mt-2",4,"ngIf"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","email","type","text","id","email","name","email","placeholder","Enter your email address","required","","autocomplete","email",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all",3,"input"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","password","id","password","required","","placeholder","Create a strong password","autocomplete","new-password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all","pr-12",3,"type"],["type","button","tabindex","-1",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[1,"h-5","w-5",3,"icon"],[1,"text-xs","text-gray-500","space-y-1"],[1,"text-sm","text-gray-600","bg-gray-50","p-4","rounded-lg"],["href","#",1,"text-green-600","hover:text-green-500","underline"],["type","submit",1,"w-full","bg-gradient-to-r","from-green-600","to-green-700","text-white","py-3","px-4","rounded-lg","font-medium","hover:from-green-700","hover:to-green-800","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]","flex","items-center","justify-center","gap-2",3,"disabled"],["class","fa-spin",3,"icon",4,"ngIf"],[1,"mt-2"],["class","text-red-500 text-sm",4,"ngIf"],[1,"text-red-500","text-sm"],[1,"fa-spin",3,"icon"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"text-center","p-4","bg-green-50","rounded-lg","border","border-green-200"],[1,"flex","items-center","justify-center","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],[1,"text-sm","text-gray-700"],[1,"text-green-700","font-semibold"],["for","otp",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","otp","name","otp","formControlName","otp","placeholder","000000","required","","maxlength","6","autocomplete","one-time-code",1,"w-full","px-4","py-3","tracking-widest","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-green-500","focus:border-transparent","transition-all"],[1,"text-center","text-sm","text-gray-500"],[1,"flex","items-center","justify-center","space-x-4","mt-2"],["type","button",1,"text-green-600","hover:text-green-500","underline",3,"click"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),M(5,"img",5),c(6,"h1",6),f(7,"FamVest"),l()(),c(8,"h2",7),f(9," Start Your"),M(10,"br"),c(11,"span",8),f(12,"Investment Journey"),l()(),c(13,"p",9),f(14," Join thousands of families who trust FamVest to manage their financial future. Get started with your free account today. "),l(),c(15,"div",10)(16,"div",11)(17,"div",12),Ke(),c(18,"svg",13),M(19,"path",14),l()(),kt(),c(20,"span",15),f(21,"Free Account Setup"),l()(),c(22,"div",11)(23,"div",12),Ke(),c(24,"svg",13),M(25,"path",16),l()(),kt(),c(26,"span",15),f(27,"Real-time Portfolio Tracking"),l()(),c(28,"div",11)(29,"div",12),Ke(),c(30,"svg",13),M(31,"path",17),l()(),kt(),c(32,"span",15),f(33,"Encrypted Storage & Data Isolation"),l()()(),c(34,"div",18)(35,"div",19)(36,"div",20),f(37," R "),l(),c(38,"div")(39,"p",21),f(40,` "FamVest helped us organize our family's investments and track our progress towards financial goals. Highly recommended!" `),l(),c(41,"div",22)(42,"strong"),f(43,"Rajesh Kumar"),l(),f(44," \u2022 Family Investor "),l()()()(),c(45,"div",23)(46,"div",24)(47,"div",25),f(48,"2 Min"),l(),c(49,"div",26),f(50,"Quick Setup"),l()(),c(51,"div",24)(52,"div",25),f(53,"Free"),l(),c(54,"div",26),f(55,"Always Free Plan"),l()()()()(),c(56,"div",27)(57,"div",28)(58,"div",29)(59,"div",30)(60,"div",11)(61,"div",31),f(62," 1 "),l(),c(63,"span",32),f(64," Account Details "),l()(),M(65,"div",33),c(66,"div",11)(67,"div",34),f(68," 2 "),l(),c(69,"span",32),f(70," Verify Email "),l()()()(),c(71,"div",35)(72,"h2",36),f(73,"Create Your Account"),l(),c(74,"p",37),f(75),l()(),x(76,e1e,47,9,"form",38)(77,r1e,25,6,"form",39),c(78,"div",40)(79,"div",41)(80,"div",42),M(81,"div",43),l(),c(82,"div",44)(83,"span",45),f(84,"Already have an account?"),l()()()(),c(85,"div",24)(86,"button",46),f(87," Sign In to Existing Account "),l()(),c(88,"div",47)(89,"p",48),f(90," Need help? Contact us at "),c(91,"a",49),f(92," famvest@hotmail.com "),l()(),c(93,"div",50)(94,"div",51)(95,"div",11),Ke(),c(96,"svg",52),M(97,"path",53),l(),f(98," SSL Secured "),l(),kt(),c(99,"div",11),Ke(),c(100,"svg",54),M(101,"path",17),l(),f(102," Encrypted Storage "),l(),kt(),c(103,"div",11),Ke(),c(104,"svg",55),M(105,"path",56),l(),f(106," Data Isolation "),l()()()()()()()()),r&2&&(d(61),Bt(o.otpSent?"bg-green-100 text-green-600":"bg-green-600 text-white"),d(2),Bt(o.otpSent?"text-gray-500":"text-green-600"),d(2),Bt(o.otpSent?"border-green-600":"border-gray-300"),d(2),Bt(o.otpSent?"bg-green-600 text-white":"bg-gray-300 text-gray-500"),d(2),Bt(o.otpSent?"text-green-600":"text-gray-500"),d(6),k(" ",o.otpSent?"We've sent a verification code to your email":"Join FamVest and start managing your investments"," "),d(),p("ngIf",!o.otpSent),d(),p("ngIf",o.otpSent))},dependencies:[ln,g1,it,rt,h1,O1,qa,n1,i1,Q,p1,we,Y1],encapsulation:2});let n=i;return n})();var S1={home:"Home | FamVest App",watchlist:"Watchlist | FamVest App",holdings:"Holdings | FamVest App",positions:"Positions | FamVest App",orders:"Orders | FamVest App",basketOrder:"Basket Order | FamVest App",funds:"Funds | FamVest App",mf:"Mutual Funds | FamVest App",algo:"Algo | FamVest App",historicalData:"Historical Data | FamVest App",administration:"Administration | FamVest App",scheduledTasks:"Scheduled Tasks | FamVest App",applicationUsers:"Application Users | FamVest App",ipos:"IPOs | FamVest App",myProfile:"My Profile | FamVest App",login:"Login | FamVest App",signup:"Signup | FamVest App",settings:"Settings | FamVest App",notFound:"404 | Page Not Found"};var v3=(()=>{let i=class i{constructor(t){this.api=t}getStraddles(){return this.api.get("/v1/algo/straddles")}getStraddleExecutions(){return this.api.get("/v1/algo/straddles/executions")}getStraddleExecutionsByStraddleId(t){return this.api.get(`/v1/algo/straddles/executions/${t}`)}getStraddleExecutionPnlForToday(){return this.api.get("/v1/algo/straddles/executions/pnl")}updateStraddleStatus(t,r){return this.api.patch(`/v1/algo/straddles/${t}/status`,r)}executeStraddle(t){return this.api.post(`/v1/algo/straddles/${t}/execute`)}saveStraddleStrategy(t){return this.api.post("/v1/algo/straddles",t)}updateStraddleStrategy(t,r){return this.api.put(`/v1/algo/straddles/${t}`,r)}deleteStraddleStrategy(t){return this.api.delete(`/v1/algo/straddles/${t}`)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function o1e(n,i){if(n&1&&(c(0,"option",54),f(1),l()),n&2){let e=i.$implicit;p("value",e.userId),d(),Mn(" ",e.name," - ",e.userId," ")}}function a1e(n,i){n&1&&(c(0,"p",55),f(1,"Trading Account is required."),l())}function s1e(n,i){n&1&&(c(0,"p",55),f(1,"Side is required."),l())}function c1e(n,i){n&1&&(c(0,"p",55),f(1,"Instrument is required."),l())}function l1e(n,i){n&1&&(c(0,"p",55),f(1,"Underlying Strike Selector is required."),l())}function d1e(n,i){n&1&&(c(0,"p",55),f(1,"Underlying Segment is required."),l())}function u1e(n,i){n&1&&(c(0,"p",55),f(1,"Exchange is required."),l())}function f1e(n,i){n&1&&(c(0,"p",55),f(1,"Trading Segment is required."),l())}function p1e(n,i){n&1&&(c(0,"p",55),f(1,"Index is required."),l())}function m1e(n,i){n&1&&(c(0,"p",55),f(1,"Strike Step is required."),l())}function h1e(n,i){n&1&&(c(0,"p",55),f(1,"Lots are required."),l())}function g1e(n,i){n&1&&(c(0,"p",55),f(1,"Entry Time is required."),l())}function v1e(n,i){n&1&&(c(0,"p",55),f(1,"Exit Time is required."),l())}function y1e(n,i){n&1&&(c(0,"p",55),f(1,"Stop Loss is required."),l())}function _1e(n,i){n&1&&(c(0,"p",55),f(1,"Target Loss is required."),l())}function b1e(n,i){n&1&&(c(0,"p",55),f(1,"Expiry Scope is required."),l())}function x1e(n,i){n&1&&(c(0,"p",55),f(1,"Order Type is required."),l())}function C1e(n,i){n&1&&(c(0,"p",55),f(1,"Trade Type is required."),l())}function w1e(n,i){n&1&&(c(0,"p",55),f(1,"Trade Type is required."),l())}var Zk=(()=>{let i=class i{constructor(t,r,o,a,s,u,m){this.fb=t,this.toastrService=r,this.dialogRef=o,this.algoService=a,this.userService=s,this.utilService=u,this.data=m,this.isEditMode=!1,this.users=[],this.id=0,m&&(this.isEditMode=!0),this.id=m?.id,this.straddleForm=this.fb.group({userId:[m?.userId||"",pe.required],side:[m?.side||"SHORT",pe.required],instrument:[{value:m?.instrument||"",disabled:this.isEditMode},pe.required],underlyingStrikeSelector:[m?.underlyingStrikeSelector||"INDEX",pe.required],underlyingSegment:[m?.underlyingSegment||"",pe.required],exchange:[m?.exchange||"",pe.required],tradingSegment:[m?.tradingSegment||"",pe.required],index:[m?.index||"",pe.required],strikeStep:[m?.strikeStep||"50",pe.required],lots:[m?.lots||1,pe.required],orderType:[m?.marketOrder===!1?"LIMIT":"MARKET",pe.required],entryTime:[this.utilService.convertUtcTimeToLocal(m?.entryTime)||"09:30:00",pe.required],exitTime:[this.utilService.convertUtcTimeToLocal(m?.exitTime)||"15:15:00",pe.required],tradeType:[m?.paperTrade===!1?"LIVE":"PAPER",pe.required],stopLoss:[m?.stopLoss||"",pe.required],trailingSl:[m?.trailingSl===!0?"Yes":"No",pe.required],target:[m?.target||"",pe.required],expiryScope:[m?.expiryScope||"CURRENT",pe.required]}),this.isEditMode&&(this.straddleForm.get("userId")?.disable(),this.straddleForm.get("instrument")?.disable()),this.straddleForm.get("instrument")?.valueChanges.subscribe(_=>{let y,E,I,A,R=this.straddleForm.get("underlyingStrikeSelector")?.value;(_==="NIFTY 50"||_==="NIFTY BANK")&&R==="INDEX"?(A="NSE",y="NSE",E="NFO-OPT",I=_==="NIFTY BANK"?"BANKNIFTY":"NIFTY"):(_==="NIFTY 50"||_==="NIFTY BANK")&&R==="FUTURE"?(A="NFO-FUT",y="NSE",E="NFO-OPT",I=_==="NIFTY BANK"?"BANKNIFTY":"NIFTY"):_==="SENSEX"&&R==="INDEX"?(A="BSE",y="BSE",E="BFO-OPT",I="SENSEX"):_==="SENSEX"&&R==="FUTURE"&&(A="BFO-FUT",y="BSE",E="BFO-OPT",I="SENSEX"),this.straddleForm.patchValue({underlyingSegment:A,exchange:y,tradingSegment:E,index:I})}),this.straddleForm.get("underlyingStrikeSelector")?.valueChanges.subscribe(_=>{let y=this.straddleForm.get("instrument")?.value,E;(y==="NIFTY 50"||y==="NIFTY BANK")&&_==="INDEX"?E="NSE":(y==="NIFTY 50"||y==="NIFTY BANK")&&_==="FUTURE"?E="NFO-FUT":y==="SENSEX"&&_==="INDEX"?E="BSE":y==="SENSEX"&&_==="FUTURE"&&(E="BFO-FUT"),this.straddleForm.patchValue({underlyingSegment:E})})}fetchUsers(){this.userService.getTradingAccounts().subscribe({next:t=>{this.users=t.data.filter(r=>r.active)},error:t=>{this.toastrService.error(t.error.message,"Error"),console.error(t)}})}submit(){if(this.straddleForm.invalid){this.straddleForm.markAllAsTouched();return}let t=this.straddleForm.getRawValue();(this.isEditMode?this.algoService.updateStraddleStrategy(this.id,t):this.algoService.saveStraddleStrategy(t)).subscribe({next:()=>{this.toastrService.success(`Straddle strategy ${this.isEditMode?"updated":"created"} successfully.`,"Success"),this.dialogRef.close("submitted")},error:o=>{o.error.message?this.toastrService.error(o.error.message,"Error"):this.toastrService.error("An unexpected error occurred while adding straddle strategy. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}ngOnInit(){this.fetchUsers()}};i.\u0275fac=function(r){return new(r||i)(D(v1),D(xe),D(Tn),D(v3),D(Hn),D(zt),D(x1))},i.\u0275cmp=U({type:i,selectors:[["app-add-manage-straddle-strategy"]],decls:187,vars:34,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"max-h-screen","overflow-auto","sm:overflow-visible"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","userId","required","",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","side","required","",1,"form-control"],["value","SHORT"],["value","LONG"],["formControlName","instrument","required","",1,"form-control"],["value","NIFTY 50"],["value","NIFTY BANK"],["value","SENSEX"],["formControlName","underlyingStrikeSelector","required","",1,"form-control"],["selected","","value","INDEX"],["value","FUTURE"],[3,"hidden"],["formControlName","underlyingSegment","type","text","required","",1,"form-control"],["formControlName","exchange","type","text","required","",1,"form-control"],["formControlName","tradingSegment","type","text","required","",1,"form-control"],["formControlName","index","type","text","required","",1,"form-control"],["formControlName","strikeStep","required","",1,"form-control"],["value","50"],["value","100"],["value","500"],["formControlName","lots","type","number","min","1","required","",1,"form-control"],["formControlName","entryTime","type","time","step","1","required","",1,"form-control"],["formControlName","exitTime","type","time","step","1","required","",1,"form-control"],["formControlName","stopLoss","type","number","step","100","min","100",1,"form-control"],["formControlName","target","type","number","step","100","min","100",1,"form-control"],["formControlName","expiryScope","required","",1,"form-control"],["value","CURRENT"],["value","NEXT"],["formControlName","orderType","required","",1,"form-control"],["value","MARKET"],["value","LIMIT"],["formControlName","tradeType","required","",1,"form-control"],["selected","","value","PAPER"],["value","LIVE"],["formControlName","trailingSl","required","",1,"form-control"],["selected","","value","No"],["value","Yes"],[1,"flex","flex-wrap","gap-2","mt-2","items-center"],[1,"mt-3",3,"text","color"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-4"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100",3,"click"],[3,"value"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),f(3),l()(),c(4,"div",3)(5,"div",4)(6,"form",5),C("ngSubmit",function(){return o.submit()}),c(7,"div",6)(8,"div")(9,"label",7),f(10,"Trading Account "),c(11,"span",8),f(12,"*"),l()(),c(13,"select",9)(14,"option",10),f(15,"Select Account"),l(),x(16,o1e,2,3,"option",11),l(),x(17,a1e,2,0,"p",12),l(),c(18,"div")(19,"label",7),f(20,"Side "),c(21,"span",8),f(22,"*"),l()(),c(23,"select",13)(24,"option",14),f(25,"SHORT"),l(),c(26,"option",15),f(27,"LONG"),l()(),x(28,s1e,2,0,"p",12),l(),c(29,"div")(30,"label",7),f(31,"Instrument "),c(32,"span",8),f(33,"*"),l()(),c(34,"select",16)(35,"option",10),f(36,"Select Instrument"),l(),c(37,"option",17),f(38,"NIFTY 50"),l(),c(39,"option",18),f(40,"NIFTY BANK"),l(),c(41,"option",19),f(42,"SENSEX"),l()(),x(43,c1e,2,0,"p",12),l(),c(44,"div")(45,"label",7),f(46,"Underlying Strike Selector "),c(47,"span",8),f(48,"*"),l()(),c(49,"select",20)(50,"option",21),f(51,"INDEX"),l(),c(52,"option",22),f(53,"FUTURE"),l()(),x(54,l1e,2,0,"p",12),l(),c(55,"div",23)(56,"label",7),f(57,"Underlying Segment "),c(58,"span",8),f(59,"*"),l()(),M(60,"input",24),x(61,d1e,2,0,"p",12),l(),c(62,"div",23)(63,"label",7),f(64,"Exchange "),c(65,"span",8),f(66,"*"),l()(),M(67,"input",25),x(68,u1e,2,0,"p",12),l(),c(69,"div",23)(70,"label",7),f(71,"Trading Segment "),c(72,"span",8),f(73,"*"),l()(),M(74,"input",26),x(75,f1e,2,0,"p",12),l(),c(76,"div",23)(77,"label",7),f(78,"Index "),c(79,"span",8),f(80,"*"),l()(),M(81,"input",27),x(82,p1e,2,0,"p",12),l(),c(83,"div")(84,"label",7),f(85,"Strike Step "),c(86,"span",8),f(87,"*"),l()(),c(88,"select",28)(89,"option",29),f(90,"50"),l(),c(91,"option",30),f(92,"100"),l(),c(93,"option",30),f(94,"200"),l(),c(95,"option",31),f(96,"500"),l()(),x(97,m1e,2,0,"p",12),l(),c(98,"div")(99,"label",7),f(100,"Lots "),c(101,"span",8),f(102,"*"),l()(),M(103,"input",32),x(104,h1e,2,0,"p",12),l(),c(105,"div")(106,"label",7),f(107,"Entry Time "),c(108,"span",8),f(109,"*"),l()(),M(110,"input",33),x(111,g1e,2,0,"p",12),l(),c(112,"div")(113,"label",7),f(114,"Exit Time "),c(115,"span",8),f(116,"*"),l()(),M(117,"input",34),x(118,v1e,2,0,"p",12),l(),c(119,"div")(120,"label",7),f(121,"Stop Loss "),c(122,"span",8),f(123,"*"),l()(),M(124,"input",35),x(125,y1e,2,0,"p",12),l(),c(126,"div")(127,"label",7),f(128,"Target "),c(129,"span",8),f(130,"*"),l()(),M(131,"input",36),x(132,_1e,2,0,"p",12),l(),c(133,"div")(134,"label",7),f(135,"Expiry Scope "),c(136,"span",8),f(137,"*"),l()(),c(138,"select",37)(139,"option",38),f(140,"Current"),l(),c(141,"option",39),f(142,"Next"),l()(),x(143,b1e,2,0,"p",12),l(),c(144,"div")(145,"label",7),f(146,"Order Type "),c(147,"span",8),f(148,"*"),l()(),c(149,"select",40)(150,"option",41),f(151,"Market"),l(),c(152,"option",42),f(153,"Limit"),l()(),x(154,x1e,2,0,"p",12),l(),c(155,"div")(156,"label",7),f(157,"Trade Type "),c(158,"span",8),f(159,"*"),l()(),c(160,"select",43)(161,"option",44),f(162,"PAPER"),l(),c(163,"option",45),f(164,"LIVE"),l()(),x(165,C1e,2,0,"p",12),l(),c(166,"div")(167,"label",7),f(168,"Trailing SL"),c(169,"span",8),f(170,"*"),l()(),c(171,"select",46)(172,"option",47),f(173,"No"),l(),c(174,"option",48),f(175,"Yes"),l()(),x(176,w1e,2,0,"p",12),l(),c(177,"div",49),M(178,"app-small-chip",50)(179,"app-small-chip",50)(180,"app-small-chip",50)(181,"app-small-chip",50),l()(),c(182,"div",51)(183,"button",52),f(184),l(),c(185,"button",53),C("click",function(){return o.onClose()}),f(186," Cancel "),l()()()()()()),r&2){let a,s,u,m,_,y,E,I,A,R,F,W,ee,te,ae,Se,tt,nt,jt,Nt,M1,zn;d(3),k("",o.isEditMode?"Edit":"Create"," Straddle Strategy"),d(3),p("formGroup",o.straddleForm),d(10),p("ngForOf",o.users),d(),p("ngIf",((a=o.straddleForm.get("userId"))==null?null:a.touched)&&((a=o.straddleForm.get("userId"))==null?null:a.invalid)),d(11),p("ngIf",((s=o.straddleForm.get("side"))==null?null:s.touched)&&((s=o.straddleForm.get("side"))==null?null:s.invalid)),d(15),p("ngIf",((u=o.straddleForm.get("instrument"))==null?null:u.touched)&&((u=o.straddleForm.get("instrument"))==null?null:u.invalid)),d(11),p("ngIf",((m=o.straddleForm.get("underlyingStrikeSelector"))==null?null:m.touched)&&((m=o.straddleForm.get("underlyingStrikeSelector"))==null?null:m.invalid)),d(),p("hidden",!0),d(6),p("ngIf",((_=o.straddleForm.get("underlyingSegment"))==null?null:_.touched)&&((_=o.straddleForm.get("underlyingSegment"))==null?null:_.invalid)),d(),p("hidden",!0),d(6),p("ngIf",((y=o.straddleForm.get("exchange"))==null?null:y.touched)&&((y=o.straddleForm.get("exchange"))==null?null:y.invalid)),d(),p("hidden",!0),d(6),p("ngIf",((E=o.straddleForm.get("tradingSegment"))==null?null:E.touched)&&((E=o.straddleForm.get("tradingSegment"))==null?null:E.invalid)),d(),p("hidden",!0),d(6),p("ngIf",((I=o.straddleForm.get("index"))==null?null:I.touched)&&((I=o.straddleForm.get("index"))==null?null:I.invalid)),d(15),p("ngIf",((A=o.straddleForm.get("strikeStep"))==null?null:A.touched)&&((A=o.straddleForm.get("strikeStep"))==null?null:A.invalid)),d(7),p("ngIf",((R=o.straddleForm.get("lots"))==null?null:R.touched)&&((R=o.straddleForm.get("lots"))==null?null:R.invalid)),d(7),p("ngIf",((F=o.straddleForm.get("entryTime"))==null?null:F.touched)&&((F=o.straddleForm.get("entryTime"))==null?null:F.invalid)),d(7),p("ngIf",((W=o.straddleForm.get("exitTime"))==null?null:W.touched)&&((W=o.straddleForm.get("exitTime"))==null?null:W.invalid)),d(7),p("ngIf",((ee=o.straddleForm.get("stopLoss"))==null?null:ee.touched)&&((ee=o.straddleForm.get("stopLoss"))==null?null:ee.invalid)),d(7),p("ngIf",((te=o.straddleForm.get("target"))==null?null:te.touched)&&((te=o.straddleForm.get("target"))==null?null:te.invalid)),d(11),p("ngIf",((ae=o.straddleForm.get("expiryScope"))==null?null:ae.touched)&&((ae=o.straddleForm.get("expiryScope"))==null?null:ae.invalid)),d(11),p("ngIf",((Se=o.straddleForm.get("orderType"))==null?null:Se.touched)&&((Se=o.straddleForm.get("orderType"))==null?null:Se.invalid)),d(11),p("ngIf",((tt=o.straddleForm.get("tradeType"))==null?null:tt.touched)&&((tt=o.straddleForm.get("tradeType"))==null?null:tt.invalid)),d(11),p("ngIf",((nt=o.straddleForm.get("tradeType"))==null?null:nt.touched)&&((nt=o.straddleForm.get("tradeType"))==null?null:nt.invalid)),d(2),p("text",(jt=o.straddleForm.get("exchange"))==null?null:jt.value)("color","gray"),d(),p("text",(Nt=o.straddleForm.get("tradingSegment"))==null?null:Nt.value)("color","gray"),d(),p("text",(M1=o.straddleForm.get("index"))==null?null:M1.value)("color","gray"),d(),p("text",(zn=o.straddleForm.get("underlyingSegment"))==null?null:zn.value)("color","gray"),d(3),k(" ",o.isEditMode?"Update":"Create"," ")}},dependencies:[ln,g1,Di,zi,it,ja,Q1,rt,h1,O1,Ha,n1,i1,Gn,Wn,oe,xt,Q],encapsulation:2});let n=i;return n})();var S1e=(n,i)=>({"bg-green-50":n,"bg-red-50":i});function M1e(n,i){if(n&1&&(c(0,"option",33),f(1),l()),n&2){let e=i.$implicit,t=g();p("value",e),d(),k(" ",t.getMonthLabel(e)," ")}}function E1e(n,i){n&1&&(c(0,"div",34),M(1,"div",35),l())}function T1e(n,i){n&1&&(c(0,"div",36),Ke(),c(1,"svg",37),M(2,"path",38),l(),kt(),c(3,"p",39),f(4,"No executions found matching the selected filters."),l()())}function I1e(n,i){if(n&1&&(c(0,"tr",46)(1,"td",47),M(2,"app-small-chip",48),l(),c(3,"td",47),f(4),l(),c(5,"td",49),f(6),N(7,"istDate"),l(),c(8,"td",49),f(9),N(10,"istDate"),l(),c(11,"td",49),f(12),l(),c(13,"td",49),f(14),l(),c(15,"td",49),f(16),l(),c(17,"td",49),f(18),l(),c(19,"td",49),f(20),l(),c(21,"td",49),f(22),l(),c(23,"td",50),f(24),l()()),n&2){let e=i.$implicit,t=g(2);p("ngClass",Ae(20,S1e,e.exitPnl>0,e.exitPnl<0)),d(2),p("text",t.getTradeType(e))("color",t.getTradeTypeChipColor(e)),d(2),L(t.formatDate(e.executionDate)),d(2),L(B(7,14,e.createdAt,"time-no-mod")||"-"),d(3),L(B(10,17,e.exitedAt,"time-no-mod")||"-"),d(3),L(e.callStrike||"-"),d(2),L(e.putStrike||"-"),d(2),L(t.formatCurrency(e.callEntryPrice)),d(2),L(t.formatCurrency(e.callExitPrice)),d(2),L(t.formatCurrency(e.putEntryPrice)),d(2),L(t.formatCurrency(e.putExitPrice)),d(),p("ngClass",t.getPnlClass(e.exitPnl)),d(),k(" ",t.formatCurrency(e.exitPnl)," ")}}function D1e(n,i){if(n&1&&(c(0,"div",40)(1,"table",41)(2,"thead",42)(3,"tr")(4,"th",43),f(5,"Type"),l(),c(6,"th",43),f(7,"Date"),l(),c(8,"th",43),f(9,"Entry Time"),l(),c(10,"th",43),f(11,"Exit Time"),l(),c(12,"th",43),f(13,"CE Strike"),l(),c(14,"th",43),f(15,"PE Strike"),l(),c(16,"th",43),f(17,"CE Entry Price"),l(),c(18,"th",43),f(19,"CE Exit Price"),l(),c(20,"th",43),f(21,"PE Entry Price"),l(),c(22,"th",43),f(23,"PE Exit Price"),l(),c(24,"th",43),f(25,"P&L"),l()()(),c(26,"tbody",44),x(27,I1e,25,23,"tr",45),l()()()),n&2){let e=g();d(27),p("ngForOf",e.filteredExecutions)}}var Jk=(()=>{let i=class i{constructor(t,r,o,a,s){this.algoService=t,this.toastrService=r,this.utilsService=o,this.dialogRef=a,this.data=s,this.executions=[],this.filteredExecutions=[],this.isLoading=!0,this.profitLossFilter="all",this.typeFilter="all",this.selectedMonth="all",this.availableMonths=[],this.summary={totalExecutions:0,profitableExecutions:0,lossExecutions:0,totalPnl:0,totalProfit:0,totalLoss:0,avgPnl:0,winRate:0},this.straddleId=s.straddleId,this.strategyName=s.strategyName||`Straddle #${this.straddleId}`}ngOnInit(){this.fetchExecutions()}fetchExecutions(){this.isLoading=!0,this.algoService.getStraddleExecutionsByStraddleId(this.straddleId).subscribe({next:t=>{this.executions=(t.data||[]).filter(r=>r.exitPnl!==null&&r.exitPnl!==void 0),this.extractAvailableMonths(),this.availableMonths.length>0&&(this.selectedMonth=this.availableMonths[0]),this.calculateSummary(),this.applyFilters(),this.isLoading=!1},error:t=>{this.toastrService.error(t?.error?.message||"Failed to fetch executions","Error"),this.isLoading=!1}})}extractAvailableMonths(){let t=new Set;this.executions.forEach(r=>{if(r.executionDate){let o=new Date(r.executionDate),a=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;t.add(a)}}),this.availableMonths=Array.from(t).sort().reverse()}getTradeType(t){return t.paperTrade?"PAPER":"LIVE"}getTradeTypeChipColor(t){return t.paperTrade?"orange":"green"}calculateSummary(){this.summary.totalExecutions=this.filteredExecutions.length,this.summary.profitableExecutions=0,this.summary.lossExecutions=0,this.summary.totalPnl=0,this.summary.totalProfit=0,this.summary.totalLoss=0,this.filteredExecutions.forEach(t=>{let r=t.exitPnl||0;this.summary.totalPnl+=r,r>0?(this.summary.profitableExecutions++,this.summary.totalProfit+=r):r<0&&(this.summary.lossExecutions++,this.summary.totalLoss+=r)}),this.summary.avgPnl=this.summary.totalExecutions>0?this.summary.totalPnl/this.summary.totalExecutions:0,this.summary.winRate=this.summary.totalExecutions>0?this.summary.profitableExecutions/this.summary.totalExecutions*100:0}applyFilters(){let t=[...this.executions];this.profitLossFilter==="profit"?t=t.filter(r=>(r.exitPnl||0)>0):this.profitLossFilter==="loss"&&(t=t.filter(r=>(r.exitPnl||0)<0)),this.typeFilter==="live"?t=t.filter(r=>!r.paperTrade):this.typeFilter==="paper"&&(t=t.filter(r=>r.paperTrade)),this.selectedMonth!=="all"&&(t=t.filter(r=>{if(r.executionDate){let o=new Date(r.executionDate);return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`===this.selectedMonth}return!1})),this.filteredExecutions=t,this.calculateSummary()}onFilterChange(){this.applyFilters()}formatDate(t){return t?this.utilsService.formatCustomDate(new Date(t)):"-"}formatCurrency(t){return t==null?"-":"\u20B9"+t.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}getPnlClass(t){return t>0?"text-green-600 font-semibold":t<0?"text-red-600 font-semibold":"text-gray-600"}getMonthLabel(t){if(t==="all")return"All Months";let[r,o]=t.split("-");return new Date(parseInt(r),parseInt(o)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})}onClose(){this.dialogRef.close()}};i.\u0275fac=function(r){return new(r||i)(D(v3),D(xe),D(zt),D(Tn),D(x1))},i.\u0275cmp=U({type:i,selectors:[["app-straddle-executions-dialog"]],decls:89,vars:20,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"flex","flex-col","h-full","w-full","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-4","py-3","border-b","cursor-move","flex-shrink-0"],[1,"text-lg","font-medium","text-gray-600"],[1,"px-6","py-4","bg-gray-50","border-b","flex-shrink-0"],[1,"grid","grid-cols-2","md:grid-cols-4","lg:grid-cols-7","gap-4"],[1,"bg-white","rounded-md","p-3","shadow-sm"],[1,"text-xs","text-gray-500","uppercase","font-medium"],[1,"text-lg","font-medium","text-gray-800","mt-1"],[1,"text-lg","font-medium","text-green-600","mt-1"],[1,"text-lg","font-medium","text-red-600","mt-1"],[1,"text-lg","font-medium","mt-1",3,"ngClass"],[1,"text-lg","font-medium","text-blue-600","mt-1"],[1,"px-6","py-4","bg-white","border-b","flex-shrink-0"],[1,"flex","flex-wrap","gap-4","items-center"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-medium","text-gray-700"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],["value","all"],["value","profit"],["value","loss"],["value","live"],["value","paper"],[3,"value",4,"ngFor","ngForOf"],[1,"ml-auto","text-sm","text-gray-600"],[1,"font-semibold"],[1,"flex-1","min-h-0","overflow-auto","px-6","py-4"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","rounded-md border border-gray-200 overflow-auto max-h-[60vh]",4,"ngIf"],["cdkDragHandle","",1,"flex","justify-between","items-center","px-4","py-3","border-t","cursor-move","flex-shrink-0"],[1,"text-sm","text-gray-600","uppercase"],[1,"font-medium",3,"ngClass"],[1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-100","text-sm",3,"click"],[3,"value"],[1,"flex","items-center","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"mt-2","text-sm","text-gray-600"],[1,"rounded-md","border","border-gray-200","overflow-auto","max-h-[60vh]"],[1,"w-full","text-sm","text-left"],[1,"bg-gray-100","text-gray-700","uppercase","text-xs","sticky","top-0","z-10"],[1,"px-4","py-3","font-semibold","whitespace-nowrap"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition-colors",3,"ngClass",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition-colors",3,"ngClass"],[1,"px-4","py-3","font-medium","text-gray-900","whitespace-nowrap"],[3,"text","color"],[1,"px-4","py-3","text-gray-700","whitespace-nowrap"],[1,"px-4","py-3","whitespace-nowrap",3,"ngClass"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),f(3),l()(),c(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),f(8,"Total"),l(),c(9,"div",7),f(10),l()(),c(11,"div",5)(12,"div",6),f(13,"Wins"),l(),c(14,"div",8),f(15),l()(),c(16,"div",5)(17,"div",6),f(18,"Losses"),l(),c(19,"div",9),f(20),l()(),c(21,"div",5)(22,"div",6),f(23,"Total P&L"),l(),c(24,"div",10),f(25),l()(),c(26,"div",5)(27,"div",6),f(28,"Total Profit"),l(),c(29,"div",8),f(30),l()(),c(31,"div",5)(32,"div",6),f(33,"Total Loss"),l(),c(34,"div",9),f(35),l()(),c(36,"div",5)(37,"div",6),f(38,"Win Rate"),l(),c(39,"div",11),f(40),l()()()(),c(41,"div",12)(42,"div",13)(43,"div",14)(44,"label",15),f(45,"Show:"),l(),c(46,"select",16),Oe("ngModelChange",function(s){return Be(o.profitLossFilter,s)||(o.profitLossFilter=s),s}),C("change",function(){return o.onFilterChange()}),c(47,"option",17),f(48,"All Executions"),l(),c(49,"option",18),f(50,"Only Profits"),l(),c(51,"option",19),f(52,"Only Losses"),l()()(),c(53,"div",14)(54,"label",15),f(55,"Type:"),l(),c(56,"select",16),Oe("ngModelChange",function(s){return Be(o.typeFilter,s)||(o.typeFilter=s),s}),C("change",function(){return o.onFilterChange()}),c(57,"option",17),f(58,"All Types"),l(),c(59,"option",20),f(60,"Live Only"),l(),c(61,"option",21),f(62,"Paper Only"),l()()(),c(63,"div",14)(64,"label",15),f(65,"Month:"),l(),c(66,"select",16),Oe("ngModelChange",function(s){return Be(o.selectedMonth,s)||(o.selectedMonth=s),s}),C("change",function(){return o.onFilterChange()}),c(67,"option",17),f(68,"All Months"),l(),x(69,M1e,2,2,"option",22),l()(),c(70,"div",23),f(71," Showing "),c(72,"span",24),f(73),l(),f(74," of "),c(75,"span",24),f(76),l(),f(77," executions "),l()()(),c(78,"div",25),x(79,E1e,2,0,"div",26)(80,T1e,5,0,"div",27)(81,D1e,28,1,"div",28),l(),c(82,"div",29)(83,"div",30),f(84," Average P&L: "),c(85,"span",31),f(86),l()(),c(87,"button",32),C("click",function(){return o.onClose()}),f(88," Close "),l()()()),r&2&&(d(3),k("Execution History - ",o.strategyName),d(7),L(o.summary.totalExecutions),d(5),L(o.summary.profitableExecutions),d(5),L(o.summary.lossExecutions),d(4),p("ngClass",o.getPnlClass(o.summary.totalPnl)),d(),k(" ",o.formatCurrency(o.summary.totalPnl)," "),d(5),L(o.formatCurrency(o.summary.totalProfit)),d(5),L(o.formatCurrency(o.summary.totalLoss)),d(5),k("",o.summary.winRate.toFixed(1),"%"),d(6),Pe("ngModel",o.profitLossFilter),d(10),Pe("ngModel",o.typeFilter),d(10),Pe("ngModel",o.selectedMonth),d(3),p("ngForOf",o.availableMonths),d(4),L(o.filteredExecutions.length),d(3),L(o.executions.length),d(3),p("ngIf",o.isLoading),d(),p("ngIf",!o.isLoading&&o.filteredExecutions.length===0),d(),p("ngIf",!o.isLoading&&o.filteredExecutions.length>0),d(4),p("ngClass",o.getPnlClass(o.summary.avgPnl)),d(),L(o.formatCurrency(o.summary.avgPnl)))},dependencies:[oe,Q,le,qo,Gn,Wn,bt,Di,zi,Q1,rt,On,xt,nn],styles:[".overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.overflow-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"]});let n=i;return n})();function z1e(n,i){n&1&&(c(0,"div",1)(1,"p",2),f(2,"No straddles to display"),l()())}function L1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("side"))}}function k1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("instrument"))}}function A1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("expiryScope"))}}function N1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("underlyingStrikeSelector"))}}function P1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("lots"))}}function O1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("entryTime"))}}function R1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("exitTime"))}}function F1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("target"))}}function B1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("stopLoss"))}}function V1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("status"))}}function U1e(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("tradeType"))}}function j1e(n,i){n&1&&(c(0,"span",29),f(1,"TSL"),l())}function H1e(n,i){if(n&1){let e=V();He(0),c(1,"tr",19)(2,"td",20),M(3,"app-small-chip",21),l(),c(4,"td",20)(5,"span",22),f(6),l()(),c(7,"td",20)(8,"span",22),f(9),l()(),c(10,"td",23),f(11),l(),c(12,"td",23),f(13),l(),c(14,"td",23),f(15),N(16,"istDate"),l(),c(17,"td",23),f(18),N(19,"istDate"),l(),c(20,"td",24)(21,"span",25),f(22),N(23,"currency"),l()(),c(24,"td",24)(25,"span",26),f(26),N(27,"currency"),x(28,j1e,2,0,"span",27),l()(),c(29,"td",20),M(30,"app-small-chip",21),l(),c(31,"td",20),M(32,"app-small-chip",21),l(),c(33,"td",24)(34,"app-action-menu",28),C("handleAction",function(r){w(e);let o=g(3);return S(o.handleAction(r))}),l()()(),qe()}if(n&2){let e=i.$implicit,t=g(3);d(3),p("text",e.side)("color",t.getStraddleSideChipColor(e.side)),d(3),L(e.instrument),d(3),L(e.expiryScope),d(2),k(" ",e.underlyingStrikeSelector," "),d(2),k(" ",e.lots," "),d(2),k(" ",B(16,17,e.entryTime,"time-no-mod")," "),d(3),k(" ",B(19,20,e.exitTime,"time-no-mod")," "),d(4),L(Ee(23,23,e.target,"INR","symbol","1.0-0")),d(4),k(" ",Ee(27,28,e.stopLoss,"INR","symbol","1.0-0")," "),d(2),p("ngIf",e.trailingSl),d(2),p("text",e.isActive?"ACTIVE":"PAUSED")("color",t.getStatusChipColor(e)),d(2),p("text",t.getTradeType(e))("color",t.getTradeTypeChipColor(e)),d(2),p("row",e)("actions",t.getActionButtons(e))}}function q1e(n,i){n&1&&(c(0,"tr")(1,"td",30),M(2,"div",31),l()())}function $1e(n,i){if(n&1&&(He(0),c(1,"tr",15)(2,"td",16),M(3,"app-user-info-header",17),l()(),x(4,H1e,35,33,"ng-container",13)(5,q1e,3,0,"tr",18),qe()),n&2){let e=i.$implicit,t=i.last,r=g(2);d(3),p("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),d(),p("ngForOf",e.straddles)("ngForTrackBy",r.trackById),d(),p("ngIf",!t)}}function W1e(n,i){if(n&1){let e=V();c(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("side"))}),f(6," SIDE "),x(7,L1e,2,1,"span",8),l()(),c(8,"th",6)(9,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("instrument"))}),f(10," INSTRUMENT "),x(11,k1e,2,1,"span",8),l()(),c(12,"th",6)(13,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("expiryScope"))}),f(14," EXPIRY "),x(15,A1e,2,1,"span",8),l()(),c(16,"th",6)(17,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("underlyingStrikeSelector"))}),f(18," STRIKE SELECTOR "),x(19,N1e,2,1,"span",8),l()(),c(20,"th",6)(21,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("lots"))}),f(22," LOTS "),x(23,P1e,2,1,"span",8),l()(),c(24,"th",6)(25,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("entryTime"))}),f(26," ENTRY TIME "),x(27,O1e,2,1,"span",8),l()(),c(28,"th",6)(29,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("exitTime"))}),f(30," EXIT TIME "),x(31,R1e,2,1,"span",8),l()(),c(32,"th",9)(33,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("target"))}),f(34," TARGET "),x(35,F1e,2,1,"span",8),l()(),c(36,"th",9)(37,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("stopLoss"))}),f(38," STOP LOSS "),x(39,B1e,2,1,"span",8),l()(),c(40,"th",6)(41,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("status"))}),f(42," STATUS "),x(43,V1e,2,1,"span",8),l()(),c(44,"th",6)(45,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("tradeType"))}),f(46," TRADE TYPE "),x(47,U1e,2,1,"span",8),l()(),c(48,"th",11),f(49,"ACTIONS"),l()()(),c(50,"tbody",12),x(51,$1e,6,8,"ng-container",13),l()()()}if(n&2){let e=g();d(7),p("ngIf",e.getSortIndicator("side")),d(4),p("ngIf",e.getSortIndicator("instrument")),d(4),p("ngIf",e.getSortIndicator("expiryScope")),d(4),p("ngIf",e.getSortIndicator("underlyingStrikeSelector")),d(4),p("ngIf",e.getSortIndicator("lots")),d(4),p("ngIf",e.getSortIndicator("entryTime")),d(4),p("ngIf",e.getSortIndicator("exitTime")),d(4),p("ngIf",e.getSortIndicator("target")),d(4),p("ngIf",e.getSortIndicator("stopLoss")),d(4),p("ngIf",e.getSortIndicator("status")),d(4),p("ngIf",e.getSortIndicator("tradeType")),d(4),p("ngForOf",e.sortedGroupedStraddles)("ngForTrackBy",e.trackByUser)}}var eA=(()=>{let i=class i{constructor(){this.groupedStraddles=[],this.handleClickAction=new K,this.actions=[],this.fallbackAvatarUrl="",this.sortColumn="status",this.sortDirection="asc",this.sortAccessors={instrument:t=>t.instrument?.toString().toLowerCase()??"",side:t=>t.side?.toString().toLowerCase()??"",target:t=>t.target??0,stopLoss:t=>t.stopLoss??0,expiryScope:t=>t.expiryScope?.toString().toLowerCase()??"",lots:t=>t.lots??0,status:t=>t.isActive?"active":"paused",tradeType:t=>t.paperTrade?"paper":"live",entryTime:t=>t.entryTime??0,exitTime:t=>t.exitTime??0,underlyingStrikeSelector:t=>t.underlyingStrikeSelector?.toString().toLowerCase()??""}}get sortedGroupedStraddles(){return!this.sortColumn||!this.sortDirection?this.groupedStraddles:this.groupedStraddles.map(t=>ie(P({},t),{straddles:[...t.straddles??[]].sort((r,o)=>this.compareRows(r,o))}))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection=this.getDefaultDirection(t)}getDefaultDirection(t){return["status","entryTime"].includes(t)?"desc":"asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}getActionButtons(t){return t.isActive?this.actions.filter(r=>r.action!=="activate"):this.actions.filter(r=>r.action!=="pause")}getStatusChipColor(t){return t.isActive?"green":"orange"}getTradeTypeChipColor(t){return t.paperTrade?"orange":"green"}getStraddleSideChipColor(t){switch(t){case"LONG":return"blue";case"SHORT":return"red";default:return"gray"}}trackById(t,r){return r.id}trackByUser(t,r){return r.userId}handleAction(t){this.handleClickAction.emit(t)}getTradeType(t){return t.paperTrade?"PAPER":"LIVE"}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-algo-straddle-strategy-table"]],inputs:{groupedStraddles:"groupedStraddles",actions:"actions",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","12",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[3,"text","color"],[1,"text-gray-700"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[1,"text-green-600"],[1,"text-red-600"],["class","text-blue-600 text-xs",4,"ngIf"],[3,"handleAction","row","actions"],[1,"text-blue-600","text-xs"],["colspan","12",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,z1e,3,0,"div",1)(2,W1e,52,13,"div"),l()),r&2&&(d(),et(!o.groupedStraddles||o.groupedStraddles.length===0?1:2))},dependencies:[oe,xt,w1,Q,ei,bn,nn],encapsulation:2});let n=i;return n})();var G1e=(n,i)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":i});function Y1e(n,i){n&1&&M(0,"span",9)}function Q1e(n,i){if(n&1){let e=V();c(0,"div",6),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.setActiveParentTab(r))}),f(1),c(2,"span",7),f(3),l(),x(4,Y1e,1,0,"span",8),l()}if(n&2){let e=i.$implicit,t=g(2);ne("active-tab",e===t.activeParentTab)("text-gray-700",e!==t.activeParentTab),d(),k(" ",e," "),d(),p("ngClass",Ae(8,G1e,e===t.activeParentTab,e!==t.activeParentTab)),d(),k(" ",t.parentTabCounts[e]," "),d(),p("ngIf",e===t.activeParentTab)}}function K1e(n,i){if(n&1){let e=V();c(0,"div",20)(1,"app-algo-straddle-strategy-table",21),C("handleClickAction",function(r){w(e);let o=g(3);return S(o.handleStraddleActions(r))}),l()()}if(n&2){let e=g(3);d(),p("groupedStraddles",e.groupedStraddles)("fallbackAvatarUrl",e.fallbackAvatarUrl)("actions",e.straddleActions)}}function X1e(n,i){n&1&&(c(0,"div",20)(1,"app-note",22),f(2," You don\u2019t have any straddles. Check your filters or search criteria and request token status for the trading accounts. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function Z1e(n,i){if(n&1){let e=V();c(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),C("handleRefresh",function(r){w(e);let o=g(2);return S(o.handleRefreshForStraddles(r))}),l(),c(4,"button",13),C("click",function(){w(e);let r=g(2);return S(r.createManageStraddleStrategy(null))}),M(5,"fa-icon",14),l()(),M(6,"div",15),c(7,"div",16)(8,"app-user-filter",17),C("selectAllUsers",function(){w(e);let r=g(2);return S(r.onAllUserSelection())})("selectUsers",function(r){w(e);let o=g(2);return S(o.onUserSelection(r))})("totalUsers",function(r){w(e);let o=g(2);return S(o.captureUsers(r))}),l()(),c(9,"div",16)(10,"app-search-input",18),C("inputChange",function(r){w(e);let o=g(2);return S(o.onStraddleSearch(r))}),l()()(),x(11,K1e,2,3,"div",19)(12,X1e,3,3,"ng-template",null,0,Yt),l()}if(n&2){let e=At(13),t=g(2);d(5),p("icon",t.faPlus),d(3),p("selectedUserIds",t.selectedUserIds),d(2),p("placeholder","Search straddle strategies by User ID or Instrument")("searchTerm",t.searchQuery),d(),p("ngIf",t.groupedStraddles.length>0)("ngIfElse",e)}}function J1e(n,i){n&1&&M(0,"div")}function eie(n,i){if(n&1&&(c(0,"div")(1,"div",3)(2,"div",4),x(3,Q1e,5,11,"div",5),l()(),x(4,Z1e,14,6,"div",2)(5,J1e,1,0,"div",2),l()),n&2){let e=g();d(3),p("ngForOf",e.parentTabs),d(),p("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[0]),d(),p("ngIf",!e.errorMessage&&e.activeParentTab===e.parentTabs[1])}}var tA=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_){this.algoService=t,this.alertService=r,this.userViewStateService=o,this.userDataStateService=a,this.toastrService=s,this.utilsService=u,this.dialog=m,this.document=_,this.users=[],this.straddles=[],this.filteredStraddles=[],this.groupedStraddles=[],this.errorMessage="",this.parentTabs=["Straddles"],this.activeParentTab="Straddles",this.parentTabCounts={Straddles:0,ORB:0},this.selectedUserIds=[],this.searchQuery="",this.fallbackAvatarUrl=cn,this.straddleActions=[{action:"modify",color:"blue",label:"Modify Straddle"},{action:"activate",color:"blue",label:"Activate Straddle"},{action:"pause",color:"orange",label:"Pause Straddle"},{action:"execute",color:"blue",label:"Execute Straddle"},{action:"delete",color:"red",label:"Delete Straddle"},{action:"viewExecutions",color:"gray",label:"Execution History"},{action:"info",color:"gray",label:"Straddle Details"}],this.faPlus=Ir}ngOnInit(){this.cellTemplates={};let t=this.userViewStateService.getState();t.straddles&&(this.activeParentTab=t.straddles.selectedSectionType,this.selectedUserIds=t.straddles.selectedUsersIds,this.searchQuery=t.straddles.searchQuery),this.getCachedData(),this.fetchStraddles()}getAvatarUrl(t){return this.utilsService.getAvatarUrl(this.users,t)}getUserName(t){return this.utilsService.getUserName(this.users,t)}getUserFullName(t){return this.utilsService.getUserFullName(this.users,t)}setActiveParentTab(t){this.activeParentTab=t,this.saveUserViewState()}onStraddleSearch(t){this.searchQuery=t.toLowerCase(),this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&(t.users&&(this.users=t.users),t.straddles&&(this.straddles=t.straddles,this.renderStraddles()))}setCachedData(){this.userDataStateService.setState({straddles:this.straddles})}fetchStraddles(t){this.algoService.getStraddles().subscribe({next:r=>{this.straddles=r.data,this.renderStraddles(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching straddles. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{t&&t()}})}renderStraddles(){this.updateStraddlesCount(),this.updateFilteredAndGroupedStraddles()}updateStraddlesCount(){this.parentTabCounts.Straddles=this.straddles.length}onUserSelection(t){this.selectedUserIds=t,this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredAndGroupedStraddles(),this.saveUserViewState()}captureUsers(t){this.users=t}saveUserViewState(){this.userViewStateService.setState({straddles:{selectedSectionType:this.activeParentTab,selectedUsersIds:this.selectedUserIds,searchQuery:this.searchQuery}})}updateFilteredAndGroupedStraddles(){let t=this.straddles;this.selectedUserIds.length>0&&(t=t.filter(o=>this.selectedUserIds.includes(o.userId))),this.searchQuery&&(t=t.filter(o=>o.instrument.toLowerCase().includes(this.searchQuery)||o.userId.toLowerCase().includes(this.searchQuery))),this.filteredStraddles=t;let r={};t.forEach(o=>{r[o.userId]||(r[o.userId]=[]),r[o.userId].push(o)}),this.groupedStraddles=Object.entries(r).map(([o,a])=>({userId:o,straddles:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}handleRefreshForStraddles(t){this.fetchStraddles(t)}handleStraddleActions(t){t.action==="modify"?this.createManageStraddleStrategy(t.row):(t.action==="activate"||t.action==="pause")&&this.toggleStraddleStrategyStatus(t.action,t.row),t.action==="execute"?this.executeStraddle(t.row):t.action==="delete"?this.deleteStraddleStrategy(t.row):t.action==="info"?this.utilsService.showInfo(t.row,t.row.instrument):t.action==="viewExecutions"&&this.viewStraddleExecutions(t.row)}createManageStraddleStrategy(t){this.dialog.open(Zk,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:t}).afterClosed().subscribe(o=>{this.fetchStraddles()})}toggleStraddleStrategyStatus(t,r){this.algoService.updateStraddleStatus(r.id,{status:t}).subscribe({next:o=>{this.toastrService.success(o.message,"Success"),this.fetchStraddles()},error:o=>{this.toastrService.error(o.error.message,"Error"),console.error(o)}})}deleteStraddleStrategy(t){this.alertService.confirm("Delete Straddle Strategy","Are you sure you want to delete this straddle strategy?",()=>{this.algoService.deleteStraddleStrategy(t.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchStraddles()},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}executeStraddle(t){this.alertService.confirm("Execute Straddle Strategy","Are you sure you want to execute this straddle now? Note: This action will force immediate execution, ignoring the configured entry time and strategy status.",()=>{this.algoService.executeStraddle(t.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success")},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}viewStraddleExecutions(t){this.dialog.open(Jk,{disableClose:!1,autoFocus:!1,hasBackdrop:!0,closeOnNavigation:!0,data:{straddleId:t.id,strategyName:`${t.instrument} - ${t.userId}`}}).afterClosed().subscribe(o=>{})}ngOnDestroy(){}};i.\u0275fac=function(r){return new(r||i)(D(v3),D(ni),D(Ut),D(Dt),D(xe),D(zt),D(Zt),D(J))},i.\u0275cmp=U({type:i,selectors:[["app-algo"]],decls:2,vars:1,consts:[["noStraddlesData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex","items-center","gap-3","flex-shrink-0"],[3,"handleRefresh"],["matTooltip","Create Straddle Strategy",1,"px-3","py-2","rounded-md","bg-green-500","text-white","hover:bg-green-600","shadow-sm","transition-all","flex","items-center","gap-2",3,"click"],[1,"text-white",3,"icon"],[1,"flex-1"],[1,"flex-shrink-0"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"inputChange","placeholder","searchTerm"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"handleClickAction","groupedStraddles","fallbackAvatarUrl","actions"],[3,"type","dismissible","atCenter"]],template:function(r,o){r&1&&(c(0,"div",1),x(1,eie,6,3,"div",2),l()),r&2&&(d(),p("ngIf",!o.errorMessage))},dependencies:[oe,Q,ki,qn,Vi,Kn,we,Xe,le,eA],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 138px);min-height:calc(100vh - var(--header-height, 80px) - 138px)}"],data:{animation:[In]}});let n=i;return n})();var nA=(()=>{let i=class i{constructor(t){this.api=t}getHistoricalCandleData(t){return this.api.post("/v1/history/candles",t)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function nie(n,i){n&1&&(c(0,"p",22),f(1,"Instrument Token is required."),l())}function iie(n,i){if(n&1){let e=V();c(0,"div",25),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.selectInstrument(r))}),c(1,"div",26)(2,"div",27),f(3),l(),c(4,"div",28),f(5),l()()()}if(n&2){let e=i.$implicit;d(3),L(e.displayName),d(2),L(e.segment)}}function rie(n,i){if(n&1&&(c(0,"div",23),x(1,iie,6,2,"div",24),l()),n&2){let e=g();d(),p("ngForOf",e.fetchedInstruments)}}function oie(n,i){if(n&1&&(c(0,"option",29),f(1),l()),n&2){let e=i.$implicit;p("value",e),d(),L(e)}}function aie(n,i){n&1&&(c(0,"p",22),f(1,"Interval is required."),l())}function sie(n,i){n&1&&(c(0,"p",22),f(1,"From is required."),l())}function cie(n,i){n&1&&(c(0,"p",22),f(1,"To is required."),l())}var iA=(()=>{let i=class i{constructor(t,r,o,a,s,u){this.fb=t,this.document=r,this.toastrService=o,this.userViewStateService=a,this.watchlistService=s,this.historicalCandleDataService=u,this.intervals=["minute","3minute","5minute","10minute","15minute","30minute","60minute","day"],this.fetchedInstruments=[],this.searchTermChanged=new Y,this.searchTerm="",this.faSearch=Lo,this.historicalForm=this.fb.group({instrument:["",pe.required],instrumentToken:["",pe.required],interval:["5minute",pe.required],from:["",pe.required],to:["",pe.required],continuous:[!1],oi:[!1]})}submit(){if(this.historicalForm.invalid){this.historicalForm.markAllAsTouched();return}let t=ie(P({},this.historicalForm.value),{from:new Date(this.historicalForm.value.from).toISOString(),to:new Date(this.historicalForm.value.to).toISOString()});this.historicalCandleDataService.getHistoricalCandleData(t).subscribe({next:r=>{let o=new Blob([r.message],{type:"text/csv"}),a=document.createElement("a"),s=window.URL.createObjectURL(o);a.href=s,a.download="historical_data.csv",a.click(),window.URL.revokeObjectURL(s)},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching historical candle data. Verify that the backend service is operational.","Error")}})}ngOnInit(){this.searchTermChanged.pipe(ci(300),qi()).subscribe(t=>{this.searchInstruments(t)})}searchInstruments(t){this.watchlistService.searchInstruments(t.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastrService.error(r.error.message,"Error")}})}selectInstrument(t){this.historicalForm.patchValue({instrument:`${t.displayName} (${t.exchange})`,instrumentToken:t.instrumentToken}),this.fetchedInstruments=[]}onSearchTermChange(t){let r=t.target.value;this.searchTermChanged.next(r)}};i.\u0275fac=function(r){return new(r||i)(D(v1),D(J),D(xe),D(Ut),D(g3),D(nA))},i.\u0275cmp=U({type:i,selectors:[["app-historical-data"]],decls:48,vars:7,consts:[[1,"page-container"],[1,"text-gray-600","mb-6"],[1,"max-w-4xl","w-full","mx-auto","bg-white","rounded-md","shadow","p-4","space-y-4","text-gray-700"],[1,"text-lg","font-semibold","text-center"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"relative","mt-2"],[1,"block","text-sm","font-medium"],[1,"text-red-500"],["type","text","formControlName","instrument","placeholder","Search and add eg: infy, nifty fut, etc","required","",1,"form-control",3,"input"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mt-2 bg-white border border-gray-300 rounded-md shadow-sm max-h-60 overflow-auto",4,"ngIf"],["formControlName","interval","required","",1,"form-control","w-full","mt-1"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],["formControlName","from","type","datetime-local","required","",1,"form-control","w-full","mt-1"],["formControlName","to","type","datetime-local","required","",1,"form-control","w-full","mt-1"],[1,"flex","items-center","gap-2"],["type","checkbox","formControlName","continuous","id","continuous"],["for","continuous",1,"text-sm"],["type","checkbox","formControlName","oi","id","oi"],["for","oi",1,"text-sm"],["type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-2","rounded-md","transition"],[1,"text-red-500","text-sm","mt-1"],[1,"mt-2","bg-white","border","border-gray-300","rounded-md","shadow-sm","max-h-60","overflow-auto"],["class","px-3 py-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-gray-100","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-gray-700"],[1,"text-xs","text-gray-400"],[3,"value"]],template:function(r,o){if(r&1&&(c(0,"div",0)(1,"p",1),f(2,"Download and analyze historical market data. Select instruments, set time ranges, and customize intervals to study price movements and trends."),l(),c(3,"div",2)(4,"h2",3),f(5,"Download Historical Data"),l(),c(6,"form",4),C("ngSubmit",function(){return o.submit()}),c(7,"div",5)(8,"label",6),f(9,"Instrument Token "),c(10,"span",7),f(11,"*"),l()(),c(12,"input",8),C("input",function(s){return o.onSearchTermChange(s)}),l(),x(13,nie,2,0,"p",9),l(),x(14,rie,2,1,"div",10),c(15,"div")(16,"label",6),f(17,"Interval "),c(18,"span",7),f(19,"*"),l()(),c(20,"select",11),x(21,oie,2,2,"option",12),l(),x(22,aie,2,0,"p",9),l(),c(23,"div",13)(24,"div")(25,"label",6),f(26,"From "),c(27,"span",7),f(28,"*"),l()(),M(29,"input",14),x(30,sie,2,0,"p",9),l(),c(31,"div")(32,"label",6),f(33,"To "),c(34,"span",7),f(35,"*"),l()(),M(36,"input",15),x(37,cie,2,0,"p",9),l()(),c(38,"div",16),M(39,"input",17),c(40,"label",18),f(41,"Get Continuous Data"),l()(),c(42,"div",16),M(43,"input",19),c(44,"label",20),f(45,"Get OI Data"),l()(),c(46,"button",21),f(47," Download Data "),l()()()()),r&2){let a,s,u,m;d(6),p("formGroup",o.historicalForm),d(7),p("ngIf",((a=o.historicalForm.get("instrument"))==null?null:a.touched)&&((a=o.historicalForm.get("instrument"))==null?null:a.invalid)),d(),p("ngIf",o.fetchedInstruments.length>0),d(7),p("ngForOf",o.intervals),d(),p("ngIf",((s=o.historicalForm.get("interval"))==null?null:s.touched)&&((s=o.historicalForm.get("interval"))==null?null:s.invalid)),d(8),p("ngIf",((u=o.historicalForm.get("from"))==null?null:u.touched)&&((u=o.historicalForm.get("from"))==null?null:u.invalid)),d(7),p("ngIf",((m=o.historicalForm.get("to"))==null?null:m.touched)&&((m=o.historicalForm.get("to"))==null?null:m.invalid))}},dependencies:[ln,g1,Di,zi,it,wr,Q1,rt,h1,O1,n1,i1,oe,Q],encapsulation:2});let n=i;return n})();var rA=(()=>{let i=class i{constructor(t,r){this.auth=t,this.router=r}canActivate(){return!!this.auth.isAdmin()}};i.\u0275fac=function(r){return new(r||i)(H(Yn),H(gt))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function lie(n,i){if(n&1&&(c(0,"div",9),M(1,"img",10),l()),n&2){let e=g();d(),p("ngSrc",e.getAvatarUrl(e.selectedUserId)||e.fallbackAvatarUrl)("alt",e.getUserName(e.selectedUserId))}}function die(n,i){n&1&&(c(0,"div",17),f(1," No users found "),l())}function uie(n,i){n&1&&(c(0,"div",25),f(1," Token Invalid "),l())}function fie(n,i){if(n&1){let e=V();c(0,"div",18)(1,"button",19),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.selectUserById(r.userId))}),M(2,"img",20),c(3,"div",21)(4,"div",22),f(5),l(),c(6,"div",23),f(7),l(),x(8,uie,2,0,"div",24),l()()()}if(n&2){let e=i.$implicit,t=g(2);d(),ne("opacity-50",e.tokenStatus!=="Valid")("cursor-not-allowed",e.tokenStatus!=="Valid"),d(),p("ngSrc",(e.profile==null?null:e.profile.avatarURL)||t.fallbackAvatarUrl)("alt",e.name),d(3),L((e.profile==null?null:e.profile.userName)||e.name),d(2),L(e.userId),d(),p("ngIf",e.tokenStatus!=="Valid")}}function pie(n,i){if(n&1){let e=V();c(0,"div",11)(1,"div",12)(2,"input",13),Oe("ngModelChange",function(r){w(e);let o=g();return Be(o.searchTerm,r)||(o.searchTerm=r),S(r)}),C("input",function(){w(e);let r=g();return S(r.onSearchChange())}),l()(),c(3,"div",14),x(4,die,2,0,"div",15)(5,fie,9,9,"div",16),l()()}if(n&2){let e=g();d(2),Pe("ngModel",e.searchTerm),d(2),p("ngIf",e.getFilteredUsers().length===0),d(),p("ngForOf",e.getFilteredUsers())}}function mie(n,i){if(n&1){let e=V();c(0,"div",26),C("click",function(){w(e);let r=g();return S(r.closeDropdown())}),l()}}var x7=(()=>{let i=class i{constructor(t,r){this.userService=t,this.userDataStateService=r,this.users=[],this.filteredUsers=[],this.selectedUserId="",this.placeholder="Select Trading Account",this.selectedUserIdChange=new K,this.selectUser=new K,this.totalUsers=new K,this.isDropdownOpen=!1,this.searchTerm="",this.fallbackAvatarUrl=cn}ngOnInit(){this.fetchTradingAccounts()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&t.users&&(this.users=t.users,this.filteredUsers=[...this.users],this.totalUsers.emit(this.users))}setCachedData(){this.userDataStateService.setState({users:this.users})}fetchTradingAccounts(){this.getCachedData(),this.userService.getTradingAccounts().subscribe({next:t=>{this.users=t.data.filter(r=>r.active),this.filteredUsers=[...this.users],this.totalUsers.emit(t.data),this.setCachedData()}})}selectUserById(t){this.getUserByUserId(t)?.tokenStatus==="Valid"&&(this.selectedUserId=t,this.selectUser.emit(t),this.selectedUserIdChange.emit(t),this.closeDropdown())}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&(this.searchTerm="",this.filteredUsers=[...this.users])}closeDropdown(){this.isDropdownOpen=!1,this.searchTerm=""}onSearchChange(){let t=this.searchTerm.toLowerCase().trim();t?this.filteredUsers=this.users.filter(r=>r.name.toLowerCase().includes(t)||r.userId.toLowerCase().includes(t)):this.filteredUsers=[...this.users]}getFilteredUsers(){return this.filteredUsers}getSelectionText(){if(!this.selectedUserId)return this.placeholder;let t=this.getUserByUserId(this.selectedUserId);return(t?.profile?.userName||t?.name)+" - "+t?.userId}getAvatarUrl(t){return this.getUserByUserId(t)?.profile?.avatarURL||null}getUserName(t){let r=this.getUserByUserId(t);return r?.profile?.userName||r?.name||t}getSelectedUser(){return this.getUserByUserId(this.selectedUserId)}getUserByUserId(t){return this.users.find(r=>r.userId===t)}};i.\u0275fac=function(r){return new(r||i)(D(Hn),D(Dt))},i.\u0275cmp=U({type:i,selectors:[["app-user-dropdown"]],inputs:{selectedUserId:"selectedUserId",placeholder:"placeholder"},outputs:{selectedUserIdChange:"selectedUserIdChange",selectUser:"selectUser",totalUsers:"totalUsers"},decls:10,vars:6,consts:[[1,"relative","w-full"],[1,"w-full","flex","items-center","justify-between","gap-2","px-3","py-2","border","border-gray-300","rounded-md","bg-white","hover:bg-gray-50","focus:outline-none","text-sm","transition-all",3,"click"],[1,"flex","items-center","gap-2","flex-1","min-w-0"],["class","flex-shrink-0",4,"ngIf"],[1,"truncate","text-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform","flex-shrink-0","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-96 overflow-hidden",4,"ngIf"],["class","fixed inset-0 z-40",3,"click",4,"ngIf"],[1,"flex-shrink-0"],["width","24","height","24",1,"w-6","h-6","rounded-full","border-2","border-white","object-cover",3,"ngSrc","alt"],[1,"absolute","left-0","right-0","mt-2","bg-white","border","border-gray-200","rounded-md","shadow-lg","z-50","max-h-96","overflow-hidden"],[1,"p-3","border-b","border-gray-200"],["type","text","placeholder","Search users...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-100","focus:border-blue-100","text-sm",3,"ngModelChange","input","ngModel"],[1,"max-h-60","overflow-y-auto"],["class","p-4 text-center text-gray-500 text-sm",4,"ngIf"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-4","text-center","text-gray-500","text-sm"],[1,"p-2"],[1,"w-full","text-left","px-3","py-2","text-sm","hover:bg-gray-100","rounded-md","flex","items-center","gap-3","transition-colors",3,"click"],["width","32","height","32",1,"w-8","h-8","rounded-full","object-cover","flex-shrink-0",3,"ngSrc","alt"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-700","truncate"],[1,"text-xs","text-gray-500","truncate"],["class","text-xs text-red-500",4,"ngIf"],[1,"text-xs","text-red-500"],[1,"fixed","inset-0","z-40",3,"click"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"button",1),C("click",function(){return o.toggleDropdown()}),c(2,"div",2),x(3,lie,2,2,"div",3),c(4,"span",4),f(5),l()(),Ke(),c(6,"svg",5),M(7,"path",6),l()(),x(8,pie,6,3,"div",7)(9,mie,1,0,"div",8),l()),r&2&&(d(3),p("ngIf",o.selectedUserId),d(2),k(" ",o.getSelectionText()," "),d(),ne("rotate-180",o.isDropdownOpen),d(2),p("ngIf",o.isDropdownOpen),d(),p("ngIf",o.isDropdownOpen))},dependencies:[he,oe,Q,p1,bt,it,rt,On],encapsulation:2});let n=i;return n})();var Xo=(()=>{let i=class i{constructor(t){this.api=t}getIPOs(){return this.api.get("/v1/ipos")}getIPOApplications(){return this.api.get("/v1/ipos/applications")}getVPA(t){return this.api.get(`/v1/ipos/${t}/vpa`)}submitIpoApplication(t,r){return this.api.post(`/v1/ipos/${t}/applications`,r)}cancelIpoApplication(t,r){return this.api.delete(`/v1/ipos/${t}/applications/${r}`)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var xv=n=>({"border-red-500":n}),bv=()=>({standalone:!0});function hie(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"istDate"),l()),n&2){let e=g();d(),L(B(2,1,e.ipo.start_at,"date-ordinal"))}}function gie(n,i){n&1&&(c(0,"span"),f(1,"TBA"),l())}function vie(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"istDate"),l()),n&2){let e=g();d(),L(B(2,1,e.ipo.end_at,"date-ordinal"))}}function yie(n,i){n&1&&(c(0,"span"),f(1,"TBA"),l())}function _ie(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"istDate"),l()),n&2){let e=g();d(),L(B(2,1,e.ipo.allotment_finalisation_date,"date-ordinal"))}}function bie(n,i){n&1&&(c(0,"span"),f(1,"TBA"),l())}function xie(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"istDate"),l()),n&2){let e=g();d(),L(B(2,1,e.ipo.listing_date,"date-ordinal"))}}function Cie(n,i){n&1&&(c(0,"span"),f(1,"TBA"),l())}function wie(n,i){n&1&&(c(0,"span",31),f(1," Please enter a valid UPI ID "),l())}function Sie(n,i){if(n&1&&(c(0,"span",32),f(1),l()),n&2){let e=g();d(),k(" ",e.vpaName," ")}}function Mie(n,i){if(n&1){let e=V();c(0,"button",44),C("click",function(){w(e);let r=g().index,o=g();return S(o.removeBid(r))}),M(1,"fa-icon",45),l()}if(n&2){let e=g(2);p("disabled",e.bids.length<=1)("matTooltip",e.bids.length<=1?"At least one bid is required":"Remove bid"),d(),p("icon",e.faTrash)}}function Eie(n,i){if(n&1&&(c(0,"span",31),f(1),l()),n&2){let e=g(2);d(),k(" Min: ",e.getLotsMinQty()," ")}}function Tie(n,i){n&1&&(c(0,"span",31),f(1," Invalid price "),l())}function Iie(n,i){if(n&1){let e=V();c(0,"div",33)(1,"div",34)(2,"span",35),f(3),l(),x(4,Mie,2,3,"button",36),l(),c(5,"div",37)(6,"div")(7,"label",38),f(8),l(),c(9,"input",39),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.quantity,r)||(o.quantity=r),S(r)}),C("ngModelChange",function(){w(e);let r=g();return S(r.calculateAmountPayable())}),l(),x(10,Eie,2,1,"span",19),l(),c(11,"div")(12,"label",38),f(13),N(14,"number"),N(15,"number"),l(),c(16,"input",40),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.price,r)||(o.price=r),S(r)}),C("ngModelChange",function(){w(e);let r=g();return S(r.calculateAmountPayable())}),l(),x(17,Tie,2,0,"span",19),l()(),c(18,"div",41)(19,"input",42),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.auto_cutoff,r)||(o.auto_cutoff=r),S(r)}),C("change",function(){let r=w(e).index,o=g();return S(o.onCutoffPriceToggle(r))}),l(),c(20,"label",43),f(21),N(22,"number"),l()()()}if(n&2){let e=i.$implicit,t=i.index,r=g();d(3),k("Bid ",t+1),d(),p("ngIf",r.bids.length>1),d(3),p("for",go("quantity-",t)),d(),k("Quantity (Min: ",r.getLotsMinQty(),")"),d(),p("id",go("quantity-",t)),Pe("ngModel",e.quantity),p("ngModelOptions",v4(40,bv))("ngClass",vn(41,xv,e.quantity>0&&e.quantity<r.getLotsMinQty())),d(),p("ngIf",e.quantity>0&&e.quantity<r.getLotsMinQty()),d(2),p("for",go("price-",t)),d(),Mn("Price (\u20B9",B(14,31,r.getMinPrice(),"1.0-2")," - \u20B9",B(15,34,r.getMaxPrice(),"1.0-2"),")"),d(3),p("id",go("price-",t)),Pe("ngModel",e.price),p("ngModelOptions",v4(43,bv))("ngClass",vn(44,xv,e.quantity>0&&e.price>0&&(e.price<r.getMinPrice()||e.price>r.getMaxPrice())))("min",r.getMinPrice())("max",r.getMaxPrice())("disabled",e.auto_cutoff),d(),p("ngIf",e.quantity>0&&e.price>0&&(e.price<r.getMinPrice()||e.price>r.getMaxPrice())),d(2),p("id",go("cutoff-",t)),Pe("ngModel",e.auto_cutoff),p("ngModelOptions",v4(46,bv)),d(),p("for",go("cutoff-",t)),d(),k(" Apply Cutoff Price (\u20B9",B(22,37,r.getMaxPrice(),"1.0-2"),") ")}}function Die(n,i){if(n&1){let e=V();c(0,"button",46),C("click",function(){w(e);let r=g();return S(r.addBid())}),M(1,"fa-icon",45),f(2),l()}if(n&2){let e=g();d(),p("icon",e.faPlus),d(),Mn(" Add Bid (",e.bids.length,"/",e.maxBids,") ")}}var oA=(()=>{let i=class i{constructor(t,r,o,a,s){this.fb=t,this.toastrService=r,this.dialogRef=o,this.iposService=a,this.data=s,this.applicationSubmitted=new K,this.vpaName="",this.selectedTradingAccountId="",this.bids=[{quantity:0,price:0,auto_cutoff:!1}],this.totalAmountPayable=0,this.faTrash=ko,this.faPlus=Ir,this.maxBids=3,this.isLoadingVPA=!1,this.isSubmitting=!1,this.vpaData=null,this.ipo=s.ipo,this.bids[0]={quantity:this.ipo.min_qty||1,price:this.ipo.investor_types[0].max_price,auto_cutoff:!0},this.applyForm=this.fb.group({upiId:["",[pe.required,pe.pattern(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+$/)]]})}ngOnInit(){this.calculateAmountPayable()}calculateAmountPayable(){this.totalAmountPayable=0,this.bids.forEach(t=>{if(t.quantity>0){let r=t.auto_cutoff?this.ipo.investor_types[0].max_price:t.price;r>0?this.totalAmountPayable+=t.quantity*r:t.auto_cutoff&&(this.totalAmountPayable+=t.quantity*this.ipo.investor_types[0].max_price)}})}onCutoffPriceToggle(t){this.bids[t].price=this.getMaxPrice(),this.calculateAmountPayable()}getMinPrice(){return this.ipo.investor_types?.[0]?.min_price||0}getMaxPrice(){return this.ipo.investor_types?.[0]?.max_price||0}getLotsMinQty(){return this.ipo.min_qty||1}isValidBid(t){return t.quantity===0?!0:t.quantity<this.getLotsMinQty()?!1:t.auto_cutoff||t.price>=this.getMinPrice()&&t.price<=this.getMaxPrice()}addBid(){this.bids.length<this.maxBids&&this.bids.push({quantity:0,price:0,auto_cutoff:!1})}removeBid(t){this.bids.length>1&&(this.bids.splice(t,1),this.calculateAmountPayable())}canAddBid(){return this.bids.length<this.maxBids}fetchVPAId(t){t&&(this.isLoadingVPA=!0,this.iposService.getVPA(t).subscribe({next:r=>{this.vpaData=r.data,r.data?.vpa?(this.applyForm.get("upiId")?.setValue(r.data.vpa),this.vpaName=r.data.name||""):(this.applyForm.get("upiId")?.setValue(""),this.vpaName=""),this.isLoadingVPA=!1},error:r=>{this.isLoadingVPA=!1,this.applyForm.get("upiId")?.setValue(""),this.vpaName="",console.error("Error fetching VPA:",r),this.toastrService.error("Failed to fetch VPA details","Error")}}))}submit(){if(!this.selectedTradingAccountId){this.toastrService.error("Please select a trading account.","Validation Error");return}if(this.applyForm.invalid){this.applyForm.markAllAsTouched(),this.toastrService.error("Please fill in the required fields correctly.","Validation Error");return}if(!this.bids.some(o=>o.quantity>0)){this.toastrService.error("Please enter at least one bid.","Validation Error");return}for(let o=0;o<this.bids.length;o++)if(!this.isValidBid(this.bids[o])){this.toastrService.error(`Bid ${o+1} is invalid. Check quantity and price range.`,"Validation Error");return}let r={upi_id:this.applyForm.get("upiId")?.value,instrument_id:this.ipo.id,investor_type:"IND",bids:this.bids.filter(o=>o.quantity>0)};this.isSubmitting=!0,this.iposService.submitIpoApplication(this.selectedTradingAccountId,r).subscribe({next:o=>{this.isSubmitting=!1,this.toastrService.success(o?.data?.message,"Success"),this.applicationSubmitted.emit(),this.dialogRef.close({success:!0,data:o.data})},error:o=>{this.isSubmitting=!1,console.error("Error submitting IPO application:",o);let a=o?.error?.message||"Failed to submit IPO application";this.toastrService.error(a,"Error")}})}getIpoStatusChipColor(t){switch(t){case"ongoing":case"preapply":return"green";case"upcoming":return"orange";default:return"gray"}}getIpoType(t){return t==="IPO"?"MAINBOARD":"SME"}onClose(){this.dialogRef.close()}};i.\u0275fac=function(r){return new(r||i)(D(v1),D(xe),D(Tn),D(Xo),D(x1))},i.\u0275cmp=U({type:i,selectors:[["app-ipo-apply-dialog"]],outputs:{applicationSubmitted:"applicationSubmitted"},decls:103,vars:43,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"text-sm","text-blue-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","p-4","max-h-[70vh]","overflow-y-auto"],[1,"space-y-4"],[1,"font-semibold","text-gray-700","border-b","pb-2"],[1,"space-y-3","text-sm"],[1,"flex","justify-between","items-center"],[1,"text-gray-400"],[1,"text-gray-700"],[3,"text","color"],[4,"ngIf"],[1,"space-y-4",3,"formGroup"],["for","trading-account-dropdown",1,"text-gray-600","text-sm","block","mb-1"],[1,"text-red-500"],["id","trading-account-dropdown",3,"selectedUserIdChange","selectUser","selectedUserId","placeholder"],["for","upi-id",1,"text-gray-600","text-sm","block","mb-1"],["id","upi-id","type","text","formControlName","upiId","placeholder","e.g., yourname@upi",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"disabled","ngClass"],["class","text-red-500 text-sm",4,"ngIf"],["class","text-green-600 text-sm",4,"ngIf"],[1,"space-y-3"],[1,"text-gray-600","text-sm","block"],["class","border border-gray-200 rounded-md p-3 bg-gray-50 space-y-2",4,"ngFor","ngForOf"],["type","button","class","w-full py-2 border-2 border-dashed border-blue-300 text-blue-600 rounded-md hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-sm font-medium",3,"click",4,"ngIf"],[1,"bg-blue-50","p-3","rounded-md","border","border-blue-200"],[1,"text-gray-700","font-medium"],[1,"text-lg","font-bold","text-blue-600"],["cdkDragHandle","",1,"w-full","flex","flex-col","sm:flex-row","gap-3","pt-2","cdk-drag-handle","items-stretch","justify-between","p-4","border-b","cursor-move"],["type","button",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-red-500","text-sm"],[1,"text-green-600","text-sm"],[1,"border","border-gray-200","rounded-md","p-3","bg-gray-50","space-y-2"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-sm","font-medium","text-gray-700"],["type","button","class","text-red-500 hover:text-red-600 text-sm",3,"disabled","matTooltip","click",4,"ngIf"],[1,"grid","grid-cols-2","gap-2"],[1,"text-gray-600","text-sm",3,"for"],["type","number","placeholder","Qty","min","0",1,"w-full","px-2","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","text-sm",3,"ngModelChange","id","ngModel","ngModelOptions","ngClass"],["type","number","placeholder","Price","step","0.01",1,"w-full","px-2","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","text-sm",3,"ngModelChange","id","ngModel","ngModelOptions","ngClass","min","max","disabled"],[1,"flex","items-center"],["type","checkbox",1,"rounded","border-gray-300",3,"ngModelChange","change","ngModel","ngModelOptions","id"],[1,"text-gray-600","text-sm","ml-2","cursor-pointer",3,"for"],["type","button",1,"text-red-500","hover:text-red-600","text-sm",3,"click","disabled","matTooltip"],[1,"text-sm",3,"icon"],["type","button",1,"w-full","py-2","border-2","border-dashed","border-blue-300","text-blue-600","rounded-md","hover:bg-blue-50","transition-colors","flex","items-center","justify-center","gap-2","text-sm","font-medium",3,"click"]],template:function(r,o){if(r&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),f(3,"Apply for IPO"),l(),c(4,"span",3),f(5),l()(),c(6,"div",4)(7,"div",5)(8,"h3",6),f(9,"IPO Details"),l(),c(10,"div",7)(11,"div",8)(12,"span",9),f(13,"Symbol:"),l(),c(14,"span",10),f(15),l()(),c(16,"div",8)(17,"span",9),f(18,"Company Name:"),l(),c(19,"span",10),f(20),l()(),c(21,"div",8)(22,"span",9),f(23,"IPO Type:"),l(),M(24,"app-small-chip",11),l(),c(25,"div",8)(26,"span",9),f(27,"Price Range:"),l(),c(28,"span",10),f(29),N(30,"number"),N(31,"number"),l()(),c(32,"div",8)(33,"span",9),f(34,"Minimum Lot Qty:"),l(),c(35,"span",10),f(36),l()(),c(37,"div",8)(38,"span",9),f(39,"Subscription Start:"),l(),c(40,"span",10),x(41,hie,3,4,"span",12)(42,gie,2,0,"span",12),l()(),c(43,"div",8)(44,"span",9),f(45,"Subscription End:"),l(),c(46,"span",10),x(47,vie,3,4,"span",12)(48,yie,2,0,"span",12),l()(),c(49,"div",8)(50,"span",9),f(51,"Allotment Date:"),l(),c(52,"span",10),x(53,_ie,3,4,"span",12)(54,bie,2,0,"span",12),l()(),c(55,"div",8)(56,"span",9),f(57,"Listing Date:"),l(),c(58,"span",10),x(59,xie,3,4,"span",12)(60,Cie,2,0,"span",12),l()(),c(61,"div",8)(62,"span",9),f(63,"Status:"),l(),c(64,"span",10),M(65,"app-small-chip",11),l()()()(),c(66,"div",5)(67,"h3",6),f(68,"Your Application"),l(),c(69,"form",13)(70,"div")(71,"label",14),f(72," Trading Account "),c(73,"span",15),f(74,"*"),l()(),c(75,"app-user-dropdown",16),Oe("selectedUserIdChange",function(s){return Be(o.selectedTradingAccountId,s)||(o.selectedTradingAccountId=s),s}),C("selectUser",function(s){return o.fetchVPAId(s)}),l()(),c(76,"div")(77,"label",17),f(78," UPI ID "),c(79,"span",15),f(80,"*"),l()(),M(81,"input",18),x(82,wie,2,0,"span",19)(83,Sie,2,1,"span",20),l(),c(84,"div",21)(85,"div",22),f(86," Bids "),c(87,"span",15),f(88,"*"),l()(),x(89,Iie,23,47,"div",23)(90,Die,3,3,"button",24),l(),c(91,"div",25)(92,"div",8)(93,"span",26),f(94,"Total Amount Payable:"),l(),c(95,"span",27),f(96),N(97,"number"),l()()()()()(),c(98,"div",28)(99,"button",29),C("click",function(){return o.submit()}),f(100),l(),c(101,"button",30),C("click",function(){return o.onClose()}),f(102," Cancel "),l()()()),r&2){let a,s;d(5),Mn("",o.ipo.symbol," - ",o.ipo.name),d(10),L(o.ipo.symbol),d(5),L(o.ipo.name),d(4),p("text",o.getIpoType(o.ipo.sub_type))("color","purple"),d(5),Mn("\u20B9",B(30,32,o.getMinPrice(),"1.0-2")," - \u20B9",B(31,35,o.getMaxPrice(),"1.0-2")),d(7),L(o.getLotsMinQty()),d(5),p("ngIf",o.ipo.start_at),d(),p("ngIf",!o.ipo.start_at),d(5),p("ngIf",o.ipo.end_at),d(),p("ngIf",!o.ipo.end_at),d(5),p("ngIf",o.ipo.allotment_finalisation_date),d(),p("ngIf",!o.ipo.allotment_finalisation_date),d(5),p("ngIf",o.ipo.listing_date),d(),p("ngIf",!o.ipo.listing_date),d(5),p("text",o.ipo.status)("color",o.getIpoStatusChipColor(o.ipo.status)),d(4),p("formGroup",o.applyForm),d(6),Pe("selectedUserId",o.selectedTradingAccountId),p("placeholder","Select Trading Account"),d(6),p("disabled",o.isLoadingVPA)("ngClass",vn(41,xv,((a=o.applyForm.get("upiId"))==null?null:a.invalid)&&((a=o.applyForm.get("upiId"))==null?null:a.touched))),d(),p("ngIf",((s=o.applyForm.get("upiId"))==null?null:s.invalid)&&((s=o.applyForm.get("upiId"))==null?null:s.touched)),d(),p("ngIf",o.vpaName.length>0),d(6),p("ngForOf",o.bids),d(),p("ngIf",o.canAddBid()),d(6),k("\u20B9",B(97,38,o.totalAmountPayable,"1.0-2")),d(3),p("disabled",o.isSubmitting||o.isLoadingVPA),d(),k(" ",o.isSubmitting?"Submitting...":"Submit"," "),d(),p("disabled",o.isSubmitting||o.isLoadingVPA)}},dependencies:[he,le,oe,Q,bt,g1,it,ja,wr,rt,h1,Ha,Ym,On,ln,n1,i1,Gn,Wn,we,Xe,xt,x7,mt,nn],styles:[".form-input[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem .75rem}.form-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1)) }.form-label[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.bid-item[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:.75rem}"]});let n=i;return n})();function zie(n,i){n&1&&(c(0,"div",1)(1,"p",2),f(2,"No IPOs to display"),l()())}function Lie(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("symbol"))}}function kie(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("name"))}}function Aie(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("type"))}}function Nie(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("priceRange"))}}function Pie(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("status"))}}function Oie(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("startDate"))}}function Rie(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("endDate"))}}function Fie(n,i){if(n&1&&(c(0,"span",14),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("listingDate"))}}function Bie(n,i){if(n&1&&(c(0,"span"),f(1),l()),n&2){let e=g().$implicit;d(),Mn("\u20B9",e.investor_types[0].min_price," - \u20B9",e.investor_types[0].max_price)}}function Vie(n,i){n&1&&(c(0,"span",28),f(1,"TBA"),l())}function Uie(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"istDate"),l()),n&2){let e=g().$implicit;d(),L(B(2,1,e.start_at,"date-ordinal"))}}function jie(n,i){n&1&&(c(0,"span",28),f(1,"TBA"),l())}function Hie(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"istDate"),l()),n&2){let e=g().$implicit;d(),L(B(2,1,e.end_at,"date-ordinal"))}}function qie(n,i){n&1&&(c(0,"span",28),f(1,"TBA"),l())}function $ie(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"istDate"),l()),n&2){let e=g().$implicit;d(),L(B(2,1,e.listing_date,"date-ordinal"))}}function Wie(n,i){n&1&&(c(0,"span",28),f(1,"TBA"),l())}function Gie(n,i){if(n&1){let e=V();c(0,"button",29),C("click",function(){w(e);let r=g().$implicit,o=g(2);return S(o.openApplyDialog(r))}),f(1," Apply "),l()}}function Yie(n,i){if(n&1&&(c(0,"div",37),M(1,"div",38),c(2,"div",39),f(3,"Subscription Opens"),l(),c(4,"div",40),f(5),N(6,"istDate"),l()()),n&2){let e=g(2).$implicit;d(5),L(B(6,1,e.start_at,"date-ordinal"))}}function Qie(n,i){n&1&&(c(0,"div",41),M(1,"div",42),l())}function Kie(n,i){if(n&1&&(c(0,"div",37),M(1,"div",43),c(2,"div",39),f(3,"Subscription Closes"),l(),c(4,"div",40),f(5),N(6,"istDate"),l()()),n&2){let e=g(2).$implicit;d(5),L(B(6,1,e.end_at,"date-ordinal"))}}function Xie(n,i){n&1&&(c(0,"div",41),M(1,"div",42),l())}function Zie(n,i){if(n&1&&(c(0,"div",37),M(1,"div",44),c(2,"div",39),f(3,"Allotment"),l(),c(4,"div",40),f(5),N(6,"istDate"),l()()),n&2){let e=g(2).$implicit;d(5),L(B(6,1,e.allotment_finalisation_date,"date-ordinal"))}}function Jie(n,i){n&1&&(c(0,"div",41),M(1,"div",42),l())}function e2e(n,i){if(n&1&&(c(0,"div",37),M(1,"div",45),c(2,"div",39),f(3,"Refund Initiation"),l(),c(4,"div",40),f(5),N(6,"istDate"),l()()),n&2){let e=g(2).$implicit;d(5),L(B(6,1,e.refund_initiation_date,"date-ordinal"))}}function t2e(n,i){n&1&&(c(0,"div",41),M(1,"div",42),l())}function n2e(n,i){if(n&1&&(c(0,"div",37),M(1,"div",46),c(2,"div",39),f(3,"Demat Transfer"),l(),c(4,"div",40),f(5),N(6,"istDate"),l()()),n&2){let e=g(2).$implicit;d(5),L(B(6,1,e.demat_transfer_date,"date-ordinal"))}}function i2e(n,i){n&1&&(c(0,"div",41),M(1,"div",42),l())}function r2e(n,i){if(n&1&&(c(0,"div",37),M(1,"div",44),c(2,"div",39),f(3,"Listing Date"),l(),c(4,"div",40),f(5),N(6,"istDate"),l()()),n&2){let e=g(2).$implicit;d(5),L(B(6,1,e.listing_date,"date-ordinal"))}}function o2e(n,i){if(n&1&&(c(0,"tr")(1,"td",30)(2,"div",31)(3,"h4",32),f(4,"IPO Timeline"),l(),c(5,"div",33)(6,"div",34),x(7,Yie,7,4,"div",35)(8,Qie,2,0,"div",36)(9,Kie,7,4,"div",35)(10,Xie,2,0,"div",36)(11,Zie,7,4,"div",35)(12,Jie,2,0,"div",36)(13,e2e,7,4,"div",35)(14,t2e,2,0,"div",36)(15,n2e,7,4,"div",35)(16,i2e,2,0,"div",36)(17,r2e,7,4,"div",35),l()()()()()),n&2){let e=g().$implicit;d(7),p("ngIf",e.start_at),d(),p("ngIf",e.start_at&&e.end_at),d(),p("ngIf",e.end_at),d(),p("ngIf",e.end_at&&e.allotment_finalisation_date),d(),p("ngIf",e.allotment_finalisation_date),d(),p("ngIf",e.allotment_finalisation_date&&e.refund_initiation_date),d(),p("ngIf",e.refund_initiation_date),d(),p("ngIf",e.refund_initiation_date&&e.demat_transfer_date),d(),p("ngIf",e.demat_transfer_date),d(),p("ngIf",e.demat_transfer_date&&e.listing_date),d(),p("ngIf",e.listing_date)}}function a2e(n,i){if(n&1){let e=V();He(0),c(1,"tr",15)(2,"td",16)(3,"a",17),f(4),l()(),c(5,"td",16)(6,"a",18),f(7),l()(),c(8,"td",16),M(9,"app-small-chip",19),l(),c(10,"td",20),x(11,Bie,2,2,"span",21)(12,Vie,2,0,"span",22),l(),c(13,"td",16),M(14,"app-small-chip",19),l(),c(15,"td",23),x(16,Uie,3,4,"span",21)(17,jie,2,0,"span",22),l(),c(18,"td",23),x(19,Hie,3,4,"span",21)(20,qie,2,0,"span",22),l(),c(21,"td",23),x(22,$ie,3,4,"span",21)(23,Wie,2,0,"span",22),l(),c(24,"td",24)(25,"div",25)(26,"button",26),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleTimeline(r.id))}),f(27),l(),x(28,Gie,2,0,"button",27),l()()(),x(29,o2e,18,11,"tr",21),qe()}if(n&2){let e=i.$implicit,t=g(2);d(3),p("href",e.rhp_link,c4),d(),k(" ",e.symbol," "),d(2),p("href",e.rhp_link,c4),d(),k(" ",e.name," "),d(2),p("text",t.getIpoType(e.sub_type))("color","purple"),d(2),p("ngIf",e.investor_types.length>0),d(),p("ngIf",e.investor_types.length===0),d(2),p("text",e.status)("color",t.getIpoStatusChipColor(e.status)),d(2),p("ngIf",e.start_at),d(),p("ngIf",!e.start_at),d(2),p("ngIf",e.end_at),d(),p("ngIf",!e.end_at),d(2),p("ngIf",e.listing_date),d(),p("ngIf",!e.listing_date),d(4),k(" ",t.isTimelineExpanded(e.id)?"Hide":"Timeline"," "),d(),p("ngIf",e.status==="ongoing"||e.status==="preapply"),d(),p("ngIf",t.isTimelineExpanded(e.id))}}function s2e(n,i){if(n&1){let e=V();c(0,"div")(1,"table",3)(2,"thead",4)(3,"tr",5)(4,"th",6)(5,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("symbol"))}),f(6," SYMBOL "),x(7,Lie,2,1,"span",8),l()(),c(8,"th",6)(9,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("name"))}),f(10," NAME "),x(11,kie,2,1,"span",8),l()(),c(12,"th",6)(13,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("type"))}),f(14," TYPE "),x(15,Aie,2,1,"span",8),l()(),c(16,"th",9)(17,"button",10),C("click",function(){w(e);let r=g();return S(r.setSort("priceRange"))}),f(18," PRICE RANGE "),x(19,Nie,2,1,"span",8),l()(),c(20,"th",6)(21,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("status"))}),f(22," STATUS "),x(23,Pie,2,1,"span",8),l()(),c(24,"th",6)(25,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("startDate"))}),f(26," START DATE "),x(27,Oie,2,1,"span",8),l()(),c(28,"th",6)(29,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("endDate"))}),f(30," END DATE "),x(31,Rie,2,1,"span",8),l()(),c(32,"th",6)(33,"button",7),C("click",function(){w(e);let r=g();return S(r.setSort("listingDate"))}),f(34," LISTING DATE "),x(35,Fie,2,1,"span",8),l()(),c(36,"th",11),f(37,"ACTIONS"),l()()(),c(38,"tbody",12),x(39,a2e,30,19,"ng-container",13),l()()()}if(n&2){let e=g();d(7),p("ngIf",e.getSortIndicator("symbol")),d(4),p("ngIf",e.getSortIndicator("name")),d(4),p("ngIf",e.getSortIndicator("type")),d(4),p("ngIf",e.getSortIndicator("priceRange")),d(4),p("ngIf",e.getSortIndicator("status")),d(4),p("ngIf",e.getSortIndicator("startDate")),d(4),p("ngIf",e.getSortIndicator("endDate")),d(4),p("ngIf",e.getSortIndicator("listingDate")),d(4),p("ngForOf",e.sortedRows)("ngForTrackBy",e.trackById)}}var aA=(()=>{let i=class i{get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((t,r)=>this.compareRows(t,r))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection=this.getDefaultDirection(t)}getDefaultDirection(t){return["startDate","endDate","listingDate"].includes(t)?"desc":"asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}constructor(t){this.dialog=t,this.rows=[],this.applicationSubmitted=new K,this.expandedTimelines=new Set,this.sortColumn="startDate",this.sortDirection="desc",this.sortAccessors={symbol:r=>r.symbol?.toString().toLowerCase()??"",name:r=>r.name?.toString().toLowerCase()??"",status:r=>r.status?.toString().toLowerCase()??"",type:r=>r.sub_type?.toString().toLowerCase()??"",priceRange:r=>r.investor_types?.[0]?.min_price??0,startDate:r=>r.start_at??0,endDate:r=>r.end_at??0,listingDate:r=>r.listing_date??0}}getIpoStatusChipColor(t){switch(t){case"ongoing":case"preapply":return"green";case"upcoming":return"orange";default:return"gray"}}getIpoType(t){return t==="IPO"?"MAINBOARD":"SME"}trackById(t,r){return r.id}toggleTimeline(t){this.expandedTimelines.has(t)?this.expandedTimelines.delete(t):this.expandedTimelines.add(t)}isTimelineExpanded(t){return this.expandedTimelines.has(t)}openApplyDialog(t){let r=this.dialog.open(oA,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{ipo:t}});r.componentInstance.applicationSubmitted.subscribe(()=>{this.applicationSubmitted.emit()}),r.afterClosed().subscribe(o=>{})}};i.\u0275fac=function(r){return new(r||i)(D(Zt))},i.\u0275cmp=U({type:i,selectors:[["app-ipo-table"]],inputs:{rows:"rows"},outputs:{applicationSubmitted:"applicationSubmitted"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","justify-end",3,"click"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],["target","_blank",1,"hover:underline","text-blue-600","font-medium",3,"href"],["target","_blank",1,"hover:underline","text-sm",3,"href"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-right","whitespace-nowrap"],[4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-blue-600","hover:underline",3,"click"],["class","px-2 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-xs font-medium",3,"click",4,"ngIf"],[1,"text-gray-400"],[1,"px-2","py-1","bg-blue-500","text-white","rounded-md","hover:bg-blue-600","transition-colors","text-xs","font-medium",3,"click"],["colspan","9",1,"px-2","md:px-4","py-2","border-t","border-gray-200"],[1,"relative","w-full"],[1,"text-sm","font-semibold","text-gray-700","mb-4"],[1,"w-full","pb-4","overflow-x-auto"],[1,"flex","items-start","gap-2","md:gap-3","w-full","min-w-max","md:min-w-full","md:justify-between"],["class","flex flex-col items-center flex-shrink-0 gap-1",4,"ngIf"],["class","hidden md:flex items-center flex-1 min-w-2",4,"ngIf"],[1,"flex","flex-col","items-center","flex-shrink-0","gap-1"],[1,"w-3","h-3","bg-blue-500","rounded-full","flex-shrink-0"],[1,"text-gray-700","text-center","whitespace-nowrap"],[1,"text-gray-500","text-center","whitespace-nowrap"],[1,"hidden","md:flex","items-center","flex-1","min-w-2"],[1,"h-0.5","w-full","bg-gray-300"],[1,"w-3","h-3","bg-red-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-green-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-orange-500","rounded-full","flex-shrink-0"],[1,"w-3","h-3","bg-teal-500","rounded-full","flex-shrink-0"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,zie,3,0,"div",1)(2,s2e,40,10,"div"),l()),r&2&&(d(),et(!o.rows||o.rows.length===0?1:2))},dependencies:[oe,xt,Q,nn],encapsulation:2});let n=i;return n})();function c2e(n,i){n&1&&(c(0,"div",2)(1,"p",3),f(2,"No IPO applications to display"),l()())}function l2e(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("symbol"))}}function d2e(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("investorType"))}}function u2e(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("category"))}}function f2e(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("created_at"))}}function p2e(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("updated_at"))}}function m2e(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("upi_id"))}}function h2e(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("status"))}}function g2e(n,i){if(n&1){let e=V();c(0,"button",28),C("click",function(){w(e);let r=g().$implicit,o=g(3);return S(o.cancelApplication(r))}),f(1),l()}if(n&2){let e=g().$implicit,t=g(3);p("disabled",t.cancellationInProgress.has(e.id)),d(),k(" ",t.cancellationInProgress.has(e.id)?"Cancelling...":"Cancel"," ")}}function v2e(n,i){if(n&1&&(c(0,"div",35)(1,"div",36)(2,"div",37)(3,"span",38),f(4,"Status:"),l(),c(5,"span",39),f(6),N(7,"uppercase"),l()(),c(8,"div",37)(9,"span",38),f(10,"Quantity:"),l(),c(11,"span",39),f(12),l()(),c(13,"div",37)(14,"span",38),f(15,"Price:"),l(),c(16,"span",39),f(17),l()(),c(18,"div",37)(19,"span",38),f(20,"Amount:"),l(),c(21,"span",39),f(22),l()(),c(23,"div",37)(24,"span",38),f(25,"Exchange ID:"),l(),c(26,"span",39),f(27),l()(),c(28,"div",37)(29,"span",38),f(30,"Auto Cutoff:"),l(),c(31,"span",39),f(32),l()()()()),n&2){let e=i.$implicit;d(6),L(W1(7,6,e.status)),d(6),L(e.quantity),d(5),L(e.price),d(5),k("\u20B9",e.amount),d(5),L(e.exchange_id),d(5),L(e.auto_cutoff?"Yes":"No")}}function y2e(n,i){if(n&1&&(c(0,"div",33),x(1,v2e,33,8,"div",34),l()),n&2){let e=g(2).$implicit;d(),p("ngForOf",e.bids)}}function _2e(n,i){n&1&&(c(0,"p",40),f(1,"No bids available"),l())}function b2e(n,i){if(n&1&&(c(0,"tr")(1,"td",29)(2,"div",30)(3,"h4",31),f(4,"Bid Details"),l(),x(5,y2e,2,1,"div",32)(6,_2e,2,0,"ng-template",null,0,Yt),l()()()),n&2){let e=At(7),t=g().$implicit;d(5),p("ngIf",t.bids&&t.bids.length>0)("ngIfElse",e)}}function x2e(n,i){if(n&1){let e=V();He(0),c(1,"tr",18)(2,"td",19)(3,"span",20),f(4),l()(),c(5,"td",19),M(6,"app-small-chip",21),l(),c(7,"td",19),M(8,"app-small-chip",21),l(),c(9,"td",22),f(10),N(11,"istDate"),l(),c(12,"td",22),f(13),N(14,"istDate"),l(),c(15,"td",22),f(16),l(),c(17,"td",19),M(18,"app-small-chip",23),l(),c(19,"td",24)(20,"div",25)(21,"button",26),C("click",function(){let r=w(e).$implicit,o=g(3);return S(o.toggleBidDetails(r.id))}),f(22),l(),x(23,g2e,2,2,"button",27),l()()(),x(24,b2e,8,2,"tr",17),qe()}if(n&2){let e=i.$implicit,t=g(3);d(4),L(e.symbol),d(2),p("text",t.getInvestorType(e.investor_type))("color","gray"),d(2),p("text",t.getIpoType(e.category))("color","purple"),d(2),k(" ",B(11,14,e.created_at,"date-ordinal")," "),d(3),k(" ",B(14,17,e.updated_at,"datetime-ordinal-no-mod")," "),d(3),k(" ",e.upi_id," "),d(2),p("matTooltip",e.payment_status)("text",e.status)("color",t.getStatusChipColor(e.status)),d(4),k(" ",t.isBidDetailsExpanded(e.id)?"Hide Bids":"See Bids"," "),d(),p("ngIf",(e.status==null?null:e.status.toUpperCase())!=="CANCELLED"&&(e.status==null?null:e.status.toUpperCase())!=="ALLOTTED"&&(e.status==null?null:e.status.toUpperCase())!=="NOT ALLOTTED"),d(),p("ngIf",t.isBidDetailsExpanded(e.id))}}function C2e(n,i){n&1&&(c(0,"tr")(1,"td",41),M(2,"div",42),l()())}function w2e(n,i){if(n&1&&(He(0),c(1,"tr",14)(2,"td",15),M(3,"app-user-info-header",16),l()(),x(4,x2e,25,20,"ng-container",12)(5,C2e,3,0,"tr",17),qe()),n&2){let e=i.$implicit,t=i.last,r=g(2);d(3),p("userId",e.userId)("userName",e.userName||e.userId)("fullName",e.fullName||e.userName)("avatarUrl",e.avatarUrl)("fallbackAvatarUrl",r.fallbackAvatarUrl),d(),p("ngForOf",e.applications)("ngForTrackBy",r.trackByApplicationId),d(),p("ngIf",!t)}}function S2e(n,i){if(n&1){let e=V();c(0,"div")(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("symbol"))}),f(6," SYMBOL "),x(7,l2e,2,1,"span",9),l()(),c(8,"th",7)(9,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("investorType"))}),f(10," INVESTOR "),x(11,d2e,2,1,"span",9),l()(),c(12,"th",7)(13,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("category"))}),f(14," TYPE "),x(15,u2e,2,1,"span",9),l()(),c(16,"th",7)(17,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("created_at"))}),f(18," APPLIED ON "),x(19,f2e,2,1,"span",9),l()(),c(20,"th",7)(21,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("updated_at"))}),f(22," LAST UPDATE ON "),x(23,p2e,2,1,"span",9),l()(),c(24,"th",7)(25,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("upi_id"))}),f(26," UPI ID "),x(27,m2e,2,1,"span",9),l()(),c(28,"th",7)(29,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("status"))}),f(30," STATUS "),x(31,h2e,2,1,"span",9),l()(),c(32,"th",10),f(33,"ACTIONS"),l()()(),c(34,"tbody",11),x(35,w2e,6,8,"ng-container",12),l()()()}if(n&2){let e=g();d(7),p("ngIf",e.getSortIndicator("symbol")),d(4),p("ngIf",e.getSortIndicator("investorType")),d(4),p("ngIf",e.getSortIndicator("category")),d(4),p("ngIf",e.getSortIndicator("created_at")),d(4),p("ngIf",e.getSortIndicator("updated_at")),d(4),p("ngIf",e.getSortIndicator("upi_id")),d(4),p("ngIf",e.getSortIndicator("status")),d(4),p("ngForOf",e.sortedGroupedApplications)("ngForTrackBy",e.trackByUserId)}}var sA=(()=>{let i=class i{get sortedGroupedApplications(){return!this.sortColumn||!this.sortDirection?this.groupedApplications:this.groupedApplications.map(t=>ie(P({},t),{applications:[...t.applications??[]].sort((r,o)=>this.compareRows(r,o))}))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection=this.getDefaultDirection(t)}getDefaultDirection(t){return["updated_at"].includes(t)?"desc":"asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}constructor(t,r,o){this.iposService=t,this.alertService=r,this.toastrService=o,this.groupedApplications=[],this.applicationCancelled=new K,this.fallbackAvatarUrl="",this.cancellationInProgress=new Set,this.expandedBidDetails=new Set,this.sortColumn="updated_at",this.sortDirection="desc",this.sortAccessors={symbol:a=>a.symbol?.toString().toLowerCase()??"",status:a=>a.status?.toString().toLowerCase()??"",investorType:a=>a.investor_type?.toString().toLowerCase()??"",created_at:a=>a.created_at??0,updated_at:a=>a.updated_at?.toString().toLowerCase()??"",category:a=>a.updated_at?.toString().toLowerCase()??"",upi_id:a=>a.updated_at?.toString().toLowerCase()??""}}getStatusChipColor(t){switch(t?.toUpperCase()){case"SUBMITTED":case"APPLIED":return"blue";case"ACCEPTED":case"ALLOTTED":return"green";case"REJECTED":case"NOT ALLOTTED":return"red";case"PENDING":return"orange";default:return"gray"}}toggleBidDetails(t){this.expandedBidDetails.has(t)?this.expandedBidDetails.delete(t):this.expandedBidDetails.add(t)}isBidDetailsExpanded(t){return this.expandedBidDetails.has(t)}getIpoType(t){return t==="ipo"?"MAINBOARD":"SME"}getInvestorType(t){switch(t?.toUpperCase()){case"IND":return"INDIVIDUAL";case"HNI":return"HNI";case"NRI":return"NRI";case"RETAIL":return"RETAIL";default:return"gray"}}trackByApplicationId(t,r){return r.id}trackByUserId(t,r){return r.userId}cancelApplication(t){this.alertService.confirm("Cancel IPO Application",`Are you sure you want to cancel the IPO application for ${t.symbol}?`,()=>{this.performCancellation(t)})}performCancellation(t){this.cancellationInProgress.add(t.id),this.iposService.cancelIpoApplication(t.user_id,t.id).subscribe({next:r=>{this.cancellationInProgress.delete(t.id),this.toastrService.success(r?.data?.message||"IPO application cancelled successfully","Success"),this.applicationCancelled.emit()},error:r=>{this.cancellationInProgress.delete(t.id);let o=r?.error?.message||"Failed to cancel IPO application";this.toastrService.error(o,"Error")}})}};i.\u0275fac=function(r){return new(r||i)(D(Xo),D(ni),D(xe))},i.\u0275cmp=U({type:i,selectors:[["app-ipo-applications-table"]],inputs:{groupedApplications:"groupedApplications",fallbackAvatarUrl:"fallbackAvatarUrl"},outputs:{applicationCancelled:"applicationCancelled"},decls:3,vars:1,consts:[["noBids",""],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left","whitespace-nowrap"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-gray-700","text-sm","md:text-sm"],["colspan","8",1,"px-2","md:px-4","whitespace-nowrap"],[3,"userId","userName","fullName","avatarUrl","fallbackAvatarUrl"],[4,"ngIf"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"text-gray-700","font-semibold"],[3,"text","color"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap","text-sm"],[1,"cursor-pointer",3,"matTooltip","text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-blue-600","hover:underline",3,"click"],["class","text-red-600 hover:underline cursor-pointer disabled:text-gray-400 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"text-red-600","hover:underline","cursor-pointer","disabled:text-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],["colspan","8",1,"px-2","md:px-4","py-2","border-t","border-gray-200"],[1,"relative","w-full"],[1,"text-sm","font-semibold","text-gray-700","mb-4"],["class","space-y-3",4,"ngIf","ngIfElse"],[1,"space-y-3"],["class","rounded-md border border-gray-200 p-3 bg-white text-sm",4,"ngFor","ngForOf"],[1,"rounded-md","border","border-gray-200","p-3","bg-white","text-sm"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3","text-gray-700"],[1,"flex","items-center","gap-1"],[1,"text-gray-400"],[1,""],[1,"text-gray-400","text-sm"],["colspan","8",1,"py-1"],[1,"border-b","border-dashed","border-gray-100"]],template:function(r,o){r&1&&(c(0,"div",1),Je(1,c2e,3,0,"div",2)(2,S2e,36,9,"div"),l()),r&2&&(d(),et(!o.groupedApplications||o.groupedApplications.length===0?1:2))},dependencies:[oe,xt,Xe,Q,ei,nn,D4],encapsulation:2});let n=i;return n})();var M2e=(n,i)=>({"bg-blue-100 text-blue-600":n,"bg-blue-50 text-blue-500":i});function E2e(n,i){n&1&&M(0,"span",9)}function T2e(n,i){if(n&1){let e=V();c(0,"div",6),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.setActiveSubTab(r))}),f(1),c(2,"span",7),f(3),l(),x(4,E2e,1,0,"span",8),l()}if(n&2){let e=i.$implicit,t=g(2);ne("active-tab",e===t.activeSubTab)("text-gray-700",e!==t.activeSubTab),d(),k(" ",e," "),d(),p("ngClass",Ae(8,M2e,e===t.activeSubTab,e!==t.activeSubTab)),d(),k(" ",t.tabCounts[e]," "),d(),p("ngIf",e===t.activeSubTab)}}function I2e(n,i){if(n&1){let e=V();c(0,"div",16)(1,"app-ipo-table",17),C("applicationSubmitted",function(){w(e);let r=g(3);return S(r.fetchIPOApplications())}),l()()}if(n&2){let e=g(3);d(),p("rows",e.filteredIpos)}}function D2e(n,i){n&1&&(c(0,"div",16)(1,"app-note",18),f(2," There are no IPOs display here. Check your filters or search criteria. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function z2e(n,i){if(n&1){let e=V();c(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),C("filtersChanged",function(r){w(e);let o=g(2);return S(o.applyFilters(r))})("handleRefresh",function(r){w(e);let o=g(2);return S(o.handleRefresh(r))}),l()(),M(4,"div",13),c(5,"div",11)(6,"app-search-input",14),C("inputChange",function(r){w(e);let o=g(2);return S(o.onSearch(r))}),l()()(),x(7,I2e,2,1,"div",15)(8,D2e,3,3,"ng-template",null,0,Yt),l()}if(n&2){let e=At(9),t=g(2);d(3),p("filterOptions",t.filterOptions)("filterSelection",t.filterSelection)("isLoadingData",t.isLoadingData),d(3),p("placeholder","Search IPOs by name or type")("searchTerm",t.searchQuery),d(),p("ngIf",t.filteredIpos.length>0)("ngIfElse",e)}}function L2e(n,i){if(n&1){let e=V();c(0,"div",16)(1,"app-ipo-applications-table",20),C("applicationCancelled",function(){w(e);let r=g(3);return S(r.onApplicationCancelled())}),l()()}if(n&2){let e=g(3);d(),p("groupedApplications",e.groupedApplications)("fallbackAvatarUrl",e.fallbackAvatarUrl)}}function k2e(n,i){n&1&&(c(0,"div",16)(1,"app-note",18),f(2," You don't have any IPO applications. Check your filters or search criteria. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function A2e(n,i){if(n&1){let e=V();c(0,"div")(1,"div",10)(2,"div",11)(3,"app-tool-bar",12),C("filtersChanged",function(r){w(e);let o=g(2);return S(o.applyApplicationsFilters(r))})("handleRefresh",function(r){w(e);let o=g(2);return S(o.handleApplicationsRefresh(r))}),l()(),M(4,"div",13),c(5,"div",11)(6,"app-user-filter",19),C("selectAllUsers",function(){w(e);let r=g(2);return S(r.onAllUserSelection())})("selectUsers",function(r){w(e);let o=g(2);return S(o.onUserSelection(r))})("totalUsers",function(r){w(e);let o=g(2);return S(o.captureUsers(r))}),l()(),c(7,"div",11)(8,"app-search-input",14),C("inputChange",function(r){w(e);let o=g(2);return S(o.onIpoApplicationSearch(r))}),l()()(),x(9,L2e,2,2,"div",15)(10,k2e,3,3,"ng-template",null,0,Yt),l()}if(n&2){let e=At(11),t=g(2);d(3),p("filterOptions",t.applicationsFilterOptions)("filterSelection",t.applicationsFilterSelection)("isLoadingData",t.isLoadingData),d(3),p("selectedUserIds",t.selectedUserIds),d(2),p("placeholder","Search IPO applications by User ID or Symbol")("searchTerm",t.searchIpoApplicationsQuery),d(),p("ngIf",t.groupedApplications.length>0)("ngIfElse",e)}}function N2e(n,i){if(n&1&&(c(0,"div")(1,"div",3)(2,"div",4),x(3,T2e,5,11,"div",5),l()(),x(4,z2e,10,7,"div",2)(5,A2e,12,8,"div",2),l()),n&2){let e=g();d(3),p("ngForOf",e.subTabs),d(),p("ngIf",e.activeSubTab===e.subTabs[0]),d(),p("ngIf",e.activeSubTab===e.subTabs[1])}}var cA=(()=>{let i=class i{constructor(t,r,o,a,s,u){this.iposService=t,this.toastrService=r,this.userDataStateService=o,this.utilsService=a,this.document=s,this.userViewStateService=u,this.ipos=[],this.ipoApplications=[],this.groupedApplications=[],this.filteredIpos=[],this.users=[],this.errorMessage="",this.subTabs=["IPO","Applications"],this.activeSubTab="IPO",this.selectedUserIds=[],this.tabCounts={IPO:0,Applications:0},this.isLoadingData=!1,this.filterOptions=[{key:"sub_type",values:["IPO","SME"]},{key:"status",values:["UPCOMING","PREAPPLY","ONGOING","CLOSED"]}],this.filterSelection=[],this.applicationsFilterOptions=[{key:"category",values:["IPO","SME"]},{key:"status",values:["PENDING","SUBMITTED","ALLOTTED","NOT ALLOTTED","CANCELLED"]}],this.applicationsFilterSelection=[],this.searchQuery="",this.searchIpoApplicationsQuery="",this.faSpinner=X1,this.faRefresh=Li,this.fallbackAvatarUrl=cn}ngOnInit(){let t=this.userViewStateService.getState();this.activeSubTab=t.ipos.selectedIpoType||"IPO",this.searchQuery=t.ipos.searchQuery,this.searchIpoApplicationsQuery=t.ipos.searchIpoApplicationsQuery,this.selectedUserIds=t.ipos.selectedUsersIds||[],t.ipos.filterSelection?.length>0&&(this.filterSelection=t.ipos.filterSelection),t.ipos.applicationsFilterSelection?.length>0&&(this.applicationsFilterSelection=t.ipos.applicationsFilterSelection),this.getCachedData(),this.fetchedIPOs(),this.fetchIPOApplications()}setActiveSubTab(t){this.activeSubTab=t,this.saveUserViewState()}updateFilteredIPOs(){let t=this.ipos;this.searchQuery&&(t=t.filter(r=>r.sub_type.toLowerCase().includes(this.searchQuery)||r.name.toLowerCase().includes(this.searchQuery)||r.symbol.toLowerCase().includes(this.searchQuery))),this.filterSelection.length>0&&(t=this.utilsService.filter(this.filterSelection,t)),this.filteredIpos=t}updateFilteredIpoApplications(){let t=this.ipoApplications;this.selectedUserIds.length>0&&(t=t.filter(r=>this.selectedUserIds.includes(r.user_id))),this.searchIpoApplicationsQuery&&(t=t.filter(r=>r.symbol.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.user_id.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.category.toLowerCase().includes(this.searchIpoApplicationsQuery)||r.status.toLowerCase().includes(this.searchIpoApplicationsQuery))),this.applicationsFilterSelection.length>0&&(t=this.utilsService.filter(this.applicationsFilterSelection,t)),this.groupApplicationsByUser(t)}groupApplicationsByUser(t){let r={};t.forEach(o=>{r[o.user_id]||(r[o.user_id]=[]),r[o.user_id].push(o)}),this.groupedApplications=Object.entries(r).map(([o,a])=>({userId:o,applications:a,userName:this.getUserName(o),fullName:this.getUserFullName(o),avatarUrl:this.getAvatarUrl(o)}))}onSearch(t){this.searchQuery=t.toLowerCase(),this.updateFilteredIPOs(),this.saveUserViewState()}onIpoApplicationSearch(t){this.searchIpoApplicationsQuery=t.toLowerCase(),this.updateFilteredIpoApplications(),this.saveUserViewState()}captureUsers(t){this.users=t}getAvatarUrl(t){return this.utilsService.getAvatarUrl(this.users,t)}getUserName(t){return this.utilsService.getUserName(this.users,t)}getUserFullName(t){return this.utilsService.getUserFullName(this.users,t)}onUserSelection(t){this.selectedUserIds=t,this.updateFilteredIpoApplications(),this.saveUserViewState()}onAllUserSelection(){this.selectedUserIds=[],this.updateFilteredIpoApplications(),this.saveUserViewState()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&(t.users&&(this.users=t.users),t.ipos&&(this.ipos=t.ipos),t.ipoApplications&&(this.ipoApplications=t.ipoApplications),this.renderIPOs(),this.renderIPOApplications())}setCachedData(){this.userDataStateService.setState({ipos:this.ipos,ipoApplications:this.ipoApplications})}fetchedIPOs(t){this.isLoadingData=!0,this.iposService.getIPOs().subscribe({next:r=>{this.ipos=r.data,this.renderIPOs(),this.setCachedData(),this.isLoadingData=!1},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching ipos. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`,this.isLoadingData=!1},complete:()=>{t&&t()}})}fetchIPOApplications(t){this.iposService.getIPOApplications().subscribe({next:r=>{this.ipoApplications=r.data,this.renderIPOApplications(),this.setCachedData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching IPO applications. Verify that the backend service is operational.","Error"),this.errorMessage=`Status Code: ${r.error.status}, Error Message: ${r.error.message}`},complete:()=>{t&&t()}})}renderIPOApplications(){this.tabCounts.Applications=this.ipoApplications.length,this.updateFilteredIpoApplications()}renderIPOs(){this.tabCounts.IPO=this.ipos.filter(t=>t.status==="ongoing"||t.status==="preapply"||t.status==="upcoming").length,this.updateFilteredIPOs()}saveUserViewState(){this.userViewStateService.setState({ipos:{selectedIpoType:this.activeSubTab,searchQuery:this.searchQuery,searchIpoApplicationsQuery:this.searchIpoApplicationsQuery,selectedUsersIds:this.selectedUserIds,filterSelection:this.filterSelection,applicationsFilterSelection:this.applicationsFilterSelection}})}onApplicationCancelled(){this.fetchIPOApplications()}applyFilters(t){this.filterSelection=t,this.updateFilteredIPOs(),this.saveUserViewState()}applyApplicationsFilters(t){this.applicationsFilterSelection=t,this.updateFilteredIpoApplications(),this.saveUserViewState()}handleRefresh(t){this.fetchedIPOs(t)}handleApplicationsRefresh(t){this.fetchIPOApplications(t)}};i.\u0275fac=function(r){return new(r||i)(D(Xo),D(xe),D(Dt),D(zt),D(J),D(Ut))},i.\u0275cmp=U({type:i,selectors:[["app-ipos"]],decls:2,vars:1,consts:[["noData",""],[1,"page-container"],[4,"ngIf"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],[1,"text-sm","gap-1.5","font-semibold","pb-0.5","px-2","py-1","rounded-md",3,"ngClass"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"flex","items-center","justify-between","gap-4","w-full","mb-2"],[1,"flex-shrink-0"],[3,"filtersChanged","handleRefresh","filterOptions","filterSelection","isLoadingData"],[1,"flex-1"],[3,"inputChange","placeholder","searchTerm"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"applicationSubmitted","rows"],[3,"type","dismissible","atCenter"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],[3,"applicationCancelled","groupedApplications","fallbackAvatarUrl"]],template:function(r,o){r&1&&(c(0,"div",1),x(1,N2e,6,3,"div",2),l()),r&2&&(d(),p("ngIf",!o.errorMessage))},dependencies:[Kn,Q,oe,ki,le,aA,sA,qn,Vi],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 135px);min-height:calc(100vh - var(--header-height, 80px) - 135px)}"]});let n=i;return n})();var Cv=(n,i,e)=>({"text-left":n,"text-right":i,"text-center":e});function P2e(n,i){n&1&&(c(0,"div",13),Ke(),c(1,"svg",14),M(2,"path",15),l(),kt(),c(3,"p",16),f(4,"No users found"),l()())}function O2e(n,i){if(n&1&&(c(0,"th",29),f(1),l()),n&2){let e=i.$implicit,t=g(2);p("ngClass",Tt(2,Cv,t.getAlignment(e)==="left",t.getAlignment(e)==="right",t.getAlignment(e)==="center")),d(),k(" ",e.label," ")}}function R2e(n,i){if(n&1&&(c(0,"td",38)(1,"span",39),f(2),l()()),n&2){let e=i.$implicit,t=g().$implicit,r=g(2);p("ngClass",Tt(3,Cv,r.getAlignment(e)==="left",r.getAlignment(e)==="right",r.getAlignment(e)==="center")),d(),p("ngClass",r.getCellClass(t,e)),d(),k(" ",r.getCellValue(t,e)," ")}}function F2e(n,i){if(n&1&&(c(0,"tr",30)(1,"td",31)(2,"div",32),M(3,"img",33),c(4,"div",34)(5,"span",35),f(6),l(),c(7,"span",36),f(8),l()()()(),x(9,R2e,3,7,"td",37),l()),n&2){let e=i.$implicit,t=g(2);d(3),p("ngSrc",e.avatarUrl||t.fallbackAvatarUrl)("alt",e.userName),d(3),L(e.userName),d(2),L(e.userId),d(),p("ngForOf",t.columns)}}function B2e(n,i){if(n&1&&(c(0,"td",40)(1,"span",39),f(2),l()()),n&2){let e=i.$implicit,t=g(2);p("ngClass",Tt(3,Cv,t.getAlignment(e)==="left",t.getAlignment(e)==="right",t.getAlignment(e)==="center")),d(),p("ngClass",t.getSummaryClass(e)),d(),k(" ",t.getSummaryValue(e)," ")}}function V2e(n,i){if(n&1&&(c(0,"table",17)(1,"thead",18)(2,"tr",19)(3,"th",20),f(4,"User"),l(),x(5,O2e,2,6,"th",21),l()(),c(6,"tbody",22),x(7,F2e,10,5,"tr",23),l(),c(8,"tfoot",24)(9,"tr",25)(10,"td",26)(11,"span",27),f(12,"Summary"),l()(),x(13,B2e,3,7,"td",28),l()()()),n&2){let e=g();d(5),p("ngForOf",e.columns),d(2),p("ngForOf",e.filteredData),d(6),p("ngForOf",e.columns)}}function U2e(n,i){if(n&1&&(c(0,"div",58)(1,"span",59),f(2),l(),c(3,"span",60),f(4),l()()),n&2){let e=i.$implicit,t=g().$implicit,r=g(2);d(2),L(e.label),d(),p("ngClass",r.getCellClass(t,e)),d(),k(" ",r.getCellValue(t,e)," ")}}function j2e(n,i){if(n&1&&(c(0,"div",53)(1,"div",54),M(2,"img",55),c(3,"div",48)(4,"span",56),f(5),l(),c(6,"span",57),f(7),l()()(),c(8,"div",51),x(9,U2e,5,3,"div",52),l()()),n&2){let e=i.$implicit,t=g(2);d(2),p("ngSrc",e.avatarUrl||t.fallbackAvatarUrl)("alt",e.userName),d(3),L(e.userName),d(2),L(e.userId),d(2),p("ngForOf",t.columns)}}function H2e(n,i){if(n&1&&(c(0,"div",58)(1,"span",61),f(2),l(),c(3,"span",62),f(4),l()()),n&2){let e=i.$implicit,t=g(2);d(2),L(e.label),d(),p("ngClass",t.getSummaryClass(e)),d(),k(" ",t.getSummaryValue(e)," ")}}function q2e(n,i){if(n&1&&(c(0,"div",41),x(1,j2e,10,5,"div",42),c(2,"div",43)(3,"div",44)(4,"div",45),Ke(),c(5,"svg",46),M(6,"path",47),l()(),kt(),c(7,"div",48)(8,"span",49),f(9,"Summary"),l(),c(10,"span",50),f(11),l()()(),c(12,"div",51),x(13,H2e,5,3,"div",52),l()()()),n&2){let e=g();d(),p("ngForOf",e.filteredData),d(10),k("Total of ",e.filteredData.length," user(s)"),d(2),p("ngForOf",e.columns)}}var lA=(()=>{let i=class i{constructor(){this.userData=[],this.columns=[],this.title="User Details",this.close=new K,this.filteredData=[],this.selectedUserIds=[],this.fallbackAvatarUrl=cn}ngOnInit(){this.filteredData=[...this.userData],this.applySorting()}ngOnChanges(t){t.userData&&this.applyFilter()}onUserSelectionChange(t){this.selectedUserIds=t,this.applyFilter()}onSelectAllUsers(){this.selectedUserIds=[],this.applyFilter()}applyFilter(){this.selectedUserIds.length===0?this.filteredData=[...this.userData]:this.filteredData=this.userData.filter(t=>this.selectedUserIds.includes(t.userId)),this.applySorting()}applySorting(){this.sortByColumn&&this.filteredData.sort((t,r)=>{let o=t[this.sortByColumn]||0;return(r[this.sortByColumn]||0)-o})}closePopup(){this.close.emit()}getCellValue(t,r){let o=t[r.key];if(o==null)return"-";switch(r.type){case"currency":return`\u20B9${this.formatNumber(o)}`;case"number":return this.formatNumber(o);case"percentage":return`${this.formatNumber(o)}%`;case"currency-with-percent":let a=r.key+"Percent",s=t[a];return s!=null?`\u20B9${this.formatNumber(o)} (${this.formatNumber(s)}%)`:`\u20B9${this.formatNumber(o)}`;default:return String(o)}}formatNumber(t){return typeof t!="number"?String(t):t.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}getCellClass(t,r){let o=["font-medium"];if(r.colorize){let a=t[r.key];typeof a=="number"&&(a>0?o.push("text-green-600"):a<0?o.push("text-red-600"):o.push("text-gray-700"))}else o.push("text-gray-700");return o.join(" ")}getAlignment(t){return t.align||"right"}getSummaryValue(t){let r=this.filteredData.reduce((o,a)=>{let s=a[t.key];return typeof s=="number"?o+s:o},0);switch(t.type){case"currency":return`\u20B9${this.formatNumber(r)}`;case"number":return this.formatNumber(r);case"percentage":let o=this.filteredData.filter(_=>typeof _[t.key]=="number").length,a=o>0?r/o:0;return`${this.formatNumber(a)}%`;case"currency-with-percent":let s=t.key+"Percent",u=this.filteredData.reduce((_,y)=>{let E=y[s];return typeof E=="number"?_+E:_},0),m=this.filteredData.filter(_=>typeof _[s]=="number").length;return`\u20B9${this.formatNumber(r)}`;default:return"-"}}getSummaryClass(t){let r=["font-bold"];if(t.colorize){let o=this.filteredData.reduce((a,s)=>{let u=s[t.key];return typeof u=="number"?a+u:a},0);o>0?r.push("text-green-600"):o<0?r.push("text-red-600"):r.push("text-gray-700")}else r.push("text-gray-700");return r.join(" ")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-pnl-details-popup"]],inputs:{userData:"userData",columns:"columns",title:"title",sortByColumn:"sortByColumn"},outputs:{close:"close"},features:[dt],decls:16,vars:7,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4",3,"click"],["cdkDrag","",1,"w-full","max-w-3xl","sm:min-w-[600px]","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white",3,"click"],["cdkDragHandle","",1,"flex","flex-col","sm:flex-row","items-stretch","sm:items-center","justify-between","gap-2","sm:gap-3","px-3","sm:px-4","py-2","sm:py-3","border-b","cursor-move"],[1,"font-medium","text-gray-700","text-sm","sm:text-base","flex-shrink-0"],[1,"w-full","sm:w-auto","sm:min-w-[240px]"],[3,"selectAllUsers","selectUsers","selectedUserIds"],[1,"p-2","sm:p-4","max-h-[60vh]","sm:max-h-[500px]","min-h-[300px]","overflow-y-auto","overflow-x-auto"],["class","text-center py-8 sm:py-12 text-gray-500",4,"ngIf"],["class","hidden sm:table w-full text-xs sm:text-sm border-t border-gray-200",4,"ngIf"],["class","sm:hidden space-y-3",4,"ngIf"],["cdkDragHandle","",1,"flex","items-center","justify-between","px-3","sm:px-4","py-2","sm:py-3","border-t","cursor-move"],[1,"text-sm","sm:text-sm","text-gray-600"],[1,"px-3","sm:px-4","py-1.5","sm:py-2","border","rounded-md","hover:bg-gray-100","text-sm","sm:text-sm",3,"click"],[1,"text-center","py-8","sm:py-12","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","sm:w-16","sm:h-16","mx-auto","mb-3","sm:mb-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-base","sm:text-lg","font-medium"],[1,"hidden","sm:table","w-full","text-xs","sm:text-sm","border-t","border-gray-200"],[1,"bg-gray-100","text-gray-600","font-medium","sticky","top-0","z-10"],[1,"border-b","border-gray-200"],[1,"px-2","sm:px-4","py-2","text-left","bg-gray-100","h-10"],["class","px-2 sm:px-4 py-2 bg-gray-100 whitespace-nowrap h-10",3,"ngClass",4,"ngFor","ngForOf"],[1,"divide-y","divide-gray-100","text-gray-700"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-gray-100","border-t","border-b","border-gray-200"],[1,"font-semibold"],[1,"px-2","sm:px-4","py-3","text-left"],[1,"text-gray-700","font-bold"],["class","px-2 sm:px-4 py-3 whitespace-nowrap",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-2","sm:px-4","py-2","bg-gray-100","whitespace-nowrap","h-10",3,"ngClass"],[1,"hover:bg-gray-50"],[1,"px-2","sm:px-4","py-2"],[1,"flex","items-center","gap-2","sm:gap-3"],["width","32","height","32",1,"w-6","h-6","sm:w-8","sm:h-8","rounded-full","object-cover","border-2","border-gray-200","flex-shrink-0",3,"ngSrc","alt"],[1,"flex","flex-col","min-w-0"],[1,"font-medium","text-gray-900","truncate"],[1,"text-[10px]","sm:text-xs","text-gray-500","truncate"],["class","px-2 sm:px-4 py-2 whitespace-nowrap",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-2","sm:px-4","py-2","whitespace-nowrap",3,"ngClass"],[3,"ngClass"],[1,"px-2","sm:px-4","py-3","whitespace-nowrap",3,"ngClass"],[1,"sm:hidden","space-y-3"],["class","bg-white border border-gray-200 rounded-md p-3 shadow-sm",4,"ngFor","ngForOf"],[1,"bg-gray-100","border-1","border-gray-200","rounded-md","p-3"],[1,"flex","items-center","gap-2","mb-2","pb-2","border-b-2","border-gray-200"],[1,"w-10","h-10","rounded-full","bg-gray-700","flex","items-center","justify-center","flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"flex","flex-col","min-w-0","flex-1"],[1,"font-bold","text-gray-700","text-sm"],[1,"text-xs","text-gray-600"],[1,"space-y-2"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"bg-white","border","border-gray-200","rounded-md","p-3","shadow-sm"],[1,"flex","items-center","gap-2","mb-2","pb-2","border-b","border-gray-100"],["width","40","height","40",1,"w-10","h-10","rounded-full","object-cover","border-2","border-gray-200","flex-shrink-0",3,"ngSrc","alt"],[1,"font-medium","text-gray-900","truncate","text-sm"],[1,"text-sm","text-gray-500","truncate"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-sm","font-medium",3,"ngClass"],[1,"text-sm","text-gray-700","font-medium"],[1,"text-sm",3,"ngClass"]],template:function(r,o){r&1&&(c(0,"div",0),C("click",function(){return o.closePopup()}),c(1,"div",1),C("click",function(s){return s.stopPropagation()}),c(2,"div",2)(3,"span",3),f(4),l(),c(5,"div",4)(6,"app-user-filter",5),C("selectAllUsers",function(){return o.onSelectAllUsers()})("selectUsers",function(s){return o.onUserSelectionChange(s)}),l()()(),c(7,"div",6),x(8,P2e,5,0,"div",7)(9,V2e,14,3,"table",8)(10,q2e,14,3,"div",9),l(),c(11,"div",10)(12,"span",11),f(13),l(),c(14,"button",12),C("click",function(){return o.closePopup()}),f(15," Close "),l()()()()),r&2&&(d(4),L(o.title),d(2),p("selectedUserIds",o.selectedUserIds),d(2),p("ngIf",o.filteredData.length===0),d(),p("ngIf",o.filteredData.length>0),d(),p("ngIf",o.filteredData.length>0),d(3),Mn("Showing ",o.filteredData.length," of ",o.userData.length," users"))},dependencies:[he,le,oe,Q,p1,bt,Gn,Wn,qn],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}"]});let n=i;return n})();var $2e=(n,i)=>({"border-green-500":n,"border-red-500":i}),W2e=(n,i)=>({"bg-green-50":n,"bg-red-50":i}),G2e=(n,i)=>({"bg-green-100":n,"bg-red-100":i}),dA=(n,i)=>({"text-green-600":n,"text-red-600":i}),uA=(n,i)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":i}),fA=(n,i,e)=>({"text-green-600":n,"text-red-600":i,"text-gray-700":e}),Y2e=(n,i)=>({"border-purple-500":n,"border-gray-500":i}),Q2e=(n,i)=>({"bg-purple-50":n,"bg-gray-50":i}),K2e=(n,i)=>({"bg-purple-100":n,"bg-gray-100":i}),X2e=(n,i)=>({"text-purple-600":n,"text-gray-600":i});function Z2e(n,i){if(n&1&&(c(0,"div",10)(1,"div",11),M(2,"fa-icon",12),c(3,"span",13),f(4),l()()()),n&2){let e=g();d(2),p("icon",e.faArrowTrendDown),d(2),L(e.errorMessage)}}function J2e(n,i){n&1&&(c(0,"div",14)(1,"div",15)(2,"p",16),M(3,"span",17),f(4," \u{1F680} Fetching your financial empire... Please hold while we count your millions! "),l()()())}function ere(n,i){if(n&1){let e=V();c(0,"div",18)(1,"div",19)(2,"div",20),C("click",function(){w(e);let r=g();return S(r.hasMultipleUsers()&&r.showInvestmentDetails())}),M(3,"div",21),c(4,"div",22)(5,"div",23)(6,"div",24)(7,"div",25)(8,"div",26),M(9,"fa-icon",27),l(),c(10,"span",28),f(11,"Investment"),l()(),c(12,"div",29),f(13),N(14,"number"),l()(),c(15,"div",30)(16,"div",25)(17,"div",31),M(18,"fa-icon",32),l(),c(19,"span",28),f(20,"Current"),l()(),c(21,"div",29),f(22),N(23,"number"),l()()()()(),c(24,"div",33),C("click",function(){w(e);let r=g();return S(r.hasMultipleUsers()&&r.showInvestmentDetails())}),M(25,"div",21),c(26,"div",22)(27,"div",34)(28,"div",11)(29,"div",35),M(30,"fa-icon",27),l(),c(31,"span",28),f(32,"Total Investment"),l()()(),c(33,"div",36),f(34),N(35,"number"),l()()(),c(36,"div",37),C("click",function(){w(e);let r=g();return S(r.hasMultipleUsers()&&r.showInvestmentDetails())}),M(37,"div",38),c(38,"div",22)(39,"div",34)(40,"div",11)(41,"div",39),M(42,"fa-icon",32),l(),c(43,"span",28),f(44,"Current Value"),l()()(),c(45,"div",36),f(46),N(47,"number"),l()()(),c(48,"div",40),C("click",function(){w(e);let r=g();return S(r.hasMultipleUsers()&&r.showHoldingsPnLDetails())}),M(49,"div",41),c(50,"div",22)(51,"div",34)(52,"div",11)(53,"div",42),M(54,"fa-icon",43),l(),c(55,"span",28),f(56,"Total P&L"),l()()(),c(57,"div",44)(58,"div",45),f(59),N(60,"number"),l(),c(61,"span",46),M(62,"fa-icon",47),f(63),N(64,"percent"),l()(),c(65,"div",48)(66,"div",49),f(67,"Day's P&L"),l(),c(68,"div",50)(69,"span",51),f(70),N(71,"number"),l(),c(72,"span",46),M(73,"fa-icon",47),f(74),N(75,"percent"),l()()()()(),c(76,"div",40),C("click",function(){w(e);let r=g();return S(r.hasMultipleUsers()&&r.showPositionsPnLDetails())}),M(77,"div",41),c(78,"div",22)(79,"div",34)(80,"div",11)(81,"div",42),M(82,"fa-icon",43),l(),c(83,"span",28),f(84,"Positions P&L"),l()()(),c(85,"div",44)(86,"div",45),f(87),N(88,"number"),l()(),c(89,"div",48)(90,"div",49),f(91,"Max Profit"),l(),c(92,"div",50)(93,"span",52),f(94),N(95,"number"),l()()()()()(),c(96,"div",53)(97,"div",54),C("click",function(){w(e);let r=g();return S(r.hasMultipleUsers()&&r.showMutualFundsDetails())}),M(98,"div",55),c(99,"div",22)(100,"div",25)(101,"div",56),M(102,"fa-icon",57),l(),c(103,"span",28),f(104,"Mutual Funds"),l()(),c(105,"div",58)(106,"div",59),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/mf"))}),c(107,"span",60),f(108,"Active SIPs"),l(),c(109,"span",61),f(110),l()(),c(111,"div",59),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/mf"))}),c(112,"span",60),f(113,"Total SIP Amount"),l(),c(114,"span",61),f(115),N(116,"number"),l()(),c(117,"div",59),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/mf"))}),c(118,"span",60),f(119,"This Month Contribution"),l(),c(120,"span",61),f(121),N(122,"number"),l()()()()(),c(123,"div",62),M(124,"div",63),c(125,"div",22)(126,"div",25)(127,"div",64),M(128,"fa-icon",65),l(),c(129,"span",28),f(130,"Trading Activity"),l()(),c(131,"div",58)(132,"div",66),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/positions"))}),c(133,"span",67),f(134,"Open Positions"),l(),c(135,"span",61),f(136),l()(),c(137,"div",66),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/orders"))}),c(138,"span",67),f(139,"Open Orders"),l(),c(140,"span",61),f(141),l()(),c(142,"div",66),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/ipos"))}),c(143,"span",67),f(144,"Live IPOs"),l(),c(145,"span",61),f(146),l()()()()(),c(147,"div",68),C("click",function(){w(e);let r=g();return S(r.hasMultipleUsers()&&r.showFundsDetails())}),M(148,"div",69),c(149,"div",22)(150,"div",25)(151,"div",70),M(152,"fa-icon",71),l(),c(153,"span",28),f(154,"Funds Overview"),l()(),c(155,"div",58)(156,"div",72),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/funds"))}),c(157,"span",73),f(158,"Utilized Funds"),l(),c(159,"span",74),f(160),N(161,"number"),l()(),c(162,"div",75),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/funds"))}),c(163,"span",76),f(164,"Available Margin"),l(),c(165,"span",61),f(166),N(167,"number"),l()(),c(168,"div",75),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/funds"))}),c(169,"span",77),f(170,"Total Cash"),l(),c(171,"span",78),f(172),N(173,"number"),l()()()()(),c(174,"div",79),M(175,"div",80),c(176,"div",22)(177,"div",25)(178,"div",81),M(179,"fa-icon",82),l(),c(180,"span",28),f(181,"Quick Actions"),l()(),c(182,"div",58)(183,"div",83),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/holdings"))}),c(184,"div",84),M(185,"fa-icon",71),l(),c(186,"span",85),f(187,"View Holdings"),l()(),c(188,"div",83),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/positions"))}),c(189,"div",86),M(190,"fa-icon",27),l(),c(191,"span",85),f(192,"View Positions"),l()(),c(193,"div",83),C("click",function(){w(e);let r=g();return S(r.navigateToPage("/orders"))}),c(194,"div",87),M(195,"fa-icon",88),l(),c(196,"span",85),f(197,"View Orders"),l()()()()()(),c(198,"div",89),M(199,"div",90),c(200,"div",91)(201,"span",28),f(202,"Portfolio Performance"),l()(),c(203,"div",92),M(204,"app-timeline-chart",93),l()()()}if(n&2){let e=g();d(2),ne("cursor-pointer",e.hasMultipleUsers()),d(7),p("icon",e.faWallet),d(4),k(" \u20B9",B(14,68,e.stats.totalInvestment,"1.2-2")," "),d(5),p("icon",e.faChartLine),d(4),k(" \u20B9",B(23,71,e.stats.currentValue,"1.2-2")," "),d(2),ne("cursor-pointer",e.hasMultipleUsers()),d(6),p("icon",e.faWallet),d(4),k(" \u20B9",B(35,74,e.stats.totalInvestment,"1.2-2")," "),d(2),ne("cursor-pointer",e.hasMultipleUsers()),d(6),p("icon",e.faChartLine),d(4),k(" \u20B9",B(47,77,e.stats.currentValue,"1.2-2")," "),d(2),ne("cursor-pointer",e.hasMultipleUsers()),p("ngClass",Ae(113,$2e,e.stats.totalGains>=0,e.stats.totalGains<0)),d(),p("ngClass",Ae(116,W2e,e.stats.totalGains>=0,e.stats.totalGains<0)),d(4),p("ngClass",Ae(119,G2e,e.stats.totalGains>=0,e.stats.totalGains<0)),d(),p("icon",e.stats.totalGains>=0?e.faChartBar:e.faArrowTrendDown)("ngClass",Ae(122,dA,e.stats.totalGains>=0,e.stats.totalGains<0)),d(4),p("ngClass",Ae(125,dA,e.stats.totalGains>=0,e.stats.totalGains<0)),d(),k(" \u20B9",B(60,80,e.stats.totalGains,"1.2-2")," "),d(2),p("ngClass",Ae(128,uA,e.stats.totalGains>0,e.stats.totalGains<0)),d(),p("icon",e.stats.totalGains>=0?e.faArrowUp:e.faArrowDown),d(),k(" ",B(64,83,e.stats.totalGainsPercent,"1.2-2")," "),d(6),p("ngClass",Tt(131,fA,e.stats.todayGains>=0,e.stats.todayGains<0,e.stats.todayGains===0)),d(),k(" \u20B9",B(71,86,e.stats.todayGains,"1.2-2")," "),d(2),p("ngClass",Ae(135,uA,e.stats.todayGains>0,e.stats.todayGains<0)),d(),p("icon",e.stats.todayGainsPercent>=0?e.faArrowUp:e.faArrowDown),d(),k(" ",B(75,89,e.stats.todayGainsPercent,"1.2-2")," "),d(2),ne("cursor-pointer",e.hasMultipleUsers()),p("ngClass",Ae(138,Y2e,e.stats.totalPnL>=0,e.stats.totalPnL<0)),d(),p("ngClass",Ae(141,Q2e,e.stats.totalPnL>=0,e.stats.totalPnL<0)),d(4),p("ngClass",Ae(144,K2e,e.stats.totalPnL>=0,e.stats.totalPnL<0)),d(),p("icon",e.faChartBar)("ngClass",Ae(147,X2e,e.stats.totalPnL>=0,e.stats.totalPnL<0)),d(4),p("ngClass",Tt(150,fA,e.stats.totalPnL>0,e.stats.totalPnL<0,e.stats.totalPnL===0)),d(),k(" \u20B9",B(88,92,e.stats.totalPnL,"1.2-2")," "),d(7),k(" \u20B9",B(95,95,e.stats.maxProfit,"1.2-2")," "),d(3),ne("cursor-pointer",e.hasMultipleUsers()),d(5),p("icon",e.faDollarSign),d(8),L(e.stats.activeSips),d(5),k("\u20B9",B(116,98,e.stats.totalSipAmount,"1.0-0")),d(6),k("\u20B9",B(122,101,e.stats.contributionThisMonth,"1.0-0")),d(7),p("icon",e.faListCheck),d(8),L(e.stats.openPositions),d(5),L(e.stats.openOrders),d(5),L(e.stats.openIpos),d(),ne("cursor-pointer",e.hasMultipleUsers()),d(5),p("icon",e.faCoins),d(8),k("\u20B9",B(161,104,e.stats.utilizedFunds,"1.2-2")),d(6),k("\u20B9",B(167,107,e.stats.availableFunds,"1.2-2")),d(6),k("\u20B9",B(173,110,e.stats.totalCash,"1.2-2")),d(7),p("icon",e.faBuilding),d(6),p("icon",e.faWallet),d(5),p("icon",e.faChartLine),d(5),p("icon",e.faListCheck),d(8),p("@expandCollapse",e.showChart?"expanded":"collapsed"),d(),p("title","")("xAxisLabels",e.dateLabels)("legendLabels",e.legendLabels)("series",e.series)("showDataZoom",!0)("chartHeight","240")}}function tre(n,i){if(n&1){let e=V();c(0,"app-pnl-details-popup",94),C("close",function(){w(e);let r=g();return S(r.closePnLDetailsPopup())}),l()}if(n&2){let e=g();p("userData",e.popupUserData)("columns",e.popupColumns)("title",e.popupTitle)("sortByColumn",e.popupSortByColumn)}}var pA=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_,y,E,I,A){this.holdingsService=t,this.positionsService=r,this.ordersService=o,this.fundsService=a,this.mfService=s,this.iposService=u,this.toastrService=m,this.userViewStateService=_,this.utilsService=y,this.ws=E,this.document=I,this.router=A,this.stats={totalInvestment:0,currentValue:0,totalGains:0,totalGainsPercent:0,todayGains:0,todayGainsPercent:0,openPositions:0,totalPnL:0,maxProfit:0,maxLoss:0,profitLeft:0,openOrders:0,activeSips:0,openIpos:0,availableFunds:0,totalSipAmount:0,contributionThisMonth:0,pausedSips:0,utilizedFunds:0,totalCollateralMargin:0,totalCash:0,availableMarginPercent:0},this.isLoading=!0,this.isInitialLoad=!0,this.errorMessage="",this.currentDateTime=new Date,this.users=[],this.selectedUserIds=[],this.rawData={},this.instrumentTokens=[],this.showPnLDetailsPopup=!1,this.popupUserData=[],this.popupColumns=[],this.popupTitle="",this.faWallet=j0,this.faChartLine=md,this.faListCheck=$0,this.faCoins=HT,this.faBuilding=CT,this.faArrowUp=hd,this.faArrowDown=_d,this.faRefresh=Li,this.faSpinner=X1,this.faDollarSign=dd,this.faChartBar=IT,this.faArrowTrendDown=GT,this.stocksFnoPendingStatus=["TRIGGER PENDING","AMO REQ RECEIVED","MODIFY AMO REQ RECEIVED","OPEN","OPEN PENDING"],this.showChart=!0,this.dateLabels=[],this.legendLabels=[],this.series=[],this.historicalTimelineValues=[]}ngOnInit(){let t=this.userViewStateService.getState();this.selectedUserIds=t.home?.selectedUsersIds||[],this.loadDashboardData()}ngAfterViewInit(){setTimeout(()=>{this.document.querySelector(".header")&&this.saveUserViewState()},0)}loadDashboardData(){this.isLoading=!0,this.errorMessage="",z3({holdings:this.holdingsService.getHoldings().pipe(Qe(t=>(console.error("Error loading holdings:",t),this.toastrService.error("Failed to load holdings data","Holdings Error"),Z({data:[]})))),positions:this.positionsService.getPositions().pipe(Qe(t=>(console.error("Error loading positions:",t),this.toastrService.error("Failed to load positions data","Positions Error"),Z({data:[]})))),orders:this.ordersService.getOrders().pipe(Qe(t=>(console.error("Error loading orders:",t),this.toastrService.error("Failed to load orders data","Orders Error"),Z({data:[]})))),funds:this.fundsService.getFunds().pipe(Qe(t=>(console.error("Error loading funds:",t),this.toastrService.error("Failed to load funds data","Funds Error"),Z({data:[]})))),mfSips:this.mfService.getSips().pipe(Qe(t=>(console.error("Error loading MF SIPs:",t),this.toastrService.error("Failed to load mutual fund SIPs data","MF SIPs Error"),Z({data:[]})))),ipos:this.iposService.getIPOs().pipe(Qe(t=>(console.error("Error loading IPOs:",t),this.toastrService.error("Failed to load IPOs data","IPOs Error"),Z({data:[]}))))}).subscribe({next:t=>{this.rawData={holdings:t.holdings?.data||[],positions:t.positions?.data||[],orders:t.orders?.data||[],funds:t.funds?.data||[],mfSips:t.mfSips?.data||[],ipos:t.ipos?.data||[]},this.applyUserFilter(),this.collectInstrumentTokensAndSubscribe(),this.fetchHistoricalTimelineValues(),this.isLoading=!1,this.isInitialLoad=!1},error:t=>{console.error("Error loading dashboard data:",t),this.errorMessage="Failed to load dashboard data",this.isLoading=!1,this.isInitialLoad&&this.toastrService.error("Failed to load dashboard data","Error")}})}collectInstrumentTokensAndSubscribe(){let t=this.rawData.holdings.filter(a=>a.instrumentToken).map(a=>a.instrumentToken),r=this.rawData.positions.filter(a=>a.instrumentToken).map(a=>a.instrumentToken),o=[...t,...r];this.instrumentTokens=Array.from(new Set(o)),this.subscribeToWebSocket()}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(be(t=>t),We(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(t=>{this.updatePricesOnTick(t)})):console.log("No instrument tokens available for web socket subscription.")}updatePricesOnTick(t){t.forEach(r=>{this.rawData.holdings.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s&&s.lastPrice!==r.lastTradedPrice&&(s.lastPrice=r.lastTradedPrice,s.currentValue=s.quantity*r.lastTradedPrice,s.netPnl=s.currentValue-s.investedAmount,s.netChangePercentage=s.netPnl/s.investedAmount*100,s.dayChangePercentage=(r.lastTradedPrice-r.closePrice)/r.closePrice*100,s.dayPnl=s.dayChangePercentage*(s.quantity*r.closePrice)/100)}),this.rawData.positions.filter(s=>s.instrumentToken===r.instrumentToken).forEach(s=>{s.position.change=r.change;let u=r.change,m=r.closePrice;if(s.position.daySellQuantity*-1===s.position.netQuantity?(m=s.position.sellPrice,u=(r.lastTradedPrice-m)/m*100):s.position.dayBuyQuantity===s.position.netQuantity&&(m=s.position.buyPrice,u=(r.lastTradedPrice-m)/m*100),s.dayPnl=u*(s.position.netQuantity*m)/100,s&&s.position.lastPrice!==r.lastTradedPrice){if(s.position.lastPrice=r.lastTradedPrice,s.position.netQuantity<0){let _=(s.position.sellPrice-s.position.buyPrice)*s.position.buyQuantity,y=(s.position.sellPrice-r.lastTradedPrice)*s.position.netQuantity*-1;s.position.pnl=_+y}else if(s.position.netQuantity>0){let _=(s.position.sellPrice-s.position.buyPrice)*s.position.sellQuantity,y=(r.lastTradedPrice-s.position.buyPrice)*s.position.netQuantity;s.position.pnl=_+y}}})}),this.recalculateStats()}recalculateStats(){if(this.selectedUserIds.length===0)this.calculateStats({holdings:{data:this.rawData.holdings},positions:{data:this.rawData.positions},orders:{data:this.rawData.orders},funds:{data:this.rawData.funds},mfSips:{data:this.rawData.mfSips},ipos:{data:this.rawData.ipos}});else{let t={holdings:{data:this.rawData.holdings.filter(r=>this.selectedUserIds.includes(r.userId))},positions:{data:this.rawData.positions.filter(r=>this.selectedUserIds.includes(r.userId))},orders:{data:this.rawData.orders.filter(r=>this.selectedUserIds.includes(r.userId))},funds:{data:this.rawData.funds.filter(r=>this.selectedUserIds.includes(r.userId))},mfSips:{data:this.rawData.mfSips.filter(r=>this.selectedUserIds.includes(r.userId))},ipos:{data:this.rawData.ipos.filter(r=>this.selectedUserIds.includes(r.userId))}};this.calculateStats(t)}this.updatePopupDataIfOpen()}calculateStats(t){let o=(t.holdings?.data||[]).reduce((te,ae)=>{let Se=ae.quantity*ae.averagePrice,tt=ae.quantity*ae.lastPrice,nt=tt-Se,jt=ae.dayPnl||0;return te.totalInvestment+=Se,te.currentValue+=tt,te.totalGains+=nt,te.todayGains+=jt,te},{totalInvestment:0,currentValue:0,totalGains:0,todayGains:0}),u=(t.positions?.data||[]).filter(te=>te.position?.product==="NRML").reduce((te,ae)=>{let Se=ae.position;Se.netQuantity!==0&&te.openPositions++,te.totalPnL+=Se.pnl||0;let tt=(Se.sellValue||0)-(Se.buyValue||0);return te.maxProfit+=tt,Se.pnl>te.maxSingleProfit&&(te.maxSingleProfit=Se.pnl),Se.pnl<te.maxLoss&&(te.maxLoss=Se.pnl),te},{openPositions:0,totalPnL:0,maxProfit:0,maxSingleProfit:0,maxLoss:0}),m=u.maxProfit-u.totalPnL,y=(t.orders?.data||[]).filter(te=>this.stocksFnoPendingStatus.indexOf(te.order.status)>-1).length,E=t.funds?.data||[],I=E.reduce((te,ae)=>te+(parseFloat(ae.margin?.net)||0),0),A=t.mfSips?.data||[],R=this.calculateSipSummary(A),W=(t.ipos?.data||[]).filter(te=>te.status==="ongoing"||te.status==="preapply").length,ee=this.calculateFundsStats(E,I);this.stats={totalInvestment:o.totalInvestment,currentValue:o.currentValue,totalGains:o.totalGains,totalGainsPercent:o.totalInvestment>0?o.totalGains/o.totalInvestment:0,todayGains:o.todayGains,todayGainsPercent:o.totalInvestment>0?o.todayGains/o.totalInvestment:0,openPositions:u.openPositions,totalPnL:u.totalPnL,maxProfit:u.maxProfit,maxLoss:u.maxLoss,openOrders:y,activeSips:R.activeSips,openIpos:W,availableFunds:I,totalSipAmount:R.totalSipAmount,contributionThisMonth:R.contributionThisMonth,pausedSips:R.pausedSips,utilizedFunds:ee.utilizedFunds,totalCollateralMargin:ee.totalCollateralMargin,totalCash:ee.totalCash,availableMarginPercent:ee.availableMarginPercent,profitLeft:m}}calculateSipSummary(t){let r=0,o=0,a=0,s=0,u=new Date,m=u.getMonth(),_=u.getFullYear();for(let y of t){let E=y?.mfSip;if(!E)continue;if(E.status==="PAUSED"){s+=1;continue}let I=E.instalmentAmount||0;r+=I;let A=new Date(E.lastInstalment);A.getMonth()===m&&A.getFullYear()===_&&A<u&&(o+=I),E.status==="ACTIVE"&&(a+=1)}return{totalSipAmount:r,contributionThisMonth:o,activeSips:a,pausedSips:s}}calculateFundsStats(t,r){let o=0,a=0;t.forEach(m=>{o+=Number(m.margin.utilised.debits),a+=Number(m.margin.available.collateral)});let s=o+r-a,u=a>0?r/a*100:0;return{utilizedFunds:o,totalCollateralMargin:a,totalCash:s,availableMarginPercent:u}}refresh(){this.currentDateTime=new Date,this.loadDashboardData()}navigateToPage(t){this.router.navigate([t])}saveUserViewState(){this.userViewStateService.setState({home:{selectedUsersIds:this.selectedUserIds}})}fetchHistoricalTimelineValues(t){this.utilsService.fetchHistoricalTimelineValues("holdings").subscribe({next:r=>{this.historicalTimelineValues=r.data,this.populateTimelineChartData()},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching holdings time line values. Verify that the backend service is operational.","Error")},complete:()=>{t&&t()}})}populateTimelineChartData(){let t=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,[]);this.dateLabels=t.dateLabels,this.legendLabels=t.legendLabels,this.series=t.series}onAllUserSelection(){this.selectedUserIds=[],this.applyUserFilter(),this.saveUserViewState()}onUserSelection(t){this.selectedUserIds=t,this.applyUserFilter(),this.saveUserViewState()}captureUsers(t){this.users=t}hasMultipleUsers(){return this.users.length>1}applyUserFilter(){this.recalculateStats(),this.selectedUserIds.length===0?this.populateTimelineChartData():this.populateTimelineChartDataForUsers(this.selectedUserIds)}populateTimelineChartDataForUsers(t){let r=this.utilsService.populateHoldingsTimelineChartData(this.historicalTimelineValues,t);this.dateLabels=r.dateLabels,this.legendLabels=r.legendLabels,this.series=r.series}ngOnDestroy(){this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe()}updatePopupDataIfOpen(){this.showPnLDetailsPopup&&(this.popupTitle==="Holdings P&L Details by User"||this.popupTitle==="Positions P&L Details by User"?this.popupUserData=this.calculateUserPnLData():this.popupTitle==="Investment Details by User"&&(this.popupUserData=this.calculateUserInvestmentData()))}closePnLDetailsPopup(){this.showPnLDetailsPopup=!1}showHoldingsPnLDetails(){this.popupTitle="Holdings P&L Details by User",this.popupSortByColumn="totalPnL",this.popupColumns=[{key:"totalPnL",label:"Total P&L",type:"currency-with-percent",colorize:!0},{key:"daysPnL",label:"Day's P&L",type:"currency-with-percent",colorize:!0}],this.popupUserData=this.calculateUserPnLData(),this.showPnLDetailsPopup=!0}showPositionsPnLDetails(){this.popupTitle="Positions P&L Details by User",this.popupSortByColumn="positionsPnL",this.popupColumns=[{key:"positionsPnL",label:"Positions P&L",type:"currency",colorize:!0},{key:"maxProfit",label:"Max Profit",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserPnLData(),this.showPnLDetailsPopup=!0}showFundsDetails(){this.popupTitle="Funds Details by User",this.popupSortByColumn="availableMargin",this.popupColumns=[{key:"utilizedFunds",label:"Utilized Funds",type:"currency",colorize:!1},{key:"availableMargin",label:"Available Margin",type:"currency",colorize:!1},{key:"totalCash",label:"Total Cash",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserFundsData(),this.showPnLDetailsPopup=!0}showMutualFundsDetails(){this.popupTitle="Mutual Funds Details by User",this.popupSortByColumn="totalSipAmount",this.popupColumns=[{key:"activeSips",label:"Active SIPs",type:"number",colorize:!1},{key:"totalSipAmount",label:"Total SIP Amount",type:"currency",colorize:!1},{key:"monthlyContribution",label:"This Month",type:"currency",colorize:!1}],this.popupUserData=this.calculateUserMFData(),this.showPnLDetailsPopup=!0}showInvestmentDetails(){this.popupTitle="Investment Details by User",this.popupSortByColumn="currentValue",this.popupColumns=[{key:"totalInvestment",label:"Total Investment",type:"currency",colorize:!1},{key:"currentValue",label:"Current Value",type:"currency",colorize:!1},{key:"totalGains",label:"Total Gains",type:"currency-with-percent",colorize:!0}],this.popupUserData=this.calculateUserInvestmentData(),this.showPnLDetailsPopup=!0}calculateUserPnLData(){let t=new Map;return this.users.forEach(o=>{t.set(o.userId,{userId:o.userId,userName:o.profile?.userName||o.name,avatarUrl:o.profile?.avatarURL,totalPnL:0,daysPnL:0,positionsPnL:0,maxProfit:0,totalInvestment:0,totalPnLPercent:0,daysPnLPercent:0})}),this.rawData.holdings.forEach(o=>{let a=t.get(o.userId);if(a){let s=o.quantity*o.averagePrice,m=o.quantity*o.lastPrice-s,_=o.dayPnl||0;a.totalPnL+=m,a.daysPnL+=_,a.totalInvestment+=s}}),t.forEach(o=>{o.totalInvestment>0&&(o.totalPnLPercent=o.totalPnL/o.totalInvestment*100,o.daysPnLPercent=o.daysPnL/o.totalInvestment*100)}),this.rawData.positions.filter(o=>o.position?.product==="NRML").forEach(o=>{let a=t.get(o.userId);if(a){let s=o.position;a.positionsPnL+=s.pnl||0;let u=(s.sellValue||0)-(s.buyValue||0);a.maxProfit+=u}}),Array.from(t.values())}calculateUserFundsData(){let t=new Map;return this.users.forEach(r=>{t.set(r.userId,{userId:r.userId,userName:r.profile?.userName||r.name,avatarUrl:r.profile?.avatarURL,utilizedFunds:0,availableMargin:0,totalCash:0,collateralMargin:0})}),this.rawData.funds.forEach(r=>{let o=t.get(r.userId);if(o){let a=Number(r.margin?.utilised?.debits||0),s=Number(r.margin?.net||0),u=Number(r.margin?.available?.collateral||0);o.utilizedFunds=a,o.availableMargin=s,o.collateralMargin=u,o.totalCash=a+s-u}}),Array.from(t.values())}calculateUserMFData(){let t=new Map;this.users.forEach(s=>{t.set(s.userId,{userId:s.userId,userName:s.profile?.userName||s.name,avatarUrl:s.profile?.avatarURL,activeSips:0,totalSipAmount:0,monthlyContribution:0})});let r=new Date,o=r.getMonth(),a=r.getFullYear();return this.rawData.mfSips.forEach(s=>{let u=t.get(s.userId);if(u&&s.mfSip){let m=s.mfSip,_=m.instalmentAmount||0;if(m.status==="ACTIVE"){u.activeSips+=1,u.totalSipAmount+=_;let y=new Date(m.lastInstalment);y.getMonth()===o&&y.getFullYear()===a&&y<r&&(u.monthlyContribution+=_)}}}),Array.from(t.values())}calculateUserInvestmentData(){let t=new Map;return this.users.forEach(r=>{t.set(r.userId,{userId:r.userId,userName:r.profile?.userName||r.name,avatarUrl:r.profile?.avatarURL,totalInvestment:0,currentValue:0,totalGains:0,totalGainsPercent:0})}),this.rawData.holdings.forEach(r=>{let o=t.get(r.userId);if(o){let a=r.quantity*r.averagePrice,s=r.quantity*r.lastPrice,u=s-a;o.totalInvestment+=a,o.currentValue+=s,o.totalGains+=u}}),t.forEach(r=>{r.totalInvestment>0&&(r.totalGainsPercent=r.totalGains/r.totalInvestment*100)}),Array.from(t.values())}};i.\u0275fac=function(r){return new(r||i)(D(g7),D(v7),D(K2),D(X2),D(b7),D(Xo),D(xe),D(Ut),D(zt),D(Qn),D(J),D(gt))},i.\u0275cmp=U({type:i,selectors:[["app-home"]],decls:11,vars:5,consts:[[1,"page-container"],[1,"flex","justify-between","items-start","mb-1"],[1,"flex-1","pr-4"],[1,"text-2xl","md:text-2xl","font-bold","text-gray-600","mb-2"],[1,"flex-shrink-0"],[3,"selectAllUsers","selectUsers","totalUsers","selectedUserIds"],["class","mb-6 p-4 bg-red-50 border border-red-200 rounded-md",4,"ngIf"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","page-content",4,"ngIf"],[3,"userData","columns","title","sortByColumn","close",4,"ngIf"],[1,"mb-6","p-4","bg-red-50","border","border-red-200","rounded-md"],[1,"flex","items-center"],[1,"text-red-500","mr-2",3,"icon"],[1,"text-red-700"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"text-lg","text-gray-400","mt-2","flex","items-center","justify-center","gap-2"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500","inline-block"],[1,"page-content"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"md:hidden","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-blue-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","top-0","right-0","w-20","h-20","bg-blue-50","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity"],[1,"relative","z-10"],[1,"grid","grid-cols-2","gap-4"],[1,"border-r","border-gray-200","pr-3"],[1,"flex","items-center","mb-2"],[1,"p-2","bg-blue-100","rounded-md","mr-2"],[1,"text-blue-600","text-base",3,"icon"],[1,"text-lg","font-medium","text-gray-600","m-0"],[1,"text-2xl","font-medium","text-gray-700"],[1,"pl-1"],[1,"p-2","bg-emerald-100","rounded-md","mr-2"],[1,"text-emerald-600","text-base",3,"icon"],[1,"hidden","md:block","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-blue-500","relative","overflow-hidden","group",3,"click"],[1,"flex","items-center","justify-between","mb-3"],[1,"p-2","bg-blue-100","rounded-md","mr-3"],[1,"text-2xl","md:text-2xl","font-medium","text-gray-700"],[1,"hidden","md:block","bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","border-emerald-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","top-0","right-0","w-20","h-20","bg-emerald-50","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity"],[1,"p-2","bg-emerald-100","rounded-md","mr-3"],[1,"bg-white","p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-l-4","relative","overflow-hidden","group",3,"click","ngClass"],[1,"absolute","top-0","right-0","w-20","h-20","rounded-bl-full","opacity-50","group-hover:opacity-70","transition-opacity",3,"ngClass"],[1,"p-2","rounded-md","mr-3",3,"ngClass"],[1,"text-base",3,"icon","ngClass"],[1,"flex","items-center","justify-between"],[1,"text-2xl","md:text-2xl","font-medium",3,"ngClass"],[1,"text-sm","rounded-md","px-1","py-[1px]",3,"ngClass"],[1,"mr-1","text-xs",3,"icon"],[1,"flex","items-center","justify-between","mt-2","pt-2","border-t","border-gray-100"],[1,"text-base","text-gray-600","font-medium"],[1,"flex","items-center","gap-1"],[1,"text-base","font-medium","mr-2",3,"ngClass"],[1,"text-base","font-medium","text-gray-700"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-indigo-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-indigo-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-indigo-100","rounded-md","mr-2"],[1,"text-indigo-600","text-base",3,"icon"],[1,"space-y-1.5","mt-2"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-indigo-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-indigo-700"],[1,"font-medium","text-gray-800","px-2","py-0.5","rounded-md","text-base"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-orange-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-orange-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-orange-100","rounded-md","mr-2"],[1,"text-orange-600","text-base",3,"icon"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-orange-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-orange-700"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-green-500","relative","overflow-hidden","group",3,"click"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-green-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-green-100","rounded-md","mr-2"],[1,"text-green-600","text-base",3,"icon"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-red-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-red-700"],[1,"font-medium","text-red-600","px-2","py-0.5","rounded-md","text-base"],[1,"flex","justify-between","items-center","cursor-pointer","hover:bg-green-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"text-gray-600","text-base","group-hover/item:text-green-700"],[1,"text-gray-600","text-base","group-hover:item:text-green-700"],[1,"font-medium","text-green-600","px-2","py-0.5","rounded-md","text-base"],[1,"bg-white","p-4","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-pink-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-pink-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"p-2","bg-pink-100","rounded-md","mr-2"],[1,"text-pink-600","text-base",3,"icon"],[1,"flex","items-center","cursor-pointer","hover:bg-pink-50","px-2","py-1","rounded-lg","transition-all","duration-200","group/item",3,"click"],[1,"p-1","bg-green-100","rounded-md","mr-2","group-hover/item:bg-green-200","transition-colors"],[1,"text-gray-700","text-base","group-hover/item:text-pink-700"],[1,"p-1","bg-blue-100","rounded-md","mr-2","group-hover/item:bg-blue-200","transition-colors"],[1,"p-1","bg-purple-100","rounded-md","mr-2","group-hover/item:bg-purple-200","transition-colors"],[1,"text-purple-600","text-base",3,"icon"],[1,"bg-white","p-4","md:p-6","rounded-xl","shadow-md","hover:shadow-xl","transition-all","duration-300","border-t-4","border-gray-500","relative","overflow-hidden","group"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-gray-50","rounded-tr-full","opacity-40","group-hover:opacity-60","transition-opacity"],[1,"flex","items-center","mb-3"],[1,"overflow-hidden","transition-all","duration-300"],[3,"title","xAxisLabels","legendLabels","series","showDataZoom","chartHeight"],[3,"close","userData","columns","title","sortByColumn"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),f(4,"Welcome to FamVest"),l()(),c(5,"div",4)(6,"app-user-filter",5),C("selectAllUsers",function(){return o.onAllUserSelection()})("selectUsers",function(s){return o.onUserSelection(s)})("totalUsers",function(s){return o.captureUsers(s)}),l()()(),x(7,Z2e,5,2,"div",6)(8,J2e,5,0,"div",7)(9,ere,205,154,"div",8),l(),x(10,tre,1,4,"app-pnl-details-popup",9)),r&2&&(d(6),p("selectedUserIds",o.selectedUserIds),d(),p("ngIf",o.errorMessage),d(),p("ngIf",o.isLoading),d(),p("ngIf",!o.isLoading&&!o.errorMessage),d(),p("ngIf",o.showPnLDetailsPopup))},dependencies:[he,le,Q,we,Ba,h3,qn,lA,mt,Qt],styles:[".page-content[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height, 80px) - 80px);min-height:calc(100vh - var(--header-height, 80px) - 80px)}"],data:{animation:[In,vD]}});let n=i;return n})();var mA=(n,i,e)=>({"bg-green-50 text-green-600":n,"bg-red-50 text-red-600":i,"bg-gray-50 text-gray-600":e}),nre=(n,i,e)=>({"text-green-700":n,"text-red-700":i,"text-gray-700":e}),wv=(n,i,e)=>({"text-green-600":n,"text-red-500":i,"text-gray-600":e}),w7=(n,i)=>({"text-green-600":n,"text-red-500":i}),ire=(n,i,e)=>({"border-green-200 from-green-100 to-emerald-50":n,"border-red-200 from-red-100 to-red-50":i,"border-gray-200 from-gray-100 to-gray-50":e}),rre=(n,i)=>({"border-green-200 from-green-100 to-emerald-50":n,"border-red-200 from-red-100 to-red-50":i});function ore(n,i){if(n&1){let e=V();c(0,"div",23),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.addToBasket(r))})("keydown.enter",function(){let r=w(e).$implicit,o=g(2);return S(o.addToBasket(r))}),c(1,"div",24)(2,"div",25),f(3),l(),c(4,"div",26),f(5),l()()()}if(n&2){let e=i.$implicit;d(3),L(e.displayName),d(2),L(e.segment)}}function are(n,i){if(n&1&&(c(0,"div",21),x(1,ore,6,2,"div",22),l()),n&2){let e=g();d(),p("ngForOf",e.fetchedInstruments)}}function sre(n,i){n&1&&(c(0,"div",27),M(1,"div",28),l())}function cre(n,i){n&1&&(c(0,"div",29),Ke(),c(1,"svg",30),M(2,"path",31),l(),kt(),c(3,"h3",32),f(4,"Your basket is empty"),l(),c(5,"p",33),f(6,"Search and select instruments above or click the basket button (\u{1F6D2}) in the watchlist to add them to your basket"),l()())}function lre(n,i){n&1&&(c(0,"span",57),f(1,"..."),l())}function dre(n,i){if(n&1&&(c(0,"span",58),f(1),N(2,"number"),l()),n&2){let e=g().$implicit;d(),k("\u20B9",B(2,1,e.marginRequired,"1.2-2"))}}function ure(n,i){if(n&1){let e=V();c(0,"tr",40)(1,"td",41)(2,"div",42)(3,"div",43)(4,"span",25),f(5),l(),c(6,"span",44),f(7),l(),M(8,"app-market-depth-invoker",45),c(9,"span",46),f(10),N(11,"number"),l(),c(12,"span",47),f(13),N(14,"percent"),l(),M(15,"app-small-chip",48),l()()(),c(16,"td",49)(17,"app-small-chip",50),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleTransactionType(r))})("keydown.enter",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleTransactionType(r))}),l()(),c(18,"td",49)(19,"app-small-chip",50),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleOrderType(r))})("keydown.enter",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleOrderType(r))}),l()(),c(20,"td",41)(21,"input",51),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.quantity,r)||(o.quantity=r),S(r)}),C("input",function(r){let o=w(e).$implicit,a=g(2);return S(a.updateQuantity(o,r))}),l()(),c(22,"td",41)(23,"input",52),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.price,r)||(o.price=r),S(r)}),C("input",function(r){let o=w(e).$implicit,a=g(2);return S(a.updatePrice(o,r))}),l()(),c(24,"td",41),x(25,lre,2,0,"span",53)(26,dre,3,4,"span",54),l(),c(27,"td",41)(28,"button",55),C("click",function(){let r=w(e).index,o=g(2);return S(o.removeFromBasket(r))}),M(29,"fa-icon",56),l()()()}if(n&2){let e=i.$implicit,t=g(2);d(5),L(e.displayName),d(2),L(e.exchange),d(),p("title",e.displayName)("instrumentToken",e.instrumentToken)("iconColor","gray"),d(),p("ngClass",t.color(e.change)),d(),k(" ",B(11,23,e.lastPrice,"1.2-2")," "),d(2),p("ngClass",Tt(29,mA,e.change>0,e.change<0,e.change===0)),d(),k(" ",B(14,26,e.change/100,"1.2-2")," "),d(2),p("text",e.productType)("color",e.productType==="MIS"?"orange":"purple"),d(2),p("text",e.transactionType)("color",e.transactionType==="BUY"?"blue":"red"),d(2),p("text",e.orderType)("color","gray"),d(2),Pe("ngModel",e.quantity),d(2),Pe("ngModel",e.price),p("disabled",e.orderType==="MARKET")("placeholder",e.orderType==="MARKET"?"Market":"0.00"),d(2),p("ngIf",t.isCalculatingMargin),d(),p("ngIf",!t.isCalculatingMargin),d(2),p("matTooltip","Remove from Basket"),d(),p("icon",t.faTrash)}}function fre(n,i){if(n&1&&(c(0,"div",34)(1,"table",35)(2,"thead",36)(3,"tr")(4,"th",37),f(5,"Instrument"),l(),c(6,"th",37),f(7,"Transaction"),l(),c(8,"th",37),f(9,"Order Type"),l(),c(10,"th",37),f(11,"Qty"),l(),c(12,"th",37),f(13,"Price"),l(),c(14,"th",37),f(15,"Margin"),l(),c(16,"th",37),f(17,"Action"),l()()(),c(18,"tbody",38),x(19,ure,30,33,"tr",39),l()()()),n&2){let e=g();d(19),p("ngForOf",e.basketItems)("ngForTrackBy",e.trackById)}}function pre(n,i){n&1&&(c(0,"span",77),f(1,"..."),l())}function mre(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),l()),n&2){let e=g().$implicit;d(),k("\u20B9",B(2,1,e.marginRequired,"1.2-2"))}}function hre(n,i){if(n&1){let e=V();c(0,"div",61)(1,"div",62)(2,"div",63)(3,"div",64)(4,"div",43)(5,"span",13),f(6),l(),c(7,"span",44),f(8),l(),M(9,"app-market-depth-invoker",45),c(10,"span",46),f(11),N(12,"number"),l(),c(13,"span",47),f(14),N(15,"percent"),l()()(),c(16,"button",65),C("click",function(){let r=w(e).index,o=g(2);return S(o.removeFromBasket(r))}),M(17,"fa-icon",56),l()()(),c(18,"div",66)(19,"div")(20,"label",67),f(21,"Transaction"),l(),c(22,"div",68),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleTransactionType(r))})("keydown.enter",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleTransactionType(r))}),M(23,"app-small-chip",69)(24,"app-small-chip",48),l()(),c(25,"div")(26,"label",67),f(27,"Order Type"),l(),c(28,"div",68),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleOrderType(r))})("keydown.enter",function(){let r=w(e).$implicit,o=g(2);return S(o.toggleOrderType(r))}),M(29,"app-small-chip",48),l()(),c(30,"div")(31,"label",67),f(32,"Quantity"),l(),c(33,"input",70),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.quantity,r)||(o.quantity=r),S(r)}),C("input",function(r){let o=w(e).$implicit,a=g(2);return S(a.updateQuantity(o,r))}),l()(),c(34,"div")(35,"label",67),f(36,"Price"),l(),c(37,"input",71),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.price,r)||(o.price=r),S(r)}),C("input",function(r){let o=w(e).$implicit,a=g(2);return S(a.updatePrice(o,r))}),l()()(),c(38,"div",72)(39,"div",24)(40,"span",73),f(41,"Margin Required"),l(),c(42,"span",74),x(43,pre,2,0,"span",75)(44,mre,3,4,"span",76),l()()()()}if(n&2){let e=i.$implicit,t=i.index,r=g(2);d(6),L(e.displayName),d(2),L(e.exchange),d(),p("title",e.displayName)("instrumentToken",e.instrumentToken)("iconColor","gray"),d(),p("ngClass",r.color(e.change)),d(),k(" ",B(12,31,e.lastPrice,"1.2-2")," "),d(2),p("ngClass",Tt(37,mA,e.change>0,e.change<0,e.change===0)),d(),k(" ",B(15,34,e.change/100,"1.2-2")," "),d(2),p("matTooltip","Remove from Basket"),d(),p("icon",r.faTrash),d(3),p("for","transaction-"+t),d(2),p("id","transaction-"+t),d(),p("text",e.transactionType)("color",e.transactionType==="BUY"?"blue":"red"),d(),p("text",e.productType)("color",e.productType==="MIS"?"orange":"purple"),d(2),p("for","orderType-"+t),d(2),p("id","orderType-"+t),d(),p("text",e.orderType)("color","gray"),d(2),p("for","quantity-"+t),d(2),p("id","quantity-"+t),Pe("ngModel",e.quantity),d(2),p("for","price-"+t),d(2),p("id","price-"+t),Pe("ngModel",e.price),p("disabled",e.orderType==="MARKET")("placeholder",e.orderType==="MARKET"?"Market":"0.00"),d(6),p("ngIf",r.isCalculatingMargin),d(),p("ngIf",!r.isCalculatingMargin)}}function gre(n,i){if(n&1&&(c(0,"div",59),x(1,hre,45,41,"div",60),l()),n&2){let e=g();d(),p("ngForOf",e.basketItems)("ngForTrackBy",e.trackById)}}function vre(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),l()),n&2){let e=g(2);d(),k("\u20B9",B(2,1,e.totalMargin,"1.0-0"))}}function yre(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),l()),n&2){let e=g(2);d(),k("\u20B9",B(2,1,e.finalMargin,"1.0-0"))}}function _re(n,i){if(n&1&&(c(0,"span",113),f(1),l()),n&2){let e=g(2);d(),k(" ",e.isNetDebit()?"(Debit)":"(Credit)"," ")}}function bre(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),l()),n&2){let e=g(2);d(),k("\u20B9",B(2,1,e.totalMargin,"1.0-0"))}}function xre(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),l()),n&2){let e=g(2);d(),k("\u20B9",B(2,1,e.availableMargin,"1.0-0"))}}function Cre(n,i){if(n&1&&(c(0,"span"),f(1),N(2,"number"),l()),n&2){let e=g(2);d(),k("\u20B9",B(2,1,e.finalMargin,"1.0-0"))}}function wre(n,i){n&1&&(c(0,"span"),f(1,"Refresh Margins"),l())}function Sre(n,i){if(n&1){let e=V();c(0,"div",78)(1,"div",79)(2,"div",80)(3,"div",81)(4,"span",82),f(5,"Margin Overview for Total Items"),l(),c(6,"span",13),f(7),l()(),c(8,"div",83)(9,"div",24)(10,"span",46),f(11,"Net Premium"),l(),c(12,"div",84)(13,"span",85),f(14),N(15,"number"),l()()(),M(16,"div",86),c(17,"div",66)(18,"div",24)(19,"span",13),f(20,"Utilized"),l(),c(21,"span",74),f(22),N(23,"number"),l()(),c(24,"div",24)(25,"span",13),f(26,"Available"),l(),c(27,"span",74),f(28),N(29,"number"),l()()(),M(30,"div",86),c(31,"div",66)(32,"div",87)(33,"span",13),f(34,"Total"),l(),c(35,"span",74),x(36,vre,3,4,"span",76),l()(),c(37,"div",87),N(38,"number"),c(39,"span",13),f(40,"Final"),l(),c(41,"span",88),x(42,yre,3,4,"span",76),l()()()()(),c(43,"div",89)(44,"input",90),Oe("ngModelChange",function(r){w(e);let o=g();return Be(o.includeExistingPositions,r)||(o.includeExistingPositions=r),S(r)}),C("change",function(){w(e);let r=g();return S(r.calculateBasketMargin())}),l(),c(45,"label",91),f(46," Include Existing Positions "),l()(),c(47,"div",92)(48,"button",93),C("click",function(){w(e);let r=g();return S(r.placeBasketOrders())}),f(49," Execute "),l()()(),c(50,"div",94)(51,"div",95)(52,"div",96)(53,"div",97),f(54,"Items"),l(),c(55,"div",98),f(56),l()(),c(57,"div",99)(58,"div",100),f(59," Net Premium "),l(),c(60,"div",101),f(61),N(62,"number"),x(63,_re,2,1,"span",102),l()(),c(64,"div",103)(65,"div",97),f(66,"Total Margin"),l(),c(67,"div",98),x(68,bre,3,4,"span",76),l()(),c(69,"div",104)(70,"div",97),f(71,"Utilized Margin"),l(),c(72,"div",98),f(73),N(74,"number"),l()(),c(75,"div",104)(76,"div",97),f(77," Available Margin "),l(),c(78,"div",101),x(79,xre,3,4,"span",76),l()(),c(80,"div",105),N(81,"number"),c(82,"div",100),f(83," Final Margin "),l(),c(84,"div",101),x(85,Cre,3,4,"span",76),l()()(),c(86,"div",106)(87,"div",107)(88,"input",108),Oe("ngModelChange",function(r){w(e);let o=g();return Be(o.includeExistingPositions,r)||(o.includeExistingPositions=r),S(r)}),C("change",function(){w(e);let r=g();return S(r.calculateBasketMargin())}),l(),c(89,"label",109),f(90," Include Existing Positions "),l()(),c(91,"div",110)(92,"button",111),C("click",function(){w(e);let r=g();return r.calculateBasketMargin(),S(r.fetchFundsData())}),x(93,wre,2,0,"span",76),l(),c(94,"button",112),C("click",function(){w(e);let r=g();return S(r.placeBasketOrders())}),f(95," Execute "),l()()()()()}if(n&2){let e=g();d(7),L(e.basketItems.length),d(3),p("ngClass",Tt(52,nre,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),d(3),p("ngClass",Tt(56,wv,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),d(),k(" \u20B9",B(15,31,e.getAbsoluteNetPremium(),"1.2-2")," "),d(8),k("\u20B9",B(23,34,e.utilizedMargin,"1.0-0")),d(6),k("\u20B9",B(29,37,e.availableMargin,"1.0-0")),d(4),p("matTooltip","Utilized + Available"),d(4),p("ngIf",!e.isCalculatingMargin),d(),p("matTooltip","Required Margin: \u20B9"+B(38,40,e.requiredMargin,"1.0-0")),d(4),p("ngClass",Ae(60,w7,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),d(),p("ngIf",!e.isCalculatingMargin),d(2),Pe("ngModel",e.includeExistingPositions),d(12),L(e.basketItems.length),d(),p("ngClass",Tt(63,ire,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),d(),p("ngClass",Tt(67,wv,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),d(2),p("ngClass",Tt(71,wv,e.isNetCredit(),e.isNetDebit(),e.netPremium===0)),d(),k(" \u20B9",B(62,43,e.getAbsoluteNetPremium(),"1.2-2")," "),d(2),p("ngIf",e.netPremium!==0),d(),p("matTooltip","Utilized Margin + Available Margin"),d(4),p("ngIf",!e.isCalculatingMargin),d(5),k("\u20B9",B(74,46,e.utilizedMargin,"1.0-0")),d(5),p("ngClass",Ae(75,w7,0<e.availableMargin,0>=e.availableMargin)),d(),p("ngIf",!e.isCalculatingMargin),d(),p("ngClass",Ae(78,rre,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin))("matTooltip","Required Margin: \u20B9"+B(81,49,e.requiredMargin,"1.0-0")),d(2),p("ngClass",Ae(81,w7,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),d(2),p("ngClass",Ae(84,w7,e.finalMargin<=e.availableMargin,e.finalMargin>e.availableMargin)),d(),p("ngIf",!e.isCalculatingMargin),d(3),Pe("ngModel",e.includeExistingPositions),d(4),p("disabled",e.isCalculatingMargin),d(),p("ngIf",!e.isCalculatingMargin)}}var hA=(()=>{let i=class i{constructor(t,r,o,a,s,u,m){this.watchlistService=t,this.toastr=r,this.fundsService=o,this.tradingAccountService=a,this.ws=s,this.ordersService=u,this.basketCommunicationService=m,this.isLoading=!0,this.basketItems=[],this.searchTerm="",this.fetchedInstruments=[],this.searchTermChanged=new Y,this.requiredMargin=0,this.finalMargin=0,this.isCalculatingMargin=!1,this.tradingAccounts=[],this.selectedTradingAccountId="",this.includeExistingPositions=!1,this.instrumentTokens=[],this.marginCalculationTrigger=new Y,this.funds=[],this.utilizedMargin=0,this.availableMargin=0,this.isIntraday=!1,this.netPremium=0,this.BASKET_CACHE_KEY="basket_order_items",this.faSearch=Lo,this.faTrash=ko}ngOnInit(){this.isLoading=!0,this.searchSubscription=this.searchTermChanged.pipe(ci(300),qi()).subscribe(t=>{this.searchInstruments(t)}),this.marginCalculationSubscription=this.marginCalculationTrigger.pipe(ci(500)).subscribe(()=>{this.performMarginCalculation()}),this.basketCommunicationSubscription=this.basketCommunicationService.addToBasket$.subscribe(t=>{this.addToBasket(t)}),this.fetchTradingAccounts()}ngOnDestroy(){this.searchSubscription?.unsubscribe(),this.wsSubscription?.unsubscribe(),this.marginCalculationSubscription?.unsubscribe(),this.basketCommunicationSubscription?.unsubscribe(),this.instrumentTokens.length>0&&this.ws.unsubscribe(this.instrumentTokens),this.saveBasketItems()}fetchTradingAccounts(){this.isLoading=!0,this.tradingAccountService.getTradingAccounts().subscribe({next:t=>{this.tradingAccounts=t.data,this.tradingAccounts.length>0&&(this.selectedTradingAccountId=this.tradingAccounts[0].userId,this.fetchFundsData(),this.loadBasketItems(),this.isLoading=!1)},error:t=>{console.error("Error while fetching trading accounts:",t),this.toastr.error(t.error?.message||"Failed to fetch trading accounts","Error")}})}fetchFundsData(){this.selectedTradingAccountId&&this.fundsService.getFunds().subscribe({next:t=>{this.funds=t.data||[],this.updateMarginValues()},error:t=>{console.error("Error while fetching funds data:",t),this.toastr.error(t.error?.message||"Failed to fetch funds data","Error")}})}updateMarginValues(){let t=this.funds.find(r=>r.userId===this.selectedTradingAccountId);t?(this.utilizedMargin=t.margin?.utilised?.debits||0,this.availableMargin=t.margin?.net||0):(this.utilizedMargin=0,this.availableMargin=0)}onSearchTermChange(t){let o=t.target?.value||"";this.searchTermChanged.next(o)}searchInstruments(t){if(!t.trim()){this.fetchedInstruments=[];return}this.watchlistService.searchInstruments(t.trim()).subscribe({next:r=>{this.fetchedInstruments=r.data},error:r=>{console.error("Error while fetching instruments:",r),this.toastr.error(r.error.message,"Error")}})}addToBasket(t){if(this.basketItems.length>=6){this.toastr.warning("Maximum 6 instruments allowed in basket","Limit Reached");return}this.searchTerm="",this.fetchedInstruments=[];let r=this.getCachedQuantity(t.exchange),o={displayName:t.displayName,tradingSymbol:t.tradingSymbol,instrumentToken:t.instrumentToken,segment:t.segment,exchange:t.exchange,quantity:r,orderType:"LIMIT",transactionType:"SELL",price:0,marginRequired:0,lastPrice:0,change:0,priceUpdated:!1,isIntraday:this.isIntraday,productType:"NRML"};o.productType=this.getProductType(o),this.basketItems.push(o),this.subscribeToInstrument(t.instrumentToken),this.calculateBasketMargin(),this.calculateNetPremium()}removeFromBasket(t){let r=this.basketItems[t];this.basketItems.splice(t,1),this.unsubscribeFromInstrument(r.instrumentToken),this.basketItems.length>0?(this.calculateBasketMargin(),this.calculateNetPremium()):(this.requiredMargin=0,this.finalMargin=0,this.netPremium=0)}toggleTransactionType(t){t.transactionType=t.transactionType==="BUY"?"SELL":"BUY",this.calculateBasketMargin(),this.calculateNetPremium()}toggleOrderType(t){t.orderType==="MARKET"?t.orderType="LIMIT":t.orderType==="LIMIT"&&(t.orderType="MARKET",t.price=0),this.calculateBasketMargin(),this.calculateNetPremium()}updateQuantity(t,r){let o=r.target,a=parseInt(o.value)||1;t.quantity=Math.max(1,a),this.cacheQuantity(t.exchange,t.quantity),this.calculateBasketMargin(),this.calculateNetPremium()}updatePrice(t,r){let o=r.target,a=parseFloat(o.value)||0;t.price=Math.max(0,a),this.calculateBasketMargin(),this.calculateNetPremium()}calculateBasketMargin(){this.marginCalculationTrigger.next()}performMarginCalculation(){if(this.basketItems.length===0)return;if(!this.selectedTradingAccountId){this.toastr.warning("Please select a trading account","Warning");return}let t=this.basketItems.map(o=>({exchange:o.exchange,tradingSymbol:o.tradingSymbol,transactionType:o.transactionType,variety:"regular",product:this.getProductType(o),orderType:o.orderType,quantity:o.quantity,price:o.orderType==="MARKET"?0:o.price})),r={tradingAccountId:this.selectedTradingAccountId,marginCalculationParams:t,includeExistingPositions:this.includeExistingPositions};this.fundsService.calculateCombinedMargin(r).subscribe({next:o=>{let a=o.data;a?.orders&&Array.isArray(a.orders)&&a.orders.forEach((s,u)=>{this.basketItems[u]&&(this.basketItems[u].marginRequired=s.total||0)}),this.requiredMargin=a?.initialMargin?.total||0,this.finalMargin=a?.finalMargin?.total||0,this.finalMargin=this.finalMargin>0?this.finalMargin:0,this.isCalculatingMargin=!1},error:o=>{console.error("Error while calculating margin:",o),this.toastr.error(o.error?.message||"Failed to calculate margin","Error"),this.isCalculatingMargin=!1}})}getProductType(t){return t.isIntraday?"MIS":t.segment==="NFO-OPT"||t.segment==="NFO-FUT"||t.segment==="BFO-OPT"||t.segment==="BFO-FUT"?"NRML":"CNC"}onIntradayChange(){this.basketItems.forEach(t=>{t.isIntraday=this.isIntraday,t.productType=this.getProductType(t)}),this.calculateBasketMargin()}subscribeToInstrument(t){this.instrumentTokens.push(t),this.ws.connectionState().pipe(be(r=>r),We(1)).subscribe(()=>{this.ws.subscribe([t])}),this.wsSubscription||(this.wsSubscription=this.ws.ticks().subscribe(r=>{this.updateBasketItemsOnTick(r)}))}unsubscribeFromInstrument(t){let r=this.instrumentTokens.indexOf(t);r>-1&&(this.instrumentTokens.splice(r,1),this.ws.unsubscribe([t]))}updateBasketItemsOnTick(t){t.forEach(r=>{this.basketItems.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{a.lastPrice!==r.lastTradedPrice&&(a.lastPrice=r.lastTradedPrice,a.change=r.change,!a.priceUpdated&&a.orderType==="LIMIT"&&r.lastTradedPrice>0&&(a.price=r.lastTradedPrice,a.priceUpdated=!0,this.calculateBasketMargin(),this.calculateNetPremium()))})})}getCachedQuantity(t){let r=`basket_qty_${this.selectedTradingAccountId}_${t}`,o=localStorage.getItem(r);return o?parseInt(o):1}cacheQuantity(t,r){let o=`basket_qty_${this.selectedTradingAccountId}_${t}`;localStorage.setItem(o,r.toString())}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}trackById(t,r){return r.instrumentToken+r.exchange}getDefaultVariety(){let t=new Date,r=new Date;r.setHours(9,0,0,0);let o=new Date;o.setHours(15,30,0,0);let a=t.getDay()===0||t.getDay()===6;return t<r||t>o||a?"amo":"regular"}validateBasketOrders(){if(this.basketItems.length===0)return this.toastr.error("Please add at least one instrument to the basket","Error"),!1;if(!this.selectedTradingAccountId)return this.toastr.error("Please select a trading account","Error"),!1;for(let t of this.basketItems){if(!t.tradingSymbol||!t.exchange)return this.toastr.error("All instruments must have valid trading symbol and exchange","Error"),!1;if(t.quantity<=0)return this.toastr.error(`Quantity must be greater than 0 for ${t.displayName}`,"Error"),!1;if(t.orderType==="LIMIT"&&t.price<=0)return this.toastr.error(`Price must be greater than 0 for LIMIT order on ${t.displayName}`,"Error"),!1}return!0}placeBasketOrders(){if(!this.validateBasketOrders())return;let t=[],r=this.getDefaultVariety();this.basketItems.forEach(o=>{let a={quantity:o.quantity,orderType:o.orderType,tradingsymbol:o.tradingSymbol,product:this.getProductType(o),exchange:o.exchange,transactionType:o.transactionType,validity:"DAY",price:o.orderType==="MARKET"?0:o.price,triggerPrice:0,tag:"famvest-basket-order"};t.push({tradingAccountId:this.selectedTradingAccountId,orderParams:a})}),ct(t).pipe(T1(o=>this.ordersService.placeOrder(o,r).pipe(Qe(a=>Z({error:!0,id:o.tradingAccountId,message:a?.error?.message||"Unknown error",instrument:o.orderParams.tradingsymbol}))))).subscribe({next:o=>{"error"in o&&o.error?(console.error(`\u274C Order placement failed for ${o.instrument}:`,o),this.toastr.error(`Order placement for ${o.instrument} failed: ${o.message}`,"Error")):(console.log(`\u2705 Order placed successfully for ${o.data.tradingSymbol}`),this.toastr.success(`Order placed successfully. Order ID: ${o.data.orderId}`,"Success"))},error:o=>{console.error("Fatal error:",o),this.toastr.error("Something went wrong in the processing pipeline.","Fatal Error")},complete:()=>{console.log("\u2705 All basket orders processed"),this.toastr.info("All basket orders have been processed","Complete")}})}clearBasket(){this.basketItems.forEach(t=>{this.unsubscribeFromInstrument(t.instrumentToken)}),this.basketItems=[],this.requiredMargin=0,this.finalMargin=0,localStorage.removeItem(this.BASKET_CACHE_KEY)}calculateNetPremium(){this.netPremium=this.basketItems.reduce((t,r)=>{let o=(r.quantity||0)*(r.price||0);return r.transactionType==="BUY"?t+o:t-o},0)}getAbsoluteNetPremium(){return Math.abs(this.netPremium)}isNetDebit(){return this.netPremium>0}isNetCredit(){return this.netPremium<0}saveBasketItems(){let t=this.basketItems.map(r=>({displayName:r.displayName,tradingSymbol:r.tradingSymbol,instrumentToken:r.instrumentToken,segment:r.segment,exchange:r.exchange,quantity:r.quantity,orderType:r.orderType,transactionType:r.transactionType,price:r.price,marginRequired:r.marginRequired,lastPrice:r.lastPrice,change:r.change,priceUpdated:r.priceUpdated,isIntraday:r.isIntraday,productType:r.productType}));localStorage.setItem(this.BASKET_CACHE_KEY,JSON.stringify(t))}loadBasketItems(){let t=localStorage.getItem(this.BASKET_CACHE_KEY);if(t)try{let r=JSON.parse(t);this.basketItems=r,this.basketItems.length>0&&(this.isIntraday=this.basketItems[0].isIntraday||!1),this.basketItems.forEach(o=>{this.subscribeToInstrument(o.instrumentToken)}),this.calculateBasketMargin(),this.calculateNetPremium()}catch(r){console.error("Error parsing cached basket items:",r),localStorage.removeItem(this.BASKET_CACHE_KEY)}}get totalMargin(){return Number(this.utilizedMargin)+Number(this.availableMargin)}};i.\u0275fac=function(r){return new(r||i)(D(g3),D(xe),D(X2),D(Hn),D(Qn),D(K2),D(y7))},i.\u0275cmp=U({type:i,selectors:[["app-basket-order"]],decls:25,vars:14,consts:[[1,"page-container"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","text-gray-700"],[1,"p-4","border-b","border-gray-200"],[1,"flex","flex-col","sm:flex-row","gap-3","items-start","sm:items-center"],[1,"flex-none","w-full","sm:w-[40%]"],[3,"selectedUserIdChange","selectUser","selectedUserId","placeholder"],[1,"relative","flex-1","w-full"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400",3,"icon"],["type","text","placeholder","Search and add instruments eg: infy, nifty fut, etc",1,"pl-10","pr-3","py-2","w-full","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["class","absolute left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto z-10",4,"ngIf"],[1,"flex","items-center","gap-6","mt-3"],[1,"inline-flex","items-center","gap-2","cursor-pointer"],["type","radio","name","productType",1,"form-radio","text-orange-500","h-4","w-4",3,"ngModelChange","change","ngModel","value"],[1,"text-sm","text-gray-700"],["type","radio","name","productType",1,"form-radio","text-purple-500","h-4","w-4",3,"ngModelChange","change","ngModel","value"],[1,"min-h-[30vh]"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","text-center py-16 px-4",4,"ngIf"],["class","hidden md:block overflow-x-auto",4,"ngIf"],["class","md:hidden divide-y divide-gray-200",4,"ngIf"],["class","border-t border-gray-200 bg-gradient-to-br from-gray-50 to-gray-100",4,"ngIf"],[1,"absolute","left-0","right-0","mt-1","bg-white","border","border-gray-300","rounded-md","shadow-lg","max-h-60","overflow-auto","z-10"],["class","px-3 py-2 hover:bg-blue-50 cursor-pointer transition-colors","tabindex","0","role","button",3,"click","keydown.enter",4,"ngFor","ngForOf"],["tabindex","0","role","button",1,"px-3","py-2","hover:bg-blue-50","cursor-pointer","transition-colors",3,"click","keydown.enter"],[1,"flex","justify-between","items-center"],[1,"text-gray-700","text-sm"],[1,"text-sm","text-gray-500","uppercase"],[1,"flex","items-center","justify-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-500"],[1,"text-center","py-16","px-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-16","w-16","mx-auto","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","text-sm","md:text-base"],[1,"hidden","md:block","overflow-x-auto"],[1,"w-full"],[1,"bg-gray-100","text-gray-600"],[1,"px-4","py-2","text-left","h-10"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-4","py-3"],[1,"flex","flex-col"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-400","uppercase"],[3,"title","instrumentToken","iconColor"],[1,"text-sm",3,"ngClass"],[1,"text-sm","px-1.5","py-0.5","rounded-md",3,"ngClass"],[3,"text","color"],[1,"px-4","py-3","cursor-pointer"],["tabindex","0","role","button",3,"click","keydown.enter","text","color"],["type","number","min","1",1,"w-20","px-2","py-1","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","ngModel"],["type","number","min","0","step","0.05",1,"w-24","px-2","py-1","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-100","focus:outline-none","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","input","ngModel","disabled","placeholder"],["class","text-gray-400 text-sm animate-pulse",4,"ngIf"],["class","text-gray-700 font-medium ",4,"ngIf"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors",3,"click","matTooltip"],[1,"text-sm",3,"icon"],[1,"text-gray-400","text-sm","animate-pulse"],[1,"text-gray-700","font-medium"],[1,"md:hidden","divide-y","divide-gray-200"],["class","p-4 hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-4","hover:bg-gray-50","transition-colors"],[1,"mb-3"],[1,"flex","items-start","justify-between","mb-2"],[1,"flex-1","min-w-0"],[1,"p-2","text-red-600","hover:bg-red-50","rounded-md","transition-colors","ml-2","flex-shrink-0",3,"click","matTooltip"],[1,"grid","grid-cols-2","gap-3"],[1,"text-sm","text-gray-500","block","mb-1",3,"for"],["tabindex","0","role","button",1,"cursor-pointer",3,"click","keydown.enter","id"],[1,"mr-2",3,"text","color"],["type","number","min","1",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","text-sm","focus:ring-2","focus:ring-blue-100","focus:outline-none",3,"ngModelChange","input","id","ngModel"],["type","number","min","0","step","0.05",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","text-sm","focus:ring-2","focus:ring-blue-100","focus:outline-none","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","input","id","ngModel","disabled","placeholder"],[1,"mt-3","pt-3","border-t","border-gray-100"],[1,"text-sm","text-gray-500"],[1,"text-sm","font-medium","text-gray-700"],["class","text-gray-400 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"text-gray-400","animate-pulse"],[1,"border-t","border-gray-200","bg-gradient-to-br","from-gray-50","to-gray-100"],[1,"md:hidden","p-4","space-y-3"],[1,"bg-white","rounded-xl","p-4","shadow-sm","border","border-gray-200"],[1,"flex","items-center","justify-between","mb-3","pb-3","border-b","border-gray-100"],[1,"text-sm","text-gray-700","tracking-wide"],[1,"space-y-2"],[1,"text-right"],[1,"text-sm","font-medium",3,"ngClass"],[1,"h-px","bg-gray-200","my-2"],[1,"flex","justify-between","items-center",3,"matTooltip"],[1,"text-base","font-medium",3,"ngClass"],[1,"flex","items-center","gap-2","bg-white","rounded-lg","p-3","shadow-sm","border","border-gray-200"],["type","checkbox","id","includePositionsMobile",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-2","focus:ring-blue-100",3,"ngModelChange","change","ngModel"],["for","includePositionsMobile",1,"text-sm","text-gray-700","cursor-pointer","select-none","flex-1"],[1,"flex","flex-col","gap-2"],[1,"w-full","px-4","py-3","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","rounded-lg","hover:from-blue-700","hover:to-blue-800","active:from-blue-800","active:to-blue-900","transition-all","font-medium","shadow-md",3,"click"],[1,"hidden","md:block","p-4"],[1,"grid","grid-cols-6","gap-3","mb-4"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200","text-center"],[1,"text-sm","text-gray-700","mb-1"],[1,"text-lg","font-medium","text-gray-700"],[1,"bg-gradient-to-br","rounded-md","p-3","shadow-sm","border",3,"ngClass"],[1,"text-sm","mb-1",3,"ngClass"],[1,"text-lg","font-bold",3,"ngClass"],["class","text-xs font-normal ml-1",4,"ngIf"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200",3,"matTooltip"],[1,"bg-white","rounded-md","p-3","shadow-sm","border","border-gray-200"],[1,"bg-gradient-to-br","rounded-md","p-3","shadow-sm","border",3,"ngClass","matTooltip"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-2","bg-white","rounded-lg","px-4","py-2.5","shadow-sm","border","border-gray-200"],["type","checkbox","id","includePositions",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-2","focus:ring-blue-100",3,"ngModelChange","change","ngModel"],["for","includePositions",1,"text-sm","text-gray-700","cursor-pointer","select-none"],[1,"flex","gap-3"],[1,"px-6","py-2.5","border","border-gray-300","bg-white","text-gray-700","rounded-lg","hover:bg-gray-50","active:bg-gray-100","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","font-medium","shadow-sm",3,"click","disabled"],[1,"px-8","py-2.5","bg-gradient-to-r","from-blue-600","to-blue-700","text-white","rounded-lg","hover:from-blue-700","hover:to-blue-800","active:from-blue-800","active:to-blue-900","transition-all","font-medium","shadow-md",3,"click"],[1,"text-xs","font-normal","ml-1"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"app-user-dropdown",5),Oe("selectedUserIdChange",function(s){return Be(o.selectedTradingAccountId,s)||(o.selectedTradingAccountId=s),s}),C("selectUser",function(){return o.calculateBasketMargin(),o.fetchFundsData()}),l()(),c(6,"div",6),M(7,"fa-icon",7),c(8,"input",8),Oe("ngModelChange",function(s){return Be(o.searchTerm,s)||(o.searchTerm=s),s}),C("input",function(s){return o.onSearchTermChange(s)}),l(),x(9,are,2,1,"div",9),l()(),c(10,"div",10)(11,"label",11)(12,"input",12),Oe("ngModelChange",function(s){return Be(o.isIntraday,s)||(o.isIntraday=s),s}),C("change",function(){return o.onIntradayChange()}),l(),c(13,"span",13),f(14,"Intraday"),l()(),c(15,"label",11)(16,"input",14),Oe("ngModelChange",function(s){return Be(o.isIntraday,s)||(o.isIntraday=s),s}),C("change",function(){return o.onIntradayChange()}),l(),c(17,"span",13),f(18,"Overnight"),l()()()(),c(19,"div",15),x(20,sre,2,0,"div",16)(21,cre,7,0,"div",17)(22,fre,20,2,"div",18)(23,gre,2,2,"div",19),l(),x(24,Sre,96,87,"div",20),l()()),r&2&&(d(5),Pe("selectedUserId",o.selectedTradingAccountId),p("placeholder","Select Trading Account"),d(2),p("icon",o.faSearch),d(),Pe("ngModel",o.searchTerm),d(),p("ngIf",o.fetchedInstruments.length>0&&o.searchTerm.length>0),d(3),Pe("ngModel",o.isIntraday),p("value",!0),d(4),Pe("ngModel",o.isIntraday),p("value",!1),d(4),p("ngIf",o.isLoading),d(),p("ngIf",!o.isLoading&&o.basketItems.length===0),d(),p("ngIf",!o.isLoading&&o.basketItems.length>0),d(),p("ngIf",o.basketItems.length>0),d(),p("ngIf",o.basketItems.length>0))},dependencies:[he,le,oe,Q,bt,it,ja,wr,uc,rt,Ha,On,we,xt,Xe,x7,Fi,mt,Qt],encapsulation:2});let n=i;return n})();function Mre(n,i){n&1&&(c(0,"span",8),f(1,"*"),l())}function Ere(n,i){if(n&1&&(c(0,"p",9),f(1),l()),n&2){let e=g();d(),Mn(" ",e.label," is ",e.required?"required":"invalid",". ")}}var S7=(()=>{let i=class i{constructor(){this.placeholder="",this.required=!1,this.show=!1,this.faEye=V2,this.faEyeSlash=Ao,this.FormControl=Va}getControl(t){let r=this.formGroup.get(t);if(!r)throw new Error(`Control with name '${t}' not found`);return r}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-toggle-secret-field"]],inputs:{formGroup:"formGroup",controlName:"controlName",label:"label",placeholder:"placeholder",required:"required"},decls:9,vars:8,consts:[[1,"mt-3"],[1,"block","text-sm","text-gray-700"],["class","text-red-500",4,"ngIf"],[1,"relative"],["autocomplete","off",1,"form-control",3,"type","formControl","placeholder","required"],["type","button","tabindex","-1",1,"absolute","right-0","inset-y-0","px-3","flex","items-center","text-gray-500","hover:text-gray-600","focus:outline-none",3,"click"],[3,"icon"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(c(0,"div",0)(1,"label",1),f(2),x(3,Mre,2,0,"span",2),l(),c(4,"div",3),M(5,"input",4),c(6,"button",5),C("click",function(){return o.show=!o.show}),M(7,"fa-icon",6),l()(),x(8,Ere,2,2,"p",7),l()),r&2){let a;d(2),k(" ",o.label," "),d(),p("ngIf",o.required),d(2),p("type",o.show?"text":"password")("formControl",o.getControl(o.controlName))("placeholder",o.placeholder)("required",o.required),d(2),p("icon",o.show?o.faEyeSlash:o.faEye),d(),p("ngIf",((a=o.formGroup.get(o.controlName))==null?null:a.touched)&&((a=o.formGroup.get(o.controlName))==null?null:a.invalid))}},dependencies:[ln,it,rt,O1,Gm,we,Q],encapsulation:2});let n=i;return n})();function Tre(n,i){n&1&&(c(0,"p",18),f(1," Nickname is required. "),l())}function Ire(n,i){n&1&&(c(0,"p",18),f(1," Trading User ID is required. "),l())}var gA=(()=>{let i=class i{constructor(t,r,o,a,s){this.fb=t,this.tradingAccountService=r,this.toastrService=o,this.dialogRef=a,this.data=s,this.tradingAccount={},this.updateUserForm=this.fb.group({name:["",pe.required],userId:["",pe.required],password:[""],apiKey:[""],apiSecret:[""],totpKey:[""]}),s.tradingAccount&&(this.updateUserForm.get("userId")?.disable(),this.tradingAccount=s.tradingAccount,this.updateUserForm.patchValue({name:this.tradingAccount.name,userId:this.tradingAccount.userId}))}update(){if(this.updateUserForm.invalid){this.updateUserForm.markAllAsTouched();return}let t=this.updateUserForm.value;this.tradingAccount.id&&(t.id=this.tradingAccount.id,t.userId=this.tradingAccount.userId),this.tradingAccountService.updateTradingAccount(this.tradingAccount.userId,t).subscribe({next:r=>{this.toastrService.success("Trading account updated successfully.","Success"),this.dialogRef.close("updated")},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while updating trading account. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}};i.\u0275fac=function(r){return new(r||i)(D(v1),D(Hn),D(xe),D(Tn),D(x1))},i.\u0275cmp=U({type:i,selectors:[["app-update-trading-account"]],decls:34,vars:13,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","name","type","text","required","","placeholder","Enter a nickname",1,"form-control"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","userId","type","text","required","","placeholder","Enter trading user ID",1,"form-control"],["controlName","password","label","Trading Account Password (optional)","placeholder","Enter password (if you want automated login)",3,"formGroup","required"],["controlName","totpKey","label","TOTP Key (optional)","placeholder","Enter TOTP key (if you want automated login)",3,"formGroup","required"],["controlName","apiKey","label","API Key","placeholder","Enter API key",3,"formGroup","required"],["controlName","apiSecret","label","API Secret","placeholder","Enter API secret",3,"formGroup","required"],[3,"type","dismissible"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-2"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100","transition",3,"click"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),f(3,"Modify Trading Account"),l()(),c(4,"div",3)(5,"form",4),C("ngSubmit",function(){return o.update()}),c(6,"div")(7,"label",5),f(8," Nickname "),c(9,"span",6),f(10,"*"),l()(),M(11,"input",7),x(12,Tre,2,0,"p",8),l(),c(13,"div")(14,"label",5),f(15," Trading User ID "),c(16,"span",6),f(17,"*"),l()(),M(18,"input",9),x(19,Ire,2,0,"p",8),l(),M(20,"app-toggle-secret-field",10)(21,"app-toggle-secret-field",11)(22,"app-toggle-secret-field",12)(23,"app-toggle-secret-field",13),c(24,"div")(25,"app-note",14),f(26," You cannot view or edit existing values for the above secrets."),M(27,"br"),f(28," To update any of these fields, please enter new values \u2014 existing values will be overwritten upon submission. "),l()(),c(29,"div",15)(30,"button",16),f(31," Submit "),l(),c(32,"button",17),C("click",function(){return o.onClose()}),f(33," Cancel "),l()()()()()),r&2){let a,s;d(5),p("formGroup",o.updateUserForm),d(7),p("ngIf",((a=o.updateUserForm.get("name"))==null?null:a.touched)&&((a=o.updateUserForm.get("name"))==null?null:a.invalid)),d(7),p("ngIf",((s=o.updateUserForm.get("userId"))==null?null:s.touched)&&((s=o.updateUserForm.get("userId"))==null?null:s.invalid)),d(),p("formGroup",o.updateUserForm)("required",!1),d(),p("formGroup",o.updateUserForm)("required",!1),d(),p("formGroup",o.updateUserForm)("required",!1),d(),p("formGroup",o.updateUserForm)("required",!1),d(2),p("type","info")("dismissible",!0)}},dependencies:[ln,g1,it,rt,h1,O1,n1,i1,Q,S7,Kn,Gn,Wn],encapsulation:2});let n=i;return n})();function Dre(n,i){n&1&&(c(0,"p",17),f(1,"Nickname is required."),l())}function zre(n,i){n&1&&(c(0,"p",17),f(1,"Trading User ID is required."),l())}var vA=(()=>{let i=class i{constructor(t,r,o,a){this.fb=t,this.tradingAccountService=r,this.toastrService=o,this.dialogRef=a,this.tradingAccount={},this.onboardForm=this.fb.group({name:["",pe.required],userId:["",pe.required],password:[""],apiKey:["",pe.required],apiSecret:["",pe.required],totpKey:[""]})}submit(){if(this.onboardForm.invalid){this.onboardForm.markAllAsTouched();return}let t=this.onboardForm.value;this.tradingAccountService.onboardTradingAccount(t).subscribe({next:r=>{this.toastrService.success("Trading account successfully onboarded.","Success"),this.dialogRef.close("submitted")},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while adding trading account. Verify that the backend service is operational.","Error")}})}onClose(){this.dialogRef.close()}toUpperCase(t){let r=t.target;r.value=r.value.toUpperCase(),this.onboardForm.get("userId")?.setValue(r.value,{emitEvent:!1})}};i.\u0275fac=function(r){return new(r||i)(D(v1),D(Hn),D(xe),D(Tn))},i.\u0275cmp=U({type:i,selectors:[["app-add-trading-account"]],decls:29,vars:11,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"min-w-[300px]","sm:min-w-[500px]","w-full","max-w-3xl","mx-auto","rounded-md","shadow-sm","overflow-hidden","text-gray-700","bg-white"],["cdkDragHandle","",1,"flex","items-center","justify-between","p-4","border-b","cursor-move"],[1,"text-lg","font-medium","text-gray-600"],[1,"p-4"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"block","text-sm"],[1,"text-red-500"],["formControlName","name","type","text","required","","placeholder","Enter a nickname",1,"form-control"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","userId","type","text","required","","placeholder","Enter trading user ID",1,"form-control",3,"input"],["controlName","password","label","Trading Account Password (optional)","placeholder","Enter password (if you want automated login)",3,"formGroup","required"],["controlName","totpKey","label","TOTP Key (optional)","placeholder","Enter TOTP key (if you want automated login)",3,"formGroup","required"],["controlName","apiKey","label","API Key","placeholder","Enter API key",3,"formGroup","required"],["controlName","apiSecret","label","API Secret","placeholder","Enter API secret",3,"formGroup","required"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-2"],["type","submit",1,"flex-1","py-2","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition"],["type","button",1,"flex-1","py-2","border","rounded-md","hover:bg-gray-100",3,"click"],[1,"text-red-500","text-sm","mt-1"]],template:function(r,o){if(r&1&&(c(0,"div",0)(1,"div",1)(2,"span",2),f(3,"Onboard Trading Account"),l()(),c(4,"div",3)(5,"form",4),C("ngSubmit",function(){return o.submit()}),c(6,"div")(7,"label",5),f(8,"Nickname "),c(9,"span",6),f(10,"*"),l()(),M(11,"input",7),x(12,Dre,2,0,"p",8),l(),c(13,"div")(14,"label",5),f(15,"Trading User ID "),c(16,"span",6),f(17,"*"),l()(),c(18,"input",9),C("input",function(s){return o.toUpperCase(s)}),l(),x(19,zre,2,0,"p",8),l(),M(20,"app-toggle-secret-field",10)(21,"app-toggle-secret-field",11)(22,"app-toggle-secret-field",12)(23,"app-toggle-secret-field",13),c(24,"div",14)(25,"button",15),f(26,"Submit"),l(),c(27,"button",16),C("click",function(){return o.onClose()}),f(28,"Cancel"),l()()()()()),r&2){let a,s;d(5),p("formGroup",o.onboardForm),d(7),p("ngIf",((a=o.onboardForm.get("name"))==null?null:a.touched)&&((a=o.onboardForm.get("name"))==null?null:a.invalid)),d(7),p("ngIf",((s=o.onboardForm.get("userId"))==null?null:s.touched)&&((s=o.onboardForm.get("userId"))==null?null:s.invalid)),d(),p("formGroup",o.onboardForm)("required",!1),d(),p("formGroup",o.onboardForm)("required",!1),d(),p("formGroup",o.onboardForm)("required",!0),d(),p("formGroup",o.onboardForm)("required",!0)}},dependencies:[ln,g1,it,rt,h1,O1,n1,i1,Q,S7,Gn,Wn],encapsulation:2});let n=i;return n})();var M7=(()=>{let i=class i{constructor(t){this.api=t}getUserPreferences(){return this.api.get("/v1/user-preferences")}updatePreferenceValue(t,r){return this.api.patch(`/v1/user-preferences/${t}/value`,r)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var _A=(()=>{let i=class i{constructor(t){this.apiService=t}updateProfile(t){return this.apiService.put("/v1/users/profile/update",t)}changePassword(t){return this.apiService.put("/v1/users/profile/change-password",t)}getTradingAccounts(){return this.apiService.get("/v1/users/profile/trading-accounts")}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var bA=(()=>{let i=class i{constructor(t){this.api=t}getApplicationUserProfile(){return this.api.get("/v1/users/profile")}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Are=n=>({"text-red-500 hover:text-red-600":n});function Nre(n,i){if(n&1&&(c(0,"div",4),M(1,"fa-icon",5),c(2,"p",6),f(3,"Loading your profile..."),l()()),n&2){let e=g();d(),p("icon",e.faSpinner)}}function Pre(n,i){n&1&&M(0,"span",14)}function Ore(n,i){if(n&1){let e=V();c(0,"div",12),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.setActiveTab(r))}),f(1),x(2,Pre,1,0,"span",13),l()}if(n&2){let e=i.$implicit,t=g(2);ne("active-tab",e===t.activeTab)("text-gray-700",e!==t.activeTab),d(),k(" ",e," "),d(),p("ngIf",e===t.activeTab)}}function Rre(n,i){n&1&&(c(0,"p"),f(1,"Full name is required"),l())}function Fre(n,i){n&1&&(c(0,"p"),f(1,"Full name must be at least 2 characters"),l())}function Bre(n,i){if(n&1&&(c(0,"div",56),x(1,Rre,2,0,"p",57)(2,Fre,2,0,"p",57),l()),n&2){let e,t,r=g(3);d(),p("ngIf",(e=r.profileForm.get("fullName"))==null?null:e.hasError("required")),d(),p("ngIf",(t=r.profileForm.get("fullName"))==null?null:t.hasError("minlength"))}}function Vre(n,i){n&1&&(c(0,"p"),f(1,"Username is required"),l())}function Ure(n,i){n&1&&(c(0,"p"),f(1,"Username must be at least 3 characters"),l())}function jre(n,i){if(n&1&&(c(0,"div",56),x(1,Vre,2,0,"p",57)(2,Ure,2,0,"p",57),l()),n&2){let e,t,r=g(3);d(),p("ngIf",(e=r.profileForm.get("userName"))==null?null:e.hasError("required")),d(),p("ngIf",(t=r.profileForm.get("userName"))==null?null:t.hasError("minlength"))}}function Hre(n,i){if(n&1&&M(0,"fa-icon",58),n&2){let e=g(3);p("icon",e.faCheck)}}function qre(n,i){if(n&1&&M(0,"fa-icon",59),n&2){let e=g(3);p("icon",e.faSpinner)}}function $re(n,i){n&1&&(c(0,"p"),f(1,"Current password is required"),l())}function Wre(n,i){n&1&&(c(0,"p"),f(1,"Password must be at least 6 characters"),l())}function Gre(n,i){if(n&1&&(c(0,"div",56),x(1,$re,2,0,"p",57)(2,Wre,2,0,"p",57),l()),n&2){let e,t,r=g(3);d(),p("ngIf",(e=r.passwordForm.get("oldPassword"))==null?null:e.hasError("required")),d(),p("ngIf",(t=r.passwordForm.get("oldPassword"))==null?null:t.hasError("minlength"))}}function Yre(n,i){n&1&&(c(0,"p"),f(1,"New password is required"),l())}function Qre(n,i){n&1&&(c(0,"p"),f(1,"Password must be at least 6 characters"),l())}function Kre(n,i){if(n&1&&(c(0,"div",56),x(1,Yre,2,0,"p",57)(2,Qre,2,0,"p",57),l()),n&2){let e,t,r=g(3);d(),p("ngIf",(e=r.passwordForm.get("newPassword"))==null?null:e.hasError("required")),d(),p("ngIf",(t=r.passwordForm.get("newPassword"))==null?null:t.hasError("minlength"))}}function Xre(n,i){n&1&&(c(0,"p"),f(1,"Please confirm your password"),l())}function Zre(n,i){n&1&&(c(0,"p"),f(1,"Passwords do not match"),l())}function Jre(n,i){if(n&1&&(c(0,"div",56),x(1,Xre,2,0,"p",57)(2,Zre,2,0,"p",57),l()),n&2){let e,t=g(3);d(),p("ngIf",(e=t.passwordForm.get("confirmPassword"))==null?null:e.hasError("required")),d(),p("ngIf",t.passwordForm.hasError("passwordMismatch"))}}function eoe(n,i){if(n&1&&M(0,"fa-icon",58),n&2){let e=g(3);p("icon",e.faCheck)}}function toe(n,i){if(n&1&&M(0,"fa-icon",59),n&2){let e=g(3);p("icon",e.faSpinner)}}function noe(n,i){if(n&1){let e=V();c(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"h2",19)(5,"span",20),f(6,"\u{1F464}"),l(),f(7," Profile Information "),l(),c(8,"p",21),f(9,"Update your account details"),l()(),c(10,"form",22),C("ngSubmit",function(){w(e);let r=g(2);return S(r.onUpdateProfile())}),c(11,"div")(12,"label",23),f(13," Full Name "),l(),M(14,"input",24),x(15,Bre,3,2,"div",25),l(),c(16,"div")(17,"label",26),f(18," Username "),l(),M(19,"input",27),c(20,"p",28)(21,"span"),f(22,"\u26A0\uFE0F"),l(),c(23,"span"),f(24,"You will be logged out after changing the username"),l()(),x(25,jre,3,2,"div",25),l(),c(26,"div",29)(27,"h3",30),f(28,"Account Details"),l(),c(29,"div",31)(30,"div",32)(31,"span",33),f(32,"Role:"),l(),c(33,"span",34),f(34),l()(),c(35,"div",32)(36,"span",33),f(37,"Created:"),l(),c(38,"span",34),f(39),N(40,"istDate"),l()(),c(41,"div",32)(42,"span",33),f(43,"Last Updated:"),l(),c(44,"span",34),f(45),N(46,"istDate"),l()()()(),c(47,"div",35)(48,"button",36),x(49,Hre,1,1,"fa-icon",37)(50,qre,1,1,"fa-icon",38),f(51),l()()()(),c(52,"div",17)(53,"div",18)(54,"h2",19)(55,"span",39),f(56,"\u{1F512}"),l(),f(57," Change Password "),l(),c(58,"p",21),f(59,"Secure your account with a new password"),l()(),c(60,"form",22),C("ngSubmit",function(){w(e);let r=g(2);return S(r.onChangePassword())}),c(61,"div")(62,"label",40),f(63," Current Password "),l(),c(64,"div",41),M(65,"input",42),c(66,"button",43),C("click",function(){w(e);let r=g(2);return S(r.togglePasswordVisibility("old"))}),M(67,"fa-icon",44),l()(),x(68,Gre,3,2,"div",25),l(),c(69,"div")(70,"label",45),f(71," New Password "),l(),c(72,"div",41),M(73,"input",46),c(74,"button",43),C("click",function(){w(e);let r=g(2);return S(r.togglePasswordVisibility("new"))}),M(75,"fa-icon",44),l()(),x(76,Kre,3,2,"div",25),l(),c(77,"div")(78,"label",47),f(79," Confirm Password "),l(),c(80,"div",41),M(81,"input",48),c(82,"button",43),C("click",function(){w(e);let r=g(2);return S(r.togglePasswordVisibility("confirm"))}),M(83,"fa-icon",44),l()(),x(84,Jre,3,2,"div",25),l(),c(85,"div",49)(86,"h3",50),f(87," Password Requirements "),l(),c(88,"ul",51)(89,"li",52)(90,"span",53),f(91,"\u2713"),l(),c(92,"span"),f(93,"Password must be between 8 and 20 characters"),l()(),c(94,"li",52)(95,"span",53),f(96,"\u2713"),l(),c(97,"span"),f(98,"New Password and Confirm must match"),l()(),c(99,"li",52)(100,"span",54),f(101,"\u26A0"),l(),c(102,"span"),f(103,"You will be logged out after changing the password"),l()()()(),c(104,"div",35)(105,"button",55),x(106,eoe,1,1,"fa-icon",37)(107,toe,1,1,"fa-icon",38),f(108),l()()()()()()}if(n&2){let e,t,r,o,a,s=g(2);d(10),p("formGroup",s.profileForm),d(5),p("ngIf",((e=s.profileForm.get("fullName"))==null?null:e.touched)&&((e=s.profileForm.get("fullName"))==null?null:e.invalid)),d(10),p("ngIf",((t=s.profileForm.get("userName"))==null?null:t.touched)&&((t=s.profileForm.get("userName"))==null?null:t.invalid)),d(9),L(s.profile.role),d(5),L(B(40,24,s.profile.createdAt,"datetime-ordinal")),d(6),L(B(46,27,s.profile.updatedAt,"datetime-ordinal")),d(3),p("disabled",s.isUpdatingProfile||s.profileForm.invalid),d(),p("ngIf",!s.isUpdatingProfile),d(),p("ngIf",s.isUpdatingProfile),d(),k(" ",s.isUpdatingProfile?"Updating...":"Update Profile"," "),d(9),p("formGroup",s.passwordForm),d(5),p("type",s.showOldPassword?"text":"password"),d(2),p("icon",s.showOldPassword?s.faEyeSlash:s.faEye),d(),p("ngIf",((r=s.passwordForm.get("oldPassword"))==null?null:r.touched)&&((r=s.passwordForm.get("oldPassword"))==null?null:r.invalid)),d(5),p("type",s.showNewPassword?"text":"password"),d(2),p("icon",s.showNewPassword?s.faEyeSlash:s.faEye),d(),p("ngIf",((o=s.passwordForm.get("newPassword"))==null?null:o.touched)&&((o=s.passwordForm.get("newPassword"))==null?null:o.invalid)),d(5),p("type",s.showConfirmPassword?"text":"password"),d(2),p("icon",s.showConfirmPassword?s.faEyeSlash:s.faEye),d(),p("ngIf",s.passwordForm.touched&&(((a=s.passwordForm.get("confirmPassword"))==null?null:a.invalid)||s.passwordForm.hasError("passwordMismatch"))),d(21),p("disabled",s.isChangingPassword||s.passwordForm.invalid),d(),p("ngIf",!s.isChangingPassword),d(),p("ngIf",s.isChangingPassword),d(),k(" ",s.isChangingPassword?"Changing...":"Change Password"," ")}}function ioe(n,i){if(n&1&&M(0,"fa-icon",67),n&2){let e=g(5);p("icon",e.faRightToBracket)}}function roe(n,i){if(n&1&&M(0,"fa-icon",73),n&2){let e=g(5);p("icon",e.faSpinner)}}function ooe(n,i){if(n&1){let e=V();c(0,"button",66),C("click",function(){w(e);let r=g(4);return S(r.renewTokensForAll())}),x(1,ioe,1,1,"fa-icon",71)(2,roe,1,1,"fa-icon",72),c(3,"span"),f(4,"Renew All Tokens"),l()()}if(n&2){let e=g(4);p("disabled",e.isRenewingTokens),d(),p("ngIf",!e.isRenewingTokens),d(),p("ngIf",e.isRenewingTokens)}}function aoe(n,i){if(n&1){let e=V();c(0,"div",64)(1,"div",65)(2,"button",66),C("click",function(){w(e);let r=g(3);return S(r.refreshTradingAccounts())}),M(3,"fa-icon",67),c(4,"span"),f(5),l()(),x(6,ooe,5,3,"button",68),l(),c(7,"div",65)(8,"button",69),C("click",function(){w(e);let r=g(3);return S(r.onboardTradingAccount())}),M(9,"fa-icon",70),l()()()}if(n&2){let e=g(3);d(2),p("disabled",e.isTradingAccountsRefreshing),d(),ne("fa-spin",e.isTradingAccountsRefreshing),p("icon",e.isTradingAccountsRefreshing?e.faSpinner:e.faRefresh),d(2),L(e.isTradingAccountsRefreshing?"Loading":"Refresh"),d(),p("ngIf",e.users.length>0),d(3),p("icon",e.faUserPlus)}}function soe(n,i){n&1&&(c(0,"div",62)(1,"p",74),f(2,"No trading accounts to display"),l()())}function coe(n,i){if(n&1&&(c(0,"span",84),f(1),l()),n&2){let e=g(4);d(),L(e.getTradingAccountsSortIndicator("user"))}}function loe(n,i){if(n&1&&(c(0,"span",84),f(1),l()),n&2){let e=g(4);d(),L(e.getTradingAccountsSortIndicator("userName"))}}function doe(n,i){if(n&1&&(c(0,"span",84),f(1),l()),n&2){let e=g(4);d(),L(e.getTradingAccountsSortIndicator("userId"))}}function uoe(n,i){if(n&1&&(c(0,"span",84),f(1),l()),n&2){let e=g(4);d(),L(e.getTradingAccountsSortIndicator("tokenStatus"))}}function foe(n,i){if(n&1){let e=V();c(0,"app-small-chip",93),C("click",function(r){w(e);let o=g().$implicit,a=g(4);return S(a.copyTotpToClipboard(o.userId,r))}),l(),c(1,"div",94),f(2),l()}if(n&2){let e,t,r=g().$implicit,o=g(4);p("matTooltip","Click to copy TOTP")("text",((e=o.getTotpDisplayData(r.userId))==null?null:e.value)||"")("color","blue"),d(2),k(" ",(t=o.getTotpDisplayData(r.userId))==null?null:t.timeRemaining,"s ")}}function poe(n,i){n&1&&(c(0,"div",90),f(1,"Loading..."),l())}function moe(n,i){if(n&1){let e=V();c(0,"tr",85)(1,"td",86)(2,"div",87),M(3,"img",88),c(4,"span"),f(5),l()()(),c(6,"td",86),f(7),l(),c(8,"td",86),f(9),l(),c(10,"td",86),M(11,"app-small-chip",89),l(),c(12,"td",86)(13,"div",52),Je(14,foe,3,4)(15,poe,2,0,"div",90),l()(),c(16,"td",91)(17,"app-action-menu",92),C("handleAction",function(r){w(e);let o=g(4);return S(o.handleAction(r))}),l()()()}if(n&2){let e=i.$implicit,t=g(4);p("ngClass",vn(12,Are,!e.active)),d(3),p("alt",p0(e.name))("ngSrc",(e.profile==null?null:e.profile.avatarURL)??t.fallbackAvatarUrl),d(2),L(e.name),d(2),L((e.profile==null?null:e.profile.userName)||""),d(2),L(e.userId),d(2),p("text",e.tokenStatus)("color",t.getTokenStatusColor(e.tokenStatus)),d(3),et(t.getTotpDisplayData(e.userId)?14:15),d(3),p("row",e)("actions",t.getActionButtons(e))}}function hoe(n,i){if(n&1){let e=V();c(0,"div",63)(1,"table",75)(2,"thead",76)(3,"tr",77)(4,"th",78)(5,"button",79),C("click",function(){w(e);let r=g(3);return S(r.setTradingAccountsSort("user"))}),f(6," USER "),x(7,coe,2,1,"span",80),l()(),c(8,"th",78)(9,"button",79),C("click",function(){w(e);let r=g(3);return S(r.setTradingAccountsSort("userName"))}),f(10," FULL NAME "),x(11,loe,2,1,"span",80),l()(),c(12,"th",78)(13,"button",79),C("click",function(){w(e);let r=g(3);return S(r.setTradingAccountsSort("userId"))}),f(14," USER ID "),x(15,doe,2,1,"span",80),l()(),c(16,"th",78)(17,"button",79),C("click",function(){w(e);let r=g(3);return S(r.setTradingAccountsSort("tokenStatus"))}),f(18," TOKEN STATUS "),x(19,uoe,2,1,"span",80),l()(),c(20,"th",78),f(21," TOTP "),l(),c(22,"th",81),f(23,"ACTION"),l()()(),c(24,"tbody",82),x(25,moe,18,14,"tr",83),l()()()}if(n&2){let e=g(3);d(7),p("ngIf",e.getTradingAccountsSortIndicator("user")),d(4),p("ngIf",e.getTradingAccountsSortIndicator("userName")),d(4),p("ngIf",e.getTradingAccountsSortIndicator("userId")),d(4),p("ngIf",e.getTradingAccountsSortIndicator("tokenStatus")),d(6),p("ngForOf",e.sortedUsers)}}function goe(n,i){if(n&1&&(c(0,"div",15),x(1,aoe,10,7,"div",60),c(2,"div",61),Je(3,soe,3,0,"div",62)(4,hoe,26,5,"div",63),l()()),n&2){let e=g(2);d(),p("ngIf",!e.errorMessage),d(2),et(!e.users||e.users.length===0?3:4)}}function voe(n,i){n&1&&(c(0,"div",62)(1,"p",74),f(2,"No preferences to display"),l()())}function yoe(n,i){if(n&1&&(c(0,"span",84),f(1),l()),n&2){let e=g(4);d(),L(e.getPreferencesSortIndicator("displayName"))}}function _oe(n,i){if(n&1&&(c(0,"span",84),f(1),l()),n&2){let e=g(4);d(),L(e.getPreferencesSortIndicator("description"))}}function boe(n,i){if(n&1&&(c(0,"span",84),f(1),l()),n&2){let e=g(4);d(),L(e.getPreferencesSortIndicator("value"))}}function xoe(n,i){if(n&1&&(c(0,"option",101),f(1),l()),n&2){let e=i.$implicit;p("value",e),d(),L(e)}}function Coe(n,i){if(n&1){let e=V();c(0,"tr",96)(1,"td",97)(2,"div",87)(3,"span",1),f(4),l()()(),c(5,"td",98),f(6),l(),c(7,"td",86),M(8,"app-small-chip",89),l(),c(9,"td",86)(10,"select",99),Oe("ngModelChange",function(r){let o=w(e).$implicit;return Be(o.value,r)||(o.value=r),S(r)}),C("change",function(){let r=w(e).$implicit,o=g(4);return S(o.onChange(r))}),x(11,xoe,2,2,"option",100),l()()()}if(n&2){let e=i.$implicit,t=g(4);d(4),L(e.displayName),d(2),k(" ",e.description," "),d(2),p("text",e.value)("color",t.getPreferenceValueColor(e.value)),d(2),Pe("ngModel",e.value),d(),p("ngForOf",e.allowedValues)}}function woe(n,i){if(n&1){let e=V();c(0,"div",63)(1,"table",75)(2,"thead",76)(3,"tr",77)(4,"th",78)(5,"button",79),C("click",function(){w(e);let r=g(3);return S(r.setPreferencesSort("displayName"))}),f(6," PREFERENCE "),x(7,yoe,2,1,"span",80),l()(),c(8,"th",78)(9,"button",79),C("click",function(){w(e);let r=g(3);return S(r.setPreferencesSort("description"))}),f(10," DESCRIPTION "),x(11,_oe,2,1,"span",80),l()(),c(12,"th",78)(13,"button",79),C("click",function(){w(e);let r=g(3);return S(r.setPreferencesSort("value"))}),f(14," CURRENT VALUE "),x(15,boe,2,1,"span",80),l()(),c(16,"th",78),f(17,"UPDATE"),l()()(),c(18,"tbody",82),x(19,Coe,12,6,"tr",95),l()()()}if(n&2){let e=g(3);d(7),p("ngIf",e.getPreferencesSortIndicator("displayName")),d(4),p("ngIf",e.getPreferencesSortIndicator("description")),d(4),p("ngIf",e.getPreferencesSortIndicator("value")),d(4),p("ngForOf",e.sortedUserPreferences)("ngForTrackBy",e.trackById)}}function Soe(n,i){if(n&1&&(c(0,"div",15)(1,"div",61),Je(2,voe,3,0,"div",62)(3,woe,20,5,"div",63),l()()),n&2){let e=g(2);d(2),et(!e.userPreferences||e.userPreferences.length===0?2:3)}}function Moe(n,i){if(n&1&&(c(0,"div",7)(1,"div",8)(2,"div",9),x(3,Ore,3,6,"div",10),l()(),x(4,noe,109,30,"div",11)(5,goe,5,2,"div",11)(6,Soe,4,1,"div",11),l()),n&2){let e=g();d(3),p("ngForOf",e.tabs),d(),p("ngIf",e.activeTab==="Profile"),d(),p("ngIf",e.activeTab==="Trading Accounts"),d(),p("ngIf",e.activeTab==="My Preferences")}}var xA=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_,y,E,I,A,R){this.userService=t,this.userPreferencesService=r,this.profileService=o,this.applicationUserService=a,this.authUserService=s,this.toastrService=u,this.router=m,this.fb=_,this.alertService=y,this.dialog=E,this.utilsService=I,this.userViewStateService=A,this.userDataStateService=R,this.profile=null,this.tradingAccounts=[],this.isLoadingProfile=!1,this.isUpdatingProfile=!1,this.isChangingPassword=!1,this.showOldPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.tabs=["Trading Accounts","My Preferences","Profile"],this.activeTab="Trading Accounts",this.tradingAccountsSortColumn="user",this.tradingAccountsSortDirection="asc",this.preferencesSortColumn="displayName",this.preferencesSortDirection="asc",this.destroy$=new Y,this.userPreferences=[],this.users=[],this.errorMessage="",this.isRenewingTokens=!1,this.totpData=new Map,this.totpRefreshTimers=new Map,this.actions=[{action:"login",color:"blue",label:"Renew Token"},{action:"modify",color:"blue",label:"Modify Trading Account"},{action:"unlink",color:"orange",label:"Deactivate Trading Account"},{action:"link",color:"green",label:"Activate Trading Account"},{action:"info",color:"gray",label:"Account Details"},{action:"delete",color:"red",label:"Delete Trading Account"}],this.isTradingAccountsRefreshing=!1,this.tradingAccountsSortAccessors={user:F=>(F.name??"").toString().toLowerCase(),userName:F=>(F.profile?.userName??"").toString().toLowerCase(),userId:F=>(F.userId??"").toString().toLowerCase(),tokenStatus:F=>(F.tokenStatus??"").toString().toLowerCase()},this.preferencesSortAccessors={displayName:F=>(F.displayName??"").toString().toLowerCase(),description:F=>(F.description??"").toString().toLowerCase(),value:F=>(F.value??"").toString().toLowerCase()},this.fallbackAvatarUrl=cn,this.faSpinner=X1,this.faUserPlus=pd,this.faRightToBracket=ud,this.faRefresh=Li,this.faEye=V2,this.faEyeSlash=Ao,this.faCheck=TT,this.initializeForms()}ngOnInit(){this.getCachedData(),this.loadCachedViewState(),this.loadProfileData(),this.fetchTradingAccounts(),this.fetchedUserPreferences()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&t.users&&(this.users=t.users)}ngOnDestroy(){this.totpRefreshTimers.forEach(t=>{t&&t.unsubscribe()}),this.totpRefreshTimers.clear(),this.totpData.clear(),this.destroy$.next(),this.destroy$.complete()}initializeForms(){this.profileForm=this.fb.group({fullName:["",[pe.required,pe.minLength(2)]],userName:["",[pe.required,pe.minLength(3)]]}),this.passwordForm=this.fb.group({oldPassword:["",[pe.required,pe.minLength(6)]],newPassword:["",[pe.required,pe.minLength(6)]],confirmPassword:["",[pe.required,pe.minLength(6)]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){let r=t.get("newPassword")?.value,o=t.get("confirmPassword")?.value;return r&&o&&r!==o?{passwordMismatch:!0}:null}loadCachedViewState(){let t=this.userViewStateService.getState();t?.profile?.selectedTab&&(this.activeTab=t.profile.selectedTab)}saveUserViewState(){this.userViewStateService.setState({profile:{selectedTab:this.activeTab}})}loadProfileData(){this.isLoadingProfile=!0,this.applicationUserService.getApplicationUserProfile().subscribe({next:t=>{t.data&&(this.profile=t.data,this.profileForm.patchValue({fullName:this.profile.fullName,userName:this.profile.userName})),this.isLoadingProfile=!1},error:t=>{this.isLoadingProfile=!1,t.error.message?this.toastrService.error(t.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching user profile. Verify that the backend service is operational.","Error")}})}setActiveTab(t){this.activeTab=t,this.saveUserViewState()}onUpdateProfile(){if(this.profileForm.invalid){this.toastrService.error("Please fix the form errors","Validation Error");return}this.isUpdatingProfile=!0;let t={fullName:this.profileForm.value.fullName.trim(),userName:this.profileForm.value.userName.trim()};this.profileService.updateProfile(t).pipe(lt(this.destroy$)).subscribe({next:r=>{this.toastrService.success("Profile updated successfully","Success"),this.isUpdatingProfile=!1,t.userName!==this.profile.userName?setTimeout(()=>{this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"username-changed"}})},1500):setTimeout(()=>{this.loadProfileData()},500)},error:r=>{this.isUpdatingProfile=!1;let o=r.error?.message||"Failed to update profile";this.toastrService.error(o,"Error")}})}onChangePassword(){if(this.passwordForm.invalid){this.toastrService.error("Please fix the form errors","Validation Error");return}this.isChangingPassword=!0;let t=this.passwordForm.value;this.profileService.changePassword(t).pipe(lt(this.destroy$)).subscribe({next:r=>{this.toastrService.success("Password changed successfully. Please log in again.","Success"),this.isChangingPassword=!1,setTimeout(()=>{this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"password-changed"}})},1500)},error:r=>{this.isChangingPassword=!1;let o=r.error?.message||"Failed to change password";this.toastrService.error(o,"Error")}})}togglePasswordVisibility(t){switch(t){case"old":this.showOldPassword=!this.showOldPassword;break;case"new":this.showNewPassword=!this.showNewPassword;break;case"confirm":this.showConfirmPassword=!this.showConfirmPassword;break}}fetchedUserPreferences(t){this.userPreferencesService.getUserPreferences().subscribe({next:r=>{this.userPreferences=r.data},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching user preferences. Verify that the backend service is operational.","Error")}})}trackById(t,r){return r.id}onChange(t){this.userPreferencesService.updatePreferenceValue(t.id,t.value).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchedUserPreferences()},error:r=>{this.toastrService.error(r.error.message,"Error"),console.error(r)}})}getPreferenceValueColor(t){return t==="NO"||t==="NONE"?"red":t==="YES"||t==="BOTH"?"green":"blue"}getActionButtons(t){let r=this.actions;return t.active?r=r.filter(o=>o.action!=="link"):r=r.filter(o=>o.action!=="unlink"),r}getTokenStatusColor(t){return t==="Valid"?"green":"red"}fetchTradingAccounts(){this.isTradingAccountsRefreshing=!0,this.userService.getTradingAccounts().subscribe({next:t=>{this.users=t.data,this.isTradingAccountsRefreshing=!1,this.users.forEach(r=>{this.fetchAndDisplayTotp(r.userId)})},error:t=>{t.error.message?this.toastrService.error(t.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error"),this.isTradingAccountsRefreshing=!1}})}renewTokensForAll(){this.alertService.confirm("Renew All Tokens","Are you sure you want to renew tokens for all trading accounts? Note: Only accounts with both password and TOTP key configured will be renewed.",()=>{this.isRenewingTokens=!0,this.userService.renewTokensForAll().subscribe({next:t=>{this.toastrService.success(t.data.toString(),"Success"),this.fetchTradingAccounts(),this.isRenewingTokens=!1},error:t=>{this.toastrService.error(t.error.message,"Error"),console.error(t),this.isRenewingTokens=!1}})})}handleAction(t){t.action==="login"?this.renewToken(t.row):t.action==="modify"?this.updateTradingAccount(t.row):t.action==="delete"?this.deleteTradingAccount(t.row):t.action==="unlink"?this.temporarilyUnmapTradingAccount(t.row):t.action==="link"?this.mapTradingAccount(t.row):t.action==="info"&&this.showInfo(t.row)}renewToken(t){t.kiteLoginEndPoint?window.open(t.kiteLoginEndPoint,"_blank","noopener,noreferrer"):console.error("Kite login end point is not available for this user")}updateTradingAccount(t){this.userService.getTradingAccount(t.userId).subscribe({next:r=>{let o=r.data;this.dialog.open(gA,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{tradingAccount:o}}).afterClosed().subscribe(s=>{this.fetchTradingAccounts()})},error:r=>{r.error.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching trading accounts. Verify that the backend service is operational.","Error")}})}onboardTradingAccount(){this.dialog.open(vA,{disableClose:!0,autoFocus:!0,hasBackdrop:!0,closeOnNavigation:!1,data:{}}).afterClosed().subscribe(r=>{this.fetchTradingAccounts()})}deleteTradingAccount(t){this.alertService.confirm(`Delete Trading Account: ${t.userId}`,`Are you sure you want to delete ${t.userId} trading account?`,()=>{this.userService.deleteTradingAccount(t.userId).subscribe({next:r=>{this.toastrService.success("Trading account deleted successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while deleting trading account:",r),this.toastrService.error(r.error.message,"Error")}})})}temporarilyUnmapTradingAccount(t){this.userService.unmapTradingAccount(t.userId).subscribe({next:r=>{this.toastrService.success("Trading account unmapped successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while temporarily unmapping trading account:",r),this.toastrService.error(r.error.message,"Error")}})}mapTradingAccount(t){this.userService.mapTradingAccount(t.userId).subscribe({next:r=>{this.toastrService.success("Trading account mapped successfully.","Success"),this.fetchTradingAccounts()},error:r=>{console.error("Error while mapping trading account:",r),this.toastrService.error(r.error.message,"Error")}})}showInfo(t){let r=P({name:t.name,userId:t.userId,tokenStatus:t.tokenStatus,active:t.active},t.profile);this.utilsService.showInfo(r,`User Profile - ${t.name}`)}fetchAndDisplayTotp(t){this.userService.getTotp(t).subscribe({next:r=>{let o=String(r.data);this.totpData.set(t,{value:o,timeRemaining:30}),this.startTotpRefreshTimer(t)},error:r=>{console.error(`Error while fetching TOTP for ${t}:`,r)}})}startTotpRefreshTimer(t){this.totpRefreshTimers.has(t)&&this.totpRefreshTimers.get(t)?.unsubscribe();let r=L3(1e3).pipe(lt(this.destroy$)).subscribe(()=>{let o=this.totpData.get(t);o&&(o.timeRemaining--,o.timeRemaining<=0&&this.fetchAndDisplayTotp(t))});this.totpRefreshTimers.set(t,r)}copyTotpToClipboard(t,r){r.stopPropagation();let o=this.totpData.get(t);o?.value&&navigator.clipboard.writeText(o.value).then(()=>{this.toastrService.success("TOTP copied to clipboard!","Success")}).catch(()=>{this.toastrService.error("Failed to copy TOTP to clipboard","Error")})}getTotpDisplayData(t){return this.totpData.get(t)}refreshTradingAccounts(){this.isTradingAccountsRefreshing=!0,this.fetchTradingAccounts()}get sortedUsers(){return!this.tradingAccountsSortColumn||!this.tradingAccountsSortDirection?this.users:[...this.users].sort((t,r)=>this.compareTradingAccounts(t,r))}setTradingAccountsSort(t){if(this.tradingAccountsSortColumn===t){this.tradingAccountsSortDirection=this.tradingAccountsSortDirection==="desc"?"asc":"desc";return}this.tradingAccountsSortColumn=t,this.tradingAccountsSortDirection="asc"}getTradingAccountsSortIndicator(t){return this.tradingAccountsSortColumn!==t||!this.tradingAccountsSortDirection?"":this.tradingAccountsSortDirection==="asc"?"\u2191":"\u2193"}compareTradingAccounts(t,r){let o=this.tradingAccountsSortColumn?this.tradingAccountsSortAccessors[this.tradingAccountsSortColumn]:null;if(!o||!this.tradingAccountsSortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.tradingAccountsSortDirection==="asc"?-1:1;if(s==null)return this.tradingAccountsSortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.tradingAccountsSortDirection==="asc"?u:-u}get sortedUserPreferences(){return!this.preferencesSortColumn||!this.preferencesSortDirection?this.userPreferences:[...this.userPreferences].sort((t,r)=>this.comparePreferences(t,r))}setPreferencesSort(t){if(this.preferencesSortColumn===t){this.preferencesSortDirection=this.preferencesSortDirection==="desc"?"asc":"desc";return}this.preferencesSortColumn=t,this.preferencesSortDirection="asc"}getPreferencesSortIndicator(t){return this.preferencesSortColumn!==t||!this.preferencesSortDirection?"":this.preferencesSortDirection==="asc"?"\u2191":"\u2193"}comparePreferences(t,r){let o=this.preferencesSortColumn?this.preferencesSortAccessors[this.preferencesSortColumn]:null;if(!o||!this.preferencesSortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.preferencesSortDirection==="asc"?-1:1;if(s==null)return this.preferencesSortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.preferencesSortDirection==="asc"?u:-u}};i.\u0275fac=function(r){return new(r||i)(D(Hn),D(M7),D(_A),D(bA),D(Yn),D(xe),D(gt),D(v1),D(ni),D(Zt),D(zt),D(Ut),D(Dt))},i.\u0275cmp=U({type:i,selectors:[["app-profile"]],decls:4,vars:2,consts:[[1,"page-container"],[1,""],["class","flex flex-col items-center justify-center py-16",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"flex","flex-col","items-center","justify-center","py-16"],[1,"text-4xl","text-blue-500","animate-spin","mb-4",3,"icon"],[1,"text-gray-600"],[1,"space-y-6"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","animate-fade-in",4,"ngIf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"animate-fade-in"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-md","shadow-md","p-6","md:p-6","border","border-gray-100","transition-shadow"],[1,"mb-6"],[1,"text-xl","font-bold","text-gray-800","flex","items-center","gap-2"],[1,"text-blue-600"],[1,"text-sm","text-gray-500","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","fullName",1,"block","text-sm","text-gray-700"],["id","fullName","type","text","formControlName","fullName","placeholder","Enter your full name",1,"form-control"],["class","mt-1.5 text-sm text-red-600 space-y-0.5",4,"ngIf"],["for","userName",1,"block","text-sm","text-gray-700"],["id","userName","type","text","formControlName","userName","placeholder","Enter your username",1,"form-control","mb-2"],[1,"mt-2","text-sm","text-amber-600","flex","items-center","gap-1.5"],[1,"bg-gradient-to-br","from-blue-50","to-indigo-50","rounded-md","p-4","border","border-blue-200"],[1,"font-semibold","text-gray-900","mb-3","text-sm"],[1,"space-y-2"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","text-sm","font-medium"],[1,"text-gray-900","text-sm"],[1,"pt-1"],["type","submit",1,"w-full","px-6","py-3","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","disabled:bg-gray-400","disabled:cursor-not-allowed","transition-colors","font-medium","flex","items-center","justify-center","gap-2","text-sm","shadow-md","hover:shadow-lg",3,"disabled"],[3,"icon",4,"ngIf"],["class","animate-spin",3,"icon",4,"ngIf"],[1,"text-orange-600"],["for","oldPassword",1,"block","text-sm","text-gray-700"],[1,"relative"],["id","oldPassword","formControlName","oldPassword","placeholder","Enter your current password",1,"form-control",3,"type"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-500","hover:text-gray-700","transition",3,"click"],[1,"text-lg",3,"icon"],["for","newPassword",1,"block","text-sm","text-gray-700"],["id","newPassword","formControlName","newPassword","placeholder","Enter your new password",1,"form-control",3,"type"],["for","confirmPassword",1,"block","text-sm","text-gray-700"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your new password",1,"form-control",3,"type"],[1,"bg-gradient-to-br","from-orange-50","to-amber-50","border","border-orange-200","rounded-md","p-4"],[1,"font-semibold","text-orange-900","text-sm","flex","items-center","gap-2"],[1,"text-sm","text-orange-800","space-y-2"],[1,"flex","items-center","gap-2"],[1,"text-green-600","font-bold"],[1,"text-amber-600","font-bold"],["type","submit",1,"w-full","px-6","py-3","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:bg-gray-400","disabled:cursor-not-allowed","transition-colors","font-medium","flex","items-center","justify-center","gap-2","text-sm","shadow-md","hover:shadow-lg",3,"disabled"],[1,"mt-1.5","text-sm","text-red-600","space-y-0.5"],[4,"ngIf"],[3,"icon"],[1,"animate-spin",3,"icon"],["class","mb-4 flex justify-between items-center flex-wrap gap-2",4,"ngIf"],[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"mb-4","flex","justify-between","items-center","flex-wrap","gap-2"],[1,"flex","gap-2"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none","flex","items-center",3,"click","disabled"],[1,"mr-1",3,"icon"],["class","text-sm text-blue-600 hover:underline focus:outline-none flex items-center",3,"disabled","click",4,"ngIf"],["matTooltip","Onboard Trading Account",1,"px-3","py-2","rounded-md","bg-green-500","text-white","hover:bg-green-600","shadow-sm","transition-all","flex","items-center","gap-2",3,"click"],[1,"text-white",3,"icon"],["class","mr-1",3,"icon",4,"ngIf"],["class","fa-spin mr-1",3,"icon",4,"ngIf"],[1,"fa-spin","mr-1",3,"icon"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngClass"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],["width","32","height","32",1,"object-cover","border","border-gray-300","shadow-sm","rounded",3,"ngSrc","alt"],[3,"text","color"],[1,"text-xs","text-gray-400"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"],[1,"cursor-pointer","text-sm",3,"click","matTooltip","text","color"],[1,"text-xs","text-gray-500","font-medium","min-w-[28px]","text-center"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","uppercase","whitespace-nowrap"],[1,"px-2","md:px-4","py-2","md:py-3","text-gray-500","whitespace-nowrap"],[1,"border","border-gray-300","rounded-md","px-2","py-1","w-full","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","text-sm",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(c(0,"div",0)(1,"div",1),x(2,Nre,4,1,"div",2)(3,Moe,7,4,"div",3),l()()),r&2&&(d(2),p("ngIf",o.isLoadingProfile),d(),p("ngIf",!o.isLoadingProfile&&o.profile))},dependencies:[he,le,oe,Q,bt,g1,Di,zi,it,Q1,rt,h1,On,ln,n1,i1,we,xt,w1,p1,Xe,nn],encapsulation:2});let n=i;return n})();function Eoe(n,i){n&1&&(c(0,"div",1)(1,"p",3),f(2,"No users to display"),l()())}function Toe(n,i){if(n&1&&(c(0,"span",12),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("id"))}}function Ioe(n,i){if(n&1&&(c(0,"span",12),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("userName"))}}function Doe(n,i){if(n&1&&(c(0,"span",12),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("fullName"))}}function zoe(n,i){if(n&1&&(c(0,"span",12),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("role"))}}function Loe(n,i){if(n&1&&(c(0,"span",12),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("createdAt"))}}function koe(n,i){if(n&1&&(c(0,"tr",13)(1,"td",14),f(2),l(),c(3,"td",14),f(4),l(),c(5,"td",14),f(6),l(),c(7,"td",14),f(8),l(),c(9,"td",14),f(10),N(11,"istDate"),l()()),n&2){let e=i.$implicit;d(2),L(e.id),d(2),L(e.userName),d(2),L(e.fullName),d(2),L(e.role),d(2),L(B(11,5,e.createdAt,"datetime-ordinal"))}}function Aoe(n,i){if(n&1){let e=V();c(0,"div",2)(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("id"))}),f(6," ID "),x(7,Toe,2,1,"span",9),l()(),c(8,"th",7)(9,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("userName"))}),f(10," USER NAME "),x(11,Ioe,2,1,"span",9),l()(),c(12,"th",7)(13,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("fullName"))}),f(14," FULL NAME "),x(15,Doe,2,1,"span",9),l()(),c(16,"th",7)(17,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("role"))}),f(18," ROLE "),x(19,zoe,2,1,"span",9),l()(),c(20,"th",7)(21,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("createdAt"))}),f(22," CREATION DATE "),x(23,Loe,2,1,"span",9),l()()()(),c(24,"tbody",10),x(25,koe,12,8,"tr",11),l()()()}if(n&2){let e=g();d(7),p("ngIf",e.getSortIndicator("id")),d(4),p("ngIf",e.getSortIndicator("userName")),d(4),p("ngIf",e.getSortIndicator("fullName")),d(4),p("ngIf",e.getSortIndicator("role")),d(4),p("ngIf",e.getSortIndicator("createdAt")),d(2),p("ngForOf",e.sortedRows)}}var CA=(()=>{let i=class i{constructor(){this.rows=[],this.sortColumn="createdAt",this.sortDirection="asc",this.sortAccessors={id:t=>(t.id??"").toString().toLowerCase(),userName:t=>(t.userName??"").toString().toLowerCase(),fullName:t=>(t.fullName??"").toString().toLowerCase(),role:t=>(t.role??"").toString().toLowerCase(),createdAt:t=>t.createdAt??0}}get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((t,r)=>this.compareRows(t,r))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection="asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-application-users-table"]],inputs:{rows:"rows"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,Eoe,3,0,"div",1)(2,Aoe,26,6,"div",2),l()),r&2&&(d(),et(!o.rows||o.rows.length===0?1:2))},dependencies:[he,oe,Q,nn],encapsulation:2});let n=i;return n})();var Noe=n=>({"text-red-500 hover:text-red-600":n});function Poe(n,i){n&1&&(c(0,"div",1)(1,"p",3),f(2,"No scheduled tasks to display"),l()())}function Ooe(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("schedulerName"))}}function Roe(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("cronExpression"))}}function Foe(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("lastExecutionDate"))}}function Boe(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("executionStartTime"))}}function Voe(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("executionEndTime"))}}function Uoe(n,i){if(n&1&&(c(0,"span",13),f(1),l()),n&2){let e=g(2);d(),L(e.getSortIndicator("status"))}}function joe(n,i){if(n&1){let e=V();c(0,"tr",14)(1,"td",15)(2,"div",16),M(3,"app-small-chip",17),c(4,"span",18),f(5),l()()(),c(6,"td",15)(7,"span",18),f(8),c(9,"span",19),f(10),l()()(),c(11,"td",15),f(12),N(13,"istDate"),l(),c(14,"td",15),f(15),N(16,"istDate"),l(),c(17,"td",15),f(18),N(19,"istDate"),l(),c(20,"td",15),M(21,"app-small-chip",20),l(),c(22,"td",21)(23,"app-action-menu",22),C("handleAction",function(r){w(e);let o=g(2);return S(o.handleAction(r))}),l()()()}if(n&2){let e=i.$implicit,t=g(2);p("ngClass",vn(25,Noe,e.errorMessage)),d(3),p("text",e.isActive?"ACTIVE":"PAUSED")("color",t.getStatusColor(e.isActive?"ACTIVE":"PAUSED")),d(),p("matTooltip",e.description),d(),L(e.schedulerName),d(2),p("matTooltip",e.cronDescription),d(),k("",e.cronExpression," "),d(2),L(e.timeZone),d(2),k(" ",B(13,16,e.lastExecutionDate,"date-ordinal")," "),d(3),k(" ",B(16,19,e.executionStartTime,"time-no-mod")," "),d(3),k(" ",B(19,22,e.executionEndTime,"time-no-mod")," "),d(3),p("matTooltip",e.errorMessage?e.errorMessage:"")("text",e.status)("color",t.getStatusColor(e.status)),d(2),p("row",e)("actions",t.getActionButtons(e))}}function Hoe(n,i){if(n&1){let e=V();c(0,"div",2)(1,"table",4)(2,"thead",5)(3,"tr",6)(4,"th",7)(5,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("schedulerName"))}),f(6," NAME "),x(7,Ooe,2,1,"span",9),l()(),c(8,"th",7)(9,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("cronExpression"))}),f(10," CRON EXPRESSION "),x(11,Roe,2,1,"span",9),l()(),c(12,"th",7)(13,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("lastExecutionDate"))}),f(14," LAST EXECUTION DATE "),x(15,Foe,2,1,"span",9),l()(),c(16,"th",7)(17,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("executionStartTime"))}),f(18," START TIME "),x(19,Boe,2,1,"span",9),l()(),c(20,"th",7)(21,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("executionEndTime"))}),f(22," END TIME "),x(23,Voe,2,1,"span",9),l()(),c(24,"th",7)(25,"button",8),C("click",function(){w(e);let r=g();return S(r.setSort("status"))}),f(26," STTAUS "),x(27,Uoe,2,1,"span",9),l()(),c(28,"th",10),f(29,"ACTION"),l()()(),c(30,"tbody",11),x(31,joe,24,27,"tr",12),l()()()}if(n&2){let e=g();d(7),p("ngIf",e.getSortIndicator("schedulerName")),d(4),p("ngIf",e.getSortIndicator("cronExpression")),d(4),p("ngIf",e.getSortIndicator("lastExecutionDate")),d(4),p("ngIf",e.getSortIndicator("executionStartTime")),d(4),p("ngIf",e.getSortIndicator("executionEndTime")),d(4),p("ngIf",e.getSortIndicator("status")),d(4),p("ngForOf",e.sortedRows)}}var wA=(()=>{let i=class i{constructor(){this.rows=[],this.handleClickAction=new K,this.actions=[],this.sortColumn="executionStartTime",this.sortDirection="desc",this.sortAccessors={schedulerName:t=>(t.schedulerName??"").toString().toLowerCase(),cronExpression:t=>(t.cronExpression??"").toString().toLowerCase(),lastExecutionDate:t=>t.lastExecutionDate??0,executionStartTime:t=>t.executionStartTime??0,executionEndTime:t=>t.executionEndTime??0,status:t=>(t.status??"").toString().toLowerCase()}}get sortedRows(){return!this.sortColumn||!this.sortDirection?this.rows:[...this.rows].sort((t,r)=>this.compareRows(t,r))}setSort(t){if(this.sortColumn===t){this.sortDirection=this.sortDirection==="desc"?"asc":"desc";return}this.sortColumn=t,this.sortDirection="asc"}getSortIndicator(t){return this.sortColumn!==t||!this.sortDirection?"":this.sortDirection==="asc"?"\u2191":"\u2193"}compareRows(t,r){let o=this.sortColumn?this.sortAccessors[this.sortColumn]:null;if(!o||!this.sortDirection)return 0;let a=o(t),s=o(r);if(a==null&&s==null)return 0;if(a==null)return this.sortDirection==="asc"?-1:1;if(s==null)return this.sortDirection==="asc"?1:-1;let u;return typeof a=="string"&&typeof s=="string"?u=a.localeCompare(s):u=a-s,this.sortDirection==="asc"?u:-u}getActionButtons(t){return t.isActive?this.actions.filter(r=>r.action!=="activate"):this.actions.filter(r=>r.action!=="pause")}handleAction(t){this.handleClickAction.emit(t)}getStatusColor(t){switch(t?.toUpperCase()){case"COMPLETED":case"ACTIVE":return"green";case"IN_PROGRESS":return"blue";case"FAILED":return"red";case"PAUSED":return"orange";default:return"gray"}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-scheduled-tasks-table"]],inputs:{rows:"rows",actions:"actions"},outputs:{handleClickAction:"handleClickAction"},decls:3,vars:1,consts:[[1,"w-full","bg-white","border","border-gray-200","rounded-md","shadow-sm"],[1,"flex","items-center","justify-center","py-12","px-4"],[1,"overflow-x-auto"],[1,"text-gray-500","text-center"],[1,"w-full","border-collapse","min-w-max"],[1,"sticky","top-0","z-20","bg-gray-100","shadow-sm"],[1,"text-left","text-sm","font-semibold","text-gray-700","uppercase","tracking-wider","bg-gray-100","border-b","border-gray-300"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-left"],["type","button",1,"flex","items-center","gap-1","w-full","text-left",3,"click"],["class","text-[10px]",4,"ngIf"],["scope","col",1,"px-2","md:px-4","py-2","md:py-3","text-center"],[1,"bg-white"],["class","border-b border-gray-200 text-sm text-gray-700 hover:bg-blue-50 transition-colors duration-150",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-[10px]"],[1,"border-b","border-gray-200","text-sm","text-gray-700","hover:bg-blue-50","transition-colors","duration-150",3,"ngClass"],[1,"px-2","md:px-4","py-2","md:py-3","whitespace-nowrap"],[1,"flex","items-center","space-x-2"],[3,"text","color"],[3,"matTooltip"],[1,"text-sm","text-gray-400","uppercase","ml-1"],[3,"matTooltip","text","color"],[1,"px-2","md:px-4","py-2","md:py-3","text-center","whitespace-nowrap"],[3,"handleAction","row","actions"]],template:function(r,o){r&1&&(c(0,"div",0),Je(1,Poe,3,0,"div",1)(2,Hoe,32,7,"div",2),l()),r&2&&(d(),et(!o.rows||o.rows.length===0?1:2))},dependencies:[he,le,oe,Q,w1,xt,Xe,nn],encapsulation:2});let n=i;return n})();var SA=(()=>{let i=class i{constructor(){this.message="Just a moment, we're preparing your view"}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-data-loading-message"]],inputs:{message:"message"},decls:7,vars:0,consts:[[1,"relative","w-full"],[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-white/60","backdrop-blur-sm"],["role","status","aria-live","polite",1,"flex","items-center","space-x-3","p-6","rounded-md","bg-white","shadow-sm","border","border-blue-100"],["aria-hidden","true",1,"flex","space-x-2"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-1"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-2"],[1,"w-3","h-3","bg-blue-600","rounded-full","bounce-dot","bounce-delay-3"]],template:function(r,o){r&1&&(I2(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f0(4,"div",4)(5,"div",5)(6,"div",6),vr()()()())},styles:["@keyframes _ngcontent-%COMP%_loader-bounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-6px) scale(1.1)}}.bounce-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loader-bounce .6s infinite ease-in-out}.bounce-delay-1[_ngcontent-%COMP%]{animation-delay:0s}.bounce-delay-2[_ngcontent-%COMP%]{animation-delay:.15s}.bounce-delay-3[_ngcontent-%COMP%]{animation-delay:.3s}"]});let n=i;return n})();var MA=(()=>{let i=class i{constructor(t){this.api=t}getAllApplicationUsers(){return this.api.get("/v1/admin/users")}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var EA=(()=>{let i=class i{constructor(t){this.api=t}getScheduledTasks(){return this.api.get("/v1/admin/schedulers")}executeScheduledTask(t){return this.api.post(`/v1/admin/schedulers/${t}/execute`)}updateScheduledTaskStatus(t,r){return this.api.patch(`/v1/admin/schedulers/${t}/status`,r)}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var TA=(()=>{let i=class i{constructor(t){this.api=t}getApplicationLogs(t){return this.api.get(`/v1/logs/${t}`,{responseType:"text"})}getAlgoLogs(t){return this.api.get(`/v1/logs/algo/${t}`,{responseType:"text"})}};i.\u0275fac=function(r){return new(r||i)(H(Ye))},i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Goe=["scrollContainer"];function Yoe(n,i){n&1&&M(0,"span",13)}function Qoe(n,i){if(n&1){let e=V();c(0,"div",11),C("click",function(){let r=w(e).$implicit,o=g(2);return S(o.setActiveTab(r))}),f(1),x(2,Yoe,1,0,"span",12),l()}if(n&2){let e=i.$implicit,t=g(2);ne("active-tab",e===t.activeTab)("text-gray-700",e!==t.activeTab),d(),k(" ",e," "),d(),p("ngIf",e===t.activeTab)}}function Koe(n,i){if(n&1&&(c(0,"div",18),M(1,"app-application-users-table",19),l()),n&2){let e=g(3);d(),p("rows",e.applicationUsers)}}function Xoe(n,i){n&1&&(c(0,"div",18)(1,"app-note",20),f(2," No application users have been onboarded to the application. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function Zoe(n,i){if(n&1){let e=V();c(0,"div",14)(1,"button",15),C("click",function(){w(e);let r=g(2);return S(r.refreshApplicationUsers())}),M(2,"fa-icon",16),c(3,"span"),f(4),l()(),x(5,Koe,2,1,"div",17)(6,Xoe,3,3,"ng-template",null,0,Yt),l()}if(n&2){let e=At(7),t=g(2);d(),p("disabled",t.isRefreshingUsers),d(),ne("fa-spin",t.isRefreshingUsers),p("icon",t.isRefreshingUsers?t.faSpinner:t.faRefresh),d(2),L(t.isRefreshingUsers?"Loading":"Refresh"),d(),p("ngIf",t.applicationUsers.length>0)("ngIfElse",e)}}function Joe(n,i){if(n&1){let e=V();c(0,"div",18)(1,"app-scheduled-tasks-table",21),C("handleClickAction",function(r){w(e);let o=g(3);return S(o.handleAction(r))}),l()()}if(n&2){let e=g(3);d(),p("rows",e.scheduledTasks)("actions",e.actions)}}function eae(n,i){n&1&&(c(0,"div",18)(1,"app-note",20),f(2," No scheduled tasks to display. "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function tae(n,i){if(n&1){let e=V();c(0,"div",14)(1,"button",15),C("click",function(){w(e);let r=g(2);return S(r.refreshScheduledTasks())}),M(2,"fa-icon",16),c(3,"span"),f(4),l()(),x(5,Joe,2,2,"div",17)(6,eae,3,3,"ng-template",null,1,Yt),l()}if(n&2){let e=At(7),t=g(2);d(),p("disabled",t.isRefreshingTasks),d(),ne("fa-spin",t.isRefreshingTasks),p("icon",t.isRefreshingTasks?t.faSpinner:t.faRefresh),d(2),L(t.isRefreshingTasks?"Loading":"Refresh"),d(),p("ngIf",t.scheduledTasks.length>0)("ngIfElse",e)}}function nae(n,i){if(n&1&&(c(0,"option",33),f(1),l()),n&2){let e=i.$implicit;p("value",e.value),d(),k(" ",e.label," ")}}function iae(n,i){if(n&1&&(c(0,"option",33),f(1),l()),n&2){let e=i.$implicit;p("value",e.value),d(),k(" ",e.label," ")}}function rae(n,i){n&1&&(c(0,"div",42),M(1,"app-data-loading-message"),l())}function oae(n,i){if(n&1&&(c(0,"div"),f(1),l()),n&2){let e=i.$implicit;d(),L(e)}}function aae(n,i){if(n&1&&(He(0),x(1,oae,2,1,"div",43),qe()),n&2){let e=g(3);d(),p("ngForOf",e.filteredLogs)}}function sae(n,i){n&1&&(c(0,"div",45)(1,"app-note",20),f(2," No logs to display "),l()()),n&2&&(d(),p("type","warning")("dismissible",!1)("atCenter",!0))}function cae(n,i){if(n&1&&x(0,sae,3,3,"div",44),n&2){let e=g(3);p("ngIf",!e.showLogLoader)}}function lae(n,i){if(n&1){let e=V();c(0,"div",14)(1,"div",22)(2,"div",23)(3,"select",24),Oe("ngModelChange",function(r){w(e);let o=g(2);return Be(o.logFileType,r)||(o.logFileType=r),S(r)}),C("ngModelChange",function(){w(e);let r=g(2);return S(r.onLogFileTypeChange())}),x(4,nae,2,2,"option",25),l(),c(5,"select",26),Oe("ngModelChange",function(r){w(e);let o=g(2);return Be(o.logFileName,r)||(o.logFileName=r),S(r)}),C("ngModelChange",function(){w(e);let r=g(2);return S(r.onLogFileNameChange())}),x(6,iae,2,2,"option",25),l()(),c(7,"div",27)(8,"div",28),f(9),N(10,"date"),l(),c(11,"div",29)(12,"label",30)(13,"input",31),Oe("ngModelChange",function(r){w(e);let o=g(2);return Be(o.autoRefresh,r)||(o.autoRefresh=r),S(r)}),l(),f(14," Auto "),l(),c(15,"select",32),Oe("ngModelChange",function(r){w(e);let o=g(2);return Be(o.refreshInterval,r)||(o.refreshInterval=r),S(r)}),c(16,"option",33),f(17,"5s"),l(),c(18,"option",33),f(19,"10s"),l(),c(20,"option",33),f(21,"15s"),l(),c(22,"option",33),f(23,"30s"),l()(),c(24,"button",34),C("click",function(){w(e);let r=g(2);return S(r.refreshLogs())}),M(25,"fa-icon",35),f(26," Refresh "),l()()()(),c(27,"div",36)(28,"input",37),Oe("ngModelChange",function(r){w(e);let o=g(2);return Be(o.searchTerm,r)||(o.searchTerm=r),S(r)}),l(),c(29,"button",38),C("click",function(){w(e);let r=g(2);return S(r.performSearch())}),f(30," Search "),l()(),c(31,"div",39,2),x(33,rae,2,0,"div",40)(34,aae,2,1,"ng-container",41)(35,cae,1,1,"ng-template",null,3,Yt),l()()}if(n&2){let e=At(36),t=g(2);d(3),Pe("ngModel",t.logFileType),d(),p("ngForOf",t.logFileTypeOptions),d(),Pe("ngModel",t.logFileName),d(),p("ngForOf",t.logFileNameOptions),d(3),k("Last updated: ",B(10,20,t.lastUpdated,"shortTime")),d(4),Pe("ngModel",t.autoRefresh),d(2),Pe("ngModel",t.refreshInterval),p("disabled",!t.autoRefresh),d(),p("value",5e3),d(2),p("value",1e4),d(2),p("value",15e3),d(2),p("value",3e4),d(2),p("disabled",t.isRefreshingLogs),d(),ne("fa-spin",t.isRefreshingLogs),p("icon",t.isRefreshingLogs?t.faSpinner:t.faRefresh),d(3),Pe("ngModel",t.searchTerm),d(5),p("ngIf",t.showLogLoader),d(),p("ngIf",t.filteredLogs.length)("ngIfElse",e)}}function dae(n,i){if(n&1&&(c(0,"div",6)(1,"div",7)(2,"div",8),x(3,Qoe,3,6,"div",9),l()(),x(4,Zoe,8,7,"div",10)(5,tae,8,7,"div",10)(6,lae,37,23,"div",10),l()),n&2){let e=g();d(3),p("ngForOf",e.tabs),d(),p("ngIf",e.activeTab==="Application Users"),d(),p("ngIf",e.activeTab==="Scheduled Tasks"),d(),p("ngIf",e.activeTab==="Log Viewer")}}var IA=(()=>{let i=class i{get autoRefresh(){return this._autoRefresh}set autoRefresh(t){this._autoRefresh=t,this.updateAutoRefreshTimer()}get refreshInterval(){return this._refreshInterval}set refreshInterval(t){this._refreshInterval=t,this.updateAutoRefreshTimer()}constructor(t,r,o,a,s,u,m,_){this.applicationUsersListService=t,this.scheduledTasksService=r,this.logsService=o,this.toastrService=a,this.userDataStateService=s,this.userViewStateService=u,this.utilsService=m,this.alertService=_,this.tabs=["Scheduled Tasks","Application Users","Log Viewer"],this.activeTab="Application Users",this.applicationUsers=[],this.isRefreshingUsers=!1,this.scheduledTasks=[],this.isRefreshingTasks=!1,this.logs="",this.searchTerm="",this.filteredLogs=[],this.logFileType="application",this.logFileName="fam-vest.log",this.isRefreshingLogs=!1,this.showLogLoader=!1,this.lastUpdated=new Date,this._autoRefresh=!0,this._refreshInterval=1e4,this.destroy$=new Y,this.logFileTypeOptions=[{value:"application",label:"Application"},{value:"algo",label:"Algorithm"}],this.logFileNameOptions=[],this.applicationLogFiles=["fam-vest.log"],this.algoLogFiles=["straddle.log"],this.faSpinner=X1,this.faRefresh=Li,this.actions=[{action:"activate",color:"blue",label:"Activate Scheduled Task"},{action:"pause",color:"orange",label:"Pause Scheduled Task"},{action:"execute",color:"blue",label:"Execute Scheduled Task"},{action:"info",color:"gray",label:"Scheduled Task Details"}],this.faPlus=Ir}ngOnInit(){this.loadCachedViewState(),this.getCachedData(),this.loadTabData()}ngOnDestroy(){clearInterval(this.timer),this.destroy$.next(),this.destroy$.complete()}loadCachedViewState(){let t=this.userViewStateService.getState();t?.administration?.selectedTab&&(this.activeTab=t.administration.selectedTab)}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&(t.applicationUsers&&(this.applicationUsers=t.applicationUsers),t.scheduledTasks&&(this.scheduledTasks=t.scheduledTasks))}loadTabData(){this.fetchApplicationUsers(),this.fetchScheduledTasks(),this.initializeLogViewer(),this.fetchLogs()}setActiveTab(t){this.activeTab=t;let r=this.userViewStateService.getState();r.administration=r.administration||{},r.administration.selectedTab=t,this.userViewStateService.setState(r)}fetchApplicationUsers(){this.isRefreshingUsers=!0,this.applicationUsersListService.getAllApplicationUsers().pipe(lt(this.destroy$)).subscribe({next:t=>{this.applicationUsers=t.data||[],this.setCachedData(),this.isRefreshingUsers=!1},error:t=>{this.isRefreshingUsers=!1,this.toastrService.error(t.error?.message||"Error fetching application users","Error")}})}refreshApplicationUsers(){this.fetchApplicationUsers()}fetchScheduledTasks(){this.isRefreshingTasks=!0,this.scheduledTasksService.getScheduledTasks().pipe(lt(this.destroy$)).subscribe({next:t=>{this.scheduledTasks=t.data||[],this.setCachedData(),this.isRefreshingTasks=!1},error:t=>{this.isRefreshingTasks=!1,this.toastrService.error(t.error?.message||"Error fetching scheduled tasks","Error")}})}handleAction(t){(t.action==="activate"||t.action==="pause")&&this.toggleScheduledTaskStatus(t.action,t.row),t.action==="execute"?this.executeScheduledTask(t.row):t.action==="info"&&this.utilsService.showInfo(t.row,`Scheduled Task - ${t.row.schedulerName}`)}executeScheduledTask(t){this.alertService.confirm("Execute Scheduled Task","Are you sure you want to execute this scheduled task now? This will trigger immediate execution.",()=>{this.isRefreshingTasks=!0,t.status="IN_PROGRESS",this.scheduledTasksService.executeScheduledTask(t.id).subscribe({next:r=>{this.toastrService.success(r.message,"Success"),this.fetchScheduledTasks(),this.isRefreshingTasks=!1},error:r=>{this.isRefreshingTasks=!1,this.fetchScheduledTasks(),this.toastrService.error(r.error.message,"Error"),console.error(r)}})})}toggleScheduledTaskStatus(t,r){this.scheduledTasksService.updateScheduledTaskStatus(r.id,{status:t}).subscribe({next:o=>{this.toastrService.success(o.message,"Success"),this.fetchScheduledTasks()},error:o=>{this.toastrService.error(o.error.message,"Error"),console.error(o)}})}refreshScheduledTasks(){this.fetchScheduledTasks()}initializeLogViewer(){this.updateLogFileOptions()}fetchLogs(){this.showLogLoader=!0,(this.logFileType==="application"?this.logsService.getApplicationLogs(this.logFileName):this.logsService.getAlgoLogs(this.logFileName)).pipe(lt(this.destroy$)).subscribe({next:r=>{this.logs=r,this.filterLogs(),this.lastUpdated=new Date,this.showLogLoader=!1,this.scrollToBottom()},error:r=>{this.showLogLoader=!1,this.logs="",this.filteredLogs=[],r.error?.message?this.toastrService.error(r.error.message,"Error"):this.toastrService.error("An unexpected error occurred while fetching logs.","Error")}})}filterLogs(){let t=this.logs.split(`
`);this.filteredLogs=this.searchTerm?t.filter(r=>r.toLowerCase().includes(this.searchTerm.toLowerCase())):t}performSearch(){this.showLogLoader=!0,setTimeout(()=>{this.filterLogs(),this.showLogLoader=!1},100)}refreshLogs(){this.fetchLogs()}scrollToBottom(){try{setTimeout(()=>{this.scrollContainer&&this.scrollContainer.nativeElement&&(this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight)},100)}catch(t){console.warn("Scroll failed:",t)}}updateAutoRefreshTimer(){clearInterval(this.timer),this.autoRefresh&&this.activeTab==="Log Viewer"&&(this.timer=setInterval(()=>{this.fetchLogs()},this.refreshInterval))}onLogFileTypeChange(){this.updateLogFileOptions(),this.fetchLogs()}onLogFileNameChange(){this.fetchLogs()}updateLogFileOptions(){this.logFileNameOptions=this.logFileType==="application"?this.applicationLogFiles.map(t=>({value:t,label:t})):this.algoLogFiles.map(t=>({value:t,label:t})),this.logFileName=this.logFileNameOptions.length>0?this.logFileNameOptions[0].value:""}setCachedData(){this.userDataStateService.setState({applicationUsers:this.applicationUsers,scheduledTasks:this.scheduledTasks})}};i.\u0275fac=function(r){return new(r||i)(D(MA),D(EA),D(TA),D(xe),D(Dt),D(Ut),D(zt),D(ni))},i.\u0275cmp=U({type:i,selectors:[["app-administration"]],viewQuery:function(r,o){if(r&1&&Ft(Goe,5),r&2){let a;ft(a=pt())&&(o.scrollContainer=a.first)}},decls:2,vars:1,consts:[["noApplicationUsers",""],["noScheduledTasks",""],["scrollContainer",""],["noLogsTemplate",""],[1,"page-container"],["class","space-y-6",4,"ngIf"],[1,"space-y-6"],[1,"flex","items-center","justify-between","border-b","border-gray-200","mb-4"],[1,"flex","gap-1"],["class","tab-category cursor-pointer pb-2 px-4 py-2 rounded-md transition hover:bg-gray-100 hover:text-blue-500 relative",3,"active-tab","text-gray-700","click",4,"ngFor","ngForOf"],["class","animate-fade-in",4,"ngIf"],[1,"tab-category","cursor-pointer","pb-2","px-4","py-2","rounded-md","transition","hover:bg-gray-100","hover:text-blue-500","relative",3,"click"],["class","absolute left-0 bottom-1 h-0.5 w-0 bg-blue-500 transition-all",4,"ngIf"],[1,"absolute","left-0","bottom-1","h-0.5","w-0","bg-blue-500","transition-all"],[1,"animate-fade-in"],[1,"text-sm","text-blue-600","hover:underline","focus:outline-none","flex","items-center","gap-1","mb-4",3,"click","disabled"],[1,"mr-0.5",3,"icon"],["class","page-content",4,"ngIf","ngIfElse"],[1,"page-content"],[3,"rows"],[3,"type","dismissible","atCenter"],[3,"handleClickAction","rows","actions"],[1,"flex","flex-col","md:flex-row","gap-3","md:items-center","md:justify-between","bg-white","p-4","rounded-md","border","border-gray-200","text-gray-700"],[1,"flex","flex-col","sm:flex-row","gap-2","w-full","md:w-auto"],[1,"border","px-3","py-1.5","rounded-md","text-sm",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"border","px-3","py-1.5","rounded-md","text-sm","flex-1","sm:min-w-[200px]",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-3","flex-wrap"],[1,"text-sm","text-gray-500","mr-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1","text-sm","whitespace-nowrap"],["type","checkbox",1,"form-checkbox",3,"ngModelChange","ngModel"],[1,"border","px-2","py-1.5","rounded-md","text-sm",3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"bg-blue-600","text-white","px-3","py-1.5","rounded-md","text-sm","whitespace-nowrap","flex-shrink-0","flex","items-center","gap-1",3,"click","disabled"],[3,"icon"],[1,"flex","gap-2","w-full","mt-3"],["type","text","placeholder","Search logs...",1,"border","px-3","py-1.5","rounded-md","text-sm","w-full",3,"ngModelChange","ngModel"],[1,"bg-blue-600","text-white","px-3","py-1.5","rounded-md","text-sm","whitespace-nowrap","flex-shrink-0",3,"click"],[1,"bg-black","text-green-400","text-sm","font-mono","p-4","rounded-md","min-h-[300px]","page-content","whitespace-pre-wrap","relative","mt-3"],["class","absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-70","z-10"],[4,"ngFor","ngForOf"],["class","h-full w-full flex items-center justify-center",4,"ngIf"],[1,"h-full","w-full","flex","items-center","justify-center"]],template:function(r,o){r&1&&(c(0,"div",4),x(1,dae,7,4,"div",5),l()),r&2&&(d(),p("ngIf",!(o.activeTab==="Application Users"&&o.applicationUsers.length===0&&o.isRefreshingUsers||o.activeTab==="Scheduled Tasks"&&o.scheduledTasks.length===0&&o.isRefreshingTasks||o.activeTab==="Log Viewer"&&o.showLogLoader&&o.filteredLogs.length===0)))},dependencies:[he,oe,Q,bt,Di,zi,it,wr,Q1,rt,On,we,CA,wA,SA,Kn,Rp],encapsulation:2});let n=i;return n})();var DA=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:pA,canActivate:[F1],data:{title:S1.home}},{path:"watchlist",component:_7,canActivate:[F1],data:{title:S1.watchlist,standaloneWatchlist:!0}},{path:"orders",component:Dk,canActivate:[F1],data:{title:S1.orders}},{path:"basket-order",component:hA,canActivate:[F1],data:{title:S1.basketOrder}},{path:"holdings",component:Ok,canActivate:[F1],data:{title:S1.holdings}},{path:"positions",component:Uk,canActivate:[F1],data:{title:S1.positions}},{path:"funds",component:jk,canActivate:[F1],data:{title:S1.funds}},{path:"mf",component:Kk,canActivate:[F1],data:{title:S1.mf}},{path:"algo",component:tA,canActivate:[F1],data:{title:S1.algo}},{path:"historical-data",component:iA,canActivate:[F1],data:{title:S1.historicalData}},{path:"administration",component:IA,canActivate:[F1,rA],data:{title:S1.administration}},{path:"ipos",component:cA,canActivate:[F1],data:{title:S1.ipos}},{path:"profile",component:xA,canActivate:[F1],data:{title:S1.myProfile}},{path:"login",component:Hk,canActivate:[F1],data:{title:S1.login}},{path:"signup",component:Xk,data:{title:S1.signup}},{path:"**",redirectTo:"/home"}];function zA(n){return new q(3e3,!1)}function uae(){return new q(3100,!1)}function fae(){return new q(3101,!1)}function pae(n){return new q(3001,!1)}function mae(n){return new q(3003,!1)}function hae(n){return new q(3004,!1)}function kA(n,i){return new q(3005,!1)}function AA(){return new q(3006,!1)}function NA(){return new q(3007,!1)}function PA(n,i){return new q(3008,!1)}function OA(n){return new q(3002,!1)}function RA(n,i,e,t,r){return new q(3010,!1)}function FA(){return new q(3011,!1)}function BA(){return new q(3012,!1)}function VA(){return new q(3200,!1)}function UA(){return new q(3202,!1)}function jA(){return new q(3013,!1)}function HA(n){return new q(3014,!1)}function qA(n){return new q(3015,!1)}function $A(n){return new q(3016,!1)}function WA(n,i){return new q(3404,!1)}function gae(n){return new q(3502,!1)}function GA(n){return new q(3503,!1)}function YA(){return new q(3300,!1)}function QA(n){return new q(3504,!1)}function KA(n){return new q(3301,!1)}function XA(n,i){return new q(3302,!1)}function ZA(n){return new q(3303,!1)}function JA(n,i){return new q(3400,!1)}function eN(n){return new q(3401,!1)}function tN(n){return new q(3402,!1)}function nN(n,i){return new q(3505,!1)}function Wr(n){switch(n.length){case 0:return new H2;case 1:return n[0];default:return new es(n)}}function Tv(n,i,e=new Map,t=new Map){let r=[],o=[],a=-1,s=null;if(i.forEach(u=>{let m=u.get("offset"),_=m==a,y=_&&s||new Map;u.forEach((E,I)=>{let A=I,R=E;if(I!=="offset")switch(A=n.normalizePropertyName(A,r),R){case e3:R=e.get(I);break;case Oi:R=t.get(I);break;default:R=n.normalizeStyleValue(I,A,R,r);break}y.set(A,R)}),_||o.push(y),s=y,a=m}),r.length)throw gae(r);return o}function E7(n,i,e,t){switch(i){case"start":n.onStart(()=>t(e&&Sv(e,"start",n)));break;case"done":n.onDone(()=>t(e&&Sv(e,"done",n)));break;case"destroy":n.onDestroy(()=>t(e&&Sv(e,"destroy",n)));break}}function Sv(n,i,e){let t=e.totalTime,r=!!e.disabled,o=T7(n.element,n.triggerName,n.fromState,n.toState,i||n.phaseName,t??n.totalTime,r),a=n._data;return a!=null&&(o._data=a),o}function T7(n,i,e,t,r="",o=0,a){return{element:n,triggerName:i,fromState:e,toState:t,phaseName:r,totalTime:o,disabled:!!a}}function ii(n,i,e){let t=n.get(i);return t||n.set(i,t=e),t}function Iv(n){let i=n.indexOf(":"),e=n.substring(1,i),t=n.slice(i+1);return[e,t]}var vae=typeof document>"u"?null:document.documentElement;function I7(n){let i=n.parentNode||n.host||null;return i===vae?null:i}function yae(n){return n.substring(1,6)=="ebkit"}var fs=null,LA=!1;function iN(n){fs||(fs=_ae()||{},LA=fs.style?"WebkitAppearance"in fs.style:!1);let i=!0;return fs.style&&!yae(n)&&(i=n in fs.style,!i&&LA&&(i="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in fs.style)),i}function _ae(){return typeof document<"u"?document.body:null}function Dv(n,i){for(;i;){if(i===n)return!0;i=I7(i)}return!1}function zv(n,i,e){if(e)return Array.from(n.querySelectorAll(i));let t=n.querySelector(i);return t?[t]:[]}var bae=1e3,Lv="{{",xae="}}",kv="ng-enter",D7="ng-leave",al="ng-trigger",sl=".ng-trigger",Av="ng-animating",z7=".ng-animating";function J2(n){if(typeof n=="number")return n;let i=n.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Mv(parseFloat(i[1]),i[2])}function Mv(n,i){switch(i){case"s":return n*bae;default:return n}}function cl(n,i,e){return n.hasOwnProperty("duration")?n:wae(n,i,e)}var Cae=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function wae(n,i,e){let t,r=0,o="";if(typeof n=="string"){let a=n.match(Cae);if(a===null)return i.push(zA(n)),{duration:0,delay:0,easing:""};t=Mv(parseFloat(a[1]),a[2]);let s=a[3];s!=null&&(r=Mv(parseFloat(s),a[4]));let u=a[5];u&&(o=u)}else t=n;if(!e){let a=!1,s=i.length;t<0&&(i.push(uae()),a=!0),r<0&&(i.push(fae()),a=!0),a&&i.splice(s,0,zA(n))}return{duration:t,delay:r,easing:o}}function rN(n){return n.length?n[0]instanceof Map?n:n.map(i=>new Map(Object.entries(i))):[]}function c2(n,i,e){i.forEach((t,r)=>{let o=L7(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=t})}function Zo(n,i){i.forEach((e,t)=>{let r=L7(t);n.style[r]=""})}function y3(n){return Array.isArray(n)?n.length==1?n[0]:hD(n):n}function oN(n,i,e){let t=i.params||{},r=Nv(n);r.length&&r.forEach(o=>{t.hasOwnProperty(o)||e.push(pae(o))})}var Ev=new RegExp(`${Lv}\\s*(.+?)\\s*${xae}`,"g");function Nv(n){let i=[];if(typeof n=="string"){let e;for(;e=Ev.exec(n);)i.push(e[1]);Ev.lastIndex=0}return i}function _3(n,i,e){let t=`${n}`,r=t.replace(Ev,(o,a)=>{let s=i[a];return s==null&&(e.push(mae(a)),s=""),s.toString()});return r==t?n:r}var Sae=/-+([a-z0-9])/g;function L7(n){return n.replace(Sae,(...i)=>i[1].toUpperCase())}function aN(n,i){return n===0||i===0}function sN(n,i,e){if(e.size&&i.length){let t=i[0],r=[];if(e.forEach((o,a)=>{t.has(a)||r.push(a),t.set(a,o)}),r.length)for(let o=1;o<i.length;o++){let a=i[o];r.forEach(s=>a.set(s,k7(n,s)))}}return i}function ri(n,i,e){switch(i.type){case Ne.Trigger:return n.visitTrigger(i,e);case Ne.State:return n.visitState(i,e);case Ne.Transition:return n.visitTransition(i,e);case Ne.Sequence:return n.visitSequence(i,e);case Ne.Group:return n.visitGroup(i,e);case Ne.Animate:return n.visitAnimate(i,e);case Ne.Keyframes:return n.visitKeyframes(i,e);case Ne.Style:return n.visitStyle(i,e);case Ne.Reference:return n.visitReference(i,e);case Ne.AnimateChild:return n.visitAnimateChild(i,e);case Ne.AnimateRef:return n.visitAnimateRef(i,e);case Ne.Query:return n.visitQuery(i,e);case Ne.Stagger:return n.visitStagger(i,e);default:throw hae(i.type)}}function k7(n,i){return window.getComputedStyle(n)[i]}var Xv=(()=>{class n{validateStyleProperty(e){return iN(e)}containsElement(e,t){return Dv(e,t)}getParentElement(e){return I7(e)}query(e,t,r){return zv(e,t,r)}computeStyle(e,t,r){return r||""}animate(e,t,r,o,a,s=[],u){return new H2(r,o)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),ms=class{static NOOP=new Xv},hs=class{};var Mae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),R7=class extends hs{normalizePropertyName(i,e){return L7(i)}normalizeStyleValue(i,e,t,r){let o="",a=t.toString().trim();if(Mae.has(e)&&t!==0&&t!=="0")if(typeof t=="number")o="px";else{let s=t.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(kA(i,t))}return a+o}};var F7="*";function Eae(n,i){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>Tae(t,e,i)):e.push(n),e}function Tae(n,i,e){if(n[0]==":"){let u=Iae(n,e);if(typeof u=="function"){i.push(u);return}n=u}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(qA(n)),i;let r=t[1],o=t[2],a=t[3];i.push(cN(r,a));let s=r==F7&&a==F7;o[0]=="<"&&!s&&i.push(cN(a,r))}function Iae(n,i){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return i.push($A(n)),"* => *"}}var A7=new Set(["true","1"]),N7=new Set(["false","0"]);function cN(n,i){let e=A7.has(n)||N7.has(n),t=A7.has(i)||N7.has(i);return(r,o)=>{let a=n==F7||n==r,s=i==F7||i==o;return!a&&e&&typeof r=="boolean"&&(a=r?A7.has(n):N7.has(n)),!s&&t&&typeof o=="boolean"&&(s=o?A7.has(i):N7.has(i)),a&&s}}var yN=":self",Dae=new RegExp(`s*${yN}s*,?`,"g");function _N(n,i,e,t){return new Vv(n).build(i,e,t)}var lN="",Vv=class{_driver;constructor(i){this._driver=i}build(i,e,t){let r=new Uv(e);return this._resetContextStyleTimingState(r),ri(this,y3(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector=lN,i.collectedStyles=new Map,i.collectedStyles.set(lN,new Map),i.currentTime=0}visitTrigger(i,e){let t=e.queryCount=0,r=e.depCount=0,o=[],a=[];return i.name.charAt(0)=="@"&&e.errors.push(AA()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==Ne.State){let u=s,m=u.name;m.toString().split(/\s*,\s*/).forEach(_=>{u.name=_,o.push(this.visitState(u,e))}),u.name=m}else if(s.type==Ne.Transition){let u=this.visitTransition(s,e);t+=u.queryCount,r+=u.depCount,a.push(u)}else e.errors.push(NA())}),{type:Ne.Trigger,name:i.name,states:o,transitions:a,queryCount:t,depCount:r,options:null}}visitState(i,e){let t=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(t.containsDynamicStyles){let o=new Set,a=r||{};t.styles.forEach(s=>{s instanceof Map&&s.forEach(u=>{Nv(u).forEach(m=>{a.hasOwnProperty(m)||o.add(m)})})}),o.size&&e.errors.push(PA(i.name,[...o.values()]))}return{type:Ne.State,name:i.name,style:t,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=ri(this,y3(i.animation),e),r=Eae(i.expr,e.errors);return{type:Ne.Transition,matchers:r,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:ps(i.options)}}visitSequence(i,e){return{type:Ne.Sequence,steps:i.steps.map(t=>ri(this,t,e)),options:ps(i.options)}}visitGroup(i,e){let t=e.currentTime,r=0,o=i.steps.map(a=>{e.currentTime=t;let s=ri(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:Ne.Group,steps:o,options:ps(i.options)}}visitAnimate(i,e){let t=Aae(i.timings,e.errors);e.currentAnimateTimings=t;let r,o=i.styles?i.styles:o1({});if(o.type==Ne.Keyframes)r=this.visitKeyframes(o,e);else{let a=i.styles,s=!1;if(!a){s=!0;let m={};t.easing&&(m.easing=t.easing),a=o1(m)}e.currentTime+=t.duration+t.delay;let u=this.visitStyle(a,e);u.isEmptyStep=s,r=u}return e.currentAnimateTimings=null,{type:Ne.Animate,timings:t,style:r,options:null}}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t}_makeStyleAst(i,e){let t=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of r)typeof s=="string"?s===Oi?t.push(s):e.errors.push(OA(s)):t.push(new Map(Object.entries(s)));let o=!1,a=null;return t.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let u of s.values())if(u.toString().indexOf(Lv)>=0){o=!0;break}}}),{type:Ne.Style,styles:t,easing:a,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){let t=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;t&&o>0&&(o-=t.duration+t.delay),i.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,u)=>{let m=e.collectedStyles.get(e.currentQuerySelector),_=m.get(u),y=!0;_&&(o!=r&&o>=_.startTime&&r<=_.endTime&&(e.errors.push(RA(u,_.startTime,_.endTime,o,r)),y=!1),o=_.startTime),y&&m.set(u,{startTime:o,endTime:r}),e.options&&oN(s,e.options,e.errors)})})}visitKeyframes(i,e){let t={type:Ne.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(FA()),t;let r=1,o=0,a=[],s=!1,u=!1,m=0,_=i.steps.map(W=>{let ee=this._makeStyleAst(W,e),te=ee.offset!=null?ee.offset:kae(ee.styles),ae=0;return te!=null&&(o++,ae=ee.offset=te),u=u||ae<0||ae>1,s=s||ae<m,m=ae,a.push(ae),ee});u&&e.errors.push(BA()),s&&e.errors.push(VA());let y=i.steps.length,E=0;o>0&&o<y?e.errors.push(UA()):o==0&&(E=r/(y-1));let I=y-1,A=e.currentTime,R=e.currentAnimateTimings,F=R.duration;return _.forEach((W,ee)=>{let te=E>0?ee==I?1:E*ee:a[ee],ae=te*F;e.currentTime=A+R.delay+ae,R.duration=ae,this._validateStyleAst(W,e),W.offset=te,t.styles.push(W)}),t}visitReference(i,e){return{type:Ne.Reference,animation:ri(this,y3(i.animation),e),options:ps(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:Ne.AnimateChild,options:ps(i.options)}}visitAnimateRef(i,e){return{type:Ne.AnimateRef,animation:this.visitReference(i.animation,e),options:ps(i.options)}}visitQuery(i,e){let t=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;let[o,a]=zae(i.selector);e.currentQuerySelector=t.length?t+" "+o:o,ii(e.collectedStyles,e.currentQuerySelector,new Map);let s=ri(this,y3(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:Ne.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:i.selector,options:ps(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(jA());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:cl(i.timings,e.errors,!0);return{type:Ne.Stagger,animation:ri(this,y3(i.animation),e),timings:t,options:null}}};function zae(n){let i=!!n.split(/\s*,\s*/).find(e=>e==yN);return i&&(n=n.replace(Dae,"")),n=n.replace(/@\*/g,sl).replace(/@\w+/g,e=>sl+"-"+e.slice(1)).replace(/:animating/g,z7),[n,i]}function Lae(n){return n?P({},n):null}var Uv=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i}};function kae(n){if(typeof n=="string")return null;let i=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function Aae(n,i){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=cl(n,i).duration;return Pv(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Pv(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=cl(e,i);return Pv(r.duration,r.delay,r.easing)}function ps(n){return n?(n=P({},n),n.params&&(n.params=Lae(n.params))):n={},n}function Pv(n,i,e){return{duration:n,delay:i,easing:e}}function Zv(n,i,e,t,r,o,a=null,s=!1){return{type:1,element:n,keyframes:i,preStyleProps:e,postStyleProps:t,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var dl=class{_map=new Map;get(i){return this._map.get(i)||[]}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},Nae=1,Pae=":enter",Oae=new RegExp(Pae,"g"),Rae=":leave",Fae=new RegExp(Rae,"g");function bN(n,i,e,t,r,o=new Map,a=new Map,s,u,m=[]){return new jv().buildKeyframes(n,i,e,t,r,o,a,s,u,m)}var jv=class{buildKeyframes(i,e,t,r,o,a,s,u,m,_=[]){m=m||new dl;let y=new Hv(i,e,m,r,o,_,[]);y.options=u;let E=u.delay?J2(u.delay):0;y.currentTimeline.delayNextStep(E),y.currentTimeline.setStyles([a],null,y.errors,u),ri(this,t,y);let I=y.timelines.filter(A=>A.containsAnimation());if(I.length&&s.size){let A;for(let R=I.length-1;R>=0;R--){let F=I[R];if(F.element===e){A=F;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([s],null,y.errors,u)}return I.length?I.map(A=>A.buildKeyframes()):[Zv(e,[],[],[],0,E,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let r=e.createSubContext(i.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(t,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=i}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,t){for(let r of i){let o=r?.delay;if(o){let a=typeof o=="number"?o:J2(_3(o,r?.params??{},e.errors));t.delayNextStep(a)}}}_visitSubInstructions(i,e,t){let o=e.currentTimeline.currentTime,a=t.duration!=null?J2(t.duration):null,s=t.delay!=null?J2(t.delay):null;return a!==0&&i.forEach(u=>{let m=e.appendInstructionToTimeline(u,a,s);o=Math.max(o,m.duration+m.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),ri(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let t=e.subContextCount,r=e,o=i.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ne.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=B7);let a=J2(o.delay);r.delayNextStep(a)}i.steps.length&&(i.steps.forEach(a=>ri(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>t&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let t=[],r=e.currentTimeline.currentTime,o=i.options&&i.options.delay?J2(i.options.delay):0;i.steps.forEach(a=>{let s=e.createSubContext(i.options);o&&s.delayNextStep(o),ri(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),t.push(s.currentTimeline)}),t.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,r=e.params?_3(t,e.params,e.errors):t;return cl(r,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),r.snapshotCurrentStyles());let o=i.style;o.type==Ne.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(t.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let t=e.currentTimeline,r=e.currentAnimateTimings;!r&&t.hasCurrentStyleProperties()&&t.forwardFrame();let o=r&&r.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(o):t.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let t=e.currentAnimateTimings,r=e.currentTimeline.duration,o=t.duration,s=e.createSubContext().currentTimeline;s.easing=t.easing,i.styles.forEach(u=>{let m=u.offset||0;s.forwardTime(m*o),s.setStyles(u.styles,u.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=i}visitQuery(i,e){let t=e.currentTimeline.currentTime,r=i.options||{},o=r.delay?J2(r.delay):0;o&&(e.previousNode.type===Ne.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=B7);let a=t,s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let u=null;s.forEach((m,_)=>{e.currentQueryIndex=_;let y=e.createSubContext(i.options,m);o&&y.delayNextStep(o),m===e.element&&(u=y.currentTimeline),ri(this,i.animation,y),y.currentTimeline.applyStylesToKeyframe();let E=y.currentTimeline.currentTime;a=Math.max(a,E)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let t=e.parentContext,r=e.currentTimeline,o=i.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),u=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=s-u;break;case"full":u=t.currentStaggerTime;break}let _=e.currentTimeline;u&&_.delayNextStep(u);let y=_.currentTime;ri(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=r.currentTime-y+(r.startTime-t.currentTimeline.startTime)}},B7={},Hv=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=B7;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,t,r,o,a,s,u){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=u||new V7(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let t=i,r=this.options;t.duration!=null&&(r.duration=J2(t.duration)),t.delay!=null&&(r.delay=J2(t.delay));let o=t.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=_3(o[s],a,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(r=>{t[r]=e[r]})}}return i}createSubContext(i=null,e,t){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=B7,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,t){let r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},o=new qv(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,t,r,o,a){let s=[];if(r&&s.push(this.element),i.length>0){i=i.replace(Oae,"."+this._enterClassName),i=i.replace(Fae,"."+this._leaveClassName);let u=t!=1,m=this._driver.query(this.element,i,u);t!==0&&(m=t<0?m.slice(m.length+t,m.length):m.slice(0,t)),s.push(...m)}return!o&&s.length==0&&a.push(HA(e)),s}},V7=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,e,t,r){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new n(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Nae,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||Oi),this._currentKeyframe.set(e,Oi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,t,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=Bae(i,this._globalTimelineStyles);for(let[s,u]of a){let m=_3(u,o,t);this._pendingStyles.set(s,m),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Oi),this._updateStyle(s,m)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let r=this._styleSummary.get(t);(!r||e.time>r.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,u)=>{let m=new Map([...this._backFill,...s]);m.forEach((_,y)=>{_===e3?i.add(y):_===Oi&&e.add(y)}),t||m.set("offset",u/this.duration),r.push(m)});let o=[...i.values()],a=[...e.values()];if(t){let s=r[0],u=new Map(s);s.set("offset",0),u.set("offset",1),r=[s,u]}return Zv(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},qv=class extends V7{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,t,r,o,a,s=!1){super(i,e,a.delay),this.keyframes=t,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=t+e,s=e/a,u=new Map(i[0]);u.set("offset",0),o.push(u);let m=new Map(i[0]);m.set("offset",dN(s)),o.push(m);let _=i.length-1;for(let y=1;y<=_;y++){let E=new Map(i[y]),I=E.get("offset"),A=e+I*t;E.set("offset",dN(A/a)),o.push(E)}t=a,e=0,r="",i=o}return Zv(this.element,i,this.preStyleProps,this.postStyleProps,t,e,r,!0)}};function dN(n,i=3){let e=Math.pow(10,i-1);return Math.round(n*e)/e}function Bae(n,i){let e=new Map,t;return n.forEach(r=>{if(r==="*"){t??=i.keys();for(let o of t)e.set(o,Oi)}else for(let[o,a]of r)e.set(o,a)}),e}function uN(n,i,e,t,r,o,a,s,u,m,_,y,E){return{type:0,element:n,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:o,toState:t,toStyles:a,timelines:s,queriedElements:u,preStyleProps:m,postStyleProps:_,totalTime:y,errors:E}}var Ov={},U7=class{_triggerName;ast;_stateStyles;constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t}match(i,e,t,r){return Vae(this.ast.matchers,i,e,t,r)}buildStyles(i,e,t){let r=this._stateStyles.get("*");return i!==void 0&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(e,t):new Map}build(i,e,t,r,o,a,s,u,m,_){let y=[],E=this.ast.options&&this.ast.options.params||Ov,I=s&&s.params||Ov,A=this.buildStyles(t,I,y),R=u&&u.params||Ov,F=this.buildStyles(r,R,y),W=new Set,ee=new Map,te=new Map,ae=r==="void",Se={params:xN(R,E),delay:this.ast.options?.delay},tt=_?[]:bN(i,e,this.ast.animation,o,a,A,F,Se,m,y),nt=0;return tt.forEach(jt=>{nt=Math.max(jt.duration+jt.delay,nt)}),y.length?uN(e,this._triggerName,t,r,ae,A,F,[],[],ee,te,nt,y):(tt.forEach(jt=>{let Nt=jt.element,M1=ii(ee,Nt,new Set);jt.preStyleProps.forEach($e=>M1.add($e));let zn=ii(te,Nt,new Set);jt.postStyleProps.forEach($e=>zn.add($e)),Nt!==e&&W.add(Nt)}),uN(e,this._triggerName,t,r,ae,A,F,tt,[...W.values()],ee,te,nt))}};function Vae(n,i,e,t,r){return n.some(o=>o(i,e,t,r))}function xN(n,i){let e=P({},i);return Object.entries(n).forEach(([t,r])=>{r!=null&&(e[t]=r)}),e}var $v=class{styles;defaultParams;normalizer;constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t}buildStyles(i,e){let t=new Map,r=xN(i,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=_3(a,r,e));let u=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,u,a,e),t.set(s,a)})}),t}};function Uae(n,i,e){return new Wv(n,i,e)}var Wv=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new $v(r.style,o,t))}),fN(this.states,"true","1"),fN(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new U7(i,r,this.states))}),this.fallbackTransition=jae(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,t,r){return this.transitionFactories.find(a=>a.match(i,e,t,r))||null}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t)}};function jae(n,i,e){let t=[(a,s)=>!0],r={type:Ne.Sequence,steps:[],options:null},o={type:Ne.Transition,animation:r,matchers:t,options:null,queryCount:0,depCount:0};return new U7(n,o,i)}function fN(n,i,e){n.has(i)?n.has(e)||n.set(e,n.get(i)):n.has(e)&&n.set(i,n.get(e))}var Hae=new dl,Gv=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t}register(i,e){let t=[],r=[],o=_N(this._driver,e,t,r);if(t.length)throw GA(t);this._animations.set(i,o)}_buildPlayer(i,e,t){let r=i.element,o=Tv(this._normalizer,i.keyframes,e,t);return this._driver.animate(r,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,t={}){let r=[],o=this._animations.get(i),a,s=new Map;if(o?(a=bN(this._driver,e,o,kv,D7,new Map,new Map,t,Hae,r),a.forEach(_=>{let y=ii(s,_.element,new Map);_.postStyleProps.forEach(E=>y.set(E,null))})):(r.push(YA()),a=[]),r.length)throw QA(r);s.forEach((_,y)=>{_.forEach((E,I)=>{_.set(I,this._driver.computeStyle(y,I,Oi))})});let u=a.map(_=>{let y=s.get(_.element);return this._buildPlayer(_,new Map,y)}),m=Wr(u);return this._playersById.set(i,m),m.onDestroy(()=>this.destroy(i)),this.players.push(m),m}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw KA(i);return e}listen(i,e,t,r){let o=T7(e,"","","");return E7(this._getPlayer(i),t,o,r),()=>{}}command(i,e,t,r){if(t=="register"){this.register(i,r[0]);return}if(t=="create"){let a=r[0]||{};this.create(i,e,a);return}let o=this._getPlayer(i);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i);break}}},pN="ng-animate-queued",qae=".ng-animate-queued",Rv="ng-animate-disabled",$ae=".ng-animate-disabled",Wae="ng-star-inserted",Gae=".ng-star-inserted",Yae=[],CN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},l2="__ng_removed",ul=class{namespaceId;value;options;get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),r=t?i.value:i;if(this.value=Xae(r),t){let o=i,{value:a}=o,s=au(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(r=>{t[r]==null&&(t[r]=e[r])})}}},ll="void",Fv=new ul(ll),Yv=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this._hostClassName="ng-tns-"+i,Ui(e,this._hostClassName)}listen(i,e,t,r){if(!this._triggers.has(e))throw XA(t,e);if(t==null||t.length==0)throw ZA(e);if(!Zae(t))throw JA(t,e);let o=ii(this._elementListeners,i,[]),a={name:e,phase:t,callback:r};o.push(a);let s=ii(this._engine.statesByElement,i,new Map);return s.has(e)||(Ui(i,al),Ui(i,al+"-"+e),s.set(e,Fv)),()=>{this._engine.afterFlush(()=>{let u=o.indexOf(a);u>=0&&o.splice(u,1),this._triggers.has(e)||s.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw eN(i);return e}trigger(i,e,t,r=!0){let o=this._getTrigger(e),a=new fl(this.id,e,i),s=this._engine.statesByElement.get(i);s||(Ui(i,al),Ui(i,al+"-"+e),this._engine.statesByElement.set(i,s=new Map));let u=s.get(e),m=new ul(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&u&&m.absorbOptions(u.options),s.set(e,m),u||(u=Fv),!(m.value===ll)&&u.value===m.value){if(!tse(u.params,m.params)){let R=[],F=o.matchStyles(u.value,u.params,R),W=o.matchStyles(m.value,m.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{Zo(i,F),c2(i,W)})}return}let E=ii(this._engine.playersByElement,i,[]);E.forEach(R=>{R.namespaceId==this.id&&R.triggerName==e&&R.queued&&R.destroy()});let I=o.matchTransition(u.value,m.value,i,m.params),A=!1;if(!I){if(!r)return;I=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:I,fromState:u,toState:m,player:a,isFallbackTransition:A}),A||(Ui(i,pN),a.onStart(()=>{b3(i,pN)})),a.onDone(()=>{let R=this.players.indexOf(a);R>=0&&this.players.splice(R,1);let F=this._engine.playersByElement.get(i);if(F){let W=F.indexOf(a);W>=0&&F.splice(W,1)}}),this.players.push(a),E.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,sl,!0);t.forEach(r=>{if(r[l2])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,t,r){let o=this._engine.statesByElement.get(i),a=new Map;if(o){let s=[];if(o.forEach((u,m)=>{if(a.set(m,u.value),this._triggers.has(m)){let _=this.trigger(i,m,ll,r);_&&s.push(_)}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,a),t&&Wr(s).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let u=this._triggers.get(a).fallbackTransition,m=t.get(a)||Fv,_=new ul(ll),y=new fl(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:u,fromState:m,toState:_,player:y,isFallbackTransition:!0})})}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(t.totalAnimations){let o=t.players.length?t.playersByQueriedElement.get(i):[];if(o&&o.length)r=!0;else{let a=i;for(;a=a.parentNode;)if(t.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)t.markElementAsRemoved(this.id,i,!1,e);else{let o=i[l2];(!o||o===CN)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e))}}insertNode(i,e){Ui(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let r=t.player;if(r.destroyed)return;let o=t.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==t.triggerName){let u=T7(o,t.triggerName,t.fromState.value,t.toState.value);u._data=i,E7(t.player,s.phase,u,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(t)}),this._queue=[],e.sort((t,r)=>{let o=t.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(t.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},Qv=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,t){this.bodyNode=i,this.driver=e,this._normalizer=t}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t)})}),i}createNamespace(i,e){let t=new Yv(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,e){let t=this._namespaceList,r=this.namespacesByHostElement;if(t.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let u=r.get(s);if(u){let m=t.indexOf(u);t.splice(m+1,0,i),a=!0;break}s=this.driver.getParentElement(s)}a||t.unshift(i)}else t.push(i);return r.set(e,i),i}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t}registerTrigger(i,e,t){let r=this._namespaceLookup[i];r&&r.register(e,t)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let r=this._namespaceList.indexOf(t);r>=0&&this._namespaceList.splice(r,1),t.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,t=this.statesByElement.get(i);if(t){for(let r of t.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(i,e,t,r){if(P7(e)){let o=this._fetchNamespace(i);if(o)return o.trigger(e,t,r),!0}return!1}insertNode(i,e,t,r){if(!P7(e))return;let o=e[l2];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(i){let a=this._fetchNamespace(i);a&&a.insertNode(e,t)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ui(i,Rv)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),b3(i,Rv))}removeNode(i,e,t){if(P7(e)){let r=i?this._fetchNamespace(i):null;r?r.removeNode(e,t):this.markElementAsRemoved(i,e,!1,t);let o=this.namespacesByHostElement.get(e);o&&o.id!==i&&o.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(i,e,t,r,o){this.collectedLeaveElements.push(e),e[l2]={namespaceId:i,setForRemoval:r,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,t,r,o){return P7(e)?this._fetchNamespace(i).listen(e,t,r,o):()=>{}}_buildInstruction(i,e,t,r,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,r,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,sl,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,z7,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Wr(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[l2];if(e&&e.setForRemoval){if(i[l2]=CN,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(Rv)&&this.markElementAsDisabled(i,!1),this.driver.query(i,$ae,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,r)=>this._balanceNamespaceList(t,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let r=this.collectedEnterElements[t];Ui(r,Wae)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i)}finally{for(let r=0;r<t.length;r++)t[r]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let r=this.collectedLeaveElements[t];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?Wr(e).onDone(()=>{t.forEach(r=>r())}):t.forEach(r=>r())}}reportError(i){throw tN(i)}_flushAnimations(i,e){let t=new dl,r=[],o=new Map,a=[],s=new Map,u=new Map,m=new Map,_=new Set;this.disabledNodes.forEach(se=>{_.add(se);let ge=this.driver.query(se,qae,!0);for(let _e=0;_e<ge.length;_e++)_.add(ge[_e])});let y=this.bodyNode,E=Array.from(this.statesByElement.keys()),I=gN(E,this.collectedEnterElements),A=new Map,R=0;I.forEach((se,ge)=>{let _e=kv+R++;A.set(ge,_e),se.forEach(Ge=>Ui(Ge,_e))});let F=[],W=new Set,ee=new Set;for(let se=0;se<this.collectedLeaveElements.length;se++){let ge=this.collectedLeaveElements[se],_e=ge[l2];_e&&_e.setForRemoval&&(F.push(ge),W.add(ge),_e.hasAnimation?this.driver.query(ge,Gae,!0).forEach(Ge=>W.add(Ge)):ee.add(ge))}let te=new Map,ae=gN(E,Array.from(W));ae.forEach((se,ge)=>{let _e=D7+R++;te.set(ge,_e),se.forEach(Ge=>Ui(Ge,_e))}),i.push(()=>{I.forEach((se,ge)=>{let _e=A.get(ge);se.forEach(Ge=>b3(Ge,_e))}),ae.forEach((se,ge)=>{let _e=te.get(ge);se.forEach(Ge=>b3(Ge,_e))}),F.forEach(se=>{this.processLeaveNode(se)})});let Se=[],tt=[];for(let se=this._namespaceList.length-1;se>=0;se--)this._namespaceList[se].drainQueuedTransitions(e).forEach(_e=>{let Ge=_e.player,Ct=_e.element;if(Se.push(Ge),this.collectedEnterElements.length){let un=Ct[l2];if(un&&un.setForMove){if(un.previousTriggersValues&&un.previousTriggersValues.has(_e.triggerName)){let ji=un.previousTriggersValues.get(_e.triggerName),B1=this.statesByElement.get(_e.element);if(B1&&B1.has(_e.triggerName)){let Yr=B1.get(_e.triggerName);Yr.value=ji,B1.set(_e.triggerName,Yr)}}Ge.destroy();return}}let Xn=!y||!this.driver.containsElement(y,Ct),dn=te.get(Ct),u2=A.get(Ct),vt=this._buildInstruction(_e,t,u2,dn,Xn);if(vt.errors&&vt.errors.length){tt.push(vt);return}if(Xn){Ge.onStart(()=>Zo(Ct,vt.fromStyles)),Ge.onDestroy(()=>c2(Ct,vt.toStyles)),r.push(Ge);return}if(_e.isFallbackTransition){Ge.onStart(()=>Zo(Ct,vt.fromStyles)),Ge.onDestroy(()=>c2(Ct,vt.toStyles)),r.push(Ge);return}let Gr=[];vt.timelines.forEach(un=>{un.stretchStartingKeyframe=!0,this.disabledNodes.has(un.element)||Gr.push(un)}),vt.timelines=Gr,t.append(Ct,vt.timelines);let ml={instruction:vt,player:Ge,element:Ct};a.push(ml),vt.queriedElements.forEach(un=>ii(s,un,[]).push(Ge)),vt.preStyleProps.forEach((un,ji)=>{if(un.size){let B1=u.get(ji);B1||u.set(ji,B1=new Set),un.forEach((Yr,Jo)=>B1.add(Jo))}}),vt.postStyleProps.forEach((un,ji)=>{let B1=m.get(ji);B1||m.set(ji,B1=new Set),un.forEach((Yr,Jo)=>B1.add(Jo))})});if(tt.length){let se=[];tt.forEach(ge=>{se.push(nN(ge.triggerName,ge.errors))}),Se.forEach(ge=>ge.destroy()),this.reportError(se)}let nt=new Map,jt=new Map;a.forEach(se=>{let ge=se.element;t.has(ge)&&(jt.set(ge,ge),this._beforeAnimationBuild(se.player.namespaceId,se.instruction,nt))}),r.forEach(se=>{let ge=se.element;this._getPreviousPlayers(ge,!1,se.namespaceId,se.triggerName,null).forEach(Ge=>{ii(nt,ge,[]).push(Ge),Ge.destroy()})});let Nt=F.filter(se=>vN(se,u,m)),M1=new Map;hN(M1,this.driver,ee,m,Oi).forEach(se=>{vN(se,u,m)&&Nt.push(se)});let $e=new Map;I.forEach((se,ge)=>{hN($e,this.driver,new Set(se),u,e3)}),Nt.forEach(se=>{let ge=M1.get(se),_e=$e.get(se);M1.set(se,new Map([...ge?.entries()??[],..._e?.entries()??[]]))});let d2=[],pl=[],C3={};a.forEach(se=>{let{element:ge,player:_e,instruction:Ge}=se;if(t.has(ge)){if(_.has(ge)){_e.onDestroy(()=>c2(ge,Ge.toStyles)),_e.disabled=!0,_e.overrideTotalTime(Ge.totalTime),r.push(_e);return}let Ct=C3;if(jt.size>1){let dn=ge,u2=[];for(;dn=dn.parentNode;){let vt=jt.get(dn);if(vt){Ct=vt;break}u2.push(dn)}u2.forEach(vt=>jt.set(vt,Ct))}let Xn=this._buildAnimation(_e.namespaceId,Ge,nt,o,$e,M1);if(_e.setRealPlayer(Xn),Ct===C3)d2.push(_e);else{let dn=this.playersByElement.get(Ct);dn&&dn.length&&(_e.parentPlayer=Wr(dn)),r.push(_e)}}else Zo(ge,Ge.fromStyles),_e.onDestroy(()=>c2(ge,Ge.toStyles)),pl.push(_e),_.has(ge)&&r.push(_e)}),pl.forEach(se=>{let ge=o.get(se.element);if(ge&&ge.length){let _e=Wr(ge);se.setRealPlayer(_e)}}),r.forEach(se=>{se.parentPlayer?se.syncPlayerEvents(se.parentPlayer):se.destroy()});for(let se=0;se<F.length;se++){let ge=F[se],_e=ge[l2];if(b3(ge,D7),_e&&_e.hasAnimation)continue;let Ge=[];if(s.size){let Xn=s.get(ge);Xn&&Xn.length&&Ge.push(...Xn);let dn=this.driver.query(ge,z7,!0);for(let u2=0;u2<dn.length;u2++){let vt=s.get(dn[u2]);vt&&vt.length&&Ge.push(...vt)}}let Ct=Ge.filter(Xn=>!Xn.destroyed);Ct.length?Jae(this,ge,Ct):this.processLeaveNode(ge)}return F.length=0,d2.forEach(se=>{this.players.push(se),se.onDone(()=>{se.destroy();let ge=this.players.indexOf(se);this.players.splice(ge,1)}),se.play()}),d2}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,t,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(i);s&&(a=s)}else{let s=this.playersByElement.get(i);if(s){let u=!o||o==ll;s.forEach(m=>{m.queued||!u&&m.triggerName!=r||a.push(m)})}}return(t||r)&&(a=a.filter(s=>!(t&&t!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(i,e,t){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:i,s=e.isRemovalTransition?void 0:r;for(let u of e.timelines){let m=u.element,_=m!==o,y=ii(t,m,[]);this._getPreviousPlayers(m,_,a,s,e.toState).forEach(I=>{let A=I.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),I.destroy(),y.push(I)})}Zo(o,e.fromStyles)}_buildAnimation(i,e,t,r,o,a){let s=e.triggerName,u=e.element,m=[],_=new Set,y=new Set,E=e.timelines.map(A=>{let R=A.element;_.add(R);let F=R[l2];if(F&&F.removedBeforeQueried)return new H2(A.duration,A.delay);let W=R!==u,ee=ese((t.get(R)||Yae).map(nt=>nt.getRealPlayer())).filter(nt=>{let jt=nt;return jt.element?jt.element===R:!1}),te=o.get(R),ae=a.get(R),Se=Tv(this._normalizer,A.keyframes,te,ae),tt=this._buildPlayer(A,Se,ee);if(A.subTimeline&&r&&y.add(R),W){let nt=new fl(i,s,R);nt.setRealPlayer(tt),m.push(nt)}return tt});m.forEach(A=>{ii(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>Kae(this.playersByQueriedElement,A.element,A))}),_.forEach(A=>Ui(A,Av));let I=Wr(E);return I.onDestroy(()=>{_.forEach(A=>b3(A,Av)),c2(u,e.toStyles)}),y.forEach(A=>{ii(r,A,[]).push(I)}),I}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new H2(i.duration,i.delay)}},fl=class{namespaceId;triggerName;element;_player=new H2;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(r=>E7(i,t,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){ii(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function Kae(n,i,e){let t=n.get(i);if(t){if(t.length){let r=t.indexOf(e);t.splice(r,1)}t.length==0&&n.delete(i)}return t}function Xae(n){return n??null}function P7(n){return n&&n.nodeType===1}function Zae(n){return n=="start"||n=="done"}function mN(n,i){let e=n.style.display;return n.style.display=i??"none",e}function hN(n,i,e,t,r){let o=[];e.forEach(u=>o.push(mN(u)));let a=[];t.forEach((u,m)=>{let _=new Map;u.forEach(y=>{let E=i.computeStyle(m,y,r);_.set(y,E),(!E||E.length==0)&&(m[l2]=Qae,a.push(m))}),n.set(m,_)});let s=0;return e.forEach(u=>mN(u,o[s++])),a}function gN(n,i){let e=new Map;if(n.forEach(s=>e.set(s,[])),i.length==0)return e;let t=1,r=new Set(i),o=new Map;function a(s){if(!s)return t;let u=o.get(s);if(u)return u;let m=s.parentNode;return e.has(m)?u=m:r.has(m)?u=t:u=a(m),o.set(s,u),u}return i.forEach(s=>{let u=a(s);u!==t&&e.get(u).push(s)}),e}function Ui(n,i){n.classList?.add(i)}function b3(n,i){n.classList?.remove(i)}function Jae(n,i,e){Wr(e).onDone(()=>n.processLeaveNode(i))}function ese(n){let i=[];return wN(n,i),i}function wN(n,i){for(let e=0;e<n.length;e++){let t=n[e];t instanceof es?wN(t.players,i):i.push(t)}}function tse(n,i){let e=Object.keys(n),t=Object.keys(i);if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!i.hasOwnProperty(o)||n[o]!==i[o])return!1}return!0}function vN(n,i,e){let t=e.get(n);if(!t)return!1;let r=i.get(n);return r?t.forEach(o=>r.add(o)):i.set(n,t),e.delete(n),!0}var x3=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,t){this._driver=e,this._normalizer=t,this._transitionEngine=new Qv(i.body,e,t),this._timelineEngine=new Gv(i.body,e,t),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(i,e,t,r,o){let a=i+"-"+r,s=this._triggerCache[a];if(!s){let u=[],m=[],_=_N(this._driver,o,u,m);if(u.length)throw WA(r,u);s=Uae(r,_,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,t,r){this._transitionEngine.insertNode(i,e,t,r)}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,t,r){if(t.charAt(0)=="@"){let[o,a]=Iv(t),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(i,e,t,r)}listen(i,e,t,r,o){if(t.charAt(0)=="@"){let[a,s]=Iv(t);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(i,e,t,r,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function nse(n,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=Bv(i[0]),i.length>1&&(t=Bv(i[i.length-1]))):i instanceof Map&&(e=Bv(i)),e||t?new ise(n,e,t):null}var ise=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&c2(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(c2(this._element,this._initialStyles),this._endStyles&&(c2(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zo(this._element,this._endStyles),this._endStyles=null),c2(this._element,this._initialStyles),this._state=3)}}return n})();function Bv(n){let i=null;return n.forEach((e,t)=>{rse(t)&&(i=i||new Map,i.set(t,e))}),i}function rse(n){return n==="display"||n==="position"}var j7=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,e,t,r){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=r,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let i=this.keyframes,e=this._triggerWebAnimation(this.element,i,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=i.length?i[i.length-1]:new Map;let t=()=>this._onFinish();return e.addEventListener("finish",t),this.onDestroy(()=>{e.removeEventListener("finish",t)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(i,e,t){let r=this._convertKeyframesToObject(e);try{return i.animate(r,t)}catch{return null}}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){let i=this._buildPlayer();i&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),i.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=i*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,r)=>{r!=="offset"&&i.set(r,this._finished?t:k7(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},H7=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return Dv(i,e)}getParentElement(i){return I7(i)}query(i,e,t){return zv(i,e,t)}computeStyle(i,e,t){return k7(i,e)}animate(i,e,t,r,o,a=[]){let s=r==0?"both":"forwards",u={duration:t,delay:r,fill:s};o&&(u.easing=o);let m=new Map,_=a.filter(I=>I instanceof j7);aN(t,r)&&_.forEach(I=>{I.currentSnapshot.forEach((A,R)=>m.set(R,A))});let y=rN(e).map(I=>new Map(I));y=sN(i,y,m);let E=nse(i,y);return new j7(i,y,u,E)}};var O7="@",SN="@.disabled",q7=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,e,t,r){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,t,r=!0){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,t,r){if(r){this.delegate.removeChild(i,e,t,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,r){this.delegate.setAttribute(i,e,t,r)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,r){this.delegate.setStyle(i,e,t,r)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){e.charAt(0)==O7&&e==SN?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t,r){return this.delegate.listen(i,e,t,r)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},Kv=class extends q7{factory;constructor(i,e,t,r,o){super(e,t,r,o),this.factory=i,this.namespaceId=e}setProperty(i,e,t){e.charAt(0)==O7?e.charAt(1)=="."&&e==SN?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t)}listen(i,e,t,r){if(e.charAt(0)==O7){let o=ose(i),a=e.slice(1),s="";return a.charAt(0)!=O7&&([a,s]=ase(a)),this.engine.listen(this.namespaceId,o,a,s,u=>{let m=u._data||-1;this.factory.scheduleListenerCallback(m,t,u)})}return this.delegate.listen(i,e,t,r)}};function ose(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function ase(n){let i=n.indexOf("."),e=n.substring(0,i),t=n.slice(i+1);return[e,t]}var $7=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(i,e){let r=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let m=this._rendererCache,_=m.get(r);if(!_){let y=()=>m.delete(r);_=new q7("",r,this.engine,y),m.set(r,_)}return _}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);let s=m=>{Array.isArray(m)?m.forEach(s):this.engine.registerTrigger(o,a,i,m.name,m)};return e.data.animation.forEach(s),new Kv(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){this.engine.flush(),this.delegate.componentReplaced?.(i)}};var cse=(()=>{class n extends x3{constructor(e,t,r){super(e,t,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(t){return new(t||n)(H(J),H(ms),H(hs))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function lse(){return new R7}function dse(n,i,e){return new $7(n,i,e)}var MN=[{provide:hs,useFactory:lse},{provide:x3,useClass:cse},{provide:mn,useFactory:dse,deps:[N4,x3,ce]}],use=[{provide:ms,useClass:Xv},{provide:po,useValue:"NoopAnimations"},...MN],Jv=[{provide:ms,useFactory:()=>new H7},{provide:po,useFactory:()=>"BrowserAnimations"},...MN],EN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?use:Jv}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ke({type:n});static \u0275inj=ze({providers:Jv,imports:[Kp]})}return n})();function TN(){return Ei("NgEagerAnimations"),[...Jv]}var IN=(()=>{let i=class i{constructor(t,r){this.authUserService=t,this.router=r}intercept(t,r){if(this.authUserService.isLoggingOut())return console.warn("HTTP request blocked - user is logging out:",t.url),Ln;let o=this.authUserService.getToken(),a=t;return o&&(a=t.clone({headers:t.headers.set("Authorization",`Bearer ${o}`)})),r.handle(a).pipe(Qe(s=>s.status===401||s.status===403?(this.authUserService.isLoggingOut()||(this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"session-expired"}})),Ln):h2(()=>s)))}};i.\u0275fac=function(r){return new(r||i)(H(Yn),H(gt))},i.\u0275prov=O({token:i,factory:i.\u0275fac});let n=i;return n})();function fse(n){return()=>n.loadConfig()}var DN={providers:[EN,Am(DA),TN(),dk({timeOut:1e4,positionClass:"toast-top-right",preventDuplicates:!0}),B3(nm),{provide:c8,useClass:IN,multi:!0},{provide:m4,useFactory:fse,deps:[Eo],multi:!0},{provide:z2,useValue:"en-IN"},B3(m3.forRoot({echarts:()=>import("./chunk-YLU2DWVH.js")}))]};function pse(n,i){if(n&1&&(He(0),c(1,"div",3)(2,"div",4)(3,"span",5),f(4),l(),c(5,"span",6),f(6),N(7,"number"),l()(),c(8,"span",7),f(9),N(10,"number"),c(11,"span",8),f(12),N(13,"percent"),l()()(),qe()),n&2){let e=i.$implicit,t=g(2);d(4),k(" ",e.symbol," "),d(),p("ngClass",t.color(e.change)),d(),k(" ",B(7,13,e.lastTradedPrice,"1.2-2")," "),d(2),ne("text-green-600",e.change>0)("text-red-600",e.change<0),d(),k(" ",B(10,16,e.change,"1.2-2")," "),d(2),ne("bg-green-50",e.percentChange>0)("bg-red-50",e.percentChange<0),d(),k(" ",B(13,19,e.percentChange/100,"1.2-2")," ")}}function mse(n,i){if(n&1&&(c(0,"div",1),x(1,pse,14,22,"ng-container",2),l()),n&2){let e=g();d(),p("ngForOf",e.quotes)}}var zN=(()=>{let i=class i{constructor(){this.quotes=[]}color(t){return t>0?"text-green-600":t<0?"text-red-600":""}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=U({type:i,selectors:[["app-index-ticker"]],inputs:{quotes:"quotes",showTickers:"showTickers"},decls:1,vars:1,consts:[["class","index-ticker flex items-center gap-3 text-sm whitespace-nowrap",4,"ngIf"],[1,"index-ticker","flex","items-center","gap-3","text-sm","whitespace-nowrap"],[4,"ngFor","ngForOf"],[1,"ticker-item","flex","flex-col","items-start"],[1,"ticker-symbol","flex","items-center","gap-2","font-normal"],[1,"symbol","text-gray-700","uppercase"],[1,"price",3,"ngClass"],[1,"font-normal","text-gray-600"],[1,"text-sm","rounded-md","px-1","py-[1px]"]],template:function(r,o){r&1&&x(0,mse,2,1,"div",0),r&2&&p("ngIf",o.showTickers)},dependencies:[le,oe,Q,mt,Qt],encapsulation:2});let n=i;return n})();var hse=["header"],gse=["menuTrigger"],vse=["profileTrigger"],yse=(n,i,e)=>({"bg-green-100 text-green-600":n,"bg-red-100 text-red-600":i,"bg-yellow-100 text-yellow-600":e});function _se(n,i){n&1&&M(0,"div",51)}function bse(n,i){if(n&1){let e=V();c(0,"a",58),C("click",function(){w(e);let r=g(2);return S(r.closeMoreMenu())}),c(1,"span"),f(2,"Administration"),l()()}}function xse(n,i){if(n&1){let e=V();c(0,"div",45)(1,"a",46),C("click",function(){w(e);let r=g();return S(r.closeMoreMenu())}),f(2," IPO "),l(),c(3,"a",47),C("click",function(){w(e);let r=g();return S(r.closeMoreMenu())}),c(4,"span"),f(5,"Mutual Funds"),l()(),c(6,"a",48),C("click",function(){w(e);let r=g();return S(r.closeMoreMenu())}),f(7," Algo "),l(),c(8,"a",49),C("click",function(){w(e);let r=g();return S(r.closeMoreMenu())}),c(9,"span"),f(10,"Algo"),l()(),c(11,"a",50),C("click",function(){w(e);let r=g();return S(r.closeMoreMenu())}),c(12,"span"),f(13,"IPO"),l()(),M(14,"div",51),c(15,"a",52),C("click",function(){w(e);let r=g();return S(r.closeMoreMenu())}),c(16,"span"),f(17,"Funds"),l()(),c(18,"a",53),C("click",function(){w(e);let r=g();return S(r.closeMoreMenu())}),c(19,"span"),f(20,"Historical Data"),l()(),c(21,"a",54),C("click",function(){w(e);let r=g();return S(r.logout())}),M(22,"fa-icon",55),c(23,"span"),f(24,"Logout"),l()(),x(25,_se,1,0,"div",56)(26,bse,3,0,"a",57),l()}if(n&2){let e=g();d(22),p("icon",e.faSignOutAlt),d(3),p("ngIf",e.isAdmin()),d(),p("ngIf",e.isAdmin())}}function Cse(n,i){if(n&1&&(c(0,"a",59),M(1,"fa-icon",15),l()),n&2){let e=g();p("matTooltip","Administration"),d(),p("icon",e.faGear)}}var LN=(()=>{let i=class i{constructor(t,r,o,a,s,u,m,_){this.authUserService=t,this.ws=r,this.toastrService=o,this.router=a,this.userDataStateService=s,this.dialog=u,this.document=m,this.overlay=_,this.instrumentTokens=[],this.indexTickers=[{symbol:"NIFTY 50",instrumentToken:256265,lastTradedPrice:0,change:0,percentChange:0},{symbol:"SENSEX",instrumentToken:265,lastTradedPrice:0,change:0,percentChange:0}],this.showTickers=!0,this.lastFeedTimestamp=0,this.lastFeedChangedTimestamp=0,this.feedStatus="idle",this.heightCheckAttempts=0,this.maxHeightCheckAttempts=20,this.showMoreMenu=!1,this.faSignOutAlt=ST,this.faChevronDown=AT,this.faUserTie=cT,this.faCircleExclamation=bT,this.faCircle=_T,this.faHome=DT,this.faCartPlus=_c,this.faWallet=j0,this.faChartLine=md,this.faListCheck=$0,this.faStar=OT,this.faGear=wT,this.instrumentTokens=this.indexTickers.map(y=>y.instrumentToken)}checkFeedStatus(){let t=Date.now(),r=5*1e3,o=60*1e3;if(this.lastFeedTimestamp===0){this.feedStatus="disconnected";return}let a=t-this.lastFeedTimestamp,s=t-this.lastFeedChangedTimestamp;a>o?this.feedStatus="disconnected":s>r?this.feedStatus="idle":this.feedStatus="live"}isAdmin(){return this.authUserService.isAdmin()}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&t.indexTickers&&(this.indexTickers=t.indexTickers)}setCachedData(){this.userDataStateService.setState({indexTickers:this.indexTickers})}ngOnInit(){this.getCachedData(),this.subscribeToWebSocket(),this.statusCheckInterval=setInterval(()=>{this.checkFeedStatus()},1e4)}ngAfterViewInit(){this.updateHeaderHeight(),this.startPeriodicHeightCheck()}startPeriodicHeightCheck(){this.heightCheckAttempts=0,this.heightCheckInterval=setInterval(()=>{this.heightCheckAttempts++,this.updateHeaderHeight(),this.heightCheckAttempts>=this.maxHeightCheckAttempts&&clearInterval(this.heightCheckInterval)},100)}updateHeaderHeight(){if(this.headerElement?.nativeElement){let t=this.headerElement.nativeElement.offsetHeight;if(t===0)return;let r=parseInt(getComputedStyle(this.document.documentElement).getPropertyValue("--header-height")||"43");Math.abs(t-r)>1&&(this.document.documentElement.style.setProperty("--header-height",`${t}px`),console.log(`Header height updated: ${t}px (attempt ${this.heightCheckAttempts})`))}}disconnect(){this.ws.unsubscribe(this.instrumentTokens)}ngOnDestroy(){this.statusCheckInterval&&clearInterval(this.statusCheckInterval),this.headerHeightUpdateTimeout&&clearTimeout(this.headerHeightUpdateTimeout),this.heightCheckInterval&&clearInterval(this.heightCheckInterval),this.ws.unsubscribe(this.instrumentTokens),this.sub?.unsubscribe(),this.orderSub?.unsubscribe()}subscribeToWebSocket(){this.instrumentTokens.length>0?(this.ws.connectionState().pipe(be(t=>t),We(1)).subscribe(()=>{this.ws.subscribe(this.instrumentTokens)}),this.sub=this.ws.ticks().subscribe(t=>{this.updateIndexTickerOnUpdate(t)}),this.orderSub=this.ws.orderUpdates().subscribe(t=>{console.log("Received order update:",t),this.playOrderNotificationSound();let r=this.toastrService.info(`Account ID:${t.user_id}. ${t.transaction_type} order with
        quantity ${t.quantity} and price ${t.price} is ${t.status}. Order ID:${t.order_id}.`,"Order Update",{timeOut:0,extendedTimeOut:0,closeButton:!0,tapToDismiss:!0}),o=this.router.url;o.includes("/holdings")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/holdings"])}):o.includes("/orders")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/orders"])}):o.includes("/positions")?this.router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/positions"])}):console.log("No matching route found for refresh."),r.onTap.subscribe(()=>{})})):console.log("No instrument tokens available for web socket subscription.")}updateIndexTickerOnUpdate(t){t.forEach(r=>{this.lastFeedTimestamp=Date.now(),this.indexTickers.filter(a=>a.instrumentToken===r.instrumentToken).forEach(a=>{this.showTickers=!0,a&&a.lastTradedPrice!==r.lastTradedPrice&&(this.lastFeedChangedTimestamp=Date.now(),this.feedStatus="live",a.lastTradedPrice=r.lastTradedPrice,a.change=r.lastTradedPrice-r.closePrice,a.percentChange=r.change)})}),this.setCachedData()}closeMoreMenu(){this.showMoreMenu=!1}onDocumentClick(t){let r=this.menuTrigger?.nativeElement,o=r?.nextElementSibling;!r||!o||this.showMoreMenu&&!r.contains(t.target)&&!o.contains(t.target)&&this.closeMoreMenu()}toggleMoreMenu(){this.showMoreMenu=!this.showMoreMenu}logout(){this.closeMoreMenu(),this.authUserService.logout(),this.router.navigate(["/login"],{queryParams:{reason:"logged-out"}})}playOrderNotificationSound(){try{let t=new window.AudioContext||new window.webkitAudioContext,r=t.createOscillator(),o=t.createGain();r.connect(o),o.connect(t.destination),r.frequency.value=1200,r.type="sine",o.gain.setValueAtTime(.3,t.currentTime),o.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),r.start(t.currentTime),r.stop(t.currentTime+.2)}catch(t){console.error("Error playing notification sound:",t)}}};i.\u0275fac=function(r){return new(r||i)(D(Yn),D(Qn),D(xe),D(gt),D(Dt),D(Zt),D(J),D(b1))},i.\u0275cmp=U({type:i,selectors:[["app-header"]],viewQuery:function(r,o){if(r&1&&(Ft(hse,7),Ft(gse,5),Ft(vse,5)),r&2){let a;ft(a=pt())&&(o.headerElement=a.first),ft(a=pt())&&(o.menuTrigger=a.first),ft(a=pt())&&(o.profileTrigger=a.first)}},hostBindings:function(r,o){r&1&&C("click",function(s){return o.onDocumentClick(s)},l4)},decls:77,vars:35,consts:[["header",""],["menuTrigger",""],[1,"header","fixed","top-0","left-0","w-full","z-50","bg-white","shadow-sm","border-b","border-gray-200"],[1,"mx-auto","px-4","py-1"],[1,"flex","items-center","justify-between","gap-6"],[1,"flex","items-center","gap-6","flex-1","min-w-0"],[1,"flex","items-center","gap-2","flex-shrink-0"],["ngSrc","assets/images/app-logo.jpg","alt","FamVest Logo","width","40","height","40",1,"w-9","h-9","rounded-lg","object-contain"],[1,"hidden","md:flex","flex-col","justify-center"],[1,"text-md","font-medium","text-gray-800","leading-tight"],[1,"text-sm","text-gray-500","leading-tight"],[1,"flex-1","min-w-0","overflow-x-auto","scrollbar-hide"],[3,"quotes","showTickers"],[1,"flex","items-center","gap-1"],["routerLink","/home","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],[1,"text-base",3,"icon"],[1,"hidden","lg:inline"],["routerLink","/holdings","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/positions","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/orders","routerLinkActive","active-link",1,"nav-link","hidden","md:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],["routerLink","/mf","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all"],[1,"relative"],[1,"nav-link","flex","items-center","gap-1","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],[1,"md:inline","hidden"],[1,"text-xs","transition-transform","duration-200",3,"icon"],["class","absolute right-0 mt-2 w-56 bg-white shadow-xl rounded-lg border border-gray-200 py-2 z-50",4,"ngIf"],["routerLink","/basket-order","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"],["routerLink","/profile","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"],["routerLink","/administration","routerLinkActive","active-link","matTooltipPosition","below","class","nav-link hidden md:flex items-center gap-2 pb-2 px-4 py-2 text-sm text-gray-700 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-all",3,"matTooltip",4,"ngIf"],["matTooltipPosition","below",1,"flex","items-center","gap-1.5","px-2","py-1","rounded-lg","transition-all","cursor-default","ml-1",3,"ngClass","matTooltip"],[1,"text-xs",3,"icon"],[1,"hidden","xl:inline","text-xs"],["matTooltipPosition","below",1,"hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-red-600","rounded-lg","hover:bg-red-50","transition-all","ml-1",3,"click","matTooltip"],[1,"hidden","xl:inline"],[1,"md:hidden","fixed","bottom-0","left-0","w-full","bg-white","shadow-lg","border-t","border-gray-200","z-50","pb-[env(safe-area-inset-bottom)]"],[1,"flex","items-center","justify-between","px-0","py-0"],["routerLink","/home","routerLinkActive","!bg-blue-50 !text-blue-600 ",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],[1,"text-lg",3,"icon"],[1,"text-xs"],["routerLink","/watchlist","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/holdings","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/positions","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/orders","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/basket-order","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],["routerLink","/profile","routerLinkActive","!bg-blue-50 !text-blue-600",1,"nav-link","flex-1","flex","flex-col","items-center","justify-center","gap-1","px-1","py-1.5","rounded-md","transition-all","text-gray-600","hover:bg-blue-50","hover:text-blue-600"],[1,"absolute","right-0","mt-2","w-56","bg-white","shadow-xl","rounded-lg","border","border-gray-200","py-2","z-50"],["routerLink","/ipos","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],["routerLink","/mf","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/algo","routerLinkActive","active-link",1,"nav-link","hidden","lg:flex","items-center","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"click"],["routerLink","/algo","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/ipos","routerLinkActive","active-link",1,"lg:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],[1,"md:hidden","border-t","border-gray-200","my-2"],["routerLink","/funds","routerLinkActive","active-link",1,"nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/historical-data","routerLinkActive","active-link",1,"nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],[1,"md:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-red-600","hover:bg-red-50","transition-colors","cursor-pointer",3,"click"],[1,"w-4",3,"icon"],["class","md:hidden border-t border-gray-200 my-2",4,"ngIf"],["routerLink","/administration","routerLinkActive","active-link","class","md:hidden nav-link flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",3,"click",4,"ngIf"],["routerLink","/administration","routerLinkActive","active-link",1,"md:hidden","nav-link","flex","items-center","gap-3","px-4","py-2","text-sm","text-gray-700","hover:bg-blue-50","hover:text-blue-600","transition-colors",3,"click"],["routerLink","/administration","routerLinkActive","active-link","matTooltipPosition","below",1,"nav-link","hidden","md:flex","items-center","gap-2","pb-2","px-4","py-2","text-sm","text-gray-700","rounded-lg","hover:bg-blue-50","hover:text-blue-600","transition-all",3,"matTooltip"]],template:function(r,o){if(r&1){let a=V();c(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),M(6,"img",7),c(7,"div",8)(8,"span",9),f(9,"FamVest"),l(),c(10,"span",10),f(11,"Portfolio Manager"),l()()(),c(12,"div",11),M(13,"app-index-ticker",12),l()(),c(14,"nav",13)(15,"a",14),M(16,"fa-icon",15),c(17,"span",16),f(18,"Dashboard"),l()(),c(19,"a",17),f(20," Holdings "),l(),c(21,"a",18),f(22," Positions "),l(),c(23,"a",19),f(24," Orders "),l(),c(25,"a",20),f(26," Mutual Funds "),l(),c(27,"div",21)(28,"button",22,1),C("click",function(){return w(a),S(o.toggleMoreMenu())}),c(30,"span",23),f(31,"More"),l(),M(32,"fa-icon",24),l(),x(33,xse,27,3,"div",25),l(),c(34,"a",26),M(35,"fa-icon",15),l(),c(36,"a",27),M(37,"fa-icon",15),l(),x(38,Cse,2,2,"a",28),c(39,"div",29),M(40,"fa-icon",30),c(41,"span",31),f(42),l()(),c(43,"button",32),C("click",function(){return w(a),S(o.logout())}),M(44,"fa-icon",15),c(45,"span",33),f(46,"Logout"),l()()()()()(),c(47,"div",34)(48,"div",35)(49,"a",36),M(50,"fa-icon",37),c(51,"span",38),f(52,"Dashboard"),l()(),c(53,"a",39),M(54,"fa-icon",37),c(55,"span",38),f(56,"Watchlist"),l()(),c(57,"a",40),M(58,"fa-icon",37),c(59,"span",38),f(60,"Holdings"),l()(),c(61,"a",41),M(62,"fa-icon",37),c(63,"span",38),f(64,"Positions"),l()(),c(65,"a",42),M(66,"fa-icon",37),c(67,"span",38),f(68,"Orders"),l()(),c(69,"a",43),M(70,"fa-icon",37),c(71,"span",38),f(72,"Basket"),l()(),c(73,"a",44),M(74,"fa-icon",37),c(75,"span",38),f(76,"Profile"),l()()()()}r&2&&(d(13),p("quotes",o.indexTickers)("showTickers",o.showTickers),d(3),p("icon",o.faHome),d(12),ne("bg-blue-50",o.showMoreMenu)("text-blue-600",o.showMoreMenu),d(4),ne("rotate-180",o.showMoreMenu),p("icon",o.faChevronDown),d(),p("ngIf",o.showMoreMenu),d(),p("matTooltip","Basket Order"),d(),p("icon",o.faCartPlus),d(),p("matTooltip","Add Trading Accounts, Manage Preferences and Update Profile"),d(),p("icon",o.faUserTie),d(),p("ngIf",o.isAdmin()),d(),p("ngClass",Tt(31,yse,o.feedStatus==="live",o.feedStatus==="disconnected",o.feedStatus==="idle"))("matTooltip",o.feedStatus==="live"?"Market is Open":o.feedStatus==="idle"?"Market is Closed":"Market Feed Disconnected"),d(),ne("animate-pulse",o.feedStatus==="live"),p("icon",o.feedStatus==="live"?o.faCircle:o.faCircleExclamation),d(2),k(" ",o.feedStatus==="live"?"Open":o.feedStatus==="idle"?"Closed":"Offline"," "),d(),p("matTooltip","Logout"),d(),p("icon",o.faSignOutAlt),d(6),p("icon",o.faHome),d(4),p("icon",o.faStar),d(4),p("icon",o.faWallet),d(4),p("icon",o.faChartLine),d(4),p("icon",o.faListCheck),d(4),p("icon",o.faCartPlus),d(4),p("icon",o.faUserTie))},dependencies:[Ba,Y1,km,p1,he,le,Q,zN,we,Xe],encapsulation:2});let n=i;return n})();function wse(n){let i=n,e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var kN=["en-IN",[["a","p"],["am","pm"]],[["am","pm"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[0,0],["dd/MM/yy","dd-MMM-y","d MMMM y","EEEE, d MMMM, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##,##0.###","#,##,##0%","\xA4#,##,##0.00","#E0"],"INR","\u20B9","Indian Rupee",{JPY:["JP\xA5","\xA5"]},"ltr",wse];var Sse=(n,i)=>({"w-[75%]":n,"w-full":i}),Mse=(n,i)=>({"w-[25%]":n,"w-0":i});function Ese(n,i){n&1&&M(0,"app-header")}function Tse(n,i){if(n&1){let e=V();c(0,"div",5)(1,"app-watchlist",6),C("collapseChanged",function(r){w(e);let o=g();return S(o.onCollapseChanged(r))}),l()()}if(n&2){let e=g();p("ngClass",Ae(1,Mse,!e.isWatchlistCollapsed,e.isWatchlistCollapsed))}}Vw(kN,"en-IN");var AN=(()=>{let i=class i{constructor(t,r,o,a,s,u){this.router=t,this.activatedRoute=r,this.titleService=o,this.authUserService=a,this.userPreferencesService=s,this.userDataStateService=u,this.isAuthenticated=!1,this.isWatchlistCollapsed=!1,this.isWatchlistRoute=!1,this.themeClass="from-gray-50",this.themeMap={BLUE:"from-blue-50",PINK:"from-pink-50",GREEN:"from-green-50",ORANGE:"from-orange-50",YELLOW:"from-yellow-50",GRAY:"from-gray-50"},this.authUserService.authStatus$.subscribe(m=>{this.isAuthenticated=m}),this.router.events.pipe(be(m=>m instanceof P1),ye(()=>this.activatedRoute),ye(m=>{for(;m.firstChild;)m=m.firstChild;return m}),en(m=>m.data)).subscribe(m=>{this.isWatchlistRoute=this.router.url.includes("/watchlist"),this.titleService.setTitle(m.title||"FamVest App")})}onCollapseChanged(t){this.isWatchlistCollapsed=t}getCachedData(){let t=this.userDataStateService.getState();t&&Object.keys(t).length>0&&t.themeClass&&(this.themeClass=t.themeClass)}setCachedData(){this.userDataStateService.setState({themeClass:this.themeClass})}ngOnInit(){this.getCachedData(),this.isAuthenticated&&this.userPreferencesService.getUserPreferences().subscribe(t=>{let o=(t.data||[]).find(a=>a.preference==="THEME_COLOR");o&&o.value&&(this.themeClass=this.themeMap[o.value]||this.themeClass,this.setCachedData())})}};i.\u0275fac=function(r){return new(r||i)(D(gt),D(m1),D(l8),D(Yn),D(M7),D(Dt))},i.\u0275cmp=U({type:i,selectors:[["app-root"]],decls:6,vars:7,consts:[[4,"ngIf"],[1,"bg-gradient-to-b","to-white","min-h-screen","w-full",3,"ngClass"],[1,"flex","w-full","min-h-screen","text-sm"],["class","transition-all duration-300 overflow-hidden",3,"ngClass",4,"ngIf"],[1,"transition-all","duration-300",3,"ngClass"],[1,"transition-all","duration-300","overflow-hidden",3,"ngClass"],[3,"collapseChanged"]],template:function(r,o){r&1&&(x(0,Ese,1,0,"app-header",0),c(1,"div",1)(2,"div",2),x(3,Tse,2,4,"div",3),c(4,"div",4),M(5,"router-outlet"),l()()()),r&2&&(p("ngIf",o.isAuthenticated),d(),p("ngClass",o.themeClass),d(2),p("ngIf",o.isAuthenticated&&!o.isWatchlistRoute),d(),p("ngClass",Ae(4,Sse,!o.isWatchlistCollapsed&&o.isAuthenticated&&!o.isWatchlistRoute,o.isWatchlistCollapsed||!o.isAuthenticated||o.isWatchlistRoute)))},dependencies:[J4,Ba,LN,he,le,Q,aT,qo,ln,_7],encapsulation:2});let n=i;return n})();window.global=window;Qp(AN,DN).catch(n=>console.error(n));
